{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { makeHandle as t, handlesGroup as r, destroyHandle as i } from \"../../../core/handleUtils.js\";\nimport { isNone as s, isSome as a } from \"../../../core/maybe.js\";\nimport { debounce as n, isPromiseLike as o } from \"../../../core/promiseUtils.js\";\nimport { on as d } from \"../../../core/reactiveUtils.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { toExtent as p } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { MediaElementView as h } from \"../../../layers/support/mediaUtils.js\";\nimport { DrapeSourceType as c } from \"./interfaces.js\";\nimport { LayerView3D as u } from \"./LayerView3D.js\";\nimport { DRAPED_Z as y } from \"../terrain/OverlayRenderer.js\";\nimport { UpdatePolicy as _, PowerOfTwoResizeMode as g } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { Geometry as f } from \"../webgl-engine/lib/Geometry.js\";\nimport { ModelDirty as E } from \"../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { RenderGeometry as D } from \"../webgl-engine/lib/RenderGeometry.js\";\nimport { Texture as w } from \"../webgl-engine/lib/Texture.js\";\nimport { VertexAttribute as R } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { ImageMaterial as v } from \"../webgl-engine/materials/ImageMaterial.js\";\nimport T from \"../../layers/LayerView.js\";\nimport { TextureWrapMode as x } from \"../../webgl/enums.js\";\nlet b = class extends u(T) {\n  constructor() {\n    super(...arguments), this.type = \"media-3d\", this.drapeSourceType = c.RasterImage, this.updatePolicy = _.ASYNC, this._uidToElement = new Map(), this._renderedElements = new Map(), this._lastDrapingExtent = null, this._update = n(async (e, t, r) => {\n      const i = await this._collectMediaElements(e, t, r);\n\n      this._synchronizeRenderElements(i);\n    }, 0);\n  }\n\n  initialize() {\n    this._renderer = this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this), this.handles.add([t(() => this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)), d(() => this.layer.source, \"refresh\", () => this._updateWithLastDrapingExtent())]), this.updatingHandles.add(() => this.suspended, () => this._updateWithLastDrapingExtent());\n  }\n\n  setDrapingExtent(e, t) {\n    this._lastDrapingExtent = {\n      overlays: e,\n      spatialReference: t\n    }, this._updateWithLastDrapingExtent();\n  }\n\n  getHit(e) {\n    const t = this._uidToElement.get(e);\n\n    return t ? {\n      type: \"media\",\n      element: t,\n      layer: this.layer\n    } : null;\n  }\n\n  _updateWithLastDrapingExtent() {\n    if (s(this._lastDrapingExtent) || this.suspended) return void (this._renderer && this._synchronizeRenderElements(new Set()));\n    const {\n      overlays: e,\n      spatialReference: t\n    } = this._lastDrapingExtent;\n    this.updatingHandles.addPromise(this._update(e, t).catch(() => {}));\n  }\n\n  async _collectMediaElements(e, t, r) {\n    const i = this.layer.source;\n    return s(i) ? new Set() : new Set((await Promise.all(e.map(e => i.queryElements(p(e.extent, t), {\n      signal: r\n    })))).flat());\n  }\n\n  _synchronizeRenderElements(e) {\n    this._synchronizeRenderElementsRemove(e), this._synchronizeRenderElementsAdd(e);\n  }\n\n  _synchronizeRenderElementsRemove(e) {\n    const t = new Set(),\n          r = [];\n    this._renderedElements.forEach((i, s) => {\n      e.has(s) || (t.add(s), a(i.renderData) && r.push(i.renderData.renderGeometry), this._removeElement(s, i));\n    }), this._renderer.removeGeometries(r, E.Geometry.REMOVE);\n  }\n\n  _synchronizeRenderElementsAdd(e) {\n    for (const t of e) this._renderedElements.has(t) || this._createRenderElement(t);\n  }\n\n  _removeElement(e, {\n    renderData: t,\n    handle: r\n  }) {\n    this._destroyRenderData(t), this._renderedElements.delete(e), this._uidToElement.delete(e.uid), r.remove();\n  }\n\n  async _createRenderElement(e) {\n    const t = new h({\n      spatialReference: this.view.spatialReference,\n      element: e\n    }),\n          s = {\n      renderData: null,\n      handle: r([this.updatingHandles.add(() => e.opacity, e => {\n        a(s.renderData) && s.renderData.material.setParameters({\n          opacity: e\n        });\n      }), this.updatingHandles.add(() => t.coords, e => {\n        a(s.renderData) ? this._updateGeometry(s, s.renderData, e) : this._initializeRenderData(t, s);\n      }), this.updatingHandles.add(() => e.content, () => this._initializeRenderData(t, s)), i(t)])\n    };\n    this._renderedElements.set(e, s), this._uidToElement.set(e.uid, e), this.updatingHandles.addPromise(e.load().catch(() => {})), this._initializeRenderData(t, s);\n  }\n\n  _initializeRenderData(e, t) {\n    const {\n      coords: r,\n      element: i\n    } = e;\n    if (s(r) || s(i.content)) return void (t.renderData = this._destroyRenderData(t.renderData));\n    if (a(t.renderData)) return;\n\n    const n = this._createTexture(i.content);\n\n    this.view._stage.add(n);\n\n    const d = this.view._stage.loadImmediate(n);\n\n    o(d) && this.updatingHandles.addPromise(d);\n\n    const m = new v({\n      initTextureTransparent: !0,\n      textureId: n.id,\n      opacity: i.opacity,\n      transparent: !0\n    }),\n          l = this._positionVertexBufferFromCoordinates(r),\n          p = [0, 0, 1, 0, 1, 1, 0, 1],\n          h = new Uint16Array([0, 1, 2, 0, 2, 3]),\n          c = new f([[R.POSITION, {\n      data: l,\n      size: 3,\n      exclusive: !0\n    }], [R.UV0, {\n      data: p,\n      size: 2,\n      exclusive: !0\n    }]], [[R.POSITION, h], [R.UV0, h]]),\n          u = new D(c, m, {\n      layerUid: this.layer.uid,\n      graphicUid: i.uid\n    });\n\n    this._renderer.addGeometries([u], E.Geometry.ADD), t.renderData = {\n      renderGeometry: u,\n      texture: n,\n      material: m\n    };\n  }\n\n  _updateGeometry(e, t, r) {\n    if (s(r)) return void (e.renderData = this._destroyRenderData(e.renderData));\n\n    const i = this._positionVertexBufferFromCoordinates(r);\n\n    t.renderGeometry.vertexAttributes.get(R.POSITION).data = i, this._renderer.modifyGeometries([t.renderGeometry], E.State.VERTEXATTRS);\n  }\n\n  _positionVertexBufferFromCoordinates(e) {\n    const [t, r, i, s] = e.rings[0];\n    return new Float64Array([t[0], t[1], y, s[0], s[1], y, i[0], i[1], y, r[0], r[1], y]);\n  }\n\n  _destroyRenderData(e) {\n    return s(e) || (this.view._stage.remove(e.texture), this._renderer.removeGeometries([e.renderGeometry], E.Geometry.REMOVE), e.material.dispose()), null;\n  }\n\n  _createTexture(e) {\n    const t = e instanceof HTMLImageElement ? e.naturalWidth : e.width,\n          r = e instanceof HTMLImageElement ? e.naturalHeight : e.height;\n    return new w(e, {\n      wrap: {\n        s: x.CLAMP_TO_EDGE,\n        t: x.CLAMP_TO_EDGE\n      },\n      preMultiplyAlpha: !0,\n      width: t,\n      height: r,\n      mipmap: !0,\n      powerOfTwoResizeMode: g.STRETCH,\n      updateCallback: () => this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()\n    });\n  }\n\n  get test() {\n    const e = this;\n    return {\n      get numberOfElements() {\n        return e._renderedElements.size;\n      }\n\n    };\n  }\n\n};\ne([m({\n  readOnly: !0\n})], b.prototype, \"type\", void 0), e([m()], b.prototype, \"layer\", void 0), b = e([l(\"esri.views.3d.layers.MediaLayerView3D\")], b);\nconst j = b;\nexport { j as default };","map":{"version":3,"names":["_","e","makeHandle","t","handlesGroup","r","destroyHandle","i","isNone","s","isSome","a","debounce","n","isPromiseLike","o","on","d","property","m","subclass","l","toExtent","p","MediaElementView","h","DrapeSourceType","c","LayerView3D","u","DRAPED_Z","y","UpdatePolicy","PowerOfTwoResizeMode","g","Geometry","f","ModelDirty","E","RenderGeometry","D","Texture","w","VertexAttribute","R","ImageMaterial","v","T","TextureWrapMode","x","b","constructor","arguments","type","drapeSourceType","RasterImage","updatePolicy","ASYNC","_uidToElement","Map","_renderedElements","_lastDrapingExtent","_update","_collectMediaElements","_synchronizeRenderElements","initialize","_renderer","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","add","unregisterDrapeSource","layer","source","_updateWithLastDrapingExtent","updatingHandles","suspended","setDrapingExtent","overlays","spatialReference","getHit","get","element","Set","addPromise","catch","Promise","all","map","queryElements","extent","signal","flat","_synchronizeRenderElementsRemove","_synchronizeRenderElementsAdd","forEach","has","renderData","push","renderGeometry","_removeElement","removeGeometries","REMOVE","_createRenderElement","handle","_destroyRenderData","delete","uid","remove","opacity","material","setParameters","coords","_updateGeometry","_initializeRenderData","content","set","load","_createTexture","_stage","loadImmediate","initTextureTransparent","textureId","id","transparent","_positionVertexBufferFromCoordinates","Uint16Array","POSITION","data","size","exclusive","UV0","layerUid","graphicUid","addGeometries","ADD","texture","vertexAttributes","modifyGeometries","State","VERTEXATTRS","rings","Float64Array","dispose","HTMLImageElement","naturalWidth","width","naturalHeight","height","wrap","CLAMP_TO_EDGE","preMultiplyAlpha","mipmap","powerOfTwoResizeMode","STRETCH","updateCallback","setDrawTexturesDirty","test","numberOfElements","readOnly","prototype","j","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t,handlesGroup as r,destroyHandle as i}from\"../../../core/handleUtils.js\";import{isNone as s,isSome as a}from\"../../../core/maybe.js\";import{debounce as n,isPromiseLike as o}from\"../../../core/promiseUtils.js\";import{on as d}from\"../../../core/reactiveUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{toExtent as p}from\"../../../geometry/support/aaBoundingRect.js\";import{MediaElementView as h}from\"../../../layers/support/mediaUtils.js\";import{DrapeSourceType as c}from\"./interfaces.js\";import{LayerView3D as u}from\"./LayerView3D.js\";import{DRAPED_Z as y}from\"../terrain/OverlayRenderer.js\";import{UpdatePolicy as _,PowerOfTwoResizeMode as g}from\"../webgl-engine/lib/basicInterfaces.js\";import{Geometry as f}from\"../webgl-engine/lib/Geometry.js\";import{ModelDirty as E}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as D}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as w}from\"../webgl-engine/lib/Texture.js\";import{VertexAttribute as R}from\"../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as v}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import{TextureWrapMode as x}from\"../../webgl/enums.js\";let b=class extends(u(T)){constructor(){super(...arguments),this.type=\"media-3d\",this.drapeSourceType=c.RasterImage,this.updatePolicy=_.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=n((async(e,t,r)=>{const i=await this._collectMediaElements(e,t,r);this._synchronizeRenderElements(i)}),0)}initialize(){this._renderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add([t((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))),d((()=>this.layer.source),\"refresh\",(()=>this._updateWithLastDrapingExtent()))]),this.updatingHandles.add((()=>this.suspended),(()=>this._updateWithLastDrapingExtent()))}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:\"media\",element:t,layer:this.layer}:null}_updateWithLastDrapingExtent(){if(s(this._lastDrapingExtent)||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this.updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,r){const i=this.layer.source;return s(i)?new Set:new Set((await Promise.all(e.map((e=>i.queryElements(p(e.extent,t),{signal:r}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=new Set,r=[];this._renderedElements.forEach(((i,s)=>{e.has(s)||(t.add(s),a(i.renderData)&&r.push(i.renderData.renderGeometry),this._removeElement(s,i))})),this._renderer.removeGeometries(r,E.Geometry.REMOVE)}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:r}){this._destroyRenderData(t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),r.remove()}async _createRenderElement(e){const t=new h({spatialReference:this.view.spatialReference,element:e}),s={renderData:null,handle:r([this.updatingHandles.add((()=>e.opacity),(e=>{a(s.renderData)&&s.renderData.material.setParameters({opacity:e})})),this.updatingHandles.add((()=>t.coords),(e=>{a(s.renderData)?this._updateGeometry(s,s.renderData,e):this._initializeRenderData(t,s)})),this.updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,s))),i(t)])};this._renderedElements.set(e,s),this._uidToElement.set(e.uid,e),this.updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,s)}_initializeRenderData(e,t){const{coords:r,element:i}=e;if(s(r)||s(i.content))return void(t.renderData=this._destroyRenderData(t.renderData));if(a(t.renderData))return;const n=this._createTexture(i.content);this.view._stage.add(n);const d=this.view._stage.loadImmediate(n);o(d)&&this.updatingHandles.addPromise(d);const m=new v({initTextureTransparent:!0,textureId:n.id,opacity:i.opacity,transparent:!0}),l=this._positionVertexBufferFromCoordinates(r),p=[0,0,1,0,1,1,0,1],h=new Uint16Array([0,1,2,0,2,3]),c=new f([[R.POSITION,{data:l,size:3,exclusive:!0}],[R.UV0,{data:p,size:2,exclusive:!0}]],[[R.POSITION,h],[R.UV0,h]]),u=new D(c,m,{layerUid:this.layer.uid,graphicUid:i.uid});this._renderer.addGeometries([u],E.Geometry.ADD),t.renderData={renderGeometry:u,texture:n,material:m}}_updateGeometry(e,t,r){if(s(r))return void(e.renderData=this._destroyRenderData(e.renderData));const i=this._positionVertexBufferFromCoordinates(r);t.renderGeometry.vertexAttributes.get(R.POSITION).data=i,this._renderer.modifyGeometries([t.renderGeometry],E.State.VERTEXATTRS)}_positionVertexBufferFromCoordinates(e){const[t,r,i,s]=e.rings[0];return new Float64Array([t[0],t[1],y,s[0],s[1],y,i[0],i[1],y,r[0],r[1],y])}_destroyRenderData(e){return s(e)||(this.view._stage.remove(e.texture),this._renderer.removeGeometries([e.renderGeometry],E.Geometry.REMOVE),e.material.dispose()),null}_createTexture(e){const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,r=e instanceof HTMLImageElement?e.naturalHeight:e.height;return new w(e,{wrap:{s:x.CLAMP_TO_EDGE,t:x.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:t,height:r,mipmap:!0,powerOfTwoResizeMode:g.STRETCH,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){const e=this;return{get numberOfElements(){return e._renderedElements.size}}}};e([m({readOnly:!0})],b.prototype,\"type\",void 0),e([m()],b.prototype,\"layer\",void 0),b=e([l(\"esri.views.3d.layers.MediaLayerView3D\")],b);const j=b;export{j as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}