{"ast":null,"code":"import * as echarts from \"echarts\";\nexport default {\n  name: \"linedata\",\n\n  data() {\n    return {\n      station: \"\",\n      city: \"\"\n    };\n  },\n\n  watch: {\n    station(newval) {\n      console.log(newval);\n      var date = new Date();\n      var year = date.getFullYear(); //  返回的是年份\n\n      var month = date.getMonth() + 1; //  返回的月份上个月的月份，记得+1才是当月\n\n      var dates = date.getDate();\n      this.request.get(\"/weekatmospheredata/getweekdata?city=\" + this.city + \"&station=\" + this.station + \"\").then(res => {\n        //2. 基于准备好的dom，初始化echarts实例\n        console.log(res);\n        echarts.init(document.getElementById('linedata')).setOption({\n          backgroundColor: '#fff',\n          //背景色\n          title: {\n            text: '' + res[0].city + res[0].station + '站近一周空气指标',\n            textStyle: {\n              //文字颜色\n              color: '#000000',\n              fontsize: '20px'\n            },\n            top: '0px'\n          },\n          tooltip: {\n            trigger: 'axis'\n          },\n          legend: {\n            textStyle: {\n              fontSize: 16,\n              //文字颜色\n              color: '#000000'\n            },\n            data: ['AQI', 'CO', 'NO2', 'PM2.5', 'PM10', 'SO2', 'O3']\n          },\n          grid: {\n            left: '3%',\n            right: '5%',\n            bottom: '3%',\n            containLabel: true\n          },\n          toolbox: {\n            show: true,\n            top: '5px',\n            iconStyle: {\n              borderColor: '#blue',\n              backgroundColor: 'fff',\n              color: '#000000'\n            },\n            feature: {\n              dataZoom: {\n                yAxisIndex: ''\n              },\n              dataView: {\n                readOnly: false\n              },\n              magicType: {\n                type: ['line', 'bar']\n              },\n              restore: {},\n              saveAsImage: {}\n            }\n          },\n          xAxis: {\n            type: 'category',\n            boundaryGap: false,\n            axisLabel: {\n              textStyle: {\n                color: \"#000000\"\n              }\n            },\n            data: ['' + year + '年' + month + '月' + (dates - 6) + '日', '' + year + '年' + month + '月' + (dates - 5) + '日', '' + year + '年' + month + '月' + (dates - 4) + '日', '' + year + '年' + month + '月' + (dates - 3) + '日', '' + year + '年' + month + '月' + (dates - 2) + '日', '' + year + '年' + month + '月' + (dates - 1) + '日', '' + year + '年' + month + '月' + dates + '日']\n          },\n          yAxis: {\n            type: 'value',\n            axisLabel: {\n              textStyle: {\n                color: \"#000000\"\n              }\n            }\n          },\n          series: [{\n            name: 'AQI',\n            type: 'line',\n            stack: 'Total',\n            color: '#6495ED',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#6495ED\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].aqi, res[5].aqi, res[4].aqi, res[3].aqi, res[2].aqi, res[1].aqi, res[0].aqi]\n          }, {\n            name: 'CO',\n            type: 'line',\n            stack: 'Total',\n            color: '#4169E1',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#4169E1\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].co, res[5].co, res[4].co, res[3].co, res[2].co, res[1].co, res[0].co]\n          }, {\n            name: 'NO2',\n            type: 'line',\n            stack: 'Total',\n            color: '#8470FF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#8470FF\",\n              //背景颜色\n              opacity: 0.2 //透明度\n\n            },\n            data: [res[6].no2, res[5].no2, res[4].no2, res[3].no2, res[2].no2, res[1].no2, res[0].no2]\n          }, {\n            name: 'PM2.5',\n            type: 'line',\n            stack: 'Total',\n            color: '#0000FF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#0000FF\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].pm25, res[5].pm25, res[4].pm25, res[3].pm25, res[2].pm25, res[1].pm25, res[0].pm25]\n          }, {\n            name: 'PM10',\n            type: 'line',\n            stack: 'Total',\n            color: '#00008B',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00008B\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].pm10, res[5].pm10, res[4].pm10, res[3].pm10, res[2].pm10, res[1].pm10, res[0].pm10]\n          }, {\n            name: 'SO2',\n            type: 'line',\n            stack: 'Total',\n            color: '#00FFFF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00FFFF\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].so2, res[5].so2, res[4].so2, res[3].so2, res[2].so2, res[1].so2, res[0].so2]\n          }, {\n            name: 'O3',\n            type: 'line',\n            stack: 'Total',\n            color: '#00CED1',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00CED1\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].o3, res[5].o3, res[4].o3, res[3].o3, res[2].o3, res[1].o3, res[0].o3]\n          }]\n        });\n      });\n    },\n\n    city(newval) {//console.log(newval)\n    }\n\n  },\n\n  mounted() {\n    this.bus.$on('todosAll', res => {\n      this.city = res; //console.log(res) // 输出的是A组件传过来的{id: '001', name: '吃饭', isOk: false}\n    });\n    this.bus.$on('todosAll1', res => {\n      this.station = res; //console.log(res) // 输出的是A组件传过来的{id: '001', name: '吃饭', isOk: false}\n    });\n    this.echartsInit();\n  },\n\n  methods: {\n    echartsInit() {\n      var date = new Date();\n      var year = date.getFullYear(); //  返回的是年份\n\n      var month = date.getMonth() + 1; //  返回的月份上个月的月份，记得+1才是当月\n\n      var dates = date.getDate();\n      this.request.get(\"/weekatmospheredata/getweekdata?city=合肥市&station=明珠广场\").then(res => {\n        //2. 基于准备好的dom，初始化echarts实例\n        //console.log(res)\n        echarts.init(document.getElementById('linedata')).setOption({\n          backgroundColor: '#fff',\n          //背景色\n          title: {\n            text: '' + res[0].city + res[0].station + '站近一周空气指标',\n            textStyle: {\n              //文字颜色\n              color: '#000000',\n              fontsize: '20px'\n            },\n            top: '0px'\n          },\n          tooltip: {\n            trigger: 'axis',\n            formatter: function (params) {\n              const result = params[0].marker + params[0].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[0].data + '</span>' + '<hr/>' + params[1].marker + params[1].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[1].data + 'mg/m³' + '</span>' + '<br/>' + params[2].marker + params[2].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[2].data + 'ug/m³' + '</span>' + '<br/>' + params[3].marker + params[3].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[3].data + 'ug/m³' + '</span>' + '<br/>' + params[4].marker + params[4].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[4].data + 'ug/m³' + '</span>' + '<br/>' + params[5].marker + params[5].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[5].data + 'ug/m³' + '</span>' + '<br/>' + params[6].marker + params[6].seriesName + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '&nbsp' + '<span style=\\\"font-size: 14px;font-weight: 900;\">' + params[6].data + 'ug/m³' + '</span>';\n              return result;\n            }\n          },\n          legend: {\n            textStyle: {\n              fontSize: 16,\n              //文字颜色\n              color: '#000000'\n            },\n            data: ['AQI', 'CO', 'NO2', 'PM2.5', 'PM10', 'SO2', 'O3']\n          },\n          grid: {\n            left: '3%',\n            right: '5%',\n            bottom: '3%',\n            containLabel: true\n          },\n          toolbox: {\n            show: true,\n            top: '5px',\n            right: '100px',\n            iconStyle: {\n              borderColor: '#blue',\n              backgroundColor: 'fff',\n              color: '#000000'\n            },\n            feature: {\n              dataZoom: {\n                yAxisIndex: ''\n              },\n              dataView: {\n                readOnly: false\n              },\n              magicType: {\n                type: ['line', 'bar']\n              },\n              restore: {},\n              saveAsImage: {}\n            }\n          },\n          xAxis: {\n            type: 'category',\n            boundaryGap: false,\n            axisLabel: {\n              textStyle: {\n                color: \"#000000\"\n              }\n            },\n            data: ['' + year + '年' + month + '月' + (dates - 6) + '日', '' + year + '年' + month + '月' + (dates - 5) + '日', '' + year + '年' + month + '月' + (dates - 4) + '日', '' + year + '年' + month + '月' + (dates - 3) + '日', '' + year + '年' + month + '月' + (dates - 2) + '日', '' + year + '年' + month + '月' + (dates - 1) + '日', '' + year + '年' + month + '月' + dates + '日']\n          },\n          yAxis: {\n            type: 'value',\n            axisLabel: {\n              textStyle: {\n                color: \"#000000\"\n              }\n            }\n          },\n          series: [{\n            name: 'AQI',\n            type: 'line',\n            stack: 'Total',\n            color: '#6495ED',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#6495ED\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].aqi, res[5].aqi, res[4].aqi, res[3].aqi, res[2].aqi, res[1].aqi, res[0].aqi]\n          }, {\n            name: 'CO',\n            type: 'line',\n            stack: 'Total',\n            color: '#4169E1',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#4169E1\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].co, res[5].co, res[4].co, res[3].co, res[2].co, res[1].co, res[0].co]\n          }, {\n            name: 'NO2',\n            type: 'line',\n            stack: 'Total',\n            color: '#8470FF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#8470FF\",\n              //背景颜色\n              opacity: 0.2 //透明度\n\n            },\n            data: [res[6].no2, res[5].no2, res[4].no2, res[3].no2, res[2].no2, res[1].no2, res[0].no2]\n          }, {\n            name: 'PM2.5',\n            type: 'line',\n            stack: 'Total',\n            color: '#0000FF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#0000FF\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].pm25, res[5].pm25, res[4].pm25, res[3].pm25, res[2].pm25, res[1].pm25, res[0].pm25]\n          }, {\n            name: 'PM10',\n            type: 'line',\n            stack: 'Total',\n            color: '#00008B',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00008B\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].pm10, res[5].pm10, res[4].pm10, res[3].pm10, res[2].pm10, res[1].pm10, res[0].pm10]\n          }, {\n            name: 'SO2',\n            type: 'line',\n            stack: 'Total',\n            color: '#00FFFF',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00FFFF\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].so2, res[5].so2, res[4].so2, res[3].so2, res[2].so2, res[1].so2, res[0].so2]\n          }, {\n            name: 'O3',\n            type: 'line',\n            stack: 'Total',\n            color: '#00CED1',\n            areaStyle: {\n              //添加背景颜色\n              type: \"default\",\n              color: \"#00CED1\",\n              //背景颜色\n              opacity: 0.1 //透明度\n\n            },\n            data: [res[6].o3, res[5].o3, res[4].o3, res[3].o3, res[2].o3, res[1].o3, res[0].o3]\n          }]\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["name","data","station","city","watch","console","echarts","backgroundColor","title","text","textStyle","color","fontsize","top","tooltip","trigger","legend","fontSize","grid","left","right","bottom","containLabel","toolbox","show","iconStyle","borderColor","feature","dataZoom","yAxisIndex","dataView","readOnly","magicType","type","restore","saveAsImage","xAxis","boundaryGap","axisLabel","yAxis","series","stack","areaStyle","opacity","mounted","methods","echartsInit","formatter","params"],"sourceRoot":"src/components","sources":["linedata.vue"],"sourcesContent":["<template>\r\n<div id=\"linedata\" style=\"height:400px;width:100%;background-color:rgb(0,0,0,0.5);\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\n\r\nexport default {\r\n  name: \"linedata\",\r\n  data() {\r\n    return {\r\n      station:\"\",\r\n      city:\"\"\r\n    }\r\n  },\r\n  watch:{\r\n    station(newval){\r\n      console.log(newval)\r\n      var date = new Date();\r\n      var year = date.getFullYear();    //  返回的是年份\r\n      var month = date.getMonth() + 1;  //  返回的月份上个月的月份，记得+1才是当月\r\n      var dates = date.getDate();\r\n      this.request.get(\"/weekatmospheredata/getweekdata?city=\"+this.city+\"&station=\"+this.station+\"\").then(res => {\r\n        //2. 基于准备好的dom，初始化echarts实例\r\n        console.log(res)\r\n        echarts.init(document.getElementById('linedata')).setOption({\r\n          backgroundColor: '#fff',//背景色\r\n          title: {\r\n            text: ''+res[0].city+res[0].station+'站近一周空气指标',\r\n            textStyle: {\r\n              //文字颜色\r\n              color: '#000000',\r\n              fontsize: '20px'\r\n            },\r\n            top: '0px',\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis'\r\n          },\r\n          legend: {\r\n            textStyle: {\r\n              fontSize: 16,\r\n              //文字颜色\r\n              color: '#000000',\r\n            },\r\n            data: ['AQI', 'CO', 'NO2', 'PM2.5', 'PM10', 'SO2', 'O3']\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '5%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          toolbox: {\r\n            show: true,\r\n            top: '5px',\r\n            iconStyle: {\r\n              borderColor: '#blue',\r\n              backgroundColor: 'fff',\r\n              color: '#000000',\r\n            },\r\n            feature: {\r\n              dataZoom: {\r\n                yAxisIndex: ''\r\n              },\r\n              dataView: {readOnly: false},\r\n              magicType: {type: ['line', 'bar']},\r\n              restore: {},\r\n              saveAsImage: {}\r\n            }\r\n          },\r\n          xAxis: {\r\n            type: 'category',\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n              textStyle: {\r\n                color: \"#000000\",\r\n              }\r\n            },\r\n            data: [''+year+'年'+month+'月'+(dates-6)+'日', ''+year+'年'+month+'月'+(dates-5)+'日',\r\n              ''+year+'年'+month+'月'+(dates-4)+'日', ''+year+'年'+month+'月'+(dates-3)+'日',\r\n              ''+year+'年'+month+'月'+(dates-2)+'日', ''+year+'年'+month+'月'+(dates-1)+'日', ''+year+'年'+month+'月'+dates+'日']\r\n          },\r\n          yAxis: {\r\n            type: 'value',\r\n            axisLabel: {\r\n              textStyle: {\r\n                color: \"#000000\",\r\n              }\r\n            },\r\n          },\r\n          series: [\r\n            {\r\n              name: 'AQI',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#6495ED',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#6495ED\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].aqi, res[5].aqi, res[4].aqi, res[3].aqi, res[2].aqi, res[1].aqi, res[0].aqi]\r\n            },\r\n            {\r\n              name: 'CO',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#4169E1',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#4169E1\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].co, res[5].co, res[4].co, res[3].co, res[2].co, res[1].co, res[0].co]\r\n            },\r\n            {\r\n              name: 'NO2',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#8470FF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#8470FF\",  //背景颜色\r\n                opacity: 0.2,   //透明度\r\n              },\r\n              data: [res[6].no2, res[5].no2, res[4].no2, res[3].no2, res[2].no2, res[1].no2, res[0].no2]\r\n            },\r\n            {\r\n              name: 'PM2.5',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#0000FF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#0000FF\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].pm25, res[5].pm25, res[4].pm25, res[3].pm25, res[2].pm25, res[1].pm25, res[0].pm25]\r\n            },\r\n            {\r\n              name: 'PM10',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00008B',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00008B\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].pm10, res[5].pm10, res[4].pm10, res[3].pm10, res[2].pm10, res[1].pm10, res[0].pm10]\r\n            },\r\n            {\r\n              name: 'SO2',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00FFFF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00FFFF\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].so2, res[5].so2, res[4].so2, res[3].so2, res[2].so2, res[1].so2, res[0].so2]\r\n            },\r\n            {\r\n              name: 'O3',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00CED1',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00CED1\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].o3, res[5].o3, res[4].o3, res[3].o3, res[2].o3, res[1].o3, res[0].o3]\r\n            },\r\n          ]\r\n        })\r\n      })\r\n    },\r\n    city(newval){\r\n      //console.log(newval)\r\n\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    this.bus.$on('todosAll',res => {\r\n      this.city=res\r\n      //console.log(res) // 输出的是A组件传过来的{id: '001', name: '吃饭', isOk: false}\r\n    })\r\n    this.bus.$on('todosAll1',res => {\r\n      this.station=res\r\n      //console.log(res) // 输出的是A组件传过来的{id: '001', name: '吃饭', isOk: false}\r\n    })\r\n    this.echartsInit()\r\n  },\r\n  methods: {\r\n    echartsInit() {\r\n      var date = new Date();\r\n      var year = date.getFullYear();    //  返回的是年份\r\n      var month = date.getMonth() + 1;  //  返回的月份上个月的月份，记得+1才是当月\r\n      var dates = date.getDate();\r\n      this.request.get(\"/weekatmospheredata/getweekdata?city=合肥市&station=明珠广场\").then(res => {\r\n        //2. 基于准备好的dom，初始化echarts实例\r\n        //console.log(res)\r\n        echarts.init(document.getElementById('linedata')).setOption({\r\n          backgroundColor: '#fff',//背景色\r\n          title: {\r\n            text: ''+res[0].city+res[0].station+'站近一周空气指标',\r\n            textStyle: {\r\n              //文字颜色\r\n              color: '#000000',\r\n              fontsize: '20px'\r\n            },\r\n            top: '0px',\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            formatter:function(params)\r\n        {\r\n          const result=params[0].marker+params[0].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[0].data+'</span>'+'<hr/>'\r\n              +params[1].marker+params[1].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[1].data+'mg/m³'+'</span>'\r\n              + '<br/>'+params[2].marker+params[2].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[2].data+'ug/m³'+'</span>'\r\n              + '<br/>'+params[3].marker+params[3].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[3].data+'ug/m³'+'</span>'\r\n              + '<br/>'+params[4].marker+params[4].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[4].data+'ug/m³'+'</span>'\r\n              + '<br/>'+params[5].marker+params[5].seriesName+\r\n              '&nbsp'+'&nbsp'+ '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[5].data+'ug/m³'+'</span>'\r\n              + '<br/>'+params[6].marker+params[6].seriesName+\r\n              '&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'&nbsp'+'<span style=\\\"font-size: 14px;font-weight: 900;\">'\r\n              +params[6].data+'ug/m³'+'</span>'\r\n          return result;\r\n        }\r\n          },\r\n          legend: {\r\n            textStyle: {\r\n              fontSize: 16,\r\n              //文字颜色\r\n              color: '#000000',\r\n            },\r\n            data: ['AQI', 'CO', 'NO2', 'PM2.5', 'PM10', 'SO2', 'O3']\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '5%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          toolbox: {\r\n            show: true,\r\n            top: '5px',\r\n            right:'100px',\r\n            iconStyle: {\r\n              borderColor: '#blue',\r\n              backgroundColor: 'fff',\r\n              color: '#000000',\r\n            },\r\n            feature: {\r\n              dataZoom: {\r\n                yAxisIndex: ''\r\n              },\r\n              dataView: {readOnly: false},\r\n              magicType: {type: ['line', 'bar']},\r\n              restore: {},\r\n              saveAsImage: {}\r\n            }\r\n          },\r\n          xAxis: {\r\n            type: 'category',\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n              textStyle: {\r\n                color: \"#000000\",\r\n              }\r\n            },\r\n            data: [''+year+'年'+month+'月'+(dates-6)+'日', ''+year+'年'+month+'月'+(dates-5)+'日',\r\n              ''+year+'年'+month+'月'+(dates-4)+'日', ''+year+'年'+month+'月'+(dates-3)+'日',\r\n              ''+year+'年'+month+'月'+(dates-2)+'日', ''+year+'年'+month+'月'+(dates-1)+'日', ''+year+'年'+month+'月'+dates+'日']\r\n          },\r\n          yAxis: {\r\n            type: 'value',\r\n            axisLabel: {\r\n              textStyle: {\r\n                color: \"#000000\",\r\n              }\r\n            },\r\n          },\r\n          series: [\r\n            {\r\n              name: 'AQI',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color: '#6495ED',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#6495ED\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n                data: [res[6].aqi, res[5].aqi, res[4].aqi, res[3].aqi, res[2].aqi, res[1].aqi, res[0].aqi]\r\n            },\r\n            {\r\n              name: 'CO',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#4169E1',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#4169E1\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].co, res[5].co, res[4].co, res[3].co, res[2].co, res[1].co, res[0].co]\r\n            },\r\n            {\r\n              name: 'NO2',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#8470FF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#8470FF\",  //背景颜色\r\n                opacity: 0.2,   //透明度\r\n              },\r\n              data: [res[6].no2, res[5].no2, res[4].no2, res[3].no2, res[2].no2, res[1].no2, res[0].no2]\r\n            },\r\n            {\r\n              name: 'PM2.5',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#0000FF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#0000FF\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].pm25, res[5].pm25, res[4].pm25, res[3].pm25, res[2].pm25, res[1].pm25, res[0].pm25]\r\n            },\r\n            {\r\n              name: 'PM10',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00008B',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00008B\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].pm10, res[5].pm10, res[4].pm10, res[3].pm10, res[2].pm10, res[1].pm10, res[0].pm10]\r\n            },\r\n            {\r\n              name: 'SO2',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00FFFF',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00FFFF\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].so2, res[5].so2, res[4].so2, res[3].so2, res[2].so2, res[1].so2, res[0].so2]\r\n            },\r\n            {\r\n              name: 'O3',\r\n              type: 'line',\r\n              stack: 'Total',\r\n              color:'#00CED1',\r\n              areaStyle: {   //添加背景颜色\r\n                type: \"default\",\r\n                color: \"#00CED1\",  //背景颜色\r\n                opacity: 0.1,   //透明度\r\n              },\r\n              data: [res[6].o3, res[5].o3, res[4].o3, res[3].o3, res[2].o3, res[1].o3, res[0].o3]\r\n            },\r\n          ]\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]},"metadata":{},"sourceType":"module"}