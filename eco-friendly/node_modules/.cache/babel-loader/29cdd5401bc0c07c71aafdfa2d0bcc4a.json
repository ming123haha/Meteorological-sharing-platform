{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Accessor.js\";\nimport e from \"../core/Error.js\";\nimport o from \"../core/Logger.js\";\nimport { isSome as s, isNone as a, get as p } from \"../core/maybe.js\";\nimport { isAbsolute as l, makeRelative as i } from \"../core/urlUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport { cast as m } from \"../core/accessorSupport/decorators/cast.js\";\nimport { subclass as u } from \"../core/accessorSupport/decorators/subclass.js\";\nconst h = o.getLogger(\"esri.portal.PortalItemResource\");\nlet n = class extends r {\n  constructor(t) {\n    super(t), this.portalItem = null;\n  }\n\n  normalizeCtorArgs(t) {\n    return t && t.portalItem && t.path ? { ...t,\n      path: this._normalizePath(t.path, t.portalItem)\n    } : t;\n  }\n\n  set path(t) {\n    s(t) && l(t) ? h.error(\"portalitemresource:invalid-path\", \"A portal item resource path must be relative\") : this._set(\"path\", t);\n  }\n\n  _castPath(t) {\n    return this._normalizePath(t, this.portalItem);\n  }\n\n  get url() {\n    return this.portalItem && this.path ? `${this.portalItem.itemUrl}/resources/${this.path}` : null;\n  }\n\n  get itemRelativeUrl() {\n    return this.portalItem && this.path ? `./resources/${this.path}` : null;\n  }\n\n  fetch(t = \"json\", r) {\n    const o = this.url;\n    if (a(o)) throw new e(\"portal-item-resource:fetch\", \"Portal item resource does not refer to a valid item or path\");\n    return this.portalItem.portal._request(o, {\n      responseType: t,\n      query: {\n        token: this.portalItem.apiKey\n      },\n      signal: p(r, \"signal\")\n    });\n  }\n\n  async update(t, r) {\n    return (await import(\"./support/resourceUtils.js\")).addOrUpdateResource(this, \"update\", t, r);\n  }\n\n  hasPath() {\n    return s(this.path);\n  }\n\n  _normalizePath(t, r) {\n    return a(t) ? t : (t = t.replace(/^\\/+/, \"\"), s(r) && l(t) && (t = i(t, r.itemUrl)), t.replace(/^\\/+/, \"\").replace(/^(\\.\\/)?resources\\//, \"\"));\n  }\n\n};\nt([c()], n.prototype, \"portalItem\", void 0), t([c({\n  type: String,\n  value: null\n})], n.prototype, \"path\", null), t([m(\"path\")], n.prototype, \"_castPath\", null), t([c({\n  type: String,\n  readOnly: !0\n})], n.prototype, \"url\", null), t([c({\n  type: String,\n  readOnly: !0\n})], n.prototype, \"itemRelativeUrl\", null), n = t([u(\"esri.portal.PortalItemResource\")], n);\nconst y = n;\nexport { y as default };","map":{"version":3,"names":["_","t","r","e","o","isSome","s","isNone","a","get","p","isAbsolute","l","makeRelative","i","property","c","cast","m","subclass","u","h","getLogger","n","constructor","portalItem","normalizeCtorArgs","path","_normalizePath","error","_set","_castPath","url","itemUrl","itemRelativeUrl","fetch","portal","_request","responseType","query","token","apiKey","signal","update","addOrUpdateResource","hasPath","replace","prototype","type","String","value","readOnly","y","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/portal/PortalItemResource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import e from\"../core/Error.js\";import o from\"../core/Logger.js\";import{isSome as s,isNone as a,get as p}from\"../core/maybe.js\";import{isAbsolute as l,makeRelative as i}from\"../core/urlUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as m}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";const h=o.getLogger(\"esri.portal.PortalItemResource\");let n=class extends r{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){s(t)&&l(t)?h.error(\"portalitemresource:invalid-path\",\"A portal item resource path must be relative\"):this._set(\"path\",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t=\"json\",r){const o=this.url;if(a(o))throw new e(\"portal-item-resource:fetch\",\"Portal item resource does not refer to a valid item or path\");return this.portalItem.portal._request(o,{responseType:t,query:{token:this.portalItem.apiKey},signal:p(r,\"signal\")})}async update(t,r){return(await import(\"./support/resourceUtils.js\")).addOrUpdateResource(this,\"update\",t,r)}hasPath(){return s(this.path)}_normalizePath(t,r){return a(t)?t:(t=t.replace(/^\\/+/,\"\"),s(r)&&l(t)&&(t=i(t,r.itemUrl)),t.replace(/^\\/+/,\"\").replace(/^(\\.\\/)?resources\\//,\"\"))}};t([c()],n.prototype,\"portalItem\",void 0),t([c({type:String,value:null})],n.prototype,\"path\",null),t([m(\"path\")],n.prototype,\"_castPath\",null),t([c({type:String,readOnly:!0})],n.prototype,\"url\",null),t([c({type:String,readOnly:!0})],n.prototype,\"itemRelativeUrl\",null),n=t([u(\"esri.portal.PortalItemResource\")],n);const y=n;export{y as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}