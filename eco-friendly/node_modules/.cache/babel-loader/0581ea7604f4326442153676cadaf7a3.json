{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { equals as r } from \"../arrayUtils.js\";\nimport e from \"../Error.js\";\nimport t from \"../Logger.js\";\nimport { idToReadableName as i, OriginId as o, nameToId as n } from \"./PropertyOrigin.js\";\nimport { getProperties as s, merge as u } from \"./utils.js\";\nimport { originSpecificWritePropertyDefinition as l } from \"./extensions/serializableProperty.js\";\n\nfunction a(r, e, t, i, o) {\n  const n = {};\n  return e.write?.writer?.call(r, i, n, t, o), n;\n}\n\nfunction f(r, i, s, u, l, a) {\n  if (!u || !u.write) return !1;\n  const f = r.get(s);\n\n  if (!l && u.write.overridePolicy) {\n    const e = u.write.overridePolicy.call(r, f, s, a);\n    void 0 !== e && (l = e);\n  }\n\n  if (l || (l = u.write), !l || !1 === l.enabled) return !1;\n\n  if ((null === f && !l.allowNull && !l.writerEnsuresNonNull || void 0 === f) && l.isRequired) {\n    const i = new e(\"web-document-write:property-required\", `Missing value for required property '${s}' on '${r.declaredClass}'`, {\n      propertyName: s,\n      target: r\n    });\n    return i && a && a.messages ? a.messages.push(i) : i && !a && t.getLogger(\"esri.core.accessorSupport.write\").error(i.name, i.message), !1;\n  }\n\n  if (void 0 === f) return !1;\n  if (null === f && !l.allowNull && !l.writerEnsuresNonNull) return !1;\n  if ((!i.store.multipleOriginsSupported || i.store.originOf(s) === o.DEFAULTS) && p(r, s, a, u, f)) return !1;\n\n  if (!l.ignoreOrigin && a && a.origin && i.store.multipleOriginsSupported) {\n    if (i.store.originOf(s) < n(a.origin)) return !1;\n  }\n\n  return !0;\n}\n\nfunction p(e, t, i, o, n) {\n  const s = o.default;\n  if (void 0 === s) return !1;\n  if (null != o.defaultEquals) return o.defaultEquals(n);\n\n  if (\"function\" == typeof s) {\n    if (Array.isArray(n)) {\n      const o = s.call(e, t, i);\n      return r(o, n);\n    }\n\n    return !1;\n  }\n\n  return s === n;\n}\n\nfunction g(r, e, t, i) {\n  const o = s(r),\n        n = o.metadatas,\n        u = l(n[e], i);\n  return !!u && f(r, o, e, u, t, i);\n}\n\nfunction c(r, e, t) {\n  if (r && \"function\" == typeof r.toJSON && (!r.toJSON.isDefaultToJSON || !r.write)) return u(e, r.toJSON(t));\n  const o = s(r),\n        n = o.metadatas;\n\n  for (const s in n) {\n    const p = l(n[s], t);\n    if (!f(r, o, s, p, void 0, t)) continue;\n    const g = r.get(s),\n          c = a(r, p, p.write && \"string\" == typeof p.write.target ? p.write.target : s, g, t);\n    Object.keys(c).length > 0 && (e = u(e, c), t?.resources?.pendingOperations?.length && Promise.all(t.resources.pendingOperations).then(() => u(e, c)), t && t.writtenProperties && t.writtenProperties.push({\n      target: r,\n      propName: s,\n      oldOrigin: i(o.store.originOf(s)),\n      newOrigin: t.origin\n    }));\n  }\n\n  return e;\n}\n\nexport { g as willPropertyWrite, c as write };","map":{"version":3,"names":["equals","r","e","t","idToReadableName","i","OriginId","o","nameToId","n","getProperties","s","merge","u","originSpecificWritePropertyDefinition","l","a","write","writer","call","f","get","overridePolicy","enabled","allowNull","writerEnsuresNonNull","isRequired","declaredClass","propertyName","target","messages","push","getLogger","error","name","message","store","multipleOriginsSupported","originOf","DEFAULTS","p","ignoreOrigin","origin","default","defaultEquals","Array","isArray","g","metadatas","c","toJSON","isDefaultToJSON","Object","keys","length","resources","pendingOperations","Promise","all","then","writtenProperties","propName","oldOrigin","newOrigin","willPropertyWrite"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/core/accessorSupport/write.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{equals as r}from\"../arrayUtils.js\";import e from\"../Error.js\";import t from\"../Logger.js\";import{idToReadableName as i,OriginId as o,nameToId as n}from\"./PropertyOrigin.js\";import{getProperties as s,merge as u}from\"./utils.js\";import{originSpecificWritePropertyDefinition as l}from\"./extensions/serializableProperty.js\";function a(r,e,t,i,o){const n={};return e.write?.writer?.call(r,i,n,t,o),n}function f(r,i,s,u,l,a){if(!u||!u.write)return!1;const f=r.get(s);if(!l&&u.write.overridePolicy){const e=u.write.overridePolicy.call(r,f,s,a);void 0!==e&&(l=e)}if(l||(l=u.write),!l||!1===l.enabled)return!1;if((null===f&&!l.allowNull&&!l.writerEnsuresNonNull||void 0===f)&&l.isRequired){const i=new e(\"web-document-write:property-required\",`Missing value for required property '${s}' on '${r.declaredClass}'`,{propertyName:s,target:r});return i&&a&&a.messages?a.messages.push(i):i&&!a&&t.getLogger(\"esri.core.accessorSupport.write\").error(i.name,i.message),!1}if(void 0===f)return!1;if(null===f&&!l.allowNull&&!l.writerEnsuresNonNull)return!1;if((!i.store.multipleOriginsSupported||i.store.originOf(s)===o.DEFAULTS)&&p(r,s,a,u,f))return!1;if(!l.ignoreOrigin&&a&&a.origin&&i.store.multipleOriginsSupported){if(i.store.originOf(s)<n(a.origin))return!1}return!0}function p(e,t,i,o,n){const s=o.default;if(void 0===s)return!1;if(null!=o.defaultEquals)return o.defaultEquals(n);if(\"function\"==typeof s){if(Array.isArray(n)){const o=s.call(e,t,i);return r(o,n)}return!1}return s===n}function g(r,e,t,i){const o=s(r),n=o.metadatas,u=l(n[e],i);return!!u&&f(r,o,e,u,t,i)}function c(r,e,t){if(r&&\"function\"==typeof r.toJSON&&(!r.toJSON.isDefaultToJSON||!r.write))return u(e,r.toJSON(t));const o=s(r),n=o.metadatas;for(const s in n){const p=l(n[s],t);if(!f(r,o,s,p,void 0,t))continue;const g=r.get(s),c=a(r,p,p.write&&\"string\"==typeof p.write.target?p.write.target:s,g,t);Object.keys(c).length>0&&(e=u(e,c),t?.resources?.pendingOperations?.length&&Promise.all(t.resources.pendingOperations).then((()=>u(e,c))),t&&t.writtenProperties&&t.writtenProperties.push({target:r,propName:s,oldOrigin:i(o.store.originOf(s)),newOrigin:t.origin}))}return e}export{g as willPropertyWrite,c as write};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}