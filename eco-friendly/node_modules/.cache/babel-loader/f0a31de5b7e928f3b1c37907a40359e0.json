{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: \"echartsWatch\",\n  props: ['selectstaion'],\n  watch: {\n    selectstaion(newval) {\n      this.request.get(\"/nowatmospheredata/GetData?station=\" + newval + \"\").then(res => {\n        this.aqi = res[0].aqi;\n        this.city = res[0].city;\n        this.station = res[0].station;\n        this.CO = res[0].co;\n        this.NO2 = res[0].no2;\n        this.PM25 = res[0].pm25;\n        this.PM10 = res[0].pm10;\n        this.SO2 = res[0].so2;\n        this.O3 = res[0].o3;\n        this.echartsinit(this.aqi);\n      });\n    }\n\n  },\n\n  data() {\n    return {\n      aqi: \"无数据\",\n      CO: \"无数据\",\n      NO2: \"无数据\",\n      PM25: \"无数据\",\n      PM10: \"无数据\",\n      SO2: \"无数据\",\n      O3: \"无数据\",\n      city: \"无数据\",\n      station: \"无数据\"\n    };\n  },\n\n  mounted() {},\n\n  methods: {\n    initialize(e) {},\n\n    echartsinit(aqi) {\n      var chartDom = document.getElementById('main');\n      var myChart = echarts.init(chartDom);\n      var option;\n      option = {\n        series: [{\n          type: 'gauge',\n          startAngle: 180,\n          endAngle: 0,\n          min: 0,\n          max: 1,\n          splitNumber: 8,\n          axisLine: {\n            show: true,\n            lineStyle: {\n              width: 5,\n              color: [[0.34, '#bbf5d3'], [0.66, '#ffed7e'], [1, '#d90f1e']]\n            }\n          },\n          pointer: {\n            icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',\n            length: '50%',\n            width: 5,\n            offsetCenter: [0, '-20%'],\n            itemStyle: {\n              color: 'auto'\n            }\n          },\n          axisTick: {\n            length: 5,\n            lineStyle: {\n              color: 'auto',\n              width: 10\n            }\n          },\n          splitLine: {\n            length: 0,\n            lineStyle: {\n              color: 'auto',\n              width: 0\n            }\n          },\n          axisLabel: {\n            color: '#464646',\n            fontSize: 15,\n            distance: -25,\n            textStyle: {\n              //文字颜色\n              color: '#fff'\n            },\n            formatter: function (value) {\n              console.log(value);\n\n              if (value === 0.875) {\n                return '差';\n              } else if (value === 0.5) {\n                return '良';\n              } else if (value === 0.125) {\n                return '优';\n              }\n\n              return '';\n            }\n          },\n          title: {\n            offsetCenter: [0, '30%'],\n            fontSize: 15,\n            textStyle: {\n              //文字颜色\n              color: '#fff'\n            }\n          },\n          detail: {\n            fontSize: 15,\n            offsetCenter: [0, '0%'],\n            valueAnimation: true,\n            formatter: function (value) {\n              return Math.round(value * 100);\n            },\n            color: 'auto'\n          },\n          data: [{\n            value: aqi / 100,\n            name: 'AQI指数'\n          }]\n        }]\n      };\n      option && myChart.setOption(option);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4CA;AACA;EACAA,oBADA;EAEAC,uBAFA;EAGAC;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAXA;IAYA;;EAdA,CAHA;;EAmBAC;IACA;MACAC,UADA;MAEAC,SAFA;MAGAC,UAHA;MAIAC,WAJA;MAKAC,WALA;MAMAC,UANA;MAOAC,SAPA;MAQAC,WARA;MASAC;IATA;EAWA,CA/BA;;EAgCAC,WAEA,CAlCA;;EAmCAC;IACAC,eAEA,CAHA;;IAIAC;MACA;MACA;MACA;MAEAC;QACAC,SACA;UACAC,aADA;UAEAC,eAFA;UAGAC,WAHA;UAIAC,MAJA;UAKAC,MALA;UAMAC,cANA;UAOAC;YACAC,UADA;YAEAC;cACAC,QADA;cAEAC,QACA,iBADA,EAEA,iBAFA,EAGA,cAHA;YAFA;UAFA,CAPA;UAkBAC;YACAC,8CADA;YAEAC,aAFA;YAGAJ,QAHA;YAIAK,yBAJA;YAKAC;cACAL;YADA;UALA,CAlBA;UA2BAM;YACAH,SADA;YAEAL;cACAE,aADA;cAEAD;YAFA;UAFA,CA3BA;UAkCAQ;YACAJ,SADA;YAEAL;cACAE,aADA;cAEAD;YAFA;UAFA,CAlCA;UAyCAS;YACAR,gBADA;YAEAS,YAFA;YAGAC,aAHA;YAIAC;cACA;cACAX;YAFA,CAJA;YAQAY;cACAC;;cACA;gBACA;cACA,CAFA,MAEA;gBACA;cACA,CAFA,MAEA;gBACA;cACA;;cACA;YACA;UAlBA,CAzCA;UA6DAC;YACAV,wBADA;YAEAK,YAFA;YAGAE;cACA;cACAX;YAFA;UAHA,CA7DA;UAqEAe;YACAN,YADA;YAEAL,uBAFA;YAGAY,oBAHA;YAIAJ;cACA;YACA,CANA;YAOAZ;UAPA,CArEA;UA8EA1B,OACA;YACA2C,gBADA;YAEA/C;UAFA,CADA;QA9EA,CADA;MADA;MA0FAkB;IACA;;EApGA;AAnCA","names":["name","props","watch","selectstaion","data","aqi","CO","NO2","PM25","PM10","SO2","O3","city","station","mounted","methods","initialize","echartsinit","option","series","type","startAngle","endAngle","min","max","splitNumber","axisLine","show","lineStyle","width","color","pointer","icon","length","offsetCenter","itemStyle","axisTick","splitLine","axisLabel","fontSize","distance","textStyle","formatter","console","title","detail","valueAnimation","value"],"sourceRoot":"src/components","sources":["echartsWatch.vue"],"sourcesContent":["<template>\r\n<div class=\"activecard\">\r\n  <div id=\"main\" style=\"height: 200px;width: 200px;opacity: 0.8;position: relative\">       </div>\r\n    <div class=\"table\">\r\n<!--           <h1>测站:{{city}} {{station}}</h1>-->\r\n      <table>\r\n      <tr>\r\n      <th colspan=\"2\">测站:{{city}} {{station}}</th>\r\n      </tr>\r\n      <tr>\r\n      <td>AQI指数:</td>\r\n        <td>{{aqi}}</td>\r\n      </tr>\r\n        <tr>\r\n        <td>C0指数:</td>\r\n          <td>{{CO}}mg/m³</td>\r\n        </tr>\r\n          <tr>\r\n          <td>NO2指数:</td>\r\n            <td>{{NO2}}ug/m³</td>\r\n          </tr>\r\n         <tr>\r\n         <td>PM2.5指数:</td>\r\n           <td>{{PM25}}ug/m³</td>\r\n         </tr>\r\n         <tr>\r\n         <td>PM10指数:</td>\r\n           <td>{{PM10}}ug/m³</td>\r\n         </tr>\r\n        <tr>\r\n        <td>SO2指数:</td>\r\n          <td>{{SO2}}ug/m³</td>\r\n        </tr>\r\n         <tr>\r\n         <td>O₃指数:</td>\r\n           <td>{{O3}}ug/m³</td>\r\n         </tr>              \r\n      </table>\r\n    </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\nexport default {\r\n  name: \"echartsWatch\",\r\n  props: ['selectstaion'],\r\n  watch: {\r\n    selectstaion(newval) {\r\n      this.request.get(\"/nowatmospheredata/GetData?station=\" + newval + \"\").then(res => {\r\n        this.aqi=res[0].aqi\r\n        this.city=res[0].city\r\n        this.station=res[0].station\r\n        this.CO=res[0].co\r\n        this.NO2=res[0].no2\r\n        this.PM25=res[0].pm25\r\n        this.PM10=res[0].pm10\r\n        this.SO2=res[0].so2\r\n        this.O3=res[0].o3\r\n        this.echartsinit(this.aqi)\r\n      })\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      aqi:\"无数据\",\r\n      CO:\"无数据\",\r\n      NO2:\"无数据\",\r\n      PM25:\"无数据\",\r\n      PM10:\"无数据\",\r\n      SO2:\"无数据\",\r\n      O3:\"无数据\",\r\n      city:\"无数据\",\r\n      station:\"无数据\",\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods:{\r\n    initialize(e){\r\n\r\n    },\r\n    echartsinit(aqi) {\r\n      var chartDom = document.getElementById('main');\r\n      var myChart = echarts.init(chartDom);\r\n      var option;\r\n\r\n      option = {\r\n        series: [\r\n          {\r\n            type: 'gauge',\r\n            startAngle: 180,\r\n            endAngle: 0,\r\n            min: 0,\r\n            max: 1,\r\n            splitNumber: 8,\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                width: 5,\r\n                color: [\r\n                  [0.34, '#bbf5d3'],\r\n                  [0.66, '#ffed7e'],\r\n                  [1, '#d90f1e']\r\n                ]\r\n              }\r\n            },\r\n            pointer: {\r\n              icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',\r\n              length: '50%',\r\n              width: 5,\r\n              offsetCenter: [0, '-20%'],\r\n              itemStyle: {\r\n                color: 'auto'\r\n              }\r\n            },\r\n            axisTick: {\r\n              length: 5,\r\n              lineStyle: {\r\n                color: 'auto',\r\n                width: 10\r\n              }\r\n            },\r\n            splitLine: {\r\n              length: 0,\r\n              lineStyle: {\r\n                color: 'auto',\r\n                width: 0,\r\n              }\r\n            },\r\n            axisLabel: {\r\n              color: '#464646',\r\n              fontSize: 15,\r\n              distance: -25,\r\n              textStyle: {\r\n                //文字颜色\r\n                color: '#fff',\r\n              },\r\n              formatter: function (value) {\r\n                console.log(value)\r\n                if (value === 0.875) {\r\n                  return '差';\r\n                } else if (value === 0.5) {\r\n                  return '良';\r\n                } else if (value === 0.125) {\r\n                  return '优';\r\n                }\r\n                return '';\r\n              }\r\n            },\r\n            title: {\r\n              offsetCenter: [0, '30%'],\r\n              fontSize: 15 ,\r\n              textStyle: {\r\n                //文字颜色\r\n                color: '#fff',\r\n              },\r\n            },\r\n            detail: {\r\n              fontSize: 15,\r\n              offsetCenter: [0, '0%'],\r\n              valueAnimation: true,\r\n              formatter: function (value) {\r\n                return Math.round(value * 100) ;\r\n              },\r\n              color: 'auto'\r\n            },\r\n            data: [\r\n              {\r\n                value: aqi/100,\r\n                name: 'AQI指数'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n\r\n      option && myChart.setOption(option);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.activecard {\r\n  border: 15px solid transparent;\r\n  border-width: 30px 20px 30px 20px;\r\n  border-image-source: url(../assets/images/blue.png);\r\n  border-image-slice: 78 45 78 45;\r\n  border-image-width: 20px;\r\n}\r\n\r\n.table {\r\n  height: 100px;\r\n  color:#fff;\r\n  position:relative;\r\n  top:-60px;\r\n\r\n}\r\ntable,th,td{\r\n  font-size: 13px;\r\n  color:white;\r\n    background-color: rgba(24, 139, 220, 0.1);   \r\n}\r\ntable {\r\n  width: 100%;\r\n}\r\ntable th {\r\n  height: 20px;\r\n  font-size: 18px;\r\n}\r\ntable td {\r\n  text-align:center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}