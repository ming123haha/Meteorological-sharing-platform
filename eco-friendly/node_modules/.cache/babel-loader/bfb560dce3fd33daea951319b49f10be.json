{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { neverReached as e } from \"../../../../core/compilerUtils.js\";\nimport { clamp as t, acosClamped as r, asinClamped as n, deg2rad as i } from \"../../../../core/mathUtils.js\";\nimport { isSome as s } from \"../../../../core/maybe.js\";\nimport { d as a } from \"../../../../chunks/mat4.js\";\nimport { c } from \"../../../../chunks/mat4f64.js\";\nimport { b as o, m as u, g as l, a as m, i as d, e as f, n as p, l as y, p as h } from \"../../../../chunks/vec3.js\";\nimport { c as M } from \"../../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as C } from \"../../../../geometry/projectionEllipsoid.js\";\nimport { j as I, k as O, t as T } from \"../../../../chunks/sphere.js\";\nimport { TiltMode as A, defaultApplyOptions as D, InteractionType as S, hasConstraintType as w, ConstraintTypes as R, adjustRangeForInteraction as j } from \"./common.js\";\nimport { viewAngle as x } from \"../../state/utils/viewUtils.js\";\n\nfunction P(t, r, n = D, i = !0) {\n  W.eyeCenterDistance = 0, W.requiresTwoSteps = !1;\n  const s = U(t, r, n, void 0, W);\n  if (0 === s) return !1;\n\n  switch (a(z, -s, r.viewRight), n.tiltMode) {\n    case A.LOOK_AROUND:\n      u(_, r.viewForward, z), l(_, _, W.eyeCenterDistance), r.center = m(G, r.eye, _);\n      break;\n\n    case A.TUMBLE:\n      o(_, r.center, r.eye), u(_, _, z), r.eye = o(G, r.center, _);\n      break;\n\n    default:\n      e(n.tiltMode);\n  }\n\n  return r.up = u(G, r.up, z), !W.requiresTwoSteps || !i || P(t, r, n, !1);\n}\n\nfunction U(e, t, r = D, n = D, i) {\n  if (!e.state.constraints.tilt) return 0;\n  const s = t.distance,\n        a = e.state.constraints.tilt(s, Q);\n  return B(e, r, a), n.interactionType === S.TUMBLE && w(n.selection, R.ALTITUDE) && K(e, n.interactionStartCamera, a), r.tiltMode === A.LOOK_AROUND || n.tiltMode === A.LOOK_AROUND ? L(e, t, a, i) : v(e, t, a);\n}\n\nfunction v(e, r, n) {\n  const i = x(e.renderCoordsHelper, r.center, r.eye),\n        s = i - t(i, n.min, n.max);\n  return g(s) ? s : 0;\n}\n\nfunction L(t, r, n, i) {\n  switch (i && (i.requiresTwoSteps = !1), t.viewingMode) {\n    case \"global\":\n      return q(t, r, n, i);\n\n    case \"local\":\n      return k(t, r, n, i);\n\n    default:\n      return void e(t.viewingMode);\n  }\n}\n\nfunction k(e, r, n, i) {\n  const s = x(e.renderCoordsHelper, r.center, r.eye),\n        a = t(s, n.min, n.max),\n        c = s - a;\n  if (!g(c)) return 0;\n\n  if (i) {\n    const t = e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n          n = e.renderCoordsHelper.getAltitude(r.eye) - t,\n          s = Math.cos(a);\n    Math.abs(s) > 1e-4 ? i.eyeCenterDistance = n / s : i.eyeCenterDistance = r.distance;\n  }\n\n  return c;\n}\n\nfunction q(e, r, n, i) {\n  const s = b(e, r, V),\n        a = t(s.tiltAtCenter, n.min, n.max);\n  if (!g(s.tiltAtCenter - a)) return 0;\n  let c, o;\n  return s.centerIsOnSurface ? (c = E(s), o = F(s, c)) : (c = s.constraints.clampTilt(s.eyeCenterDistance, s.tiltAtCenter), i && c < Math.PI / 2 && (i.requiresTwoSteps = !0, c = Math.PI / 2 - 1e-5), o = N(s, c)), i && (i.eyeCenterDistance = H(s, c)), o;\n}\n\nfunction b(e, t, n) {\n  const i = e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n        a = i + C(e.spatialReference).radius,\n        c = e.renderCoordsHelper.intersectManifold(t.ray, i, G);\n  return n.eyeCenterDistance = t.distance, n.centerIsOnSurface = !1, s(c) ? (n.eyeCenterDistance = d(t.eye, c), n.tiltAtCenter = x(e.renderCoordsHelper, c, t.eye), n.centerIsOnSurface = !0) : e.state.isLocal ? n.tiltAtCenter = x(e.renderCoordsHelper, t.center, t.eye) : (I(O(T, a), t.ray, G), n.eyeCenterDistance = d(t.eye, G), n.tiltAtCenter = r(-f(t.viewForward, p(G, G)))), n.radius = a, n.eyeRadius = y(t.eye), n.constraints = e.state.constraints, n;\n}\n\nfunction g(e) {\n  return Math.abs(e) > 1e-9;\n}\n\nfunction E(e) {\n  const {\n    constraints: t,\n    eyeCenterDistance: r,\n    tiltAtCenter: n\n  } = e;\n  let i = n,\n      s = t.clampTilt(r, n);\n  const a = H(e, s);\n  if (t.clampTilt(a, n) === s) return s;\n  let c = 0;\n\n  for (; c < 10 && g(s - i);) {\n    const r = (i + s) / 2,\n          n = H(e, r);\n    g(t.clampTilt(n, r) - r) ? i = r : s = r, c++;\n  }\n\n  return s;\n}\n\nfunction H(e, r) {\n  if (!e.centerIsOnSurface) return e.eyeCenterDistance;\n  const i = Math.PI - t(r, 0, Math.PI),\n        s = n(e.radius / e.eyeRadius * Math.sin(i)),\n        a = Math.PI - i - s,\n        c = Math.sin(a) / Math.sin(i);\n\n  if (e.eyeRadius < e.radius && c > 1) {\n    const t = Math.PI - s,\n          r = Math.PI - i - t;\n    return Math.sin(r) / Math.sin(i) * e.eyeRadius;\n  }\n\n  return c * e.eyeRadius;\n}\n\nfunction F(e, t) {\n  const r = n(e.radius / e.eyeRadius * Math.sin(e.tiltAtCenter)),\n        i = n(e.radius / e.eyeRadius * Math.sin(t));\n  return e.eyeRadius > e.radius ? r - i : i - r;\n}\n\nfunction N(e, t) {\n  return e.tiltAtCenter - Math.PI / 2 - (t - Math.PI / 2);\n}\n\nfunction B(e, t, r) {\n  if (t.interactionType === S.NONE) return;\n  const {\n    interactionStartCamera: n,\n    interactionFactor: i\n  } = t,\n        {\n    min: s,\n    max: a\n  } = r,\n        c = U(e, n, D, t),\n        o = 0 === c ? 0 : x(e.renderCoordsHelper, n.center, n.eye);\n  r.min = s, r.max = a, t.interactionType === S.TUMBLE ? (w(t.selection, R.ALTITUDE) && K(e, n, r), j(c, o, !0, i, J, r)) : j(c, o, !1, i, J, r);\n}\n\nfunction K(e, t, n) {\n  if (e.state.isLocal) return;\n  const i = e.state.constraints;\n  if (!i.altitude) return;\n  const s = h(t.center),\n        a = Math.sqrt(s),\n        c = t.distance,\n        o = C(e.spatialReference).radius,\n        u = i.altitude.min + o,\n        l = i.altitude.max + o,\n        m = (u * u - c * c - s) / (-2 * a * c),\n        d = (l * l - c * c - s) / (-2 * a * c);\n  n.min = Math.max(n.min, Math.min(Math.PI - r(d), n.max)), n.max = Math.min(n.max, Math.PI - r(m));\n}\n\nconst _ = M(),\n      z = c(),\n      G = M(),\n      J = i(5),\n      Q = {\n  min: 0,\n  max: 0\n},\n      V = {\n  constraints: null,\n  radius: 0,\n  eyeRadius: 0,\n  centerIsOnSurface: !0,\n  eyeCenterDistance: 0,\n  tiltAtCenter: 0\n},\n      W = {\n  eyeCenterDistance: 0,\n  requiresTwoSteps: !1\n};\n\nexport { P as applyTiltConstraint, U as getTiltConstraintError };","map":{"version":3,"names":["neverReached","e","clamp","t","acosClamped","r","asinClamped","n","deg2rad","i","isSome","s","d","a","c","b","o","m","u","g","l","f","p","y","h","M","getReferenceEllipsoid","C","j","I","k","O","T","TiltMode","A","defaultApplyOptions","D","InteractionType","S","hasConstraintType","w","ConstraintTypes","R","adjustRangeForInteraction","viewAngle","x","P","W","eyeCenterDistance","requiresTwoSteps","U","z","viewRight","tiltMode","LOOK_AROUND","_","viewForward","center","G","eye","TUMBLE","up","state","constraints","tilt","distance","Q","B","interactionType","selection","ALTITUDE","K","interactionStartCamera","L","v","renderCoordsHelper","min","max","viewingMode","q","pointsOfInterest","centerOnSurfaceFrequent","estimatedSurfaceAltitude","getAltitude","Math","cos","abs","V","tiltAtCenter","centerIsOnSurface","E","F","clampTilt","PI","N","H","spatialReference","radius","intersectManifold","ray","isLocal","eyeRadius","sin","NONE","interactionFactor","J","altitude","sqrt","applyTiltConstraint","getTiltConstraintError"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/camera/constraintUtils/tilt.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as t,acosClamped as r,asinClamped as n,deg2rad as i}from\"../../../../core/mathUtils.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{d as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{b as o,m as u,g as l,a as m,i as d,e as f,n as p,l as y,p as h}from\"../../../../chunks/vec3.js\";import{c as M}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as C}from\"../../../../geometry/projectionEllipsoid.js\";import{j as I,k as O,t as T}from\"../../../../chunks/sphere.js\";import{TiltMode as A,defaultApplyOptions as D,InteractionType as S,hasConstraintType as w,ConstraintTypes as R,adjustRangeForInteraction as j}from\"./common.js\";import{viewAngle as x}from\"../../state/utils/viewUtils.js\";function P(t,r,n=D,i=!0){W.eyeCenterDistance=0,W.requiresTwoSteps=!1;const s=U(t,r,n,void 0,W);if(0===s)return!1;switch(a(z,-s,r.viewRight),n.tiltMode){case A.LOOK_AROUND:u(_,r.viewForward,z),l(_,_,W.eyeCenterDistance),r.center=m(G,r.eye,_);break;case A.TUMBLE:o(_,r.center,r.eye),u(_,_,z),r.eye=o(G,r.center,_);break;default:e(n.tiltMode)}return r.up=u(G,r.up,z),!W.requiresTwoSteps||!i||P(t,r,n,!1)}function U(e,t,r=D,n=D,i){if(!e.state.constraints.tilt)return 0;const s=t.distance,a=e.state.constraints.tilt(s,Q);return B(e,r,a),n.interactionType===S.TUMBLE&&w(n.selection,R.ALTITUDE)&&K(e,n.interactionStartCamera,a),r.tiltMode===A.LOOK_AROUND||n.tiltMode===A.LOOK_AROUND?L(e,t,a,i):v(e,t,a)}function v(e,r,n){const i=x(e.renderCoordsHelper,r.center,r.eye),s=i-t(i,n.min,n.max);return g(s)?s:0}function L(t,r,n,i){switch(i&&(i.requiresTwoSteps=!1),t.viewingMode){case\"global\":return q(t,r,n,i);case\"local\":return k(t,r,n,i);default:return void e(t.viewingMode)}}function k(e,r,n,i){const s=x(e.renderCoordsHelper,r.center,r.eye),a=t(s,n.min,n.max),c=s-a;if(!g(c))return 0;if(i){const t=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,n=e.renderCoordsHelper.getAltitude(r.eye)-t,s=Math.cos(a);Math.abs(s)>1e-4?i.eyeCenterDistance=n/s:i.eyeCenterDistance=r.distance}return c}function q(e,r,n,i){const s=b(e,r,V),a=t(s.tiltAtCenter,n.min,n.max);if(!g(s.tiltAtCenter-a))return 0;let c,o;return s.centerIsOnSurface?(c=E(s),o=F(s,c)):(c=s.constraints.clampTilt(s.eyeCenterDistance,s.tiltAtCenter),i&&c<Math.PI/2&&(i.requiresTwoSteps=!0,c=Math.PI/2-1e-5),o=N(s,c)),i&&(i.eyeCenterDistance=H(s,c)),o}function b(e,t,n){const i=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,a=i+C(e.spatialReference).radius,c=e.renderCoordsHelper.intersectManifold(t.ray,i,G);return n.eyeCenterDistance=t.distance,n.centerIsOnSurface=!1,s(c)?(n.eyeCenterDistance=d(t.eye,c),n.tiltAtCenter=x(e.renderCoordsHelper,c,t.eye),n.centerIsOnSurface=!0):e.state.isLocal?n.tiltAtCenter=x(e.renderCoordsHelper,t.center,t.eye):(I(O(T,a),t.ray,G),n.eyeCenterDistance=d(t.eye,G),n.tiltAtCenter=r(-f(t.viewForward,p(G,G)))),n.radius=a,n.eyeRadius=y(t.eye),n.constraints=e.state.constraints,n}function g(e){return Math.abs(e)>1e-9}function E(e){const{constraints:t,eyeCenterDistance:r,tiltAtCenter:n}=e;let i=n,s=t.clampTilt(r,n);const a=H(e,s);if(t.clampTilt(a,n)===s)return s;let c=0;for(;c<10&&g(s-i);){const r=(i+s)/2,n=H(e,r);g(t.clampTilt(n,r)-r)?i=r:s=r,c++}return s}function H(e,r){if(!e.centerIsOnSurface)return e.eyeCenterDistance;const i=Math.PI-t(r,0,Math.PI),s=n(e.radius/e.eyeRadius*Math.sin(i)),a=Math.PI-i-s,c=Math.sin(a)/Math.sin(i);if(e.eyeRadius<e.radius&&c>1){const t=Math.PI-s,r=Math.PI-i-t;return Math.sin(r)/Math.sin(i)*e.eyeRadius}return c*e.eyeRadius}function F(e,t){const r=n(e.radius/e.eyeRadius*Math.sin(e.tiltAtCenter)),i=n(e.radius/e.eyeRadius*Math.sin(t));return e.eyeRadius>e.radius?r-i:i-r}function N(e,t){return e.tiltAtCenter-Math.PI/2-(t-Math.PI/2)}function B(e,t,r){if(t.interactionType===S.NONE)return;const{interactionStartCamera:n,interactionFactor:i}=t,{min:s,max:a}=r,c=U(e,n,D,t),o=0===c?0:x(e.renderCoordsHelper,n.center,n.eye);r.min=s,r.max=a,t.interactionType===S.TUMBLE?(w(t.selection,R.ALTITUDE)&&K(e,n,r),j(c,o,!0,i,J,r)):j(c,o,!1,i,J,r)}function K(e,t,n){if(e.state.isLocal)return;const i=e.state.constraints;if(!i.altitude)return;const s=h(t.center),a=Math.sqrt(s),c=t.distance,o=C(e.spatialReference).radius,u=i.altitude.min+o,l=i.altitude.max+o,m=(u*u-c*c-s)/(-2*a*c),d=(l*l-c*c-s)/(-2*a*c);n.min=Math.max(n.min,Math.min(Math.PI-r(d),n.max)),n.max=Math.min(n.max,Math.PI-r(m))}const _=M(),z=c(),G=M(),J=i(5),Q={min:0,max:0},V={constraints:null,radius:0,eyeRadius:0,centerIsOnSurface:!0,eyeCenterDistance:0,tiltAtCenter:0},W={eyeCenterDistance:0,requiresTwoSteps:!1};export{P as applyTiltConstraint,U as getTiltConstraintError};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}