{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../request.js\";\nimport e from \"../../geometry/Point.js\";\nimport { project as r } from \"../../geometry/projection.js\";\nimport { projectResolution as i, getProjectionOffsetGrid as a } from \"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";\nimport { isImageSource as s, rasterize as n } from \"../2d/engine/Bitmap.js\";\nimport o from \"../2d/engine/webgl/VertexStream.js\";\nimport { createProgramTemplate as m } from \"../2d/engine/webgl/shaders/MaterialPrograms.js\";\nimport { PixelFormat as p, PixelType as h, TextureWrapMode as c, TextureSamplingMode as d, TargetType as x, DepthStencilTargetType as g, ColorAttachment as u } from \"../webgl/enums.js\";\nimport { FramebufferObject as _ } from \"../webgl/FramebufferObject.js\";\nimport { createTransformTexture as f } from \"../webgl/rasterUtils.js\";\nimport { RenderingContext as l } from \"../webgl/RenderingContext.js\";\nimport { Texture as w } from \"../webgl/Texture.js\";\n\nclass b {\n  constructor(t) {\n    if (t) this._ownsRctx = !1, this._rctx = t;else {\n      if (b._instance) return b._instanceRefCount++, b._instance;\n      b._instanceRefCount = 1, b._instance = this, this._ownsRctx = !0;\n      const t = document.createElement(\"canvas\").getContext(\"webgl\");\n      t.getExtension(\"OES_texture_float\"), this._rctx = new l(t, {});\n    }\n    const e = {\n      applyProjection: !0,\n      bilinear: !1,\n      bicubic: !1\n    },\n          r = m(\"raster/reproject\", \"raster/reproject\", new Map([[\"a_position\", 0]]), e);\n    this._program = this._rctx.programCache.acquire(r.shaders.vertexShader, r.shaders.fragmentShader, r.attributes), this._rctx.useProgram(this._program), this._program.setUniform1f(\"u_opacity\", 1), this._program.setUniform1i(\"u_image\", 0), this._program.setUniform1i(\"u_flipY\", 0), this._program.setUniform1i(\"u_transformGrid\", 1), this._quad = new o(this._rctx, [0, 0, 1, 0, 0, 1, 1, 1]);\n  }\n\n  reprojectTexture(t, s, n = !1) {\n    const o = r(t.extent, s),\n          m = new e({\n      x: (t.extent.xmax - t.extent.xmin) / t.texture.descriptor.width,\n      y: (t.extent.ymax - t.extent.ymin) / t.texture.descriptor.height,\n      spatialReference: t.extent.spatialReference\n    }),\n          {\n      x: l,\n      y: b\n    } = i(m, s, t.extent);\n    let D = (l + b) / 2;\n    const T = Math.round((o.xmax - o.xmin) / D),\n          j = Math.round((o.ymax - o.ymin) / D);\n    D = (o.width / T + o.height / j) / 2;\n    const E = new e({\n      x: D,\n      y: D,\n      spatialReference: o.spatialReference\n    }),\n          R = a({\n      projectedExtent: o,\n      srcBufferExtent: t.extent,\n      pixelSize: E,\n      hasWrapAround: !0,\n      spacing: [16, 16]\n    }),\n          C = f(this._rctx, R),\n          y = new w(this._rctx, {\n      width: T,\n      height: j,\n      pixelFormat: p.RGBA,\n      dataType: h.UNSIGNED_BYTE,\n      wrapMode: c.CLAMP_TO_EDGE,\n      samplingMode: d.LINEAR,\n      hasMipmap: !1\n    }),\n          M = new _(this._rctx, {\n      colorTarget: x.TEXTURE,\n      depthStencilTarget: g.NONE,\n      width: T,\n      height: j\n    }, y);\n\n    if (this._rctx.bindFramebuffer(M), this._rctx.setViewport(0, 0, T, j), this._rctx.useProgram(this._program), this._rctx.bindTexture(t.texture, 0), this._rctx.bindTexture(C, 1), this._quad.bind(), this._program.setUniform2f(\"u_srcImageSize\", t.texture.descriptor.width, t.texture.descriptor.height), this._program.setUniform2fv(\"u_transformSpacing\", R.spacing), this._program.setUniform2fv(\"u_transformGridSize\", R.size), this._program.setUniform2f(\"u_targetImageSize\", T, j), this._quad.draw(), this._quad.unbind(), this._rctx.useProgram(null), this._rctx.bindFramebuffer(null), C.dispose(), n) {\n      const t = new ImageData(M.descriptor.width, M.descriptor.height);\n      return M.readPixels(0, 0, M.descriptor.width, M.descriptor.height, p.RGBA, h.UNSIGNED_BYTE, t.data), M.detachColorTexture(u.COLOR_ATTACHMENT0), M.dispose(), {\n        texture: y,\n        extent: o,\n        imageData: t\n      };\n    }\n\n    return M.detachColorTexture(u.COLOR_ATTACHMENT0), M.dispose(), {\n      texture: y,\n      extent: o\n    };\n  }\n\n  reprojectBitmapData(t, e) {\n    const r = s(t.bitmapData) ? n(t.bitmapData) : t.bitmapData,\n          i = new w(this._rctx, {\n      width: t.bitmapData.width,\n      height: t.bitmapData.height,\n      pixelFormat: p.RGBA,\n      dataType: h.UNSIGNED_BYTE,\n      wrapMode: c.CLAMP_TO_EDGE,\n      samplingMode: d.LINEAR,\n      hasMipmap: !1\n    }, r),\n          a = this.reprojectTexture({\n      texture: i,\n      extent: t.extent\n    }, e, !0);\n    a.texture.dispose();\n    const o = document.createElement(\"canvas\");\n    o.width = a.imageData.width, o.height = a.imageData.height;\n    return o.getContext(\"2d\").putImageData(a.imageData, 0, 0), {\n      bitmapData: o,\n      extent: a.extent\n    };\n  }\n\n  async loadAndReprojectBitmapData(e, r, i) {\n    const a = (await t(e, {\n      responseType: \"image\"\n    })).data,\n          s = document.createElement(\"canvas\");\n    s.width = a.width, s.height = a.height;\n    const n = s.getContext(\"2d\");\n    n.drawImage(a, 0, 0);\n    const o = n.getImageData(0, 0, s.width, s.height);\n    if (r.spatialReference.equals(i)) return {\n      bitmapData: o,\n      extent: r\n    };\n    const m = this.reprojectBitmapData({\n      bitmapData: o,\n      extent: r\n    }, i);\n    return {\n      bitmapData: m.bitmapData,\n      extent: m.extent\n    };\n  }\n\n  destroy() {\n    this._ownsRctx ? (b._instanceRefCount--, 0 === b._instanceRefCount && (this._quad.dispose(), this._program.dispose(), this._rctx.dispose(), b._instance = null)) : (this._quad.dispose(), this._program.dispose());\n  }\n\n}\n\nb._instanceRefCount = 0;\nexport { b as ImageReprojector };","map":{"version":3,"names":["t","e","project","r","projectResolution","i","getProjectionOffsetGrid","a","isImageSource","s","rasterize","n","o","createProgramTemplate","m","PixelFormat","p","PixelType","h","TextureWrapMode","c","TextureSamplingMode","d","TargetType","x","DepthStencilTargetType","g","ColorAttachment","u","FramebufferObject","_","createTransformTexture","f","RenderingContext","l","Texture","w","b","constructor","_ownsRctx","_rctx","_instance","_instanceRefCount","document","createElement","getContext","getExtension","applyProjection","bilinear","bicubic","Map","_program","programCache","acquire","shaders","vertexShader","fragmentShader","attributes","useProgram","setUniform1f","setUniform1i","_quad","reprojectTexture","extent","xmax","xmin","texture","descriptor","width","y","ymax","ymin","height","spatialReference","D","T","Math","round","j","E","R","projectedExtent","srcBufferExtent","pixelSize","hasWrapAround","spacing","C","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","LINEAR","hasMipmap","M","colorTarget","TEXTURE","depthStencilTarget","NONE","bindFramebuffer","setViewport","bindTexture","bind","setUniform2f","setUniform2fv","size","draw","unbind","dispose","ImageData","readPixels","data","detachColorTexture","COLOR_ATTACHMENT0","imageData","reprojectBitmapData","bitmapData","putImageData","loadAndReprojectBitmapData","responseType","drawImage","getImageData","equals","destroy","ImageReprojector"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/support/imageReprojection.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import e from\"../../geometry/Point.js\";import{project as r}from\"../../geometry/projection.js\";import{projectResolution as i,getProjectionOffsetGrid as a}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{isImageSource as s,rasterize as n}from\"../2d/engine/Bitmap.js\";import o from\"../2d/engine/webgl/VertexStream.js\";import{createProgramTemplate as m}from\"../2d/engine/webgl/shaders/MaterialPrograms.js\";import{PixelFormat as p,PixelType as h,TextureWrapMode as c,TextureSamplingMode as d,TargetType as x,DepthStencilTargetType as g,ColorAttachment as u}from\"../webgl/enums.js\";import{FramebufferObject as _}from\"../webgl/FramebufferObject.js\";import{createTransformTexture as f}from\"../webgl/rasterUtils.js\";import{RenderingContext as l}from\"../webgl/RenderingContext.js\";import{Texture as w}from\"../webgl/Texture.js\";class b{constructor(t){if(t)this._ownsRctx=!1,this._rctx=t;else{if(b._instance)return b._instanceRefCount++,b._instance;b._instanceRefCount=1,b._instance=this,this._ownsRctx=!0;const t=document.createElement(\"canvas\").getContext(\"webgl\");t.getExtension(\"OES_texture_float\"),this._rctx=new l(t,{})}const e={applyProjection:!0,bilinear:!1,bicubic:!1},r=m(\"raster/reproject\",\"raster/reproject\",new Map([[\"a_position\",0]]),e);this._program=this._rctx.programCache.acquire(r.shaders.vertexShader,r.shaders.fragmentShader,r.attributes),this._rctx.useProgram(this._program),this._program.setUniform1f(\"u_opacity\",1),this._program.setUniform1i(\"u_image\",0),this._program.setUniform1i(\"u_flipY\",0),this._program.setUniform1i(\"u_transformGrid\",1),this._quad=new o(this._rctx,[0,0,1,0,0,1,1,1])}reprojectTexture(t,s,n=!1){const o=r(t.extent,s),m=new e({x:(t.extent.xmax-t.extent.xmin)/t.texture.descriptor.width,y:(t.extent.ymax-t.extent.ymin)/t.texture.descriptor.height,spatialReference:t.extent.spatialReference}),{x:l,y:b}=i(m,s,t.extent);let D=(l+b)/2;const T=Math.round((o.xmax-o.xmin)/D),j=Math.round((o.ymax-o.ymin)/D);D=(o.width/T+o.height/j)/2;const E=new e({x:D,y:D,spatialReference:o.spatialReference}),R=a({projectedExtent:o,srcBufferExtent:t.extent,pixelSize:E,hasWrapAround:!0,spacing:[16,16]}),C=f(this._rctx,R),y=new w(this._rctx,{width:T,height:j,pixelFormat:p.RGBA,dataType:h.UNSIGNED_BYTE,wrapMode:c.CLAMP_TO_EDGE,samplingMode:d.LINEAR,hasMipmap:!1}),M=new _(this._rctx,{colorTarget:x.TEXTURE,depthStencilTarget:g.NONE,width:T,height:j},y);if(this._rctx.bindFramebuffer(M),this._rctx.setViewport(0,0,T,j),this._rctx.useProgram(this._program),this._rctx.bindTexture(t.texture,0),this._rctx.bindTexture(C,1),this._quad.bind(),this._program.setUniform2f(\"u_srcImageSize\",t.texture.descriptor.width,t.texture.descriptor.height),this._program.setUniform2fv(\"u_transformSpacing\",R.spacing),this._program.setUniform2fv(\"u_transformGridSize\",R.size),this._program.setUniform2f(\"u_targetImageSize\",T,j),this._quad.draw(),this._quad.unbind(),this._rctx.useProgram(null),this._rctx.bindFramebuffer(null),C.dispose(),n){const t=new ImageData(M.descriptor.width,M.descriptor.height);return M.readPixels(0,0,M.descriptor.width,M.descriptor.height,p.RGBA,h.UNSIGNED_BYTE,t.data),M.detachColorTexture(u.COLOR_ATTACHMENT0),M.dispose(),{texture:y,extent:o,imageData:t}}return M.detachColorTexture(u.COLOR_ATTACHMENT0),M.dispose(),{texture:y,extent:o}}reprojectBitmapData(t,e){const r=s(t.bitmapData)?n(t.bitmapData):t.bitmapData,i=new w(this._rctx,{width:t.bitmapData.width,height:t.bitmapData.height,pixelFormat:p.RGBA,dataType:h.UNSIGNED_BYTE,wrapMode:c.CLAMP_TO_EDGE,samplingMode:d.LINEAR,hasMipmap:!1},r),a=this.reprojectTexture({texture:i,extent:t.extent},e,!0);a.texture.dispose();const o=document.createElement(\"canvas\");o.width=a.imageData.width,o.height=a.imageData.height;return o.getContext(\"2d\").putImageData(a.imageData,0,0),{bitmapData:o,extent:a.extent}}async loadAndReprojectBitmapData(e,r,i){const a=(await t(e,{responseType:\"image\"})).data,s=document.createElement(\"canvas\");s.width=a.width,s.height=a.height;const n=s.getContext(\"2d\");n.drawImage(a,0,0);const o=n.getImageData(0,0,s.width,s.height);if(r.spatialReference.equals(i))return{bitmapData:o,extent:r};const m=this.reprojectBitmapData({bitmapData:o,extent:r},i);return{bitmapData:m.bitmapData,extent:m.extent}}destroy(){this._ownsRctx?(b._instanceRefCount--,0===b._instanceRefCount&&(this._quad.dispose(),this._program.dispose(),this._rctx.dispose(),b._instance=null)):(this._quad.dispose(),this._program.dispose())}}b._instanceRefCount=0;export{b as ImageReprojector};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}