{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clock as e } from \"../../../core/clock.js\";\nimport { someMap as t } from \"../../../core/MapUtils.js\";\nimport { removeMaybe as i } from \"../../../core/maybe.js\";\nimport { InputHandler as o } from \"../InputHandler.js\";\nimport { manhattanDistance as l } from \"./support.js\";\nconst s = {\n  maximumDoubleClickDelay: 250,\n  maximumDoubleClickDistance: 10,\n  maximumDoubleTouchDelay: 350,\n  maximumDoubleTouchDistance: 35\n};\n\nclass a extends o {\n  constructor(t = s.maximumDoubleClickDelay, i = s.maximumDoubleClickDistance, o = s.maximumDoubleTouchDelay, l = s.maximumDoubleTouchDistance, a = e) {\n    super(!1), this.maximumDoubleClickDelay = t, this.maximumDoubleClickDistance = i, this.maximumDoubleTouchDelay = o, this.maximumDoubleTouchDistance = l, this._clock = a, this._pointerState = new Map(), this._click = this.registerOutgoing(\"click\"), this._doubleClick = this.registerOutgoing(\"double-click\"), this.registerIncoming(\"immediate-click\", this._handleImmediateClick.bind(this)), this.registerIncoming(\"pointer-drag\", this._handlePointerDrag.bind(this)), this.registerIncoming(\"drag\", this._handleDrag.bind(this));\n  }\n\n  onUninstall() {\n    this._pointerState.forEach(e => e.doubleClickTimeout = i(e.doubleClickTimeout));\n  }\n\n  get hasPendingInputs() {\n    return t(this._pointerState, e => null != e.doubleClickTimeout);\n  }\n\n  _pointerId(e) {\n    const t = e.native;\n    return \"mouse\" === t.pointerType ? `${t.pointerId}:${t.button}` : `${t.pointerType}`;\n  }\n\n  _handleImmediateClick(e) {\n    const t = e.data,\n          i = this._pointerId(t),\n          o = this._pointerState.get(i);\n\n    if (o) {\n      const s = \"touch\" === t.native.pointerType ? this.maximumDoubleTouchDistance : this.maximumDoubleClickDistance;\n      l(o.event.data, t) > s ? (this._clearDoubleClickTimeout(i, !0), this._startClick(e)) : (this._clearDoubleClickTimeout(i, !1), this._doubleClick.emit(o.event.data, void 0, o.event.modifiers));\n    } else this._startClick(e);\n  }\n\n  _startClick(e) {\n    const t = this._pointerId(e.data),\n          i = \"touch\" === e.data.native.pointerType ? this.maximumDoubleTouchDelay : this.maximumDoubleClickDelay;\n\n    this._pointerState.set(t, {\n      event: e,\n      doubleClickTimeout: this._clock.setTimeout(() => this._doubleClickTimeoutExceeded(t), i)\n    }), this.refreshHasPendingInputs();\n  }\n\n  _handlePointerDrag(e) {\n    const t = this._pointerId(e.data.currentEvent);\n\n    this._clearDoubleClickTimeout(t, !0);\n  }\n\n  _handleDrag(e) {\n    const t = this._pointerId(e.data.pointer);\n\n    this._clearDoubleClickTimeout(t, !0);\n  }\n\n  _clearDoubleClickTimeout(e, t) {\n    const i = this._pointerState.get(e);\n\n    i && (i.doubleClickTimeout.remove(), i.doubleClickTimeout = null, t && this._doubleClickTimeoutExceeded(e), this._pointerState.delete(e), this.refreshHasPendingInputs());\n  }\n\n  _doubleClickTimeoutExceeded(e) {\n    const t = this._pointerState.get(e);\n\n    this._click.emit(t.event.data, void 0, t.event.modifiers), t.doubleClickTimeout = null, this._pointerState.delete(e), this.refreshHasPendingInputs();\n  }\n\n}\n\nexport { s as DefaultParameters, a as SingleAndDoubleClick };","map":{"version":3,"names":["clock","e","someMap","t","removeMaybe","i","InputHandler","o","manhattanDistance","l","s","maximumDoubleClickDelay","maximumDoubleClickDistance","maximumDoubleTouchDelay","maximumDoubleTouchDistance","a","constructor","_clock","_pointerState","Map","_click","registerOutgoing","_doubleClick","registerIncoming","_handleImmediateClick","bind","_handlePointerDrag","_handleDrag","onUninstall","forEach","doubleClickTimeout","hasPendingInputs","_pointerId","native","pointerType","pointerId","button","data","get","event","_clearDoubleClickTimeout","_startClick","emit","modifiers","set","setTimeout","_doubleClickTimeoutExceeded","refreshHasPendingInputs","currentEvent","pointer","remove","delete","DefaultParameters","SingleAndDoubleClick"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/input/recognizers/SingleAndDoubleClick.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clock as e}from\"../../../core/clock.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{removeMaybe as i}from\"../../../core/maybe.js\";import{InputHandler as o}from\"../InputHandler.js\";import{manhattanDistance as l}from\"./support.js\";const s={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class a extends o{constructor(t=s.maximumDoubleClickDelay,i=s.maximumDoubleClickDistance,o=s.maximumDoubleTouchDelay,l=s.maximumDoubleTouchDistance,a=e){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=o,this.maximumDoubleTouchDistance=l,this._clock=a,this._pointerState=new Map,this._click=this.registerOutgoing(\"click\"),this._doubleClick=this.registerOutgoing(\"double-click\"),this.registerIncoming(\"immediate-click\",this._handleImmediateClick.bind(this)),this.registerIncoming(\"pointer-drag\",this._handlePointerDrag.bind(this)),this.registerIncoming(\"drag\",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimeout=i(e.doubleClickTimeout)))}get hasPendingInputs(){return t(this._pointerState,(e=>null!=e.doubleClickTimeout))}_pointerId(e){const t=e.native;return\"mouse\"===t.pointerType?`${t.pointerId}:${t.button}`:`${t.pointerType}`}_handleImmediateClick(e){const t=e.data,i=this._pointerId(t),o=this._pointerState.get(i);if(o){const s=\"touch\"===t.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;l(o.event.data,t)>s?(this._clearDoubleClickTimeout(i,!0),this._startClick(e)):(this._clearDoubleClickTimeout(i,!1),this._doubleClick.emit(o.event.data,void 0,o.event.modifiers))}else this._startClick(e)}_startClick(e){const t=this._pointerId(e.data),i=\"touch\"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(t,{event:e,doubleClickTimeout:this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(t)),i)}),this.refreshHasPendingInputs()}_handlePointerDrag(e){const t=this._pointerId(e.data.currentEvent);this._clearDoubleClickTimeout(t,!0)}_handleDrag(e){const t=this._pointerId(e.data.pointer);this._clearDoubleClickTimeout(t,!0)}_clearDoubleClickTimeout(e,t){const i=this._pointerState.get(e);i&&(i.doubleClickTimeout.remove(),i.doubleClickTimeout=null,t&&this._doubleClickTimeoutExceeded(e),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}}export{s as DefaultParameters,a as SingleAndDoubleClick};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}