{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { c as t, r as i } from \"../../../chunks/vec3.js\";\nimport { c as s } from \"../../../chunks/vec3f64.js\";\nimport { PointIndex as e, create as r, createPoints as n, fromMatrix as o, computePlanes as u, intersectsSphere as h, intersectsRay as _, intersectsLineSegment as p, intersectsPoint as l, planePointIndices as c } from \"../../../geometry/support/frustum.js\";\n\nclass d {\n  constructor(t) {\n    this.renderCoordsHelper = t, this.frustum = r(), this._points = n(), this.lines = new Array(12), this._origin = s(), this._direction = s(), this._altitude = null;\n\n    for (let i = 0; i < 12; i++) this.lines[i] = {\n      origin: null,\n      direction: s(),\n      endpoint: null\n    };\n  }\n\n  get planes() {\n    return this.frustum;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get mutablePoints() {\n    return this._points;\n  }\n\n  get direction() {\n    return this._direction;\n  }\n\n  update(i) {\n    o(i.viewMatrix, i.projectionMatrix, this.frustum, this._points), t(this._origin, i.eye), t(this._direction, i.viewForward), this._altitude = this.renderCoordsHelper.getAltitude(this._origin), this._updateLines();\n  }\n\n  updatePoints(i) {\n    for (let s = 0; s < this._points.length; s++) t(this._points[s], i[s]);\n\n    u(this.frustum, this._points), this._updateLines();\n  }\n\n  get altitude() {\n    return this._altitude;\n  }\n\n  intersectsSphere(t) {\n    return h(this.frustum, t);\n  }\n\n  intersectsRay(t) {\n    return _(this.frustum, t);\n  }\n\n  intersectsLineSegment(t, i) {\n    return p(this.frustum, t, i);\n  }\n\n  intersectsPoint(t) {\n    return l(this.frustum, t);\n  }\n\n  _updateLines() {\n    const t = this._points;\n\n    for (let i = 0; i < 4; i++) {\n      const s = i + 4;\n      a(this.lines[i], t[i], t[s]), a(this.lines[i + 4], t[i], 3 === i ? t[0] : t[i + 1]), a(this.lines[i + 8], t[s], 3 === i ? t[4] : t[s + 1]);\n    }\n  }\n\n}\n\nfunction a(t, s, e) {\n  t.origin = s, t.endpoint = e, i(t.direction, s, e);\n}\n\nd.planePointIndices = c, d.nearFarLineIndices = [[e.NEAR_BOTTOM_LEFT, e.FAR_BOTTOM_LEFT], [e.NEAR_BOTTOM_RIGHT, e.FAR_BOTTOM_RIGHT], [e.NEAR_TOP_RIGHT, e.FAR_TOP_RIGHT], [e.NEAR_TOP_LEFT, e.FAR_TOP_LEFT]];\nexport { d as Frustum };","map":{"version":3,"names":["c","t","r","i","s","PointIndex","e","create","createPoints","n","fromMatrix","o","computePlanes","u","intersectsSphere","h","intersectsRay","_","intersectsLineSegment","p","intersectsPoint","l","planePointIndices","d","constructor","renderCoordsHelper","frustum","_points","lines","Array","_origin","_direction","_altitude","origin","direction","endpoint","planes","points","mutablePoints","update","viewMatrix","projectionMatrix","eye","viewForward","getAltitude","_updateLines","updatePoints","length","altitude","a","nearFarLineIndices","NEAR_BOTTOM_LEFT","FAR_BOTTOM_LEFT","NEAR_BOTTOM_RIGHT","FAR_BOTTOM_RIGHT","NEAR_TOP_RIGHT","FAR_TOP_RIGHT","NEAR_TOP_LEFT","FAR_TOP_LEFT","Frustum"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/state/Frustum.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as t,r as i}from\"../../../chunks/vec3.js\";import{c as s}from\"../../../chunks/vec3f64.js\";import{PointIndex as e,create as r,createPoints as n,fromMatrix as o,computePlanes as u,intersectsSphere as h,intersectsRay as _,intersectsLineSegment as p,intersectsPoint as l,planePointIndices as c}from\"../../../geometry/support/frustum.js\";class d{constructor(t){this.renderCoordsHelper=t,this.frustum=r(),this._points=n(),this.lines=new Array(12),this._origin=s(),this._direction=s(),this._altitude=null;for(let i=0;i<12;i++)this.lines[i]={origin:null,direction:s(),endpoint:null}}get planes(){return this.frustum}get points(){return this._points}get mutablePoints(){return this._points}get direction(){return this._direction}update(i){o(i.viewMatrix,i.projectionMatrix,this.frustum,this._points),t(this._origin,i.eye),t(this._direction,i.viewForward),this._altitude=this.renderCoordsHelper.getAltitude(this._origin),this._updateLines()}updatePoints(i){for(let s=0;s<this._points.length;s++)t(this._points[s],i[s]);u(this.frustum,this._points),this._updateLines()}get altitude(){return this._altitude}intersectsSphere(t){return h(this.frustum,t)}intersectsRay(t){return _(this.frustum,t)}intersectsLineSegment(t,i){return p(this.frustum,t,i)}intersectsPoint(t){return l(this.frustum,t)}_updateLines(){const t=this._points;for(let i=0;i<4;i++){const s=i+4;a(this.lines[i],t[i],t[s]),a(this.lines[i+4],t[i],3===i?t[0]:t[i+1]),a(this.lines[i+8],t[s],3===i?t[4]:t[s+1])}}}function a(t,s,e){t.origin=s,t.endpoint=e,i(t.direction,s,e)}d.planePointIndices=c,d.nearFarLineIndices=[[e.NEAR_BOTTOM_LEFT,e.FAR_BOTTOM_LEFT],[e.NEAR_BOTTOM_RIGHT,e.FAR_BOTTOM_RIGHT],[e.NEAR_TOP_RIGHT,e.FAR_TOP_RIGHT],[e.NEAR_TOP_LEFT,e.FAR_TOP_LEFT]];export{d as Frustum};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}