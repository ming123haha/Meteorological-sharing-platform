{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport o from \"../../../core/Handles.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { when as i, watch as n, initial as s } from \"../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as p } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { DoubleClickZoom as c } from \"./handlers/DoubleClickZoom.js\";\nimport { DoubleTapDragZoom as l } from \"./handlers/DoubleTapDragZoom.js\";\nimport { DragPan as m } from \"./handlers/DragPan.js\";\nimport { DragRotate as u } from \"./handlers/DragRotate.js\";\nimport { GamepadNavigation as h } from \"./handlers/GamepadNavigation.js\";\nimport { KeyPan as w } from \"./handlers/KeyPan.js\";\nimport { KeyRotate as d } from \"./handlers/KeyRotate.js\";\nimport { KeyZoom as v } from \"./handlers/KeyZoom.js\";\nimport { MouseWheelZoom as g } from \"./handlers/MouseWheelZoom.js\";\nimport { PinchRotateAndZoom as f } from \"./handlers/PinchAction.js\";\nimport { BrowserEventSource as j } from \"../../input/BrowserEventSource.js\";\nimport { InputManager as _, ViewEventPriorities as y } from \"../../input/InputManager.js\";\nimport { PreventContextMenu as A } from \"../../input/handlers/PreventContextMenu.js\";\nimport { DoubleTapDrag as D } from \"../../input/recognizers/DoubleTapDrag.js\";\nimport { Drag as M } from \"../../input/recognizers/Drag.js\";\nimport { ImmediateDoubleClick as P } from \"../../input/recognizers/ImmediateDoubleClick.js\";\nimport { PointerClickHoldAndDrag as T } from \"../../input/recognizers/PointerClickHoldAndDrag.js\";\nimport { SingleAndDoubleClick as b } from \"../../input/recognizers/SingleAndDoubleClick.js\";\nconst z = {\n  counter: \"Ctrl\",\n  pan: {\n    left: \"ArrowLeft\",\n    right: \"ArrowRight\",\n    up: \"ArrowUp\",\n    down: \"ArrowDown\"\n  },\n  zoom: {\n    zoomIn: [\"=\", \"+\"],\n    zoomOut: [\"-\", \"_\"]\n  },\n  rotate: {\n    clockwiseOption1: \"a\",\n    clockwiseOption2: \"A\",\n    counterClockwiseOption1: \"d\",\n    counterClockwiseOption2: \"D\",\n    resetOption1: \"n\",\n    resetOption2: \"N\"\n  }\n};\nlet k = class extends t {\n  constructor() {\n    super(...arguments), this._handles = new o();\n  }\n\n  initialize() {\n    const e = () => this.view?.ready;\n\n    this._handles.add([i(() => !e(), () => this._disconnect()), i(e, () => this._connect())]);\n  }\n\n  destroy() {\n    this._handles && (this._handles.removeAll(), this._handles = null), this._disconnect();\n  }\n\n  get latestPointerType() {\n    return this._inputManager?.latestPointerType;\n  }\n\n  get latestPointerLocation() {\n    return this._inputManager?.latestPointerLocation;\n  }\n\n  get multiTouchActive() {\n    return this._inputManager?.multiTouchActive ?? !1;\n  }\n\n  _disconnect() {\n    this.view.viewEvents.disconnect(), this._inputManager = r(this._inputManager);\n  }\n\n  _connect() {\n    const e = this.view.surface,\n          t = new j(e, this.view.input),\n          o = [new P(), new T(), new b(), new M(this.view.navigation), new D()],\n          r = new _({\n      eventSource: t,\n      recognizers: o\n    });\n    r.installHandlers(\"prevent-context-menu\", [new A()], y.INTERNAL), r.installHandlers(\"navigation\", [new f(this.view), new h(this.view), new g(this.view), new c(this.view), new c(this.view, [z.counter]), new m(this.view, \"primary\"), new w(this.view, z.pan), new v(this.view, z.zoom), new d(this.view, z.rotate), new u(this.view, \"secondary\"), new l(this.view, \"touch\")], y.INTERNAL), this.view.viewEvents.connect(r), this._source = t, this._inputManager = r, n(() => this.view?.navigation?.browserTouchPanEnabled, e => {\n      this._source && (this._source.browserTouchPanningEnabled = !e);\n    }, s);\n  }\n\n  get test() {\n    return {\n      inputManager: this._inputManager\n    };\n  }\n\n};\ne([a()], k.prototype, \"view\", void 0), e([a()], k.prototype, \"latestPointerType\", null), e([a()], k.prototype, \"latestPointerLocation\", null), e([a()], k.prototype, \"multiTouchActive\", null), k = e([p(\"esri.views.2d.input.MapViewInputManager\")], k);\nconst C = k;\nexport { C as default };","map":{"version":3,"names":["_","e","t","o","destroyMaybe","r","when","i","watch","n","initial","s","property","a","subclass","p","DoubleClickZoom","c","DoubleTapDragZoom","l","DragPan","m","DragRotate","u","GamepadNavigation","h","KeyPan","w","KeyRotate","d","KeyZoom","v","MouseWheelZoom","g","PinchRotateAndZoom","f","BrowserEventSource","j","InputManager","ViewEventPriorities","y","PreventContextMenu","A","DoubleTapDrag","D","Drag","M","ImmediateDoubleClick","P","PointerClickHoldAndDrag","T","SingleAndDoubleClick","b","z","counter","pan","left","right","up","down","zoom","zoomIn","zoomOut","rotate","clockwiseOption1","clockwiseOption2","counterClockwiseOption1","counterClockwiseOption2","resetOption1","resetOption2","k","constructor","arguments","_handles","initialize","view","ready","add","_disconnect","_connect","destroy","removeAll","latestPointerType","_inputManager","latestPointerLocation","multiTouchActive","viewEvents","disconnect","surface","input","navigation","eventSource","recognizers","installHandlers","INTERNAL","connect","_source","browserTouchPanEnabled","browserTouchPanningEnabled","test","inputManager","prototype","C","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/input/MapViewInputManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{when as i,watch as n,initial as s}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DoubleClickZoom as c}from\"./handlers/DoubleClickZoom.js\";import{DoubleTapDragZoom as l}from\"./handlers/DoubleTapDragZoom.js\";import{DragPan as m}from\"./handlers/DragPan.js\";import{DragRotate as u}from\"./handlers/DragRotate.js\";import{GamepadNavigation as h}from\"./handlers/GamepadNavigation.js\";import{KeyPan as w}from\"./handlers/KeyPan.js\";import{KeyRotate as d}from\"./handlers/KeyRotate.js\";import{KeyZoom as v}from\"./handlers/KeyZoom.js\";import{MouseWheelZoom as g}from\"./handlers/MouseWheelZoom.js\";import{PinchRotateAndZoom as f}from\"./handlers/PinchAction.js\";import{BrowserEventSource as j}from\"../../input/BrowserEventSource.js\";import{InputManager as _,ViewEventPriorities as y}from\"../../input/InputManager.js\";import{PreventContextMenu as A}from\"../../input/handlers/PreventContextMenu.js\";import{DoubleTapDrag as D}from\"../../input/recognizers/DoubleTapDrag.js\";import{Drag as M}from\"../../input/recognizers/Drag.js\";import{ImmediateDoubleClick as P}from\"../../input/recognizers/ImmediateDoubleClick.js\";import{PointerClickHoldAndDrag as T}from\"../../input/recognizers/PointerClickHoldAndDrag.js\";import{SingleAndDoubleClick as b}from\"../../input/recognizers/SingleAndDoubleClick.js\";const z={counter:\"Ctrl\",pan:{left:\"ArrowLeft\",right:\"ArrowRight\",up:\"ArrowUp\",down:\"ArrowDown\"},zoom:{zoomIn:[\"=\",\"+\"],zoomOut:[\"-\",\"_\"]},rotate:{clockwiseOption1:\"a\",clockwiseOption2:\"A\",counterClockwiseOption1:\"d\",counterClockwiseOption2:\"D\",resetOption1:\"n\",resetOption2:\"N\"}};let k=class extends t{constructor(){super(...arguments),this._handles=new o}initialize(){const e=()=>this.view?.ready;this._handles.add([i((()=>!e()),(()=>this._disconnect())),i(e,(()=>this._connect()))])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=r(this._inputManager)}_connect(){const e=this.view.surface,t=new j(e,this.view.input),o=[new P,new T,new b,new M(this.view.navigation),new D],r=new _({eventSource:t,recognizers:o});r.installHandlers(\"prevent-context-menu\",[new A],y.INTERNAL),r.installHandlers(\"navigation\",[new f(this.view),new h(this.view),new g(this.view),new c(this.view),new c(this.view,[z.counter]),new m(this.view,\"primary\"),new w(this.view,z.pan),new v(this.view,z.zoom),new d(this.view,z.rotate),new u(this.view,\"secondary\"),new l(this.view,\"touch\")],y.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,n((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)}),s)}get test(){return{inputManager:this._inputManager}}};e([a()],k.prototype,\"view\",void 0),e([a()],k.prototype,\"latestPointerType\",null),e([a()],k.prototype,\"latestPointerLocation\",null),e([a()],k.prototype,\"multiTouchActive\",null),k=e([p(\"esri.views.2d.input.MapViewInputManager\")],k);const C=k;export{C as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}