{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport { isSome as o, isNone as r } from \"../../../../core/maybe.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ContentObjectType as s } from \"../lib/ContentObjectType.js\";\nimport { GridLocalOriginFactory as a } from \"../lib/GridLocalOriginFactory.js\";\nimport c from \"../lib/ModelDirtySet.js\";\nimport { RenderGeometry as d } from \"../lib/RenderGeometry.js\";\nimport { assert as m } from \"../lib/Util.js\";\nimport { isWebGLLayer as l } from \"../lib/WebGLLayer.js\";\nlet h = class extends e {\n  constructor() {\n    super(...arguments), this.dirtySet = new c({\n      model: this\n    }), this._content = new Map(), this._originFactory = new a(null, 75e4);\n  }\n\n  getObject(t) {\n    return this._content.get(t);\n  }\n\n  add(t) {\n    const e = t.id;\n    m(!this._content.has(e), \"Model/Stage already contains object to be added\"), this._content.set(e, t), l(t) && this.dirtySet.layerAdded(t);\n  }\n\n  remove(t) {\n    m(this._content.has(t.id), \"Model/Stage doesn't contain object to be removed\"), this._content.delete(t.id), t.unload(), l(t) && this.dirtySet.layerRemoved(t);\n  }\n\n  addMany(t) {\n    for (const e of t) o(e) && (m(!this._content.has(e.id), \"Model/Stage already contains object to be added\"), this._content.set(e.id, e));\n  }\n\n  removeMany(t) {\n    for (const e of t) m(this._content.has(e.id), \"Model/Stage doesn't contain object to be removed\"), this._content.delete(e.id), e.unload();\n  }\n\n  has(t) {\n    return this._content.has(t.id);\n  }\n\n  forEachOfType(t, e) {\n    this._content.forEach(o => {\n      o.type === t && e(o);\n    });\n  }\n\n  getRenderGeometry(t, e) {\n    const {\n      geometry: o,\n      material: r,\n      id: n,\n      shaderTransformation: i,\n      origin: s,\n      instanceParameters: a\n    } = e,\n          c = new d(o, r, {\n      id: n,\n      boundingInfo: o.boundingInfo,\n      calculateShaderTransformation: i,\n      castShadow: t.castShadow\n    });\n    return c.updateTransformation(o => t.getCombinedStaticTransformation(e, o)), c.origin = s || this._originFactory.getOrigin(c.boundingSphere), c.instanceParameters = a, c;\n  }\n\n  updateRenderGeometryTransformation(t, e, o) {\n    if (r(t)) return !1;\n    o.updateTransformation(o => t.getCombinedStaticTransformation(e, o));\n\n    const n = this._originFactory.getOrigin(o.boundingSphere);\n\n    return o.origin !== n;\n  }\n\n  getStats() {\n    const t = {},\n          e = Array.from(this._content.values());\n\n    for (let o = 0; o < s.COUNT; ++o) t[o] = e.filter(t => t.type === o).length;\n\n    return {\n      contentTypes: t,\n      dirtySet: this.dirtySet.formatDebugInfo()\n    };\n  }\n\n  get test() {\n    return {\n      content: Array.from(this._content.values())\n    };\n  }\n\n};\nt([n({\n  constructOnly: !0\n})], h.prototype, \"dirtySet\", void 0), h = t([i(\"esri.views.3d.webgl-engine.parts.Model\")], h);\nexport { h as Model };","map":{"version":3,"names":["_","t","e","isSome","o","isNone","r","property","n","subclass","i","ContentObjectType","s","GridLocalOriginFactory","a","c","RenderGeometry","d","assert","m","isWebGLLayer","l","h","constructor","arguments","dirtySet","model","_content","Map","_originFactory","getObject","get","add","id","has","set","layerAdded","remove","delete","unload","layerRemoved","addMany","removeMany","forEachOfType","forEach","type","getRenderGeometry","geometry","material","shaderTransformation","origin","instanceParameters","boundingInfo","calculateShaderTransformation","castShadow","updateTransformation","getCombinedStaticTransformation","getOrigin","boundingSphere","updateRenderGeometryTransformation","getStats","Array","from","values","COUNT","filter","length","contentTypes","formatDebugInfo","test","content","constructOnly","prototype","Model"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/parts/Model.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{isSome as o,isNone as r}from\"../../../../core/maybe.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ContentObjectType as s}from\"../lib/ContentObjectType.js\";import{GridLocalOriginFactory as a}from\"../lib/GridLocalOriginFactory.js\";import c from\"../lib/ModelDirtySet.js\";import{RenderGeometry as d}from\"../lib/RenderGeometry.js\";import{assert as m}from\"../lib/Util.js\";import{isWebGLLayer as l}from\"../lib/WebGLLayer.js\";let h=class extends e{constructor(){super(...arguments),this.dirtySet=new c({model:this}),this._content=new Map,this._originFactory=new a(null,75e4)}getObject(t){return this._content.get(t)}add(t){const e=t.id;m(!this._content.has(e),\"Model/Stage already contains object to be added\"),this._content.set(e,t),l(t)&&this.dirtySet.layerAdded(t)}remove(t){m(this._content.has(t.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(t.id),t.unload(),l(t)&&this.dirtySet.layerRemoved(t)}addMany(t){for(const e of t)o(e)&&(m(!this._content.has(e.id),\"Model/Stage already contains object to be added\"),this._content.set(e.id,e))}removeMany(t){for(const e of t)m(this._content.has(e.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(e.id),e.unload()}has(t){return this._content.has(t.id)}forEachOfType(t,e){this._content.forEach((o=>{o.type===t&&e(o)}))}getRenderGeometry(t,e){const{geometry:o,material:r,id:n,shaderTransformation:i,origin:s,instanceParameters:a}=e,c=new d(o,r,{id:n,boundingInfo:o.boundingInfo,calculateShaderTransformation:i,castShadow:t.castShadow});return c.updateTransformation((o=>t.getCombinedStaticTransformation(e,o))),c.origin=s||this._originFactory.getOrigin(c.boundingSphere),c.instanceParameters=a,c}updateRenderGeometryTransformation(t,e,o){if(r(t))return!1;o.updateTransformation((o=>t.getCombinedStaticTransformation(e,o)));const n=this._originFactory.getOrigin(o.boundingSphere);return o.origin!==n}getStats(){const t={},e=Array.from(this._content.values());for(let o=0;o<s.COUNT;++o)t[o]=e.filter((t=>t.type===o)).length;return{contentTypes:t,dirtySet:this.dirtySet.formatDebugInfo()}}get test(){return{content:Array.from(this._content.values())}}};t([n({constructOnly:!0})],h.prototype,\"dirtySet\",void 0),h=t([i(\"esri.views.3d.webgl-engine.parts.Model\")],h);export{h as Model};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}