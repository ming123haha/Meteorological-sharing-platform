{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Collection.js\";\nimport r from \"../../../core/CollectionFlattener.js\";\nimport { isSome as i, isNone as s } from \"../../../core/maybe.js\";\nimport { initial as o, watch as a } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport p from \"../../../rest/support/DirectionLine.js\";\nimport l from \"../../../rest/support/DirectionPoint.js\";\nimport c from \"../../../rest/support/PointBarrier.js\";\nimport g from \"../../../rest/support/PolygonBarrier.js\";\nimport d from \"../../../rest/support/PolylineBarrier.js\";\nimport u from \"../../../rest/support/RouteInfo.js\";\nimport _ from \"../../../rest/support/Stop.js\";\nimport { LayerView2DMixin as m } from \"./LayerView2D.js\";\nimport w from \"./graphics/GraphicContainer.js\";\nimport f from \"./graphics/GraphicsView2D.js\";\nimport y from \"../../layers/LayerView.js\";\nconst k = Object.freeze({\n  remove() {},\n\n  pause() {},\n\n  resume() {}\n\n}),\n      v = [\"route-info\", \"direction-line\", \"direction-point\", \"polygon-barrier\", \"polyline-barrier\", \"point-barrier\", \"stop\"],\n      M = {\n  graphic: null,\n  property: null,\n  oldValue: null,\n  newValue: null\n};\n\nfunction V(e) {\n  return e instanceof p || e instanceof l || e instanceof c || e instanceof g || e instanceof d || e instanceof u || e instanceof _;\n}\n\nfunction j(e) {\n  return t.isCollection(e) && e.length && V(e.getItemAt(0));\n}\n\nfunction G(e) {\n  return Array.isArray(e) && e.length && V(e[0]);\n}\n\nlet I = class extends m(y) {\n  constructor() {\n    super(...arguments), this._graphics = new t(), this._highlightIds = new Map(), this._networkFeatureMap = new Map(), this._networkGraphicMap = new Map();\n  }\n\n  get _routeItems() {\n    return new r({\n      getCollections: () => i(this.layer) && !this.destroyed ? [i(this.layer.routeInfo) ? new t([this.layer.routeInfo]) : null, this.layer.directionLines, this.layer.directionPoints, this.layer.polygonBarriers, this.layer.polylineBarriers, this.layer.pointBarriers, this.layer.stops] : []\n    });\n  }\n\n  initialize() {\n    this.updatingHandles.addOnCollectionChange(() => this._routeItems, e => this._routeItemsChanged(e), o);\n  }\n\n  destroy() {\n    this.handles.removeAll(), this.updatingHandles.removeAll(), this._networkFeatureMap.clear(), this._networkGraphicMap.clear(), this._graphics.removeAll(), this._get(\"_routeItems\")?.destroy();\n  }\n\n  attach() {\n    this._createGraphicsView();\n  }\n\n  detach() {\n    this._destroyGraphicsView();\n  }\n\n  async fetchPopupFeatures(e) {\n    return this._graphicsView.hitTest(e).filter(e => !!e.popupTemplate);\n  }\n\n  highlight(e) {\n    let t;\n    t = V(e) ? [this._getNetworkFeatureUid(e)] : G(e) ? e.map(e => this._getNetworkFeatureUid(e)) : j(e) ? e.map(e => this._getNetworkFeatureUid(e)).toArray() : [e.uid];\n    const r = t.filter(i);\n    return r.length ? (this._addHighlight(r), {\n      remove: () => this._removeHighlight(r)\n    }) : k;\n  }\n\n  async hitTest(e, t) {\n    if (this.suspended) return null;\n\n    const r = this._graphicsView.hitTest(e).filter(i).map(e => this._networkGraphicMap.get(e));\n\n    if (!r.length) return null;\n    const {\n      layer: s\n    } = this;\n    return r.reverse().map(t => ({\n      type: \"route\",\n      layer: s,\n      mapPoint: e,\n      networkFeature: t\n    }));\n  }\n\n  isUpdating() {\n    return this._graphicsView.updating;\n  }\n\n  moveStart() {}\n\n  moveEnd() {}\n\n  update(e) {\n    this._graphicsView.processUpdate(e);\n  }\n\n  viewChange() {\n    this._graphicsView.viewChange();\n  }\n\n  _addHighlight(e) {\n    for (const t of e) if (this._highlightIds.has(t)) {\n      const e = this._highlightIds.get(t);\n\n      this._highlightIds.set(t, e + 1);\n    } else this._highlightIds.set(t, 1);\n\n    this._updateHighlight();\n  }\n\n  _createGraphic(e) {\n    const t = e.toGraphic();\n    return t.layer = this.layer, t.sourceLayer = this.layer, t;\n  }\n\n  _createGraphicsView() {\n    const e = this.view,\n          t = () => this.requestUpdate(),\n          r = new w(e.featuresTilingScheme);\n\n    this._graphicsView = new f({\n      container: r,\n      graphics: this._graphics,\n      requestUpdateCallback: t,\n      view: e\n    }), this.container.addChild(r), this._updateHighlight();\n  }\n\n  _destroyGraphicsView() {\n    this.container.removeChild(this._graphicsView.container), this._graphicsView.destroy();\n  }\n\n  _getDrawOrder(e) {\n    const t = this._networkGraphicMap.get(e);\n\n    return v.indexOf(t.type);\n  }\n\n  _getNetworkFeatureUid(e) {\n    return this._networkFeatureMap.has(e) ? this._networkFeatureMap.get(e).uid : null;\n  }\n\n  _removeHighlight(e) {\n    for (const t of e) if (this._highlightIds.has(t)) {\n      const e = this._highlightIds.get(t) - 1;\n      0 === e ? this._highlightIds.delete(t) : this._highlightIds.set(t, e);\n    }\n\n    this._updateHighlight();\n  }\n\n  _routeItemsChanged(e) {\n    if (e.removed.length) {\n      this._graphics.removeMany(e.removed.map(e => {\n        const t = this._networkFeatureMap.get(e);\n\n        return this._networkFeatureMap.delete(e), this._networkGraphicMap.delete(t), t;\n      }));\n\n      for (const t of e.removed) this.handles.remove(t);\n    }\n\n    if (e.added.length) {\n      this._graphics.addMany(e.added.map(e => {\n        const t = this._createGraphic(e);\n\n        return s(t.symbol) ? null : (this._networkFeatureMap.set(e, t), this._networkGraphicMap.set(t, e), t);\n      }).filter(i));\n\n      for (const t of e.added) this.handles.add([a(() => t.geometry, (e, r) => {\n        this._updateGraphic(t, \"geometry\", e, r);\n      }), a(() => t.symbol, (e, r) => {\n        this._updateGraphic(t, \"symbol\", e, r);\n      })], t);\n\n      this._graphics.sort((e, t) => this._getDrawOrder(e) - this._getDrawOrder(t));\n    }\n  }\n\n  _updateGraphic(e, t, r, i) {\n    if (!this._networkFeatureMap.has(e)) {\n      const t = this._createGraphic(e);\n\n      return this._networkFeatureMap.set(e, t), this._networkGraphicMap.set(t, e), void this._graphics.add(t);\n    }\n\n    const s = this._networkFeatureMap.get(e);\n\n    s[t] = r, M.graphic = s, M.property = t, M.oldValue = i, M.newValue = r, this._graphicsView.graphicUpdateHandler(M);\n  }\n\n  _updateHighlight() {\n    const e = Array.from(this._highlightIds.keys());\n\n    this._graphicsView.setHighlight(e);\n  }\n\n};\ne([h()], I.prototype, \"_graphics\", void 0), e([h()], I.prototype, \"_routeItems\", null), I = e([n(\"esri.views.2d.layers.RouteLayerView2D\")], I);\nconst F = I;\nexport { F as default };","map":{"version":3,"names":["_","e","t","r","isSome","i","isNone","s","initial","o","watch","a","property","h","subclass","n","p","l","c","g","d","u","LayerView2DMixin","m","w","f","y","k","Object","freeze","remove","pause","resume","v","M","graphic","oldValue","newValue","V","j","isCollection","length","getItemAt","G","Array","isArray","I","constructor","arguments","_graphics","_highlightIds","Map","_networkFeatureMap","_networkGraphicMap","_routeItems","getCollections","layer","destroyed","routeInfo","directionLines","directionPoints","polygonBarriers","polylineBarriers","pointBarriers","stops","initialize","updatingHandles","addOnCollectionChange","_routeItemsChanged","destroy","handles","removeAll","clear","_get","attach","_createGraphicsView","detach","_destroyGraphicsView","fetchPopupFeatures","_graphicsView","hitTest","filter","popupTemplate","highlight","_getNetworkFeatureUid","map","toArray","uid","_addHighlight","_removeHighlight","suspended","get","reverse","type","mapPoint","networkFeature","isUpdating","updating","moveStart","moveEnd","update","processUpdate","viewChange","has","set","_updateHighlight","_createGraphic","toGraphic","sourceLayer","view","requestUpdate","featuresTilingScheme","container","graphics","requestUpdateCallback","addChild","removeChild","_getDrawOrder","indexOf","delete","removed","removeMany","added","addMany","symbol","add","geometry","_updateGraphic","sort","graphicUpdateHandler","from","keys","setHighlight","prototype","F","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/RouteLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import r from\"../../../core/CollectionFlattener.js\";import{isSome as i,isNone as s}from\"../../../core/maybe.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../rest/support/DirectionLine.js\";import l from\"../../../rest/support/DirectionPoint.js\";import c from\"../../../rest/support/PointBarrier.js\";import g from\"../../../rest/support/PolygonBarrier.js\";import d from\"../../../rest/support/PolylineBarrier.js\";import u from\"../../../rest/support/RouteInfo.js\";import _ from\"../../../rest/support/Stop.js\";import{LayerView2DMixin as m}from\"./LayerView2D.js\";import w from\"./graphics/GraphicContainer.js\";import f from\"./graphics/GraphicsView2D.js\";import y from\"../../layers/LayerView.js\";const k=Object.freeze({remove(){},pause(){},resume(){}}),v=[\"route-info\",\"direction-line\",\"direction-point\",\"polygon-barrier\",\"polyline-barrier\",\"point-barrier\",\"stop\"],M={graphic:null,property:null,oldValue:null,newValue:null};function V(e){return e instanceof p||e instanceof l||e instanceof c||e instanceof g||e instanceof d||e instanceof u||e instanceof _}function j(e){return t.isCollection(e)&&e.length&&V(e.getItemAt(0))}function G(e){return Array.isArray(e)&&e.length&&V(e[0])}let I=class extends(m(y)){constructor(){super(...arguments),this._graphics=new t,this._highlightIds=new Map,this._networkFeatureMap=new Map,this._networkGraphicMap=new Map}get _routeItems(){return new r({getCollections:()=>i(this.layer)&&!this.destroyed?[i(this.layer.routeInfo)?new t([this.layer.routeInfo]):null,this.layer.directionLines,this.layer.directionPoints,this.layer.polygonBarriers,this.layer.polylineBarriers,this.layer.pointBarriers,this.layer.stops]:[]})}initialize(){this.updatingHandles.addOnCollectionChange((()=>this._routeItems),(e=>this._routeItemsChanged(e)),o)}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._networkFeatureMap.clear(),this._networkGraphicMap.clear(),this._graphics.removeAll(),this._get(\"_routeItems\")?.destroy()}attach(){this._createGraphicsView()}detach(){this._destroyGraphicsView()}async fetchPopupFeatures(e){return this._graphicsView.hitTest(e).filter((e=>!!e.popupTemplate))}highlight(e){let t;t=V(e)?[this._getNetworkFeatureUid(e)]:G(e)?e.map((e=>this._getNetworkFeatureUid(e))):j(e)?e.map((e=>this._getNetworkFeatureUid(e))).toArray():[e.uid];const r=t.filter(i);return r.length?(this._addHighlight(r),{remove:()=>this._removeHighlight(r)}):k}async hitTest(e,t){if(this.suspended)return null;const r=this._graphicsView.hitTest(e).filter(i).map((e=>this._networkGraphicMap.get(e)));if(!r.length)return null;const{layer:s}=this;return r.reverse().map((t=>({type:\"route\",layer:s,mapPoint:e,networkFeature:t})))}isUpdating(){return this._graphicsView.updating}moveStart(){}moveEnd(){}update(e){this._graphicsView.processUpdate(e)}viewChange(){this._graphicsView.viewChange()}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight()}_createGraphic(e){const t=e.toGraphic();return t.layer=this.layer,t.sourceLayer=this.layer,t}_createGraphicsView(){const e=this.view,t=()=>this.requestUpdate(),r=new w(e.featuresTilingScheme);this._graphicsView=new f({container:r,graphics:this._graphics,requestUpdateCallback:t,view:e}),this.container.addChild(r),this._updateHighlight()}_destroyGraphicsView(){this.container.removeChild(this._graphicsView.container),this._graphicsView.destroy()}_getDrawOrder(e){const t=this._networkGraphicMap.get(e);return v.indexOf(t.type)}_getNetworkFeatureUid(e){return this._networkFeatureMap.has(e)?this._networkFeatureMap.get(e).uid:null}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight()}_routeItemsChanged(e){if(e.removed.length){this._graphics.removeMany(e.removed.map((e=>{const t=this._networkFeatureMap.get(e);return this._networkFeatureMap.delete(e),this._networkGraphicMap.delete(t),t})));for(const t of e.removed)this.handles.remove(t)}if(e.added.length){this._graphics.addMany(e.added.map((e=>{const t=this._createGraphic(e);return s(t.symbol)?null:(this._networkFeatureMap.set(e,t),this._networkGraphicMap.set(t,e),t)})).filter(i));for(const t of e.added)this.handles.add([a((()=>t.geometry),((e,r)=>{this._updateGraphic(t,\"geometry\",e,r)})),a((()=>t.symbol),((e,r)=>{this._updateGraphic(t,\"symbol\",e,r)}))],t);this._graphics.sort(((e,t)=>this._getDrawOrder(e)-this._getDrawOrder(t)))}}_updateGraphic(e,t,r,i){if(!this._networkFeatureMap.has(e)){const t=this._createGraphic(e);return this._networkFeatureMap.set(e,t),this._networkGraphicMap.set(t,e),void this._graphics.add(t)}const s=this._networkFeatureMap.get(e);s[t]=r,M.graphic=s,M.property=t,M.oldValue=i,M.newValue=r,this._graphicsView.graphicUpdateHandler(M)}_updateHighlight(){const e=Array.from(this._highlightIds.keys());this._graphicsView.setHighlight(e)}};e([h()],I.prototype,\"_graphics\",void 0),e([h()],I.prototype,\"_routeItems\",null),I=e([n(\"esri.views.2d.layers.RouteLayerView2D\")],I);const F=I;export{F as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}