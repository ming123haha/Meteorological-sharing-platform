{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isDevEnvironment as t, adjustStaticAGOUrl as r } from \"../../../../core/devEnvironmentUtils.js\";\nimport e from \"../../../../core/Error.js\";\nimport { isSome as o } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as n } from \"../../../../core/promiseUtils.js\";\nimport { urlToObject as s } from \"../../../../core/urlUtils.js\";\nimport m from \"../../../../portal/Portal.js\";\nimport { f as l } from \"../../../../chunks/persistableUrlUtils.js\";\nimport { fetchStyle as a, Style2DUrlTemplate as i, requestJSON as c, makeCIMSymbolRef as y, symbolUrlFromStyleItem as f } from \"../../../../symbols/support/styleUtils.js\";\n\nasync function u(t, r, o) {\n  if (!t.name) throw new e(\"style-symbol-reference-name-missing\", \"Missing name in style symbol reference\");\n  if (t.styleName && \"Esri2DPointSymbolsStyle\" === t.styleName) return p(t, o);\n\n  try {\n    return b(await a(t, r, o), t.name, r, o);\n  } catch (s) {\n    return n(s), null;\n  }\n}\n\nasync function p(t, r) {\n  const e = i.replace(/\\{SymbolName\\}/gi, t.name);\n\n  try {\n    const t = await c(e, r);\n    return y(t.data);\n  } catch (o) {\n    return n(o), null;\n  }\n}\n\nasync function b(a, i, u, p) {\n  const b = a.data,\n        d = {\n    portal: u && o(u.portal) ? u.portal : m.getDefault(),\n    url: s(a.baseUrl),\n    origin: \"portal-item\"\n  },\n        j = b.items.find(t => t.name === i);\n\n  if (!j) {\n    throw new e(\"symbolstyleutils:symbol-name-not-found\", `The symbol name '${i}' could not be found`, {\n      symbolName: i\n    });\n  }\n\n  let h = l(f(j, \"cimRef\"), d);\n  t() && (h = r(h));\n\n  try {\n    const t = await c(h, p);\n    return y(t.data);\n  } catch (w) {\n    return n(w), null;\n  }\n}\n\nexport { u as fetchCIMSymbolReference };","map":{"version":3,"names":["isDevEnvironment","t","adjustStaticAGOUrl","r","e","isSome","o","throwIfAborted","n","urlToObject","s","m","f","l","fetchStyle","a","Style2DUrlTemplate","i","requestJSON","c","makeCIMSymbolRef","y","symbolUrlFromStyleItem","u","name","styleName","p","b","replace","data","d","portal","getDefault","url","baseUrl","origin","j","items","find","symbolName","h","w","fetchCIMSymbolReference"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isDevEnvironment as t,adjustStaticAGOUrl as r}from\"../../../../core/devEnvironmentUtils.js\";import e from\"../../../../core/Error.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import{urlToObject as s}from\"../../../../core/urlUtils.js\";import m from\"../../../../portal/Portal.js\";import{f as l}from\"../../../../chunks/persistableUrlUtils.js\";import{fetchStyle as a,Style2DUrlTemplate as i,requestJSON as c,makeCIMSymbolRef as y,symbolUrlFromStyleItem as f}from\"../../../../symbols/support/styleUtils.js\";async function u(t,r,o){if(!t.name)throw new e(\"style-symbol-reference-name-missing\",\"Missing name in style symbol reference\");if(t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName)return p(t,o);try{return b(await a(t,r,o),t.name,r,o)}catch(s){return n(s),null}}async function p(t,r){const e=i.replace(/\\{SymbolName\\}/gi,t.name);try{const t=await c(e,r);return y(t.data)}catch(o){return n(o),null}}async function b(a,i,u,p){const b=a.data,d={portal:u&&o(u.portal)?u.portal:m.getDefault(),url:s(a.baseUrl),origin:\"portal-item\"},j=b.items.find((t=>t.name===i));if(!j){throw new e(\"symbolstyleutils:symbol-name-not-found\",`The symbol name '${i}' could not be found`,{symbolName:i})}let h=l(f(j,\"cimRef\"),d);t()&&(h=r(h));try{const t=await c(h,p);return y(t.data)}catch(w){return n(w),null}}export{u as fetchCIMSymbolReference};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}