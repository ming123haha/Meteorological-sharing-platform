{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e, applySome as s, isSome as t, isNone as r } from \"../../../../core/maybe.js\";\nimport { s as i } from \"../../../../chunks/vec2.js\";\nimport { requestImage as a } from \"../../../../support/requestImageUtils.js\";\nimport { createQuadVAO as h } from \"./glUtil3D.js\";\nimport { SSAOBlurTechnique as _ } from \"./SSAOBlurTechnique.js\";\nimport { SSAOTechnique as o } from \"./SSAOTechnique.js\";\nimport { SSAOPassParameters as u, BlurDrawParameters as l } from \"../shaders/SSAOParameters.js\";\nimport { PrimitiveType as n, TextureType as m, PixelFormat as d, PixelType as b, TextureSamplingMode as O, TextureWrapMode as p, TargetType as c, DepthStencilTargetType as B } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as F } from \"../../../webgl/FramebufferObject.js\";\nimport { Texture as T } from \"../../../webgl/Texture.js\";\nimport { vertexCount as g } from \"../../../webgl/Util.js\";\nconst w = 2;\n\nclass P {\n  constructor(e, s, t) {\n    this._techniqueRepository = e, this._rctx = s, this._requestRender = t, this._enabled = !1, this._quadVAO = null, this._passParameters = new u(), this._drawParameters = new l();\n  }\n\n  dispose() {\n    this._quadVAO = e(this._quadVAO);\n  }\n\n  disposeOffscreenBuffers() {\n    s(this._ssaoFBO, e => e.resize(0, 0)), s(this._blur0FBO, e => e.resize(0, 0)), s(this._blur1FBO, e => e.resize(0, 0));\n  }\n\n  set enabled(e) {\n    e ? this._enable() : this._disable();\n  }\n\n  get enabled() {\n    return this._enabled;\n  }\n\n  get ready() {\n    return this.enabled && t(this._passParameters.noiseTexture) && t(this._ssaoFBO) && t(this._blur0FBO) && t(this._blur1FBO);\n  }\n\n  get loading() {\n    return this.enabled && !this.ready;\n  }\n\n  get colorTexture() {\n    return t(this._blur1FBO) ? this._blur1FBO.colorTexture : null;\n  }\n\n  get width() {\n    return t(this._ssaoFBO) ? this._ssaoFBO.width : -1;\n  }\n\n  get height() {\n    return t(this._ssaoFBO) ? this._ssaoFBO.height : -1;\n  }\n\n  computeSSAO(e, s, t) {\n    if (!this.enabled || r(s) || r(t) || r(this._passParameters.noiseTexture) || r(this._ssaoFBO) || r(this._blur0FBO) || r(this._blur1FBO)) return;\n    const a = this._rctx,\n          _ = e.camera;\n    this._passParameters.normalTexture = t, this._passParameters.depthTexture = s, this._passParameters.projScale = 1 / _.computeRenderPixelSizeAtDist(1);\n    const o = _.fullViewport,\n          u = o[2],\n          l = o[3],\n          m = u / w,\n          d = l / w;\n    this._ssaoFBO.resize(u, l), this._blur0FBO.resize(m, d), this._blur1FBO.resize(m, d), r(this._quadVAO) && (this._quadVAO = h(this._rctx)), a.bindFramebuffer(this._ssaoFBO), a.setViewport(0, 0, u, l);\n    a.bindTechnique(this._ssaoTechnique, this._passParameters, e).bindDraw(this._drawParameters, e, this._passParameters), a.bindVAO(this._quadVAO), a.drawArrays(n.TRIANGLE_STRIP, 0, g(this._quadVAO, \"geometry\"));\n    const b = a.bindTechnique(this._blurTechnique, this._passParameters, e);\n    a.setViewport(0, 0, m, d), a.bindFramebuffer(this._blur0FBO), this._drawParameters.colorTexture = this._ssaoFBO.colorTexture, i(this._drawParameters.blurSize, 0, w / l), b.bindDraw(this._drawParameters, e, this._passParameters), a.setViewport(0, 0, m, d), a.drawArrays(n.TRIANGLE_STRIP, 0, g(this._quadVAO, \"geometry\")), a.bindFramebuffer(this._blur1FBO), this._drawParameters.colorTexture = this._blur0FBO.colorTexture, i(this._drawParameters.blurSize, w / u, 0), b.bindDraw(this._drawParameters, e, this._passParameters), a.drawArrays(n.TRIANGLE_STRIP, 0, g(this._quadVAO, \"geometry\")), a.setViewport(o[0], o[1], o[2], o[3]);\n  }\n\n  _selectPrograms() {\n    r(this._ssaoTechnique) && (this._ssaoTechnique = this._techniqueRepository.acquire(o)), r(this._blurTechnique) && (this._blurTechnique = this._techniqueRepository.acquire(_));\n  }\n\n  _enable() {\n    this.enabled || (this._enabled = !0, this._loadResources(() => {\n      this._enabled && this._initialize();\n    }));\n  }\n\n  _loadResources(e) {\n    this._data ? e() : import(\"./SSAOHelperData.js\").then(s => {\n      this._data = s, e();\n    });\n  }\n\n  _initialize() {\n    const e = {\n      target: m.TEXTURE_2D,\n      pixelFormat: d.RGBA,\n      dataType: b.UNSIGNED_BYTE,\n      samplingMode: O.LINEAR,\n      wrapMode: p.CLAMP_TO_EDGE,\n      width: 0,\n      height: 0\n    },\n          s = {\n      colorTarget: c.TEXTURE,\n      depthStencilTarget: B.NONE\n    };\n    a(this._data.noiseTexture).then(t => {\n      this._enabled && (this._ssaoFBO = new F(this._rctx, s, e), this._blur0FBO = new F(this._rctx, s, e), this._blur1FBO = new F(this._rctx, s, e), this._passParameters.noiseTexture = new T(this._rctx, {\n        target: m.TEXTURE_2D,\n        pixelFormat: d.RGBA,\n        dataType: b.UNSIGNED_BYTE,\n        hasMipmap: !0,\n        width: t.width,\n        height: t.height\n      }, t), this._requestRender());\n    }), this._selectPrograms();\n  }\n\n  _disable() {\n    this._enabled = !1, this._passParameters.noiseTexture = e(this._passParameters.noiseTexture), this._blur1FBO = e(this._blur1FBO), this._blur0FBO = e(this._blur0FBO), this._ssaoFBO = e(this._ssaoFBO);\n  }\n\n  get gpuMemoryUsage() {\n    return (t(this._blur0FBO) ? this._blur0FBO.gpuMemoryUsage : 0) + (t(this._blur1FBO) ? this._blur1FBO.gpuMemoryUsage : 0) + (t(this._ssaoFBO) ? this._ssaoFBO.gpuMemoryUsage : 0);\n  }\n\n  get test() {\n    return {\n      ssao: this._ssaoFBO,\n      blur: this._blur1FBO\n    };\n  }\n\n}\n\nexport { P as SSAOHelper, w as blurSizePixels };","map":{"version":3,"names":["disposeMaybe","e","applySome","s","isSome","t","isNone","r","i","requestImage","a","createQuadVAO","h","SSAOBlurTechnique","_","SSAOTechnique","o","SSAOPassParameters","u","BlurDrawParameters","l","PrimitiveType","n","TextureType","m","PixelFormat","d","PixelType","b","TextureSamplingMode","O","TextureWrapMode","p","TargetType","c","DepthStencilTargetType","B","FramebufferObject","F","Texture","T","vertexCount","g","w","P","constructor","_techniqueRepository","_rctx","_requestRender","_enabled","_quadVAO","_passParameters","_drawParameters","dispose","disposeOffscreenBuffers","_ssaoFBO","resize","_blur0FBO","_blur1FBO","enabled","_enable","_disable","ready","noiseTexture","loading","colorTexture","width","height","computeSSAO","camera","normalTexture","depthTexture","projScale","computeRenderPixelSizeAtDist","fullViewport","bindFramebuffer","setViewport","bindTechnique","_ssaoTechnique","bindDraw","bindVAO","drawArrays","TRIANGLE_STRIP","_blurTechnique","blurSize","_selectPrograms","acquire","_loadResources","_initialize","_data","then","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","LINEAR","wrapMode","CLAMP_TO_EDGE","colorTarget","TEXTURE","depthStencilTarget","NONE","hasMipmap","gpuMemoryUsage","test","ssao","blur","SSAOHelper","blurSizePixels"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/SSAOHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,applySome as s,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{s as i}from\"../../../../chunks/vec2.js\";import{requestImage as a}from\"../../../../support/requestImageUtils.js\";import{createQuadVAO as h}from\"./glUtil3D.js\";import{SSAOBlurTechnique as _}from\"./SSAOBlurTechnique.js\";import{SSAOTechnique as o}from\"./SSAOTechnique.js\";import{SSAOPassParameters as u,BlurDrawParameters as l}from\"../shaders/SSAOParameters.js\";import{PrimitiveType as n,TextureType as m,PixelFormat as d,PixelType as b,TextureSamplingMode as O,TextureWrapMode as p,TargetType as c,DepthStencilTargetType as B}from\"../../../webgl/enums.js\";import{FramebufferObject as F}from\"../../../webgl/FramebufferObject.js\";import{Texture as T}from\"../../../webgl/Texture.js\";import{vertexCount as g}from\"../../../webgl/Util.js\";const w=2;class P{constructor(e,s,t){this._techniqueRepository=e,this._rctx=s,this._requestRender=t,this._enabled=!1,this._quadVAO=null,this._passParameters=new u,this._drawParameters=new l}dispose(){this._quadVAO=e(this._quadVAO)}disposeOffscreenBuffers(){s(this._ssaoFBO,(e=>e.resize(0,0))),s(this._blur0FBO,(e=>e.resize(0,0))),s(this._blur1FBO,(e=>e.resize(0,0)))}set enabled(e){e?this._enable():this._disable()}get enabled(){return this._enabled}get ready(){return this.enabled&&t(this._passParameters.noiseTexture)&&t(this._ssaoFBO)&&t(this._blur0FBO)&&t(this._blur1FBO)}get loading(){return this.enabled&&!this.ready}get colorTexture(){return t(this._blur1FBO)?this._blur1FBO.colorTexture:null}get width(){return t(this._ssaoFBO)?this._ssaoFBO.width:-1}get height(){return t(this._ssaoFBO)?this._ssaoFBO.height:-1}computeSSAO(e,s,t){if(!this.enabled||r(s)||r(t)||r(this._passParameters.noiseTexture)||r(this._ssaoFBO)||r(this._blur0FBO)||r(this._blur1FBO))return;const a=this._rctx,_=e.camera;this._passParameters.normalTexture=t,this._passParameters.depthTexture=s,this._passParameters.projScale=1/_.computeRenderPixelSizeAtDist(1);const o=_.fullViewport,u=o[2],l=o[3],m=u/w,d=l/w;this._ssaoFBO.resize(u,l),this._blur0FBO.resize(m,d),this._blur1FBO.resize(m,d),r(this._quadVAO)&&(this._quadVAO=h(this._rctx)),a.bindFramebuffer(this._ssaoFBO),a.setViewport(0,0,u,l);a.bindTechnique(this._ssaoTechnique,this._passParameters,e).bindDraw(this._drawParameters,e,this._passParameters),a.bindVAO(this._quadVAO),a.drawArrays(n.TRIANGLE_STRIP,0,g(this._quadVAO,\"geometry\"));const b=a.bindTechnique(this._blurTechnique,this._passParameters,e);a.setViewport(0,0,m,d),a.bindFramebuffer(this._blur0FBO),this._drawParameters.colorTexture=this._ssaoFBO.colorTexture,i(this._drawParameters.blurSize,0,w/l),b.bindDraw(this._drawParameters,e,this._passParameters),a.setViewport(0,0,m,d),a.drawArrays(n.TRIANGLE_STRIP,0,g(this._quadVAO,\"geometry\")),a.bindFramebuffer(this._blur1FBO),this._drawParameters.colorTexture=this._blur0FBO.colorTexture,i(this._drawParameters.blurSize,w/u,0),b.bindDraw(this._drawParameters,e,this._passParameters),a.drawArrays(n.TRIANGLE_STRIP,0,g(this._quadVAO,\"geometry\")),a.setViewport(o[0],o[1],o[2],o[3])}_selectPrograms(){r(this._ssaoTechnique)&&(this._ssaoTechnique=this._techniqueRepository.acquire(o)),r(this._blurTechnique)&&(this._blurTechnique=this._techniqueRepository.acquire(_))}_enable(){this.enabled||(this._enabled=!0,this._loadResources((()=>{this._enabled&&this._initialize()})))}_loadResources(e){this._data?e():import(\"./SSAOHelperData.js\").then((s=>{this._data=s,e()}))}_initialize(){const e={target:m.TEXTURE_2D,pixelFormat:d.RGBA,dataType:b.UNSIGNED_BYTE,samplingMode:O.LINEAR,wrapMode:p.CLAMP_TO_EDGE,width:0,height:0},s={colorTarget:c.TEXTURE,depthStencilTarget:B.NONE};a(this._data.noiseTexture).then((t=>{this._enabled&&(this._ssaoFBO=new F(this._rctx,s,e),this._blur0FBO=new F(this._rctx,s,e),this._blur1FBO=new F(this._rctx,s,e),this._passParameters.noiseTexture=new T(this._rctx,{target:m.TEXTURE_2D,pixelFormat:d.RGBA,dataType:b.UNSIGNED_BYTE,hasMipmap:!0,width:t.width,height:t.height},t),this._requestRender())})),this._selectPrograms()}_disable(){this._enabled=!1,this._passParameters.noiseTexture=e(this._passParameters.noiseTexture),this._blur1FBO=e(this._blur1FBO),this._blur0FBO=e(this._blur0FBO),this._ssaoFBO=e(this._ssaoFBO)}get gpuMemoryUsage(){return(t(this._blur0FBO)?this._blur0FBO.gpuMemoryUsage:0)+(t(this._blur1FBO)?this._blur1FBO.gpuMemoryUsage:0)+(t(this._ssaoFBO)?this._ssaoFBO.gpuMemoryUsage:0)}get test(){return{ssao:this._ssaoFBO,blur:this._blur1FBO}}}export{P as SSAOHelper,w as blurSizePixels};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAvB,EAAyBC,SAAS,IAAIC,CAAtC,EAAwCC,MAAM,IAAIC,CAAlD,EAAoDC,MAAM,IAAIC,CAA9D,QAAoE,2BAApE;AAAgG,SAAOJ,CAAC,IAAIK,CAAZ,QAAkB,4BAAlB;AAA+C,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,0CAA7B;AAAwE,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,eAA9B;AAA8C,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,wBAAlC;AAA2D,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,oBAA9B;AAAmD,SAAOC,kBAAkB,IAAIC,CAA7B,EAA+BC,kBAAkB,IAAIC,CAArD,QAA2D,8BAA3D;AAA0F,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,WAAW,IAAIC,CAAzC,EAA2CC,WAAW,IAAIC,CAA1D,EAA4DC,SAAS,IAAIC,CAAzE,EAA2EC,mBAAmB,IAAIC,CAAlG,EAAoGC,eAAe,IAAIC,CAAvH,EAAyHC,UAAU,IAAIC,CAAvI,EAAyIC,sBAAsB,IAAIC,CAAnK,QAAyK,yBAAzK;AAAmM,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,qCAAlC;AAAwE,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,2BAAxB;AAAoD,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,wBAA5B;AAAqD,MAAMC,CAAC,GAAC,CAAR;;AAAU,MAAMC,CAAN,CAAO;EAACC,WAAW,CAAC5C,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,KAAKyC,oBAAL,GAA0B7C,CAA1B,EAA4B,KAAK8C,KAAL,GAAW5C,CAAvC,EAAyC,KAAK6C,cAAL,GAAoB3C,CAA7D,EAA+D,KAAK4C,QAAL,GAAc,CAAC,CAA9E,EAAgF,KAAKC,QAAL,GAAc,IAA9F,EAAmG,KAAKC,eAAL,GAAqB,IAAIjC,CAAJ,EAAxH,EAA8H,KAAKkC,eAAL,GAAqB,IAAIhC,CAAJ,EAAnJ;EAAyJ;;EAAAiC,OAAO,GAAE;IAAC,KAAKH,QAAL,GAAcjD,CAAC,CAAC,KAAKiD,QAAN,CAAf;EAA+B;;EAAAI,uBAAuB,GAAE;IAACnD,CAAC,CAAC,KAAKoD,QAAN,EAAgBtD,CAAC,IAAEA,CAAC,CAACuD,MAAF,CAAS,CAAT,EAAW,CAAX,CAAnB,CAAD,EAAoCrD,CAAC,CAAC,KAAKsD,SAAN,EAAiBxD,CAAC,IAAEA,CAAC,CAACuD,MAAF,CAAS,CAAT,EAAW,CAAX,CAApB,CAArC,EAAyErD,CAAC,CAAC,KAAKuD,SAAN,EAAiBzD,CAAC,IAAEA,CAAC,CAACuD,MAAF,CAAS,CAAT,EAAW,CAAX,CAApB,CAA1E;EAA8G;;EAAW,IAAPG,OAAO,CAAC1D,CAAD,EAAG;IAACA,CAAC,GAAC,KAAK2D,OAAL,EAAD,GAAgB,KAAKC,QAAL,EAAjB;EAAiC;;EAAW,IAAPF,OAAO,GAAE;IAAC,OAAO,KAAKV,QAAZ;EAAqB;;EAAS,IAALa,KAAK,GAAE;IAAC,OAAO,KAAKH,OAAL,IAActD,CAAC,CAAC,KAAK8C,eAAL,CAAqBY,YAAtB,CAAf,IAAoD1D,CAAC,CAAC,KAAKkD,QAAN,CAArD,IAAsElD,CAAC,CAAC,KAAKoD,SAAN,CAAvE,IAAyFpD,CAAC,CAAC,KAAKqD,SAAN,CAAjG;EAAkH;;EAAW,IAAPM,OAAO,GAAE;IAAC,OAAO,KAAKL,OAAL,IAAc,CAAC,KAAKG,KAA3B;EAAiC;;EAAgB,IAAZG,YAAY,GAAE;IAAC,OAAO5D,CAAC,CAAC,KAAKqD,SAAN,CAAD,GAAkB,KAAKA,SAAL,CAAeO,YAAjC,GAA8C,IAArD;EAA0D;;EAAS,IAALC,KAAK,GAAE;IAAC,OAAO7D,CAAC,CAAC,KAAKkD,QAAN,CAAD,GAAiB,KAAKA,QAAL,CAAcW,KAA/B,GAAqC,CAAC,CAA7C;EAA+C;;EAAU,IAANC,MAAM,GAAE;IAAC,OAAO9D,CAAC,CAAC,KAAKkD,QAAN,CAAD,GAAiB,KAAKA,QAAL,CAAcY,MAA/B,GAAsC,CAAC,CAA9C;EAAgD;;EAAAC,WAAW,CAACnE,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,IAAG,CAAC,KAAKsD,OAAN,IAAepD,CAAC,CAACJ,CAAD,CAAhB,IAAqBI,CAAC,CAACF,CAAD,CAAtB,IAA2BE,CAAC,CAAC,KAAK4C,eAAL,CAAqBY,YAAtB,CAA5B,IAAiExD,CAAC,CAAC,KAAKgD,QAAN,CAAlE,IAAmFhD,CAAC,CAAC,KAAKkD,SAAN,CAApF,IAAsGlD,CAAC,CAAC,KAAKmD,SAAN,CAA1G,EAA2H;IAAO,MAAMhD,CAAC,GAAC,KAAKqC,KAAb;IAAA,MAAmBjC,CAAC,GAACb,CAAC,CAACoE,MAAvB;IAA8B,KAAKlB,eAAL,CAAqBmB,aAArB,GAAmCjE,CAAnC,EAAqC,KAAK8C,eAAL,CAAqBoB,YAArB,GAAkCpE,CAAvE,EAAyE,KAAKgD,eAAL,CAAqBqB,SAArB,GAA+B,IAAE1D,CAAC,CAAC2D,4BAAF,CAA+B,CAA/B,CAA1G;IAA4I,MAAMzD,CAAC,GAACF,CAAC,CAAC4D,YAAV;IAAA,MAAuBxD,CAAC,GAACF,CAAC,CAAC,CAAD,CAA1B;IAAA,MAA8BI,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAjC;IAAA,MAAqCQ,CAAC,GAACN,CAAC,GAACyB,CAAzC;IAAA,MAA2CjB,CAAC,GAACN,CAAC,GAACuB,CAA/C;IAAiD,KAAKY,QAAL,CAAcC,MAAd,CAAqBtC,CAArB,EAAuBE,CAAvB,GAA0B,KAAKqC,SAAL,CAAeD,MAAf,CAAsBhC,CAAtB,EAAwBE,CAAxB,CAA1B,EAAqD,KAAKgC,SAAL,CAAeF,MAAf,CAAsBhC,CAAtB,EAAwBE,CAAxB,CAArD,EAAgFnB,CAAC,CAAC,KAAK2C,QAAN,CAAD,KAAmB,KAAKA,QAAL,GAActC,CAAC,CAAC,KAAKmC,KAAN,CAAlC,CAAhF,EAAgIrC,CAAC,CAACiE,eAAF,CAAkB,KAAKpB,QAAvB,CAAhI,EAAiK7C,CAAC,CAACkE,WAAF,CAAc,CAAd,EAAgB,CAAhB,EAAkB1D,CAAlB,EAAoBE,CAApB,CAAjK;IAAwLV,CAAC,CAACmE,aAAF,CAAgB,KAAKC,cAArB,EAAoC,KAAK3B,eAAzC,EAAyDlD,CAAzD,EAA4D8E,QAA5D,CAAqE,KAAK3B,eAA1E,EAA0FnD,CAA1F,EAA4F,KAAKkD,eAAjG,GAAkHzC,CAAC,CAACsE,OAAF,CAAU,KAAK9B,QAAf,CAAlH,EAA2IxC,CAAC,CAACuE,UAAF,CAAa3D,CAAC,CAAC4D,cAAf,EAA8B,CAA9B,EAAgCxC,CAAC,CAAC,KAAKQ,QAAN,EAAe,UAAf,CAAjC,CAA3I;IAAwM,MAAMtB,CAAC,GAAClB,CAAC,CAACmE,aAAF,CAAgB,KAAKM,cAArB,EAAoC,KAAKhC,eAAzC,EAAyDlD,CAAzD,CAAR;IAAoES,CAAC,CAACkE,WAAF,CAAc,CAAd,EAAgB,CAAhB,EAAkBpD,CAAlB,EAAoBE,CAApB,GAAuBhB,CAAC,CAACiE,eAAF,CAAkB,KAAKlB,SAAvB,CAAvB,EAAyD,KAAKL,eAAL,CAAqBa,YAArB,GAAkC,KAAKV,QAAL,CAAcU,YAAzG,EAAsHzD,CAAC,CAAC,KAAK4C,eAAL,CAAqBgC,QAAtB,EAA+B,CAA/B,EAAiCzC,CAAC,GAACvB,CAAnC,CAAvH,EAA6JQ,CAAC,CAACmD,QAAF,CAAW,KAAK3B,eAAhB,EAAgCnD,CAAhC,EAAkC,KAAKkD,eAAvC,CAA7J,EAAqNzC,CAAC,CAACkE,WAAF,CAAc,CAAd,EAAgB,CAAhB,EAAkBpD,CAAlB,EAAoBE,CAApB,CAArN,EAA4OhB,CAAC,CAACuE,UAAF,CAAa3D,CAAC,CAAC4D,cAAf,EAA8B,CAA9B,EAAgCxC,CAAC,CAAC,KAAKQ,QAAN,EAAe,UAAf,CAAjC,CAA5O,EAAySxC,CAAC,CAACiE,eAAF,CAAkB,KAAKjB,SAAvB,CAAzS,EAA2U,KAAKN,eAAL,CAAqBa,YAArB,GAAkC,KAAKR,SAAL,CAAeQ,YAA5X,EAAyYzD,CAAC,CAAC,KAAK4C,eAAL,CAAqBgC,QAAtB,EAA+BzC,CAAC,GAACzB,CAAjC,EAAmC,CAAnC,CAA1Y,EAAgbU,CAAC,CAACmD,QAAF,CAAW,KAAK3B,eAAhB,EAAgCnD,CAAhC,EAAkC,KAAKkD,eAAvC,CAAhb,EAAwezC,CAAC,CAACuE,UAAF,CAAa3D,CAAC,CAAC4D,cAAf,EAA8B,CAA9B,EAAgCxC,CAAC,CAAC,KAAKQ,QAAN,EAAe,UAAf,CAAjC,CAAxe,EAAqiBxC,CAAC,CAACkE,WAAF,CAAc5D,CAAC,CAAC,CAAD,CAAf,EAAmBA,CAAC,CAAC,CAAD,CAApB,EAAwBA,CAAC,CAAC,CAAD,CAAzB,EAA6BA,CAAC,CAAC,CAAD,CAA9B,CAAriB;EAAwkB;;EAAAqE,eAAe,GAAE;IAAC9E,CAAC,CAAC,KAAKuE,cAAN,CAAD,KAAyB,KAAKA,cAAL,GAAoB,KAAKhC,oBAAL,CAA0BwC,OAA1B,CAAkCtE,CAAlC,CAA7C,GAAmFT,CAAC,CAAC,KAAK4E,cAAN,CAAD,KAAyB,KAAKA,cAAL,GAAoB,KAAKrC,oBAAL,CAA0BwC,OAA1B,CAAkCxE,CAAlC,CAA7C,CAAnF;EAAsK;;EAAA8C,OAAO,GAAE;IAAC,KAAKD,OAAL,KAAe,KAAKV,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKsC,cAAL,CAAqB,MAAI;MAAC,KAAKtC,QAAL,IAAe,KAAKuC,WAAL,EAAf;IAAkC,CAA5D,CAAhC;EAAgG;;EAAAD,cAAc,CAACtF,CAAD,EAAG;IAAC,KAAKwF,KAAL,GAAWxF,CAAC,EAAZ,GAAe,OAAO,qBAAP,EAA8ByF,IAA9B,CAAoCvF,CAAC,IAAE;MAAC,KAAKsF,KAAL,GAAWtF,CAAX,EAAaF,CAAC,EAAd;IAAiB,CAAzD,CAAf;EAA2E;;EAAAuF,WAAW,GAAE;IAAC,MAAMvF,CAAC,GAAC;MAAC0F,MAAM,EAACnE,CAAC,CAACoE,UAAV;MAAqBC,WAAW,EAACnE,CAAC,CAACoE,IAAnC;MAAwCC,QAAQ,EAACnE,CAAC,CAACoE,aAAnD;MAAiEC,YAAY,EAACnE,CAAC,CAACoE,MAAhF;MAAuFC,QAAQ,EAACnE,CAAC,CAACoE,aAAlG;MAAgHlC,KAAK,EAAC,CAAtH;MAAwHC,MAAM,EAAC;IAA/H,CAAR;IAAA,MAA0IhE,CAAC,GAAC;MAACkG,WAAW,EAACnE,CAAC,CAACoE,OAAf;MAAuBC,kBAAkB,EAACnE,CAAC,CAACoE;IAA5C,CAA5I;IAA8L9F,CAAC,CAAC,KAAK+E,KAAL,CAAW1B,YAAZ,CAAD,CAA2B2B,IAA3B,CAAiCrF,CAAC,IAAE;MAAC,KAAK4C,QAAL,KAAgB,KAAKM,QAAL,GAAc,IAAIjB,CAAJ,CAAM,KAAKS,KAAX,EAAiB5C,CAAjB,EAAmBF,CAAnB,CAAd,EAAoC,KAAKwD,SAAL,GAAe,IAAInB,CAAJ,CAAM,KAAKS,KAAX,EAAiB5C,CAAjB,EAAmBF,CAAnB,CAAnD,EAAyE,KAAKyD,SAAL,GAAe,IAAIpB,CAAJ,CAAM,KAAKS,KAAX,EAAiB5C,CAAjB,EAAmBF,CAAnB,CAAxF,EAA8G,KAAKkD,eAAL,CAAqBY,YAArB,GAAkC,IAAIvB,CAAJ,CAAM,KAAKO,KAAX,EAAiB;QAAC4C,MAAM,EAACnE,CAAC,CAACoE,UAAV;QAAqBC,WAAW,EAACnE,CAAC,CAACoE,IAAnC;QAAwCC,QAAQ,EAACnE,CAAC,CAACoE,aAAnD;QAAiES,SAAS,EAAC,CAAC,CAA5E;QAA8EvC,KAAK,EAAC7D,CAAC,CAAC6D,KAAtF;QAA4FC,MAAM,EAAC9D,CAAC,CAAC8D;MAArG,CAAjB,EAA8H9D,CAA9H,CAAhJ,EAAiR,KAAK2C,cAAL,EAAjS;IAAwT,CAA7V,GAAgW,KAAKqC,eAAL,EAAhW;EAAuX;;EAAAxB,QAAQ,GAAE;IAAC,KAAKZ,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKE,eAAL,CAAqBY,YAArB,GAAkC9D,CAAC,CAAC,KAAKkD,eAAL,CAAqBY,YAAtB,CAApD,EAAwF,KAAKL,SAAL,GAAezD,CAAC,CAAC,KAAKyD,SAAN,CAAxG,EAAyH,KAAKD,SAAL,GAAexD,CAAC,CAAC,KAAKwD,SAAN,CAAzI,EAA0J,KAAKF,QAAL,GAActD,CAAC,CAAC,KAAKsD,QAAN,CAAzK;EAAyL;;EAAkB,IAAdmD,cAAc,GAAE;IAAC,OAAM,CAACrG,CAAC,CAAC,KAAKoD,SAAN,CAAD,GAAkB,KAAKA,SAAL,CAAeiD,cAAjC,GAAgD,CAAjD,KAAqDrG,CAAC,CAAC,KAAKqD,SAAN,CAAD,GAAkB,KAAKA,SAAL,CAAegD,cAAjC,GAAgD,CAArG,KAAyGrG,CAAC,CAAC,KAAKkD,QAAN,CAAD,GAAiB,KAAKA,QAAL,CAAcmD,cAA/B,GAA8C,CAAvJ,CAAN;EAAgK;;EAAQ,IAAJC,IAAI,GAAE;IAAC,OAAM;MAACC,IAAI,EAAC,KAAKrD,QAAX;MAAoBsD,IAAI,EAAC,KAAKnD;IAA9B,CAAN;EAA+C;;AAAphH;;AAAqhH,SAAOd,CAAC,IAAIkE,UAAZ,EAAuBnE,CAAC,IAAIoE,cAA5B"},"metadata":{},"sourceType":"module"}