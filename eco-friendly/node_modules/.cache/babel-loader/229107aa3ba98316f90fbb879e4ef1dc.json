{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { generateUID as t } from \"../../../../core/uid.js\";\nimport { PixelType as r, PixelFormat as i, TextureType as s, TextureSamplingMode as h, TextureWrapMode as o, RenderbufferFormat as d, TargetType as a, DepthStencilTargetType as u } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as p } from \"../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as c } from \"../../../webgl/Renderbuffer.js\";\nimport { Texture as T } from \"../../../webgl/Texture.js\";\nimport { getGpuMemoryUsage as f } from \"../../../webgl/Util.js\";\nconst l = {\n  dataType: r.UNSIGNED_BYTE,\n  internalFormat: i.RGBA\n},\n      g = {};\n\nclass n {\n  constructor(e) {\n    this.rctx = e, this._activeTargets = new Set(), this._depthTextures = new Map(), this._depthBuffers = new Map(), this._colorTextures = new Map(), this._framebuffers = new Map(), this.depthTextureSupported = e.capabilities.depthTexture;\n  }\n\n  dispose() {\n    this._depthBuffers.forEach(e => e.dispose()), this._depthBuffers.clear(), this._depthTextures.forEach(e => e.dispose()), this._depthTextures.clear(), this._colorTextures.forEach(e => e.dispose()), this._colorTextures.clear(), this._framebuffers.forEach(e => e.dispose()), this._framebuffers.clear(), this._activeTargets.clear();\n  }\n\n  disposeTargetResource(e) {\n    const t = e.id;\n    this._activeTargets.has(t) && (this._activeTargets.delete(t), this._disposeWithFramebuffers(this._depthTextures, t), this._disposeWithFramebuffers(this._depthBuffers, t), this._disposeWithFramebuffers(this._colorTextures, t));\n  }\n\n  _disposeWithFramebuffers(e, t) {\n    const r = e.get(t);\n    r && (this._framebuffers.forEach((e, t) => {\n      e.colorAttachment !== r && e.depthStencilAttachment !== r || (e.detachAll(), e.dispose(), this._framebuffers.delete(t));\n    }), r.dispose(), e.delete(t));\n  }\n\n  getDepthTexture(e, t) {\n    if (!this.depthTextureSupported) return null;\n\n    let d = this._depthTextures.get(e.id);\n\n    return !d || d.descriptor.width === t.width && d.descriptor.height === t.height || (d.dispose(), d = null), d || (d = new T(this.rctx, {\n      target: s.TEXTURE_2D,\n      pixelFormat: i.DEPTH_STENCIL,\n      dataType: r.UNSIGNED_INT_24_8,\n      samplingMode: h.NEAREST,\n      wrapMode: o.CLAMP_TO_EDGE,\n      width: t.width,\n      height: t.height\n    }), this._depthTextures.set(e.id, d), this._activeTargets.add(e.id)), d;\n  }\n\n  getAllocatedDepthTexture(e) {\n    return this._depthTextures.get(e.id);\n  }\n\n  getDepthBuffer(e, t) {\n    if (this.depthTextureSupported) return null;\n\n    let r = this._depthBuffers.get(e.id);\n\n    return r ? r.descriptor.width === t.width && r.descriptor.height === t.height || r.resize(t.width, t.height) : (r = new c(this.rctx, {\n      internalFormat: d.DEPTH_STENCIL,\n      ...t\n    }), this._depthBuffers.set(e.id, r), this._activeTargets.add(e.id)), r;\n  }\n\n  getColorTexture(e, t) {\n    let r = this._colorTextures.get(e.id);\n\n    return r && (r.descriptor.width === t.width && r.descriptor.height === t.height || (r.dispose(), r = null)), r || (r = new T(this.rctx, {\n      target: s.TEXTURE_2D,\n      pixelFormat: i.RGBA,\n      internalFormat: e.internalFormat,\n      dataType: e.dataType,\n      samplingMode: null != e.samplingMode ? e.samplingMode : h.LINEAR,\n      wrapMode: o.CLAMP_TO_EDGE,\n      width: t.width,\n      height: t.height\n    }), this._colorTextures.set(e.id, r), this._activeTargets.add(e.id)), r;\n  }\n\n  getAllocatedColorTexture(e) {\n    return this._colorTextures.get(e.id);\n  }\n\n  registerDepthTarget(e = {}) {\n    return {\n      id: t(),\n      ...g,\n      ...e\n    };\n  }\n\n  registerColorTarget(e = {}) {\n    return {\n      id: t(),\n      ...l,\n      ...e\n    };\n  }\n\n  getFramebuffer(t, r, i) {\n    const s = this._getKey(r, i);\n\n    let h = this._framebuffers.get(s);\n\n    const o = this.getColorTexture(r, t);\n\n    if (this.depthTextureSupported) {\n      const r = i ? this.getDepthTexture(i, t) : void 0;\n      if (!h) return h = e(i) ? new p(this.rctx, {\n        colorTarget: a.TEXTURE,\n        depthStencilTarget: u.DEPTH_STENCIL_TEXTURE\n      }, o, r) : new p(this.rctx, {\n        colorTarget: a.TEXTURE,\n        depthStencilTarget: u.NONE\n      }, o), this._framebuffers.set(s, h), h;\n      return (h.width !== t.width || h.height !== t.height || h.colorTexture !== o || h.depthStencilTexture !== r) && (h.detachAll(), h.resize(t.width, t.height), h.attachColorTexture(o), h.attachDepthStencilTexture(r)), h;\n    }\n\n    const d = i ? this.getDepthBuffer(i, t) : void 0;\n    if (!h) return h = new p(this.rctx, {\n      colorTarget: a.TEXTURE,\n      depthStencilTarget: i ? u.DEPTH_STENCIL_RENDER_BUFFER : u.NONE\n    }, o, d), this._framebuffers.set(s, h), h;\n    return (h.width !== t.width || h.height !== t.height || h.colorTexture !== o) && (h.detachAll(), h.resize(t.width, t.height), h.attachColorTexture(o), h.attachDepthStencilBuffer(d)), h;\n  }\n\n  _getKey(e, t) {\n    return `${e.id}_${t ? t.id : \"X\"}_${e.name}${t ? \"_\" + t.name : \"\"}`;\n  }\n\n  get gpuMemoryUsage() {\n    let e = 0;\n\n    const t = new Set(),\n          r = r => {\n      t.has(r) || (t.add(r), e += f(r));\n    };\n\n    return this._depthTextures.forEach(r), this._colorTextures.forEach(r), this._depthBuffers.forEach(r), e;\n  }\n\n}\n\nexport { n as RenderTargetHelper };","map":{"version":3,"names":["isSome","e","generateUID","t","PixelType","r","PixelFormat","i","TextureType","s","TextureSamplingMode","h","TextureWrapMode","o","RenderbufferFormat","d","TargetType","a","DepthStencilTargetType","u","FramebufferObject","p","Renderbuffer","c","Texture","T","getGpuMemoryUsage","f","l","dataType","UNSIGNED_BYTE","internalFormat","RGBA","g","n","constructor","rctx","_activeTargets","Set","_depthTextures","Map","_depthBuffers","_colorTextures","_framebuffers","depthTextureSupported","capabilities","depthTexture","dispose","forEach","clear","disposeTargetResource","id","has","delete","_disposeWithFramebuffers","get","colorAttachment","depthStencilAttachment","detachAll","getDepthTexture","descriptor","width","height","target","TEXTURE_2D","pixelFormat","DEPTH_STENCIL","UNSIGNED_INT_24_8","samplingMode","NEAREST","wrapMode","CLAMP_TO_EDGE","set","add","getAllocatedDepthTexture","getDepthBuffer","resize","getColorTexture","LINEAR","getAllocatedColorTexture","registerDepthTarget","registerColorTarget","getFramebuffer","_getKey","colorTarget","TEXTURE","depthStencilTarget","DEPTH_STENCIL_TEXTURE","NONE","colorTexture","depthStencilTexture","attachColorTexture","attachDepthStencilTexture","DEPTH_STENCIL_RENDER_BUFFER","attachDepthStencilBuffer","name","gpuMemoryUsage","RenderTargetHelper"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderTargetHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{PixelType as r,PixelFormat as i,TextureType as s,TextureSamplingMode as h,TextureWrapMode as o,RenderbufferFormat as d,TargetType as a,DepthStencilTargetType as u}from\"../../../webgl/enums.js\";import{FramebufferObject as p}from\"../../../webgl/FramebufferObject.js\";import{Renderbuffer as c}from\"../../../webgl/Renderbuffer.js\";import{Texture as T}from\"../../../webgl/Texture.js\";import{getGpuMemoryUsage as f}from\"../../../webgl/Util.js\";const l={dataType:r.UNSIGNED_BYTE,internalFormat:i.RGBA},g={};class n{constructor(e){this.rctx=e,this._activeTargets=new Set,this._depthTextures=new Map,this._depthBuffers=new Map,this._colorTextures=new Map,this._framebuffers=new Map,this.depthTextureSupported=e.capabilities.depthTexture}dispose(){this._depthBuffers.forEach((e=>e.dispose())),this._depthBuffers.clear(),this._depthTextures.forEach((e=>e.dispose())),this._depthTextures.clear(),this._colorTextures.forEach((e=>e.dispose())),this._colorTextures.clear(),this._framebuffers.forEach((e=>e.dispose())),this._framebuffers.clear(),this._activeTargets.clear()}disposeTargetResource(e){const t=e.id;this._activeTargets.has(t)&&(this._activeTargets.delete(t),this._disposeWithFramebuffers(this._depthTextures,t),this._disposeWithFramebuffers(this._depthBuffers,t),this._disposeWithFramebuffers(this._colorTextures,t))}_disposeWithFramebuffers(e,t){const r=e.get(t);r&&(this._framebuffers.forEach(((e,t)=>{e.colorAttachment!==r&&e.depthStencilAttachment!==r||(e.detachAll(),e.dispose(),this._framebuffers.delete(t))})),r.dispose(),e.delete(t))}getDepthTexture(e,t){if(!this.depthTextureSupported)return null;let d=this._depthTextures.get(e.id);return!d||d.descriptor.width===t.width&&d.descriptor.height===t.height||(d.dispose(),d=null),d||(d=new T(this.rctx,{target:s.TEXTURE_2D,pixelFormat:i.DEPTH_STENCIL,dataType:r.UNSIGNED_INT_24_8,samplingMode:h.NEAREST,wrapMode:o.CLAMP_TO_EDGE,width:t.width,height:t.height}),this._depthTextures.set(e.id,d),this._activeTargets.add(e.id)),d}getAllocatedDepthTexture(e){return this._depthTextures.get(e.id)}getDepthBuffer(e,t){if(this.depthTextureSupported)return null;let r=this._depthBuffers.get(e.id);return r?r.descriptor.width===t.width&&r.descriptor.height===t.height||r.resize(t.width,t.height):(r=new c(this.rctx,{internalFormat:d.DEPTH_STENCIL,...t}),this._depthBuffers.set(e.id,r),this._activeTargets.add(e.id)),r}getColorTexture(e,t){let r=this._colorTextures.get(e.id);return r&&(r.descriptor.width===t.width&&r.descriptor.height===t.height||(r.dispose(),r=null)),r||(r=new T(this.rctx,{target:s.TEXTURE_2D,pixelFormat:i.RGBA,internalFormat:e.internalFormat,dataType:e.dataType,samplingMode:null!=e.samplingMode?e.samplingMode:h.LINEAR,wrapMode:o.CLAMP_TO_EDGE,width:t.width,height:t.height}),this._colorTextures.set(e.id,r),this._activeTargets.add(e.id)),r}getAllocatedColorTexture(e){return this._colorTextures.get(e.id)}registerDepthTarget(e={}){return{id:t(),...g,...e}}registerColorTarget(e={}){return{id:t(),...l,...e}}getFramebuffer(t,r,i){const s=this._getKey(r,i);let h=this._framebuffers.get(s);const o=this.getColorTexture(r,t);if(this.depthTextureSupported){const r=i?this.getDepthTexture(i,t):void 0;if(!h)return h=e(i)?new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:u.DEPTH_STENCIL_TEXTURE},o,r):new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:u.NONE},o),this._framebuffers.set(s,h),h;return(h.width!==t.width||h.height!==t.height||h.colorTexture!==o||h.depthStencilTexture!==r)&&(h.detachAll(),h.resize(t.width,t.height),h.attachColorTexture(o),h.attachDepthStencilTexture(r)),h}const d=i?this.getDepthBuffer(i,t):void 0;if(!h)return h=new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:i?u.DEPTH_STENCIL_RENDER_BUFFER:u.NONE},o,d),this._framebuffers.set(s,h),h;return(h.width!==t.width||h.height!==t.height||h.colorTexture!==o)&&(h.detachAll(),h.resize(t.width,t.height),h.attachColorTexture(o),h.attachDepthStencilBuffer(d)),h}_getKey(e,t){return`${e.id}_${t?t.id:\"X\"}_${e.name}${t?\"_\"+t.name:\"\"}`}get gpuMemoryUsage(){let e=0;const t=new Set,r=r=>{t.has(r)||(t.add(r),e+=f(r))};return this._depthTextures.forEach(r),this._colorTextures.forEach(r),this._depthBuffers.forEach(r),e}}export{n as RenderTargetHelper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}