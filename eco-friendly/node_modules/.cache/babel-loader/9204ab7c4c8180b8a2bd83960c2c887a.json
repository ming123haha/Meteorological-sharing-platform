{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as e } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./BaseRasterFunction.js\";\nimport i from \"./SlopeFunctionArguments.js\";\nimport { slope as n } from \"./surfaceUtils.js\";\nlet p = class extends o {\n  constructor() {\n    super(...arguments), this.functionName = \"Slope\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"], this.isGCS = !1;\n  }\n\n  _bindSourceRasters() {\n    this.outputPixelType = this._getOutputPixelType(\"f32\");\n    const t = this.sourceRasterInfos[0].clone();\n    return t.pixelType = this.outputPixelType, t.statistics = null, t.histograms = null, this.rasterInfo = t, this.isGCS = t.spatialReference.isGeographic, {\n      success: !0\n    };\n  }\n\n  _processPixels(t) {\n    const s = t.pixelBlocks?.[0];\n    if (e(s)) return null;\n    const {\n      zFactor: r,\n      slopeType: o,\n      pixelSizePower: i,\n      pixelSizeFactor: p\n    } = this.functionArguments,\n          {\n      isGCS: c\n    } = this,\n          {\n      extent: u\n    } = t,\n          a = u ? {\n      x: u.width / s.width,\n      y: u.height / s.height\n    } : {\n      x: 1,\n      y: 1\n    };\n    return n(s, {\n      zFactor: r,\n      slopeType: o,\n      pixelSizePower: i,\n      pixelSizeFactor: p,\n      isGCS: c,\n      resolution: a\n    });\n  }\n\n};\nt([s({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], p.prototype, \"functionName\", void 0), t([s({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], p.prototype, \"functionArguments\", void 0), t([s()], p.prototype, \"rasterArgumentNames\", void 0), t([s({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"isGCS\", void 0), p = t([r(\"esri.layers.support.rasterFunctions.SlopeFunction\")], p);\nconst c = p;\nexport { c as default };","map":{"version":3,"names":["_","t","isNone","e","property","s","subclass","r","o","i","slope","n","p","constructor","arguments","functionName","functionArguments","rasterArgumentNames","isGCS","_bindSourceRasters","outputPixelType","_getOutputPixelType","sourceRasterInfos","clone","pixelType","statistics","histograms","rasterInfo","spatialReference","isGeographic","success","_processPixels","pixelBlocks","zFactor","slopeType","pixelSizePower","pixelSizeFactor","c","extent","u","a","x","width","y","height","resolution","json","write","name","prototype","type","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/SlopeFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isNone as e}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"./BaseRasterFunction.js\";import i from\"./SlopeFunctionArguments.js\";import{slope as n}from\"./surfaceUtils.js\";let p=class extends o{constructor(){super(...arguments),this.functionName=\"Slope\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"],this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType(\"f32\");const t=this.sourceRasterInfos[0].clone();return t.pixelType=this.outputPixelType,t.statistics=null,t.histograms=null,this.rasterInfo=t,this.isGCS=t.spatialReference.isGeographic,{success:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];if(e(s))return null;const{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p}=this.functionArguments,{isGCS:c}=this,{extent:u}=t,a=u?{x:u.width/s.width,y:u.height/s.height}:{x:1,y:1};return n(s,{zFactor:r,slopeType:o,pixelSizePower:i,pixelSizeFactor:p,isGCS:c,resolution:a})}};t([s({json:{write:!0,name:\"rasterFunction\"}})],p.prototype,\"functionName\",void 0),t([s({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],p.prototype,\"functionArguments\",void 0),t([s()],p.prototype,\"rasterArgumentNames\",void 0),t([s({json:{write:!0}})],p.prototype,\"isGCS\",void 0),p=t([r(\"esri.layers.support.rasterFunctions.SlopeFunction\")],p);const c=p;export{c as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}