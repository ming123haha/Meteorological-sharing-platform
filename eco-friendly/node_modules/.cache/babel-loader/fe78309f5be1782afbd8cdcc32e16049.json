{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isSome as s, isNone as r } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./BaseRasterFunction.js\";\nimport i from \"./CompositeBandFunctionArguments.js\";\nimport { compositeBands as c } from \"./pixelUtils.js\";\nlet p = class extends n {\n  constructor() {\n    super(...arguments), this.functionName = \"CompositeBand\", this.functionArguments = null, this.rasterArgumentNames = [\"rasters\"];\n  }\n\n  _bindSourceRasters() {\n    const {\n      sourceRasterInfos: t\n    } = this,\n          r = t[0];\n    this.outputPixelType = this._getOutputPixelType(r.pixelType);\n    const e = r.clone();\n\n    if (e.attributeTable = null, e.colormap = null, e.pixelType = this.outputPixelType, e.bandCount = t.map(({\n      bandCount: t\n    }) => t).reduce((t, s) => t + s), t.every(({\n      statistics: t\n    }) => s(t) && t.length)) {\n      const r = [];\n      t.forEach(({\n        statistics: t\n      }) => s(t) && r.push(...t)), e.statistics = r;\n    }\n\n    if (t.every(({\n      histograms: t\n    }) => s(t) && t.length)) {\n      const r = [];\n      t.forEach(({\n        histograms: t\n      }) => s(t) && r.push(...t)), e.histograms = r;\n    }\n\n    return this.rasterInfo = e, {\n      success: !0\n    };\n  }\n\n  _processPixels(t) {\n    const {\n      pixelBlocks: s\n    } = t;\n    if (!s) return null;\n    const e = s?.[0];\n    return r(e) ? null : c(s);\n  }\n\n};\nt([e({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], p.prototype, \"functionName\", void 0), t([e({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], p.prototype, \"functionArguments\", void 0), t([e()], p.prototype, \"rasterArgumentNames\", void 0), p = t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")], p);\nconst u = p;\nexport { u as default };","map":{"version":3,"names":["_","t","isSome","s","isNone","r","property","e","subclass","o","n","i","compositeBands","c","p","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","outputPixelType","_getOutputPixelType","pixelType","clone","attributeTable","colormap","bandCount","map","reduce","every","statistics","length","forEach","push","histograms","rasterInfo","success","_processPixels","pixelBlocks","json","write","name","prototype","type","u","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./BaseRasterFunction.js\";import i from\"./CompositeBandFunctionArguments.js\";import{compositeBands as c}from\"./pixelUtils.js\";let p=class extends n{constructor(){super(...arguments),this.functionName=\"CompositeBand\",this.functionArguments=null,this.rasterArgumentNames=[\"rasters\"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,r=t[0];this.outputPixelType=this._getOutputPixelType(r.pixelType);const e=r.clone();if(e.attributeTable=null,e.colormap=null,e.pixelType=this.outputPixelType,e.bandCount=t.map((({bandCount:t})=>t)).reduce(((t,s)=>t+s)),t.every((({statistics:t})=>s(t)&&t.length))){const r=[];t.forEach((({statistics:t})=>s(t)&&r.push(...t))),e.statistics=r}if(t.every((({histograms:t})=>s(t)&&t.length))){const r=[];t.forEach((({histograms:t})=>s(t)&&r.push(...t))),e.histograms=r}return this.rasterInfo=e,{success:!0}}_processPixels(t){const{pixelBlocks:s}=t;if(!s)return null;const e=s?.[0];return r(e)?null:c(s)}};t([e({json:{write:!0,name:\"rasterFunction\"}})],p.prototype,\"functionName\",void 0),t([e({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],p.prototype,\"functionArguments\",void 0),t([e()],p.prototype,\"rasterArgumentNames\",void 0),p=t([o(\"esri.layers.support.rasterFunctions.CompositeBandFunction\")],p);const u=p;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}