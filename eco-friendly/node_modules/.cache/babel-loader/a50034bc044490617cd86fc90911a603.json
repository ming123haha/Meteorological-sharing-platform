{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Camera.js\";\nimport \"../geometry.js\";\nimport i from \"../Graphic.js\";\nimport r from \"../Viewpoint.js\";\nimport s from \"../core/Collection.js\";\nimport { byId as n } from \"../core/domUtils.js\";\nimport a from \"../core/Error.js\";\nimport { on as o } from \"../core/events.js\";\nimport { handlesGroup as l, makeHandle as p } from \"../core/handleUtils.js\";\nimport h from \"../core/has.js\";\nimport { isIterable as d } from \"../core/iteratorUtils.js\";\nimport c from \"../core/Logger.js\";\nimport { destroyMaybe as u, isNone as g, isSome as m, unwrapOr as f } from \"../core/maybe.js\";\nimport { ObservableChangesType as y } from \"../core/ObservableChangesType.js\";\nimport { throwIfAborted as w } from \"../core/promiseUtils.js\";\nimport { on as v, watch as _, initial as b, syncAndInitial as S, whenOnce as M, sync as R } from \"../core/reactiveUtils.js\";\nimport { setFrameDuration as V } from \"../core/scheduling.js\";\nimport { screenPointObjectToArray as T, createScreenPoint as C, createScreenPointArray as x } from \"../core/screenUtils.js\";\nimport { initialize as O } from \"../core/workers/workers.js\";\nimport { property as E } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport { cast as j } from \"../core/accessorSupport/decorators/cast.js\";\nimport { subclass as P } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as I } from \"../core/accessorSupport/ensureType.js\";\nimport { c as L } from \"../chunks/vec3f64.js\";\nimport { owningCollectionProperty as G } from \"../core/support/OwningCollection.js\";\nimport H from \"../geometry/HeightModelInfo.js\";\nimport { canProjectWithoutEngine as U, project as A, projectPointToVector as D, projectVectorToVector as W, projectBoundingRect as F } from \"../geometry/projection.js\";\nimport { create as k, toExtent as q } from \"../geometry/support/aaBoundingRect.js\";\nimport { B as z, a as B } from \"../chunks/boundedPlane.js\";\nimport { renderSRFromViewSR as N } from \"../geometry/support/coordinateSystem.js\";\nimport { getResolutionForScale as Q } from \"../geometry/support/scaleUtils.js\";\nimport { isImageryTileLayer as $, isTiledLayer as X, isVoxelLayer as Y } from \"../layers/support/layerUtils.js\";\nimport { AnalysesCollection as Z } from \"../support/AnalysesCollection.js\";\nimport { BreakpointsOwner as J } from \"./BreakpointsOwner.js\";\nimport { DOMContainer as K } from \"./DOMContainer.js\";\nimport ee from \"./GroundView.js\";\nimport { PopupView as te } from \"./PopupView.js\";\nimport ie from \"./View.js\";\nimport re from \"./ViewAnimation.js\";\nimport { ViewingMode as se, stringFromViewingMode as ne, viewingModeFromString as ae } from \"./ViewingMode.js\";\nimport { layerView3DImporter as oe } from \"./3d/layerViewModuleImportUtils.js\";\nimport le from \"./3d/analysis/AnalysisViewManager3D.js\";\nimport { Constraints as pe } from \"./3d/constraints/Constraints.js\";\nimport he from \"./3d/environment/SceneViewEnvironment.js\";\nimport { SceneViewEnvironmentManager as de } from \"./3d/environment/SceneViewEnvironmentManager.js\";\nimport ce from \"./3d/input/SceneInputManager.js\";\nimport { GraphicsDeconflictor as ue } from \"./3d/layers/graphics/GraphicsDeconflictor.js\";\nimport { Labeler as ge } from \"./3d/layers/graphics/Labeler.js\";\nimport { ObjectResourceCache as me } from \"./3d/layers/graphics/ObjectResourceCache.js\";\nimport { FeatureTileTree3D as fe } from \"./3d/layers/support/FeatureTileTree3D.js\";\nimport ye from \"./3d/state/ViewState.js\";\nimport we from \"./3d/state/ViewStateManager.js\";\nimport { SceneIntersectionHelper as ve } from \"./3d/state/helpers/SceneIntersectionHelper.js\";\nimport { CombinedElevationProvider as _e } from \"./3d/support/CombinedElevationProvider.js\";\nimport be from \"./3d/support/debugFlags.js\";\nimport Se from \"./3d/support/DisplayQualityProfile.js\";\nimport { getElevationAtPoint as Me } from \"./3d/support/ElevationProvider.js\";\nimport Re from \"./3d/support/HighlightOptions.js\";\nimport { MapCoordsHelper as Ve } from \"./3d/support/MapCoordsHelper.js\";\nimport { PropertiesPool as Te } from \"./3d/support/PropertiesPool.js\";\nimport Ce from \"./3d/support/QualitySettings.js\";\nimport { RenderCoordsHelper as xe } from \"./3d/support/RenderCoordsHelper.js\";\nimport { newResourceController as Oe } from \"./3d/support/ResourceController.js\";\nimport Ee from \"./3d/support/SceneViewPerformanceInfo.js\";\nimport { SharedSymbolResources as je } from \"./3d/support/SharedSymbolResources.js\";\nimport { PointsOfInterest as Pe } from \"./3d/support/pointsOfInterest/PointsOfInterest.js\";\nimport Ie from \"./3d/terrain/TerrainSurface.js\";\nimport { isSurfaceLayerView as Le, getTiledLayerInfo as Ge, checkIfTileInfoSupportedForView as He } from \"./3d/terrain/terrainUtils.js\";\nimport { Stage as Ue } from \"./3d/webgl-engine/Stage.js\";\nimport { newIntersector as Ae, DEFAULT_TOLERANCE as De } from \"./3d/webgl-engine/lib/Intersector.js\";\nimport { StoreResults as We, IntersectorType as Fe } from \"./3d/webgl-engine/lib/IntersectorInterfaces.js\";\nimport { isValidIntersectorResult as ke } from \"./3d/webgl-engine/lib/intersectorUtils.js\";\nimport { toHit as qe, toOwner as ze } from \"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";\nimport { TERRAIN_ID as Be } from \"./3d/webgl-engine/lib/verticalOffsetUtils.js\";\nimport { hitTestSelectSimilarDistance as Ne } from \"./support/hitTestSelectUtils.js\";\nimport { occludeesSupported as Qe } from \"./support/layerViewUtils.js\";\nimport { encode as $e, encodeData as Xe, toRenderSettings as Ye, screenshotSuperSampleSettings as Ze } from \"./support/screenshotUtils.js\";\nimport { isSupportedScreenPointEvent as Je, createScreenPointFromSupportedEvent as Ke } from \"./support/screenUtils.js\";\nimport { isSpatialReferenceSupported as et } from \"./support/spatialReferenceSupport.js\";\nimport { check as tt } from \"./support/WebGLRequirements.js\";\nimport it from \"./ui/3d/DefaultUI3D.js\";\nimport rt from \"../webscene/Environment.js\";\nimport st from \"../geometry/Extent.js\";\nimport nt from \"../geometry/SpatialReference.js\";\nimport at from \"../geometry/Point.js\";\nconst ot = c.getLogger(\"esri.views.SceneView\");\nlet lt = class extends J(K(te(ie))) {\n  constructor(e) {\n    super(e), this._userClippingArea = null, this._clippingArea = null, this._initialDefaultSpatialReference = null, this._defaults = {}, this._externallySet = {\n      environment: !1\n    }, this._createGraphicsViewController = null, this._resolveWhenReady = [], this.propertiesPool = new Te({\n      slicePlane: z\n    }, this), this._resourceController = Oe(this), this._defaultToMapOptions = {\n      include: new Set()\n    }, this._defaultHitTestOptions = {\n      exclude: new Set()\n    }, this.deconflictor = new ue({\n      view: this\n    }), this.labeler = new ge({\n      view: this,\n      deconflictor: this.deconflictor.labels\n    }), this.sharedSymbolResources = null, this.analyses = new Z(), this.basemapTerrain = null, this.elevationProvider = null, this.camera = null, this.canvas = null, this.center = null, this.constraints = new pe(), this.environmentManager = new de(), this.extent = null, this.floors = new s(), this.fullOpacity = 1, this.graphicsView = null, this.analysisViewManager = new le({\n      view: this\n    }), this.groundView = null, this.navigating = !1, this.map = null, this.screenSizePerspectiveEnabled = !0, this.state = new ye(), this.scale = null, this.spatialReference = null, this.alphaCompositingEnabled = !1, this.preserveDrawingBufferEnabled = !1, this.supersampleScreenshotsEnabled = !0, this.type = \"3d\", this.ui = new it(), this._numUpdating = 0, this._lastUpdateTime = 0, this.updatingProgress = .5, this.viewpoint = null, this.zoom = null, this.highlightOptions = new Re(), this.voxelWasm = null, this.voxelWasmPromise = null, O(), e && e.environment || (this._defaults.environment = new he(), this.environment = this._defaults.environment);\n\n    const t = (e = null) => {\n      m(e) && e.type === y.MOVE || (this._updatingChanged(), this.map && this.map.allLayers.forEach(async e => {\n        try {\n          await e.when();\n        } catch {}\n\n        this._updatingChanged();\n      }));\n    };\n\n    this.handles.add([v(() => this.map?.allLayers, \"after-changes\", e => t(e), {\n      onListenerAdd: () => t(),\n      onListenerRemove: () => t(),\n      sync: !0\n    }), this.allLayerViews.on(\"after-changes\", e => this._updateUpdatingMonitors(e)), _(() => this.map, e => {\n      e && \"load\" in e && e.load && e.load().catch(() => {});\n    })]), this.inputManager = new ce({\n      view: this\n    }), this.stateManager = new we({\n      view: this\n    });\n  }\n\n  initialize() {\n    this.groundView = new ee({\n      view: this\n    }), this._updateUpdatingMonitors();\n\n    const e = () => this._updateDefaultToMapOptions();\n\n    this.handles.add(v(() => this.map?.allLayers, \"after-changes\", e, {\n      onListenerAdd: e,\n      onListenerRemove: e\n    })), this.updatingHandles.add(() => this.qualitySettings.memoryLimit, e => {\n      this.resourceController && (this.resourceController.memoryController.maxMemory = e);\n    }, b), this.updatingHandles.add(() => this.qualitySettings.additionalCacheMemory, e => {\n      this.resourceController && (this.resourceController.memoryController.additionalCacheMemory = e);\n    }, b), this.updatingHandles.add(() => this.qualitySettings.frameRate, e => V(e > 0 ? 1e3 / Math.ceil(e) : 0), b), this.updatingHandles.add(() => this.map?.ground, e, S), this.updatingHandles.add(() => this.map?.ground?.opacity, () => this._updateDefaultHitTestOptions(), S), this.handles.add(_(() => this.spatialReference, () => this.notifyChange(\"clippingArea\"), R));\n  }\n\n  destroy() {\n    this.destroyed || (this.invalidate(), this.activeTool = null, this.layerViewManager.clear(), this._exitSurface(), this._disposeGraphicsView(), this.sharedSymbolResources = u(this.sharedSymbolResources), this.labeler.destroy(), this._set(\"labeler\", null), this.deconflictor.destroy(), this._set(\"deconflictor\", null), this._resourceController = u(this._resourceController), this.stateManager.destroy(), this._set(\"stateManager\", null), this.inputManager.destroy(), this._set(\"inputManager\", null), this.propertiesPool.destroy(), this.handles.remove(\"updatingMonitors\"), this.environmentManager.destroy(), this._set(\"environmentManager\", null), this.groundView = u(this.groundView));\n  }\n\n  get renderSpatialReference() {\n    return this.renderCoordsHelper && this.renderCoordsHelper.spatialReference;\n  }\n\n  get basemapSpatialReference() {\n    return this.basemapTerrain?.spatialReference;\n  }\n\n  installContentCameraReset(e = {\n    sticky: !1\n  }) {\n    return this.stateManager.installContentCameraReset(e);\n  }\n\n  get clippingArea() {\n    if (\"global\" === this.viewingMode) return null;\n    let e = this._userClippingArea || this.get(\"map.clippingArea\");\n    return !(!!this._userClippingArea || this.get(\"map.clippingEnabled\")) || g(e) ? (this._clippingArea = null, null) : e instanceof st ? this.spatialReference && (e = dt(e, this.spatialReference), g(e)) ? (ot.error(\"#clippingArea\", \"setting clippingArea with incompatible SpatialReference\"), this._clippingArea) : (e = e.clone(), g(e.intersection(this.groundAndLayersExtent)) && (e.xmin = e.xmax, e.ymin = e.ymax), e.zmin = void 0, e.zmax = void 0, e.equals(this._clippingArea) || (this._clippingArea = e), this._clippingArea) : (ot.error(\"#clippingArea\", \"only clippingArea geometries of type Extent are supported\"), this._clippingArea);\n  }\n\n  set clippingArea(e) {\n    this.ready && \"global\" === this.viewingMode && m(e) ? ot.error(\"#clippingArea=\", \"Clipping area is only supported in local viewingMode\") : this._userClippingArea = e;\n  }\n\n  get renderDataExtent() {\n    if (this.state.viewingMode === se.Global) return null;\n    const e = this.renderSpatialReference,\n          t = this.dataExtent;\n    return g(t) || g(e) || t.spatialReference.equals(e) ? t : dt(t, e);\n  }\n\n  get dataExtent() {\n    let e = this.groundAndLayersExtent;\n    const t = this.spatialReference || nt.WGS84,\n          i = dt(this.clippingArea, t);\n    m(i) && (e = m(e) ? e.intersection(i) : i);\n\n    const r = this._get(\"dataExtent\");\n\n    return m(e) && e.equals(r) ? r : e;\n  }\n\n  get groundAndLayersExtent() {\n    const e = this.spatialReference || nt.WGS84;\n    let t;\n\n    const i = i => {\n      const r = dt(i, e);\n      g(r) || (m(t) ? t.union(r) : t = r.clone());\n    },\n          r = this.basemapTerrain;\n\n    if (r?.spatialReference) {\n      const e = r.groundExtent;\n      i(new st({\n        xmin: e[0],\n        ymin: e[1],\n        zmin: 0,\n        xmax: e[2],\n        ymax: e[3],\n        zmax: 0,\n        spatialReference: r.spatialReference\n      }));\n    }\n\n    if (this.map) {\n      const e = e => {\n        !m(e.fullExtent) || \"graphics\" === e.type && e.internal || i(e.fullExtent);\n      };\n\n      this.map.allLayers.forEach(t => e(t));\n    }\n\n    if (g(t)) return null;\n    t.hasZ ? (t.zmin = Math.min(0, t.zmin), t.zmax = Math.max(0, t.zmax)) : (t.zmin = 0, t.zmax = 0);\n\n    const s = this._get(\"groundAndLayersExtent\");\n\n    return t.equals(s) ? s : t;\n  }\n\n  set environment(e) {\n    e !== this._defaults.environment && (this._externallySet.environment = !0), this._set(\"environment\", e);\n  }\n\n  castEnvironment(e) {\n    return e ? e instanceof he ? e : e instanceof rt ? null != this.environment ? this.environment.cloneWithWebsceneEnvironment(e) : he.fromWebsceneEnvironment(e) : I(he, e) : new he();\n  }\n\n  get initialExtentRequired() {\n    return this.stateManager && !this.stateManager.hasInitialView;\n  }\n\n  get _defaultsFromMapSettings() {\n    return {\n      required: {\n        tileInfo: !1,\n        heightModelInfo: !0,\n        extent: !1\n      }\n    };\n  }\n\n  get interacting() {\n    return this.navigating || m(this.activeTool);\n  }\n\n  get stationary() {\n    return !this.animation && !this.resizing && (g(this.state) || this.state.stationary);\n  }\n\n  set qualityProfile(e) {\n    Se.isValidProfile(e) && (Se.apply(e, this.qualitySettings), this._set(\"qualityProfile\", e));\n  }\n\n  get qualityProfile() {\n    return this._get(\"qualityProfile\") || Se.getDefaultProfile();\n  }\n\n  set slicePlane(e) {\n    if (m(this._stage) && this._stage.renderView.setRenderParameters({\n      slicePlane: e\n    }), g(e)) return void this._set(\"slicePlane\", null);\n    const t = this.propertiesPool.get(\"slicePlane\");\n    B(e, t), this._set(\"slicePlane\", t);\n  }\n\n  get typeSpecificPreconditionsReady() {\n    return !!this.viewingMode;\n  }\n\n  get resolution() {\n    return null != this.spatialReference ? Q(this.scale, this.spatialReference) : 0;\n  }\n\n  get heightModelInfo() {\n    const e = this.getDefaultHeightModelInfo();\n    return null != e ? H.deriveUnitFromSR(e, this.spatialReference) : null;\n  }\n\n  get updating() {\n    if (this.destroyed) return !1;\n    let e = 0,\n        t = this.layerViewManager.updating,\n        i = t ? this.layerViewManager.updatingRemaining : 0;\n    this.allLayerViews.forEach(r => {\n      if (r.isFulfilled()) {\n        if (r.updating) {\n          if (t = !0, r.suspended || Le(r)) return;\n          ++i, e += r.updatingProgress;\n        }\n      } else ++i;\n    });\n\n    for (const r of [this.graphicsView, this.basemapView, this._resourceController, this._stage, this.featureTiles, this.pointsOfInterest, this.environmentManager, this.overlay, this.featureTreeDebugger, this.toolViewManager, this.analysisViewManager]) if (m(r) && r.updating) {\n      const t = .1;\n      i += t, e += .5 * t;\n    }\n\n    for (const r of [this.deconflictor, this.labeler, this.basemapTerrain]) m(r) && r.updating && (++i, e += r.updatingProgress);\n\n    if (t = !!(t || i > 0 || this.updatingHandles.updating || !this.ready || !this.stationary || this._createGraphicsViewController || this.inputManager?.hasPendingInputs || this.map?.allLayers?.some(e => !e.isFulfilled())), t ? (this._numUpdating = Math.max(i, this._numUpdating), e += this._numUpdating - i) : this._numUpdating = 0, this._numUpdating > 0 ? e /= this._numUpdating : e = t ? 0 : 1, this._get(\"updatingProgress\") !== e) {\n      const i = performance.now();\n\n      if (e < 1) {\n        const t = Math.min((i - this._lastUpdateTime) / 2e3, 1);\n        e = this.updatingProgress * (1 - t) + e * t;\n      }\n\n      this._set(\"updatingProgress\", e), this._lastUpdateTime = t && e < 1 ? i : 0;\n    }\n\n    return t;\n  }\n\n  get viewingMode() {\n    const e = this._predeterminedViewingMode;\n    if (m(e)) return ne(e);\n    const t = this.spatialReference;\n    return t ? m(this.defaultsFromMap?.viewingMode) && t.equals(this.defaultsFromMap.spatialReference) ? ne(this.defaultsFromMap.viewingMode) : et(t, se.Global) ? \"global\" : \"local\" : \"global\";\n  }\n\n  set viewingMode(e) {\n    this.ready ? ot.error(\"#viewingMode\", \"viewingMode cannot be set once view is ready\") : e ? this._override(\"viewingMode\", e) : void 0 === e && this._clearOverride(\"viewingMode\");\n  }\n\n  get resourceController() {\n    return this._resourceController;\n  }\n\n  get performanceInfo() {\n    return new Ee(this);\n  }\n\n  forceAnimationTime(e) {\n    this._stage.renderView.forcedAnimationTime = this.basemapTerrain.overlayManager.forcedAnimationTime = e;\n  }\n\n  on(e, t, i, r) {\n    const s = this.viewEvents.on(e, t, i, r);\n    return s || super.on(e, t);\n  }\n\n  hasEventListener(e) {\n    return super.hasEventListener(e) || this.viewEvents.hasHandler(e);\n  }\n\n  toMap(e, t) {\n    if (!this.ready) return ot.error(\"#toMap()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = t ? this.externalToInternalIntersectOptions(t) : this._defaultToMapOptions,\n          r = m(i.graphics) && (m(i.graphics.include) || m(i.graphics.exclude)),\n          s = Je(e) ? Ke(this, e) : e,\n          n = T(s);\n    i.enableDraped = i.include && !i.include.has(Be) || i.exclude && i.exclude.has(Be);\n    const a = this.sceneIntersectionHelper,\n          o = Ae(this.state.viewingMode);\n\n    if (o.options.selectionMode = !0, o.options.store = r ? We.ALL : We.MIN, a.intersectIntersectorScreen(n, o, i), r) {\n      for (const e of o.results.all) {\n        const t = qe(e, this);\n        if (g(t)) return this._intersectResultToMapPoint(e);\n        if (\"graphic\" !== t.type || this._testGraphicUidFilter(i.graphics, t.graphic)) return this._intersectResultToMapPoint(e);\n      }\n\n      return null;\n    }\n\n    return this._intersectResultToMapPoint(o.results.min);\n  }\n\n  toScreen(e) {\n    if (!this.ready) return ot.error(\"#toScreen()\", \"Scene view cannot be used before it is ready\"), null;\n    const t = f(null == e.z && Me(this.elevationProvider, e), 0);\n    return D(e, ut, this.renderSpatialReference, t), this.state.camera.projectToScreen(ut, gt), C(gt[0], gt[1]);\n  }\n\n  pixelSizeAt(e) {\n    return this.ready ? e ? (D(e, ut, this.renderSpatialReference), this.state.camera.computeScreenPixelSizeAt(ut)) : 0 : (ot.error(\"#pixelSizeAt()\", \"Scene view cannot be used before it is ready\"), null);\n  }\n\n  overlayPixelSizeInMapUnits(e) {\n    const t = this.basemapTerrain.overlayManager;\n    return t ? t.overlayPixelSizeInMapUnits(e) : 1;\n  }\n\n  hitTest(e, t) {\n    if (!this.ready) return ot.error(\"#hitTest()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = Je(e) ? Ke(this, e) : e,\n          r = x(i.x, i.y),\n          s = t ? this.externalToInternalIntersectOptions(t) : this._defaultHitTestOptions;\n    s.requiresGroundFeedback = !0, s.enableDraped = !0;\n    const n = Ae(this.state.viewingMode);\n    n.options.selectionMode = !0, n.options.store = We.ALL, this.sceneIntersectionHelper.intersectIntersectorScreen(r, n, s);\n\n    const a = this._intersectResultsToHits(n.results.all, s.graphics),\n          o = n.results.ground,\n          l = ze(o, this),\n          p = m(l) && \"type\" in l && \"integrated-mesh\" === l.type ? l : null,\n          h = {\n      screenPoint: i,\n      results: a,\n      ground: {\n        mapPoint: this._intersectResultToMapPoint(o),\n        distance: ke(o) ? o.distanceInRenderSpace : 0,\n        layer: p\n      }\n    };\n\n    return be.SCENEVIEW_HITTEST_RETURN_INTERSECTOR && (h.intersector = n), Promise.resolve(h);\n  }\n\n  async popupHitTest(e) {\n    const {\n      results: t,\n      ground: i\n    } = await Ne(this, e);\n    let r = null;\n    return !(0 === t.length || Math.abs(f(t[0].distance, 0) - i.distance) < 1e-5) || i.layer && \"integrated-mesh\" === i.layer.type || (r = i.mapPoint), {\n      results: t,\n      screenPoint: e,\n      mapPoint: r\n    };\n  }\n\n  goTo(e, t) {\n    return this.updatingHandles.addPromise(this.stateManager.goTo(e, t));\n  }\n\n  async whenAnalysisView(e) {\n    if (g(e.parent)) throw new a(\"view:no-analysisview-for-analysis\", \"The analysis has not been added to view.analyses\", {\n      analysis: e\n    });\n\n    if (\"line-of-sight\" === e.parent.type) {\n      return (await this.whenLayerView(e.parent)).whenAnalysisView();\n    }\n\n    return this.analysisViewManager.whenAnalysisView(e);\n  }\n\n  whenLayerView(e) {\n    return super.whenLayerView(e);\n  }\n\n  async takeScreenshot(e) {\n    const t = this._completeSettings(e);\n\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return $e(i, t, this._pixelFormat());\n  }\n\n  async _takeScreenshot(e) {\n    const t = this._completeSettings(e);\n\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return Xe(i, this._pixelFormat());\n  }\n\n  _completeSettings(e) {\n    const t = Ye(e, this);\n    return t.pixelRatio /= this.state.pixelRatio, Ze(t, this.supersampleScreenshotsEnabled, this.padding);\n  }\n\n  _pixelFormat() {\n    return {\n      flipY: !0,\n      premultipliedAlpha: this._stage.renderView.getAlpha()\n    };\n  }\n\n  get test() {\n    return {\n      takeScreenshot: e => this._takeScreenshot(e)\n    };\n  }\n\n  addUpdatingPromise(e) {\n    return this.updatingHandles.addPromise(e);\n  }\n\n  importLayerView(e) {\n    return oe.importLayerView(e);\n  }\n\n  hasLayerViewModule(e) {\n    return oe.hasLayerViewModule(e);\n  }\n\n  forceDOMReadyCycle() {\n    this.forceReadyCycle();\n  }\n\n  getDefaultSpatialReference() {\n    return this.map && \"initialViewProperties\" in this.map && this.map?.initialViewProperties?.spatialReference || this.defaultsFromMap?.spatialReference || this.defaultsFromMap?.ready && this._initialDefaultSpatialReference || null;\n  }\n\n  async validate() {\n    let e = tt(this.type);\n    if (h(\"safari\") && h(\"safari\") < 9 && (e = new a(\"sceneview:browser-not-supported\", \"This browser is not supported by SceneView (Safari < 9)\", {\n      type: \"safari\",\n      requiredVersion: 9,\n      detectedVersion: h(\"safari\")\n    })), m(e)) throw ot.warn(\"#validate()\", e.message), e;\n  }\n\n  get _predeterminedViewingMode() {\n    const e = this._isOverridden(\"viewingMode\") ? this._get(\"viewingMode\") : (this.map && \"initialViewProperties\" in this.map ? this.map.initialViewProperties?.viewingMode : null) ?? null;\n    return m(e) ? ae(e) : null;\n  }\n\n  getSpatialReferenceSupport({\n    spatialReference: e,\n    layer: t\n  }) {\n    const i = this._predeterminedViewingMode;\n    if (m(i)) return this._validateSpatialReferenceForViewingMode(e, t, i) ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, i)\n    } : null;\n\n    const r = this._validateSpatialReferenceForViewingMode(e, t, se.Local),\n          s = this._validateSpatialReferenceForViewingMode(e, t, se.Global);\n\n    return r || s ? r && s ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, null)\n    } : r ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, se.Local)\n    } : {\n      constraints: this._makeSpatialReferenceConstraints(e, t, se.Global)\n    } : null;\n  }\n\n  _validateSpatialReferenceForViewingMode(e, t, i) {\n    return !!et(e, i) && (!!g(t) || !!$(t) || (!X(t) || !g(Ge(t, e, i))) && (!Y(t) || i !== se.Global));\n  }\n\n  _makeSpatialReferenceConstraints(e, t, i) {\n    if (g(t)) return [{\n      spatialReference: e,\n      viewingMode: i\n    }];\n    const r = e.isWebMercator,\n          s = e.isWGS84;\n\n    if ($(t) && (r || s)) {\n      return !s || i === se.Local || null === He(t.tileInfo, t.fullExtent, e, se.Global) ? [{\n        spatialReference: e,\n        viewingMode: i\n      }, {\n        spatialReference: nt.WebMercator,\n        viewingMode: i\n      }] : [{\n        spatialReference: r ? nt.WGS84 : nt.WebMercator,\n        viewingMode: i\n      }];\n    }\n\n    return X(t) || Y(t) || !r && !s ? X(t) && r && i !== se.Global ? [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: nt.WGS84,\n      viewingMode: se.Local\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: r ? nt.WGS84 : nt.WebMercator,\n      viewingMode: i\n    }];\n  }\n\n  _validateSpatialReference(e) {\n    const t = m(this.getSpatialReferenceSupport({\n      spatialReference: e\n    })),\n          i = this._predeterminedViewingMode;\n    return t || (m(i) ? ot.warnOnce(`Spatial reference defined on view not supported in ${ne(i)} viewing mode.`) : e.isGeographic && ot.warnOnce(\"Spatial reference is geographic but not supported.\")), t;\n  }\n\n  whenReady() {\n    return new Promise(e => {\n      this.ready ? e(this) : this._resolveWhenReady.push(e);\n    });\n  }\n\n  computeMapPointFromVec3d(e, t) {\n    let i = this.spatialReference || nt.WGS84;\n    return W(e, this.renderSpatialReference, e, i) || (i = nt.WGS84, W(e, this.renderSpatialReference, e, i)), t ? (t.x = e[0], t.y = e[1], t.z = e[2], t.spatialReference = i) : t = new at(e, i), t;\n  }\n\n  trackGraphicState(e) {\n    if (!e.graphic) return ot.error(\"trackGraphicState\", \"GraphicState.graphic must not be null or undefined to start tracking\"), null;\n    const t = this.getViewForGraphic(e.graphic);\n    let i = null,\n        r = !1;\n\n    const s = t => {\n      !r && m(t) && \"processor\" in t && \"graphics-3d\" === t.processor?.type && t.processor.graphicsCore && (i = t.processor.graphicsCore.trackGraphicState(e));\n    };\n\n    return m(t) ? s(t) : this.whenViewForGraphic(e.graphic, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), {\n      remove: () => {\n        r = !0, m(i) && (i.remove(), i = null);\n      }\n    };\n  }\n\n  highlight(e) {\n    if (Array.isArray(e)) return l(e.map(e => this.highlight(e)));\n    if (s.isCollection(e)) return l(e.toArray().map(e => this.highlight(e)));\n    const t = this.getViewForGraphic(e);\n    return t && \"highlight\" in t ? t.highlight(e) : p();\n  }\n\n  maskOccludee(e) {\n    if (!e) return ot.error(\"maskOccludee\", \"GraphicState.graphic must not be null or undefined to mask an occludee\"), null;\n    const t = this.getViewForGraphic(e);\n    let i = null,\n        r = !1;\n\n    const s = t => {\n      !r && m(t) && Qe(t) && (i = t.maskOccludee(e));\n    };\n\n    return m(t) ? s(t) : this.whenViewForGraphic(e, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), {\n      remove: () => {\n        r = !0, m(i) && (i.remove(), i = null);\n      }\n    };\n  }\n\n  getViewForGraphic(e) {\n    return e.layer === this.graphics ? this.graphicsView : e.layer ? this.allLayerViews.find(t => t.layer === e.layer) : null;\n  }\n\n  graphicChanged(e) {\n    m(this.graphicsView) && this.graphicsView.graphicChanged(e);\n  }\n\n  async whenViewForGraphic(e, t) {\n    if (e.layer === this) return await M(() => this.graphicsView), this.graphicsView;\n    if (!e.layer || !this.map) throw new a(\"no-view-for-graphic\");\n    return t && t.waitForLayer && !this.map.allLayers.includes(e.layer) ? new Promise((t, i) => {\n      const r = this.map.allLayers.on(\"change\", s => {\n        s.added.includes(e.layer) && (r.remove(), this.whenLayerView(e.layer).then(t, i));\n      });\n    }) : this.whenLayerView(e.layer);\n  }\n\n  externalToInternalIntersectOptions(e) {\n    const t = this._externalToInternalRenderItems(e.include, ct.INCLUDE),\n          i = this._externalToInternalRenderItems(e.exclude, ct.EXCLUDE);\n\n    return {\n      include: t.layerUids,\n      exclude: i.layerUids,\n      graphics: {\n        include: t.graphicUids,\n        exclude: i.graphicUids\n      }\n    };\n  }\n\n  _intersectResultToMapPoint(e, t) {\n    return e.getIntersectionPoint(ut) ? (t = this.computeMapPointFromVec3d(ut, t), e.intersector === Fe.TERRAIN && this.basemapTerrain && (t.z = f(Me(this.basemapTerrain, t), 0)), t) : null;\n  }\n\n  _intersectResultsToHits(e, t) {\n    const i = new Array();\n    let r = null;\n\n    for (let s = 0; s < e.length; s++) {\n      const n = e[s],\n            a = ze(n, this);\n      if (m(a) && (a === this.map.ground || \"type\" in a && \"integrated-mesh\" === a.type)) break;\n      const o = qe(n, this);\n      if (g(o)) continue;\n\n      if (\"graphic\" === o.type) {\n        if (g(r) && s !== e.length - 1 && (r = new Set()), m(r)) {\n          const e = this._getGraphicFilterUid(o.graphic);\n\n          if (r.has(e)) continue;\n          r.add(e);\n        }\n\n        if (!this._testGraphicUidFilter(t, o.graphic)) continue;\n      }\n\n      const l = this._intersectResultToMapPoint(n),\n            p = n.distanceInRenderSpace;\n\n      i.push({ ...o,\n        mapPoint: l,\n        distance: p\n      });\n    }\n\n    return i;\n  }\n\n  _getGraphicFilterUid(e) {\n    if (e.layer && \"objectIdField\" in e.layer) {\n      const t = e.attributes[e.layer.objectIdField];\n      if (t) return `o-${e.layer.id}-${t}`;\n    }\n\n    return `u-${e.uid}`;\n  }\n\n  _testGraphicUidFilter(e, t) {\n    const i = this._getGraphicFilterUid(t);\n\n    return g(e) || (g(e.include) || e.include.has(i)) && (g(e.exclude) || !e.exclude.has(i));\n  }\n\n  _externalToInternalRenderItems(e, t, r = {\n    layerUids: null,\n    graphicUids: null\n  }) {\n    if (!e) return r;\n    if (e instanceof i) ht(r, this._getGraphicFilterUid(e)), t === ct.INCLUDE && (m(this.graphicsView) && e.layer === this ? pt(r, this.graphicsView.processor.layer.id) : e.layer && pt(r, e.layer.uid));else if (d(e)) for (const i of e) i === this.graphics && m(this.graphicsView) ? pt(r, this.graphicsView.processor.layer.id) : i === this.map.ground ? pt(r, Be) : this._externalToInternalRenderItems(i, t, r);else \"uid\" in e && pt(r, e.uid);\n    return r;\n  }\n\n  _initBasemapTerrain() {\n    this._set(\"basemapTerrain\", new Ie({\n      view: this\n    })), this._set(\"elevationProvider\", new _e({\n      view: this\n    })), this.elevationProvider.register(\"ground\", this.basemapTerrain);\n  }\n\n  _exitBasemapTerrain() {\n    this.basemapTerrain && (this.elevationProvider.unregister(this.basemapTerrain), this.elevationProvider.destroy(), this._set(\"elevationProvider\", null), this.basemapTerrain.destroy(), this._set(\"basemapTerrain\", null));\n  }\n\n  _initGlobe() {\n    this._initCoordinateSystem(), this.state.createInitialCamera(), this._initBasemapTerrain(), this._set(\"pointsOfInterest\", new Pe({\n      view: this\n    })), this._set(\"featureTiles\", new fe({\n      renderCoordsHelper: this.renderCoordsHelper,\n      cameraOnSurface: this.pointsOfInterest.contentCameraOnSurface,\n      focus: this.pointsOfInterest.focus,\n      tilingSchemeOwner: this.basemapTerrain,\n      viewState: this.state,\n      scheduler: this._resourceController.scheduler,\n      terrain: this.basemapTerrain\n    }));\n\n    const e = () => {\n      const e = this.basemapTerrain?.extent;\n      if (this.clippingArea || e) {\n        if (e && this.basemapTerrain.spatialReference) {\n          const e = m(this.basemapTerrain.extent) ? A(q(this.basemapTerrain.extent, this.basemapTerrain.spatialReference), this.spatialReference) : null;\n          m(this.clippingArea) ? this.featureTiles.filterExtent = this.clippingArea.intersection(e) : this.featureTiles.filterExtent = e;\n        } else this.featureTiles.filterExtent = this.clippingArea;\n      } else this.featureTiles.filterExtent = null;\n    };\n\n    this.handles.add([this.updatingHandles.add(() => be.FEATURE_TILE_TREE_SHOW_TILES, e => {\n      e && this.featureTiles && !this.featureTreeDebugger ? this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then(({\n        FeatureTileTree3DDebugger: e\n      }) => {\n        !this.featureTreeDebugger && be.FEATURE_TILE_TREE_SHOW_TILES && (this.featureTreeDebugger = new e({\n          view: this\n        }));\n      }) : e || !this.featureTreeDebugger || be.FEATURE_TILE_TREE_SHOW_TILES || (this.featureTreeDebugger.destroy(), this.featureTreeDebugger = null);\n    }, S), this.updatingHandles.add(() => this.clippingArea, e, S), this.updatingHandles.add(() => this.basemapTerrain.extent, e, S)], \"feature-tiles\"), this.stateManager.init();\n  }\n\n  _exitGlobe() {\n    this.state && (this.stateManager.deinit(), this.handles.remove(\"render-coords-helper\"), this.handles.remove(\"feature-tiles\"), this.featureTiles.destroy(), this._set(\"featureTiles\", null), this.pointsOfInterest.destroy(), this._set(\"pointsOfInterest\", null), this._exitBasemapTerrain(), this.state.exit(), this._exitCoordinateSystem());\n  }\n\n  _initCoordinateSystem() {\n    if (this.spatialReference) {\n      const e = this.spatialReference;\n      this.mapCoordsHelper && this.mapCoordsHelper.spatialReference.equals(e) || this._set(\"mapCoordsHelper\", new Ve(this.map, e));\n      const t = this.state.isGlobal,\n            i = N(t, e);\n      i !== this.renderSpatialReference && (this._set(\"renderCoordsHelper\", xe.create(this.state.viewingMode, i)), t || this.handles.add(_(() => this.basemapTerrain?.extent, e => {\n        const t = this.renderCoordsHelper.spatialReference;\n        e && (0 !== e[0] || 0 !== e[1] || 0 !== e[2] || 0 !== e[3]) && F(e, this.basemapTerrain.spatialReference, mt, t) && (this.renderCoordsHelper.extent = mt);\n      }, R), \"render-coords-helper\"), this.sceneIntersectionHelper && this.sceneIntersectionHelper.setTolerance(De / this.renderCoordsHelper.unitInMeters));\n    } else this._set(\"mapCoordsHelper\", null), this._set(\"renderCoordsHelper\", null);\n  }\n\n  _exitCoordinateSystem() {\n    this.mapCoordsHelper && (this.handles.remove(\"render-coords-helper\"), this._set(\"renderCoordsHelper\", null), this._set(\"mapCoordsHelper\", null));\n  }\n\n  _updatingChanged() {\n    this.notifyChange(\"updating\");\n  }\n\n  _updateUpdatingMonitors(e = null) {\n    m(e) && e.type === y.MOVE || (this.handles.remove(\"updatingMonitors\"), this.allLayerViews.forEach(e => {\n      e.destroyed || (this.handles.add(_(() => [e.updating, e.updatingProgress], () => this._updatingChanged(), R), \"updatingMonitors\"), e.when(() => this._updatingChanged(), () => this._updatingChanged()));\n    }), this._updatingChanged());\n  }\n\n  _renderScreenshotOverlay(e, t) {\n    if (!this.overlay || !this.overlay.hasVisibleItems) return t;\n    const i = e.getContext(\"2d\");\n    return i.putImageData(t, 0, 0), this.overlay.renderCanvas(e), i.getImageData(0, 0, t.width, t.height);\n  }\n\n  _initStage() {\n    const e = {\n      deactivatedWebGLExtensions: this.deactivatedWebGLExtensions,\n      debugWebGLExtensions: this.debugWebGLExtensions,\n      alpha: this.alphaCompositingEnabled,\n      preserveDrawingBuffer: this.preserveDrawingBufferEnabled,\n      canvas: this.renderCanvas,\n      screenshot: {\n        renderOverlay: (e, t) => this._renderScreenshotOverlay(e, t)\n      }\n    },\n          t = new ve(this.state.viewingMode, e => this._stage.layers.forAll(e), this);\n\n    this._set(\"sceneIntersectionHelper\", t);\n\n    const i = n(this.surface),\n          {\n      resourceController: r,\n      state: s,\n      renderSpatialReference: l\n    } = this;\n    this._stage = new Ue({\n      options: e,\n      container: i,\n      resourceController: r,\n      state: s,\n      sceneIntersectionHelper: t,\n      renderSR: l\n    }), this._stage.renderView.setRenderParameters({\n      slicePlane: this.slicePlane\n    }), this._lostWebGLContextHandle = o(this._stage.renderView.canvas, \"webglcontextlost\", () => this.fatalError = new a(\"webgl-context-lost\")), this.handles.add([this.updatingHandles.add(() => this.qualitySettings.antialiasingEnabled, () => this._stage.renderView.setRenderParameters({\n      antialiasingEnabled: this.qualitySettings.antialiasingEnabled\n    }), b), this.updatingHandles.add(() => this.qualitySettings.highQualityTransparency, () => this._stage.renderView.setRenderParameters({\n      highQualityTransparency: this.qualitySettings.highQualityTransparency\n    }), b), _(() => this.magnifier, e => this._stage.renderView.magnifier = e, S)], \"stage\");\n\n    const p = () => {\n      this._stage.renderView.setRenderParameters({\n        defaultHighlightOptions: Re.toEngineOptions(this.highlightOptions)\n      });\n    };\n\n    this.handles.add(this.updatingHandles.add(() => [this.highlightOptions.color, this.highlightOptions.haloColor, this.highlightOptions.haloOpacity, this.highlightOptions.fillOpacity, this.highlightOptions.shadowOpacity, this.highlightOptions.shadowColor, this.highlightOptions.shadowDifference], p), \"stage\"), p(), this.renderCoordsHelper && this.sceneIntersectionHelper.setTolerance(De / this.renderCoordsHelper.unitInMeters), this._set(\"canvas\", this._stage.renderView.canvas);\n  }\n\n  _exitStage() {\n    this._set(\"sceneIntersectionHelper\", null), this._stage.destroy(), this._stage = null, this._lostWebGLContextHandle.remove(), this._lostWebGLContextHandle = null, this.handles.remove(\"stage\"), this._set(\"canvas\", null);\n  }\n\n  _initSurface(e) {\n    this._exitSurface(), this.state.init(e, this.spatialReference), this._initStage(), this._initGlobe(), this.sharedSymbolResources = new je({\n      view: this,\n      viewingMode: e,\n      resourceController: this._resourceController,\n      pointsOfInterest: this.pointsOfInterest,\n      viewState: this.state,\n      objectResourceCache: new me()\n    });\n  }\n\n  _exitSurface() {\n    this.sharedSymbolResources && (this.sharedSymbolResources.objectResourceCache.destroy(), this.sharedSymbolResources.destroy(), this.sharedSymbolResources = null, this._exitGlobe(), this._exitStage());\n  }\n\n  _createGraphicsViewIfNeeded() {\n    if (this.graphicsView || this._createGraphicsViewController) return;\n    if (0 === this.graphics.length) return;\n    this.handles.remove(\"graphics-view\"), this._createGraphicsViewController = new AbortController();\n\n    const e = () => {\n      this._createGraphicsViewController = null, this._updatingChanged();\n    };\n\n    this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e, e), this._updatingChanged();\n  }\n\n  async _createGraphicsViewAsync(e) {\n    const t = (await import(\"./3d/layers/GraphicsView3D.js\")).default;\n    w(e), await M(() => this.basemapTerrain?.ready, e), this._set(\"graphicsView\", new t({\n      view: this\n    }));\n  }\n\n  _disposeGraphicsView() {\n    this._createGraphicsViewController && (this._createGraphicsViewController.abort(), this._createGraphicsViewController = null), this.handles.remove(\"graphics-view\"), m(this.graphicsView) && (this.handles.remove(this.graphicsView.processor.layer.id), this.graphicsView.destroy(), this._set(\"graphicsView\", null));\n  }\n\n  _startup() {\n    const e = ae(this.viewingMode);\n\n    if (e === se.Global && (this._clippingArea = null), this._initSurface(e), this._set(\"ready\", !0), this.handles.add(v(() => this.graphics, \"after-changes\", () => this._createGraphicsViewIfNeeded()), \"graphics-view\"), this._createGraphicsViewIfNeeded(), !this._externallySet.environment) {\n      const e = this.get(\"map.initialViewProperties.environment\");\n      e && (this.environment = e);\n    }\n\n    this.labeler.setup(), this.environmentManager.connectView(this), this.inputManager.connect();\n    const t = this._resolveWhenReady;\n    this._resolveWhenReady = [], t.forEach(e => e(this));\n  }\n\n  _teardown() {\n    this._initialDefaultSpatialReference = null, this.inputManager.disconnect(), this.environmentManager.disconnectView(), this.labeler.dispose(), this._disposeGraphicsView(), this.handles.remove(\"graphics-view\"), this._exitSurface(), this._set(\"ready\", !1);\n  }\n\n  _updateDefaultToMapOptions() {\n    if (this._defaultToMapOptions.include.clear(), this.map) {\n      this.map.ground && this._defaultToMapOptions.include.add(Be);\n\n      for (const e of this.map.allLayers.items) \"integrated-mesh\" === e.type && this._defaultToMapOptions.include.add(e.uid);\n    }\n  }\n\n  _updateDefaultHitTestOptions() {\n    if (this._defaultHitTestOptions.exclude.clear(), this.map) {\n      this.map.ground && this.map.ground.opacity < 1 && this._defaultHitTestOptions.exclude.add(Be);\n\n      for (const e of this.map.allLayers.items) \"integrated-mesh\" === e.type && e.opacity < 1 && this._defaultToMapOptions.exclude.add(e.uid);\n    }\n  }\n\n  addVoxelLayerViewToWasm(e) {\n    return g(this.voxelWasm) ? (g(this.voxelWasmPromise) && (this.voxelWasmPromise = import(\"../layers/VoxelWasmPerSceneView.js\").then(e => (this.voxelWasm = new e.default(this), this.voxelWasm))), this.voxelWasmPromise.then(t => t.addVoxelLayer(e))) : this.voxelWasm.addVoxelLayer(e);\n  }\n\n  removeVoxelLayerViewFromWasm(e) {\n    if (m(this.voxelWasm)) {\n      this.voxelWasm.removeVoxelLayer(e) < 1 && (this.voxelWasm = null, this.voxelWasmPromise = null);\n    }\n  }\n\n};\n\nfunction pt(e, t) {\n  e.layerUids || (e.layerUids = new Set()), e.layerUids.add(t);\n}\n\nfunction ht(e, t) {\n  e.graphicUids || (e.graphicUids = new Set()), e.graphicUids.add(t);\n}\n\nfunction dt(e, t) {\n  return m(e) && U(e.spatialReference, t) ? A(e, t) : null;\n}\n\nvar ct;\nlt.type = \"3d\", e([E()], lt.prototype, \"_userClippingArea\", void 0), e([E()], lt.prototype, \"_resourceController\", void 0), e([E()], lt.prototype, \"_stage\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"deconflictor\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"labeler\", void 0), e([E(G(Z, \"analyses\"))], lt.prototype, \"analyses\", void 0), e([E({\n  type: re,\n  readOnly: !0,\n  aliasOf: \"state.animation\"\n})], lt.prototype, \"animation\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"basemapTerrain\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"elevationProvider\", void 0), e([E({\n  type: t,\n  aliasOf: \"stateManager.camera\"\n})], lt.prototype, \"camera\", void 0), e([E({\n  type: t,\n  aliasOf: \"stateManager.contentCamera\"\n})], lt.prototype, \"contentCamera\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"canvas\", void 0), e([E({\n  type: at,\n  aliasOf: \"stateManager.center\"\n})], lt.prototype, \"center\", void 0), e([E({\n  type: st\n})], lt.prototype, \"clippingArea\", null), e([E({\n  type: pe\n})], lt.prototype, \"constraints\", void 0), e([E({\n  type: st,\n  readOnly: !0\n})], lt.prototype, \"renderDataExtent\", null), e([E({\n  type: st,\n  readOnly: !0\n})], lt.prototype, \"dataExtent\", null), e([E({\n  type: st,\n  readOnly: !0\n})], lt.prototype, \"groundAndLayersExtent\", null), e([E({\n  value: null,\n  type: he\n})], lt.prototype, \"environment\", null), e([j(\"environment\")], lt.prototype, \"castEnvironment\", null), e([E({\n  readOnly: !0\n})], lt.prototype, \"environmentManager\", void 0), e([E({\n  type: st,\n  aliasOf: \"stateManager.extent\"\n})], lt.prototype, \"extent\", void 0), e([E()], lt.prototype, \"floors\", void 0), e([E({\n  readOnly: !0,\n  aliasOf: \"stateManager.screenCenter\"\n})], lt.prototype, \"screenCenter\", void 0), e([E({\n  aliasOf: \"stateManager.frustum\"\n})], lt.prototype, \"frustum\", void 0), e([E({\n  type: Number,\n  readOnly: !0\n})], lt.prototype, \"fullOpacity\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"graphicsView\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"analysisViewManager\", void 0), e([E()], lt.prototype, \"groundView\", void 0), e([E({\n  type: Boolean\n})], lt.prototype, \"initialExtentRequired\", null), e([E()], lt.prototype, \"_defaultsFromMapSettings\", null), e([E({\n  type: Boolean,\n  readOnly: !0\n})], lt.prototype, \"interacting\", null), e([E()], lt.prototype, \"stationary\", null), e([E({\n  aliasOf: \"state.navigating\"\n})], lt.prototype, \"navigating\", void 0), e([E()], lt.prototype, \"map\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"mapCoordsHelper\", void 0), e([E({\n  aliasOf: \"stateManager.padding\"\n})], lt.prototype, \"padding\", void 0), e([E({\n  type: Pe,\n  readOnly: !0\n})], lt.prototype, \"pointsOfInterest\", void 0), e([E({\n  type: fe,\n  readOnly: !0\n})], lt.prototype, \"featureTiles\", void 0), e([E()], lt.prototype, \"featureTreeDebugger\", void 0), e([E({\n  type: Boolean\n})], lt.prototype, \"screenSizePerspectiveEnabled\", void 0), e([E({\n  constructOnly: !0\n})], lt.prototype, \"deactivatedWebGLExtensions\", void 0), e([E({\n  constructOnly: !0\n})], lt.prototype, \"debugWebGLExtensions\", void 0), e([E({\n  constructOnly: !0\n})], lt.prototype, \"renderCanvas\", void 0), e([E({\n  constructOnly: !0\n})], lt.prototype, \"state\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"inputManager\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"stateManager\", void 0), e([E({\n  type: [\"low\", \"medium\", \"high\"]\n})], lt.prototype, \"qualityProfile\", null), e([E({\n  type: Ce,\n\n  get() {\n    let e = this._get(\"qualitySettings\");\n\n    return e || (e = new Ce(), Se.apply(this.qualityProfile, e)), e;\n  }\n\n})], lt.prototype, \"qualitySettings\", void 0), e([E()], lt.prototype, \"slicePlane\", null), e([E({\n  readOnly: !0\n})], lt.prototype, \"typeSpecificPreconditionsReady\", null), e([E({\n  readOnly: !0\n})], lt.prototype, \"renderCoordsHelper\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"sceneIntersectionHelper\", void 0), e([E({\n  type: Number,\n  dependsOn: [\"scale\", \"spatialReference\"],\n  readOnly: !0\n})], lt.prototype, \"resolution\", null), e([E({\n  type: Number,\n  aliasOf: \"stateManager.scale\"\n})], lt.prototype, \"scale\", void 0), e([E()], lt.prototype, \"heightModelInfo\", null), e([E()], lt.prototype, \"spatialReference\", void 0), e([E({\n  type: Boolean,\n  constructOnly: !0\n})], lt.prototype, \"alphaCompositingEnabled\", void 0), e([E({\n  constructOnly: !0\n})], lt.prototype, \"preserveDrawingBufferEnabled\", void 0), e([E({\n  type: Boolean\n})], lt.prototype, \"supersampleScreenshotsEnabled\", void 0), e([E({\n  readOnly: !0\n})], lt.prototype, \"type\", void 0), e([E({\n  type: it\n})], lt.prototype, \"ui\", void 0), e([E({\n  type: Boolean,\n  readOnly: !0,\n  dependsOn: [\"graphicsView.updating\", \"basemapView.updating\", \"basemapTerrain.updating\", \"layerViewManager.updating\", \"layerViewManager.updatingRemaining\", \"_resourceController.updating\", \"_stage.updating\", \"featureTiles.updating\", \"pointsOfInterest.updating\", \"environmentManager.updating\", \"overlay.updating\", \"updatingHandles.updating\", \"featureTreeDebugger.updating\", \"labeler.updating\", \"deconflictor.updating\", \"ready\", \"stationary\", \"inputManager.hasPendingInputs\", \"toolViewManager.updating\", \"analysisViewManager.updating\"]\n})], lt.prototype, \"updating\", null), e([E({\n  type: Number,\n  readOnly: !0,\n  dependsOn: [\"updating\"]\n})], lt.prototype, \"updatingProgress\", void 0), e([E({\n  type: [\"global\", \"local\"]\n})], lt.prototype, \"viewingMode\", null), e([E({\n  type: r,\n  aliasOf: \"stateManager.viewpoint\"\n})], lt.prototype, \"viewpoint\", void 0), e([E({\n  type: Number,\n  aliasOf: \"stateManager.zoom\"\n})], lt.prototype, \"zoom\", void 0), e([E({\n  type: Re\n})], lt.prototype, \"highlightOptions\", void 0), lt = e([P(\"esri.views.SceneView\")], lt), function (e) {\n  e[e.INCLUDE = 0] = \"INCLUDE\", e[e.EXCLUDE = 1] = \"EXCLUDE\";\n}(ct || (ct = {}));\nconst ut = L(),\n      gt = x(),\n      mt = k(),\n      ft = lt;\nexport { ft as default };","map":{"version":3,"names":["_","e","t","i","r","s","byId","n","a","on","o","handlesGroup","l","makeHandle","p","h","isIterable","d","c","destroyMaybe","u","isNone","g","isSome","m","unwrapOr","f","ObservableChangesType","y","throwIfAborted","w","v","watch","initial","b","syncAndInitial","S","whenOnce","M","sync","R","setFrameDuration","V","screenPointObjectToArray","T","createScreenPoint","C","createScreenPointArray","x","initialize","O","property","E","cast","j","subclass","P","ensureType","I","L","owningCollectionProperty","G","H","canProjectWithoutEngine","U","project","A","projectPointToVector","D","projectVectorToVector","W","projectBoundingRect","F","create","k","toExtent","q","B","z","renderSRFromViewSR","N","getResolutionForScale","Q","isImageryTileLayer","$","isTiledLayer","X","isVoxelLayer","Y","AnalysesCollection","Z","BreakpointsOwner","J","DOMContainer","K","ee","PopupView","te","ie","re","ViewingMode","se","stringFromViewingMode","ne","viewingModeFromString","ae","layerView3DImporter","oe","le","Constraints","pe","he","SceneViewEnvironmentManager","de","ce","GraphicsDeconflictor","ue","Labeler","ge","ObjectResourceCache","me","FeatureTileTree3D","fe","ye","we","SceneIntersectionHelper","ve","CombinedElevationProvider","_e","be","Se","getElevationAtPoint","Me","Re","MapCoordsHelper","Ve","PropertiesPool","Te","Ce","RenderCoordsHelper","xe","newResourceController","Oe","Ee","SharedSymbolResources","je","PointsOfInterest","Pe","Ie","isSurfaceLayerView","Le","getTiledLayerInfo","Ge","checkIfTileInfoSupportedForView","He","Stage","Ue","newIntersector","Ae","DEFAULT_TOLERANCE","De","StoreResults","We","IntersectorType","Fe","isValidIntersectorResult","ke","toHit","qe","toOwner","ze","TERRAIN_ID","Be","hitTestSelectSimilarDistance","Ne","occludeesSupported","Qe","encode","$e","encodeData","Xe","toRenderSettings","Ye","screenshotSuperSampleSettings","Ze","isSupportedScreenPointEvent","Je","createScreenPointFromSupportedEvent","Ke","isSpatialReferenceSupported","et","check","tt","it","rt","st","nt","at","ot","getLogger","lt","constructor","_userClippingArea","_clippingArea","_initialDefaultSpatialReference","_defaults","_externallySet","environment","_createGraphicsViewController","_resolveWhenReady","propertiesPool","slicePlane","_resourceController","_defaultToMapOptions","include","Set","_defaultHitTestOptions","exclude","deconflictor","view","labeler","labels","sharedSymbolResources","analyses","basemapTerrain","elevationProvider","camera","canvas","center","constraints","environmentManager","extent","floors","fullOpacity","graphicsView","analysisViewManager","groundView","navigating","map","screenSizePerspectiveEnabled","state","scale","spatialReference","alphaCompositingEnabled","preserveDrawingBufferEnabled","supersampleScreenshotsEnabled","type","ui","_numUpdating","_lastUpdateTime","updatingProgress","viewpoint","zoom","highlightOptions","voxelWasm","voxelWasmPromise","MOVE","_updatingChanged","allLayers","forEach","when","handles","add","onListenerAdd","onListenerRemove","allLayerViews","_updateUpdatingMonitors","load","catch","inputManager","stateManager","_updateDefaultToMapOptions","updatingHandles","qualitySettings","memoryLimit","resourceController","memoryController","maxMemory","additionalCacheMemory","frameRate","Math","ceil","ground","opacity","_updateDefaultHitTestOptions","notifyChange","destroy","destroyed","invalidate","activeTool","layerViewManager","clear","_exitSurface","_disposeGraphicsView","_set","remove","renderSpatialReference","renderCoordsHelper","basemapSpatialReference","installContentCameraReset","sticky","clippingArea","viewingMode","get","dt","error","clone","intersection","groundAndLayersExtent","xmin","xmax","ymin","ymax","zmin","zmax","equals","ready","renderDataExtent","Global","dataExtent","WGS84","_get","union","groundExtent","fullExtent","internal","hasZ","min","max","castEnvironment","cloneWithWebsceneEnvironment","fromWebsceneEnvironment","initialExtentRequired","hasInitialView","_defaultsFromMapSettings","required","tileInfo","heightModelInfo","interacting","stationary","animation","resizing","qualityProfile","isValidProfile","apply","getDefaultProfile","_stage","renderView","setRenderParameters","typeSpecificPreconditionsReady","resolution","getDefaultHeightModelInfo","deriveUnitFromSR","updating","updatingRemaining","isFulfilled","suspended","basemapView","featureTiles","pointsOfInterest","overlay","featureTreeDebugger","toolViewManager","hasPendingInputs","some","performance","now","_predeterminedViewingMode","defaultsFromMap","_override","_clearOverride","performanceInfo","forceAnimationTime","forcedAnimationTime","overlayManager","viewEvents","hasEventListener","hasHandler","toMap","externalToInternalIntersectOptions","graphics","enableDraped","has","sceneIntersectionHelper","options","selectionMode","store","ALL","MIN","intersectIntersectorScreen","results","all","_intersectResultToMapPoint","_testGraphicUidFilter","graphic","toScreen","ut","projectToScreen","gt","pixelSizeAt","computeScreenPixelSizeAt","overlayPixelSizeInMapUnits","hitTest","requiresGroundFeedback","_intersectResultsToHits","screenPoint","mapPoint","distance","distanceInRenderSpace","layer","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","intersector","Promise","resolve","popupHitTest","length","abs","goTo","addPromise","whenAnalysisView","parent","analysis","whenLayerView","takeScreenshot","_completeSettings","whenReady","_pixelFormat","_takeScreenshot","pixelRatio","padding","flipY","premultipliedAlpha","getAlpha","test","addUpdatingPromise","importLayerView","hasLayerViewModule","forceDOMReadyCycle","forceReadyCycle","getDefaultSpatialReference","initialViewProperties","validate","requiredVersion","detectedVersion","warn","message","_isOverridden","getSpatialReferenceSupport","_validateSpatialReferenceForViewingMode","_makeSpatialReferenceConstraints","Local","isWebMercator","isWGS84","WebMercator","_validateSpatialReference","warnOnce","isGeographic","push","computeMapPointFromVec3d","trackGraphicState","getViewForGraphic","processor","graphicsCore","whenViewForGraphic","waitForLayer","then","highlight","Array","isArray","isCollection","toArray","maskOccludee","find","graphicChanged","includes","added","_externalToInternalRenderItems","ct","INCLUDE","EXCLUDE","layerUids","graphicUids","getIntersectionPoint","TERRAIN","_getGraphicFilterUid","attributes","objectIdField","id","uid","ht","pt","_initBasemapTerrain","register","_exitBasemapTerrain","unregister","_initGlobe","_initCoordinateSystem","createInitialCamera","cameraOnSurface","contentCameraOnSurface","focus","tilingSchemeOwner","viewState","scheduler","terrain","filterExtent","FEATURE_TILE_TREE_SHOW_TILES","FeatureTileTree3DDebugger","init","_exitGlobe","deinit","exit","_exitCoordinateSystem","mapCoordsHelper","isGlobal","mt","setTolerance","unitInMeters","_renderScreenshotOverlay","hasVisibleItems","getContext","putImageData","renderCanvas","getImageData","width","height","_initStage","deactivatedWebGLExtensions","debugWebGLExtensions","alpha","preserveDrawingBuffer","screenshot","renderOverlay","layers","forAll","surface","container","renderSR","_lostWebGLContextHandle","fatalError","antialiasingEnabled","highQualityTransparency","magnifier","defaultHighlightOptions","toEngineOptions","color","haloColor","haloOpacity","fillOpacity","shadowOpacity","shadowColor","shadowDifference","_exitStage","_initSurface","objectResourceCache","_createGraphicsViewIfNeeded","AbortController","_createGraphicsViewAsync","signal","default","abort","_startup","setup","connectView","connect","_teardown","disconnect","disconnectView","dispose","items","addVoxelLayerViewToWasm","addVoxelLayer","removeVoxelLayerViewFromWasm","removeVoxelLayer","prototype","readOnly","aliasOf","value","Number","Boolean","constructOnly","dependsOn","ft"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/SceneView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Camera.js\";import\"../geometry.js\";import i from\"../Graphic.js\";import r from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import{byId as n}from\"../core/domUtils.js\";import a from\"../core/Error.js\";import{on as o}from\"../core/events.js\";import{handlesGroup as l,makeHandle as p}from\"../core/handleUtils.js\";import h from\"../core/has.js\";import{isIterable as d}from\"../core/iteratorUtils.js\";import c from\"../core/Logger.js\";import{destroyMaybe as u,isNone as g,isSome as m,unwrapOr as f}from\"../core/maybe.js\";import{ObservableChangesType as y}from\"../core/ObservableChangesType.js\";import{throwIfAborted as w}from\"../core/promiseUtils.js\";import{on as v,watch as _,initial as b,syncAndInitial as S,whenOnce as M,sync as R}from\"../core/reactiveUtils.js\";import{setFrameDuration as V}from\"../core/scheduling.js\";import{screenPointObjectToArray as T,createScreenPoint as C,createScreenPointArray as x}from\"../core/screenUtils.js\";import{initialize as O}from\"../core/workers/workers.js\";import{property as E}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as j}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as P}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureType as I}from\"../core/accessorSupport/ensureType.js\";import{c as L}from\"../chunks/vec3f64.js\";import{owningCollectionProperty as G}from\"../core/support/OwningCollection.js\";import H from\"../geometry/HeightModelInfo.js\";import{canProjectWithoutEngine as U,project as A,projectPointToVector as D,projectVectorToVector as W,projectBoundingRect as F}from\"../geometry/projection.js\";import{create as k,toExtent as q}from\"../geometry/support/aaBoundingRect.js\";import{B as z,a as B}from\"../chunks/boundedPlane.js\";import{renderSRFromViewSR as N}from\"../geometry/support/coordinateSystem.js\";import{getResolutionForScale as Q}from\"../geometry/support/scaleUtils.js\";import{isImageryTileLayer as $,isTiledLayer as X,isVoxelLayer as Y}from\"../layers/support/layerUtils.js\";import{AnalysesCollection as Z}from\"../support/AnalysesCollection.js\";import{BreakpointsOwner as J}from\"./BreakpointsOwner.js\";import{DOMContainer as K}from\"./DOMContainer.js\";import ee from\"./GroundView.js\";import{PopupView as te}from\"./PopupView.js\";import ie from\"./View.js\";import re from\"./ViewAnimation.js\";import{ViewingMode as se,stringFromViewingMode as ne,viewingModeFromString as ae}from\"./ViewingMode.js\";import{layerView3DImporter as oe}from\"./3d/layerViewModuleImportUtils.js\";import le from\"./3d/analysis/AnalysisViewManager3D.js\";import{Constraints as pe}from\"./3d/constraints/Constraints.js\";import he from\"./3d/environment/SceneViewEnvironment.js\";import{SceneViewEnvironmentManager as de}from\"./3d/environment/SceneViewEnvironmentManager.js\";import ce from\"./3d/input/SceneInputManager.js\";import{GraphicsDeconflictor as ue}from\"./3d/layers/graphics/GraphicsDeconflictor.js\";import{Labeler as ge}from\"./3d/layers/graphics/Labeler.js\";import{ObjectResourceCache as me}from\"./3d/layers/graphics/ObjectResourceCache.js\";import{FeatureTileTree3D as fe}from\"./3d/layers/support/FeatureTileTree3D.js\";import ye from\"./3d/state/ViewState.js\";import we from\"./3d/state/ViewStateManager.js\";import{SceneIntersectionHelper as ve}from\"./3d/state/helpers/SceneIntersectionHelper.js\";import{CombinedElevationProvider as _e}from\"./3d/support/CombinedElevationProvider.js\";import be from\"./3d/support/debugFlags.js\";import Se from\"./3d/support/DisplayQualityProfile.js\";import{getElevationAtPoint as Me}from\"./3d/support/ElevationProvider.js\";import Re from\"./3d/support/HighlightOptions.js\";import{MapCoordsHelper as Ve}from\"./3d/support/MapCoordsHelper.js\";import{PropertiesPool as Te}from\"./3d/support/PropertiesPool.js\";import Ce from\"./3d/support/QualitySettings.js\";import{RenderCoordsHelper as xe}from\"./3d/support/RenderCoordsHelper.js\";import{newResourceController as Oe}from\"./3d/support/ResourceController.js\";import Ee from\"./3d/support/SceneViewPerformanceInfo.js\";import{SharedSymbolResources as je}from\"./3d/support/SharedSymbolResources.js\";import{PointsOfInterest as Pe}from\"./3d/support/pointsOfInterest/PointsOfInterest.js\";import Ie from\"./3d/terrain/TerrainSurface.js\";import{isSurfaceLayerView as Le,getTiledLayerInfo as Ge,checkIfTileInfoSupportedForView as He}from\"./3d/terrain/terrainUtils.js\";import{Stage as Ue}from\"./3d/webgl-engine/Stage.js\";import{newIntersector as Ae,DEFAULT_TOLERANCE as De}from\"./3d/webgl-engine/lib/Intersector.js\";import{StoreResults as We,IntersectorType as Fe}from\"./3d/webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as ke}from\"./3d/webgl-engine/lib/intersectorUtils.js\";import{toHit as qe,toOwner as ze}from\"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";import{TERRAIN_ID as Be}from\"./3d/webgl-engine/lib/verticalOffsetUtils.js\";import{hitTestSelectSimilarDistance as Ne}from\"./support/hitTestSelectUtils.js\";import{occludeesSupported as Qe}from\"./support/layerViewUtils.js\";import{encode as $e,encodeData as Xe,toRenderSettings as Ye,screenshotSuperSampleSettings as Ze}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as Je,createScreenPointFromSupportedEvent as Ke}from\"./support/screenUtils.js\";import{isSpatialReferenceSupported as et}from\"./support/spatialReferenceSupport.js\";import{check as tt}from\"./support/WebGLRequirements.js\";import it from\"./ui/3d/DefaultUI3D.js\";import rt from\"../webscene/Environment.js\";import st from\"../geometry/Extent.js\";import nt from\"../geometry/SpatialReference.js\";import at from\"../geometry/Point.js\";const ot=c.getLogger(\"esri.views.SceneView\");let lt=class extends(J(K(te(ie)))){constructor(e){super(e),this._userClippingArea=null,this._clippingArea=null,this._initialDefaultSpatialReference=null,this._defaults={},this._externallySet={environment:!1},this._createGraphicsViewController=null,this._resolveWhenReady=[],this.propertiesPool=new Te({slicePlane:z},this),this._resourceController=Oe(this),this._defaultToMapOptions={include:new Set},this._defaultHitTestOptions={exclude:new Set},this.deconflictor=new ue({view:this}),this.labeler=new ge({view:this,deconflictor:this.deconflictor.labels}),this.sharedSymbolResources=null,this.analyses=new Z,this.basemapTerrain=null,this.elevationProvider=null,this.camera=null,this.canvas=null,this.center=null,this.constraints=new pe,this.environmentManager=new de,this.extent=null,this.floors=new s,this.fullOpacity=1,this.graphicsView=null,this.analysisViewManager=new le({view:this}),this.groundView=null,this.navigating=!1,this.map=null,this.screenSizePerspectiveEnabled=!0,this.state=new ye,this.scale=null,this.spatialReference=null,this.alphaCompositingEnabled=!1,this.preserveDrawingBufferEnabled=!1,this.supersampleScreenshotsEnabled=!0,this.type=\"3d\",this.ui=new it,this._numUpdating=0,this._lastUpdateTime=0,this.updatingProgress=.5,this.viewpoint=null,this.zoom=null,this.highlightOptions=new Re,this.voxelWasm=null,this.voxelWasmPromise=null,O(),e&&e.environment||(this._defaults.environment=new he,this.environment=this._defaults.environment);const t=(e=null)=>{m(e)&&e.type===y.MOVE||(this._updatingChanged(),this.map&&this.map.allLayers.forEach((async e=>{try{await e.when()}catch{}this._updatingChanged()})))};this.handles.add([v((()=>this.map?.allLayers),\"after-changes\",(e=>t(e)),{onListenerAdd:()=>t(),onListenerRemove:()=>t(),sync:!0}),this.allLayerViews.on(\"after-changes\",(e=>this._updateUpdatingMonitors(e))),_((()=>this.map),(e=>{e&&\"load\"in e&&e.load&&e.load().catch((()=>{}))}))]),this.inputManager=new ce({view:this}),this.stateManager=new we({view:this})}initialize(){this.groundView=new ee({view:this}),this._updateUpdatingMonitors();const e=()=>this._updateDefaultToMapOptions();this.handles.add(v((()=>this.map?.allLayers),\"after-changes\",e,{onListenerAdd:e,onListenerRemove:e})),this.updatingHandles.add((()=>this.qualitySettings.memoryLimit),(e=>{this.resourceController&&(this.resourceController.memoryController.maxMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.additionalCacheMemory),(e=>{this.resourceController&&(this.resourceController.memoryController.additionalCacheMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.frameRate),(e=>V(e>0?1e3/Math.ceil(e):0)),b),this.updatingHandles.add((()=>this.map?.ground),e,S),this.updatingHandles.add((()=>this.map?.ground?.opacity),(()=>this._updateDefaultHitTestOptions()),S),this.handles.add(_((()=>this.spatialReference),(()=>this.notifyChange(\"clippingArea\")),R))}destroy(){this.destroyed||(this.invalidate(),this.activeTool=null,this.layerViewManager.clear(),this._exitSurface(),this._disposeGraphicsView(),this.sharedSymbolResources=u(this.sharedSymbolResources),this.labeler.destroy(),this._set(\"labeler\",null),this.deconflictor.destroy(),this._set(\"deconflictor\",null),this._resourceController=u(this._resourceController),this.stateManager.destroy(),this._set(\"stateManager\",null),this.inputManager.destroy(),this._set(\"inputManager\",null),this.propertiesPool.destroy(),this.handles.remove(\"updatingMonitors\"),this.environmentManager.destroy(),this._set(\"environmentManager\",null),this.groundView=u(this.groundView))}get renderSpatialReference(){return this.renderCoordsHelper&&this.renderCoordsHelper.spatialReference}get basemapSpatialReference(){return this.basemapTerrain?.spatialReference}installContentCameraReset(e={sticky:!1}){return this.stateManager.installContentCameraReset(e)}get clippingArea(){if(\"global\"===this.viewingMode)return null;let e=this._userClippingArea||this.get(\"map.clippingArea\");return!(!!this._userClippingArea||this.get(\"map.clippingEnabled\"))||g(e)?(this._clippingArea=null,null):e instanceof st?this.spatialReference&&(e=dt(e,this.spatialReference),g(e))?(ot.error(\"#clippingArea\",\"setting clippingArea with incompatible SpatialReference\"),this._clippingArea):(e=e.clone(),g(e.intersection(this.groundAndLayersExtent))&&(e.xmin=e.xmax,e.ymin=e.ymax),e.zmin=void 0,e.zmax=void 0,e.equals(this._clippingArea)||(this._clippingArea=e),this._clippingArea):(ot.error(\"#clippingArea\",\"only clippingArea geometries of type Extent are supported\"),this._clippingArea)}set clippingArea(e){this.ready&&\"global\"===this.viewingMode&&m(e)?ot.error(\"#clippingArea=\",\"Clipping area is only supported in local viewingMode\"):this._userClippingArea=e}get renderDataExtent(){if(this.state.viewingMode===se.Global)return null;const e=this.renderSpatialReference,t=this.dataExtent;return g(t)||g(e)||t.spatialReference.equals(e)?t:dt(t,e)}get dataExtent(){let e=this.groundAndLayersExtent;const t=this.spatialReference||nt.WGS84,i=dt(this.clippingArea,t);m(i)&&(e=m(e)?e.intersection(i):i);const r=this._get(\"dataExtent\");return m(e)&&e.equals(r)?r:e}get groundAndLayersExtent(){const e=this.spatialReference||nt.WGS84;let t;const i=i=>{const r=dt(i,e);g(r)||(m(t)?t.union(r):t=r.clone())},r=this.basemapTerrain;if(r?.spatialReference){const e=r.groundExtent;i(new st({xmin:e[0],ymin:e[1],zmin:0,xmax:e[2],ymax:e[3],zmax:0,spatialReference:r.spatialReference}))}if(this.map){const e=e=>{!m(e.fullExtent)||\"graphics\"===e.type&&e.internal||i(e.fullExtent)};this.map.allLayers.forEach((t=>e(t)))}if(g(t))return null;t.hasZ?(t.zmin=Math.min(0,t.zmin),t.zmax=Math.max(0,t.zmax)):(t.zmin=0,t.zmax=0);const s=this._get(\"groundAndLayersExtent\");return t.equals(s)?s:t}set environment(e){e!==this._defaults.environment&&(this._externallySet.environment=!0),this._set(\"environment\",e)}castEnvironment(e){return e?e instanceof he?e:e instanceof rt?null!=this.environment?this.environment.cloneWithWebsceneEnvironment(e):he.fromWebsceneEnvironment(e):I(he,e):new he}get initialExtentRequired(){return this.stateManager&&!this.stateManager.hasInitialView}get _defaultsFromMapSettings(){return{required:{tileInfo:!1,heightModelInfo:!0,extent:!1}}}get interacting(){return this.navigating||m(this.activeTool)}get stationary(){return!this.animation&&!this.resizing&&(g(this.state)||this.state.stationary)}set qualityProfile(e){Se.isValidProfile(e)&&(Se.apply(e,this.qualitySettings),this._set(\"qualityProfile\",e))}get qualityProfile(){return this._get(\"qualityProfile\")||Se.getDefaultProfile()}set slicePlane(e){if(m(this._stage)&&this._stage.renderView.setRenderParameters({slicePlane:e}),g(e))return void this._set(\"slicePlane\",null);const t=this.propertiesPool.get(\"slicePlane\");B(e,t),this._set(\"slicePlane\",t)}get typeSpecificPreconditionsReady(){return!!this.viewingMode}get resolution(){return null!=this.spatialReference?Q(this.scale,this.spatialReference):0}get heightModelInfo(){const e=this.getDefaultHeightModelInfo();return null!=e?H.deriveUnitFromSR(e,this.spatialReference):null}get updating(){if(this.destroyed)return!1;let e=0,t=this.layerViewManager.updating,i=t?this.layerViewManager.updatingRemaining:0;this.allLayerViews.forEach((r=>{if(r.isFulfilled()){if(r.updating){if(t=!0,r.suspended||Le(r))return;++i,e+=r.updatingProgress}}else++i}));for(const r of[this.graphicsView,this.basemapView,this._resourceController,this._stage,this.featureTiles,this.pointsOfInterest,this.environmentManager,this.overlay,this.featureTreeDebugger,this.toolViewManager,this.analysisViewManager])if(m(r)&&r.updating){const t=.1;i+=t,e+=.5*t}for(const r of[this.deconflictor,this.labeler,this.basemapTerrain])m(r)&&r.updating&&(++i,e+=r.updatingProgress);if(t=!!(t||i>0||this.updatingHandles.updating||!this.ready||!this.stationary||this._createGraphicsViewController||this.inputManager?.hasPendingInputs||this.map?.allLayers?.some((e=>!e.isFulfilled()))),t?(this._numUpdating=Math.max(i,this._numUpdating),e+=this._numUpdating-i):this._numUpdating=0,this._numUpdating>0?e/=this._numUpdating:e=t?0:1,this._get(\"updatingProgress\")!==e){const i=performance.now();if(e<1){const t=Math.min((i-this._lastUpdateTime)/2e3,1);e=this.updatingProgress*(1-t)+e*t}this._set(\"updatingProgress\",e),this._lastUpdateTime=t&&e<1?i:0}return t}get viewingMode(){const e=this._predeterminedViewingMode;if(m(e))return ne(e);const t=this.spatialReference;return t?m(this.defaultsFromMap?.viewingMode)&&t.equals(this.defaultsFromMap.spatialReference)?ne(this.defaultsFromMap.viewingMode):et(t,se.Global)?\"global\":\"local\":\"global\"}set viewingMode(e){this.ready?ot.error(\"#viewingMode\",\"viewingMode cannot be set once view is ready\"):e?this._override(\"viewingMode\",e):void 0===e&&this._clearOverride(\"viewingMode\")}get resourceController(){return this._resourceController}get performanceInfo(){return new Ee(this)}forceAnimationTime(e){this._stage.renderView.forcedAnimationTime=this.basemapTerrain.overlayManager.forcedAnimationTime=e}on(e,t,i,r){const s=this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}toMap(e,t){if(!this.ready)return ot.error(\"#toMap()\",\"Scene view cannot be used before it is ready\"),null;const i=t?this.externalToInternalIntersectOptions(t):this._defaultToMapOptions,r=m(i.graphics)&&(m(i.graphics.include)||m(i.graphics.exclude)),s=Je(e)?Ke(this,e):e,n=T(s);i.enableDraped=i.include&&!i.include.has(Be)||i.exclude&&i.exclude.has(Be);const a=this.sceneIntersectionHelper,o=Ae(this.state.viewingMode);if(o.options.selectionMode=!0,o.options.store=r?We.ALL:We.MIN,a.intersectIntersectorScreen(n,o,i),r){for(const e of o.results.all){const t=qe(e,this);if(g(t))return this._intersectResultToMapPoint(e);if(\"graphic\"!==t.type||this._testGraphicUidFilter(i.graphics,t.graphic))return this._intersectResultToMapPoint(e)}return null}return this._intersectResultToMapPoint(o.results.min)}toScreen(e){if(!this.ready)return ot.error(\"#toScreen()\",\"Scene view cannot be used before it is ready\"),null;const t=f(null==e.z&&Me(this.elevationProvider,e),0);return D(e,ut,this.renderSpatialReference,t),this.state.camera.projectToScreen(ut,gt),C(gt[0],gt[1])}pixelSizeAt(e){return this.ready?e?(D(e,ut,this.renderSpatialReference),this.state.camera.computeScreenPixelSizeAt(ut)):0:(ot.error(\"#pixelSizeAt()\",\"Scene view cannot be used before it is ready\"),null)}overlayPixelSizeInMapUnits(e){const t=this.basemapTerrain.overlayManager;return t?t.overlayPixelSizeInMapUnits(e):1}hitTest(e,t){if(!this.ready)return ot.error(\"#hitTest()\",\"Scene view cannot be used before it is ready\"),null;const i=Je(e)?Ke(this,e):e,r=x(i.x,i.y),s=t?this.externalToInternalIntersectOptions(t):this._defaultHitTestOptions;s.requiresGroundFeedback=!0,s.enableDraped=!0;const n=Ae(this.state.viewingMode);n.options.selectionMode=!0,n.options.store=We.ALL,this.sceneIntersectionHelper.intersectIntersectorScreen(r,n,s);const a=this._intersectResultsToHits(n.results.all,s.graphics),o=n.results.ground,l=ze(o,this),p=m(l)&&\"type\"in l&&\"integrated-mesh\"===l.type?l:null,h={screenPoint:i,results:a,ground:{mapPoint:this._intersectResultToMapPoint(o),distance:ke(o)?o.distanceInRenderSpace:0,layer:p}};return be.SCENEVIEW_HITTEST_RETURN_INTERSECTOR&&(h.intersector=n),Promise.resolve(h)}async popupHitTest(e){const{results:t,ground:i}=await Ne(this,e);let r=null;return!(0===t.length||Math.abs(f(t[0].distance,0)-i.distance)<1e-5)||i.layer&&\"integrated-mesh\"===i.layer.type||(r=i.mapPoint),{results:t,screenPoint:e,mapPoint:r}}goTo(e,t){return this.updatingHandles.addPromise(this.stateManager.goTo(e,t))}async whenAnalysisView(e){if(g(e.parent))throw new a(\"view:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e});if(\"line-of-sight\"===e.parent.type){return(await this.whenLayerView(e.parent)).whenAnalysisView()}return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}async takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return $e(i,t,this._pixelFormat())}async _takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Xe(i,this._pixelFormat())}_completeSettings(e){const t=Ye(e,this);return t.pixelRatio/=this.state.pixelRatio,Ze(t,this.supersampleScreenshotsEnabled,this.padding)}_pixelFormat(){return{flipY:!0,premultipliedAlpha:this._stage.renderView.getAlpha()}}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}addUpdatingPromise(e){return this.updatingHandles.addPromise(e)}importLayerView(e){return oe.importLayerView(e)}hasLayerViewModule(e){return oe.hasLayerViewModule(e)}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||this.defaultsFromMap?.ready&&this._initialDefaultSpatialReference||null}async validate(){let e=tt(this.type);if(h(\"safari\")&&h(\"safari\")<9&&(e=new a(\"sceneview:browser-not-supported\",\"This browser is not supported by SceneView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:h(\"safari\")})),m(e))throw ot.warn(\"#validate()\",e.message),e}get _predeterminedViewingMode(){const e=this._isOverridden(\"viewingMode\")?this._get(\"viewingMode\"):(this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.viewingMode:null)??null;return m(e)?ae(e):null}getSpatialReferenceSupport({spatialReference:e,layer:t}){const i=this._predeterminedViewingMode;if(m(i))return this._validateSpatialReferenceForViewingMode(e,t,i)?{constraints:this._makeSpatialReferenceConstraints(e,t,i)}:null;const r=this._validateSpatialReferenceForViewingMode(e,t,se.Local),s=this._validateSpatialReferenceForViewingMode(e,t,se.Global);return r||s?r&&s?{constraints:this._makeSpatialReferenceConstraints(e,t,null)}:r?{constraints:this._makeSpatialReferenceConstraints(e,t,se.Local)}:{constraints:this._makeSpatialReferenceConstraints(e,t,se.Global)}:null}_validateSpatialReferenceForViewingMode(e,t,i){return!!et(e,i)&&(!!g(t)||(!!$(t)||(!X(t)||!g(Ge(t,e,i)))&&(!Y(t)||i!==se.Global)))}_makeSpatialReferenceConstraints(e,t,i){if(g(t))return[{spatialReference:e,viewingMode:i}];const r=e.isWebMercator,s=e.isWGS84;if($(t)&&(r||s)){return!s||i===se.Local||null===He(t.tileInfo,t.fullExtent,e,se.Global)?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WebMercator,viewingMode:i}]:[{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}return X(t)||Y(t)||!r&&!s?X(t)&&r&&i!==se.Global?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WGS84,viewingMode:se.Local}]:[{spatialReference:e,viewingMode:i}]:[{spatialReference:e,viewingMode:i},{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}_validateSpatialReference(e){const t=m(this.getSpatialReferenceSupport({spatialReference:e})),i=this._predeterminedViewingMode;return t||(m(i)?ot.warnOnce(`Spatial reference defined on view not supported in ${ne(i)} viewing mode.`):e.isGeographic&&ot.warnOnce(\"Spatial reference is geographic but not supported.\")),t}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}computeMapPointFromVec3d(e,t){let i=this.spatialReference||nt.WGS84;return W(e,this.renderSpatialReference,e,i)||(i=nt.WGS84,W(e,this.renderSpatialReference,e,i)),t?(t.x=e[0],t.y=e[1],t.z=e[2],t.spatialReference=i):t=new at(e,i),t}trackGraphicState(e){if(!e.graphic)return ot.error(\"trackGraphicState\",\"GraphicState.graphic must not be null or undefined to start tracking\"),null;const t=this.getViewForGraphic(e.graphic);let i=null,r=!1;const s=t=>{!r&&m(t)&&\"processor\"in t&&\"graphics-3d\"===t.processor?.type&&t.processor.graphicsCore&&(i=t.processor.graphicsCore.trackGraphicState(e))};return m(t)?s(t):this.whenViewForGraphic(e.graphic,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,m(i)&&(i.remove(),i=null)}}}highlight(e){if(Array.isArray(e))return l(e.map((e=>this.highlight(e))));if(s.isCollection(e))return l(e.toArray().map((e=>this.highlight(e))));const t=this.getViewForGraphic(e);return t&&\"highlight\"in t?t.highlight(e):p()}maskOccludee(e){if(!e)return ot.error(\"maskOccludee\",\"GraphicState.graphic must not be null or undefined to mask an occludee\"),null;const t=this.getViewForGraphic(e);let i=null,r=!1;const s=t=>{!r&&m(t)&&Qe(t)&&(i=t.maskOccludee(e))};return m(t)?s(t):this.whenViewForGraphic(e,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,m(i)&&(i.remove(),i=null)}}}getViewForGraphic(e){return e.layer===this.graphics?this.graphicsView:e.layer?this.allLayerViews.find((t=>t.layer===e.layer)):null}graphicChanged(e){m(this.graphicsView)&&this.graphicsView.graphicChanged(e)}async whenViewForGraphic(e,t){if(e.layer===this)return await M((()=>this.graphicsView)),this.graphicsView;if(!e.layer||!this.map)throw new a(\"no-view-for-graphic\");return t&&t.waitForLayer&&!this.map.allLayers.includes(e.layer)?new Promise(((t,i)=>{const r=this.map.allLayers.on(\"change\",(s=>{s.added.includes(e.layer)&&(r.remove(),this.whenLayerView(e.layer).then(t,i))}))})):this.whenLayerView(e.layer)}externalToInternalIntersectOptions(e){const t=this._externalToInternalRenderItems(e.include,ct.INCLUDE),i=this._externalToInternalRenderItems(e.exclude,ct.EXCLUDE);return{include:t.layerUids,exclude:i.layerUids,graphics:{include:t.graphicUids,exclude:i.graphicUids}}}_intersectResultToMapPoint(e,t){return e.getIntersectionPoint(ut)?(t=this.computeMapPointFromVec3d(ut,t),e.intersector===Fe.TERRAIN&&this.basemapTerrain&&(t.z=f(Me(this.basemapTerrain,t),0)),t):null}_intersectResultsToHits(e,t){const i=new Array;let r=null;for(let s=0;s<e.length;s++){const n=e[s],a=ze(n,this);if(m(a)&&(a===this.map.ground||\"type\"in a&&\"integrated-mesh\"===a.type))break;const o=qe(n,this);if(g(o))continue;if(\"graphic\"===o.type){if(g(r)&&s!==e.length-1&&(r=new Set),m(r)){const e=this._getGraphicFilterUid(o.graphic);if(r.has(e))continue;r.add(e)}if(!this._testGraphicUidFilter(t,o.graphic))continue}const l=this._intersectResultToMapPoint(n),p=n.distanceInRenderSpace;i.push({...o,mapPoint:l,distance:p})}return i}_getGraphicFilterUid(e){if(e.layer&&\"objectIdField\"in e.layer){const t=e.attributes[e.layer.objectIdField];if(t)return`o-${e.layer.id}-${t}`}return`u-${e.uid}`}_testGraphicUidFilter(e,t){const i=this._getGraphicFilterUid(t);return g(e)||(g(e.include)||e.include.has(i))&&(g(e.exclude)||!e.exclude.has(i))}_externalToInternalRenderItems(e,t,r={layerUids:null,graphicUids:null}){if(!e)return r;if(e instanceof i)ht(r,this._getGraphicFilterUid(e)),t===ct.INCLUDE&&(m(this.graphicsView)&&e.layer===this?pt(r,this.graphicsView.processor.layer.id):e.layer&&pt(r,e.layer.uid));else if(d(e))for(const i of e)i===this.graphics&&m(this.graphicsView)?pt(r,this.graphicsView.processor.layer.id):i===this.map.ground?pt(r,Be):this._externalToInternalRenderItems(i,t,r);else\"uid\"in e&&pt(r,e.uid);return r}_initBasemapTerrain(){this._set(\"basemapTerrain\",new Ie({view:this})),this._set(\"elevationProvider\",new _e({view:this})),this.elevationProvider.register(\"ground\",this.basemapTerrain)}_exitBasemapTerrain(){this.basemapTerrain&&(this.elevationProvider.unregister(this.basemapTerrain),this.elevationProvider.destroy(),this._set(\"elevationProvider\",null),this.basemapTerrain.destroy(),this._set(\"basemapTerrain\",null))}_initGlobe(){this._initCoordinateSystem(),this.state.createInitialCamera(),this._initBasemapTerrain(),this._set(\"pointsOfInterest\",new Pe({view:this})),this._set(\"featureTiles\",new fe({renderCoordsHelper:this.renderCoordsHelper,cameraOnSurface:this.pointsOfInterest.contentCameraOnSurface,focus:this.pointsOfInterest.focus,tilingSchemeOwner:this.basemapTerrain,viewState:this.state,scheduler:this._resourceController.scheduler,terrain:this.basemapTerrain}));const e=()=>{const e=this.basemapTerrain?.extent;if(this.clippingArea||e)if(e&&this.basemapTerrain.spatialReference){const e=m(this.basemapTerrain.extent)?A(q(this.basemapTerrain.extent,this.basemapTerrain.spatialReference),this.spatialReference):null;m(this.clippingArea)?this.featureTiles.filterExtent=this.clippingArea.intersection(e):this.featureTiles.filterExtent=e}else this.featureTiles.filterExtent=this.clippingArea;else this.featureTiles.filterExtent=null};this.handles.add([this.updatingHandles.add((()=>be.FEATURE_TILE_TREE_SHOW_TILES),(e=>{e&&this.featureTiles&&!this.featureTreeDebugger?this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then((({FeatureTileTree3DDebugger:e})=>{!this.featureTreeDebugger&&be.FEATURE_TILE_TREE_SHOW_TILES&&(this.featureTreeDebugger=new e({view:this}))})):e||!this.featureTreeDebugger||be.FEATURE_TILE_TREE_SHOW_TILES||(this.featureTreeDebugger.destroy(),this.featureTreeDebugger=null)}),S),this.updatingHandles.add((()=>this.clippingArea),e,S),this.updatingHandles.add((()=>this.basemapTerrain.extent),e,S)],\"feature-tiles\"),this.stateManager.init()}_exitGlobe(){this.state&&(this.stateManager.deinit(),this.handles.remove(\"render-coords-helper\"),this.handles.remove(\"feature-tiles\"),this.featureTiles.destroy(),this._set(\"featureTiles\",null),this.pointsOfInterest.destroy(),this._set(\"pointsOfInterest\",null),this._exitBasemapTerrain(),this.state.exit(),this._exitCoordinateSystem())}_initCoordinateSystem(){if(this.spatialReference){const e=this.spatialReference;this.mapCoordsHelper&&this.mapCoordsHelper.spatialReference.equals(e)||this._set(\"mapCoordsHelper\",new Ve(this.map,e));const t=this.state.isGlobal,i=N(t,e);i!==this.renderSpatialReference&&(this._set(\"renderCoordsHelper\",xe.create(this.state.viewingMode,i)),t||this.handles.add(_((()=>this.basemapTerrain?.extent),(e=>{const t=this.renderCoordsHelper.spatialReference;e&&(0!==e[0]||0!==e[1]||0!==e[2]||0!==e[3])&&F(e,this.basemapTerrain.spatialReference,mt,t)&&(this.renderCoordsHelper.extent=mt)}),R),\"render-coords-helper\"),this.sceneIntersectionHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters))}else this._set(\"mapCoordsHelper\",null),this._set(\"renderCoordsHelper\",null)}_exitCoordinateSystem(){this.mapCoordsHelper&&(this.handles.remove(\"render-coords-helper\"),this._set(\"renderCoordsHelper\",null),this._set(\"mapCoordsHelper\",null))}_updatingChanged(){this.notifyChange(\"updating\")}_updateUpdatingMonitors(e=null){m(e)&&e.type===y.MOVE||(this.handles.remove(\"updatingMonitors\"),this.allLayerViews.forEach((e=>{e.destroyed||(this.handles.add(_((()=>[e.updating,e.updatingProgress]),(()=>this._updatingChanged()),R),\"updatingMonitors\"),e.when((()=>this._updatingChanged()),(()=>this._updatingChanged())))})),this._updatingChanged())}_renderScreenshotOverlay(e,t){if(!this.overlay||!this.overlay.hasVisibleItems)return t;const i=e.getContext(\"2d\");return i.putImageData(t,0,0),this.overlay.renderCanvas(e),i.getImageData(0,0,t.width,t.height)}_initStage(){const e={deactivatedWebGLExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions,alpha:this.alphaCompositingEnabled,preserveDrawingBuffer:this.preserveDrawingBufferEnabled,canvas:this.renderCanvas,screenshot:{renderOverlay:(e,t)=>this._renderScreenshotOverlay(e,t)}},t=new ve(this.state.viewingMode,(e=>this._stage.layers.forAll(e)),this);this._set(\"sceneIntersectionHelper\",t);const i=n(this.surface),{resourceController:r,state:s,renderSpatialReference:l}=this;this._stage=new Ue({options:e,container:i,resourceController:r,state:s,sceneIntersectionHelper:t,renderSR:l}),this._stage.renderView.setRenderParameters({slicePlane:this.slicePlane}),this._lostWebGLContextHandle=o(this._stage.renderView.canvas,\"webglcontextlost\",(()=>this.fatalError=new a(\"webgl-context-lost\"))),this.handles.add([this.updatingHandles.add((()=>this.qualitySettings.antialiasingEnabled),(()=>this._stage.renderView.setRenderParameters({antialiasingEnabled:this.qualitySettings.antialiasingEnabled})),b),this.updatingHandles.add((()=>this.qualitySettings.highQualityTransparency),(()=>this._stage.renderView.setRenderParameters({highQualityTransparency:this.qualitySettings.highQualityTransparency})),b),_((()=>this.magnifier),(e=>this._stage.renderView.magnifier=e),S)],\"stage\");const p=()=>{this._stage.renderView.setRenderParameters({defaultHighlightOptions:Re.toEngineOptions(this.highlightOptions)})};this.handles.add(this.updatingHandles.add((()=>[this.highlightOptions.color,this.highlightOptions.haloColor,this.highlightOptions.haloOpacity,this.highlightOptions.fillOpacity,this.highlightOptions.shadowOpacity,this.highlightOptions.shadowColor,this.highlightOptions.shadowDifference]),p),\"stage\"),p(),this.renderCoordsHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters),this._set(\"canvas\",this._stage.renderView.canvas)}_exitStage(){this._set(\"sceneIntersectionHelper\",null),this._stage.destroy(),this._stage=null,this._lostWebGLContextHandle.remove(),this._lostWebGLContextHandle=null,this.handles.remove(\"stage\"),this._set(\"canvas\",null)}_initSurface(e){this._exitSurface(),this.state.init(e,this.spatialReference),this._initStage(),this._initGlobe(),this.sharedSymbolResources=new je({view:this,viewingMode:e,resourceController:this._resourceController,pointsOfInterest:this.pointsOfInterest,viewState:this.state,objectResourceCache:new me})}_exitSurface(){this.sharedSymbolResources&&(this.sharedSymbolResources.objectResourceCache.destroy(),this.sharedSymbolResources.destroy(),this.sharedSymbolResources=null,this._exitGlobe(),this._exitStage())}_createGraphicsViewIfNeeded(){if(this.graphicsView||this._createGraphicsViewController)return;if(0===this.graphics.length)return;this.handles.remove(\"graphics-view\"),this._createGraphicsViewController=new AbortController;const e=()=>{this._createGraphicsViewController=null,this._updatingChanged()};this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e,e),this._updatingChanged()}async _createGraphicsViewAsync(e){const t=(await import(\"./3d/layers/GraphicsView3D.js\")).default;w(e),await M((()=>this.basemapTerrain?.ready),e),this._set(\"graphicsView\",new t({view:this}))}_disposeGraphicsView(){this._createGraphicsViewController&&(this._createGraphicsViewController.abort(),this._createGraphicsViewController=null),this.handles.remove(\"graphics-view\"),m(this.graphicsView)&&(this.handles.remove(this.graphicsView.processor.layer.id),this.graphicsView.destroy(),this._set(\"graphicsView\",null))}_startup(){const e=ae(this.viewingMode);if(e===se.Global&&(this._clippingArea=null),this._initSurface(e),this._set(\"ready\",!0),this.handles.add(v((()=>this.graphics),\"after-changes\",(()=>this._createGraphicsViewIfNeeded())),\"graphics-view\"),this._createGraphicsViewIfNeeded(),!this._externallySet.environment){const e=this.get(\"map.initialViewProperties.environment\");e&&(this.environment=e)}this.labeler.setup(),this.environmentManager.connectView(this),this.inputManager.connect();const t=this._resolveWhenReady;this._resolveWhenReady=[],t.forEach((e=>e(this)))}_teardown(){this._initialDefaultSpatialReference=null,this.inputManager.disconnect(),this.environmentManager.disconnectView(),this.labeler.dispose(),this._disposeGraphicsView(),this.handles.remove(\"graphics-view\"),this._exitSurface(),this._set(\"ready\",!1)}_updateDefaultToMapOptions(){if(this._defaultToMapOptions.include.clear(),this.map){this.map.ground&&this._defaultToMapOptions.include.add(Be);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&this._defaultToMapOptions.include.add(e.uid)}}_updateDefaultHitTestOptions(){if(this._defaultHitTestOptions.exclude.clear(),this.map){this.map.ground&&this.map.ground.opacity<1&&this._defaultHitTestOptions.exclude.add(Be);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&e.opacity<1&&this._defaultToMapOptions.exclude.add(e.uid)}}addVoxelLayerViewToWasm(e){return g(this.voxelWasm)?(g(this.voxelWasmPromise)&&(this.voxelWasmPromise=import(\"../layers/VoxelWasmPerSceneView.js\").then((e=>(this.voxelWasm=new e.default(this),this.voxelWasm)))),this.voxelWasmPromise.then((t=>t.addVoxelLayer(e)))):this.voxelWasm.addVoxelLayer(e)}removeVoxelLayerViewFromWasm(e){if(m(this.voxelWasm)){this.voxelWasm.removeVoxelLayer(e)<1&&(this.voxelWasm=null,this.voxelWasmPromise=null)}}};function pt(e,t){e.layerUids||(e.layerUids=new Set),e.layerUids.add(t)}function ht(e,t){e.graphicUids||(e.graphicUids=new Set),e.graphicUids.add(t)}function dt(e,t){return m(e)&&U(e.spatialReference,t)?A(e,t):null}var ct;lt.type=\"3d\",e([E()],lt.prototype,\"_userClippingArea\",void 0),e([E()],lt.prototype,\"_resourceController\",void 0),e([E()],lt.prototype,\"_stage\",void 0),e([E({readOnly:!0})],lt.prototype,\"deconflictor\",void 0),e([E({readOnly:!0})],lt.prototype,\"labeler\",void 0),e([E(G(Z,\"analyses\"))],lt.prototype,\"analyses\",void 0),e([E({type:re,readOnly:!0,aliasOf:\"state.animation\"})],lt.prototype,\"animation\",void 0),e([E({readOnly:!0})],lt.prototype,\"basemapTerrain\",void 0),e([E({readOnly:!0})],lt.prototype,\"elevationProvider\",void 0),e([E({type:t,aliasOf:\"stateManager.camera\"})],lt.prototype,\"camera\",void 0),e([E({type:t,aliasOf:\"stateManager.contentCamera\"})],lt.prototype,\"contentCamera\",void 0),e([E({readOnly:!0})],lt.prototype,\"canvas\",void 0),e([E({type:at,aliasOf:\"stateManager.center\"})],lt.prototype,\"center\",void 0),e([E({type:st})],lt.prototype,\"clippingArea\",null),e([E({type:pe})],lt.prototype,\"constraints\",void 0),e([E({type:st,readOnly:!0})],lt.prototype,\"renderDataExtent\",null),e([E({type:st,readOnly:!0})],lt.prototype,\"dataExtent\",null),e([E({type:st,readOnly:!0})],lt.prototype,\"groundAndLayersExtent\",null),e([E({value:null,type:he})],lt.prototype,\"environment\",null),e([j(\"environment\")],lt.prototype,\"castEnvironment\",null),e([E({readOnly:!0})],lt.prototype,\"environmentManager\",void 0),e([E({type:st,aliasOf:\"stateManager.extent\"})],lt.prototype,\"extent\",void 0),e([E()],lt.prototype,\"floors\",void 0),e([E({readOnly:!0,aliasOf:\"stateManager.screenCenter\"})],lt.prototype,\"screenCenter\",void 0),e([E({aliasOf:\"stateManager.frustum\"})],lt.prototype,\"frustum\",void 0),e([E({type:Number,readOnly:!0})],lt.prototype,\"fullOpacity\",void 0),e([E({readOnly:!0})],lt.prototype,\"graphicsView\",void 0),e([E({readOnly:!0})],lt.prototype,\"analysisViewManager\",void 0),e([E()],lt.prototype,\"groundView\",void 0),e([E({type:Boolean})],lt.prototype,\"initialExtentRequired\",null),e([E()],lt.prototype,\"_defaultsFromMapSettings\",null),e([E({type:Boolean,readOnly:!0})],lt.prototype,\"interacting\",null),e([E()],lt.prototype,\"stationary\",null),e([E({aliasOf:\"state.navigating\"})],lt.prototype,\"navigating\",void 0),e([E()],lt.prototype,\"map\",void 0),e([E({readOnly:!0})],lt.prototype,\"mapCoordsHelper\",void 0),e([E({aliasOf:\"stateManager.padding\"})],lt.prototype,\"padding\",void 0),e([E({type:Pe,readOnly:!0})],lt.prototype,\"pointsOfInterest\",void 0),e([E({type:fe,readOnly:!0})],lt.prototype,\"featureTiles\",void 0),e([E()],lt.prototype,\"featureTreeDebugger\",void 0),e([E({type:Boolean})],lt.prototype,\"screenSizePerspectiveEnabled\",void 0),e([E({constructOnly:!0})],lt.prototype,\"deactivatedWebGLExtensions\",void 0),e([E({constructOnly:!0})],lt.prototype,\"debugWebGLExtensions\",void 0),e([E({constructOnly:!0})],lt.prototype,\"renderCanvas\",void 0),e([E({constructOnly:!0})],lt.prototype,\"state\",void 0),e([E({readOnly:!0})],lt.prototype,\"inputManager\",void 0),e([E({readOnly:!0})],lt.prototype,\"stateManager\",void 0),e([E({type:[\"low\",\"medium\",\"high\"]})],lt.prototype,\"qualityProfile\",null),e([E({type:Ce,get(){let e=this._get(\"qualitySettings\");return e||(e=new Ce,Se.apply(this.qualityProfile,e)),e}})],lt.prototype,\"qualitySettings\",void 0),e([E()],lt.prototype,\"slicePlane\",null),e([E({readOnly:!0})],lt.prototype,\"typeSpecificPreconditionsReady\",null),e([E({readOnly:!0})],lt.prototype,\"renderCoordsHelper\",void 0),e([E({readOnly:!0})],lt.prototype,\"sceneIntersectionHelper\",void 0),e([E({type:Number,dependsOn:[\"scale\",\"spatialReference\"],readOnly:!0})],lt.prototype,\"resolution\",null),e([E({type:Number,aliasOf:\"stateManager.scale\"})],lt.prototype,\"scale\",void 0),e([E()],lt.prototype,\"heightModelInfo\",null),e([E()],lt.prototype,\"spatialReference\",void 0),e([E({type:Boolean,constructOnly:!0})],lt.prototype,\"alphaCompositingEnabled\",void 0),e([E({constructOnly:!0})],lt.prototype,\"preserveDrawingBufferEnabled\",void 0),e([E({type:Boolean})],lt.prototype,\"supersampleScreenshotsEnabled\",void 0),e([E({readOnly:!0})],lt.prototype,\"type\",void 0),e([E({type:it})],lt.prototype,\"ui\",void 0),e([E({type:Boolean,readOnly:!0,dependsOn:[\"graphicsView.updating\",\"basemapView.updating\",\"basemapTerrain.updating\",\"layerViewManager.updating\",\"layerViewManager.updatingRemaining\",\"_resourceController.updating\",\"_stage.updating\",\"featureTiles.updating\",\"pointsOfInterest.updating\",\"environmentManager.updating\",\"overlay.updating\",\"updatingHandles.updating\",\"featureTreeDebugger.updating\",\"labeler.updating\",\"deconflictor.updating\",\"ready\",\"stationary\",\"inputManager.hasPendingInputs\",\"toolViewManager.updating\",\"analysisViewManager.updating\"]})],lt.prototype,\"updating\",null),e([E({type:Number,readOnly:!0,dependsOn:[\"updating\"]})],lt.prototype,\"updatingProgress\",void 0),e([E({type:[\"global\",\"local\"]})],lt.prototype,\"viewingMode\",null),e([E({type:r,aliasOf:\"stateManager.viewpoint\"})],lt.prototype,\"viewpoint\",void 0),e([E({type:Number,aliasOf:\"stateManager.zoom\"})],lt.prototype,\"zoom\",void 0),e([E({type:Re})],lt.prototype,\"highlightOptions\",void 0),lt=e([P(\"esri.views.SceneView\")],lt),function(e){e[e.INCLUDE=0]=\"INCLUDE\",e[e.EXCLUDE=1]=\"EXCLUDE\"}(ct||(ct={}));const ut=L(),gt=x(),mt=k(),ft=lt;export{ft as default};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,wBAAlB;AAA2C,OAAOC,CAAP,MAAa,cAAb;AAA4B,OAAM,gBAAN;AAAuB,OAAOC,CAAP,MAAa,eAAb;AAA6B,OAAOC,CAAP,MAAa,iBAAb;AAA+B,OAAOC,CAAP,MAAa,uBAAb;AAAqC,SAAOC,IAAI,IAAIC,CAAf,QAAqB,qBAArB;AAA2C,OAAOC,CAAP,MAAa,kBAAb;AAAgC,SAAOC,EAAE,IAAIC,CAAb,QAAmB,mBAAnB;AAAuC,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,UAAU,IAAIC,CAAvC,QAA6C,wBAA7C;AAAsE,OAAOC,CAAP,MAAa,gBAAb;AAA8B,SAAOC,UAAU,IAAIC,CAArB,QAA2B,0BAA3B;AAAsD,OAAOC,CAAP,MAAa,mBAAb;AAAiC,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,MAAM,IAAIC,CAAnC,EAAqCC,MAAM,IAAIC,CAA/C,EAAiDC,QAAQ,IAAIC,CAA7D,QAAmE,kBAAnE;AAAsF,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,kCAAtC;AAAyE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,yBAA/B;AAAyD,SAAOrB,EAAE,IAAIsB,CAAb,EAAeC,KAAK,IAAIhC,CAAxB,EAA0BiC,OAAO,IAAIC,CAArC,EAAuCC,cAAc,IAAIC,CAAzD,EAA2DC,QAAQ,IAAIC,CAAvE,EAAyEC,IAAI,IAAIC,CAAjF,QAAuF,0BAAvF;AAAkH,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;AAAyD,SAAOC,wBAAwB,IAAIC,CAAnC,EAAqCC,iBAAiB,IAAIC,CAA1D,EAA4DC,sBAAsB,IAAIC,CAAtF,QAA4F,wBAA5F;AAAqH,SAAOC,UAAU,IAAIC,CAArB,QAA2B,4BAA3B;AAAwD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAM,uBAAN;AAA8B,SAAOC,IAAI,IAAIC,CAAf,QAAqB,4CAArB;AAAkE,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,SAAOC,UAAU,IAAIC,CAArB,QAA2B,uCAA3B;AAAmE,SAAOxC,CAAC,IAAIyC,CAAZ,QAAkB,sBAAlB;AAAyC,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,qCAAzC;AAA+E,OAAOC,CAAP,MAAa,gCAAb;AAA8C,SAAOC,uBAAuB,IAAIC,CAAlC,EAAoCC,OAAO,IAAIC,CAA/C,EAAiDC,oBAAoB,IAAIC,CAAzE,EAA2EC,qBAAqB,IAAIC,CAApG,EAAsGC,mBAAmB,IAAIC,CAA7H,QAAmI,2BAAnI;AAA+J,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,QAAQ,IAAIC,CAA/B,QAAqC,uCAArC;AAA6E,SAAOC,CAAC,IAAIC,CAAZ,EAActE,CAAC,IAAIqE,CAAnB,QAAyB,2BAAzB;AAAqD,SAAOE,kBAAkB,IAAIC,CAA7B,QAAmC,yCAAnC;AAA6E,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,mCAAtC;AAA0E,SAAOC,kBAAkB,IAAIC,CAA7B,EAA+BC,YAAY,IAAIC,CAA/C,EAAiDC,YAAY,IAAIC,CAAjE,QAAuE,iCAAvE;AAAyG,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,kCAAnC;AAAsE,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;AAAyD,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,mBAA7B;AAAiD,OAAOC,EAAP,MAAc,iBAAd;AAAgC,SAAOC,SAAS,IAAIC,EAApB,QAA2B,gBAA3B;AAA4C,OAAOC,EAAP,MAAc,WAAd;AAA0B,OAAOC,EAAP,MAAc,oBAAd;AAAmC,SAAOC,WAAW,IAAIC,EAAtB,EAAyBC,qBAAqB,IAAIC,EAAlD,EAAqDC,qBAAqB,IAAIC,EAA9E,QAAqF,kBAArF;AAAwG,SAAOC,mBAAmB,IAAIC,EAA9B,QAAqC,oCAArC;AAA0E,OAAOC,EAAP,MAAc,wCAAd;AAAuD,SAAOC,WAAW,IAAIC,EAAtB,QAA6B,iCAA7B;AAA+D,OAAOC,EAAP,MAAc,0CAAd;AAAyD,SAAOC,2BAA2B,IAAIC,EAAtC,QAA6C,iDAA7C;AAA+F,OAAOC,EAAP,MAAc,iCAAd;AAAgD,SAAOC,oBAAoB,IAAIC,EAA/B,QAAsC,8CAAtC;AAAqF,SAAOC,OAAO,IAAIC,EAAlB,QAAyB,iCAAzB;AAA2D,SAAOC,mBAAmB,IAAIC,EAA9B,QAAqC,6CAArC;AAAmF,SAAOC,iBAAiB,IAAIC,EAA5B,QAAmC,0CAAnC;AAA8E,OAAOC,EAAP,MAAc,yBAAd;AAAwC,OAAOC,EAAP,MAAc,gCAAd;AAA+C,SAAOC,uBAAuB,IAAIC,EAAlC,QAAyC,+CAAzC;AAAyF,SAAOC,yBAAyB,IAAIC,EAApC,QAA2C,2CAA3C;AAAuF,OAAOC,EAAP,MAAc,4BAAd;AAA2C,OAAOC,EAAP,MAAc,uCAAd;AAAsD,SAAOC,mBAAmB,IAAIC,EAA9B,QAAqC,mCAArC;AAAyE,OAAOC,EAAP,MAAc,kCAAd;AAAiD,SAAOC,eAAe,IAAIC,EAA1B,QAAiC,iCAAjC;AAAmE,SAAOC,cAAc,IAAIC,EAAzB,QAAgC,gCAAhC;AAAiE,OAAOC,EAAP,MAAc,iCAAd;AAAgD,SAAOC,kBAAkB,IAAIC,EAA7B,QAAoC,oCAApC;AAAyE,SAAOC,qBAAqB,IAAIC,EAAhC,QAAuC,oCAAvC;AAA4E,OAAOC,EAAP,MAAc,0CAAd;AAAyD,SAAOC,qBAAqB,IAAIC,EAAhC,QAAuC,uCAAvC;AAA+E,SAAOC,gBAAgB,IAAIC,EAA3B,QAAkC,mDAAlC;AAAsF,OAAOC,EAAP,MAAc,gCAAd;AAA+C,SAAOC,kBAAkB,IAAIC,EAA7B,EAAgCC,iBAAiB,IAAIC,EAArD,EAAwDC,+BAA+B,IAAIC,EAA3F,QAAkG,8BAAlG;AAAiI,SAAOC,KAAK,IAAIC,EAAhB,QAAuB,4BAAvB;AAAoD,SAAOC,cAAc,IAAIC,EAAzB,EAA4BC,iBAAiB,IAAIC,EAAjD,QAAwD,sCAAxD;AAA+F,SAAOC,YAAY,IAAIC,EAAvB,EAA0BC,eAAe,IAAIC,EAA7C,QAAoD,gDAApD;AAAqG,SAAOC,wBAAwB,IAAIC,EAAnC,QAA0C,2CAA1C;AAAsF,SAAOC,KAAK,IAAIC,EAAhB,EAAmBC,OAAO,IAAIC,EAA9B,QAAqC,sDAArC;AAA4F,SAAOC,UAAU,IAAIC,EAArB,QAA4B,8CAA5B;AAA2E,SAAOC,4BAA4B,IAAIC,EAAvC,QAA8C,iCAA9C;AAAgF,SAAOC,kBAAkB,IAAIC,EAA7B,QAAoC,6BAApC;AAAkE,SAAOC,MAAM,IAAIC,EAAjB,EAAoBC,UAAU,IAAIC,EAAlC,EAAqCC,gBAAgB,IAAIC,EAAzD,EAA4DC,6BAA6B,IAAIC,EAA7F,QAAoG,8BAApG;AAAmI,SAAOC,2BAA2B,IAAIC,EAAtC,EAAyCC,mCAAmC,IAAIC,EAAhF,QAAuF,0BAAvF;AAAkH,SAAOC,2BAA2B,IAAIC,EAAtC,QAA6C,sCAA7C;AAAoF,SAAOC,KAAK,IAAIC,EAAhB,QAAuB,gCAAvB;AAAwD,OAAOC,EAAP,MAAc,wBAAd;AAAuC,OAAOC,EAAP,MAAc,4BAAd;AAA2C,OAAOC,EAAP,MAAc,uBAAd;AAAsC,OAAOC,EAAP,MAAc,iCAAd;AAAgD,OAAOC,EAAP,MAAc,sBAAd;AAAqC,MAAMC,EAAE,GAACpL,CAAC,CAACqL,SAAF,CAAY,sBAAZ,CAAT;AAA6C,IAAIC,EAAE,GAAC,cAAc5G,CAAC,CAACE,CAAC,CAACG,EAAE,CAACC,EAAD,CAAH,CAAF,CAAf,CAA2B;EAACuG,WAAW,CAACxM,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKyM,iBAAL,GAAuB,IAAhC,EAAqC,KAAKC,aAAL,GAAmB,IAAxD,EAA6D,KAAKC,+BAAL,GAAqC,IAAlG,EAAuG,KAAKC,SAAL,GAAe,EAAtH,EAAyH,KAAKC,cAAL,GAAoB;MAACC,WAAW,EAAC,CAAC;IAAd,CAA7I,EAA8J,KAAKC,6BAAL,GAAmC,IAAjM,EAAsM,KAAKC,iBAAL,GAAuB,EAA7N,EAAgO,KAAKC,cAAL,GAAoB,IAAIzE,EAAJ,CAAO;MAAC0E,UAAU,EAACrI;IAAZ,CAAP,EAAsB,IAAtB,CAApP,EAAgR,KAAKsI,mBAAL,GAAyBtE,EAAE,CAAC,IAAD,CAA3S,EAAkT,KAAKuE,oBAAL,GAA0B;MAACC,OAAO,EAAC,IAAIC,GAAJ;IAAT,CAA5U,EAA8V,KAAKC,sBAAL,GAA4B;MAACC,OAAO,EAAC,IAAIF,GAAJ;IAAT,CAA1X,EAA4Y,KAAKG,YAAL,GAAkB,IAAItG,EAAJ,CAAO;MAACuG,IAAI,EAAC;IAAN,CAAP,CAA9Z,EAAkb,KAAKC,OAAL,GAAa,IAAItG,EAAJ,CAAO;MAACqG,IAAI,EAAC,IAAN;MAAWD,YAAY,EAAC,KAAKA,YAAL,CAAkBG;IAA1C,CAAP,CAA/b,EAAyf,KAAKC,qBAAL,GAA2B,IAAphB,EAAyhB,KAAKC,QAAL,GAAc,IAAIrI,CAAJ,EAAviB,EAA6iB,KAAKsI,cAAL,GAAoB,IAAjkB,EAAskB,KAAKC,iBAAL,GAAuB,IAA7lB,EAAkmB,KAAKC,MAAL,GAAY,IAA9mB,EAAmnB,KAAKC,MAAL,GAAY,IAA/nB,EAAooB,KAAKC,MAAL,GAAY,IAAhpB,EAAqpB,KAAKC,WAAL,GAAiB,IAAIvH,EAAJ,EAAtqB,EAA6qB,KAAKwH,kBAAL,GAAwB,IAAIrH,EAAJ,EAArsB,EAA4sB,KAAKsH,MAAL,GAAY,IAAxtB,EAA6tB,KAAKC,MAAL,GAAY,IAAInO,CAAJ,EAAzuB,EAA+uB,KAAKoO,WAAL,GAAiB,CAAhwB,EAAkwB,KAAKC,YAAL,GAAkB,IAApxB,EAAyxB,KAAKC,mBAAL,GAAyB,IAAI/H,EAAJ,CAAO;MAAC+G,IAAI,EAAC;IAAN,CAAP,CAAlzB,EAAs0B,KAAKiB,UAAL,GAAgB,IAAt1B,EAA21B,KAAKC,UAAL,GAAgB,CAAC,CAA52B,EAA82B,KAAKC,GAAL,GAAS,IAAv3B,EAA43B,KAAKC,4BAAL,GAAkC,CAAC,CAA/5B,EAAi6B,KAAKC,KAAL,GAAW,IAAIrH,EAAJ,EAA56B,EAAm7B,KAAKsH,KAAL,GAAW,IAA97B,EAAm8B,KAAKC,gBAAL,GAAsB,IAAz9B,EAA89B,KAAKC,uBAAL,GAA6B,CAAC,CAA5/B,EAA8/B,KAAKC,4BAAL,GAAkC,CAAC,CAAjiC,EAAmiC,KAAKC,6BAAL,GAAmC,CAAC,CAAvkC,EAAykC,KAAKC,IAAL,GAAU,IAAnlC,EAAwlC,KAAKC,EAAL,GAAQ,IAAItD,EAAJ,EAAhmC,EAAumC,KAAKuD,YAAL,GAAkB,CAAznC,EAA2nC,KAAKC,eAAL,GAAqB,CAAhpC,EAAkpC,KAAKC,gBAAL,GAAsB,EAAxqC,EAA2qC,KAAKC,SAAL,GAAe,IAA1rC,EAA+rC,KAAKC,IAAL,GAAU,IAAzsC,EAA8sC,KAAKC,gBAAL,GAAsB,IAAIxH,EAAJ,EAApuC,EAA2uC,KAAKyH,SAAL,GAAe,IAA1vC,EAA+vC,KAAKC,gBAAL,GAAsB,IAArxC,EAA0xC7M,CAAC,EAA3xC,EAA8xCjD,CAAC,IAAEA,CAAC,CAAC8M,WAAL,KAAmB,KAAKF,SAAL,CAAeE,WAAf,GAA2B,IAAIhG,EAAJ,EAA3B,EAAkC,KAAKgG,WAAL,GAAiB,KAAKF,SAAL,CAAeE,WAArF,CAA9xC;;IAAg4C,MAAM7M,CAAC,GAAC,CAACD,CAAC,GAAC,IAAH,KAAU;MAACuB,CAAC,CAACvB,CAAD,CAAD,IAAMA,CAAC,CAACqP,IAAF,KAAS1N,CAAC,CAACoO,IAAjB,KAAwB,KAAKC,gBAAL,IAAwB,KAAKnB,GAAL,IAAU,KAAKA,GAAL,CAASoB,SAAT,CAAmBC,OAAnB,CAA4B,MAAMlQ,CAAN,IAAS;QAAC,IAAG;UAAC,MAAMA,CAAC,CAACmQ,IAAF,EAAN;QAAe,CAAnB,CAAmB,MAAK,CAAE;;QAAA,KAAKH,gBAAL;MAAwB,CAAxF,CAA1D;IAAsJ,CAAzK;;IAA0K,KAAKI,OAAL,CAAaC,GAAb,CAAiB,CAACvO,CAAC,CAAE,MAAI,KAAK+M,GAAL,EAAUoB,SAAhB,EAA2B,eAA3B,EAA4CjQ,CAAC,IAAEC,CAAC,CAACD,CAAD,CAAhD,EAAqD;MAACsQ,aAAa,EAAC,MAAIrQ,CAAC,EAApB;MAAuBsQ,gBAAgB,EAAC,MAAItQ,CAAC,EAA7C;MAAgDqC,IAAI,EAAC,CAAC;IAAtD,CAArD,CAAF,EAAiH,KAAKkO,aAAL,CAAmBhQ,EAAnB,CAAsB,eAAtB,EAAuCR,CAAC,IAAE,KAAKyQ,uBAAL,CAA6BzQ,CAA7B,CAA1C,CAAjH,EAA6LD,CAAC,CAAE,MAAI,KAAK8O,GAAX,EAAiB7O,CAAC,IAAE;MAACA,CAAC,IAAE,UAASA,CAAZ,IAAeA,CAAC,CAAC0Q,IAAjB,IAAuB1Q,CAAC,CAAC0Q,IAAF,GAASC,KAAT,CAAgB,MAAI,CAAE,CAAtB,CAAvB;IAAgD,CAArE,CAA9L,CAAjB,GAAyR,KAAKC,YAAL,GAAkB,IAAI3J,EAAJ,CAAO;MAACyG,IAAI,EAAC;IAAN,CAAP,CAA3S,EAA+T,KAAKmD,YAAL,GAAkB,IAAIlJ,EAAJ,CAAO;MAAC+F,IAAI,EAAC;IAAN,CAAP,CAAjV;EAAqW;;EAAA1K,UAAU,GAAE;IAAC,KAAK2L,UAAL,GAAgB,IAAI7I,EAAJ,CAAO;MAAC4H,IAAI,EAAC;IAAN,CAAP,CAAhB,EAAoC,KAAK+C,uBAAL,EAApC;;IAAmE,MAAMzQ,CAAC,GAAC,MAAI,KAAK8Q,0BAAL,EAAZ;;IAA8C,KAAKV,OAAL,CAAaC,GAAb,CAAiBvO,CAAC,CAAE,MAAI,KAAK+M,GAAL,EAAUoB,SAAhB,EAA2B,eAA3B,EAA2CjQ,CAA3C,EAA6C;MAACsQ,aAAa,EAACtQ,CAAf;MAAiBuQ,gBAAgB,EAACvQ;IAAlC,CAA7C,CAAlB,GAAsG,KAAK+Q,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKW,eAAL,CAAqBC,WAAnD,EAAiEjR,CAAC,IAAE;MAAC,KAAKkR,kBAAL,KAA0B,KAAKA,kBAAL,CAAwBC,gBAAxB,CAAyCC,SAAzC,GAAmDpR,CAA7E;IAAgF,CAArJ,EAAuJiC,CAAvJ,CAAtG,EAAgQ,KAAK8O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKW,eAAL,CAAqBK,qBAAnD,EAA2ErR,CAAC,IAAE;MAAC,KAAKkR,kBAAL,KAA0B,KAAKA,kBAAL,CAAwBC,gBAAxB,CAAyCE,qBAAzC,GAA+DrR,CAAzF;IAA4F,CAA3K,EAA6KiC,CAA7K,CAAhQ,EAAgb,KAAK8O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKW,eAAL,CAAqBM,SAAnD,EAA+DtR,CAAC,IAAEyC,CAAC,CAACzC,CAAC,GAAC,CAAF,GAAI,MAAIuR,IAAI,CAACC,IAAL,CAAUxR,CAAV,CAAR,GAAqB,CAAtB,CAAnE,EAA6FiC,CAA7F,CAAhb,EAAghB,KAAK8O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKxB,GAAL,EAAU4C,MAAxC,EAAgDzR,CAAhD,EAAkDmC,CAAlD,CAAhhB,EAAqkB,KAAK4O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKxB,GAAL,EAAU4C,MAAV,EAAkBC,OAAhD,EAA0D,MAAI,KAAKC,4BAAL,EAA9D,EAAmGxP,CAAnG,CAArkB,EAA2qB,KAAKiO,OAAL,CAAaC,GAAb,CAAiBtQ,CAAC,CAAE,MAAI,KAAKkP,gBAAX,EAA8B,MAAI,KAAK2C,YAAL,CAAkB,cAAlB,CAAlC,EAAqErP,CAArE,CAAlB,CAA3qB;EAAswB;;EAAAsP,OAAO,GAAE;IAAC,KAAKC,SAAL,KAAiB,KAAKC,UAAL,IAAkB,KAAKC,UAAL,GAAgB,IAAlC,EAAuC,KAAKC,gBAAL,CAAsBC,KAAtB,EAAvC,EAAqE,KAAKC,YAAL,EAArE,EAAyF,KAAKC,oBAAL,EAAzF,EAAqH,KAAKvE,qBAAL,GAA2B1M,CAAC,CAAC,KAAK0M,qBAAN,CAAjJ,EAA8K,KAAKF,OAAL,CAAakE,OAAb,EAA9K,EAAqM,KAAKQ,IAAL,CAAU,SAAV,EAAoB,IAApB,CAArM,EAA+N,KAAK5E,YAAL,CAAkBoE,OAAlB,EAA/N,EAA2P,KAAKQ,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAA3P,EAA0R,KAAKlF,mBAAL,GAAyBhM,CAAC,CAAC,KAAKgM,mBAAN,CAApT,EAA+U,KAAK0D,YAAL,CAAkBgB,OAAlB,EAA/U,EAA2W,KAAKQ,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAA3W,EAA0Y,KAAKzB,YAAL,CAAkBiB,OAAlB,EAA1Y,EAAsa,KAAKQ,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAAta,EAAqc,KAAKpF,cAAL,CAAoB4E,OAApB,EAArc,EAAme,KAAKzB,OAAL,CAAakC,MAAb,CAAoB,kBAApB,CAAne,EAA2gB,KAAKjE,kBAAL,CAAwBwD,OAAxB,EAA3gB,EAA6iB,KAAKQ,IAAL,CAAU,oBAAV,EAA+B,IAA/B,CAA7iB,EAAklB,KAAK1D,UAAL,GAAgBxN,CAAC,CAAC,KAAKwN,UAAN,CAApnB;EAAuoB;;EAA0B,IAAtB4D,sBAAsB,GAAE;IAAC,OAAO,KAAKC,kBAAL,IAAyB,KAAKA,kBAAL,CAAwBvD,gBAAxD;EAAyE;;EAA2B,IAAvBwD,uBAAuB,GAAE;IAAC,OAAO,KAAK1E,cAAL,EAAqBkB,gBAA5B;EAA6C;;EAAAyD,yBAAyB,CAAC1S,CAAC,GAAC;IAAC2S,MAAM,EAAC,CAAC;EAAT,CAAH,EAAe;IAAC,OAAO,KAAK9B,YAAL,CAAkB6B,yBAAlB,CAA4C1S,CAA5C,CAAP;EAAsD;;EAAgB,IAAZ4S,YAAY,GAAE;IAAC,IAAG,aAAW,KAAKC,WAAnB,EAA+B,OAAO,IAAP;IAAY,IAAI7S,CAAC,GAAC,KAAKyM,iBAAL,IAAwB,KAAKqG,GAAL,CAAS,kBAAT,CAA9B;IAA2D,OAAM,EAAE,CAAC,CAAC,KAAKrG,iBAAP,IAA0B,KAAKqG,GAAL,CAAS,qBAAT,CAA5B,KAA8DzR,CAAC,CAACrB,CAAD,CAA/D,IAAoE,KAAK0M,aAAL,GAAmB,IAAnB,EAAwB,IAA5F,IAAkG1M,CAAC,YAAYkM,EAAb,GAAgB,KAAK+C,gBAAL,KAAwBjP,CAAC,GAAC+S,EAAE,CAAC/S,CAAD,EAAG,KAAKiP,gBAAR,CAAJ,EAA8B5N,CAAC,CAACrB,CAAD,CAAvD,KAA6DqM,EAAE,CAAC2G,KAAH,CAAS,eAAT,EAAyB,yDAAzB,GAAoF,KAAKtG,aAAtJ,KAAsK1M,CAAC,GAACA,CAAC,CAACiT,KAAF,EAAF,EAAY5R,CAAC,CAACrB,CAAC,CAACkT,YAAF,CAAe,KAAKC,qBAApB,CAAD,CAAD,KAAgDnT,CAAC,CAACoT,IAAF,GAAOpT,CAAC,CAACqT,IAAT,EAAcrT,CAAC,CAACsT,IAAF,GAAOtT,CAAC,CAACuT,IAAvE,CAAZ,EAAyFvT,CAAC,CAACwT,IAAF,GAAO,KAAK,CAArG,EAAuGxT,CAAC,CAACyT,IAAF,GAAO,KAAK,CAAnH,EAAqHzT,CAAC,CAAC0T,MAAF,CAAS,KAAKhH,aAAd,MAA+B,KAAKA,aAAL,GAAmB1M,CAAlD,CAArH,EAA0K,KAAK0M,aAArV,CAAhB,IAAqXL,EAAE,CAAC2G,KAAH,CAAS,eAAT,EAAyB,2DAAzB,GAAsF,KAAKtG,aAAhd,CAAxG;EAAukB;;EAAgB,IAAZkG,YAAY,CAAC5S,CAAD,EAAG;IAAC,KAAK2T,KAAL,IAAY,aAAW,KAAKd,WAA5B,IAAyCtR,CAAC,CAACvB,CAAD,CAA1C,GAA8CqM,EAAE,CAAC2G,KAAH,CAAS,gBAAT,EAA0B,sDAA1B,CAA9C,GAAgI,KAAKvG,iBAAL,GAAuBzM,CAAvJ;EAAyJ;;EAAoB,IAAhB4T,gBAAgB,GAAE;IAAC,IAAG,KAAK7E,KAAL,CAAW8D,WAAX,KAAyBzM,EAAE,CAACyN,MAA/B,EAAsC,OAAO,IAAP;IAAY,MAAM7T,CAAC,GAAC,KAAKuS,sBAAb;IAAA,MAAoCtS,CAAC,GAAC,KAAK6T,UAA3C;IAAsD,OAAOzS,CAAC,CAACpB,CAAD,CAAD,IAAMoB,CAAC,CAACrB,CAAD,CAAP,IAAYC,CAAC,CAACgP,gBAAF,CAAmByE,MAAnB,CAA0B1T,CAA1B,CAAZ,GAAyCC,CAAzC,GAA2C8S,EAAE,CAAC9S,CAAD,EAAGD,CAAH,CAApD;EAA0D;;EAAc,IAAV8T,UAAU,GAAE;IAAC,IAAI9T,CAAC,GAAC,KAAKmT,qBAAX;IAAiC,MAAMlT,CAAC,GAAC,KAAKgP,gBAAL,IAAuB9C,EAAE,CAAC4H,KAAlC;IAAA,MAAwC7T,CAAC,GAAC6S,EAAE,CAAC,KAAKH,YAAN,EAAmB3S,CAAnB,CAA5C;IAAkEsB,CAAC,CAACrB,CAAD,CAAD,KAAOF,CAAC,GAACuB,CAAC,CAACvB,CAAD,CAAD,GAAKA,CAAC,CAACkT,YAAF,CAAehT,CAAf,CAAL,GAAuBA,CAAhC;;IAAmC,MAAMC,CAAC,GAAC,KAAK6T,IAAL,CAAU,YAAV,CAAR;;IAAgC,OAAOzS,CAAC,CAACvB,CAAD,CAAD,IAAMA,CAAC,CAAC0T,MAAF,CAASvT,CAAT,CAAN,GAAkBA,CAAlB,GAAoBH,CAA3B;EAA6B;;EAAyB,IAArBmT,qBAAqB,GAAE;IAAC,MAAMnT,CAAC,GAAC,KAAKiP,gBAAL,IAAuB9C,EAAE,CAAC4H,KAAlC;IAAwC,IAAI9T,CAAJ;;IAAM,MAAMC,CAAC,GAACA,CAAC,IAAE;MAAC,MAAMC,CAAC,GAAC4S,EAAE,CAAC7S,CAAD,EAAGF,CAAH,CAAV;MAAgBqB,CAAC,CAAClB,CAAD,CAAD,KAAOoB,CAAC,CAACtB,CAAD,CAAD,GAAKA,CAAC,CAACgU,KAAF,CAAQ9T,CAAR,CAAL,GAAgBF,CAAC,GAACE,CAAC,CAAC8S,KAAF,EAAzB;IAAoC,CAAhE;IAAA,MAAiE9S,CAAC,GAAC,KAAK4N,cAAxE;;IAAuF,IAAG5N,CAAC,EAAE8O,gBAAN,EAAuB;MAAC,MAAMjP,CAAC,GAACG,CAAC,CAAC+T,YAAV;MAAuBhU,CAAC,CAAC,IAAIgM,EAAJ,CAAO;QAACkH,IAAI,EAACpT,CAAC,CAAC,CAAD,CAAP;QAAWsT,IAAI,EAACtT,CAAC,CAAC,CAAD,CAAjB;QAAqBwT,IAAI,EAAC,CAA1B;QAA4BH,IAAI,EAACrT,CAAC,CAAC,CAAD,CAAlC;QAAsCuT,IAAI,EAACvT,CAAC,CAAC,CAAD,CAA5C;QAAgDyT,IAAI,EAAC,CAArD;QAAuDxE,gBAAgB,EAAC9O,CAAC,CAAC8O;MAA1E,CAAP,CAAD,CAAD;IAAuG;;IAAA,IAAG,KAAKJ,GAAR,EAAY;MAAC,MAAM7O,CAAC,GAACA,CAAC,IAAE;QAAC,CAACuB,CAAC,CAACvB,CAAC,CAACmU,UAAH,CAAF,IAAkB,eAAanU,CAAC,CAACqP,IAAf,IAAqBrP,CAAC,CAACoU,QAAzC,IAAmDlU,CAAC,CAACF,CAAC,CAACmU,UAAH,CAApD;MAAmE,CAA/E;;MAAgF,KAAKtF,GAAL,CAASoB,SAAT,CAAmBC,OAAnB,CAA4BjQ,CAAC,IAAED,CAAC,CAACC,CAAD,CAAhC;IAAsC;;IAAA,IAAGoB,CAAC,CAACpB,CAAD,CAAJ,EAAQ,OAAO,IAAP;IAAYA,CAAC,CAACoU,IAAF,IAAQpU,CAAC,CAACuT,IAAF,GAAOjC,IAAI,CAAC+C,GAAL,CAAS,CAAT,EAAWrU,CAAC,CAACuT,IAAb,CAAP,EAA0BvT,CAAC,CAACwT,IAAF,GAAOlC,IAAI,CAACgD,GAAL,CAAS,CAAT,EAAWtU,CAAC,CAACwT,IAAb,CAAzC,KAA8DxT,CAAC,CAACuT,IAAF,GAAO,CAAP,EAASvT,CAAC,CAACwT,IAAF,GAAO,CAA9E;;IAAiF,MAAMrT,CAAC,GAAC,KAAK4T,IAAL,CAAU,uBAAV,CAAR;;IAA2C,OAAO/T,CAAC,CAACyT,MAAF,CAAStT,CAAT,IAAYA,CAAZ,GAAcH,CAArB;EAAuB;;EAAe,IAAX6M,WAAW,CAAC9M,CAAD,EAAG;IAACA,CAAC,KAAG,KAAK4M,SAAL,CAAeE,WAAnB,KAAiC,KAAKD,cAAL,CAAoBC,WAApB,GAAgC,CAAC,CAAlE,GAAqE,KAAKuF,IAAL,CAAU,aAAV,EAAwBrS,CAAxB,CAArE;EAAgG;;EAAAwU,eAAe,CAACxU,CAAD,EAAG;IAAC,OAAOA,CAAC,GAACA,CAAC,YAAY8G,EAAb,GAAgB9G,CAAhB,GAAkBA,CAAC,YAAYiM,EAAb,GAAgB,QAAM,KAAKa,WAAX,GAAuB,KAAKA,WAAL,CAAiB2H,4BAAjB,CAA8CzU,CAA9C,CAAvB,GAAwE8G,EAAE,CAAC4N,uBAAH,CAA2B1U,CAA3B,CAAxF,GAAsHyD,CAAC,CAACqD,EAAD,EAAI9G,CAAJ,CAA1I,GAAiJ,IAAI8G,EAAJ,EAAzJ;EAAgK;;EAAyB,IAArB6N,qBAAqB,GAAE;IAAC,OAAO,KAAK9D,YAAL,IAAmB,CAAC,KAAKA,YAAL,CAAkB+D,cAA7C;EAA4D;;EAA4B,IAAxBC,wBAAwB,GAAE;IAAC,OAAM;MAACC,QAAQ,EAAC;QAACC,QAAQ,EAAC,CAAC,CAAX;QAAaC,eAAe,EAAC,CAAC,CAA9B;QAAgC1G,MAAM,EAAC,CAAC;MAAxC;IAAV,CAAN;EAA4D;;EAAe,IAAX2G,WAAW,GAAE;IAAC,OAAO,KAAKrG,UAAL,IAAiBrN,CAAC,CAAC,KAAKyQ,UAAN,CAAzB;EAA2C;;EAAc,IAAVkD,UAAU,GAAE;IAAC,OAAM,CAAC,KAAKC,SAAN,IAAiB,CAAC,KAAKC,QAAvB,KAAkC/T,CAAC,CAAC,KAAK0N,KAAN,CAAD,IAAe,KAAKA,KAAL,CAAWmG,UAA5D,CAAN;EAA8E;;EAAkB,IAAdG,cAAc,CAACrV,CAAD,EAAG;IAACiI,EAAE,CAACqN,cAAH,CAAkBtV,CAAlB,MAAuBiI,EAAE,CAACsN,KAAH,CAASvV,CAAT,EAAW,KAAKgR,eAAhB,GAAiC,KAAKqB,IAAL,CAAU,gBAAV,EAA2BrS,CAA3B,CAAxD;EAAuF;;EAAkB,IAAdqV,cAAc,GAAE;IAAC,OAAO,KAAKrB,IAAL,CAAU,gBAAV,KAA6B/L,EAAE,CAACuN,iBAAH,EAApC;EAA2D;;EAAc,IAAVtI,UAAU,CAAClN,CAAD,EAAG;IAAC,IAAGuB,CAAC,CAAC,KAAKkU,MAAN,CAAD,IAAgB,KAAKA,MAAL,CAAYC,UAAZ,CAAuBC,mBAAvB,CAA2C;MAACzI,UAAU,EAAClN;IAAZ,CAA3C,CAAhB,EAA2EqB,CAAC,CAACrB,CAAD,CAA/E,EAAmF,OAAO,KAAK,KAAKqS,IAAL,CAAU,YAAV,EAAuB,IAAvB,CAAZ;IAAyC,MAAMpS,CAAC,GAAC,KAAKgN,cAAL,CAAoB6F,GAApB,CAAwB,YAAxB,CAAR;IAA8ClO,CAAC,CAAC5E,CAAD,EAAGC,CAAH,CAAD,EAAO,KAAKoS,IAAL,CAAU,YAAV,EAAuBpS,CAAvB,CAAP;EAAiC;;EAAkC,IAA9B2V,8BAA8B,GAAE;IAAC,OAAM,CAAC,CAAC,KAAK/C,WAAb;EAAyB;;EAAc,IAAVgD,UAAU,GAAE;IAAC,OAAO,QAAM,KAAK5G,gBAAX,GAA4BhK,CAAC,CAAC,KAAK+J,KAAN,EAAY,KAAKC,gBAAjB,CAA7B,GAAgE,CAAvE;EAAyE;;EAAmB,IAAf+F,eAAe,GAAE;IAAC,MAAMhV,CAAC,GAAC,KAAK8V,yBAAL,EAAR;IAAyC,OAAO,QAAM9V,CAAN,GAAQ6D,CAAC,CAACkS,gBAAF,CAAmB/V,CAAnB,EAAqB,KAAKiP,gBAA1B,CAAR,GAAoD,IAA3D;EAAgE;;EAAY,IAAR+G,QAAQ,GAAE;IAAC,IAAG,KAAKlE,SAAR,EAAkB,OAAM,CAAC,CAAP;IAAS,IAAI9R,CAAC,GAAC,CAAN;IAAA,IAAQC,CAAC,GAAC,KAAKgS,gBAAL,CAAsB+D,QAAhC;IAAA,IAAyC9V,CAAC,GAACD,CAAC,GAAC,KAAKgS,gBAAL,CAAsBgE,iBAAvB,GAAyC,CAArF;IAAuF,KAAKzF,aAAL,CAAmBN,OAAnB,CAA4B/P,CAAC,IAAE;MAAC,IAAGA,CAAC,CAAC+V,WAAF,EAAH,EAAmB;QAAC,IAAG/V,CAAC,CAAC6V,QAAL,EAAc;UAAC,IAAG/V,CAAC,GAAC,CAAC,CAAH,EAAKE,CAAC,CAACgW,SAAF,IAAa9M,EAAE,CAAClJ,CAAD,CAAvB,EAA2B;UAAO,EAAED,CAAF,EAAIF,CAAC,IAAEG,CAAC,CAACsP,gBAAT;QAA0B;MAAC,CAAhG,MAAoG,EAAEvP,CAAF;IAAI,CAAxI;;IAA2I,KAAI,MAAMC,CAAV,IAAc,CAAC,KAAKsO,YAAN,EAAmB,KAAK2H,WAAxB,EAAoC,KAAKjJ,mBAAzC,EAA6D,KAAKsI,MAAlE,EAAyE,KAAKY,YAA9E,EAA2F,KAAKC,gBAAhG,EAAiH,KAAKjI,kBAAtH,EAAyI,KAAKkI,OAA9I,EAAsJ,KAAKC,mBAA3J,EAA+K,KAAKC,eAApL,EAAoM,KAAK/H,mBAAzM,CAAd,EAA4O,IAAGnN,CAAC,CAACpB,CAAD,CAAD,IAAMA,CAAC,CAAC6V,QAAX,EAAoB;MAAC,MAAM/V,CAAC,GAAC,EAAR;MAAWC,CAAC,IAAED,CAAH,EAAKD,CAAC,IAAE,KAAGC,CAAX;IAAa;;IAAA,KAAI,MAAME,CAAV,IAAc,CAAC,KAAKsN,YAAN,EAAmB,KAAKE,OAAxB,EAAgC,KAAKI,cAArC,CAAd,EAAmExM,CAAC,CAACpB,CAAD,CAAD,IAAMA,CAAC,CAAC6V,QAAR,KAAmB,EAAE9V,CAAF,EAAIF,CAAC,IAAEG,CAAC,CAACsP,gBAA5B;;IAA8C,IAAGxP,CAAC,GAAC,CAAC,EAAEA,CAAC,IAAEC,CAAC,GAAC,CAAL,IAAQ,KAAK6Q,eAAL,CAAqBiF,QAA7B,IAAuC,CAAC,KAAKrC,KAA7C,IAAoD,CAAC,KAAKuB,UAA1D,IAAsE,KAAKnI,6BAA3E,IAA0G,KAAK6D,YAAL,EAAmB8F,gBAA7H,IAA+I,KAAK7H,GAAL,EAAUoB,SAAV,EAAqB0G,IAArB,CAA2B3W,CAAC,IAAE,CAACA,CAAC,CAACkW,WAAF,EAA/B,CAAjJ,CAAH,EAAsMjW,CAAC,IAAE,KAAKsP,YAAL,GAAkBgC,IAAI,CAACgD,GAAL,CAASrU,CAAT,EAAW,KAAKqP,YAAhB,CAAlB,EAAgDvP,CAAC,IAAE,KAAKuP,YAAL,GAAkBrP,CAAvE,IAA0E,KAAKqP,YAAL,GAAkB,CAAnS,EAAqS,KAAKA,YAAL,GAAkB,CAAlB,GAAoBvP,CAAC,IAAE,KAAKuP,YAA5B,GAAyCvP,CAAC,GAACC,CAAC,GAAC,CAAD,GAAG,CAApV,EAAsV,KAAK+T,IAAL,CAAU,kBAAV,MAAgChU,CAAzX,EAA2X;MAAC,MAAME,CAAC,GAAC0W,WAAW,CAACC,GAAZ,EAAR;;MAA0B,IAAG7W,CAAC,GAAC,CAAL,EAAO;QAAC,MAAMC,CAAC,GAACsR,IAAI,CAAC+C,GAAL,CAAS,CAACpU,CAAC,GAAC,KAAKsP,eAAR,IAAyB,GAAlC,EAAsC,CAAtC,CAAR;QAAiDxP,CAAC,GAAC,KAAKyP,gBAAL,IAAuB,IAAExP,CAAzB,IAA4BD,CAAC,GAACC,CAAhC;MAAkC;;MAAA,KAAKoS,IAAL,CAAU,kBAAV,EAA6BrS,CAA7B,GAAgC,KAAKwP,eAAL,GAAqBvP,CAAC,IAAED,CAAC,GAAC,CAAL,GAAOE,CAAP,GAAS,CAA9D;IAAgE;;IAAA,OAAOD,CAAP;EAAS;;EAAe,IAAX4S,WAAW,GAAE;IAAC,MAAM7S,CAAC,GAAC,KAAK8W,yBAAb;IAAuC,IAAGvV,CAAC,CAACvB,CAAD,CAAJ,EAAQ,OAAOsG,EAAE,CAACtG,CAAD,CAAT;IAAa,MAAMC,CAAC,GAAC,KAAKgP,gBAAb;IAA8B,OAAOhP,CAAC,GAACsB,CAAC,CAAC,KAAKwV,eAAL,EAAsBlE,WAAvB,CAAD,IAAsC5S,CAAC,CAACyT,MAAF,CAAS,KAAKqD,eAAL,CAAqB9H,gBAA9B,CAAtC,GAAsF3I,EAAE,CAAC,KAAKyQ,eAAL,CAAqBlE,WAAtB,CAAxF,GAA2HhH,EAAE,CAAC5L,CAAD,EAAGmG,EAAE,CAACyN,MAAN,CAAF,GAAgB,QAAhB,GAAyB,OAArJ,GAA6J,QAArK;EAA8K;;EAAe,IAAXhB,WAAW,CAAC7S,CAAD,EAAG;IAAC,KAAK2T,KAAL,GAAWtH,EAAE,CAAC2G,KAAH,CAAS,cAAT,EAAwB,8CAAxB,CAAX,GAAmFhT,CAAC,GAAC,KAAKgX,SAAL,CAAe,aAAf,EAA6BhX,CAA7B,CAAD,GAAiC,KAAK,CAAL,KAASA,CAAT,IAAY,KAAKiX,cAAL,CAAoB,aAApB,CAAjI;EAAoK;;EAAsB,IAAlB/F,kBAAkB,GAAE;IAAC,OAAO,KAAK/D,mBAAZ;EAAgC;;EAAmB,IAAf+J,eAAe,GAAE;IAAC,OAAO,IAAIpO,EAAJ,CAAO,IAAP,CAAP;EAAoB;;EAAAqO,kBAAkB,CAACnX,CAAD,EAAG;IAAC,KAAKyV,MAAL,CAAYC,UAAZ,CAAuB0B,mBAAvB,GAA2C,KAAKrJ,cAAL,CAAoBsJ,cAApB,CAAmCD,mBAAnC,GAAuDpX,CAAlG;EAAoG;;EAAAQ,EAAE,CAACR,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAOC,CAAP,EAAS;IAAC,MAAMC,CAAC,GAAC,KAAKkX,UAAL,CAAgB9W,EAAhB,CAAmBR,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,EAAyBC,CAAzB,CAAR;IAAoC,OAAOC,CAAC,IAAE,MAAMI,EAAN,CAASR,CAAT,EAAWC,CAAX,CAAV;EAAwB;;EAAAsX,gBAAgB,CAACvX,CAAD,EAAG;IAAC,OAAO,MAAMuX,gBAAN,CAAuBvX,CAAvB,KAA2B,KAAKsX,UAAL,CAAgBE,UAAhB,CAA2BxX,CAA3B,CAAlC;EAAgE;;EAAAyX,KAAK,CAACzX,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,CAAC,KAAK0T,KAAT,EAAe,OAAOtH,EAAE,CAAC2G,KAAH,CAAS,UAAT,EAAoB,8CAApB,GAAoE,IAA3E;IAAgF,MAAM9S,CAAC,GAACD,CAAC,GAAC,KAAKyX,kCAAL,CAAwCzX,CAAxC,CAAD,GAA4C,KAAKmN,oBAA1D;IAAA,MAA+EjN,CAAC,GAACoB,CAAC,CAACrB,CAAC,CAACyX,QAAH,CAAD,KAAgBpW,CAAC,CAACrB,CAAC,CAACyX,QAAF,CAAWtK,OAAZ,CAAD,IAAuB9L,CAAC,CAACrB,CAAC,CAACyX,QAAF,CAAWnK,OAAZ,CAAxC,CAAjF;IAAA,MAA+IpN,CAAC,GAACqL,EAAE,CAACzL,CAAD,CAAF,GAAM2L,EAAE,CAAC,IAAD,EAAM3L,CAAN,CAAR,GAAiBA,CAAlK;IAAA,MAAoKM,CAAC,GAACqC,CAAC,CAACvC,CAAD,CAAvK;IAA2KF,CAAC,CAAC0X,YAAF,GAAe1X,CAAC,CAACmN,OAAF,IAAW,CAACnN,CAAC,CAACmN,OAAF,CAAUwK,GAAV,CAAclN,EAAd,CAAZ,IAA+BzK,CAAC,CAACsN,OAAF,IAAWtN,CAAC,CAACsN,OAAF,CAAUqK,GAAV,CAAclN,EAAd,CAAzD;IAA2E,MAAMpK,CAAC,GAAC,KAAKuX,uBAAb;IAAA,MAAqCrX,CAAC,GAACoJ,EAAE,CAAC,KAAKkF,KAAL,CAAW8D,WAAZ,CAAzC;;IAAkE,IAAGpS,CAAC,CAACsX,OAAF,CAAUC,aAAV,GAAwB,CAAC,CAAzB,EAA2BvX,CAAC,CAACsX,OAAF,CAAUE,KAAV,GAAgB9X,CAAC,GAAC8J,EAAE,CAACiO,GAAJ,GAAQjO,EAAE,CAACkO,GAAvD,EAA2D5X,CAAC,CAAC6X,0BAAF,CAA6B9X,CAA7B,EAA+BG,CAA/B,EAAiCP,CAAjC,CAA3D,EAA+FC,CAAlG,EAAoG;MAAC,KAAI,MAAMH,CAAV,IAAeS,CAAC,CAAC4X,OAAF,CAAUC,GAAzB,EAA6B;QAAC,MAAMrY,CAAC,GAACsK,EAAE,CAACvK,CAAD,EAAG,IAAH,CAAV;QAAmB,IAAGqB,CAAC,CAACpB,CAAD,CAAJ,EAAQ,OAAO,KAAKsY,0BAAL,CAAgCvY,CAAhC,CAAP;QAA0C,IAAG,cAAYC,CAAC,CAACoP,IAAd,IAAoB,KAAKmJ,qBAAL,CAA2BtY,CAAC,CAACyX,QAA7B,EAAsC1X,CAAC,CAACwY,OAAxC,CAAvB,EAAwE,OAAO,KAAKF,0BAAL,CAAgCvY,CAAhC,CAAP;MAA0C;;MAAA,OAAO,IAAP;IAAY;;IAAA,OAAO,KAAKuY,0BAAL,CAAgC9X,CAAC,CAAC4X,OAAF,CAAU/D,GAA1C,CAAP;EAAsD;;EAAAoE,QAAQ,CAAC1Y,CAAD,EAAG;IAAC,IAAG,CAAC,KAAK2T,KAAT,EAAe,OAAOtH,EAAE,CAAC2G,KAAH,CAAS,aAAT,EAAuB,8CAAvB,GAAuE,IAA9E;IAAmF,MAAM/S,CAAC,GAACwB,CAAC,CAAC,QAAMzB,CAAC,CAAC6E,CAAR,IAAWsD,EAAE,CAAC,KAAK6F,iBAAN,EAAwBhO,CAAxB,CAAd,EAAyC,CAAzC,CAAT;IAAqD,OAAOmE,CAAC,CAACnE,CAAD,EAAG2Y,EAAH,EAAM,KAAKpG,sBAAX,EAAkCtS,CAAlC,CAAD,EAAsC,KAAK8O,KAAL,CAAWd,MAAX,CAAkB2K,eAAlB,CAAkCD,EAAlC,EAAqCE,EAArC,CAAtC,EAA+EhW,CAAC,CAACgW,EAAE,CAAC,CAAD,CAAH,EAAOA,EAAE,CAAC,CAAD,CAAT,CAAvF;EAAqG;;EAAAC,WAAW,CAAC9Y,CAAD,EAAG;IAAC,OAAO,KAAK2T,KAAL,GAAW3T,CAAC,IAAEmE,CAAC,CAACnE,CAAD,EAAG2Y,EAAH,EAAM,KAAKpG,sBAAX,CAAD,EAAoC,KAAKxD,KAAL,CAAWd,MAAX,CAAkB8K,wBAAlB,CAA2CJ,EAA3C,CAAtC,IAAsF,CAAlG,IAAqGtM,EAAE,CAAC2G,KAAH,CAAS,gBAAT,EAA0B,8CAA1B,GAA0E,IAA/K,CAAP;EAA4L;;EAAAgG,0BAA0B,CAAChZ,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAK8N,cAAL,CAAoBsJ,cAA5B;IAA2C,OAAOpX,CAAC,GAACA,CAAC,CAAC+Y,0BAAF,CAA6BhZ,CAA7B,CAAD,GAAiC,CAAzC;EAA2C;;EAAAiZ,OAAO,CAACjZ,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,CAAC,KAAK0T,KAAT,EAAe,OAAOtH,EAAE,CAAC2G,KAAH,CAAS,YAAT,EAAsB,8CAAtB,GAAsE,IAA7E;IAAkF,MAAM9S,CAAC,GAACuL,EAAE,CAACzL,CAAD,CAAF,GAAM2L,EAAE,CAAC,IAAD,EAAM3L,CAAN,CAAR,GAAiBA,CAAzB;IAAA,MAA2BG,CAAC,GAAC4C,CAAC,CAAC7C,CAAC,CAAC6C,CAAH,EAAK7C,CAAC,CAACyB,CAAP,CAA9B;IAAA,MAAwCvB,CAAC,GAACH,CAAC,GAAC,KAAKyX,kCAAL,CAAwCzX,CAAxC,CAAD,GAA4C,KAAKsN,sBAA5F;IAAmHnN,CAAC,CAAC8Y,sBAAF,GAAyB,CAAC,CAA1B,EAA4B9Y,CAAC,CAACwX,YAAF,GAAe,CAAC,CAA5C;IAA8C,MAAMtX,CAAC,GAACuJ,EAAE,CAAC,KAAKkF,KAAL,CAAW8D,WAAZ,CAAV;IAAmCvS,CAAC,CAACyX,OAAF,CAAUC,aAAV,GAAwB,CAAC,CAAzB,EAA2B1X,CAAC,CAACyX,OAAF,CAAUE,KAAV,GAAgBhO,EAAE,CAACiO,GAA9C,EAAkD,KAAKJ,uBAAL,CAA6BM,0BAA7B,CAAwDjY,CAAxD,EAA0DG,CAA1D,EAA4DF,CAA5D,CAAlD;;IAAiH,MAAMG,CAAC,GAAC,KAAK4Y,uBAAL,CAA6B7Y,CAAC,CAAC+X,OAAF,CAAUC,GAAvC,EAA2ClY,CAAC,CAACuX,QAA7C,CAAR;IAAA,MAA+DlX,CAAC,GAACH,CAAC,CAAC+X,OAAF,CAAU5G,MAA3E;IAAA,MAAkF9Q,CAAC,GAAC8J,EAAE,CAAChK,CAAD,EAAG,IAAH,CAAtF;IAAA,MAA+FI,CAAC,GAACU,CAAC,CAACZ,CAAD,CAAD,IAAM,UAASA,CAAf,IAAkB,sBAAoBA,CAAC,CAAC0O,IAAxC,GAA6C1O,CAA7C,GAA+C,IAAhJ;IAAA,MAAqJG,CAAC,GAAC;MAACsY,WAAW,EAAClZ,CAAb;MAAemY,OAAO,EAAC9X,CAAvB;MAAyBkR,MAAM,EAAC;QAAC4H,QAAQ,EAAC,KAAKd,0BAAL,CAAgC9X,CAAhC,CAAV;QAA6C6Y,QAAQ,EAACjP,EAAE,CAAC5J,CAAD,CAAF,GAAMA,CAAC,CAAC8Y,qBAAR,GAA8B,CAApF;QAAsFC,KAAK,EAAC3Y;MAA5F;IAAhC,CAAvJ;;IAAuR,OAAOmH,EAAE,CAACyR,oCAAH,KAA0C3Y,CAAC,CAAC4Y,WAAF,GAAcpZ,CAAxD,GAA2DqZ,OAAO,CAACC,OAAR,CAAgB9Y,CAAhB,CAAlE;EAAqF;;EAAkB,MAAZ+Y,YAAY,CAAC7Z,CAAD,EAAG;IAAC,MAAK;MAACqY,OAAO,EAACpY,CAAT;MAAWwR,MAAM,EAACvR;IAAlB,IAAqB,MAAM2K,EAAE,CAAC,IAAD,EAAM7K,CAAN,CAAlC;IAA2C,IAAIG,CAAC,GAAC,IAAN;IAAW,OAAM,EAAE,MAAIF,CAAC,CAAC6Z,MAAN,IAAcvI,IAAI,CAACwI,GAAL,CAAStY,CAAC,CAACxB,CAAC,CAAC,CAAD,CAAD,CAAKqZ,QAAN,EAAe,CAAf,CAAD,GAAmBpZ,CAAC,CAACoZ,QAA9B,IAAwC,IAAxD,KAA+DpZ,CAAC,CAACsZ,KAAF,IAAS,sBAAoBtZ,CAAC,CAACsZ,KAAF,CAAQnK,IAApG,KAA2GlP,CAAC,GAACD,CAAC,CAACmZ,QAA/G,GAAyH;MAAChB,OAAO,EAACpY,CAAT;MAAWmZ,WAAW,EAACpZ,CAAvB;MAAyBqZ,QAAQ,EAAClZ;IAAlC,CAA/H;EAAoK;;EAAA6Z,IAAI,CAACha,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAO,KAAK8Q,eAAL,CAAqBkJ,UAArB,CAAgC,KAAKpJ,YAAL,CAAkBmJ,IAAlB,CAAuBha,CAAvB,EAAyBC,CAAzB,CAAhC,CAAP;EAAoE;;EAAsB,MAAhBia,gBAAgB,CAACla,CAAD,EAAG;IAAC,IAAGqB,CAAC,CAACrB,CAAC,CAACma,MAAH,CAAJ,EAAe,MAAM,IAAI5Z,CAAJ,CAAM,mCAAN,EAA0C,kDAA1C,EAA6F;MAAC6Z,QAAQ,EAACpa;IAAV,CAA7F,CAAN;;IAAiH,IAAG,oBAAkBA,CAAC,CAACma,MAAF,CAAS9K,IAA9B,EAAmC;MAAC,OAAM,CAAC,MAAM,KAAKgL,aAAL,CAAmBra,CAAC,CAACma,MAArB,CAAP,EAAqCD,gBAArC,EAAN;IAA8D;;IAAA,OAAO,KAAKxL,mBAAL,CAAyBwL,gBAAzB,CAA0Cla,CAA1C,CAAP;EAAoD;;EAAAqa,aAAa,CAACra,CAAD,EAAG;IAAC,OAAO,MAAMqa,aAAN,CAAoBra,CAApB,CAAP;EAA8B;;EAAoB,MAAdsa,cAAc,CAACta,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKsa,iBAAL,CAAuBva,CAAvB,CAAR;;IAAkC,MAAM,KAAKwa,SAAL,EAAN;IAAuB,MAAMta,CAAC,GAAC,MAAM,KAAKuV,MAAL,CAAYC,UAAZ,CAAuB4E,cAAvB,CAAsCra,CAAtC,CAAd;IAAuD,OAAOgL,EAAE,CAAC/K,CAAD,EAAGD,CAAH,EAAK,KAAKwa,YAAL,EAAL,CAAT;EAAmC;;EAAqB,MAAfC,eAAe,CAAC1a,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKsa,iBAAL,CAAuBva,CAAvB,CAAR;;IAAkC,MAAM,KAAKwa,SAAL,EAAN;IAAuB,MAAMta,CAAC,GAAC,MAAM,KAAKuV,MAAL,CAAYC,UAAZ,CAAuB4E,cAAvB,CAAsCra,CAAtC,CAAd;IAAuD,OAAOkL,EAAE,CAACjL,CAAD,EAAG,KAAKua,YAAL,EAAH,CAAT;EAAiC;;EAAAF,iBAAiB,CAACva,CAAD,EAAG;IAAC,MAAMC,CAAC,GAACoL,EAAE,CAACrL,CAAD,EAAG,IAAH,CAAV;IAAmB,OAAOC,CAAC,CAAC0a,UAAF,IAAc,KAAK5L,KAAL,CAAW4L,UAAzB,EAAoCpP,EAAE,CAACtL,CAAD,EAAG,KAAKmP,6BAAR,EAAsC,KAAKwL,OAA3C,CAA7C;EAAiG;;EAAAH,YAAY,GAAE;IAAC,OAAM;MAACI,KAAK,EAAC,CAAC,CAAR;MAAUC,kBAAkB,EAAC,KAAKrF,MAAL,CAAYC,UAAZ,CAAuBqF,QAAvB;IAA7B,CAAN;EAAsE;;EAAQ,IAAJC,IAAI,GAAE;IAAC,OAAM;MAACV,cAAc,EAACta,CAAC,IAAE,KAAK0a,eAAL,CAAqB1a,CAArB;IAAnB,CAAN;EAAkD;;EAAAib,kBAAkB,CAACjb,CAAD,EAAG;IAAC,OAAO,KAAK+Q,eAAL,CAAqBkJ,UAArB,CAAgCja,CAAhC,CAAP;EAA0C;;EAAAkb,eAAe,CAAClb,CAAD,EAAG;IAAC,OAAO0G,EAAE,CAACwU,eAAH,CAAmBlb,CAAnB,CAAP;EAA6B;;EAAAmb,kBAAkB,CAACnb,CAAD,EAAG;IAAC,OAAO0G,EAAE,CAACyU,kBAAH,CAAsBnb,CAAtB,CAAP;EAAgC;;EAAAob,kBAAkB,GAAE;IAAC,KAAKC,eAAL;EAAuB;;EAAAC,0BAA0B,GAAE;IAAC,OAAO,KAAKzM,GAAL,IAAU,2BAA0B,KAAKA,GAAzC,IAA8C,KAAKA,GAAL,EAAU0M,qBAAV,EAAiCtM,gBAA/E,IAAiG,KAAK8H,eAAL,EAAsB9H,gBAAvH,IAAyI,KAAK8H,eAAL,EAAsBpD,KAAtB,IAA6B,KAAKhH,+BAA3K,IAA4M,IAAnN;EAAwN;;EAAc,MAAR6O,QAAQ,GAAE;IAAC,IAAIxb,CAAC,GAAC+L,EAAE,CAAC,KAAKsD,IAAN,CAAR;IAAoB,IAAGvO,CAAC,CAAC,QAAD,CAAD,IAAaA,CAAC,CAAC,QAAD,CAAD,GAAY,CAAzB,KAA6Bd,CAAC,GAAC,IAAIO,CAAJ,CAAM,iCAAN,EAAwC,yDAAxC,EAAkG;MAAC8O,IAAI,EAAC,QAAN;MAAeoM,eAAe,EAAC,CAA/B;MAAiCC,eAAe,EAAC5a,CAAC,CAAC,QAAD;IAAlD,CAAlG,CAA/B,GAAiMS,CAAC,CAACvB,CAAD,CAArM,EAAyM,MAAMqM,EAAE,CAACsP,IAAH,CAAQ,aAAR,EAAsB3b,CAAC,CAAC4b,OAAxB,GAAiC5b,CAAvC;EAAyC;;EAA6B,IAAzB8W,yBAAyB,GAAE;IAAC,MAAM9W,CAAC,GAAC,KAAK6b,aAAL,CAAmB,aAAnB,IAAkC,KAAK7H,IAAL,CAAU,aAAV,CAAlC,GAA2D,CAAC,KAAKnF,GAAL,IAAU,2BAA0B,KAAKA,GAAzC,GAA6C,KAAKA,GAAL,CAAS0M,qBAAT,EAAgC1I,WAA7E,GAAyF,IAA1F,KAAiG,IAApK;IAAyK,OAAOtR,CAAC,CAACvB,CAAD,CAAD,GAAKwG,EAAE,CAACxG,CAAD,CAAP,GAAW,IAAlB;EAAuB;;EAAA8b,0BAA0B,CAAC;IAAC7M,gBAAgB,EAACjP,CAAlB;IAAoBwZ,KAAK,EAACvZ;EAA1B,CAAD,EAA8B;IAAC,MAAMC,CAAC,GAAC,KAAK4W,yBAAb;IAAuC,IAAGvV,CAAC,CAACrB,CAAD,CAAJ,EAAQ,OAAO,KAAK6b,uCAAL,CAA6C/b,CAA7C,EAA+CC,CAA/C,EAAiDC,CAAjD,IAAoD;MAACkO,WAAW,EAAC,KAAK4N,gCAAL,CAAsChc,CAAtC,EAAwCC,CAAxC,EAA0CC,CAA1C;IAAb,CAApD,GAA+G,IAAtH;;IAA2H,MAAMC,CAAC,GAAC,KAAK4b,uCAAL,CAA6C/b,CAA7C,EAA+CC,CAA/C,EAAiDmG,EAAE,CAAC6V,KAApD,CAAR;IAAA,MAAmE7b,CAAC,GAAC,KAAK2b,uCAAL,CAA6C/b,CAA7C,EAA+CC,CAA/C,EAAiDmG,EAAE,CAACyN,MAApD,CAArE;;IAAiI,OAAO1T,CAAC,IAAEC,CAAH,GAAKD,CAAC,IAAEC,CAAH,GAAK;MAACgO,WAAW,EAAC,KAAK4N,gCAAL,CAAsChc,CAAtC,EAAwCC,CAAxC,EAA0C,IAA1C;IAAb,CAAL,GAAmEE,CAAC,GAAC;MAACiO,WAAW,EAAC,KAAK4N,gCAAL,CAAsChc,CAAtC,EAAwCC,CAAxC,EAA0CmG,EAAE,CAAC6V,KAA7C;IAAb,CAAD,GAAmE;MAAC7N,WAAW,EAAC,KAAK4N,gCAAL,CAAsChc,CAAtC,EAAwCC,CAAxC,EAA0CmG,EAAE,CAACyN,MAA7C;IAAb,CAA5I,GAA+M,IAAtN;EAA2N;;EAAAkI,uCAAuC,CAAC/b,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;IAAC,OAAM,CAAC,CAAC2L,EAAE,CAAC7L,CAAD,EAAGE,CAAH,CAAJ,KAAY,CAAC,CAACmB,CAAC,CAACpB,CAAD,CAAH,IAAS,CAAC,CAACkF,CAAC,CAAClF,CAAD,CAAH,IAAQ,CAAC,CAACoF,CAAC,CAACpF,CAAD,CAAF,IAAO,CAACoB,CAAC,CAACkI,EAAE,CAACtJ,CAAD,EAAGD,CAAH,EAAKE,CAAL,CAAH,CAAV,MAAyB,CAACqF,CAAC,CAACtF,CAAD,CAAF,IAAOC,CAAC,KAAGkG,EAAE,CAACyN,MAAvC,CAA7B,CAAN;EAAoF;;EAAAmI,gCAAgC,CAAChc,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;IAAC,IAAGmB,CAAC,CAACpB,CAAD,CAAJ,EAAQ,OAAM,CAAC;MAACgP,gBAAgB,EAACjP,CAAlB;MAAoB6S,WAAW,EAAC3S;IAAhC,CAAD,CAAN;IAA2C,MAAMC,CAAC,GAACH,CAAC,CAACkc,aAAV;IAAA,MAAwB9b,CAAC,GAACJ,CAAC,CAACmc,OAA5B;;IAAoC,IAAGhX,CAAC,CAAClF,CAAD,CAAD,KAAOE,CAAC,IAAEC,CAAV,CAAH,EAAgB;MAAC,OAAM,CAACA,CAAD,IAAIF,CAAC,KAAGkG,EAAE,CAAC6V,KAAX,IAAkB,SAAOxS,EAAE,CAACxJ,CAAC,CAAC8U,QAAH,EAAY9U,CAAC,CAACkU,UAAd,EAAyBnU,CAAzB,EAA2BoG,EAAE,CAACyN,MAA9B,CAA3B,GAAiE,CAAC;QAAC5E,gBAAgB,EAACjP,CAAlB;QAAoB6S,WAAW,EAAC3S;MAAhC,CAAD,EAAoC;QAAC+O,gBAAgB,EAAC9C,EAAE,CAACiQ,WAArB;QAAiCvJ,WAAW,EAAC3S;MAA7C,CAApC,CAAjE,GAAsJ,CAAC;QAAC+O,gBAAgB,EAAC9O,CAAC,GAACgM,EAAE,CAAC4H,KAAJ,GAAU5H,EAAE,CAACiQ,WAAhC;QAA4CvJ,WAAW,EAAC3S;MAAxD,CAAD,CAA5J;IAAyN;;IAAA,OAAOmF,CAAC,CAACpF,CAAD,CAAD,IAAMsF,CAAC,CAACtF,CAAD,CAAP,IAAY,CAACE,CAAD,IAAI,CAACC,CAAjB,GAAmBiF,CAAC,CAACpF,CAAD,CAAD,IAAME,CAAN,IAASD,CAAC,KAAGkG,EAAE,CAACyN,MAAhB,GAAuB,CAAC;MAAC5E,gBAAgB,EAACjP,CAAlB;MAAoB6S,WAAW,EAAC3S;IAAhC,CAAD,EAAoC;MAAC+O,gBAAgB,EAAC9C,EAAE,CAAC4H,KAArB;MAA2BlB,WAAW,EAACzM,EAAE,CAAC6V;IAA1C,CAApC,CAAvB,GAA6G,CAAC;MAAChN,gBAAgB,EAACjP,CAAlB;MAAoB6S,WAAW,EAAC3S;IAAhC,CAAD,CAAhI,GAAqK,CAAC;MAAC+O,gBAAgB,EAACjP,CAAlB;MAAoB6S,WAAW,EAAC3S;IAAhC,CAAD,EAAoC;MAAC+O,gBAAgB,EAAC9O,CAAC,GAACgM,EAAE,CAAC4H,KAAJ,GAAU5H,EAAE,CAACiQ,WAAhC;MAA4CvJ,WAAW,EAAC3S;IAAxD,CAApC,CAA5K;EAA4Q;;EAAAmc,yBAAyB,CAACrc,CAAD,EAAG;IAAC,MAAMC,CAAC,GAACsB,CAAC,CAAC,KAAKua,0BAAL,CAAgC;MAAC7M,gBAAgB,EAACjP;IAAlB,CAAhC,CAAD,CAAT;IAAA,MAAiEE,CAAC,GAAC,KAAK4W,yBAAxE;IAAkG,OAAO7W,CAAC,KAAGsB,CAAC,CAACrB,CAAD,CAAD,GAAKmM,EAAE,CAACiQ,QAAH,CAAa,sDAAqDhW,EAAE,CAACpG,CAAD,CAAI,gBAAxE,CAAL,GAA8FF,CAAC,CAACuc,YAAF,IAAgBlQ,EAAE,CAACiQ,QAAH,CAAY,oDAAZ,CAAjH,CAAD,EAAqLrc,CAA5L;EAA8L;;EAAAua,SAAS,GAAE;IAAC,OAAO,IAAIb,OAAJ,CAAa3Z,CAAC,IAAE;MAAC,KAAK2T,KAAL,GAAW3T,CAAC,CAAC,IAAD,CAAZ,GAAmB,KAAKgN,iBAAL,CAAuBwP,IAAvB,CAA4Bxc,CAA5B,CAAnB;IAAkD,CAAnE,CAAP;EAA6E;;EAAAyc,wBAAwB,CAACzc,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAIC,CAAC,GAAC,KAAK+O,gBAAL,IAAuB9C,EAAE,CAAC4H,KAAhC;IAAsC,OAAO1P,CAAC,CAACrE,CAAD,EAAG,KAAKuS,sBAAR,EAA+BvS,CAA/B,EAAiCE,CAAjC,CAAD,KAAuCA,CAAC,GAACiM,EAAE,CAAC4H,KAAL,EAAW1P,CAAC,CAACrE,CAAD,EAAG,KAAKuS,sBAAR,EAA+BvS,CAA/B,EAAiCE,CAAjC,CAAnD,GAAwFD,CAAC,IAAEA,CAAC,CAAC8C,CAAF,GAAI/C,CAAC,CAAC,CAAD,CAAL,EAASC,CAAC,CAAC0B,CAAF,GAAI3B,CAAC,CAAC,CAAD,CAAd,EAAkBC,CAAC,CAAC4E,CAAF,GAAI7E,CAAC,CAAC,CAAD,CAAvB,EAA2BC,CAAC,CAACgP,gBAAF,GAAmB/O,CAAhD,IAAmDD,CAAC,GAAC,IAAImM,EAAJ,CAAOpM,CAAP,EAASE,CAAT,CAA9I,EAA0JD,CAAjK;EAAmK;;EAAAyc,iBAAiB,CAAC1c,CAAD,EAAG;IAAC,IAAG,CAACA,CAAC,CAACyY,OAAN,EAAc,OAAOpM,EAAE,CAAC2G,KAAH,CAAS,mBAAT,EAA6B,sEAA7B,GAAqG,IAA5G;IAAiH,MAAM/S,CAAC,GAAC,KAAK0c,iBAAL,CAAuB3c,CAAC,CAACyY,OAAzB,CAAR;IAA0C,IAAIvY,CAAC,GAAC,IAAN;IAAA,IAAWC,CAAC,GAAC,CAAC,CAAd;;IAAgB,MAAMC,CAAC,GAACH,CAAC,IAAE;MAAC,CAACE,CAAD,IAAIoB,CAAC,CAACtB,CAAD,CAAL,IAAU,eAAcA,CAAxB,IAA2B,kBAAgBA,CAAC,CAAC2c,SAAF,EAAavN,IAAxD,IAA8DpP,CAAC,CAAC2c,SAAF,CAAYC,YAA1E,KAAyF3c,CAAC,GAACD,CAAC,CAAC2c,SAAF,CAAYC,YAAZ,CAAyBH,iBAAzB,CAA2C1c,CAA3C,CAA3F;IAA0I,CAAtJ;;IAAuJ,OAAOuB,CAAC,CAACtB,CAAD,CAAD,GAAKG,CAAC,CAACH,CAAD,CAAN,GAAU,KAAK6c,kBAAL,CAAwB9c,CAAC,CAACyY,OAA1B,EAAkC;MAACsE,YAAY,EAAC,CAAC;IAAf,CAAlC,EAAqDC,IAArD,CAA2Dhd,CAAC,IAAEI,CAAC,CAACJ,CAAD,CAA/D,EAAqE,MAAI,CAAE,CAA3E,EAA8E2Q,KAA9E,CAAqF,MAAI,CAAE,CAA3F,CAAV,EAAwG;MAAC2B,MAAM,EAAC,MAAI;QAACnS,CAAC,GAAC,CAAC,CAAH,EAAKoB,CAAC,CAACrB,CAAD,CAAD,KAAOA,CAAC,CAACoS,MAAF,IAAWpS,CAAC,GAAC,IAApB,CAAL;MAA+B;IAA5C,CAA/G;EAA6J;;EAAA+c,SAAS,CAACjd,CAAD,EAAG;IAAC,IAAGkd,KAAK,CAACC,OAAN,CAAcnd,CAAd,CAAH,EAAoB,OAAOW,CAAC,CAACX,CAAC,CAAC6O,GAAF,CAAO7O,CAAC,IAAE,KAAKid,SAAL,CAAejd,CAAf,CAAV,CAAD,CAAR;IAAwC,IAAGI,CAAC,CAACgd,YAAF,CAAepd,CAAf,CAAH,EAAqB,OAAOW,CAAC,CAACX,CAAC,CAACqd,OAAF,GAAYxO,GAAZ,CAAiB7O,CAAC,IAAE,KAAKid,SAAL,CAAejd,CAAf,CAApB,CAAD,CAAR;IAAkD,MAAMC,CAAC,GAAC,KAAK0c,iBAAL,CAAuB3c,CAAvB,CAAR;IAAkC,OAAOC,CAAC,IAAE,eAAcA,CAAjB,GAAmBA,CAAC,CAACgd,SAAF,CAAYjd,CAAZ,CAAnB,GAAkCa,CAAC,EAA1C;EAA6C;;EAAAyc,YAAY,CAACtd,CAAD,EAAG;IAAC,IAAG,CAACA,CAAJ,EAAM,OAAOqM,EAAE,CAAC2G,KAAH,CAAS,cAAT,EAAwB,wEAAxB,GAAkG,IAAzG;IAA8G,MAAM/S,CAAC,GAAC,KAAK0c,iBAAL,CAAuB3c,CAAvB,CAAR;IAAkC,IAAIE,CAAC,GAAC,IAAN;IAAA,IAAWC,CAAC,GAAC,CAAC,CAAd;;IAAgB,MAAMC,CAAC,GAACH,CAAC,IAAE;MAAC,CAACE,CAAD,IAAIoB,CAAC,CAACtB,CAAD,CAAL,IAAU8K,EAAE,CAAC9K,CAAD,CAAZ,KAAkBC,CAAC,GAACD,CAAC,CAACqd,YAAF,CAAetd,CAAf,CAApB;IAAuC,CAAnD;;IAAoD,OAAOuB,CAAC,CAACtB,CAAD,CAAD,GAAKG,CAAC,CAACH,CAAD,CAAN,GAAU,KAAK6c,kBAAL,CAAwB9c,CAAxB,EAA0B;MAAC+c,YAAY,EAAC,CAAC;IAAf,CAA1B,EAA6CC,IAA7C,CAAmDhd,CAAC,IAAEI,CAAC,CAACJ,CAAD,CAAvD,EAA6D,MAAI,CAAE,CAAnE,EAAsE2Q,KAAtE,CAA6E,MAAI,CAAE,CAAnF,CAAV,EAAgG;MAAC2B,MAAM,EAAC,MAAI;QAACnS,CAAC,GAAC,CAAC,CAAH,EAAKoB,CAAC,CAACrB,CAAD,CAAD,KAAOA,CAAC,CAACoS,MAAF,IAAWpS,CAAC,GAAC,IAApB,CAAL;MAA+B;IAA5C,CAAvG;EAAqJ;;EAAAyc,iBAAiB,CAAC3c,CAAD,EAAG;IAAC,OAAOA,CAAC,CAACwZ,KAAF,KAAU,KAAK7B,QAAf,GAAwB,KAAKlJ,YAA7B,GAA0CzO,CAAC,CAACwZ,KAAF,GAAQ,KAAKhJ,aAAL,CAAmB+M,IAAnB,CAAyBtd,CAAC,IAAEA,CAAC,CAACuZ,KAAF,KAAUxZ,CAAC,CAACwZ,KAAxC,CAAR,GAAwD,IAAzG;EAA8G;;EAAAgE,cAAc,CAACxd,CAAD,EAAG;IAACuB,CAAC,CAAC,KAAKkN,YAAN,CAAD,IAAsB,KAAKA,YAAL,CAAkB+O,cAAlB,CAAiCxd,CAAjC,CAAtB;EAA0D;;EAAwB,MAAlB8c,kBAAkB,CAAC9c,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAGD,CAAC,CAACwZ,KAAF,KAAU,IAAb,EAAkB,OAAO,MAAMnX,CAAC,CAAE,MAAI,KAAKoM,YAAX,CAAP,EAAiC,KAAKA,YAA7C;IAA0D,IAAG,CAACzO,CAAC,CAACwZ,KAAH,IAAU,CAAC,KAAK3K,GAAnB,EAAuB,MAAM,IAAItO,CAAJ,CAAM,qBAAN,CAAN;IAAmC,OAAON,CAAC,IAAEA,CAAC,CAAC8c,YAAL,IAAmB,CAAC,KAAKlO,GAAL,CAASoB,SAAT,CAAmBwN,QAAnB,CAA4Bzd,CAAC,CAACwZ,KAA9B,CAApB,GAAyD,IAAIG,OAAJ,CAAa,CAAC1Z,CAAD,EAAGC,CAAH,KAAO;MAAC,MAAMC,CAAC,GAAC,KAAK0O,GAAL,CAASoB,SAAT,CAAmBzP,EAAnB,CAAsB,QAAtB,EAAgCJ,CAAC,IAAE;QAACA,CAAC,CAACsd,KAAF,CAAQD,QAAR,CAAiBzd,CAAC,CAACwZ,KAAnB,MAA4BrZ,CAAC,CAACmS,MAAF,IAAW,KAAK+H,aAAL,CAAmBra,CAAC,CAACwZ,KAArB,EAA4BwD,IAA5B,CAAiC/c,CAAjC,EAAmCC,CAAnC,CAAvC;MAA8E,CAAlH,CAAR;IAA6H,CAAlJ,CAAzD,GAA8M,KAAKma,aAAL,CAAmBra,CAAC,CAACwZ,KAArB,CAArN;EAAiP;;EAAA9B,kCAAkC,CAAC1X,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAK0d,8BAAL,CAAoC3d,CAAC,CAACqN,OAAtC,EAA8CuQ,EAAE,CAACC,OAAjD,CAAR;IAAA,MAAkE3d,CAAC,GAAC,KAAKyd,8BAAL,CAAoC3d,CAAC,CAACwN,OAAtC,EAA8CoQ,EAAE,CAACE,OAAjD,CAApE;;IAA8H,OAAM;MAACzQ,OAAO,EAACpN,CAAC,CAAC8d,SAAX;MAAqBvQ,OAAO,EAACtN,CAAC,CAAC6d,SAA/B;MAAyCpG,QAAQ,EAAC;QAACtK,OAAO,EAACpN,CAAC,CAAC+d,WAAX;QAAuBxQ,OAAO,EAACtN,CAAC,CAAC8d;MAAjC;IAAlD,CAAN;EAAuG;;EAAAzF,0BAA0B,CAACvY,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOD,CAAC,CAACie,oBAAF,CAAuBtF,EAAvB,KAA4B1Y,CAAC,GAAC,KAAKwc,wBAAL,CAA8B9D,EAA9B,EAAiC1Y,CAAjC,CAAF,EAAsCD,CAAC,CAAC0Z,WAAF,KAAgBvP,EAAE,CAAC+T,OAAnB,IAA4B,KAAKnQ,cAAjC,KAAkD9N,CAAC,CAAC4E,CAAF,GAAIpD,CAAC,CAAC0G,EAAE,CAAC,KAAK4F,cAAN,EAAqB9N,CAArB,CAAH,EAA2B,CAA3B,CAAvD,CAAtC,EAA4HA,CAAxJ,IAA2J,IAAlK;EAAuK;;EAAAkZ,uBAAuB,CAACnZ,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC,IAAIgd,KAAJ,EAAR;IAAkB,IAAI/c,CAAC,GAAC,IAAN;;IAAW,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAC,CAAC8Z,MAAhB,EAAuB1Z,CAAC,EAAxB,EAA2B;MAAC,MAAME,CAAC,GAACN,CAAC,CAACI,CAAD,CAAT;MAAA,MAAaG,CAAC,GAACkK,EAAE,CAACnK,CAAD,EAAG,IAAH,CAAjB;MAA0B,IAAGiB,CAAC,CAAChB,CAAD,CAAD,KAAOA,CAAC,KAAG,KAAKsO,GAAL,CAAS4C,MAAb,IAAqB,UAASlR,CAAT,IAAY,sBAAoBA,CAAC,CAAC8O,IAA9D,CAAH,EAAuE;MAAM,MAAM5O,CAAC,GAAC8J,EAAE,CAACjK,CAAD,EAAG,IAAH,CAAV;MAAmB,IAAGe,CAAC,CAACZ,CAAD,CAAJ,EAAQ;;MAAS,IAAG,cAAYA,CAAC,CAAC4O,IAAjB,EAAsB;QAAC,IAAGhO,CAAC,CAAClB,CAAD,CAAD,IAAMC,CAAC,KAAGJ,CAAC,CAAC8Z,MAAF,GAAS,CAAnB,KAAuB3Z,CAAC,GAAC,IAAImN,GAAJ,EAAzB,GAAkC/L,CAAC,CAACpB,CAAD,CAAtC,EAA0C;UAAC,MAAMH,CAAC,GAAC,KAAKme,oBAAL,CAA0B1d,CAAC,CAACgY,OAA5B,CAAR;;UAA6C,IAAGtY,CAAC,CAAC0X,GAAF,CAAM7X,CAAN,CAAH,EAAY;UAASG,CAAC,CAACkQ,GAAF,CAAMrQ,CAAN;QAAS;;QAAA,IAAG,CAAC,KAAKwY,qBAAL,CAA2BvY,CAA3B,EAA6BQ,CAAC,CAACgY,OAA/B,CAAJ,EAA4C;MAAS;;MAAA,MAAM9X,CAAC,GAAC,KAAK4X,0BAAL,CAAgCjY,CAAhC,CAAR;MAAA,MAA2CO,CAAC,GAACP,CAAC,CAACiZ,qBAA/C;;MAAqErZ,CAAC,CAACsc,IAAF,CAAO,EAAC,GAAG/b,CAAJ;QAAM4Y,QAAQ,EAAC1Y,CAAf;QAAiB2Y,QAAQ,EAACzY;MAA1B,CAAP;IAAqC;;IAAA,OAAOX,CAAP;EAAS;;EAAAie,oBAAoB,CAACne,CAAD,EAAG;IAAC,IAAGA,CAAC,CAACwZ,KAAF,IAAS,mBAAkBxZ,CAAC,CAACwZ,KAAhC,EAAsC;MAAC,MAAMvZ,CAAC,GAACD,CAAC,CAACoe,UAAF,CAAape,CAAC,CAACwZ,KAAF,CAAQ6E,aAArB,CAAR;MAA4C,IAAGpe,CAAH,EAAK,OAAO,KAAID,CAAC,CAACwZ,KAAF,CAAQ8E,EAAG,IAAGre,CAAE,EAA3B;IAA6B;;IAAA,OAAO,KAAID,CAAC,CAACue,GAAI,EAAjB;EAAmB;;EAAA/F,qBAAqB,CAACxY,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC,KAAKie,oBAAL,CAA0Ble,CAA1B,CAAR;;IAAqC,OAAOoB,CAAC,CAACrB,CAAD,CAAD,IAAM,CAACqB,CAAC,CAACrB,CAAC,CAACqN,OAAH,CAAD,IAAcrN,CAAC,CAACqN,OAAF,CAAUwK,GAAV,CAAc3X,CAAd,CAAf,MAAmCmB,CAAC,CAACrB,CAAC,CAACwN,OAAH,CAAD,IAAc,CAACxN,CAAC,CAACwN,OAAF,CAAUqK,GAAV,CAAc3X,CAAd,CAAlD,CAAb;EAAiF;;EAAAyd,8BAA8B,CAAC3d,CAAD,EAAGC,CAAH,EAAKE,CAAC,GAAC;IAAC4d,SAAS,EAAC,IAAX;IAAgBC,WAAW,EAAC;EAA5B,CAAP,EAAyC;IAAC,IAAG,CAAChe,CAAJ,EAAM,OAAOG,CAAP;IAAS,IAAGH,CAAC,YAAYE,CAAhB,EAAkBse,EAAE,CAACre,CAAD,EAAG,KAAKge,oBAAL,CAA0Bne,CAA1B,CAAH,CAAF,EAAmCC,CAAC,KAAG2d,EAAE,CAACC,OAAP,KAAiBtc,CAAC,CAAC,KAAKkN,YAAN,CAAD,IAAsBzO,CAAC,CAACwZ,KAAF,KAAU,IAAhC,GAAqCiF,EAAE,CAACte,CAAD,EAAG,KAAKsO,YAAL,CAAkBmO,SAAlB,CAA4BpD,KAA5B,CAAkC8E,EAArC,CAAvC,GAAgFte,CAAC,CAACwZ,KAAF,IAASiF,EAAE,CAACte,CAAD,EAAGH,CAAC,CAACwZ,KAAF,CAAQ+E,GAAX,CAA5G,CAAnC,CAAlB,KAAuL,IAAGvd,CAAC,CAAChB,CAAD,CAAJ,EAAQ,KAAI,MAAME,CAAV,IAAeF,CAAf,EAAiBE,CAAC,KAAG,KAAKyX,QAAT,IAAmBpW,CAAC,CAAC,KAAKkN,YAAN,CAApB,GAAwCgQ,EAAE,CAACte,CAAD,EAAG,KAAKsO,YAAL,CAAkBmO,SAAlB,CAA4BpD,KAA5B,CAAkC8E,EAArC,CAA1C,GAAmFpe,CAAC,KAAG,KAAK2O,GAAL,CAAS4C,MAAb,GAAoBgN,EAAE,CAACte,CAAD,EAAGwK,EAAH,CAAtB,GAA6B,KAAKgT,8BAAL,CAAoCzd,CAApC,EAAsCD,CAAtC,EAAwCE,CAAxC,CAAhH,CAAzB,KAAwL,SAAQH,CAAR,IAAWye,EAAE,CAACte,CAAD,EAAGH,CAAC,CAACue,GAAL,CAAb;IAAuB,OAAOpe,CAAP;EAAS;;EAAAue,mBAAmB,GAAE;IAAC,KAAKrM,IAAL,CAAU,gBAAV,EAA2B,IAAIlJ,EAAJ,CAAO;MAACuE,IAAI,EAAC;IAAN,CAAP,CAA3B,GAAgD,KAAK2E,IAAL,CAAU,mBAAV,EAA8B,IAAItK,EAAJ,CAAO;MAAC2F,IAAI,EAAC;IAAN,CAAP,CAA9B,CAAhD,EAAmG,KAAKM,iBAAL,CAAuB2Q,QAAvB,CAAgC,QAAhC,EAAyC,KAAK5Q,cAA9C,CAAnG;EAAiK;;EAAA6Q,mBAAmB,GAAE;IAAC,KAAK7Q,cAAL,KAAsB,KAAKC,iBAAL,CAAuB6Q,UAAvB,CAAkC,KAAK9Q,cAAvC,GAAuD,KAAKC,iBAAL,CAAuB6D,OAAvB,EAAvD,EAAwF,KAAKQ,IAAL,CAAU,mBAAV,EAA8B,IAA9B,CAAxF,EAA4H,KAAKtE,cAAL,CAAoB8D,OAApB,EAA5H,EAA0J,KAAKQ,IAAL,CAAU,gBAAV,EAA2B,IAA3B,CAAhL;EAAkN;;EAAAyM,UAAU,GAAE;IAAC,KAAKC,qBAAL,IAA6B,KAAKhQ,KAAL,CAAWiQ,mBAAX,EAA7B,EAA8D,KAAKN,mBAAL,EAA9D,EAAyF,KAAKrM,IAAL,CAAU,kBAAV,EAA6B,IAAInJ,EAAJ,CAAO;MAACwE,IAAI,EAAC;IAAN,CAAP,CAA7B,CAAzF,EAA2I,KAAK2E,IAAL,CAAU,cAAV,EAAyB,IAAI5K,EAAJ,CAAO;MAAC+K,kBAAkB,EAAC,KAAKA,kBAAzB;MAA4CyM,eAAe,EAAC,KAAK3I,gBAAL,CAAsB4I,sBAAlF;MAAyGC,KAAK,EAAC,KAAK7I,gBAAL,CAAsB6I,KAArI;MAA2IC,iBAAiB,EAAC,KAAKrR,cAAlK;MAAiLsR,SAAS,EAAC,KAAKtQ,KAAhM;MAAsMuQ,SAAS,EAAC,KAAKnS,mBAAL,CAAyBmS,SAAzO;MAAmPC,OAAO,EAAC,KAAKxR;IAAhQ,CAAP,CAAzB,CAA3I;;IAA6b,MAAM/N,CAAC,GAAC,MAAI;MAAC,MAAMA,CAAC,GAAC,KAAK+N,cAAL,EAAqBO,MAA7B;MAAoC,IAAG,KAAKsE,YAAL,IAAmB5S,CAAtB;QAAwB,IAAGA,CAAC,IAAE,KAAK+N,cAAL,CAAoBkB,gBAA1B,EAA2C;UAAC,MAAMjP,CAAC,GAACuB,CAAC,CAAC,KAAKwM,cAAL,CAAoBO,MAArB,CAAD,GAA8BrK,CAAC,CAACU,CAAC,CAAC,KAAKoJ,cAAL,CAAoBO,MAArB,EAA4B,KAAKP,cAAL,CAAoBkB,gBAAhD,CAAF,EAAoE,KAAKA,gBAAzE,CAA/B,GAA0H,IAAlI;UAAuI1N,CAAC,CAAC,KAAKqR,YAAN,CAAD,GAAqB,KAAKyD,YAAL,CAAkBmJ,YAAlB,GAA+B,KAAK5M,YAAL,CAAkBM,YAAlB,CAA+BlT,CAA/B,CAApD,GAAsF,KAAKqW,YAAL,CAAkBmJ,YAAlB,GAA+Bxf,CAArH;QAAuH,CAA1S,MAA+S,KAAKqW,YAAL,CAAkBmJ,YAAlB,GAA+B,KAAK5M,YAApC;MAAvU,OAA6X,KAAKyD,YAAL,CAAkBmJ,YAAlB,GAA+B,IAA/B;IAAoC,CAAld;;IAAmd,KAAKpP,OAAL,CAAaC,GAAb,CAAiB,CAAC,KAAKU,eAAL,CAAqBV,GAArB,CAA0B,MAAIrI,EAAE,CAACyX,4BAAjC,EAAgEzf,CAAC,IAAE;MAACA,CAAC,IAAE,KAAKqW,YAAR,IAAsB,CAAC,KAAKG,mBAA5B,GAAgD,KAAKzF,eAAL,CAAqBkJ,UAArB,CAAgC,OAAO,kDAAP,CAAhC,EAA4F+C,IAA5F,CAAkG,CAAC;QAAC0C,yBAAyB,EAAC1f;MAA3B,CAAD,KAAiC;QAAC,CAAC,KAAKwW,mBAAN,IAA2BxO,EAAE,CAACyX,4BAA9B,KAA6D,KAAKjJ,mBAAL,GAAyB,IAAIxW,CAAJ,CAAM;UAAC0N,IAAI,EAAC;QAAN,CAAN,CAAtF;MAA0G,CAA9O,CAAhD,GAAiS1N,CAAC,IAAE,CAAC,KAAKwW,mBAAT,IAA8BxO,EAAE,CAACyX,4BAAjC,KAAgE,KAAKjJ,mBAAL,CAAyB3E,OAAzB,IAAmC,KAAK2E,mBAAL,GAAyB,IAA5H,CAAjS;IAAma,CAAve,EAAyerU,CAAze,CAAD,EAA6e,KAAK4O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKuC,YAAnC,EAAiD5S,CAAjD,EAAmDmC,CAAnD,CAA7e,EAAmiB,KAAK4O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKtC,cAAL,CAAoBO,MAAlD,EAA0DtO,CAA1D,EAA4DmC,CAA5D,CAAniB,CAAjB,EAAonB,eAApnB,GAAqoB,KAAK0O,YAAL,CAAkB8O,IAAlB,EAAroB;EAA8pB;;EAAAC,UAAU,GAAE;IAAC,KAAK7Q,KAAL,KAAa,KAAK8B,YAAL,CAAkBgP,MAAlB,IAA2B,KAAKzP,OAAL,CAAakC,MAAb,CAAoB,sBAApB,CAA3B,EAAuE,KAAKlC,OAAL,CAAakC,MAAb,CAAoB,eAApB,CAAvE,EAA4G,KAAK+D,YAAL,CAAkBxE,OAAlB,EAA5G,EAAwI,KAAKQ,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAAxI,EAAuK,KAAKiE,gBAAL,CAAsBzE,OAAtB,EAAvK,EAAuM,KAAKQ,IAAL,CAAU,kBAAV,EAA6B,IAA7B,CAAvM,EAA0O,KAAKuM,mBAAL,EAA1O,EAAqQ,KAAK7P,KAAL,CAAW+Q,IAAX,EAArQ,EAAuR,KAAKC,qBAAL,EAApS;EAAkU;;EAAAhB,qBAAqB,GAAE;IAAC,IAAG,KAAK9P,gBAAR,EAAyB;MAAC,MAAMjP,CAAC,GAAC,KAAKiP,gBAAb;MAA8B,KAAK+Q,eAAL,IAAsB,KAAKA,eAAL,CAAqB/Q,gBAArB,CAAsCyE,MAAtC,CAA6C1T,CAA7C,CAAtB,IAAuE,KAAKqS,IAAL,CAAU,iBAAV,EAA4B,IAAI/J,EAAJ,CAAO,KAAKuG,GAAZ,EAAgB7O,CAAhB,CAA5B,CAAvE;MAAuH,MAAMC,CAAC,GAAC,KAAK8O,KAAL,CAAWkR,QAAnB;MAAA,MAA4B/f,CAAC,GAAC6E,CAAC,CAAC9E,CAAD,EAAGD,CAAH,CAA/B;MAAqCE,CAAC,KAAG,KAAKqS,sBAAT,KAAkC,KAAKF,IAAL,CAAU,oBAAV,EAA+B1J,EAAE,CAACnE,MAAH,CAAU,KAAKuK,KAAL,CAAW8D,WAArB,EAAiC3S,CAAjC,CAA/B,GAAoED,CAAC,IAAE,KAAKmQ,OAAL,CAAaC,GAAb,CAAiBtQ,CAAC,CAAE,MAAI,KAAKgO,cAAL,EAAqBO,MAA3B,EAAoCtO,CAAC,IAAE;QAAC,MAAMC,CAAC,GAAC,KAAKuS,kBAAL,CAAwBvD,gBAAhC;QAAiDjP,CAAC,KAAG,MAAIA,CAAC,CAAC,CAAD,CAAL,IAAU,MAAIA,CAAC,CAAC,CAAD,CAAf,IAAoB,MAAIA,CAAC,CAAC,CAAD,CAAzB,IAA8B,MAAIA,CAAC,CAAC,CAAD,CAAtC,CAAD,IAA6CuE,CAAC,CAACvE,CAAD,EAAG,KAAK+N,cAAL,CAAoBkB,gBAAvB,EAAwCiR,EAAxC,EAA2CjgB,CAA3C,CAA9C,KAA8F,KAAKuS,kBAAL,CAAwBlE,MAAxB,GAA+B4R,EAA7H;MAAiI,CAA1N,EAA4N3d,CAA5N,CAAlB,EAAiP,sBAAjP,CAAvE,EAAgV,KAAKuV,uBAAL,IAA8B,KAAKA,uBAAL,CAA6BqI,YAA7B,CAA0CpW,EAAE,GAAC,KAAKyI,kBAAL,CAAwB4N,YAArE,CAAhZ;IAAoe,CAAxrB,MAA6rB,KAAK/N,IAAL,CAAU,iBAAV,EAA4B,IAA5B,GAAkC,KAAKA,IAAL,CAAU,oBAAV,EAA+B,IAA/B,CAAlC;EAAuE;;EAAA0N,qBAAqB,GAAE;IAAC,KAAKC,eAAL,KAAuB,KAAK5P,OAAL,CAAakC,MAAb,CAAoB,sBAApB,GAA4C,KAAKD,IAAL,CAAU,oBAAV,EAA+B,IAA/B,CAA5C,EAAiF,KAAKA,IAAL,CAAU,iBAAV,EAA4B,IAA5B,CAAxG;EAA2I;;EAAArC,gBAAgB,GAAE;IAAC,KAAK4B,YAAL,CAAkB,UAAlB;EAA8B;;EAAAnB,uBAAuB,CAACzQ,CAAC,GAAC,IAAH,EAAQ;IAACuB,CAAC,CAACvB,CAAD,CAAD,IAAMA,CAAC,CAACqP,IAAF,KAAS1N,CAAC,CAACoO,IAAjB,KAAwB,KAAKK,OAAL,CAAakC,MAAb,CAAoB,kBAApB,GAAwC,KAAK9B,aAAL,CAAmBN,OAAnB,CAA4BlQ,CAAC,IAAE;MAACA,CAAC,CAAC8R,SAAF,KAAc,KAAK1B,OAAL,CAAaC,GAAb,CAAiBtQ,CAAC,CAAE,MAAI,CAACC,CAAC,CAACgW,QAAH,EAAYhW,CAAC,CAACyP,gBAAd,CAAN,EAAwC,MAAI,KAAKO,gBAAL,EAA5C,EAAqEzN,CAArE,CAAlB,EAA0F,kBAA1F,GAA8GvC,CAAC,CAACmQ,IAAF,CAAQ,MAAI,KAAKH,gBAAL,EAAZ,EAAsC,MAAI,KAAKA,gBAAL,EAA1C,CAA5H;IAAiM,CAAjO,CAAxC,EAA4Q,KAAKA,gBAAL,EAApS;EAA6T;;EAAAqQ,wBAAwB,CAACrgB,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,CAAC,KAAKsW,OAAN,IAAe,CAAC,KAAKA,OAAL,CAAa+J,eAAhC,EAAgD,OAAOrgB,CAAP;IAAS,MAAMC,CAAC,GAACF,CAAC,CAACugB,UAAF,CAAa,IAAb,CAAR;IAA2B,OAAOrgB,CAAC,CAACsgB,YAAF,CAAevgB,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,GAAsB,KAAKsW,OAAL,CAAakK,YAAb,CAA0BzgB,CAA1B,CAAtB,EAAmDE,CAAC,CAACwgB,YAAF,CAAe,CAAf,EAAiB,CAAjB,EAAmBzgB,CAAC,CAAC0gB,KAArB,EAA2B1gB,CAAC,CAAC2gB,MAA7B,CAA1D;EAA+F;;EAAAC,UAAU,GAAE;IAAC,MAAM7gB,CAAC,GAAC;MAAC8gB,0BAA0B,EAAC,KAAKA,0BAAjC;MAA4DC,oBAAoB,EAAC,KAAKA,oBAAtF;MAA2GC,KAAK,EAAC,KAAK9R,uBAAtH;MAA8I+R,qBAAqB,EAAC,KAAK9R,4BAAzK;MAAsMjB,MAAM,EAAC,KAAKuS,YAAlN;MAA+NS,UAAU,EAAC;QAACC,aAAa,EAAC,CAACnhB,CAAD,EAAGC,CAAH,KAAO,KAAKogB,wBAAL,CAA8BrgB,CAA9B,EAAgCC,CAAhC;MAAtB;IAA1O,CAAR;IAAA,MAA6SA,CAAC,GAAC,IAAI4H,EAAJ,CAAO,KAAKkH,KAAL,CAAW8D,WAAlB,EAA+B7S,CAAC,IAAE,KAAKyV,MAAL,CAAY2L,MAAZ,CAAmBC,MAAnB,CAA0BrhB,CAA1B,CAAlC,EAAgE,IAAhE,CAA/S;;IAAqX,KAAKqS,IAAL,CAAU,yBAAV,EAAoCpS,CAApC;;IAAuC,MAAMC,CAAC,GAACI,CAAC,CAAC,KAAKghB,OAAN,CAAT;IAAA,MAAwB;MAACpQ,kBAAkB,EAAC/Q,CAApB;MAAsB4O,KAAK,EAAC3O,CAA5B;MAA8BmS,sBAAsB,EAAC5R;IAArD,IAAwD,IAAhF;IAAqF,KAAK8U,MAAL,GAAY,IAAI9L,EAAJ,CAAO;MAACoO,OAAO,EAAC/X,CAAT;MAAWuhB,SAAS,EAACrhB,CAArB;MAAuBgR,kBAAkB,EAAC/Q,CAA1C;MAA4C4O,KAAK,EAAC3O,CAAlD;MAAoD0X,uBAAuB,EAAC7X,CAA5E;MAA8EuhB,QAAQ,EAAC7gB;IAAvF,CAAP,CAAZ,EAA8G,KAAK8U,MAAL,CAAYC,UAAZ,CAAuBC,mBAAvB,CAA2C;MAACzI,UAAU,EAAC,KAAKA;IAAjB,CAA3C,CAA9G,EAAuL,KAAKuU,uBAAL,GAA6BhhB,CAAC,CAAC,KAAKgV,MAAL,CAAYC,UAAZ,CAAuBxH,MAAxB,EAA+B,kBAA/B,EAAmD,MAAI,KAAKwT,UAAL,GAAgB,IAAInhB,CAAJ,CAAM,oBAAN,CAAvE,CAArN,EAA0T,KAAK6P,OAAL,CAAaC,GAAb,CAAiB,CAAC,KAAKU,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKW,eAAL,CAAqB2Q,mBAAnD,EAAyE,MAAI,KAAKlM,MAAL,CAAYC,UAAZ,CAAuBC,mBAAvB,CAA2C;MAACgM,mBAAmB,EAAC,KAAK3Q,eAAL,CAAqB2Q;IAA1C,CAA3C,CAA7E,EAAyL1f,CAAzL,CAAD,EAA6L,KAAK8O,eAAL,CAAqBV,GAArB,CAA0B,MAAI,KAAKW,eAAL,CAAqB4Q,uBAAnD,EAA6E,MAAI,KAAKnM,MAAL,CAAYC,UAAZ,CAAuBC,mBAAvB,CAA2C;MAACiM,uBAAuB,EAAC,KAAK5Q,eAAL,CAAqB4Q;IAA9C,CAA3C,CAAjF,EAAqM3f,CAArM,CAA7L,EAAqYlC,CAAC,CAAE,MAAI,KAAK8hB,SAAX,EAAuB7hB,CAAC,IAAE,KAAKyV,MAAL,CAAYC,UAAZ,CAAuBmM,SAAvB,GAAiC7hB,CAA3D,EAA8DmC,CAA9D,CAAtY,CAAjB,EAAyd,OAAzd,CAA1T;;IAA4xB,MAAMtB,CAAC,GAAC,MAAI;MAAC,KAAK4U,MAAL,CAAYC,UAAZ,CAAuBC,mBAAvB,CAA2C;QAACmM,uBAAuB,EAAC1Z,EAAE,CAAC2Z,eAAH,CAAmB,KAAKnS,gBAAxB;MAAzB,CAA3C;IAAgH,CAA7H;;IAA8H,KAAKQ,OAAL,CAAaC,GAAb,CAAiB,KAAKU,eAAL,CAAqBV,GAArB,CAA0B,MAAI,CAAC,KAAKT,gBAAL,CAAsBoS,KAAvB,EAA6B,KAAKpS,gBAAL,CAAsBqS,SAAnD,EAA6D,KAAKrS,gBAAL,CAAsBsS,WAAnF,EAA+F,KAAKtS,gBAAL,CAAsBuS,WAArH,EAAiI,KAAKvS,gBAAL,CAAsBwS,aAAvJ,EAAqK,KAAKxS,gBAAL,CAAsByS,WAA3L,EAAuM,KAAKzS,gBAAL,CAAsB0S,gBAA7N,CAA9B,EAA8QzhB,CAA9Q,CAAjB,EAAkS,OAAlS,GAA2SA,CAAC,EAA5S,EAA+S,KAAK2R,kBAAL,IAAyB,KAAKsF,uBAAL,CAA6BqI,YAA7B,CAA0CpW,EAAE,GAAC,KAAKyI,kBAAL,CAAwB4N,YAArE,CAAxU,EAA2Z,KAAK/N,IAAL,CAAU,QAAV,EAAmB,KAAKoD,MAAL,CAAYC,UAAZ,CAAuBxH,MAA1C,CAA3Z;EAA6c;;EAAAqU,UAAU,GAAE;IAAC,KAAKlQ,IAAL,CAAU,yBAAV,EAAoC,IAApC,GAA0C,KAAKoD,MAAL,CAAY5D,OAAZ,EAA1C,EAAgE,KAAK4D,MAAL,GAAY,IAA5E,EAAiF,KAAKgM,uBAAL,CAA6BnP,MAA7B,EAAjF,EAAuH,KAAKmP,uBAAL,GAA6B,IAApJ,EAAyJ,KAAKrR,OAAL,CAAakC,MAAb,CAAoB,OAApB,CAAzJ,EAAsL,KAAKD,IAAL,CAAU,QAAV,EAAmB,IAAnB,CAAtL;EAA+M;;EAAAmQ,YAAY,CAACxiB,CAAD,EAAG;IAAC,KAAKmS,YAAL,IAAoB,KAAKpD,KAAL,CAAW4Q,IAAX,CAAgB3f,CAAhB,EAAkB,KAAKiP,gBAAvB,CAApB,EAA6D,KAAK4R,UAAL,EAA7D,EAA+E,KAAK/B,UAAL,EAA/E,EAAiG,KAAKjR,qBAAL,GAA2B,IAAI7E,EAAJ,CAAO;MAAC0E,IAAI,EAAC,IAAN;MAAWmF,WAAW,EAAC7S,CAAvB;MAAyBkR,kBAAkB,EAAC,KAAK/D,mBAAjD;MAAqEmJ,gBAAgB,EAAC,KAAKA,gBAA3F;MAA4G+I,SAAS,EAAC,KAAKtQ,KAA3H;MAAiI0T,mBAAmB,EAAC,IAAIlb,EAAJ;IAArJ,CAAP,CAA5H;EAAiS;;EAAA4K,YAAY,GAAE;IAAC,KAAKtE,qBAAL,KAA6B,KAAKA,qBAAL,CAA2B4U,mBAA3B,CAA+C5Q,OAA/C,IAAyD,KAAKhE,qBAAL,CAA2BgE,OAA3B,EAAzD,EAA8F,KAAKhE,qBAAL,GAA2B,IAAzH,EAA8H,KAAK+R,UAAL,EAA9H,EAAgJ,KAAK2C,UAAL,EAA7K;EAAgM;;EAAAG,2BAA2B,GAAE;IAAC,IAAG,KAAKjU,YAAL,IAAmB,KAAK1B,6BAA3B,EAAyD;IAAO,IAAG,MAAI,KAAK4K,QAAL,CAAcmC,MAArB,EAA4B;IAAO,KAAK1J,OAAL,CAAakC,MAAb,CAAoB,eAApB,GAAqC,KAAKvF,6BAAL,GAAmC,IAAI4V,eAAJ,EAAxE;;IAA4F,MAAM3iB,CAAC,GAAC,MAAI;MAAC,KAAK+M,6BAAL,GAAmC,IAAnC,EAAwC,KAAKiD,gBAAL,EAAxC;IAAgE,CAA7E;;IAA8E,KAAK4S,wBAAL,CAA8B,KAAK7V,6BAAL,CAAmC8V,MAAjE,EAAyE7F,IAAzE,CAA8Ehd,CAA9E,EAAgFA,CAAhF,GAAmF,KAAKgQ,gBAAL,EAAnF;EAA2G;;EAA8B,MAAxB4S,wBAAwB,CAAC5iB,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,CAAC,MAAM,OAAO,+BAAP,CAAP,EAAgD6iB,OAAxD;IAAgEjhB,CAAC,CAAC7B,CAAD,CAAD,EAAK,MAAMqC,CAAC,CAAE,MAAI,KAAK0L,cAAL,EAAqB4F,KAA3B,EAAkC3T,CAAlC,CAAZ,EAAiD,KAAKqS,IAAL,CAAU,cAAV,EAAyB,IAAIpS,CAAJ,CAAM;MAACyN,IAAI,EAAC;IAAN,CAAN,CAAzB,CAAjD;EAA8F;;EAAA0E,oBAAoB,GAAE;IAAC,KAAKrF,6BAAL,KAAqC,KAAKA,6BAAL,CAAmCgW,KAAnC,IAA2C,KAAKhW,6BAAL,GAAmC,IAAnH,GAAyH,KAAKqD,OAAL,CAAakC,MAAb,CAAoB,eAApB,CAAzH,EAA8J/Q,CAAC,CAAC,KAAKkN,YAAN,CAAD,KAAuB,KAAK2B,OAAL,CAAakC,MAAb,CAAoB,KAAK7D,YAAL,CAAkBmO,SAAlB,CAA4BpD,KAA5B,CAAkC8E,EAAtD,GAA0D,KAAK7P,YAAL,CAAkBoD,OAAlB,EAA1D,EAAsF,KAAKQ,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAA7G,CAA9J;EAA2S;;EAAA2Q,QAAQ,GAAE;IAAC,MAAMhjB,CAAC,GAACwG,EAAE,CAAC,KAAKqM,WAAN,CAAV;;IAA6B,IAAG7S,CAAC,KAAGoG,EAAE,CAACyN,MAAP,KAAgB,KAAKnH,aAAL,GAAmB,IAAnC,GAAyC,KAAK8V,YAAL,CAAkBxiB,CAAlB,CAAzC,EAA8D,KAAKqS,IAAL,CAAU,OAAV,EAAkB,CAAC,CAAnB,CAA9D,EAAoF,KAAKjC,OAAL,CAAaC,GAAb,CAAiBvO,CAAC,CAAE,MAAI,KAAK6V,QAAX,EAAqB,eAArB,EAAsC,MAAI,KAAK+K,2BAAL,EAA1C,CAAlB,EAAiG,eAAjG,CAApF,EAAsM,KAAKA,2BAAL,EAAtM,EAAyO,CAAC,KAAK7V,cAAL,CAAoBC,WAAjQ,EAA6Q;MAAC,MAAM9M,CAAC,GAAC,KAAK8S,GAAL,CAAS,uCAAT,CAAR;MAA0D9S,CAAC,KAAG,KAAK8M,WAAL,GAAiB9M,CAApB,CAAD;IAAwB;;IAAA,KAAK2N,OAAL,CAAasV,KAAb,IAAqB,KAAK5U,kBAAL,CAAwB6U,WAAxB,CAAoC,IAApC,CAArB,EAA+D,KAAKtS,YAAL,CAAkBuS,OAAlB,EAA/D;IAA2F,MAAMljB,CAAC,GAAC,KAAK+M,iBAAb;IAA+B,KAAKA,iBAAL,GAAuB,EAAvB,EAA0B/M,CAAC,CAACiQ,OAAF,CAAWlQ,CAAC,IAAEA,CAAC,CAAC,IAAD,CAAf,CAA1B;EAAkD;;EAAAojB,SAAS,GAAE;IAAC,KAAKzW,+BAAL,GAAqC,IAArC,EAA0C,KAAKiE,YAAL,CAAkByS,UAAlB,EAA1C,EAAyE,KAAKhV,kBAAL,CAAwBiV,cAAxB,EAAzE,EAAkH,KAAK3V,OAAL,CAAa4V,OAAb,EAAlH,EAAyI,KAAKnR,oBAAL,EAAzI,EAAqK,KAAKhC,OAAL,CAAakC,MAAb,CAAoB,eAApB,CAArK,EAA0M,KAAKH,YAAL,EAA1M,EAA8N,KAAKE,IAAL,CAAU,OAAV,EAAkB,CAAC,CAAnB,CAA9N;EAAoP;;EAAAvB,0BAA0B,GAAE;IAAC,IAAG,KAAK1D,oBAAL,CAA0BC,OAA1B,CAAkC6E,KAAlC,IAA0C,KAAKrD,GAAlD,EAAsD;MAAC,KAAKA,GAAL,CAAS4C,MAAT,IAAiB,KAAKrE,oBAAL,CAA0BC,OAA1B,CAAkCgD,GAAlC,CAAsC1F,EAAtC,CAAjB;;MAA2D,KAAI,MAAM3K,CAAV,IAAe,KAAK6O,GAAL,CAASoB,SAAT,CAAmBuT,KAAlC,EAAwC,sBAAoBxjB,CAAC,CAACqP,IAAtB,IAA4B,KAAKjC,oBAAL,CAA0BC,OAA1B,CAAkCgD,GAAlC,CAAsCrQ,CAAC,CAACue,GAAxC,CAA5B;IAAyE;EAAC;;EAAA5M,4BAA4B,GAAE;IAAC,IAAG,KAAKpE,sBAAL,CAA4BC,OAA5B,CAAoC0E,KAApC,IAA4C,KAAKrD,GAApD,EAAwD;MAAC,KAAKA,GAAL,CAAS4C,MAAT,IAAiB,KAAK5C,GAAL,CAAS4C,MAAT,CAAgBC,OAAhB,GAAwB,CAAzC,IAA4C,KAAKnE,sBAAL,CAA4BC,OAA5B,CAAoC6C,GAApC,CAAwC1F,EAAxC,CAA5C;;MAAwF,KAAI,MAAM3K,CAAV,IAAe,KAAK6O,GAAL,CAASoB,SAAT,CAAmBuT,KAAlC,EAAwC,sBAAoBxjB,CAAC,CAACqP,IAAtB,IAA4BrP,CAAC,CAAC0R,OAAF,GAAU,CAAtC,IAAyC,KAAKtE,oBAAL,CAA0BI,OAA1B,CAAkC6C,GAAlC,CAAsCrQ,CAAC,CAACue,GAAxC,CAAzC;IAAsF;EAAC;;EAAAkF,uBAAuB,CAACzjB,CAAD,EAAG;IAAC,OAAOqB,CAAC,CAAC,KAAKwO,SAAN,CAAD,IAAmBxO,CAAC,CAAC,KAAKyO,gBAAN,CAAD,KAA2B,KAAKA,gBAAL,GAAsB,OAAO,oCAAP,EAA6CkN,IAA7C,CAAmDhd,CAAC,KAAG,KAAK6P,SAAL,GAAe,IAAI7P,CAAC,CAAC8iB,OAAN,CAAc,IAAd,CAAf,EAAmC,KAAKjT,SAA3C,CAApD,CAAjD,GAA8J,KAAKC,gBAAL,CAAsBkN,IAAtB,CAA4B/c,CAAC,IAAEA,CAAC,CAACyjB,aAAF,CAAgB1jB,CAAhB,CAA/B,CAAjL,IAAsO,KAAK6P,SAAL,CAAe6T,aAAf,CAA6B1jB,CAA7B,CAA7O;EAA6Q;;EAAA2jB,4BAA4B,CAAC3jB,CAAD,EAAG;IAAC,IAAGuB,CAAC,CAAC,KAAKsO,SAAN,CAAJ,EAAqB;MAAC,KAAKA,SAAL,CAAe+T,gBAAf,CAAgC5jB,CAAhC,IAAmC,CAAnC,KAAuC,KAAK6P,SAAL,GAAe,IAAf,EAAoB,KAAKC,gBAAL,GAAsB,IAAjF;IAAuF;EAAC;;AAA/k3B,CAAlC;;AAAmn3B,SAAS2O,EAAT,CAAYze,CAAZ,EAAcC,CAAd,EAAgB;EAACD,CAAC,CAAC+d,SAAF,KAAc/d,CAAC,CAAC+d,SAAF,GAAY,IAAIzQ,GAAJ,EAA1B,GAAmCtN,CAAC,CAAC+d,SAAF,CAAY1N,GAAZ,CAAgBpQ,CAAhB,CAAnC;AAAsD;;AAAA,SAASue,EAAT,CAAYxe,CAAZ,EAAcC,CAAd,EAAgB;EAACD,CAAC,CAACge,WAAF,KAAgBhe,CAAC,CAACge,WAAF,GAAc,IAAI1Q,GAAJ,EAA9B,GAAuCtN,CAAC,CAACge,WAAF,CAAc3N,GAAd,CAAkBpQ,CAAlB,CAAvC;AAA4D;;AAAA,SAAS8S,EAAT,CAAY/S,CAAZ,EAAcC,CAAd,EAAgB;EAAC,OAAOsB,CAAC,CAACvB,CAAD,CAAD,IAAM+D,CAAC,CAAC/D,CAAC,CAACiP,gBAAH,EAAoBhP,CAApB,CAAP,GAA8BgE,CAAC,CAACjE,CAAD,EAAGC,CAAH,CAA/B,GAAqC,IAA5C;AAAiD;;AAAA,IAAI2d,EAAJ;AAAOrR,EAAE,CAAC8C,IAAH,GAAQ,IAAR,EAAarP,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,mBAApB,EAAwC,KAAK,CAA7C,CAAd,EAA8D7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,qBAApB,EAA0C,KAAK,CAA/C,CAA/D,EAAiH7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,QAApB,EAA6B,KAAK,CAAlC,CAAlH,EAAuJ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,cAAjC,EAAgD,KAAK,CAArD,CAAxJ,EAAgN7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,SAAjC,EAA2C,KAAK,CAAhD,CAAjN,EAAoQ7jB,CAAC,CAAC,CAACmD,CAAC,CAACS,CAAC,CAAC6B,CAAD,EAAG,UAAH,CAAF,CAAF,CAAD,EAAsB8G,EAAE,CAACsX,SAAzB,EAAmC,UAAnC,EAA8C,KAAK,CAAnD,CAArQ,EAA2T7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnJ,EAAN;EAAS4d,QAAQ,EAAC,CAAC,CAAnB;EAAqBC,OAAO,EAAC;AAA7B,CAAD,CAAF,CAAD,EAAsDxX,EAAE,CAACsX,SAAzD,EAAmE,WAAnE,EAA+E,KAAK,CAApF,CAA5T,EAAmZ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,gBAAjC,EAAkD,KAAK,CAAvD,CAApZ,EAA8c7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,mBAAjC,EAAqD,KAAK,CAA1D,CAA/c,EAA4gB7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACpP,CAAN;EAAQ8jB,OAAO,EAAC;AAAhB,CAAD,CAAF,CAAD,EAA6CxX,EAAE,CAACsX,SAAhD,EAA0D,QAA1D,EAAmE,KAAK,CAAxE,CAA7gB,EAAwlB7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACpP,CAAN;EAAQ8jB,OAAO,EAAC;AAAhB,CAAD,CAAF,CAAD,EAAoDxX,EAAE,CAACsX,SAAvD,EAAiE,eAAjE,EAAiF,KAAK,CAAtF,CAAzlB,EAAkrB7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,QAAjC,EAA0C,KAAK,CAA/C,CAAnrB,EAAquB7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACjD,EAAN;EAAS2X,OAAO,EAAC;AAAjB,CAAD,CAAF,CAAD,EAA8CxX,EAAE,CAACsX,SAAjD,EAA2D,QAA3D,EAAoE,KAAK,CAAzE,CAAtuB,EAAkzB7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnD;AAAN,CAAD,CAAF,CAAD,EAAgBK,EAAE,CAACsX,SAAnB,EAA6B,cAA7B,EAA4C,IAA5C,CAAnzB,EAAq2B7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACxI;AAAN,CAAD,CAAF,CAAD,EAAgB0F,EAAE,CAACsX,SAAnB,EAA6B,aAA7B,EAA2C,KAAK,CAAhD,CAAt2B,EAAy5B7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnD,EAAN;EAAS4X,QAAQ,EAAC,CAAC;AAAnB,CAAD,CAAF,CAAD,EAA4BvX,EAAE,CAACsX,SAA/B,EAAyC,kBAAzC,EAA4D,IAA5D,CAA15B,EAA49B7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnD,EAAN;EAAS4X,QAAQ,EAAC,CAAC;AAAnB,CAAD,CAAF,CAAD,EAA4BvX,EAAE,CAACsX,SAA/B,EAAyC,YAAzC,EAAsD,IAAtD,CAA79B,EAAyhC7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnD,EAAN;EAAS4X,QAAQ,EAAC,CAAC;AAAnB,CAAD,CAAF,CAAD,EAA4BvX,EAAE,CAACsX,SAA/B,EAAyC,uBAAzC,EAAiE,IAAjE,CAA1hC,EAAimC7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC6gB,KAAK,EAAC,IAAP;EAAY3U,IAAI,EAACvI;AAAjB,CAAD,CAAF,CAAD,EAA2ByF,EAAE,CAACsX,SAA9B,EAAwC,aAAxC,EAAsD,IAAtD,CAAlmC,EAA8pC7jB,CAAC,CAAC,CAACqD,CAAC,CAAC,aAAD,CAAF,CAAD,EAAoBkJ,EAAE,CAACsX,SAAvB,EAAiC,iBAAjC,EAAmD,IAAnD,CAA/pC,EAAwtC7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,oBAAjC,EAAsD,KAAK,CAA3D,CAAztC,EAAuxC7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnD,EAAN;EAAS6X,OAAO,EAAC;AAAjB,CAAD,CAAF,CAAD,EAA8CxX,EAAE,CAACsX,SAAjD,EAA2D,QAA3D,EAAoE,KAAK,CAAzE,CAAxxC,EAAo2C7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,QAApB,EAA6B,KAAK,CAAlC,CAAr2C,EAA04C7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC,CAAX;EAAaC,OAAO,EAAC;AAArB,CAAD,CAAF,CAAD,EAAwDxX,EAAE,CAACsX,SAA3D,EAAqE,cAArE,EAAoF,KAAK,CAAzF,CAA34C,EAAu+C7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC4gB,OAAO,EAAC;AAAT,CAAD,CAAF,CAAD,EAAuCxX,EAAE,CAACsX,SAA1C,EAAoD,SAApD,EAA8D,KAAK,CAAnE,CAAx+C,EAA8iD7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC4U,MAAN;EAAaH,QAAQ,EAAC,CAAC;AAAvB,CAAD,CAAF,CAAD,EAAgCvX,EAAE,CAACsX,SAAnC,EAA6C,aAA7C,EAA2D,KAAK,CAAhE,CAA/iD,EAAknD7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,cAAjC,EAAgD,KAAK,CAArD,CAAnnD,EAA2qD7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,qBAAjC,EAAuD,KAAK,CAA5D,CAA5qD,EAA2uD7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,YAApB,EAAiC,KAAK,CAAtC,CAA5uD,EAAqxD7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U;AAAN,CAAD,CAAF,CAAD,EAAqB3X,EAAE,CAACsX,SAAxB,EAAkC,uBAAlC,EAA0D,IAA1D,CAAtxD,EAAs1D7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,0BAApB,EAA+C,IAA/C,CAAv1D,EAA44D7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U,OAAN;EAAcJ,QAAQ,EAAC,CAAC;AAAxB,CAAD,CAAF,CAAD,EAAiCvX,EAAE,CAACsX,SAApC,EAA8C,aAA9C,EAA4D,IAA5D,CAA74D,EAA+8D7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,YAApB,EAAiC,IAAjC,CAAh9D,EAAu/D7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC4gB,OAAO,EAAC;AAAT,CAAD,CAAF,CAAD,EAAmCxX,EAAE,CAACsX,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAAx/D,EAA6jE7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,KAApB,EAA0B,KAAK,CAA/B,CAA9jE,EAAgmE7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,iBAAjC,EAAmD,KAAK,CAAxD,CAAjmE,EAA4pE7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC4gB,OAAO,EAAC;AAAT,CAAD,CAAF,CAAD,EAAuCxX,EAAE,CAACsX,SAA1C,EAAoD,SAApD,EAA8D,KAAK,CAAnE,CAA7pE,EAAmuE7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACnG,EAAN;EAAS4a,QAAQ,EAAC,CAAC;AAAnB,CAAD,CAAF,CAAD,EAA4BvX,EAAE,CAACsX,SAA/B,EAAyC,kBAAzC,EAA4D,KAAK,CAAjE,CAApuE,EAAwyE7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC5H,EAAN;EAASqc,QAAQ,EAAC,CAAC;AAAnB,CAAD,CAAF,CAAD,EAA4BvX,EAAE,CAACsX,SAA/B,EAAyC,cAAzC,EAAwD,KAAK,CAA7D,CAAzyE,EAAy2E7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,qBAApB,EAA0C,KAAK,CAA/C,CAA12E,EAA45E7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U;AAAN,CAAD,CAAF,CAAD,EAAqB3X,EAAE,CAACsX,SAAxB,EAAkC,8BAAlC,EAAiE,KAAK,CAAtE,CAA75E,EAAs+E7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACghB,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5X,EAAE,CAACsX,SAA5B,EAAsC,4BAAtC,EAAmE,KAAK,CAAxE,CAAv+E,EAAkjF7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACghB,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5X,EAAE,CAACsX,SAA5B,EAAsC,sBAAtC,EAA6D,KAAK,CAAlE,CAAnjF,EAAwnF7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACghB,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5X,EAAE,CAACsX,SAA5B,EAAsC,cAAtC,EAAqD,KAAK,CAA1D,CAAznF,EAAsrF7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACghB,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5X,EAAE,CAACsX,SAA5B,EAAsC,OAAtC,EAA8C,KAAK,CAAnD,CAAvrF,EAA6uF7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,cAAjC,EAAgD,KAAK,CAArD,CAA9uF,EAAsyF7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,cAAjC,EAAgD,KAAK,CAArD,CAAvyF,EAA+1F7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC,CAAC,KAAD,EAAO,QAAP,EAAgB,MAAhB;AAAN,CAAD,CAAF,CAAD,EAAqC9C,EAAE,CAACsX,SAAxC,EAAkD,gBAAlD,EAAmE,IAAnE,CAAh2F,EAAy6F7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC5G,EAAN;;EAASqK,GAAG,GAAE;IAAC,IAAI9S,CAAC,GAAC,KAAKgU,IAAL,CAAU,iBAAV,CAAN;;IAAmC,OAAOhU,CAAC,KAAGA,CAAC,GAAC,IAAIyI,EAAJ,EAAF,EAASR,EAAE,CAACsN,KAAH,CAAS,KAAKF,cAAd,EAA6BrV,CAA7B,CAAZ,CAAD,EAA8CA,CAArD;EAAuD;;AAAzG,CAAD,CAAF,CAAD,EAAiHuM,EAAE,CAACsX,SAApH,EAA8H,iBAA9H,EAAgJ,KAAK,CAArJ,CAA16F,EAAkkG7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,YAApB,EAAiC,IAAjC,CAAnkG,EAA0mG7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,gCAAjC,EAAkE,IAAlE,CAA3mG,EAAmrG7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,oBAAjC,EAAsD,KAAK,CAA3D,CAAprG,EAAkvG7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,yBAAjC,EAA2D,KAAK,CAAhE,CAAnvG,EAAszG7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC4U,MAAN;EAAaG,SAAS,EAAC,CAAC,OAAD,EAAS,kBAAT,CAAvB;EAAoDN,QAAQ,EAAC,CAAC;AAA9D,CAAD,CAAF,CAAD,EAAuEvX,EAAE,CAACsX,SAA1E,EAAoF,YAApF,EAAiG,IAAjG,CAAvzG,EAA85G7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC4U,MAAN;EAAaF,OAAO,EAAC;AAArB,CAAD,CAAF,CAAD,EAAiDxX,EAAE,CAACsX,SAApD,EAA8D,OAA9D,EAAsE,KAAK,CAA3E,CAA/5G,EAA6+G7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,iBAApB,EAAsC,IAAtC,CAA9+G,EAA0hH7jB,CAAC,CAAC,CAACmD,CAAC,EAAF,CAAD,EAAOoJ,EAAE,CAACsX,SAAV,EAAoB,kBAApB,EAAuC,KAAK,CAA5C,CAA3hH,EAA0kH7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U,OAAN;EAAcC,aAAa,EAAC,CAAC;AAA7B,CAAD,CAAF,CAAD,EAAsC5X,EAAE,CAACsX,SAAzC,EAAmD,yBAAnD,EAA6E,KAAK,CAAlF,CAA3kH,EAAgqH7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACghB,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5X,EAAE,CAACsX,SAA5B,EAAsC,8BAAtC,EAAqE,KAAK,CAA1E,CAAjqH,EAA8uH7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U;AAAN,CAAD,CAAF,CAAD,EAAqB3X,EAAE,CAACsX,SAAxB,EAAkC,+BAAlC,EAAkE,KAAK,CAAvE,CAA/uH,EAAyzH7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAAC2gB,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBvX,EAAE,CAACsX,SAAvB,EAAiC,MAAjC,EAAwC,KAAK,CAA7C,CAA1zH,EAA02H7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACrD;AAAN,CAAD,CAAF,CAAD,EAAgBO,EAAE,CAACsX,SAAnB,EAA6B,IAA7B,EAAkC,KAAK,CAAvC,CAA32H,EAAq5H7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC6U,OAAN;EAAcJ,QAAQ,EAAC,CAAC,CAAxB;EAA0BM,SAAS,EAAC,CAAC,uBAAD,EAAyB,sBAAzB,EAAgD,yBAAhD,EAA0E,2BAA1E,EAAsG,oCAAtG,EAA2I,8BAA3I,EAA0K,iBAA1K,EAA4L,uBAA5L,EAAoN,2BAApN,EAAgP,6BAAhP,EAA8Q,kBAA9Q,EAAiS,0BAAjS,EAA4T,8BAA5T,EAA2V,kBAA3V,EAA8W,uBAA9W,EAAsY,OAAtY,EAA8Y,YAA9Y,EAA2Z,+BAA3Z,EAA2b,0BAA3b,EAAsd,8BAAtd;AAApC,CAAD,CAAF,CAAD,EAAiiB7X,EAAE,CAACsX,SAApiB,EAA8iB,UAA9iB,EAAyjB,IAAzjB,CAAt5H,EAAq9I7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC4U,MAAN;EAAaH,QAAQ,EAAC,CAAC,CAAvB;EAAyBM,SAAS,EAAC,CAAC,UAAD;AAAnC,CAAD,CAAF,CAAD,EAAuD7X,EAAE,CAACsX,SAA1D,EAAoE,kBAApE,EAAuF,KAAK,CAA5F,CAAt9I,EAAqjJ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC,CAAC,QAAD,EAAU,OAAV;AAAN,CAAD,CAAF,CAAD,EAAgC9C,EAAE,CAACsX,SAAnC,EAA6C,aAA7C,EAA2D,IAA3D,CAAtjJ,EAAunJ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAClP,CAAN;EAAQ4jB,OAAO,EAAC;AAAhB,CAAD,CAAF,CAAD,EAAgDxX,EAAE,CAACsX,SAAnD,EAA6D,WAA7D,EAAyE,KAAK,CAA9E,CAAxnJ,EAAysJ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAAC4U,MAAN;EAAaF,OAAO,EAAC;AAArB,CAAD,CAAF,CAAD,EAAgDxX,EAAE,CAACsX,SAAnD,EAA6D,MAA7D,EAAoE,KAAK,CAAzE,CAA1sJ,EAAsxJ7jB,CAAC,CAAC,CAACmD,CAAC,CAAC;EAACkM,IAAI,EAACjH;AAAN,CAAD,CAAF,CAAD,EAAgBmE,EAAE,CAACsX,SAAnB,EAA6B,kBAA7B,EAAgD,KAAK,CAArD,CAAvxJ,EAA+0JtX,EAAE,GAACvM,CAAC,CAAC,CAACuD,CAAC,CAAC,sBAAD,CAAF,CAAD,EAA6BgJ,EAA7B,CAAn1J,EAAo3J,UAASvM,CAAT,EAAW;EAACA,CAAC,CAACA,CAAC,CAAC6d,OAAF,GAAU,CAAX,CAAD,GAAe,SAAf,EAAyB7d,CAAC,CAACA,CAAC,CAAC8d,OAAF,GAAU,CAAX,CAAD,GAAe,SAAxC;AAAkD,CAA9D,CAA+DF,EAAE,KAAGA,EAAE,GAAC,EAAN,CAAjE,CAAp3J;AAAg8J,MAAMjF,EAAE,GAACjV,CAAC,EAAV;AAAA,MAAamV,EAAE,GAAC9V,CAAC,EAAjB;AAAA,MAAoBmd,EAAE,GAACzb,CAAC,EAAxB;AAAA,MAA2B4f,EAAE,GAAC9X,EAA9B;AAAiC,SAAO8X,EAAE,IAAIvB,OAAb"},"metadata":{},"sourceType":"module"}