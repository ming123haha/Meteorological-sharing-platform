{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport r from \"../../../core/Handles.js\";\nimport { isSome as s, isNone as n } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { projectWithoutEngine as l } from \"../../../geometry/projection.js\";\nimport { fromExtent as a, empty as c, expand as p, allFinite as u, equals as y } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { isTiledLayer as d } from \"../../../layers/support/layerUtils.js\";\nimport { ViewingMode as f } from \"../../ViewingMode.js\";\nimport { WEBMERCATOR_WORLD_EXTENT as m, GEOGRAPHIC_WORLD_EXTENT as h } from \"./TerrainConst.js\";\nimport { getTiledLayerInfo as E, isProjectableRasterLayer as x } from \"./terrainUtils.js\";\nlet w = class extends t {\n  constructor(e) {\n    super(e), this._handles = new r();\n  }\n\n  initialize() {\n    this._handles.add([this.layerViews.on(\"change\", () => this.notifyChange(\"stencilEnabledExtents\"))]);\n  }\n\n  destroy() {\n    this._handles.destroy(), this._handles = null;\n  }\n\n  get layerViewsExtent() {\n    return this._computeLayerViewsExtent();\n  }\n\n  get tiledLayersExtent() {\n    return this._computeTiledLayersExtent();\n  }\n\n  get stencilEnabledExtents() {\n    return this._computeStencilEnabledExtents();\n  }\n\n  _computeStencilEnabledExtents() {\n    const e = [];\n    return this.layerViews.forEach(t => {\n      const r = t.layer;\n\n      if (\"IntegratedMeshLayer\" === r.operationalLayerType && null != this.viewSpatialReference) {\n        const t = j(r.fullExtent, this.viewSpatialReference);\n        s(t) && e.push(a(t));\n      }\n    }), e;\n  }\n\n};\n\nfunction g(e, t) {\n  return e === f.Global ? new _(t) : new L(t);\n}\n\ne([i({\n  readOnly: !0\n})], w.prototype, \"layerViewsExtent\", null), e([i({\n  readOnly: !0\n})], w.prototype, \"tiledLayersExtent\", null), e([i({\n  readOnly: !0\n})], w.prototype, \"stencilEnabledExtents\", null), e([i()], w.prototype, \"viewSpatialReference\", void 0), e([i()], w.prototype, \"tilingScheme\", void 0), e([i()], w.prototype, \"defaultTiledLayersExtent\", void 0), e([i({\n  constructOnly: !0\n})], w.prototype, \"layers\", void 0), e([i({\n  constructOnly: !0\n})], w.prototype, \"layerViews\", void 0), w = e([o(\"esri.views.3d.terrain.ExtentHelper\")], w);\n\nlet _ = class extends w {\n  _computeLayerViewsExtent() {\n    return this._globalExtent;\n  }\n\n  _computeTiledLayersExtent() {\n    return this._globalExtent;\n  }\n\n  get _globalExtent() {\n    return this.viewSpatialReference.isWebMercator ? m : h;\n  }\n\n};\n\n_ = e([o(\"esri.views.3d.terrain.ExtentHelperGlobal\")], _);\nlet L = class extends w {\n  _computeLayerViewsExtent() {\n    const e = c(),\n          t = this.viewSpatialReference;\n    this.layerViews.forEach(r => {\n      const s = r.layer;\n\n      if (r.isResolved() && (\"graphics\" !== s.type || !s.internal)) {\n        const s = j(\"fullExtentInLocalViewSpatialReference\" in r && r.fullExtentInLocalViewSpatialReference || r.layer.fullExtent, t);\n        p(e, s, e);\n      }\n    });\n\n    const r = u(e) ? e : null,\n          s = this._get(\"layerViewsExtent\");\n\n    return y(r, s) ? s : r;\n  }\n\n  _computeTiledLayersExtent() {\n    const e = this.tilingScheme;\n    if (!e) return null;\n    const t = this.viewSpatialReference,\n          r = c();\n    this.layers.forEach(i => {\n      if (i.loaded && d(i)) {\n        const o = E(i, t, f.Local);\n        if (n(o)) return;\n        const {\n          tileInfo: l,\n          fullExtent: a\n        } = o;\n        s(l) && s(a) && (x(i) || e.compatibleWith(l) && a.spatialReference.equals(e.spatialReference)) && p(r, a, r);\n      }\n    }), p(r, this.defaultTiledLayersExtent, r);\n\n    const i = u(r) ? r : null,\n          o = this._get(\"tiledLayersExtent\");\n\n    return y(i, o) ? o : i;\n  }\n\n};\n\nfunction j(e, t) {\n  return s(e) && !e.spatialReference.equals(t) ? l(e, e.spatialReference, t) : e;\n}\n\nL = e([o(\"esri.views.3d.terrain.ExtentHelperLocal\")], L);\nexport { w as ExtentHelper, g as create };","map":{"version":3,"names":["_","e","t","r","isSome","s","isNone","n","property","i","subclass","o","projectWithoutEngine","l","fromExtent","a","empty","c","expand","p","allFinite","u","equals","y","isTiledLayer","d","ViewingMode","f","WEBMERCATOR_WORLD_EXTENT","m","GEOGRAPHIC_WORLD_EXTENT","h","getTiledLayerInfo","E","isProjectableRasterLayer","x","w","constructor","_handles","initialize","add","layerViews","on","notifyChange","destroy","layerViewsExtent","_computeLayerViewsExtent","tiledLayersExtent","_computeTiledLayersExtent","stencilEnabledExtents","_computeStencilEnabledExtents","forEach","layer","operationalLayerType","viewSpatialReference","j","fullExtent","push","g","Global","L","readOnly","prototype","constructOnly","_globalExtent","isWebMercator","isResolved","type","internal","fullExtentInLocalViewSpatialReference","_get","tilingScheme","layers","loaded","Local","tileInfo","compatibleWith","spatialReference","defaultTiledLayersExtent","ExtentHelper","create"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/ExtentHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isSome as s,isNone as n}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectWithoutEngine as l}from\"../../../geometry/projection.js\";import{fromExtent as a,empty as c,expand as p,allFinite as u,equals as y}from\"../../../geometry/support/aaBoundingRect.js\";import{isTiledLayer as d}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as f}from\"../../ViewingMode.js\";import{WEBMERCATOR_WORLD_EXTENT as m,GEOGRAPHIC_WORLD_EXTENT as h}from\"./TerrainConst.js\";import{getTiledLayerInfo as E,isProjectableRasterLayer as x}from\"./terrainUtils.js\";let w=class extends t{constructor(e){super(e),this._handles=new r}initialize(){this._handles.add([this.layerViews.on(\"change\",(()=>this.notifyChange(\"stencilEnabledExtents\")))])}destroy(){this._handles.destroy(),this._handles=null}get layerViewsExtent(){return this._computeLayerViewsExtent()}get tiledLayersExtent(){return this._computeTiledLayersExtent()}get stencilEnabledExtents(){return this._computeStencilEnabledExtents()}_computeStencilEnabledExtents(){const e=[];return this.layerViews.forEach((t=>{const r=t.layer;if(\"IntegratedMeshLayer\"===r.operationalLayerType&&null!=this.viewSpatialReference){const t=j(r.fullExtent,this.viewSpatialReference);s(t)&&e.push(a(t))}})),e}};function g(e,t){return e===f.Global?new _(t):new L(t)}e([i({readOnly:!0})],w.prototype,\"layerViewsExtent\",null),e([i({readOnly:!0})],w.prototype,\"tiledLayersExtent\",null),e([i({readOnly:!0})],w.prototype,\"stencilEnabledExtents\",null),e([i()],w.prototype,\"viewSpatialReference\",void 0),e([i()],w.prototype,\"tilingScheme\",void 0),e([i()],w.prototype,\"defaultTiledLayersExtent\",void 0),e([i({constructOnly:!0})],w.prototype,\"layers\",void 0),e([i({constructOnly:!0})],w.prototype,\"layerViews\",void 0),w=e([o(\"esri.views.3d.terrain.ExtentHelper\")],w);let _=class extends w{_computeLayerViewsExtent(){return this._globalExtent}_computeTiledLayersExtent(){return this._globalExtent}get _globalExtent(){return this.viewSpatialReference.isWebMercator?m:h}};_=e([o(\"esri.views.3d.terrain.ExtentHelperGlobal\")],_);let L=class extends w{_computeLayerViewsExtent(){const e=c(),t=this.viewSpatialReference;this.layerViews.forEach((r=>{const s=r.layer;if(r.isResolved()&&(\"graphics\"!==s.type||!s.internal)){const s=j(\"fullExtentInLocalViewSpatialReference\"in r&&r.fullExtentInLocalViewSpatialReference||r.layer.fullExtent,t);p(e,s,e)}}));const r=u(e)?e:null,s=this._get(\"layerViewsExtent\");return y(r,s)?s:r}_computeTiledLayersExtent(){const e=this.tilingScheme;if(!e)return null;const t=this.viewSpatialReference,r=c();this.layers.forEach((i=>{if(i.loaded&&d(i)){const o=E(i,t,f.Local);if(n(o))return;const{tileInfo:l,fullExtent:a}=o;s(l)&&s(a)&&(x(i)||e.compatibleWith(l)&&a.spatialReference.equals(e.spatialReference))&&p(r,a,r)}})),p(r,this.defaultTiledLayersExtent,r);const i=u(r)?r:null,o=this._get(\"tiledLayersExtent\");return y(i,o)?o:i}};function j(e,t){return s(e)&&!e.spatialReference.equals(t)?l(e,e.spatialReference,t):e}L=e([o(\"esri.views.3d.terrain.ExtentHelperLocal\")],L);export{w as ExtentHelper,g as create};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,8BAAlB;AAAiD,OAAOC,CAAP,MAAa,2BAAb;AAAyC,OAAOC,CAAP,MAAa,0BAAb;AAAwC,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,wBAAnC;AAA4D,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,sDAAzB;AAAgF,OAAM,6BAAN;AAAoC,OAAM,sBAAN;AAA6B,OAAM,6CAAN;AAAoD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,sDAAzB;AAAgF,SAAOC,oBAAoB,IAAIC,CAA/B,QAAqC,iCAArC;AAAuE,SAAOC,UAAU,IAAIC,CAArB,EAAuBC,KAAK,IAAIC,CAAhC,EAAkCC,MAAM,IAAIC,CAA5C,EAA8CC,SAAS,IAAIC,CAA3D,EAA6DC,MAAM,IAAIC,CAAvE,QAA6E,6CAA7E;AAA2H,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,uCAA7B;AAAqE,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,sBAA5B;AAAmD,SAAOC,wBAAwB,IAAIC,CAAnC,EAAqCC,uBAAuB,IAAIC,CAAhE,QAAsE,mBAAtE;AAA0F,SAAOC,iBAAiB,IAAIC,CAA5B,EAA8BC,wBAAwB,IAAIC,CAA1D,QAAgE,mBAAhE;AAAoF,IAAIC,CAAC,GAAC,cAAclC,CAAd,CAAe;EAACmC,WAAW,CAACpC,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKqC,QAAL,GAAc,IAAInC,CAAJ,EAAvB;EAA6B;;EAAAoC,UAAU,GAAE;IAAC,KAAKD,QAAL,CAAcE,GAAd,CAAkB,CAAC,KAAKC,UAAL,CAAgBC,EAAhB,CAAmB,QAAnB,EAA6B,MAAI,KAAKC,YAAL,CAAkB,uBAAlB,CAAjC,CAAD,CAAlB;EAAmG;;EAAAC,OAAO,GAAE;IAAC,KAAKN,QAAL,CAAcM,OAAd,IAAwB,KAAKN,QAAL,GAAc,IAAtC;EAA2C;;EAAoB,IAAhBO,gBAAgB,GAAE;IAAC,OAAO,KAAKC,wBAAL,EAAP;EAAuC;;EAAqB,IAAjBC,iBAAiB,GAAE;IAAC,OAAO,KAAKC,yBAAL,EAAP;EAAwC;;EAAyB,IAArBC,qBAAqB,GAAE;IAAC,OAAO,KAAKC,6BAAL,EAAP;EAA4C;;EAAAA,6BAA6B,GAAE;IAAC,MAAMjD,CAAC,GAAC,EAAR;IAAW,OAAO,KAAKwC,UAAL,CAAgBU,OAAhB,CAAyBjD,CAAC,IAAE;MAAC,MAAMC,CAAC,GAACD,CAAC,CAACkD,KAAV;;MAAgB,IAAG,0BAAwBjD,CAAC,CAACkD,oBAA1B,IAAgD,QAAM,KAAKC,oBAA9D,EAAmF;QAAC,MAAMpD,CAAC,GAACqD,CAAC,CAACpD,CAAC,CAACqD,UAAH,EAAc,KAAKF,oBAAnB,CAAT;QAAkDjD,CAAC,CAACH,CAAD,CAAD,IAAMD,CAAC,CAACwD,IAAF,CAAO1C,CAAC,CAACb,CAAD,CAAR,CAAN;MAAmB;IAAC,CAAvM,GAA0MD,CAAjN;EAAmN;;AAAtpB,CAArB;;AAA6qB,SAASyD,CAAT,CAAWzD,CAAX,EAAaC,CAAb,EAAe;EAAC,OAAOD,CAAC,KAAG0B,CAAC,CAACgC,MAAN,GAAa,IAAI3D,CAAJ,CAAME,CAAN,CAAb,GAAsB,IAAI0D,CAAJ,CAAM1D,CAAN,CAA7B;AAAsC;;AAAAD,CAAC,CAAC,CAACQ,CAAC,CAAC;EAACoD,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBzB,CAAC,CAAC0B,SAAtB,EAAgC,kBAAhC,EAAmD,IAAnD,CAAD,EAA0D7D,CAAC,CAAC,CAACQ,CAAC,CAAC;EAACoD,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBzB,CAAC,CAAC0B,SAAtB,EAAgC,mBAAhC,EAAoD,IAApD,CAA3D,EAAqH7D,CAAC,CAAC,CAACQ,CAAC,CAAC;EAACoD,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBzB,CAAC,CAAC0B,SAAtB,EAAgC,uBAAhC,EAAwD,IAAxD,CAAtH,EAAoL7D,CAAC,CAAC,CAACQ,CAAC,EAAF,CAAD,EAAO2B,CAAC,CAAC0B,SAAT,EAAmB,sBAAnB,EAA0C,KAAK,CAA/C,CAArL,EAAuO7D,CAAC,CAAC,CAACQ,CAAC,EAAF,CAAD,EAAO2B,CAAC,CAAC0B,SAAT,EAAmB,cAAnB,EAAkC,KAAK,CAAvC,CAAxO,EAAkR7D,CAAC,CAAC,CAACQ,CAAC,EAAF,CAAD,EAAO2B,CAAC,CAAC0B,SAAT,EAAmB,0BAAnB,EAA8C,KAAK,CAAnD,CAAnR,EAAyU7D,CAAC,CAAC,CAACQ,CAAC,CAAC;EAACsD,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB3B,CAAC,CAAC0B,SAA3B,EAAqC,QAArC,EAA8C,KAAK,CAAnD,CAA1U,EAAgY7D,CAAC,CAAC,CAACQ,CAAC,CAAC;EAACsD,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB3B,CAAC,CAAC0B,SAA3B,EAAqC,YAArC,EAAkD,KAAK,CAAvD,CAAjY,EAA2b1B,CAAC,GAACnC,CAAC,CAAC,CAACU,CAAC,CAAC,oCAAD,CAAF,CAAD,EAA2CyB,CAA3C,CAA9b;;AAA4e,IAAIpC,CAAC,GAAC,cAAcoC,CAAd,CAAe;EAACU,wBAAwB,GAAE;IAAC,OAAO,KAAKkB,aAAZ;EAA0B;;EAAAhB,yBAAyB,GAAE;IAAC,OAAO,KAAKgB,aAAZ;EAA0B;;EAAiB,IAAbA,aAAa,GAAE;IAAC,OAAO,KAAKV,oBAAL,CAA0BW,aAA1B,GAAwCpC,CAAxC,GAA0CE,CAAjD;EAAmD;;AAAnL,CAArB;;AAA0M/B,CAAC,GAACC,CAAC,CAAC,CAACU,CAAC,CAAC,0CAAD,CAAF,CAAD,EAAiDX,CAAjD,CAAH;AAAuD,IAAI4D,CAAC,GAAC,cAAcxB,CAAd,CAAe;EAACU,wBAAwB,GAAE;IAAC,MAAM7C,CAAC,GAACgB,CAAC,EAAT;IAAA,MAAYf,CAAC,GAAC,KAAKoD,oBAAnB;IAAwC,KAAKb,UAAL,CAAgBU,OAAhB,CAAyBhD,CAAC,IAAE;MAAC,MAAME,CAAC,GAACF,CAAC,CAACiD,KAAV;;MAAgB,IAAGjD,CAAC,CAAC+D,UAAF,OAAiB,eAAa7D,CAAC,CAAC8D,IAAf,IAAqB,CAAC9D,CAAC,CAAC+D,QAAzC,CAAH,EAAsD;QAAC,MAAM/D,CAAC,GAACkD,CAAC,CAAC,2CAA0CpD,CAA1C,IAA6CA,CAAC,CAACkE,qCAA/C,IAAsFlE,CAAC,CAACiD,KAAF,CAAQI,UAA/F,EAA0GtD,CAA1G,CAAT;QAAsHiB,CAAC,CAAClB,CAAD,EAAGI,CAAH,EAAKJ,CAAL,CAAD;MAAS;IAAC,CAApO;;IAAuO,MAAME,CAAC,GAACkB,CAAC,CAACpB,CAAD,CAAD,GAAKA,CAAL,GAAO,IAAf;IAAA,MAAoBI,CAAC,GAAC,KAAKiE,IAAL,CAAU,kBAAV,CAAtB;;IAAoD,OAAO/C,CAAC,CAACpB,CAAD,EAAGE,CAAH,CAAD,GAAOA,CAAP,GAASF,CAAhB;EAAkB;;EAAA6C,yBAAyB,GAAE;IAAC,MAAM/C,CAAC,GAAC,KAAKsE,YAAb;IAA0B,IAAG,CAACtE,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAMC,CAAC,GAAC,KAAKoD,oBAAb;IAAA,MAAkCnD,CAAC,GAACc,CAAC,EAArC;IAAwC,KAAKuD,MAAL,CAAYrB,OAAZ,CAAqB1C,CAAC,IAAE;MAAC,IAAGA,CAAC,CAACgE,MAAF,IAAUhD,CAAC,CAAChB,CAAD,CAAd,EAAkB;QAAC,MAAME,CAAC,GAACsB,CAAC,CAACxB,CAAD,EAAGP,CAAH,EAAKyB,CAAC,CAAC+C,KAAP,CAAT;QAAuB,IAAGnE,CAAC,CAACI,CAAD,CAAJ,EAAQ;QAAO,MAAK;UAACgE,QAAQ,EAAC9D,CAAV;UAAY2C,UAAU,EAACzC;QAAvB,IAA0BJ,CAA/B;QAAiCN,CAAC,CAACQ,CAAD,CAAD,IAAMR,CAAC,CAACU,CAAD,CAAP,KAAaoB,CAAC,CAAC1B,CAAD,CAAD,IAAMR,CAAC,CAAC2E,cAAF,CAAiB/D,CAAjB,KAAqBE,CAAC,CAAC8D,gBAAF,CAAmBvD,MAAnB,CAA0BrB,CAAC,CAAC4E,gBAA5B,CAAxC,KAAwF1D,CAAC,CAAChB,CAAD,EAAGY,CAAH,EAAKZ,CAAL,CAAzF;MAAiG;IAAC,CAArN,GAAwNgB,CAAC,CAAChB,CAAD,EAAG,KAAK2E,wBAAR,EAAiC3E,CAAjC,CAAzN;;IAA6P,MAAMM,CAAC,GAACY,CAAC,CAAClB,CAAD,CAAD,GAAKA,CAAL,GAAO,IAAf;IAAA,MAAoBQ,CAAC,GAAC,KAAK2D,IAAL,CAAU,mBAAV,CAAtB;;IAAqD,OAAO/C,CAAC,CAACd,CAAD,EAAGE,CAAH,CAAD,GAAOA,CAAP,GAASF,CAAhB;EAAkB;;AAAryB,CAArB;;AAA4zB,SAAS8C,CAAT,CAAWtD,CAAX,EAAaC,CAAb,EAAe;EAAC,OAAOG,CAAC,CAACJ,CAAD,CAAD,IAAM,CAACA,CAAC,CAAC4E,gBAAF,CAAmBvD,MAAnB,CAA0BpB,CAA1B,CAAP,GAAoCW,CAAC,CAACZ,CAAD,EAAGA,CAAC,CAAC4E,gBAAL,EAAsB3E,CAAtB,CAArC,GAA8DD,CAArE;AAAuE;;AAAA2D,CAAC,GAAC3D,CAAC,CAAC,CAACU,CAAC,CAAC,yCAAD,CAAF,CAAD,EAAgDiD,CAAhD,CAAH;AAAsD,SAAOxB,CAAC,IAAI2C,YAAZ,EAAyBrB,CAAC,IAAIsB,MAA9B"},"metadata":{},"sourceType":"module"}