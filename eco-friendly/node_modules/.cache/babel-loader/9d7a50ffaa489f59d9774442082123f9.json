{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { clone as r } from \"../core/lang.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as t } from \"../core/accessorSupport/decorators/writer.js\";\nimport { collectArcadeFieldNames as o } from \"../layers/support/fieldUtils.js\";\nimport l from \"./Renderer.js\";\nimport { VisualVariablesMixin as a } from \"./mixins/VisualVariablesMixin.js\";\nimport { DictionaryLoader as n } from \"./support/DictionaryLoader.js\";\nvar p;\nlet c = p = class extends a(l) {\n  constructor(e) {\n    super(e), this.config = null, this.fieldMap = null, this.scaleExpression = null, this.scaleExpressionTitle = null, this.url = null, this.type = \"dictionary\";\n  }\n\n  get _loader() {\n    return new n(this.url, this.config, this.fieldMap);\n  }\n\n  writeData(e, r) {\n    e && (r.scalingExpressionInfo = {\n      expression: e,\n      returnType: \"number\"\n    });\n  }\n\n  writeVisualVariables(e, r, s, i) {\n    i?.origin || super.writeVisualVariables(e, r, s, i);\n  }\n\n  clone() {\n    return new p({\n      config: r(this.config),\n      scaleExpression: this.scaleExpression,\n      scaleExpressionTitle: this.scaleExpressionTitle,\n      fieldMap: r(this.fieldMap),\n      url: r(this.url),\n      visualVariables: r(this.visualVariables)\n    });\n  }\n\n  async getSymbolAsync(e, r) {\n    return this._loader.getSymbolAsync(e, r);\n  }\n\n  async collectRequiredFields(e, r) {\n    await this.collectVVRequiredFields(e, r), this.scaleExpression && (await o(e, r, this.scaleExpression));\n\n    for (const s in this.fieldMap) {\n      const i = this.fieldMap[s];\n      r.has(i) && e.add(i);\n    }\n  }\n\n  get arcadeRequired() {\n    return !0;\n  }\n\n  getSymbol() {\n    return null;\n  }\n\n  getSymbols() {\n    return [];\n  }\n\n  getAttributeHash() {\n    return this.visualVariables && this.visualVariables.reduce((e, r) => e + r.getAttributeHash(), \"\");\n  }\n\n  getMeshHash() {\n    return `${this.url}-${JSON.stringify(this.fieldMap)}`;\n  }\n\n  getSymbolFields() {\n    return this._loader.getSymbolFields();\n  }\n\n};\ne([s({\n  type: n\n})], c.prototype, \"_loader\", null), e([s({\n  type: Object,\n  json: {\n    read: {\n      source: \"configuration\"\n    },\n    write: {\n      target: \"configuration\"\n    }\n  }\n})], c.prototype, \"config\", void 0), e([s({\n  type: Object,\n  json: {\n    write: !0\n  }\n})], c.prototype, \"fieldMap\", void 0), e([s({\n  type: String,\n  json: {\n    read: {\n      source: \"scalingExpressionInfo.expression\"\n    },\n    write: !0\n  }\n})], c.prototype, \"scaleExpression\", void 0), e([t(\"scaleExpression\")], c.prototype, \"writeData\", null), e([s({\n  type: String,\n  json: {\n    read: {\n      source: \"scalingExpressionInfo.title\"\n    },\n    write: {\n      target: \"scalingExpressionInfo.title\",\n\n      overridePolicy(e) {\n        return {\n          enabled: !!e && !!this.scaleExpression\n        };\n      }\n\n    }\n  }\n})], c.prototype, \"scaleExpressionTitle\", void 0), e([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], c.prototype, \"url\", void 0), e([t(\"visualVariables\")], c.prototype, \"writeVisualVariables\", null), c = p = e([i(\"esri.renderers.DictionaryRenderer\")], c);\nconst u = c;\nexport { u as default };","map":{"version":3,"names":["_","e","clone","r","property","s","subclass","i","writer","t","collectArcadeFieldNames","o","l","VisualVariablesMixin","a","DictionaryLoader","n","p","c","constructor","config","fieldMap","scaleExpression","scaleExpressionTitle","url","type","_loader","writeData","scalingExpressionInfo","expression","returnType","writeVisualVariables","origin","visualVariables","getSymbolAsync","collectRequiredFields","collectVVRequiredFields","has","add","arcadeRequired","getSymbol","getSymbols","getAttributeHash","reduce","getMeshHash","JSON","stringify","getSymbolFields","prototype","Object","json","read","source","write","target","String","overridePolicy","enabled","u","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/DictionaryRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{clone as r}from\"../core/lang.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as t}from\"../core/accessorSupport/decorators/writer.js\";import{collectArcadeFieldNames as o}from\"../layers/support/fieldUtils.js\";import l from\"./Renderer.js\";import{VisualVariablesMixin as a}from\"./mixins/VisualVariablesMixin.js\";import{DictionaryLoader as n}from\"./support/DictionaryLoader.js\";var p;let c=p=class extends(a(l)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type=\"dictionary\"}get _loader(){return new n(this.url,this.config,this.fieldMap)}writeData(e,r){e&&(r.scalingExpressionInfo={expression:e,returnType:\"number\"})}writeVisualVariables(e,r,s,i){i?.origin||super.writeVisualVariables(e,r,s,i)}clone(){return new p({config:r(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:r(this.fieldMap),url:r(this.url),visualVariables:r(this.visualVariables)})}async getSymbolAsync(e,r){return this._loader.getSymbolAsync(e,r)}async collectRequiredFields(e,r){await this.collectVVRequiredFields(e,r),this.scaleExpression&&await o(e,r,this.scaleExpression);for(const s in this.fieldMap){const i=this.fieldMap[s];r.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,r)=>e+r.getAttributeHash()),\"\")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};e([s({type:n})],c.prototype,\"_loader\",null),e([s({type:Object,json:{read:{source:\"configuration\"},write:{target:\"configuration\"}}})],c.prototype,\"config\",void 0),e([s({type:Object,json:{write:!0}})],c.prototype,\"fieldMap\",void 0),e([s({type:String,json:{read:{source:\"scalingExpressionInfo.expression\"},write:!0}})],c.prototype,\"scaleExpression\",void 0),e([t(\"scaleExpression\")],c.prototype,\"writeData\",null),e([s({type:String,json:{read:{source:\"scalingExpressionInfo.title\"},write:{target:\"scalingExpressionInfo.title\",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],c.prototype,\"scaleExpressionTitle\",void 0),e([s({type:String,json:{write:!0}})],c.prototype,\"url\",void 0),e([t(\"visualVariables\")],c.prototype,\"writeVisualVariables\",null),c=p=e([i(\"esri.renderers.DictionaryRenderer\")],c);const u=c;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}