{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { s as e, l as t, g as i } from \"../../chunks/vec3.js\";\nimport { c as s } from \"../../chunks/vec3f64.js\";\nimport { FilteredFiniteDifference as n } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as r } from \"./Momentum.js\";\n\nclass c extends r {\n  constructor(e, t, i, s, n) {\n    super(e, t, i), this.sceneVelocity = s, this.direction = n;\n  }\n\n  value(e) {\n    return super.valueFromInitialVelocity(this.sceneVelocity, e);\n  }\n\n}\n\nclass h {\n  constructor(e = 300, t = 12, i = .84) {\n    this.minimumInitialVelocity = e, this.stopVelocity = t, this.friction = i, this.enabled = !0, this.time = new n(.6), this.screen = [new n(.4), new n(.4)], this.scene = [new n(.6), new n(.6), new n(.6)], this.tmpDirection = s();\n  }\n\n  add(e, t, i) {\n    if (this.enabled) {\n      if (this.time.hasLastValue) {\n        if (this.time.computeDelta(i) < .015) return;\n      }\n\n      this.screen[0].update(e[0]), this.screen[1].update(e[1]), this.scene[0].update(t[0]), this.scene[1].update(t[1]), this.scene[2].update(t[2]), this.time.update(i);\n    }\n  }\n\n  reset() {\n    this.screen[0].reset(), this.screen[1].reset(), this.scene[0].reset(), this.scene[1].reset(), this.scene[2].reset(), this.time.reset();\n  }\n\n  evaluateMomentum() {\n    if (!this.enabled || !this.screen[0].hasFilteredDelta) return null;\n    const e = this.screen[0].filteredDelta,\n          t = this.screen[1].filteredDelta,\n          i = Math.sqrt(e * e + t * t) / this.time.filteredDelta;\n    return Math.abs(i) < this.minimumInitialVelocity ? null : this.createMomentum(i, this.stopVelocity, this.friction);\n  }\n\n  createMomentum(s, n, r) {\n    e(this.tmpDirection, this.scene[0].filteredDelta, this.scene[1].filteredDelta, this.scene[2].filteredDelta);\n    const h = t(this.tmpDirection);\n    h > 0 && i(this.tmpDirection, this.tmpDirection, 1 / h);\n    const l = h / this.time.filteredDelta;\n    return new c(s, n, r, l, this.tmpDirection);\n  }\n\n}\n\nexport { c as PanPlanarMomentum, h as PanPlanarMomentumEstimator };","map":{"version":3,"names":["s","e","l","t","g","i","c","FilteredFiniteDifference","n","Momentum","r","constructor","sceneVelocity","direction","value","valueFromInitialVelocity","h","minimumInitialVelocity","stopVelocity","friction","enabled","time","screen","scene","tmpDirection","add","hasLastValue","computeDelta","update","reset","evaluateMomentum","hasFilteredDelta","filteredDelta","Math","sqrt","abs","createMomentum","PanPlanarMomentum","PanPlanarMomentumEstimator"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/navigation/PanPlanarMomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as e,l as t,g as i}from\"../../chunks/vec3.js\";import{c as s}from\"../../chunks/vec3f64.js\";import{FilteredFiniteDifference as n}from\"./FilteredFiniteDifference.js\";import{Momentum as r}from\"./Momentum.js\";class c extends r{constructor(e,t,i,s,n){super(e,t,i),this.sceneVelocity=s,this.direction=n}value(e){return super.valueFromInitialVelocity(this.sceneVelocity,e)}}class h{constructor(e=300,t=12,i=.84){this.minimumInitialVelocity=e,this.stopVelocity=t,this.friction=i,this.enabled=!0,this.time=new n(.6),this.screen=[new n(.4),new n(.4)],this.scene=[new n(.6),new n(.6),new n(.6)],this.tmpDirection=s()}add(e,t,i){if(this.enabled){if(this.time.hasLastValue){if(this.time.computeDelta(i)<.015)return}this.screen[0].update(e[0]),this.screen[1].update(e[1]),this.scene[0].update(t[0]),this.scene[1].update(t[1]),this.scene[2].update(t[2]),this.time.update(i)}}reset(){this.screen[0].reset(),this.screen[1].reset(),this.scene[0].reset(),this.scene[1].reset(),this.scene[2].reset(),this.time.reset()}evaluateMomentum(){if(!this.enabled||!this.screen[0].hasFilteredDelta)return null;const e=this.screen[0].filteredDelta,t=this.screen[1].filteredDelta,i=Math.sqrt(e*e+t*t)/this.time.filteredDelta;return Math.abs(i)<this.minimumInitialVelocity?null:this.createMomentum(i,this.stopVelocity,this.friction)}createMomentum(s,n,r){e(this.tmpDirection,this.scene[0].filteredDelta,this.scene[1].filteredDelta,this.scene[2].filteredDelta);const h=t(this.tmpDirection);h>0&&i(this.tmpDirection,this.tmpDirection,1/h);const l=h/this.time.filteredDelta;return new c(s,n,r,l,this.tmpDirection)}}export{c as PanPlanarMomentum,h as PanPlanarMomentumEstimator};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}