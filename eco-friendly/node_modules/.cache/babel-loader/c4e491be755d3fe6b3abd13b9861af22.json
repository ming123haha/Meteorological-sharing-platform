{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"./Analysis.js\";\nimport o from \"./LineOfSightAnalysisObserver.js\";\nimport r from \"./LineOfSightAnalysisTarget.js\";\nimport s from \"../core/Collection.js\";\nimport { castForReferenceSetter as i, referenceSetter as n } from \"../core/collectionUtils.js\";\nimport { isNone as p, isSome as l, applySome as a, unwrap as c } from \"../core/maybe.js\";\nimport { watch as u, syncAndInitial as m } from \"../core/reactiveUtils.js\";\nimport { property as g } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { projectOrLoad as h } from \"../geometry/projection.js\";\nimport { fromValues as f, expandWithVec3 as d, toExtent as v } from \"../geometry/support/aaBoundingBox.js\";\nimport { getGeometryEffectiveElevationMode as b } from \"../support/elevationInfoUtils.js\";\nconst j = s.ofType(r);\nlet x = class extends t {\n  constructor(e) {\n    super(e), this.type = \"line-of-sight\", this.observer = null, this.extent = null, this.nonEditableMessage = \"Assign an observer location to the analysis to allow editing.\";\n  }\n\n  initialize() {\n    this.own(u(() => this._computeExtent(), e => {\n      (p(e) || p(e.pending)) && this._set(\"extent\", l(e) ? e.extent : null);\n    }, m));\n  }\n\n  get targets() {\n    return this._get(\"targets\") || new j();\n  }\n\n  set targets(e) {\n    this._set(\"targets\", n(e, this.targets, j));\n  }\n\n  get spatialReference() {\n    return l(this.observer) && l(this.observer.position) ? this.observer.position.spatialReference : null;\n  }\n\n  get requiredPropertiesForEditing() {\n    return [a(this.observer, e => e.position)];\n  }\n\n  async waitComputeExtent() {\n    const e = this._computeExtent();\n\n    return l(e) ? c(e.pending) : null;\n  }\n\n  _computeExtent() {\n    const e = this.spatialReference;\n    if (p(this.observer) || p(this.observer.position) || p(e)) return null;\n\n    const t = e => \"absolute-height\" === b(e.position, e.elevationInfo),\n          o = this.observer.position,\n          r = f(o.x, o.y, o.z, o.x, o.y, o.z);\n\n    for (const i of this.targets) if (l(i.position)) {\n      const t = h(i.position, e);\n      if (l(t.pending)) return {\n        pending: t.pending,\n        extent: null\n      };\n\n      if (l(t.geometry)) {\n        const {\n          x: e,\n          y: o,\n          z: s\n        } = t.geometry;\n        d(r, [e, o, s]);\n      }\n    }\n\n    const s = v(r, e);\n    return t(this.observer) && this.targets.every(t) || (s.zmin = null, s.zmax = null), {\n      pending: null,\n      extent: s\n    };\n  }\n\n  clear() {\n    this.observer = null, this.targets.removeAll();\n  }\n\n};\ne([g({\n  type: [\"line-of-sight\"]\n})], x.prototype, \"type\", void 0), e([g({\n  type: o,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"observer\", void 0), e([g({\n  cast: i,\n  type: j,\n  nonNullable: !0,\n  json: {\n    read: !0,\n    write: !0\n  }\n})], x.prototype, \"targets\", null), e([g({\n  value: null,\n  readOnly: !0\n})], x.prototype, \"extent\", void 0), e([g({\n  readOnly: !0\n})], x.prototype, \"spatialReference\", null), e([g({\n  readOnly: !0\n})], x.prototype, \"requiredPropertiesForEditing\", null), e([g({\n  readOnly: !0\n})], x.prototype, \"nonEditableMessage\", void 0), x = e([y(\"esri.analysis.LineOfSightAnalysis\")], x);\nconst E = x;\nexport { E as default };","map":{"version":3,"names":["_","e","t","o","r","s","castForReferenceSetter","i","referenceSetter","n","isNone","p","isSome","l","applySome","a","unwrap","c","watch","u","syncAndInitial","m","property","g","subclass","y","projectOrLoad","h","fromValues","f","expandWithVec3","d","toExtent","v","getGeometryEffectiveElevationMode","b","j","ofType","x","constructor","type","observer","extent","nonEditableMessage","initialize","own","_computeExtent","pending","_set","targets","_get","spatialReference","position","requiredPropertiesForEditing","waitComputeExtent","elevationInfo","z","geometry","every","zmin","zmax","clear","removeAll","prototype","json","read","write","cast","nonNullable","value","readOnly","E","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/analysis/LineOfSightAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import o from\"./LineOfSightAnalysisObserver.js\";import r from\"./LineOfSightAnalysisTarget.js\";import s from\"../core/Collection.js\";import{castForReferenceSetter as i,referenceSetter as n}from\"../core/collectionUtils.js\";import{isNone as p,isSome as l,applySome as a,unwrap as c}from\"../core/maybe.js\";import{watch as u,syncAndInitial as m}from\"../core/reactiveUtils.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as h}from\"../geometry/projection.js\";import{fromValues as f,expandWithVec3 as d,toExtent as v}from\"../geometry/support/aaBoundingBox.js\";import{getGeometryEffectiveElevationMode as b}from\"../support/elevationInfoUtils.js\";const j=s.ofType(r);let x=class extends t{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null,this.nonEditableMessage=\"Assign an observer location to the analysis to allow editing.\"}initialize(){this.own(u((()=>this._computeExtent()),(e=>{(p(e)||p(e.pending))&&this._set(\"extent\",l(e)?e.extent:null)}),m))}get targets(){return this._get(\"targets\")||new j}set targets(e){this._set(\"targets\",n(e,this.targets,j))}get spatialReference(){return l(this.observer)&&l(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[a(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return l(e)?c(e.pending):null}_computeExtent(){const e=this.spatialReference;if(p(this.observer)||p(this.observer.position)||p(e))return null;const t=e=>\"absolute-height\"===b(e.position,e.elevationInfo),o=this.observer.position,r=f(o.x,o.y,o.z,o.x,o.y,o.z);for(const i of this.targets)if(l(i.position)){const t=h(i.position,e);if(l(t.pending))return{pending:t.pending,extent:null};if(l(t.geometry)){const{x:e,y:o,z:s}=t.geometry;d(r,[e,o,s])}}const s=v(r,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=null,s.zmax=null),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};e([g({type:[\"line-of-sight\"]})],x.prototype,\"type\",void 0),e([g({type:o,json:{read:!0,write:!0}})],x.prototype,\"observer\",void 0),e([g({cast:i,type:j,nonNullable:!0,json:{read:!0,write:!0}})],x.prototype,\"targets\",null),e([g({value:null,readOnly:!0})],x.prototype,\"extent\",void 0),e([g({readOnly:!0})],x.prototype,\"spatialReference\",null),e([g({readOnly:!0})],x.prototype,\"requiredPropertiesForEditing\",null),e([g({readOnly:!0})],x.prototype,\"nonEditableMessage\",void 0),x=e([y(\"esri.analysis.LineOfSightAnalysis\")],x);const E=x;export{E as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}