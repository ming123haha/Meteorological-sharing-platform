{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"./cache.js\";\nimport t from \"./FeatureSetIterator.js\";\nimport s from \"./IdSet.js\";\nimport { FeatureServiceDatabaseType as r, layerGeometryEsriConstants as a, IdState as n, convertSquareUnitsToCode as i, convertLinearUnitsToCode as l, esriFieldToJson as u, layerGeometryEsriRestConstants as h } from \"./shared.js\";\nimport { max as c, min as o, sum as d, variance as _, stdev as p, mean as f, distinct as g, count as y } from \"./stats.js\";\nimport { isPromiseLike as m } from \"../../../core/promiseUtils.js\";\nimport { WhereClause as b } from \"../../../core/sql/WhereClause.js\";\nimport { union as F, geodesicArea as S, planarArea as w, geodesicLength as I, planarLength as T } from \"../../../geometry/geometryEngineAsync.js\";\nimport P from \"../../../geometry/SpatialReference.js\";\nimport D from \"../../../layers/support/FieldsIndex.js\";\n\nclass k {\n  constructor(e) {\n    this.recentlyUsedQueries = null, this.featureSetQueryInterceptor = null, this._idstates = [], this._parent = null, this._wset = null, this._mainSetInUse = null, this._maxProcessing = 200, this._maxQuery = 500, this._totalCount = -1, this._databaseType = r.NotEvaluated, this._databaseTypeProbed = null, this.declaredRootClass = \"esri.arcade.featureset.support.FeatureSet\", this._featureCache = [], this.types = null, this.fields = null, this.geometryType = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = null, this.hasM = !1, this.hasZ = !1, this._transparent = !1, this.loaded = !1, this._loadPromise = null, this._fieldsIndex = null, e && e.lrucache && (this.recentlyUsedQueries = e.lrucache), e && e.interceptor && (this.featureSetQueryInterceptor = e.interceptor);\n  }\n\n  optimisePagingFeatureQueries(e) {\n    this._parent && this._parent.optimisePagingFeatureQueries(e);\n  }\n\n  _hasMemorySource() {\n    return !0;\n  }\n\n  prop(e, t) {\n    return void 0 === t ? this[e] : (void 0 !== this[e] && (this[e] = t), this);\n  }\n\n  end() {\n    return null !== this._parent && !0 === this._parent._transparent ? this._parent.end() : this._parent;\n  }\n\n  _ensureLoaded() {\n    return this.load();\n  }\n\n  load() {\n    return null === this._loadPromise && (this._loadPromise = this.loadImpl()), this._loadPromise;\n  }\n\n  async loadImpl() {\n    return !0 === this._parent.loaded ? (this._initialiseFeatureSet(), this) : (await this._parent.load(), this._initialiseFeatureSet(), this);\n  }\n\n  _initialiseFeatureSet() {\n    null !== this._parent ? (this.fields = this._parent.fields.slice(0), this.geometryType = this._parent.geometryType, this.objectIdField = this._parent.objectIdField, this.globalIdField = this._parent.globalIdField, this.spatialReference = this._parent.spatialReference, this.hasM = this._parent.hasM, this.hasZ = this._parent.hasZ, this.typeIdField = this._parent.typeIdField, this.types = this._parent.types) : (this.fields = [], this.typeIdField = \"\", this.objectIdField = \"\", this.globalIdField = \"\", this.spatialReference = new P({\n      wkid: 4326\n    }), this.geometryType = a.point);\n  }\n\n  getField(e, t) {\n    let s;\n    return (t = t || this.fields) && (e = e.toLowerCase(), t.some(t => (t && t.name.toLowerCase() === e && (s = t), !!s))), s;\n  }\n\n  getFieldsIndex() {\n    return null === this._fieldsIndex && (this._fieldsIndex = new D(this.fields)), this._fieldsIndex;\n  }\n\n  _maxProcessingRate() {\n    return null !== this._parent ? Math.min(this._maxProcessing, this._parent._maxProcessingRate()) : Math.min(this._maxProcessing, this._maxQueryRate());\n  }\n\n  _maxQueryRate() {\n    return null !== this._parent ? Math.max(this._maxQuery, this._parent._maxQueryRate()) : this._maxQuery;\n  }\n\n  _checkCancelled(e) {\n    if (null !== e && e.aborted) throw new Error(\"Operation has been cancelled.\");\n  }\n\n  nativeCapabilities() {\n    return this._parent.nativeCapabilities();\n  }\n\n  async _canDoAggregates(e, t, s, r, a) {\n    return null !== this._parent && this._parent._canDoAggregates(e, t, s, r, a);\n  }\n\n  async _getAggregatePagesDataSourceDefinition(e, t, s, r, a, n, i) {\n    if (null === this._parent) throw new Error(\"Should never be called\");\n    return this._parent._getAggregatePagesDataSourceDefinition(e, t, s, r, a, n, i);\n  }\n\n  async _getAgregagtePhysicalPage(e, t, s) {\n    if (null === this._parent) throw new Error(\"Should never be called\");\n    return this._parent._getAgregagtePhysicalPage(e, t, s);\n  }\n\n  async databaseType() {\n    if (this._databaseType === r.NotEvaluated) {\n      if (null !== e.applicationCache) {\n        const t = e.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());\n        if (null !== t) return t;\n      }\n\n      if (null !== this._databaseTypeProbed) return this._databaseTypeProbed;\n\n      try {\n        this._databaseTypeProbed = this._getDatabaseTypeImpl(), null !== e.applicationCache && e.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(), this._databaseTypeProbed);\n      } catch (t) {\n        throw null !== e.applicationCache && e.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()), t;\n      }\n\n      return this._databaseTypeProbed;\n    }\n\n    return this._databaseType;\n  }\n\n  async _getDatabaseTypeImpl() {\n    const e = [{\n      thetype: r.SqlServer,\n      testwhere: \"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"\n    }, {\n      thetype: r.Oracle,\n      testwhere: \"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"\n    }, {\n      thetype: r.StandardisedNoInterval,\n      testwhere: \"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"\n    }];\n\n    for (const t of e) {\n      if (!0 === (await this._runDatabaseProbe(t.testwhere))) return t.thetype;\n    }\n\n    return r.StandardisedNoInterval;\n  }\n\n  _cacheableFeatureSetSourceKey() {\n    return \"MUSTBESET\";\n  }\n\n  async _runDatabaseProbe(e) {\n    if (null !== this._parent) return this._parent._runDatabaseProbe(e);\n    throw new Error(\"Not Implemented\");\n  }\n\n  isTable() {\n    return this._parent.isTable();\n  }\n\n  _featureFromCache(e) {\n    if (void 0 !== this._featureCache[e]) return this._featureCache[e];\n  }\n\n  _isInFeatureSet(e) {\n    return n.Unknown;\n  }\n\n  _getSet(e) {\n    throw new Error(\"Not implemented in abstract class\");\n  }\n\n  async _getFeature(e, t, s) {\n    if (this._checkCancelled(s), void 0 !== this._featureFromCache(t)) return this._featureFromCache(t);\n    if (await this._getFeatures(e, t, this._maxProcessingRate(), s), this._checkCancelled(s), void 0 !== this._featureFromCache(t)) return this._featureFromCache(t);\n    throw new Error(\"Feature Not Found\");\n  }\n\n  async _getFeatureBatch(e, t) {\n    this._checkCancelled(t);\n\n    const r = new s([], e, !1, null),\n          a = [];\n    await this._getFeatures(r, -1, e.length, t), this._checkCancelled(t);\n\n    for (const s of e) void 0 !== this._featureFromCache(s) && a.push(this._featureFromCache(s));\n\n    return a;\n  }\n\n  async _getFeatures(e, t, s, r) {\n    return \"success\";\n  }\n\n  _getFilteredSet(e, t, s, r, a) {\n    throw new Error(\"Not implemented in abstract class\");\n  }\n\n  async _refineSetBlock(e, t, s) {\n    if (!0 === this._checkIfNeedToExpandCandidatePage(e, this._maxQueryRate())) return await this._expandPagedSet(e, this._maxQueryRate(), 0, 0, s), this._refineSetBlock(e, t, s);\n\n    this._checkCancelled(s);\n\n    const r = e._candidates.length;\n\n    this._refineKnowns(e, t);\n\n    let a = r - e._candidates.length;\n    if (0 === e._candidates.length) return e;\n    if (a >= t) return e;\n\n    if (await this._refineIfParentKnown(e, t - a, s), this._checkCancelled(s), this._refineKnowns(e, t - a), a = r - e._candidates.length, a < t && e._candidates.length > 0) {\n      const r = t - a,\n            n = this._prepareFetchAndRefineSet(e._candidates);\n\n      return await this._fetchAndRefineFeatures(n, n.length > r ? r : e._candidates.length, s), this._checkCancelled(s), this._refineKnowns(e, t - a), e;\n    }\n\n    return e;\n  }\n\n  _fetchAndRefineFeatures(e, t, s) {\n    return null;\n  }\n\n  _prepareFetchAndRefineSet(e) {\n    const t = [];\n\n    for (let s = 0; s < e.length; s++) this._isPhysicalFeature(e[s]) && t.push(e[s]);\n\n    return t;\n  }\n\n  _isPhysicalFeature(e) {\n    return null === this._parent || this._parent._isPhysicalFeature(e);\n  }\n\n  _refineKnowns(e, t) {\n    let s = 0,\n        r = null;\n    const a = [];\n    t = this._maxQueryRate();\n\n    for (let i = 0; i < e._candidates.length && \"GETPAGES\" !== e._candidates[i]; i++) {\n      let l = !1;\n\n      const u = this._candidateIdTransform(e._candidates[i]);\n\n      u !== e._candidates[i] && (l = !0);\n\n      const h = this._isInFeatureSet(u);\n\n      if (h === n.InFeatureSet) !0 === l ? e._known.includes(u) || (e._known.push(u), s += 1) : (e._known.push(e._candidates[i]), s += 1), null === r ? r = {\n        start: i,\n        end: i\n      } : r.end === i - 1 ? r.end = i : (a.push(r), r = {\n        start: i,\n        end: i\n      });else if (h === n.NotInFeatureSet) null === r ? r = {\n        start: i,\n        end: i\n      } : r.end === i - 1 ? r.end = i : (a.push(r), r = {\n        start: i,\n        end: i\n      }), s += 1;else if (h === n.Unknown && (s += 1, !0 === e._ordered)) break;\n      if (s >= t) break;\n    }\n\n    null !== r && a.push(r);\n\n    for (let n = a.length - 1; n >= 0; n--) e._candidates.splice(a[n].start, a[n].end - a[n].start + 1);\n  }\n\n  _refineIfParentKnown(e, t, r) {\n    const a = new s([], [], e._ordered, null);\n    return a._candidates = e._candidates.slice(0), this._parent._refineSetBlock(a, t, r);\n  }\n\n  _candidateIdTransform(e) {\n    return this._parent._candidateIdTransform(e);\n  }\n\n  _checkIfNeedToExpandKnownPage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let s = 0;\n\n    for (let r = e._lastFetchedIndex; r < e._known.length; r++) {\n      if (\"GETPAGES\" === e._known[r]) return !0;\n      if (void 0 === this._featureCache[e._known[r]] && (s += 1, s >= t)) break;\n    }\n\n    return !1;\n  }\n\n  _checkIfNeedToExpandCandidatePage(e, t) {\n    if (null === e.pagesDefinition) return !1;\n    let s = 0;\n\n    for (let r = 0; r < e._candidates.length; r++) {\n      if (\"GETPAGES\" === e._candidates[r]) return !0;\n      if (s += 1, s >= t) break;\n    }\n\n    return !1;\n  }\n\n  async _expandPagedSet(e, t, s, r, a) {\n    if (null === this._parent) throw new Error(\"Parent Paging not implemented\");\n    return this._parent._expandPagedSet(e, t, s, r, a);\n  }\n\n  async _expandPagedSetFeatureSet(e, t, s, r, a) {\n    if (e._known.length > 0 && \"GETPAGES\" === e._known[e._known.length - 1] && (r = 1), 0 === r && e._candidates.length > 0 && \"GETPAGES\" === e._candidates[e._candidates.length - 1] && (r = 2), 0 === r) return \"finished\";\n    const n = await this._getPage(e, r, a);\n    return s + n < t ? this._expandPagedSet(e, t, s + n, 0, a) : \"success\";\n  }\n\n  async _getPage(e, t, s) {\n    const r = 1 === t ? e._known : e._candidates;\n\n    if (e.pagesDefinition.internal.set.length > e.pagesDefinition.resultOffset || !0 === e.pagesDefinition.internal.fullyResolved) {\n      r.length = r.length - 1;\n      let t = 0;\n\n      for (let a = 0; a < e.pagesDefinition.resultRecordCount && !(e.pagesDefinition.resultOffset + a >= e.pagesDefinition.internal.set.length); a++) r[r.length] = e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset + a], t++;\n\n      e.pagesDefinition.resultOffset += t;\n      let s = !1;\n      return !0 === e.pagesDefinition.internal.fullyResolved && e.pagesDefinition.internal.set.length <= e.pagesDefinition.resultOffset && (s = !0), !1 === s && r.push(\"GETPAGES\"), t;\n    }\n\n    return await this._getPhysicalPage(e, t, s), this._getPage(e, t, s);\n  }\n\n  _getPhysicalPage(e, t, s) {\n    return null;\n  }\n\n  _clonePageDefinition(e) {\n    return null === this._parent ? null : this._parent._clonePageDefinition(e);\n  }\n\n  _first(e) {\n    return this.iterator(e).next();\n  }\n\n  first(e) {\n    return this._first(e);\n  }\n\n  async calculateStatistic(e, t, s, r) {\n    await this._ensureLoaded();\n    let a = await this._stat(e, t, \"\", null, null, s, r);\n    return !1 === a.calculated && (a = await this._manualStat(e, t, s, r)), a.result;\n  }\n\n  async _manualStat(e, t, s, r) {\n    let a = null;\n\n    switch (e.toLowerCase()) {\n      case \"count\":\n        return a = await y(this, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"distinct\":\n        return a = await g(this, t, s), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"avg\":\n      case \"mean\":\n        return a = await f(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"stdev\":\n        return a = await p(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"variance\":\n        return a = await _(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"sum\":\n        return a = await d(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"min\":\n        return a = await o(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      case \"max\":\n        return a = await c(this, t, r), {\n          calculated: !0,\n          result: a\n        };\n\n      default:\n        return {\n          calculated: !0,\n          result: 0\n        };\n    }\n  }\n\n  async _stat(e, t, s, r, a, n, i) {\n    const l = await this._parent._stat(e, t, s, r, a, n, i);\n    return !1 === l.calculated ? null === a && \"\" === s && null === r ? this._manualStat(e, t, n, i) : {\n      calculated: !1\n    } : l;\n  }\n\n  _unionAllGeomSelf(e) {\n    const t = this.iterator(this._defaultTracker(e)),\n          s = [];\n    return new Promise((e, r) => {\n      this._unionShapeInBatches(s, t, e, r);\n    });\n  }\n\n  _unionAllGeom(e) {\n    return new Promise((t, s) => {\n      const r = this.iterator(this._defaultTracker(e)),\n            a = [];\n\n      this._unionShapeInBatches(a, r, t, s);\n    });\n  }\n\n  _unionShapeInBatches(e, t, s, r) {\n    t.next().then(a => {\n      try {\n        null !== a && null !== a.geometry && e.push(a.geometry), e.length > 30 || null === a && e.length > 1 ? F(e).then(n => {\n          try {\n            null === a ? s(n) : (e = [n], this._unionShapeInBatches(e, t, s, r));\n          } catch (i) {\n            r(i);\n          }\n        }, r) : null === a ? 1 === e.length ? s(e[0]) : s(null) : this._unionShapeInBatches(e, t, s, r);\n      } catch (n) {\n        r(n);\n      }\n    }, r);\n  }\n\n  iterator(e) {\n    return new t(this, e);\n  }\n\n  intersection(e, t = !1) {\n    return k._featuresetFunctions.intersection.bind(this)(e, t);\n  }\n\n  difference(e, t = !1, s = !0) {\n    return k._featuresetFunctions.difference.bind(this)(e, t, s);\n  }\n\n  symmetricDifference(e, t = !1, s = !0) {\n    return k._featuresetFunctions.symmetricDifference.bind(this)(e, t, s);\n  }\n\n  morphShape(e, t, s = \"unknown\", r = null) {\n    return k._featuresetFunctions.morphShape.bind(this)(e, t, s, r);\n  }\n\n  morphShapeAndAttributes(e, t, s = \"unknown\") {\n    return k._featuresetFunctions.morphShapeAndAttributes.bind(this)(e, t, s);\n  }\n\n  union(e, t = !1) {\n    return k._featuresetFunctions.union.bind(this)(e, t);\n  }\n\n  intersects(e) {\n    return k._featuresetFunctions.intersects.bind(this)(e);\n  }\n\n  envelopeIntersects(e) {\n    return k._featuresetFunctions.envelopeIntersects.bind(this)(e);\n  }\n\n  contains(e) {\n    return k._featuresetFunctions.contains.bind(this)(e);\n  }\n\n  overlaps(e) {\n    return k._featuresetFunctions.overlaps.bind(this)(e);\n  }\n\n  relate(e, t) {\n    return k._featuresetFunctions.relate.bind(this)(e, t);\n  }\n\n  within(e) {\n    return k._featuresetFunctions.within.bind(this)(e);\n  }\n\n  touches(e) {\n    return k._featuresetFunctions.touches.bind(this)(e);\n  }\n\n  top(e) {\n    return k._featuresetFunctions.top.bind(this)(e);\n  }\n\n  crosses(e) {\n    return k._featuresetFunctions.crosses.bind(this)(e);\n  }\n\n  buffer(e, t, s, r = !0) {\n    return k._featuresetFunctions.buffer.bind(this)(e, t, s, r);\n  }\n\n  filter(e, t = null) {\n    return k._featuresetFunctions.filter.bind(this)(e, t);\n  }\n\n  orderBy(e) {\n    return k._featuresetFunctions.orderBy.bind(this)(e);\n  }\n\n  dissolve(e, t) {\n    return k._featuresetFunctions.dissolve.bind(this)(e, t);\n  }\n\n  groupby(e, t) {\n    return k._featuresetFunctions.groupby.bind(this)(e, t);\n  }\n\n  reduce(e, t = null, s) {\n    return new Promise((r, a) => {\n      this._reduceImpl(this.iterator(this._defaultTracker(s)), e, t, 0, r, a, 0);\n    });\n  }\n\n  _reduceImpl(e, t, s, r, a, n, i) {\n    try {\n      if (++i > 1e3) return void setTimeout(() => {\n        i = 0, this._reduceImpl(e, t, s, r, a, n, i);\n      });\n      e.next().then(l => {\n        try {\n          if (null === l) a(s);else {\n            const u = t(s, l, r, this);\n            m(u) ? u.then(s => {\n              this._reduceImpl(e, t, s, r + 1, a, n, i);\n            }, n) : this._reduceImpl(e, t, u, r + 1, a, n, i);\n          }\n        } catch (u) {\n          n(u);\n        }\n      }, n);\n    } catch (l) {\n      n(l);\n    }\n  }\n\n  removeField(e) {\n    return k._featuresetFunctions.removeField.bind(this)(e);\n  }\n\n  addField(e, t, s = null) {\n    return k._featuresetFunctions.addField.bind(this)(e, t, s);\n  }\n\n  sumArea(e, t = !1, s) {\n    const r = i(e);\n    return this.reduce((e, s) => null === s.geometry ? 0 : t ? S(s.geometry, r).then(t => e + t) : w(s.geometry, r).then(t => e + t), 0, s);\n  }\n\n  sumLength(e, t = !1, s) {\n    const r = l(e);\n    return this.reduce((e, s) => null === s.geometry ? 0 : t ? I(s.geometry, r).then(t => e + t) : T(s.geometry, r).then(t => e + t), 0, s);\n  }\n\n  _substituteVars(e, t) {\n    if (null !== t) {\n      const s = {};\n\n      for (const e in t) s[e.toLowerCase()] = t[e];\n\n      e.parameters = s;\n    }\n  }\n\n  async distinct(e, t = 1e3, s = null, r) {\n    await this.load();\n    const a = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(a, s), this.calculateStatistic(\"distinct\", a, t, this._defaultTracker(r));\n  }\n\n  async min(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"min\", r, -1, this._defaultTracker(s));\n  }\n\n  async max(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"max\", r, -1, this._defaultTracker(s));\n  }\n\n  async avg(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"avg\", r, -1, this._defaultTracker(s));\n  }\n\n  async sum(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"sum\", r, -1, this._defaultTracker(s));\n  }\n\n  async stdev(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"stdev\", r, -1, this._defaultTracker(s));\n  }\n\n  async variance(e, t = null, s) {\n    await this.load();\n    const r = b.create(e, this.getFieldsIndex());\n    return this._substituteVars(r, t), this.calculateStatistic(\"variance\", r, -1, this._defaultTracker(s));\n  }\n\n  async count(e) {\n    return await this.load(), this.calculateStatistic(\"count\", b.create(\"1\", this.getFieldsIndex()), -1, this._defaultTracker(e));\n  }\n\n  _defaultTracker(e) {\n    return e || {\n      aborted: !1\n    };\n  }\n\n  forEach(e, t) {\n    return new Promise((s, r) => {\n      this._forEachImpl(this.iterator(this._defaultTracker(t)), e, this, s, r, 0);\n    });\n  }\n\n  _forEachImpl(e, t, s, r, a, n) {\n    try {\n      if (++n > 1e3) return void setTimeout(() => {\n        n = 0, this._forEachImpl(e, t, s, r, a, n);\n      }, 0);\n      e.next().then(i => {\n        try {\n          if (null === i) r(s);else {\n            const l = t(i);\n            null == l ? this._forEachImpl(e, t, s, r, a, n) : m(l) ? l.then(() => {\n              try {\n                this._forEachImpl(e, t, s, r, a, n);\n              } catch (i) {\n                a(i);\n              }\n            }, a) : this._forEachImpl(e, t, s, r, a, n);\n          }\n        } catch (l) {\n          a(l);\n        }\n      }, a);\n    } catch (i) {\n      a(i);\n    }\n  }\n\n  convertToJSON(e) {\n    const t = {\n      layerDefinition: {\n        geometryType: this.geometryType,\n        fields: []\n      },\n      featureSet: {\n        features: [],\n        geometryType: this.geometryType\n      }\n    };\n\n    for (let s = 0; s < this.fields.length; s++) t.layerDefinition.fields.push(u(this.fields[s]));\n\n    return this.reduce((e, s) => {\n      const r = {\n        geometry: s.geometry && s.geometry.toJSON(),\n        attributes: {}\n      };\n\n      for (const t in s.attributes) r.attributes[t] = s.attributes[t];\n\n      return t.featureSet.features.push(r), 1;\n    }, 0, e).then(() => t);\n  }\n\n  castToText() {\n    return \"object, FeatureSet\";\n  }\n\n  queryAttachments(e, t, s, r, a) {\n    return this._parent.queryAttachments(e, t, s, r, a);\n  }\n\n  serviceUrl() {\n    return this._parent.serviceUrl();\n  }\n\n  subtypes() {\n    return this.typeIdField ? {\n      subtypeField: this.typeIdField,\n      subtypes: this.types ? this.types.map(e => ({\n        name: e.name,\n        code: e.id\n      })) : []\n    } : null;\n  }\n\n  relationshipMetaData() {\n    return this._parent.relationshipMetaData();\n  }\n\n  get gdbVersion() {\n    return this._parent ? this._parent.gdbVersion : \"\";\n  }\n\n  schema() {\n    const e = [];\n\n    for (const t of this.fields) e.push(u(t));\n\n    return {\n      objectIdField: this.objectIdField,\n      globalIdField: this.globalIdField,\n      geometryType: void 0 === h[this.geometryType] ? \"\" : h[this.geometryType],\n      fields: e\n    };\n  }\n\n  async convertToText(e, t) {\n    if (\"schema\" === e) return await this._ensureLoaded(), JSON.stringify(this.schema());\n\n    if (\"featureset\" === e) {\n      await this._ensureLoaded();\n      const e = [];\n      await this.reduce((t, s) => {\n        const r = {\n          geometry: s.geometry ? s.geometry.toJSON() : null,\n          attributes: s.attributes\n        };\n        return null !== r.geometry && r.geometry.spatialReference && delete r.geometry.spatialReference, e.push(r), 1;\n      }, 0, t);\n      const s = this.schema();\n      return s.features = e, s.spatialReference = this.spatialReference.toJSON(), JSON.stringify(s);\n    }\n\n    return this.castToText();\n  }\n\n  getFeatureByObjectId(e, t) {\n    return this._parent.getFeatureByObjectId(e, t);\n  }\n\n  getOwningSystemUrl() {\n    return this._parent.getOwningSystemUrl();\n  }\n\n  getIdentityUser() {\n    return this._parent.getIdentityUser();\n  }\n\n  getRootFeatureSet() {\n    return null !== this._parent ? this._parent.getRootFeatureSet() : this;\n  }\n\n  getDataSourceFeatureSet() {\n    return null !== this._parent ? this._parent.getDataSourceFeatureSet() : this;\n  }\n\n  castAsJson(e = null) {\n    return \"keeptype\" === e?.featureset ? this : \"none\" === e?.featureset ? null : {\n      type: \"FeatureSet\"\n    };\n  }\n\n  async castAsJsonAsync(e = null, t = null) {\n    if (\"keeptype\" === t?.featureset) return this;\n    if (\"schema\" === t?.featureset) return await this._ensureLoaded(), JSON.parse(JSON.stringify(this.schema()));\n    if (\"none\" === t?.featureset) return null;\n    await this._ensureLoaded();\n    const s = [];\n    await this.reduce((e, r) => {\n      const a = {\n        geometry: r.geometry ? !0 === t?.keepGeometryType ? r.geometry : r.geometry.toJSON() : null,\n        attributes: r.attributes\n      };\n      return null !== a.geometry && a.geometry.spatialReference && !0 !== t?.keepGeometryType && delete a.geometry.spatialReference, s.push(a), 1;\n    }, 0, e);\n    const r = this.schema();\n    return r.features = s, r.spatialReference = !0 === t?.keepGeometryType ? this.spatialReference : this.spatialReference.toJSON(), r;\n  }\n\n}\n\nk._featuresetFunctions = {};\nexport { k as default };","map":{"version":3,"names":["e","t","s","FeatureServiceDatabaseType","r","layerGeometryEsriConstants","a","IdState","n","convertSquareUnitsToCode","i","convertLinearUnitsToCode","l","esriFieldToJson","u","layerGeometryEsriRestConstants","h","max","c","min","o","sum","d","variance","_","stdev","p","mean","f","distinct","g","count","y","isPromiseLike","m","WhereClause","b","union","F","geodesicArea","S","planarArea","w","geodesicLength","I","planarLength","T","P","D","k","constructor","recentlyUsedQueries","featureSetQueryInterceptor","_idstates","_parent","_wset","_mainSetInUse","_maxProcessing","_maxQuery","_totalCount","_databaseType","NotEvaluated","_databaseTypeProbed","declaredRootClass","_featureCache","types","fields","geometryType","objectIdField","globalIdField","spatialReference","hasM","hasZ","_transparent","loaded","_loadPromise","_fieldsIndex","lrucache","interceptor","optimisePagingFeatureQueries","_hasMemorySource","prop","end","_ensureLoaded","load","loadImpl","_initialiseFeatureSet","slice","typeIdField","wkid","point","getField","toLowerCase","some","name","getFieldsIndex","_maxProcessingRate","Math","_maxQueryRate","_checkCancelled","aborted","Error","nativeCapabilities","_canDoAggregates","_getAggregatePagesDataSourceDefinition","_getAgregagtePhysicalPage","databaseType","applicationCache","getDatabaseType","_cacheableFeatureSetSourceKey","_getDatabaseTypeImpl","setDatabaseType","clearDatabaseType","thetype","SqlServer","testwhere","Oracle","StandardisedNoInterval","_runDatabaseProbe","isTable","_featureFromCache","_isInFeatureSet","Unknown","_getSet","_getFeature","_getFeatures","_getFeatureBatch","length","push","_getFilteredSet","_refineSetBlock","_checkIfNeedToExpandCandidatePage","_expandPagedSet","_candidates","_refineKnowns","_refineIfParentKnown","_prepareFetchAndRefineSet","_fetchAndRefineFeatures","_isPhysicalFeature","_candidateIdTransform","InFeatureSet","_known","includes","start","NotInFeatureSet","_ordered","splice","_checkIfNeedToExpandKnownPage","pagesDefinition","_lastFetchedIndex","_expandPagedSetFeatureSet","_getPage","internal","set","resultOffset","fullyResolved","resultRecordCount","_getPhysicalPage","_clonePageDefinition","_first","iterator","next","first","calculateStatistic","_stat","calculated","_manualStat","result","_unionAllGeomSelf","_defaultTracker","Promise","_unionShapeInBatches","_unionAllGeom","then","geometry","intersection","_featuresetFunctions","bind","difference","symmetricDifference","morphShape","morphShapeAndAttributes","intersects","envelopeIntersects","contains","overlaps","relate","within","touches","top","crosses","buffer","filter","orderBy","dissolve","groupby","reduce","_reduceImpl","setTimeout","removeField","addField","sumArea","sumLength","_substituteVars","parameters","create","avg","forEach","_forEachImpl","convertToJSON","layerDefinition","featureSet","features","toJSON","attributes","castToText","queryAttachments","serviceUrl","subtypes","subtypeField","map","code","id","relationshipMetaData","gdbVersion","schema","convertToText","JSON","stringify","getFeatureByObjectId","getOwningSystemUrl","getIdentityUser","getRootFeatureSet","getDataSourceFeatureSet","castAsJson","featureset","type","castAsJsonAsync","parse","keepGeometryType","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"./cache.js\";import t from\"./FeatureSetIterator.js\";import s from\"./IdSet.js\";import{FeatureServiceDatabaseType as r,layerGeometryEsriConstants as a,IdState as n,convertSquareUnitsToCode as i,convertLinearUnitsToCode as l,esriFieldToJson as u,layerGeometryEsriRestConstants as h}from\"./shared.js\";import{max as c,min as o,sum as d,variance as _,stdev as p,mean as f,distinct as g,count as y}from\"./stats.js\";import{isPromiseLike as m}from\"../../../core/promiseUtils.js\";import{WhereClause as b}from\"../../../core/sql/WhereClause.js\";import{union as F,geodesicArea as S,planarArea as w,geodesicLength as I,planarLength as T}from\"../../../geometry/geometryEngineAsync.js\";import P from\"../../../geometry/SpatialReference.js\";import D from\"../../../layers/support/FieldsIndex.js\";class k{constructor(e){this.recentlyUsedQueries=null,this.featureSetQueryInterceptor=null,this._idstates=[],this._parent=null,this._wset=null,this._mainSetInUse=null,this._maxProcessing=200,this._maxQuery=500,this._totalCount=-1,this._databaseType=r.NotEvaluated,this._databaseTypeProbed=null,this.declaredRootClass=\"esri.arcade.featureset.support.FeatureSet\",this._featureCache=[],this.types=null,this.fields=null,this.geometryType=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=null,this.hasM=!1,this.hasZ=!1,this._transparent=!1,this.loaded=!1,this._loadPromise=null,this._fieldsIndex=null,e&&e.lrucache&&(this.recentlyUsedQueries=e.lrucache),e&&e.interceptor&&(this.featureSetQueryInterceptor=e.interceptor)}optimisePagingFeatureQueries(e){this._parent&&this._parent.optimisePagingFeatureQueries(e)}_hasMemorySource(){return!0}prop(e,t){return void 0===t?this[e]:(void 0!==this[e]&&(this[e]=t),this)}end(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent}_ensureLoaded(){return this.load()}load(){return null===this._loadPromise&&(this._loadPromise=this.loadImpl()),this._loadPromise}async loadImpl(){return!0===this._parent.loaded?(this._initialiseFeatureSet(),this):(await this._parent.load(),this._initialiseFeatureSet(),this)}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField=\"\",this.objectIdField=\"\",this.globalIdField=\"\",this.spatialReference=new P({wkid:4326}),this.geometryType=a.point)}getField(e,t){let s;return(t=t||this.fields)&&(e=e.toLowerCase(),t.some((t=>(t&&t.name.toLowerCase()===e&&(s=t),!!s)))),s}getFieldsIndex(){return null===this._fieldsIndex&&(this._fieldsIndex=new D(this.fields)),this._fieldsIndex}_maxProcessingRate(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())}_maxQueryRate(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery}_checkCancelled(e){if(null!==e&&e.aborted)throw new Error(\"Operation has been cancelled.\")}nativeCapabilities(){return this._parent.nativeCapabilities()}async _canDoAggregates(e,t,s,r,a){return null!==this._parent&&this._parent._canDoAggregates(e,t,s,r,a)}async _getAggregatePagesDataSourceDefinition(e,t,s,r,a,n,i){if(null===this._parent)throw new Error(\"Should never be called\");return this._parent._getAggregatePagesDataSourceDefinition(e,t,s,r,a,n,i)}async _getAgregagtePhysicalPage(e,t,s){if(null===this._parent)throw new Error(\"Should never be called\");return this._parent._getAgregagtePhysicalPage(e,t,s)}async databaseType(){if(this._databaseType===r.NotEvaluated){if(null!==e.applicationCache){const t=e.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==t)return t}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;try{this._databaseTypeProbed=this._getDatabaseTypeImpl(),null!==e.applicationCache&&e.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),this._databaseTypeProbed)}catch(t){throw null!==e.applicationCache&&e.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()),t}return this._databaseTypeProbed}return this._databaseType}async _getDatabaseTypeImpl(){const e=[{thetype:r.SqlServer,testwhere:\"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0\"},{thetype:r.Oracle,testwhere:\"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0\"},{thetype:r.StandardisedNoInterval,testwhere:\"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0\"}];for(const t of e){if(!0===await this._runDatabaseProbe(t.testwhere))return t.thetype}return r.StandardisedNoInterval}_cacheableFeatureSetSourceKey(){return\"MUSTBESET\"}async _runDatabaseProbe(e){if(null!==this._parent)return this._parent._runDatabaseProbe(e);throw new Error(\"Not Implemented\")}isTable(){return this._parent.isTable()}_featureFromCache(e){if(void 0!==this._featureCache[e])return this._featureCache[e]}_isInFeatureSet(e){return n.Unknown}_getSet(e){throw new Error(\"Not implemented in abstract class\")}async _getFeature(e,t,s){if(this._checkCancelled(s),void 0!==this._featureFromCache(t))return this._featureFromCache(t);if(await this._getFeatures(e,t,this._maxProcessingRate(),s),this._checkCancelled(s),void 0!==this._featureFromCache(t))return this._featureFromCache(t);throw new Error(\"Feature Not Found\")}async _getFeatureBatch(e,t){this._checkCancelled(t);const r=new s([],e,!1,null),a=[];await this._getFeatures(r,-1,e.length,t),this._checkCancelled(t);for(const s of e)void 0!==this._featureFromCache(s)&&a.push(this._featureFromCache(s));return a}async _getFeatures(e,t,s,r){return\"success\"}_getFilteredSet(e,t,s,r,a){throw new Error(\"Not implemented in abstract class\")}async _refineSetBlock(e,t,s){if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQueryRate()))return await this._expandPagedSet(e,this._maxQueryRate(),0,0,s),this._refineSetBlock(e,t,s);this._checkCancelled(s);const r=e._candidates.length;this._refineKnowns(e,t);let a=r-e._candidates.length;if(0===e._candidates.length)return e;if(a>=t)return e;if(await this._refineIfParentKnown(e,t-a,s),this._checkCancelled(s),this._refineKnowns(e,t-a),a=r-e._candidates.length,a<t&&e._candidates.length>0){const r=t-a,n=this._prepareFetchAndRefineSet(e._candidates);return await this._fetchAndRefineFeatures(n,n.length>r?r:e._candidates.length,s),this._checkCancelled(s),this._refineKnowns(e,t-a),e}return e}_fetchAndRefineFeatures(e,t,s){return null}_prepareFetchAndRefineSet(e){const t=[];for(let s=0;s<e.length;s++)this._isPhysicalFeature(e[s])&&t.push(e[s]);return t}_isPhysicalFeature(e){return null===this._parent||this._parent._isPhysicalFeature(e)}_refineKnowns(e,t){let s=0,r=null;const a=[];t=this._maxQueryRate();for(let i=0;i<e._candidates.length&&\"GETPAGES\"!==e._candidates[i];i++){let l=!1;const u=this._candidateIdTransform(e._candidates[i]);u!==e._candidates[i]&&(l=!0);const h=this._isInFeatureSet(u);if(h===n.InFeatureSet)!0===l?e._known.includes(u)||(e._known.push(u),s+=1):(e._known.push(e._candidates[i]),s+=1),null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(a.push(r),r={start:i,end:i});else if(h===n.NotInFeatureSet)null===r?r={start:i,end:i}:r.end===i-1?r.end=i:(a.push(r),r={start:i,end:i}),s+=1;else if(h===n.Unknown&&(s+=1,!0===e._ordered))break;if(s>=t)break}null!==r&&a.push(r);for(let n=a.length-1;n>=0;n--)e._candidates.splice(a[n].start,a[n].end-a[n].start+1)}_refineIfParentKnown(e,t,r){const a=new s([],[],e._ordered,null);return a._candidates=e._candidates.slice(0),this._parent._refineSetBlock(a,t,r)}_candidateIdTransform(e){return this._parent._candidateIdTransform(e)}_checkIfNeedToExpandKnownPage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=e._lastFetchedIndex;r<e._known.length;r++){if(\"GETPAGES\"===e._known[r])return!0;if(void 0===this._featureCache[e._known[r]]&&(s+=1,s>=t))break}return!1}_checkIfNeedToExpandCandidatePage(e,t){if(null===e.pagesDefinition)return!1;let s=0;for(let r=0;r<e._candidates.length;r++){if(\"GETPAGES\"===e._candidates[r])return!0;if(s+=1,s>=t)break}return!1}async _expandPagedSet(e,t,s,r,a){if(null===this._parent)throw new Error(\"Parent Paging not implemented\");return this._parent._expandPagedSet(e,t,s,r,a)}async _expandPagedSetFeatureSet(e,t,s,r,a){if(e._known.length>0&&\"GETPAGES\"===e._known[e._known.length-1]&&(r=1),0===r&&e._candidates.length>0&&\"GETPAGES\"===e._candidates[e._candidates.length-1]&&(r=2),0===r)return\"finished\";const n=await this._getPage(e,r,a);return s+n<t?this._expandPagedSet(e,t,s+n,0,a):\"success\"}async _getPage(e,t,s){const r=1===t?e._known:e._candidates;if(e.pagesDefinition.internal.set.length>e.pagesDefinition.resultOffset||!0===e.pagesDefinition.internal.fullyResolved){r.length=r.length-1;let t=0;for(let a=0;a<e.pagesDefinition.resultRecordCount&&!(e.pagesDefinition.resultOffset+a>=e.pagesDefinition.internal.set.length);a++)r[r.length]=e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset+a],t++;e.pagesDefinition.resultOffset+=t;let s=!1;return!0===e.pagesDefinition.internal.fullyResolved&&e.pagesDefinition.internal.set.length<=e.pagesDefinition.resultOffset&&(s=!0),!1===s&&r.push(\"GETPAGES\"),t}return await this._getPhysicalPage(e,t,s),this._getPage(e,t,s)}_getPhysicalPage(e,t,s){return null}_clonePageDefinition(e){return null===this._parent?null:this._parent._clonePageDefinition(e)}_first(e){return this.iterator(e).next()}first(e){return this._first(e)}async calculateStatistic(e,t,s,r){await this._ensureLoaded();let a=await this._stat(e,t,\"\",null,null,s,r);return!1===a.calculated&&(a=await this._manualStat(e,t,s,r)),a.result}async _manualStat(e,t,s,r){let a=null;switch(e.toLowerCase()){case\"count\":return a=await y(this,r),{calculated:!0,result:a};case\"distinct\":return a=await g(this,t,s),{calculated:!0,result:a};case\"avg\":case\"mean\":return a=await f(this,t,r),{calculated:!0,result:a};case\"stdev\":return a=await p(this,t,r),{calculated:!0,result:a};case\"variance\":return a=await _(this,t,r),{calculated:!0,result:a};case\"sum\":return a=await d(this,t,r),{calculated:!0,result:a};case\"min\":return a=await o(this,t,r),{calculated:!0,result:a};case\"max\":return a=await c(this,t,r),{calculated:!0,result:a};default:return{calculated:!0,result:0}}}async _stat(e,t,s,r,a,n,i){const l=await this._parent._stat(e,t,s,r,a,n,i);return!1===l.calculated?null===a&&\"\"===s&&null===r?this._manualStat(e,t,n,i):{calculated:!1}:l}_unionAllGeomSelf(e){const t=this.iterator(this._defaultTracker(e)),s=[];return new Promise(((e,r)=>{this._unionShapeInBatches(s,t,e,r)}))}_unionAllGeom(e){return new Promise(((t,s)=>{const r=this.iterator(this._defaultTracker(e)),a=[];this._unionShapeInBatches(a,r,t,s)}))}_unionShapeInBatches(e,t,s,r){t.next().then((a=>{try{null!==a&&null!==a.geometry&&e.push(a.geometry),e.length>30||null===a&&e.length>1?F(e).then((n=>{try{null===a?s(n):(e=[n],this._unionShapeInBatches(e,t,s,r))}catch(i){r(i)}}),r):null===a?1===e.length?s(e[0]):s(null):this._unionShapeInBatches(e,t,s,r)}catch(n){r(n)}}),r)}iterator(e){return new t(this,e)}intersection(e,t=!1){return k._featuresetFunctions.intersection.bind(this)(e,t)}difference(e,t=!1,s=!0){return k._featuresetFunctions.difference.bind(this)(e,t,s)}symmetricDifference(e,t=!1,s=!0){return k._featuresetFunctions.symmetricDifference.bind(this)(e,t,s)}morphShape(e,t,s=\"unknown\",r=null){return k._featuresetFunctions.morphShape.bind(this)(e,t,s,r)}morphShapeAndAttributes(e,t,s=\"unknown\"){return k._featuresetFunctions.morphShapeAndAttributes.bind(this)(e,t,s)}union(e,t=!1){return k._featuresetFunctions.union.bind(this)(e,t)}intersects(e){return k._featuresetFunctions.intersects.bind(this)(e)}envelopeIntersects(e){return k._featuresetFunctions.envelopeIntersects.bind(this)(e)}contains(e){return k._featuresetFunctions.contains.bind(this)(e)}overlaps(e){return k._featuresetFunctions.overlaps.bind(this)(e)}relate(e,t){return k._featuresetFunctions.relate.bind(this)(e,t)}within(e){return k._featuresetFunctions.within.bind(this)(e)}touches(e){return k._featuresetFunctions.touches.bind(this)(e)}top(e){return k._featuresetFunctions.top.bind(this)(e)}crosses(e){return k._featuresetFunctions.crosses.bind(this)(e)}buffer(e,t,s,r=!0){return k._featuresetFunctions.buffer.bind(this)(e,t,s,r)}filter(e,t=null){return k._featuresetFunctions.filter.bind(this)(e,t)}orderBy(e){return k._featuresetFunctions.orderBy.bind(this)(e)}dissolve(e,t){return k._featuresetFunctions.dissolve.bind(this)(e,t)}groupby(e,t){return k._featuresetFunctions.groupby.bind(this)(e,t)}reduce(e,t=null,s){return new Promise(((r,a)=>{this._reduceImpl(this.iterator(this._defaultTracker(s)),e,t,0,r,a,0)}))}_reduceImpl(e,t,s,r,a,n,i){try{if(++i>1e3)return void setTimeout((()=>{i=0,this._reduceImpl(e,t,s,r,a,n,i)}));e.next().then((l=>{try{if(null===l)a(s);else{const u=t(s,l,r,this);m(u)?u.then((s=>{this._reduceImpl(e,t,s,r+1,a,n,i)}),n):this._reduceImpl(e,t,u,r+1,a,n,i)}}catch(u){n(u)}}),n)}catch(l){n(l)}}removeField(e){return k._featuresetFunctions.removeField.bind(this)(e)}addField(e,t,s=null){return k._featuresetFunctions.addField.bind(this)(e,t,s)}sumArea(e,t=!1,s){const r=i(e);return this.reduce(((e,s)=>null===s.geometry?0:t?S(s.geometry,r).then((t=>e+t)):w(s.geometry,r).then((t=>e+t))),0,s)}sumLength(e,t=!1,s){const r=l(e);return this.reduce(((e,s)=>null===s.geometry?0:t?I(s.geometry,r).then((t=>e+t)):T(s.geometry,r).then((t=>e+t))),0,s)}_substituteVars(e,t){if(null!==t){const s={};for(const e in t)s[e.toLowerCase()]=t[e];e.parameters=s}}async distinct(e,t=1e3,s=null,r){await this.load();const a=b.create(e,this.getFieldsIndex());return this._substituteVars(a,s),this.calculateStatistic(\"distinct\",a,t,this._defaultTracker(r))}async min(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"min\",r,-1,this._defaultTracker(s))}async max(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"max\",r,-1,this._defaultTracker(s))}async avg(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"avg\",r,-1,this._defaultTracker(s))}async sum(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"sum\",r,-1,this._defaultTracker(s))}async stdev(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"stdev\",r,-1,this._defaultTracker(s))}async variance(e,t=null,s){await this.load();const r=b.create(e,this.getFieldsIndex());return this._substituteVars(r,t),this.calculateStatistic(\"variance\",r,-1,this._defaultTracker(s))}async count(e){return await this.load(),this.calculateStatistic(\"count\",b.create(\"1\",this.getFieldsIndex()),-1,this._defaultTracker(e))}_defaultTracker(e){return e||{aborted:!1}}forEach(e,t){return new Promise(((s,r)=>{this._forEachImpl(this.iterator(this._defaultTracker(t)),e,this,s,r,0)}))}_forEachImpl(e,t,s,r,a,n){try{if(++n>1e3)return void setTimeout((()=>{n=0,this._forEachImpl(e,t,s,r,a,n)}),0);e.next().then((i=>{try{if(null===i)r(s);else{const l=t(i);null==l?this._forEachImpl(e,t,s,r,a,n):m(l)?l.then((()=>{try{this._forEachImpl(e,t,s,r,a,n)}catch(i){a(i)}}),a):this._forEachImpl(e,t,s,r,a,n)}}catch(l){a(l)}}),a)}catch(i){a(i)}}convertToJSON(e){const t={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}};for(let s=0;s<this.fields.length;s++)t.layerDefinition.fields.push(u(this.fields[s]));return this.reduce(((e,s)=>{const r={geometry:s.geometry&&s.geometry.toJSON(),attributes:{}};for(const t in s.attributes)r.attributes[t]=s.attributes[t];return t.featureSet.features.push(r),1}),0,e).then((()=>t))}castToText(){return\"object, FeatureSet\"}queryAttachments(e,t,s,r,a){return this._parent.queryAttachments(e,t,s,r,a)}serviceUrl(){return this._parent.serviceUrl()}subtypes(){return this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map((e=>({name:e.name,code:e.id}))):[]}:null}relationshipMetaData(){return this._parent.relationshipMetaData()}get gdbVersion(){return this._parent?this._parent.gdbVersion:\"\"}schema(){const e=[];for(const t of this.fields)e.push(u(t));return{objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===h[this.geometryType]?\"\":h[this.geometryType],fields:e}}async convertToText(e,t){if(\"schema\"===e)return await this._ensureLoaded(),JSON.stringify(this.schema());if(\"featureset\"===e){await this._ensureLoaded();const e=[];await this.reduce(((t,s)=>{const r={geometry:s.geometry?s.geometry.toJSON():null,attributes:s.attributes};return null!==r.geometry&&r.geometry.spatialReference&&delete r.geometry.spatialReference,e.push(r),1}),0,t);const s=this.schema();return s.features=e,s.spatialReference=this.spatialReference.toJSON(),JSON.stringify(s)}return this.castToText()}getFeatureByObjectId(e,t){return this._parent.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this._parent.getOwningSystemUrl()}getIdentityUser(){return this._parent.getIdentityUser()}getRootFeatureSet(){return null!==this._parent?this._parent.getRootFeatureSet():this}getDataSourceFeatureSet(){return null!==this._parent?this._parent.getDataSourceFeatureSet():this}castAsJson(e=null){return\"keeptype\"===e?.featureset?this:\"none\"===e?.featureset?null:{type:\"FeatureSet\"}}async castAsJsonAsync(e=null,t=null){if(\"keeptype\"===t?.featureset)return this;if(\"schema\"===t?.featureset)return await this._ensureLoaded(),JSON.parse(JSON.stringify(this.schema()));if(\"none\"===t?.featureset)return null;await this._ensureLoaded();const s=[];await this.reduce(((e,r)=>{const a={geometry:r.geometry?!0===t?.keepGeometryType?r.geometry:r.geometry.toJSON():null,attributes:r.attributes};return null!==a.geometry&&a.geometry.spatialReference&&!0!==t?.keepGeometryType&&delete a.geometry.spatialReference,s.push(a),1}),0,e);const r=this.schema();return r.features=s,r.spatialReference=!0===t?.keepGeometryType?this.spatialReference:this.spatialReference.toJSON(),r}}k._featuresetFunctions={};export{k as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}