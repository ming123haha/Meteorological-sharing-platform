{"ast":null,"code":"/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\n\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\n\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\r\n * This action will be throttled.\r\n */\n\n\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\n\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\r\n * Merge roamController settings when multiple dataZooms share one roamController.\r\n */\n\n\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\n\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (becuase it hold the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\n\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","map":{"version":3,"names":["RoamController","throttleUtil","makeInner","each","curry","createHashMap","collectReferCoordSysModelInfo","inner","setViewInfoToCoordSysRecord","api","dataZoomModel","getRange","coordSysRecordMap","coordSysRecord","dzInfo","dataZoomInfoMap","get","uid","disposeCoordSysRecordIfNeeded","coordSysKeyArr","keys","i","length","coordSysKey","dzUid","removeKey","disposeCoordSysRecord","model","controller","dispose","createCoordSysRecord","coordSysModel","containsPoint","dispatchAction","getZr","eventName","on","event","batch","isAvailableBehavior","option","method","range","dzReferCoordSysInfo","mainType","push","dataZoomId","id","start","end","isDisposed","type","animation","easing","duration","e","x","y","coordinateSystem","containPoint","mergeControllerParams","controlType","prefix","typePriority","preventDefaultMouseMove","dataZoomInfo","oneType","opt","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","installDataZoomRoamProcessor","registers","registerProcessor","PRIORITY","PROCESSOR","FILTER","ecModel","apiInner","eachComponent","subType","dzReferCoordSysWrap","infoList","dzCoordSysInfo","coordSysUid","set","firstDzInfo","firstDzKey","controllerParams","enable","setPointerChecker","createOrUpdate"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/echarts/lib/component/dataZoom/roams.js"],"sourcesContent":["\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// Only create one roam controller for each coordinate system.\r\n// one roam controller might be refered by two inside data zoom\r\n// components (for example, one for x and one for y). When user\r\n// pan or zoom, only dispatch one action for those data zoom\r\n// components.\r\nimport RoamController from '../../component/helper/RoamController.js';\r\nimport * as throttleUtil from '../../util/throttle.js';\r\nimport { makeInner } from '../../util/model.js';\r\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\r\nimport { collectReferCoordSysModelInfo } from './helper.js';\r\nvar inner = makeInner();\r\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\r\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\r\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\r\n\r\n    if (dzInfo) {\r\n      dzInfo.getRange = getRange;\r\n    }\r\n  });\r\n}\r\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\r\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\r\n  var coordSysKeyArr = coordSysRecordMap.keys();\r\n\r\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\r\n    var coordSysKey = coordSysKeyArr[i];\r\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\r\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\r\n\r\n    if (dataZoomInfoMap) {\r\n      var dzUid = dataZoomModel.uid;\r\n      var dzInfo = dataZoomInfoMap.get(dzUid);\r\n\r\n      if (dzInfo) {\r\n        dataZoomInfoMap.removeKey(dzUid);\r\n\r\n        if (!dataZoomInfoMap.keys().length) {\r\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\r\n  if (coordSysRecord) {\r\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\r\n    var controller = coordSysRecord.controller;\r\n    controller && controller.dispose();\r\n  }\r\n}\r\n\r\nfunction createCoordSysRecord(api, coordSysModel) {\r\n  // These init props will never change after record created.\r\n  var coordSysRecord = {\r\n    model: coordSysModel,\r\n    containsPoint: curry(containsPoint, coordSysModel),\r\n    dispatchAction: curry(dispatchAction, api),\r\n    dataZoomInfoMap: null,\r\n    controller: null\r\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\r\n  // because coordSysRecord not completed yet.\r\n\r\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\r\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\r\n    controller.on(eventName, function (event) {\r\n      var batch = [];\r\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\r\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\r\n        // moveOnMouseWheel, ...) enabled.\r\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\r\n          return;\r\n        }\r\n\r\n        var method = (dzInfo.getRange || {})[eventName];\r\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\r\n        !dzInfo.model.get('disabled', true) && range && batch.push({\r\n          dataZoomId: dzInfo.model.id,\r\n          start: range[0],\r\n          end: range[1]\r\n        });\r\n      });\r\n      batch.length && coordSysRecord.dispatchAction(batch);\r\n    });\r\n  });\r\n  return coordSysRecord;\r\n}\r\n/**\r\n * This action will be throttled.\r\n */\r\n\r\n\r\nfunction dispatchAction(api, batch) {\r\n  if (!api.isDisposed()) {\r\n    api.dispatchAction({\r\n      type: 'dataZoom',\r\n      animation: {\r\n        easing: 'cubicOut',\r\n        duration: 100\r\n      },\r\n      batch: batch\r\n    });\r\n  }\r\n}\r\n\r\nfunction containsPoint(coordSysModel, e, x, y) {\r\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\r\n}\r\n/**\r\n * Merge roamController settings when multiple dataZooms share one roamController.\r\n */\r\n\r\n\r\nfunction mergeControllerParams(dataZoomInfoMap) {\r\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\r\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\r\n\r\n  var prefix = 'type_';\r\n  var typePriority = {\r\n    'type_true': 2,\r\n    'type_move': 1,\r\n    'type_false': 0,\r\n    'type_undefined': -1\r\n  };\r\n  var preventDefaultMouseMove = true;\r\n  dataZoomInfoMap.each(function (dataZoomInfo) {\r\n    var dataZoomModel = dataZoomInfo.model;\r\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\r\n\r\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\r\n      controlType = oneType;\r\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\r\n    // users may be confused why it does not work when multiple insideZooms exist.\r\n\r\n\r\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\r\n  });\r\n  return {\r\n    controlType: controlType,\r\n    opt: {\r\n      // RoamController will enable all of these functionalities,\r\n      // and the final behavior is determined by its event listener\r\n      // provided by each inside zoom.\r\n      zoomOnMouseWheel: true,\r\n      moveOnMouseMove: true,\r\n      moveOnMouseWheel: true,\r\n      preventDefaultMouseMove: !!preventDefaultMouseMove\r\n    }\r\n  };\r\n}\r\n\r\nexport function installDataZoomRoamProcessor(registers) {\r\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\r\n    var apiInner = inner(api);\r\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\r\n    coordSysRecordMap.each(function (coordSysRecord) {\r\n      // `coordSysRecordMap` always exists (becuase it hold the `roam controller`, which should\r\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\r\n      coordSysRecord.dataZoomInfoMap = null;\r\n    });\r\n    ecModel.eachComponent({\r\n      mainType: 'dataZoom',\r\n      subType: 'inside'\r\n    }, function (dataZoomModel) {\r\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\r\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\r\n        var coordSysUid = dzCoordSysInfo.model.uid;\r\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\r\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\r\n\r\n        dataZoomInfoMap.set(dataZoomModel.uid, {\r\n          dzReferCoordSysInfo: dzCoordSysInfo,\r\n          model: dataZoomModel,\r\n          getRange: null\r\n        });\r\n      });\r\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\r\n    // (2) Clear coord sys if not refered by any dataZoom.\r\n\r\n    coordSysRecordMap.each(function (coordSysRecord) {\r\n      var controller = coordSysRecord.controller;\r\n      var firstDzInfo;\r\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\r\n\r\n      if (dataZoomInfoMap) {\r\n        var firstDzKey = dataZoomInfoMap.keys()[0];\r\n\r\n        if (firstDzKey != null) {\r\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\r\n        }\r\n      }\r\n\r\n      if (!firstDzInfo) {\r\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\r\n        return;\r\n      }\r\n\r\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\r\n      controller.enable(controllerParams.controlType, controllerParams.opt);\r\n      controller.setPointerChecker(coordSysRecord.containsPoint);\r\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\r\n    });\r\n  });\r\n}"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,YAAZ,MAA8B,wBAA9B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,aAAtB,QAA2C,0BAA3C;AACA,SAASC,6BAAT,QAA8C,aAA9C;AACA,IAAIC,KAAK,GAAGL,SAAS,EAArB;AACA,OAAO,SAASM,2BAAT,CAAqCC,GAArC,EAA0CC,aAA1C,EAAyDC,QAAzD,EAAmE;EACxEJ,KAAK,CAACE,GAAD,CAAL,CAAWG,iBAAX,CAA6BT,IAA7B,CAAkC,UAAUU,cAAV,EAA0B;IAC1D,IAAIC,MAAM,GAAGD,cAAc,CAACE,eAAf,CAA+BC,GAA/B,CAAmCN,aAAa,CAACO,GAAjD,CAAb;;IAEA,IAAIH,MAAJ,EAAY;MACVA,MAAM,CAACH,QAAP,GAAkBA,QAAlB;IACD;EACF,CAND;AAOD;AACD,OAAO,SAASO,6BAAT,CAAuCT,GAAvC,EAA4CC,aAA5C,EAA2D;EAChE,IAAIE,iBAAiB,GAAGL,KAAK,CAACE,GAAD,CAAL,CAAWG,iBAAnC;EACA,IAAIO,cAAc,GAAGP,iBAAiB,CAACQ,IAAlB,EAArB;;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,cAAc,CAACG,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;IAC9C,IAAIE,WAAW,GAAGJ,cAAc,CAACE,CAAD,CAAhC;IACA,IAAIR,cAAc,GAAGD,iBAAiB,CAACI,GAAlB,CAAsBO,WAAtB,CAArB;IACA,IAAIR,eAAe,GAAGF,cAAc,CAACE,eAArC;;IAEA,IAAIA,eAAJ,EAAqB;MACnB,IAAIS,KAAK,GAAGd,aAAa,CAACO,GAA1B;MACA,IAAIH,MAAM,GAAGC,eAAe,CAACC,GAAhB,CAAoBQ,KAApB,CAAb;;MAEA,IAAIV,MAAJ,EAAY;QACVC,eAAe,CAACU,SAAhB,CAA0BD,KAA1B;;QAEA,IAAI,CAACT,eAAe,CAACK,IAAhB,GAAuBE,MAA5B,EAAoC;UAClCI,qBAAqB,CAACd,iBAAD,EAAoBC,cAApB,CAArB;QACD;MACF;IACF;EACF;AACF;;AAED,SAASa,qBAAT,CAA+Bd,iBAA/B,EAAkDC,cAAlD,EAAkE;EAChE,IAAIA,cAAJ,EAAoB;IAClBD,iBAAiB,CAACa,SAAlB,CAA4BZ,cAAc,CAACc,KAAf,CAAqBV,GAAjD;IACA,IAAIW,UAAU,GAAGf,cAAc,CAACe,UAAhC;IACAA,UAAU,IAAIA,UAAU,CAACC,OAAX,EAAd;EACD;AACF;;AAED,SAASC,oBAAT,CAA8BrB,GAA9B,EAAmCsB,aAAnC,EAAkD;EAChD;EACA,IAAIlB,cAAc,GAAG;IACnBc,KAAK,EAAEI,aADY;IAEnBC,aAAa,EAAE5B,KAAK,CAAC4B,aAAD,EAAgBD,aAAhB,CAFD;IAGnBE,cAAc,EAAE7B,KAAK,CAAC6B,cAAD,EAAiBxB,GAAjB,CAHF;IAInBM,eAAe,EAAE,IAJE;IAKnBa,UAAU,EAAE;EALO,CAArB,CAFgD,CAQ7C;EACH;;EAEA,IAAIA,UAAU,GAAGf,cAAc,CAACe,UAAf,GAA4B,IAAI5B,cAAJ,CAAmBS,GAAG,CAACyB,KAAJ,EAAnB,CAA7C;EACA/B,IAAI,CAAC,CAAC,KAAD,EAAQ,MAAR,EAAgB,YAAhB,CAAD,EAAgC,UAAUgC,SAAV,EAAqB;IACvDP,UAAU,CAACQ,EAAX,CAAcD,SAAd,EAAyB,UAAUE,KAAV,EAAiB;MACxC,IAAIC,KAAK,GAAG,EAAZ;MACAzB,cAAc,CAACE,eAAf,CAA+BZ,IAA/B,CAAoC,UAAUW,MAAV,EAAkB;QACpD;QACA;QACA,IAAI,CAACuB,KAAK,CAACE,mBAAN,CAA0BzB,MAAM,CAACa,KAAP,CAAaa,MAAvC,CAAL,EAAqD;UACnD;QACD;;QAED,IAAIC,MAAM,GAAG,CAAC3B,MAAM,CAACH,QAAP,IAAmB,EAApB,EAAwBwB,SAAxB,CAAb;QACA,IAAIO,KAAK,GAAGD,MAAM,IAAIA,MAAM,CAAC3B,MAAM,CAAC6B,mBAAR,EAA6B9B,cAAc,CAACc,KAAf,CAAqBiB,QAAlD,EAA4D/B,cAAc,CAACe,UAA3E,EAAuFS,KAAvF,CAA5B;QACA,CAACvB,MAAM,CAACa,KAAP,CAAaX,GAAb,CAAiB,UAAjB,EAA6B,IAA7B,CAAD,IAAuC0B,KAAvC,IAAgDJ,KAAK,CAACO,IAAN,CAAW;UACzDC,UAAU,EAAEhC,MAAM,CAACa,KAAP,CAAaoB,EADgC;UAEzDC,KAAK,EAAEN,KAAK,CAAC,CAAD,CAF6C;UAGzDO,GAAG,EAAEP,KAAK,CAAC,CAAD;QAH+C,CAAX,CAAhD;MAKD,CAdD;MAeAJ,KAAK,CAAChB,MAAN,IAAgBT,cAAc,CAACoB,cAAf,CAA8BK,KAA9B,CAAhB;IACD,CAlBD;EAmBD,CApBG,CAAJ;EAqBA,OAAOzB,cAAP;AACD;AACD;AACA;AACA;;;AAGA,SAASoB,cAAT,CAAwBxB,GAAxB,EAA6B6B,KAA7B,EAAoC;EAClC,IAAI,CAAC7B,GAAG,CAACyC,UAAJ,EAAL,EAAuB;IACrBzC,GAAG,CAACwB,cAAJ,CAAmB;MACjBkB,IAAI,EAAE,UADW;MAEjBC,SAAS,EAAE;QACTC,MAAM,EAAE,UADC;QAETC,QAAQ,EAAE;MAFD,CAFM;MAMjBhB,KAAK,EAAEA;IANU,CAAnB;EAQD;AACF;;AAED,SAASN,aAAT,CAAuBD,aAAvB,EAAsCwB,CAAtC,EAAyCC,CAAzC,EAA4CC,CAA5C,EAA+C;EAC7C,OAAO1B,aAAa,CAAC2B,gBAAd,CAA+BC,YAA/B,CAA4C,CAACH,CAAD,EAAIC,CAAJ,CAA5C,CAAP;AACD;AACD;AACA;AACA;;;AAGA,SAASG,qBAAT,CAA+B7C,eAA/B,EAAgD;EAC9C,IAAI8C,WAAJ,CAD8C,CAC7B;EACjB;;EAEA,IAAIC,MAAM,GAAG,OAAb;EACA,IAAIC,YAAY,GAAG;IACjB,aAAa,CADI;IAEjB,aAAa,CAFI;IAGjB,cAAc,CAHG;IAIjB,kBAAkB,CAAC;EAJF,CAAnB;EAMA,IAAIC,uBAAuB,GAAG,IAA9B;EACAjD,eAAe,CAACZ,IAAhB,CAAqB,UAAU8D,YAAV,EAAwB;IAC3C,IAAIvD,aAAa,GAAGuD,YAAY,CAACtC,KAAjC;IACA,IAAIuC,OAAO,GAAGxD,aAAa,CAACM,GAAd,CAAkB,UAAlB,EAA8B,IAA9B,IAAsC,KAAtC,GAA8CN,aAAa,CAACM,GAAd,CAAkB,UAAlB,EAA8B,IAA9B,IAAsC,MAAtC,GAA+C,IAA3G;;IAEA,IAAI+C,YAAY,CAACD,MAAM,GAAGI,OAAV,CAAZ,GAAiCH,YAAY,CAACD,MAAM,GAAGD,WAAV,CAAjD,EAAyE;MACvEA,WAAW,GAAGK,OAAd;IACD,CAN0C,CAMzC;IACF;;;IAGAF,uBAAuB,GAAGA,uBAAuB,IAAItD,aAAa,CAACM,GAAd,CAAkB,yBAAlB,EAA6C,IAA7C,CAArD;EACD,CAXD;EAYA,OAAO;IACL6C,WAAW,EAAEA,WADR;IAELM,GAAG,EAAE;MACH;MACA;MACA;MACAC,gBAAgB,EAAE,IAJf;MAKHC,eAAe,EAAE,IALd;MAMHC,gBAAgB,EAAE,IANf;MAOHN,uBAAuB,EAAE,CAAC,CAACA;IAPxB;EAFA,CAAP;AAYD;;AAED,OAAO,SAASO,4BAAT,CAAsCC,SAAtC,EAAiD;EACtDA,SAAS,CAACC,iBAAV,CAA4BD,SAAS,CAACE,QAAV,CAAmBC,SAAnB,CAA6BC,MAAzD,EAAiE,UAAUC,OAAV,EAAmBpE,GAAnB,EAAwB;IACvF,IAAIqE,QAAQ,GAAGvE,KAAK,CAACE,GAAD,CAApB;IACA,IAAIG,iBAAiB,GAAGkE,QAAQ,CAAClE,iBAAT,KAA+BkE,QAAQ,CAAClE,iBAAT,GAA6BP,aAAa,EAAzE,CAAxB;IACAO,iBAAiB,CAACT,IAAlB,CAAuB,UAAUU,cAAV,EAA0B;MAC/C;MACA;MACAA,cAAc,CAACE,eAAf,GAAiC,IAAjC;IACD,CAJD;IAKA8D,OAAO,CAACE,aAAR,CAAsB;MACpBnC,QAAQ,EAAE,UADU;MAEpBoC,OAAO,EAAE;IAFW,CAAtB,EAGG,UAAUtE,aAAV,EAAyB;MAC1B,IAAIuE,mBAAmB,GAAG3E,6BAA6B,CAACI,aAAD,CAAvD;MACAP,IAAI,CAAC8E,mBAAmB,CAACC,QAArB,EAA+B,UAAUC,cAAV,EAA0B;QAC3D,IAAIC,WAAW,GAAGD,cAAc,CAACxD,KAAf,CAAqBV,GAAvC;QACA,IAAIJ,cAAc,GAAGD,iBAAiB,CAACI,GAAlB,CAAsBoE,WAAtB,KAAsCxE,iBAAiB,CAACyE,GAAlB,CAAsBD,WAAtB,EAAmCtD,oBAAoB,CAACrB,GAAD,EAAM0E,cAAc,CAACxD,KAArB,CAAvD,CAA3D;QACA,IAAIZ,eAAe,GAAGF,cAAc,CAACE,eAAf,KAAmCF,cAAc,CAACE,eAAf,GAAiCV,aAAa,EAAjF,CAAtB,CAH2D,CAGiD;;QAE5GU,eAAe,CAACsE,GAAhB,CAAoB3E,aAAa,CAACO,GAAlC,EAAuC;UACrC0B,mBAAmB,EAAEwC,cADgB;UAErCxD,KAAK,EAAEjB,aAF8B;UAGrCC,QAAQ,EAAE;QAH2B,CAAvC;MAKD,CAVG,CAAJ;IAWD,CAhBD,EARuF,CAwBnF;IACJ;;IAEAC,iBAAiB,CAACT,IAAlB,CAAuB,UAAUU,cAAV,EAA0B;MAC/C,IAAIe,UAAU,GAAGf,cAAc,CAACe,UAAhC;MACA,IAAI0D,WAAJ;MACA,IAAIvE,eAAe,GAAGF,cAAc,CAACE,eAArC;;MAEA,IAAIA,eAAJ,EAAqB;QACnB,IAAIwE,UAAU,GAAGxE,eAAe,CAACK,IAAhB,GAAuB,CAAvB,CAAjB;;QAEA,IAAImE,UAAU,IAAI,IAAlB,EAAwB;UACtBD,WAAW,GAAGvE,eAAe,CAACC,GAAhB,CAAoBuE,UAApB,CAAd;QACD;MACF;;MAED,IAAI,CAACD,WAAL,EAAkB;QAChB5D,qBAAqB,CAACd,iBAAD,EAAoBC,cAApB,CAArB;QACA;MACD;;MAED,IAAI2E,gBAAgB,GAAG5B,qBAAqB,CAAC7C,eAAD,CAA5C;MACAa,UAAU,CAAC6D,MAAX,CAAkBD,gBAAgB,CAAC3B,WAAnC,EAAgD2B,gBAAgB,CAACrB,GAAjE;MACAvC,UAAU,CAAC8D,iBAAX,CAA6B7E,cAAc,CAACmB,aAA5C;MACA/B,YAAY,CAAC0F,cAAb,CAA4B9E,cAA5B,EAA4C,gBAA5C,EAA8DyE,WAAW,CAAC3D,KAAZ,CAAkBX,GAAlB,CAAsB,UAAtB,EAAkC,IAAlC,CAA9D,EAAuG,SAAvG;IACD,CAtBD;EAuBD,CAlDD;AAmDD"},"metadata":{},"sourceType":"module"}