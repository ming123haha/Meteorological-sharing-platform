{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Graphic.js\";\nimport i from \"../Viewpoint.js\";\nimport s from \"../core/Collection.js\";\nimport r from \"../core/CollectionFlattener.js\";\nimport n from \"../core/Error.js\";\nimport has from \"../core/has.js\";\nimport { isIterable as a } from \"../core/iteratorUtils.js\";\nimport o from \"../core/Logger.js\";\nimport { isSome as l, unwrap as p, isNone as h } from \"../core/maybe.js\";\nimport { throwIfAborted as c } from \"../core/promiseUtils.js\";\nimport { watch as d, whenOnce as u, sync as g, syncAndInitial as m } from \"../core/reactiveUtils.js\";\nimport { createScreenPoint as y } from \"../core/screenUtils.js\";\nimport w from \"../core/Warning.js\";\nimport { initialize as f } from \"../core/workers/workers.js\";\nimport { property as _ } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as v } from \"../core/accessorSupport/decorators/subclass.js\";\nimport V from \"../geometry/Extent.js\";\nimport S from \"../geometry/Point.js\";\nimport { load as j, canProjectWithoutEngine as T, project as b, isLoaded as M } from \"../geometry/projection.js\";\nimport { equals as R } from \"../geometry/support/spatialReferenceUtils.js\";\nimport x from \"../layers/support/TileInfo.js\";\nimport { BreakpointsOwner as L } from \"./BreakpointsOwner.js\";\nimport { DOMContainer as O } from \"./DOMContainer.js\";\nimport { PopupView as k } from \"./PopupView.js\";\nimport C from \"./View.js\";\nimport z from \"./ViewAnimation.js\";\nimport P from \"./2d/AnimationManager.js\";\nimport E from \"./2d/FrameTask.js\";\nimport { layerView2DImporter as G } from \"./2d/layerViewModuleImportUtils.js\";\nimport N from \"./2d/MapViewConstraints.js\";\nimport q from \"./2d/PaddedViewState.js\";\nimport \"./2d/tiling/PagedTileQueue.js\";\nimport D from \"./2d/tiling/TileInfoView.js\";\nimport \"./2d/tiling/TileKey.js\";\nimport \"./2d/tiling/TileQueue.js\";\nimport \"./2d/tiling/TileStrategy.js\";\nimport { centerAt as U, setExtent as A, rotateTo as F, scaleTo as I, copy as W, create as $, extentToScale as B, resize as H, angleBetween as J } from \"./2d/viewpointUtils.js\";\nimport Q from \"./2d/input/MapViewInputManager.js\";\nimport Z from \"./2d/layers/features/support/TileStore.js\";\nimport K from \"./2d/support/HighlightOptions.js\";\nimport { Timeline as Y } from \"./2d/support/Timeline.js\";\nimport X from \"./support/createScreenshotPlan.js\";\nimport { encode as ee, encodeData as te, getMaximumResolutionScale as ie, getFormatAndQuality as se } from \"./support/screenshotUtils.js\";\nimport { isSupportedScreenPointEvent as re, createScreenPointFromSupportedEvent as ne } from \"./support/screenUtils.js\";\nimport { check as ae } from \"./support/WebGLRequirements.js\";\nimport oe from \"./ui/2d/DefaultUI2D.js\";\nimport le from \"../webmap/background/ColorBackground.js\";\nlet pe, he, ce, de, ue, ge;\n\nasync function me() {\n  const [, {\n    GraphicsView2D: e,\n    GraphicContainer: t,\n    LabelManager: i,\n    MapViewNavigation: s,\n    MagnifierView2D: r,\n    Stage: n\n  }] = await Promise.all([import(\"./2d/webglDeps.js\"), import(\"./2d/mapViewDeps.js\")]);\n  he = e, ce = t, de = i, ue = s, ge = r, pe = n;\n}\n\nconst ye = 160;\n\nfunction we(e) {\n  return e && \"esri.Viewpoint\" === e.declaredClass;\n}\n\nlet fe = class extends L(O(k(C))) {\n  constructor(e) {\n    super(e), this._magnifierView = null, this._stage = null, this._resolveWhenReady = [], this.rootLayerViews = new r({\n      getCollections: () => [this.basemapView?.baseLayerViews, this.layerViews, this.basemapView?.referenceLayerViews],\n      getChildrenFunction: () => null\n    }), this.featuresTilingScheme = null, this.fullOpacity = 1, this.graphicsView = null, this.labelManager = null, this.mapViewNavigation = null, this.renderingOptions = {\n      samplingMode: \"dynamic\",\n      edgeLabelsVisible: !0,\n      labelsAnimationTime: 125,\n      labelCollisionsEnabled: !0\n    }, this.rendering = !1, this.supersampleScreenshotsEnabled = !1, this.supportsGround = !1, this._stationaryTimer = null, this.frameTask = new E(this), this._pePromise = null, this.floors = new s(), this.highlightOptions = new K(), this.inputManager = new Q({\n      view: this\n    }), this.map = null, this.resizeAlign = \"center\", this.spatialReferenceLocked = !1, this.timeline = new Y(), this.type = \"2d\", this.ui = new oe(), this._pixelFormat = {\n      flipY: !0,\n      premultipliedAlpha: !0\n    }, this.constraints = new N(), this.padding = {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }, this.handles.add([d(() => this.viewpoint, () => {\n      this._lastStationaryEventTimestamp = performance.now(), this._flipStationary(ye);\n    }, g), this.on(\"resize\", e => this._resizeHandler(e)), d(() => this.animationManager?.animation, e => {\n      this.animation = e;\n    })]), f();\n  }\n\n  destroy() {\n    this._set(\"preconditionsReady\", !1), this._gotoTask = this.frameTask = null, this.rootLayerViews.destroy(), this.inputManager.destroy(), this._set(\"inputManager\", null);\n  }\n\n  get graphicsTileStore() {\n    return new Z(this.featuresTilingScheme);\n  }\n\n  get initialExtentRequired() {\n    const {\n      scale: e,\n      constraints: t,\n      center: i,\n      viewpoint: s,\n      extent: r\n    } = this;\n    let n = this.zoom;\n    return !(this.map && \"initialViewProperties\" in this.map && this.map.initialViewProperties?.viewpoint) && !r && (t?.effectiveLODs || (n = -1), (!i || 0 === e && -1 === n) && (!s || !l(s.targetGeometry) || \"extent\" !== s.targetGeometry.type && !s.scale));\n  }\n\n  get resourceManager() {\n    return this._stage.resourceManager;\n  }\n\n  get textureManager() {\n    return this._stage.painter.textureManager;\n  }\n\n  get _defaultsFromMapSettings() {\n    return {\n      required: {\n        tileInfo: !0,\n        heightModelInfo: !1,\n        extent: !1\n      },\n      requiresExtentInSpatialReference: this.spatialReferenceLocked\n    };\n  }\n\n  get _projectionEngineLoaded() {\n    return !!M() || (this._pePromise || (this._pePromise = j().finally(() => {\n      this._pePromise = null;\n    })), !1);\n  }\n\n  get typeSpecificPreconditionsReady() {\n    const e = this._getDefaultViewpoint();\n\n    if (!e) return !1;\n    const t = this.spatialReference,\n          i = p(e.targetGeometry);\n    return !!T(i.spatialReference, t) || this._projectionEngineLoaded;\n  }\n\n  set animation(e) {\n    const t = this._get(\"animation\");\n\n    if (e === t) return;\n    if (t && t.stop(), !e || e.isFulfilled()) return void this._set(\"animation\", null);\n    this._set(\"animation\", e), this.frameTask.animationInProgress = !0;\n\n    const i = () => {\n      e === this._get(\"animation\") && (this._set(\"animation\", null), this.frameTask?.requestFrame()), this.frameTask && (this.frameTask.animationInProgress = !1);\n    };\n\n    e.when(i, i);\n  }\n\n  get background() {\n    return je(this.map) ? this.map.initialViewProperties.background : null;\n  }\n\n  set background(e) {\n    this._override(\"background\", e);\n  }\n\n  get center() {\n    if (!this.ready) return this._get(\"center\");\n    const {\n      center: e,\n      spatialReference: t\n    } = this.state.paddedViewState;\n    return new S({\n      x: e[0],\n      y: e[1],\n      spatialReference: t\n    });\n  }\n\n  set center(e) {\n    if (null == e) return;\n    if (!this.ready) return this._set(\"center\", e), void this.notifyChange(\"initialExtentRequired\");\n    let t;\n\n    try {\n      t = this._project(e, this.spatialReference);\n    } catch (s) {\n      return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-center\", \"could not project the value in the view's spatial reference\", {\n        input: e,\n        error: s\n      }));\n    }\n\n    const i = this.viewpoint;\n    U(i, i, t), this.viewpoint = i;\n  }\n\n  set constraints(e) {\n    const t = this._get(\"constraints\");\n\n    t && (this.handles.remove(\"map-view-constraints\"), t.destroy()), this._set(\"constraints\", e), e && (e.view = this, this.ready && (this.state.viewpoint = e.fit(this.state.paddedViewState.viewpoint)), this.handles.add(d(() => e.version, () => {\n      this.ready && this.state && (this.state.viewpoint = e.fit(this.state.paddedViewState.viewpoint));\n    }, g), \"map-view-constraints\"));\n  }\n\n  get extent() {\n    return this.ready ? this.state.paddedViewState.extent.clone() : this._get(\"extent\");\n  }\n\n  set extent(e) {\n    if (null == e) return;\n    if (!e.width || !e.height) return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-extent\", \"invalid extent size\"));\n    if (!this.ready) return this._set(\"extent\", e), this._set(\"center\", null), this._set(\"viewpoint\", null), this._set(\"scale\", 0), this._set(\"zoom\", -1), void this.notifyChange(\"initialExtentRequired\");\n    let t;\n\n    try {\n      t = this._project(e, this.spatialReference);\n    } catch (s) {\n      return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-extent\", \"could not project the value in the view's spatial reference\", {\n        error: s\n      }));\n    }\n\n    const i = this.viewpoint;\n    A(i, i, t, this.size, {\n      constraints: this.constraints\n    }), this.viewpoint = i;\n  }\n\n  get padding() {\n    return this.ready ? this.state.padding : this._get(\"padding\");\n  }\n\n  set padding(e) {\n    this.ready ? (this.state.padding = e, this._set(\"padding\", this.state.padding)) : this._set(\"padding\", e);\n  }\n\n  get resolution() {\n    return this.state ? this.state.resolution : 0;\n  }\n\n  get rotation() {\n    return this.ready ? this.state.rotation : this._get(\"rotation\");\n  }\n\n  set rotation(e) {\n    if (isNaN(e)) return;\n    if (!this.ready) return void this._set(\"rotation\", e);\n    const t = this.viewpoint;\n    F(t, t, e), this.viewpoint = t;\n  }\n\n  get scale() {\n    return this.ready ? this.state.scale : this._get(\"scale\");\n  }\n\n  set scale(e) {\n    if (!e || isNaN(e)) return;\n\n    if (!this.ready) {\n      this._set(\"scale\", e), this._set(\"zoom\", -1);\n\n      const t = this._get(\"extent\");\n\n      return t && (this._set(\"extent\", null), this._set(\"center\", t.center)), void this.notifyChange(\"initialExtentRequired\");\n    }\n\n    const t = this.viewpoint;\n    I(t, t, e), this.viewpoint = t;\n  }\n\n  get stationary() {\n    return !(this.animation || this.navigating || this.resizing || this._stationaryTimer);\n  }\n\n  get updating() {\n    const e = !this.destroyed && (!this.layerViewManager || !this.labelManager || !this.graphicsView || !0 === this.layerViewManager.updating || !0 === this.labelManager.updating || !0 === this.graphicsView.updating || this.allLayerViews.some(e => !e.destroyed && !(\"layerViews\" in e) && !0 === e.updating));\n\n    if (has(\"esri-2d-log-updating\")) {\n      const t = this.allLayerViews.reduce((e, t) => ({ ...e,\n        [t.layer.id]: !t.destroyed && !(\"layerViews\" in t) && t.updating\n      }), {});\n      console.log(`Updating MapView: ${e}\\n-> Null LayerViewManager: ${!this.layerViewManager}\\n-> Null LabelManager: ${!this.labelManager}\\n-> Null GraphicsView: ${!this.graphicsView}\\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\\n-> labelManager.updating: ${this.labelManager?.updating}\\n-> graphicsView.updating: ${this.graphicsView?.updating}\\n-> allLayerViews: ${JSON.stringify(t)}\\n`);\n    }\n\n    return e;\n  }\n\n  get viewpoint() {\n    if (!this.ready) return this._get(\"viewpoint\");\n    const e = this.state.paddedViewState;\n    return e && e.viewpoint.clone();\n  }\n\n  set viewpoint(e) {\n    if (null == e) return;\n    if (!this.ready) return this._set(\"viewpoint\", e), this._set(\"extent\", null), this._set(\"center\", null), this._set(\"zoom\", -1), this._set(\"scale\", 0), void this.notifyChange(\"initialExtentRequired\");\n    let t, s;\n\n    try {\n      t = this._project(e, this.spatialReference), !e.scale || isNaN(e.scale) ? s = new n(\"mapview:invalid-viewpoint\", `invalid scale value of ${e.scale}`) : h(e.targetGeometry) && (s = new n(\"mapview:invalid-viewpoint\", \"geometry not defined\"));\n    } catch (a) {\n      s = new n(\"mapview:invalid-viewpoint\", \"could not project the value in the view's spatial reference\", {\n        error: a\n      });\n    }\n\n    if (s) return void o.getLogger(this.declaredClass).error(s);\n    this._scaleBeforeChangingSpatialReference = null;\n    const r = new i({\n      targetGeometry: new S(),\n      scale: 0,\n      rotation: 0\n    });\n    W(r, t), this.constraints.constrain(r, this.state.paddedViewState.viewpoint), this.state.viewpoint = r, this.frameTask.requestFrame(), this._set(\"viewpoint\", r);\n  }\n\n  get zoom() {\n    return this.ready ? this.constraints.scaleToZoom(this.scale) : this._get(\"zoom\");\n  }\n\n  set zoom(e) {\n    if (null == e) return;\n\n    if (!this.ready) {\n      this._set(\"zoom\", e), this._set(\"scale\", 0);\n\n      const t = this._get(\"extent\");\n\n      return t && (this._set(\"extent\", null), this._set(\"center\", t.center)), void this.notifyChange(\"initialExtentRequired\");\n    }\n\n    if (!this.constraints.effectiveLODs) return void this._set(\"zoom\", -1);\n    const t = this.viewpoint;\n    I(t, t, this.constraints.zoomToScale(e)), this.viewpoint = t, this._set(\"zoom\", this.constraints.scaleToZoom(this.scale));\n  }\n\n  get navigating() {\n    return !(!this.mapViewNavigation || !this.mapViewNavigation.interacting);\n  }\n\n  goTo(e, t) {\n    if (e) return this.animation && (this.animation = null), this._createAnimation(), u(() => this.ready, t).then(() => {\n      const i = {\n        animate: !0,\n        ...t\n      },\n            s = $(e, this);\n      return this.animation.update(s), this._gotoTask = {}, i.animate ? this._gotoAnimated(s, i) : this._gotoImmediate(s, i);\n    });\n    o.getLogger(this.declaredClass).error(\"#goTo()\", \"target cannot be null or undefined\");\n  }\n\n  async hitTest(e, t) {\n    const i = re(e) ? ne(this, e) : e;\n    if (!this.ready || isNaN(i.x) || isNaN(i.y)) return {\n      screenPoint: i,\n      results: []\n    };\n    let s = new Set(),\n        r = !1,\n        n = null,\n        a = null;\n    t?.include ? Se(t.include, Ve(this, e => s.add(e), e => {\n      n || (n = new Set()), n.add(e);\n    }, e => s.add(e), () => r = !0)) : (r = !0, s = new Set(this.allLayerViews)), t?.exclude && Se(t.exclude, Ve(this, e => s.delete(e), e => {\n      a || (a = new Set()), a.add(e);\n    }));\n    const o = this.allLayerViews.filter(e => !e.suspended && s.has(e)).reverse(),\n          p = this.toMap(i);\n    let h = [...(r ? this.graphicsView.hitTest(p).map(e => ({\n      type: \"graphic\",\n      graphic: e,\n      layer: null,\n      mapPoint: p\n    })) : []), ...(await Promise.all(o.map(e => e.hitTest(p, i)).toArray()))].filter(l).flat().filter(l);\n    return n && (h = h.filter(e => !(\"graphic\" in e) || !e.graphic || n.has(ve(e.graphic)))), a && (h = h.filter(e => !(\"graphic\" in e) || !e.graphic || a.has(ve(e.graphic)))), {\n      screenPoint: i,\n      results: h\n    };\n  }\n\n  async takeScreenshot(e) {\n    const t = this._createScreenshotPlan(e),\n          i = await this._stage.takeScreenshot(t);\n\n    return ee(i, {\n      format: t.format,\n      quality: t.quality,\n      rotation: 0,\n      disableDecorations: !1\n    }, this._pixelFormat);\n  }\n\n  async _takeScreenshot(e) {\n    const t = this._createScreenshotPlan(e),\n          i = await this._stage.takeScreenshot(t);\n\n    return te(i, this._pixelFormat);\n  }\n\n  _createScreenshotPlan(e) {\n    e = e || {};\n    const t = this.supersampleScreenshotsEnabled ? Math.min(4, ie(this.size, Math.min(4096, this._stage.context.parameters.maxTextureSize))) : 1;\n    let i;\n    e.layers ? (i = [], e.layers.forEach(e => {\n      const t = this.allLayerViews.find(t => t.layer.id === e.id);\n      t && \"container\" in t && t.container && i.push(t.container);\n    })) : i = this._stage.children;\n    const {\n      format: s,\n      quality: r\n    } = se(e.format, e.quality);\n    return X(e, t, this.size, this.padding, s, r, i, e.rotation);\n  }\n\n  get test() {\n    return {\n      takeScreenshot: e => this._takeScreenshot(e)\n    };\n  }\n\n  toMap(e) {\n    if (!this.ready) return null;\n    const t = re(e) ? ne(this, e) : e,\n          i = [0, 0],\n          [s, r] = this.state.toMap(i, [t.x, t.y]),\n          n = this.spatialReference;\n    return new S({\n      x: s,\n      y: r,\n      spatialReference: n\n    });\n  }\n\n  toScreen(e) {\n    if (!this.ready) return null;\n\n    const t = this._project(e, this.spatialReference),\n          i = [t.x, t.y];\n\n    return this.state.toScreen(i, i), y(i[0], i[1]);\n  }\n\n  on(e, t, i, s) {\n    const r = this.inputManager && this.viewEvents.on(e, t, i, s);\n    return r || super.on(e, t);\n  }\n\n  hasEventListener(e) {\n    return super.hasEventListener(e) || this.viewEvents.hasHandler(e);\n  }\n\n  whenLayerView(e) {\n    return super.whenLayerView(e);\n  }\n\n  graphicChanged(e) {\n    if (this.graphicsView) {\n      this.graphicsView.graphicUpdateHandler(e);\n    }\n  }\n\n  whenReady() {\n    return new Promise(e => {\n      this.ready ? e(this) : this._resolveWhenReady.push(e);\n    });\n  }\n\n  forceDOMReadyCycle() {\n    this.forceReadyCycle();\n  }\n\n  getDefaultSpatialReference() {\n    return this.map && \"initialViewProperties\" in this.map && this.map?.initialViewProperties?.spatialReference || this.defaultsFromMap?.spatialReference || null;\n  }\n\n  hasLayerViewModule(e) {\n    return G.hasLayerViewModule(e);\n  }\n\n  importLayerView(e) {\n    return G.importLayerView(e);\n  }\n\n  pixelSizeAt() {\n    return this.ready ? this.state.resolution : (o.getLogger(this.declaredClass).error(\"#pixelSizeAt()\", \"Map view cannot be used before it is ready\"), null);\n  }\n\n  popupHitTest(e) {\n    return this.hitTest(e).then(t => ({ ...t,\n      mapPoint: this.toMap(e)\n    }));\n  }\n\n  requestUpdate() {\n    this.ready && this.frameTask.requestUpdate();\n  }\n\n  validate() {\n    let e = ae(this.type);\n    return has(\"safari\") && has(\"safari\") < 9 && (e = new n(\"mapview:browser-not-supported\", \"This browser is not supported by MapView (Safari < 9)\", {\n      type: \"safari\",\n      requiredVersion: 9,\n      detectedVersion: has(\"safari\")\n    })), l(e) ? (o.getLogger(this.declaredClass).warn(\"#validate()\", e.message), Promise.reject(e)) : me();\n  }\n\n  _createAnimation() {\n    return this.animation && !this.animation.done || (this.animation = new z()), this.animation;\n  }\n\n  _cancellableGoTo(e, t, i) {\n    const s = () => e === this._gotoTask,\n          r = i.then(() => {\n      s() && (this.animation = null);\n    }).catch(e => {\n      throw s() && (this.animation = null, t.done || (t.stop(), this.frameTask.animationInProgress = !1)), e;\n    }),\n          n = new Promise(e => e(r));\n\n    return t.when().catch(() => {\n      s() && n.cancel && n.cancel();\n    }), n;\n  }\n\n  _gotoImmediate(e, t) {\n    const i = this._gotoTask,\n          s = this.animation,\n          r = e.then(e => {\n      if (c(t), i !== this._gotoTask) throw new n(\"view:goto-interrupted\", \"Goto was interrupted\");\n      this.viewpoint = s.target = e, s.finish();\n    });\n    return this._cancellableGoTo(i, s, r);\n  }\n\n  _flipStationary(e) {\n    return null !== this._stationaryTimer || (this._stationaryTimer = setTimeout(() => {\n      this._stationaryTimer = null;\n\n      const e = performance.now() - this._lastStationaryEventTimestamp;\n\n      e < ye && (this._stationaryTimer = this._flipStationary(e));\n    }, e)), this._stationaryTimer;\n  }\n\n  _getDefaultViewpoint() {\n    const {\n      constraints: e,\n      initialExtent: t,\n      map: s,\n      padding: r,\n      size: n\n    } = this;\n    if (!e) return null;\n    const a = s && \"initialViewProperties\" in s && s.initialViewProperties,\n          o = {\n      zoom: this._get(\"zoom\"),\n      scale: this._get(\"scale\"),\n      center: this._get(\"center\"),\n      extent: this._get(\"extent\"),\n      rotation: this._get(\"rotation\"),\n      viewpoint: this._get(\"viewpoint\"),\n      spatialReference: this._userSpatialReference\n    };\n    e.effectiveLODs ? -1 !== o.zoom && (o.scale = e.zoomToScale(o.zoom)) : o.zoom = -1;\n    let h = null,\n        c = null,\n        d = 0;\n    const u = o.viewpoint && o.viewpoint.rotation,\n          g = o.viewpoint && o.viewpoint.targetGeometry;\n    l(g) && (\"extent\" === g.type ? h = g : \"point\" === g.type && (c = g, d = o.viewpoint.scale));\n    const m = o.extent || h || p(a?.viewpoint?.targetGeometry)?.extent || t,\n          y = o.center || c || m?.center,\n          w = o.scale || d || a?.viewpoint?.scale || m && B(m, [n[0] - r.left - r.right, n[1] - r.top - r.bottom]),\n          f = o.rotation || u || a?.viewpoint?.rotation || 0;\n    return y && w ? new i({\n      targetGeometry: y,\n      scale: w,\n      rotation: f\n    }) : null;\n  }\n\n  _gotoAnimated(e, t) {\n    const i = this._gotoTask,\n          s = this.animation,\n          r = e.then(e => {\n      if (c(t), i !== this._gotoTask) throw new n(\"view:goto-interrupted\", \"Goto was interrupted\");\n      return s.update(e), this.animationManager.animate(s, this.viewpoint, t), s.when().then(() => {}, () => {});\n    });\n    return this._cancellableGoTo(i, s, r);\n  }\n\n  _project(e, t) {\n    const i = e && e.targetGeometry || e;\n    if (!t) return e;\n    if (!i) return null;\n    if (t.imageCoordinateSystem || i.spatialReference?.imageCoordinateSystem) return e;\n    if (R(t, i.spatialReference)) return e;\n    const s = b(i, t);\n    if (!s) throw new n(\"mapview:projection-not-possible\", \"projecting input geometry to target spatial reference returned a null value\", {\n      geometry: i,\n      spatialReference: t\n    });\n    return we(e) ? (e.targetGeometry = s, e) : s;\n  }\n\n  _resizeHandler(e) {\n    if (!this.ready) return;\n    const t = this.state;\n    let i = this.state.paddedViewState.viewpoint;\n    const s = this.state.paddedViewState.size.concat();\n    t.size = [e.width, e.height], H(i, i, s, this.state.paddedViewState.size, this.resizeAlign), i = this.constraints.constrain(i, null), this.state.viewpoint = i;\n  }\n\n  _startup() {\n    this.timeline.begin(\"MapView Startup\");\n\n    const e = this._getDefaultViewpoint(),\n          t = e.targetGeometry;\n\n    try {\n      this._project(e, this.spatialReference);\n    } catch (l) {\n      o.getLogger(this.declaredClass).warn(new w(\"mapview:startup-projection-error\", \"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\", {\n        center: t.toJSON(),\n        spatialReference: this.spatialReference,\n        error: l\n      })), e.targetGeometry = this.defaultsFromMap.extent?.center || new S({\n        x: 0,\n        y: 0,\n        spatialReference: this.spatialReference\n      });\n    }\n\n    this.constraints?.fit(e), this._set(\"state\", new q({\n      padding: this._get(\"padding\"),\n      size: this.size,\n      viewpoint: e\n    })), this.graphics.owner = this;\n    const i = new pe(this.surface, {\n      canvas: this.renderCanvas,\n      supersampleScreenshots: this.supersampleScreenshotsEnabled,\n      contextOptions: {\n        disabledExtensions: this.deactivatedWebGLExtensions,\n        debugWebGLExtensions: this.debugWebGLExtensions\n      },\n      renderingOptions: this.renderingOptions,\n      timeline: this.timeline\n    });\n    this._stage = i, this._magnifierView = new ge(), this._magnifierView.magnifier = this.magnifier;\n    const s = new de({\n      view: this\n    });\n\n    this._set(\"labelManager\", s);\n\n    const r = new P({\n      view: this\n    });\n\n    this._set(\"animationManager\", r);\n\n    const n = new ue({\n      view: this,\n      animationManager: r\n    });\n    this._set(\"mapViewNavigation\", n), this._setupSpatialReferenceDependentProperties(), this.handles.add([this.rootLayerViews.on(\"change\", () => this._updateStageChildren()), i.on(\"post-render\", () => this._set(\"rendering\", i.renderRequested)), i.on(\"will-render\", () => this._set(\"rendering\", i.renderRequested)), i.on(\"webgl-error\", e => this.fatalError = e.error), d(() => this.stationary, e => i.stationary = e, m), d(() => this.background, e => {\n      i.background = e, this._magnifierView.background = e;\n    }, m), d(() => this.magnifier, e => this._magnifierView.magnifier = e, m), d(() => this.renderingOptions, e => i.renderingOptions = e, m), d(() => this.highlightOptions, e => i.highlightOptions = e, m), d(() => this.state.id, () => i.state = this.state, m)], \"map-view\"), this._updateStageChildren();\n    const a = this._resolveWhenReady;\n    this._resolveWhenReady = [], a.forEach(e => e(this)), this.timeline.end(\"MapView Startup\"), this.frameTask && this.frameTask.start(), this._set(\"ready\", !0);\n  }\n\n  _teardown() {\n    this._destroySpatialReferenceDependentProperties(), this.handles.remove(\"map-view\"), this.mapViewNavigation.destroy(), this._set(\"mapViewNavigation\", null), this.animationManager.destroy(), this._set(\"animationManager\", null), this.layerViewManager.clear(), this.labelManager.destroy(), this._magnifierView.destroy(), this._stage.destroy(), this._stage = null, this._set(\"graphicsView\", null), this._magnifierView = null, this._set(\"labelManager\", null), this._set(\"mapViewNavigation\", null), this.graphics.owner = null, this.frameTask && this.frameTask.stop(), this._stationaryTimer && (clearTimeout(this._stationaryTimer), this._stationaryTimer = null), this._set(\"ready\", !1);\n    const {\n      center: [e, t],\n      spatialReference: i,\n      rotation: s,\n      scale: r\n    } = this.state.paddedViewState,\n          n = new S({\n      x: e,\n      y: t,\n      spatialReference: i\n    });\n    this._set(\"viewpoint\", null), this._set(\"extent\", null), this._set(\"center\", n), this._set(\"zoom\", -1), this._set(\"rotation\", s), this._set(\"scale\", r), this._set(\"spatialReference\", i), this._set(\"state\", null), this.animation = null;\n  }\n\n  _updateStageChildren() {\n    this._stage.removeAllChildren(), this.rootLayerViews.forEach(e => {\n      this._stage.addChild(e.container);\n    });\n    const e = this.graphicsView;\n    this._stage.addChild(e.container), this._stage.addChild(this._magnifierView);\n  }\n\n  _setupSpatialReferenceDependentProperties() {\n    const e = new D(x.create({\n      spatialReference: this.spatialReference,\n      size: 512,\n      numLODs: 36\n    }));\n\n    this._set(\"featuresTilingScheme\", e);\n\n    const t = new he({\n      view: this,\n      graphics: this.graphics,\n      requestUpdateCallback: () => this.requestUpdate(),\n      container: new ce(e)\n    });\n    this.frameTask.graphicsView = t, this._set(\"graphicsView\", t);\n  }\n\n  _destroySpatialReferenceDependentProperties() {\n    const e = this.graphicsView;\n    this._set(\"graphicsView\", null), this.frameTask.graphicsView = null, e.destroy(), this._set(\"featuresTilingScheme\", null);\n  }\n\n  _spatialReferenceChanged(e) {\n    if (!this.ready) return;\n    this.frameTask.stop();\n\n    for (const i of this.allLayerViews) i.processDetach();\n\n    this._destroySpatialReferenceDependentProperties();\n\n    const t = this.state.paddedViewState.clone();\n    if (h(this._scaleBeforeChangingSpatialReference)) this._scaleBeforeChangingSpatialReference = t.scale;else {\n      const e = t.viewpoint.clone();\n      e.scale = this._scaleBeforeChangingSpatialReference, t.viewpoint = e;\n    }\n    const s = t.clone(),\n          [r, n] = t.center;\n    let a = null;\n\n    try {\n      a = this._project(new S({\n        x: r,\n        y: n,\n        spatialReference: t.spatialReference\n      }), e);\n    } catch (p) {\n      M() || o.getLogger(this.declaredClass).warn(new w(\"mapview:spatial-reference-change\", \"could not project the view's center to the new spatial reference\", {\n        center: a.toJSON(),\n        spatialReference: e,\n        error: p\n      }));\n    }\n\n    a || (a = new S({\n      x: 0,\n      y: 0,\n      spatialReference: e\n    }));\n    const l = U(new i({\n      targetGeometry: new S(),\n      scale: 0,\n      rotation: 0\n    }), t.viewpoint, a);\n    s.viewpoint = l;\n\n    try {\n      const i = 20,\n            r = [t.size[0] / 2, t.size[1] / 2],\n            n = [r[0] + i, r[1]],\n            a = t.toMap([0, 0], n),\n            {\n        x: o,\n        y: p\n      } = this._project(new S({\n        x: a[0],\n        y: a[1],\n        spatialReference: t.spatialReference\n      }), e);\n\n      a[0] = o, a[1] = p, s.toScreen(a, a);\n      const h = J(r, a, n),\n            c = Math.hypot(a[0] - r[0], a[1] - r[1]) / i;\n      !Number.isFinite(c) || Math.abs(c) > 4 ? (l.rotation = 0, l.targetGeometry = new S({\n        x: 0,\n        y: 0,\n        spatialReference: e\n      })) : (l.scale *= c, l.scale > has(\"mapview-srswitch-adjust-rotation-scale-threshold\") ? l.rotation = 0 : l.rotation += Number.isFinite(h) ? h : 0);\n    } catch {}\n\n    this._get(\"constraints\").constrain(l, null), this._get(\"state\").viewpoint = l, this._stage.state = this.state, this._setupSpatialReferenceDependentProperties();\n\n    for (const i of this.allLayerViews) i.processAttach();\n\n    this.frameTask.requestFrame(), this.frameTask.start(), this._updateStageChildren();\n  }\n\n};\nfe.type = \"2d\", e([_({\n  readOnly: !0\n})], fe.prototype, \"animationManager\", void 0), e([_({\n  constructOnly: !0\n})], fe.prototype, \"deactivatedWebGLExtensions\", void 0), e([_({\n  constructOnly: !0\n})], fe.prototype, \"debugWebGLExtensions\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"featuresTilingScheme\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"fullOpacity\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"graphicsTileStore\", null), e([_()], fe.prototype, \"graphicsView\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"state\", void 0), e([_()], fe.prototype, \"initialExtentRequired\", null), e([_()], fe.prototype, \"labelManager\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"resourceManager\", null), e([_({\n  readOnly: !0\n})], fe.prototype, \"textureManager\", null), e([_({\n  readOnly: !0\n})], fe.prototype, \"mapViewNavigation\", void 0), e([_({\n  constructOnly: !0\n})], fe.prototype, \"renderCanvas\", void 0), e([_()], fe.prototype, \"renderingOptions\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"rendering\", void 0), e([_({\n  constructOnly: !0\n})], fe.prototype, \"supersampleScreenshotsEnabled\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"supportsGround\", void 0), e([_()], fe.prototype, \"_stationaryTimer\", void 0), e([_()], fe.prototype, \"_defaultsFromMapSettings\", null), e([_()], fe.prototype, \"_pePromise\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"typeSpecificPreconditionsReady\", null), e([_()], fe.prototype, \"animation\", null), e([_({\n  type: le\n})], fe.prototype, \"background\", null), e([_({\n  value: null,\n  type: S,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"center\", null), e([_({\n  type: N\n})], fe.prototype, \"constraints\", null), e([_({\n  value: null,\n  type: V,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"extent\", null), e([_()], fe.prototype, \"floors\", void 0), e([_({\n  type: K\n})], fe.prototype, \"highlightOptions\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"inputManager\", void 0), e([_()], fe.prototype, \"map\", void 0), e([_({\n  value: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  cast: e => ({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...e\n  })\n})], fe.prototype, \"padding\", null), e([_()], fe.prototype, \"resizeAlign\", void 0), e([_({\n  readOnly: !0,\n  dependsOn: [\"state.id\"]\n})], fe.prototype, \"resolution\", null), e([_({\n  value: 0,\n  type: Number,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"rotation\", null), e([_({\n  value: 0,\n  type: Number,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"scale\", null), e([_({\n  constructOnly: !0\n})], fe.prototype, \"spatialReferenceLocked\", void 0), e([_()], fe.prototype, \"stationary\", null), e([_({\n  type: Y,\n  readOnly: !0\n})], fe.prototype, \"timeline\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"type\", void 0), e([_({\n  readOnly: !0\n})], fe.prototype, \"updating\", null), e([_({\n  value: null,\n  type: i,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"viewpoint\", null), e([_({\n  value: -1,\n  dependsOn: [\"state.id\", \"ready\"]\n})], fe.prototype, \"zoom\", null), e([_({\n  readOnly: !0\n})], fe.prototype, \"navigating\", null), e([_({\n  type: oe\n})], fe.prototype, \"ui\", void 0), fe = e([v(\"esri.views.MapView\")], fe);\nconst _e = fe;\n\nfunction ve(e) {\n  const t = e.getObjectId();\n  return t ? `${e.layer?.uid ?? e.sourceLayer?.uid ?? \"MapView\"}/${t}` : `\"MapView/${e.uid}`;\n}\n\nfunction Ve(e, i, s, r, n) {\n  return a => {\n    if (a instanceof t) {\n      if (a.layer === e) n?.();else {\n        const t = e.allLayerViews.find(e => e.layer === a.layer);\n        t && r?.(t);\n      }\n      s(ve(a));\n    } else {\n      const t = e.allLayerViews.find(e => e.layer === a);\n      t && i(t);\n    }\n  };\n}\n\nfunction Se(e, t) {\n  if (e) if (a(e)) {\n    for (const i of e) if (a(i)) for (const e of i) t(e);else t(i);\n  } else t(e);\n}\n\nfunction je(e) {\n  return \"esri.WebMap\" === e?.declaredClass;\n}\n\nexport { _e as default };","map":{"version":3,"names":["_","e","t","i","s","r","n","has","isIterable","a","o","isSome","l","unwrap","p","isNone","h","throwIfAborted","c","watch","d","whenOnce","u","sync","g","syncAndInitial","m","createScreenPoint","y","w","initialize","f","property","subclass","v","V","S","load","j","canProjectWithoutEngine","T","project","b","isLoaded","M","equals","R","x","BreakpointsOwner","L","DOMContainer","O","PopupView","k","C","z","P","E","layerView2DImporter","G","N","q","D","centerAt","U","setExtent","A","rotateTo","F","scaleTo","I","copy","W","create","$","extentToScale","B","resize","H","angleBetween","J","Q","Z","K","Timeline","Y","X","encode","ee","encodeData","te","getMaximumResolutionScale","ie","getFormatAndQuality","se","isSupportedScreenPointEvent","re","createScreenPointFromSupportedEvent","ne","check","ae","oe","le","pe","he","ce","de","ue","ge","me","GraphicsView2D","GraphicContainer","LabelManager","MapViewNavigation","MagnifierView2D","Stage","Promise","all","ye","we","declaredClass","fe","constructor","_magnifierView","_stage","_resolveWhenReady","rootLayerViews","getCollections","basemapView","baseLayerViews","layerViews","referenceLayerViews","getChildrenFunction","featuresTilingScheme","fullOpacity","graphicsView","labelManager","mapViewNavigation","renderingOptions","samplingMode","edgeLabelsVisible","labelsAnimationTime","labelCollisionsEnabled","rendering","supersampleScreenshotsEnabled","supportsGround","_stationaryTimer","frameTask","_pePromise","floors","highlightOptions","inputManager","view","map","resizeAlign","spatialReferenceLocked","timeline","type","ui","_pixelFormat","flipY","premultipliedAlpha","constraints","padding","top","right","bottom","left","handles","add","viewpoint","_lastStationaryEventTimestamp","performance","now","_flipStationary","on","_resizeHandler","animationManager","animation","destroy","_set","_gotoTask","graphicsTileStore","initialExtentRequired","scale","center","extent","zoom","initialViewProperties","effectiveLODs","targetGeometry","resourceManager","textureManager","painter","_defaultsFromMapSettings","required","tileInfo","heightModelInfo","requiresExtentInSpatialReference","_projectionEngineLoaded","finally","typeSpecificPreconditionsReady","_getDefaultViewpoint","spatialReference","_get","stop","isFulfilled","animationInProgress","requestFrame","when","background","je","_override","ready","state","paddedViewState","notifyChange","_project","getLogger","error","input","remove","fit","version","clone","width","height","size","resolution","rotation","isNaN","stationary","navigating","resizing","updating","destroyed","layerViewManager","allLayerViews","some","reduce","layer","id","console","log","JSON","stringify","_scaleBeforeChangingSpatialReference","constrain","scaleToZoom","zoomToScale","interacting","goTo","_createAnimation","then","animate","update","_gotoAnimated","_gotoImmediate","hitTest","screenPoint","results","Set","include","Se","Ve","exclude","delete","filter","suspended","reverse","toMap","graphic","mapPoint","toArray","flat","ve","takeScreenshot","_createScreenshotPlan","format","quality","disableDecorations","_takeScreenshot","Math","min","context","parameters","maxTextureSize","layers","forEach","find","container","push","children","test","toScreen","viewEvents","hasEventListener","hasHandler","whenLayerView","graphicChanged","graphicUpdateHandler","whenReady","forceDOMReadyCycle","forceReadyCycle","getDefaultSpatialReference","defaultsFromMap","hasLayerViewModule","importLayerView","pixelSizeAt","popupHitTest","requestUpdate","validate","requiredVersion","detectedVersion","warn","message","reject","done","_cancellableGoTo","catch","cancel","target","finish","setTimeout","initialExtent","_userSpatialReference","imageCoordinateSystem","geometry","concat","_startup","begin","toJSON","graphics","owner","surface","canvas","renderCanvas","supersampleScreenshots","contextOptions","disabledExtensions","deactivatedWebGLExtensions","debugWebGLExtensions","magnifier","_setupSpatialReferenceDependentProperties","_updateStageChildren","renderRequested","fatalError","end","start","_teardown","_destroySpatialReferenceDependentProperties","clear","clearTimeout","removeAllChildren","addChild","numLODs","requestUpdateCallback","_spatialReferenceChanged","processDetach","hypot","Number","isFinite","abs","processAttach","readOnly","prototype","constructOnly","value","dependsOn","cast","_e","getObjectId","uid","sourceLayer","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/MapView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Graphic.js\";import i from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import r from\"../core/CollectionFlattener.js\";import n from\"../core/Error.js\";import has from\"../core/has.js\";import{isIterable as a}from\"../core/iteratorUtils.js\";import o from\"../core/Logger.js\";import{isSome as l,unwrap as p,isNone as h}from\"../core/maybe.js\";import{throwIfAborted as c}from\"../core/promiseUtils.js\";import{watch as d,whenOnce as u,sync as g,syncAndInitial as m}from\"../core/reactiveUtils.js\";import{createScreenPoint as y}from\"../core/screenUtils.js\";import w from\"../core/Warning.js\";import{initialize as f}from\"../core/workers/workers.js\";import{property as _}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../core/accessorSupport/decorators/subclass.js\";import V from\"../geometry/Extent.js\";import S from\"../geometry/Point.js\";import{load as j,canProjectWithoutEngine as T,project as b,isLoaded as M}from\"../geometry/projection.js\";import{equals as R}from\"../geometry/support/spatialReferenceUtils.js\";import x from\"../layers/support/TileInfo.js\";import{BreakpointsOwner as L}from\"./BreakpointsOwner.js\";import{DOMContainer as O}from\"./DOMContainer.js\";import{PopupView as k}from\"./PopupView.js\";import C from\"./View.js\";import z from\"./ViewAnimation.js\";import P from\"./2d/AnimationManager.js\";import E from\"./2d/FrameTask.js\";import{layerView2DImporter as G}from\"./2d/layerViewModuleImportUtils.js\";import N from\"./2d/MapViewConstraints.js\";import q from\"./2d/PaddedViewState.js\";import\"./2d/tiling/PagedTileQueue.js\";import D from\"./2d/tiling/TileInfoView.js\";import\"./2d/tiling/TileKey.js\";import\"./2d/tiling/TileQueue.js\";import\"./2d/tiling/TileStrategy.js\";import{centerAt as U,setExtent as A,rotateTo as F,scaleTo as I,copy as W,create as $,extentToScale as B,resize as H,angleBetween as J}from\"./2d/viewpointUtils.js\";import Q from\"./2d/input/MapViewInputManager.js\";import Z from\"./2d/layers/features/support/TileStore.js\";import K from\"./2d/support/HighlightOptions.js\";import{Timeline as Y}from\"./2d/support/Timeline.js\";import X from\"./support/createScreenshotPlan.js\";import{encode as ee,encodeData as te,getMaximumResolutionScale as ie,getFormatAndQuality as se}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as re,createScreenPointFromSupportedEvent as ne}from\"./support/screenUtils.js\";import{check as ae}from\"./support/WebGLRequirements.js\";import oe from\"./ui/2d/DefaultUI2D.js\";import le from\"../webmap/background/ColorBackground.js\";let pe,he,ce,de,ue,ge;async function me(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:s,MagnifierView2D:r,Stage:n}]=await Promise.all([import(\"./2d/webglDeps.js\"),import(\"./2d/mapViewDeps.js\")]);he=e,ce=t,de=i,ue=s,ge=r,pe=n}const ye=160;function we(e){return e&&\"esri.Viewpoint\"===e.declaredClass}let fe=class extends(L(O(k(C)))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new r({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:\"dynamic\",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new E(this),this._pePromise=null,this.floors=new s,this.highlightOptions=new K,this.inputManager=new Q({view:this}),this.map=null,this.resizeAlign=\"center\",this.spatialReferenceLocked=!1,this.timeline=new Y,this.type=\"2d\",this.ui=new oe,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new N,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([d((()=>this.viewpoint),(()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(ye)}),g),this.on(\"resize\",(e=>this._resizeHandler(e))),d((()=>this.animationManager?.animation),(e=>{this.animation=e}))]),f()}destroy(){this._set(\"preconditionsReady\",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set(\"inputManager\",null)}get graphicsTileStore(){return new Z(this.featuresTilingScheme)}get initialExtentRequired(){const{scale:e,constraints:t,center:i,viewpoint:s,extent:r}=this;let n=this.zoom;return!(this.map&&\"initialViewProperties\"in this.map&&this.map.initialViewProperties?.viewpoint)&&(!r&&(t?.effectiveLODs||(n=-1),(!i||0===e&&-1===n)&&(!s||!l(s.targetGeometry)||\"extent\"!==s.targetGeometry.type&&!s.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!M()||(this._pePromise||(this._pePromise=j().finally((()=>{this._pePromise=null}))),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,i=p(e.targetGeometry);return!!T(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get(\"animation\");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set(\"animation\",null);this._set(\"animation\",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get(\"animation\")&&(this._set(\"animation\",null),this.frameTask?.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};e.when(i,i)}get background(){return je(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override(\"background\",e)}get center(){if(!this.ready)return this._get(\"center\");const{center:e,spatialReference:t}=this.state.paddedViewState;return new S({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return this._set(\"center\",e),void this.notifyChange(\"initialExtentRequired\");let t;try{t=this._project(e,this.spatialReference)}catch(s){return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-center\",\"could not project the value in the view's spatial reference\",{input:e,error:s}))}const i=this.viewpoint;U(i,i,t),this.viewpoint=i}set constraints(e){const t=this._get(\"constraints\");t&&(this.handles.remove(\"map-view-constraints\"),t.destroy()),this._set(\"constraints\",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(d((()=>e.version),(()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))}),g),\"map-view-constraints\"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get(\"extent\")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-extent\",\"invalid extent size\"));if(!this.ready)return this._set(\"extent\",e),this._set(\"center\",null),this._set(\"viewpoint\",null),this._set(\"scale\",0),this._set(\"zoom\",-1),void this.notifyChange(\"initialExtentRequired\");let t;try{t=this._project(e,this.spatialReference)}catch(s){return void o.getLogger(this.declaredClass).error(new n(\"mapview:invalid-extent\",\"could not project the value in the view's spatial reference\",{error:s}))}const i=this.viewpoint;A(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get(\"padding\")}set padding(e){this.ready?(this.state.padding=e,this._set(\"padding\",this.state.padding)):this._set(\"padding\",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get(\"rotation\")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set(\"rotation\",e);const t=this.viewpoint;F(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get(\"scale\")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set(\"scale\",e),this._set(\"zoom\",-1);const t=this._get(\"extent\");return t&&(this._set(\"extent\",null),this._set(\"center\",t.center)),void this.notifyChange(\"initialExtentRequired\")}const t=this.viewpoint;I(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!(\"layerViews\"in e)&&!0===e.updating)));if(has(\"esri-2d-log-updating\")){const t=this.allLayerViews.reduce(((e,t)=>({...e,[t.layer.id]:!t.destroyed&&!(\"layerViews\"in t)&&t.updating})),{});console.log(`Updating MapView: ${e}\\n-> Null LayerViewManager: ${!this.layerViewManager}\\n-> Null LabelManager: ${!this.labelManager}\\n-> Null GraphicsView: ${!this.graphicsView}\\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\\n-> labelManager.updating: ${this.labelManager?.updating}\\n-> graphicsView.updating: ${this.graphicsView?.updating}\\n-> allLayerViews: ${JSON.stringify(t)}\\n`)}return e}get viewpoint(){if(!this.ready)return this._get(\"viewpoint\");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set(\"viewpoint\",e),this._set(\"extent\",null),this._set(\"center\",null),this._set(\"zoom\",-1),this._set(\"scale\",0),void this.notifyChange(\"initialExtentRequired\");let t,s;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?s=new n(\"mapview:invalid-viewpoint\",`invalid scale value of ${e.scale}`):h(e.targetGeometry)&&(s=new n(\"mapview:invalid-viewpoint\",\"geometry not defined\"))}catch(a){s=new n(\"mapview:invalid-viewpoint\",\"could not project the value in the view's spatial reference\",{error:a})}if(s)return void o.getLogger(this.declaredClass).error(s);this._scaleBeforeChangingSpatialReference=null;const r=new i({targetGeometry:new S,scale:0,rotation:0});W(r,t),this.constraints.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this.frameTask.requestFrame(),this._set(\"viewpoint\",r)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get(\"zoom\")}set zoom(e){if(null==e)return;if(!this.ready){this._set(\"zoom\",e),this._set(\"scale\",0);const t=this._get(\"extent\");return t&&(this._set(\"extent\",null),this._set(\"center\",t.center)),void this.notifyChange(\"initialExtentRequired\")}if(!this.constraints.effectiveLODs)return void this._set(\"zoom\",-1);const t=this.viewpoint;I(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set(\"zoom\",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),u((()=>this.ready),t).then((()=>{const i={animate:!0,...t},s=$(e,this);return this.animation.update(s),this._gotoTask={},i.animate?this._gotoAnimated(s,i):this._gotoImmediate(s,i)}));o.getLogger(this.declaredClass).error(\"#goTo()\",\"target cannot be null or undefined\")}async hitTest(e,t){const i=re(e)?ne(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let s=new Set,r=!1,n=null,a=null;t?.include?Se(t.include,Ve(this,(e=>s.add(e)),(e=>{n||(n=new Set),n.add(e)}),(e=>s.add(e)),(()=>r=!0))):(r=!0,s=new Set(this.allLayerViews)),t?.exclude&&Se(t.exclude,Ve(this,(e=>s.delete(e)),(e=>{a||(a=new Set),a.add(e)})));const o=this.allLayerViews.filter((e=>!e.suspended&&s.has(e))).reverse(),p=this.toMap(i);let h=[...r?this.graphicsView.hitTest(p).map((e=>({type:\"graphic\",graphic:e,layer:null,mapPoint:p}))):[],...await Promise.all(o.map((e=>e.hitTest(p,i))).toArray())].filter(l).flat().filter(l);return n&&(h=h.filter((e=>!(\"graphic\"in e)||!e.graphic||n.has(ve(e.graphic))))),a&&(h=h.filter((e=>!(\"graphic\"in e)||!e.graphic||a.has(ve(e.graphic))))),{screenPoint:i,results:h}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return ee(i,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return te(i,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,ie(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach((e=>{const t=this.allLayerViews.find((t=>t.layer.id===e.id));t&&\"container\"in t&&t.container&&i.push(t.container)}))):i=this._stage.children;const{format:s,quality:r}=se(e.format,e.quality);return X(e,t,this.size,this.padding,s,r,i,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=re(e)?ne(this,e):e,i=[0,0],[s,r]=this.state.toMap(i,[t.x,t.y]),n=this.spatialReference;return new S({x:s,y:r,spatialReference:n})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),y(i[0],i[1])}on(e,t,i,s){const r=this.inputManager&&this.viewEvents.on(e,t,i,s);return r||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){if(this.graphicsView){this.graphicsView.graphicUpdateHandler(e)}}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(e){return G.hasLayerViewModule(e)}importLayerView(e){return G.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(o.getLogger(this.declaredClass).error(\"#pixelSizeAt()\",\"Map view cannot be used before it is ready\"),null)}popupHitTest(e){return this.hitTest(e).then((t=>({...t,mapPoint:this.toMap(e)})))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=ae(this.type);return has(\"safari\")&&has(\"safari\")<9&&(e=new n(\"mapview:browser-not-supported\",\"This browser is not supported by MapView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:has(\"safari\")})),l(e)?(o.getLogger(this.declaredClass).warn(\"#validate()\",e.message),Promise.reject(e)):me()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new z),this.animation}_cancellableGoTo(e,t,i){const s=()=>e===this._gotoTask,r=i.then((()=>{s()&&(this.animation=null)})).catch((e=>{throw s()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),e})),n=new Promise((e=>e(r)));return t.when().catch((()=>{s()&&n.cancel&&n.cancel()})),n}_gotoImmediate(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(c(t),i!==this._gotoTask)throw new n(\"view:goto-interrupted\",\"Goto was interrupted\");this.viewpoint=s.target=e,s.finish()}));return this._cancellableGoTo(i,s,r)}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((()=>{this._stationaryTimer=null;const e=performance.now()-this._lastStationaryEventTimestamp;e<ye&&(this._stationaryTimer=this._flipStationary(e))}),e)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:s,padding:r,size:n}=this;if(!e)return null;const a=s&&\"initialViewProperties\"in s&&s.initialViewProperties,o={zoom:this._get(\"zoom\"),scale:this._get(\"scale\"),center:this._get(\"center\"),extent:this._get(\"extent\"),rotation:this._get(\"rotation\"),viewpoint:this._get(\"viewpoint\"),spatialReference:this._userSpatialReference};e.effectiveLODs?-1!==o.zoom&&(o.scale=e.zoomToScale(o.zoom)):o.zoom=-1;let h=null,c=null,d=0;const u=o.viewpoint&&o.viewpoint.rotation,g=o.viewpoint&&o.viewpoint.targetGeometry;l(g)&&(\"extent\"===g.type?h=g:\"point\"===g.type&&(c=g,d=o.viewpoint.scale));const m=o.extent||h||p(a?.viewpoint?.targetGeometry)?.extent||t,y=o.center||c||m?.center,w=o.scale||d||a?.viewpoint?.scale||m&&B(m,[n[0]-r.left-r.right,n[1]-r.top-r.bottom]),f=o.rotation||u||a?.viewpoint?.rotation||0;return y&&w?new i({targetGeometry:y,scale:w,rotation:f}):null}_gotoAnimated(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(c(t),i!==this._gotoTask)throw new n(\"view:goto-interrupted\",\"Goto was interrupted\");return s.update(e),this.animationManager.animate(s,this.viewpoint,t),s.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,s,r)}_project(e,t){const i=e&&e.targetGeometry||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return e;if(R(t,i.spatialReference))return e;const s=b(i,t);if(!s)throw new n(\"mapview:projection-not-possible\",\"projecting input geometry to target spatial reference returned a null value\",{geometry:i,spatialReference:t});return we(e)?(e.targetGeometry=s,e):s}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],H(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){this.timeline.begin(\"MapView Startup\");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(l){o.getLogger(this.declaredClass).warn(new w(\"mapview:startup-projection-error\",\"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\",{center:t.toJSON(),spatialReference:this.spatialReference,error:l})),e.targetGeometry=this.defaultsFromMap.extent?.center||new S({x:0,y:0,spatialReference:this.spatialReference})}this.constraints?.fit(e),this._set(\"state\",new q({padding:this._get(\"padding\"),size:this.size,viewpoint:e})),this.graphics.owner=this;const i=new pe(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=i,this._magnifierView=new ge,this._magnifierView.magnifier=this.magnifier;const s=new de({view:this});this._set(\"labelManager\",s);const r=new P({view:this});this._set(\"animationManager\",r);const n=new ue({view:this,animationManager:r});this._set(\"mapViewNavigation\",n),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on(\"change\",(()=>this._updateStageChildren())),i.on(\"post-render\",(()=>this._set(\"rendering\",i.renderRequested))),i.on(\"will-render\",(()=>this._set(\"rendering\",i.renderRequested))),i.on(\"webgl-error\",(e=>this.fatalError=e.error)),d((()=>this.stationary),(e=>i.stationary=e),m),d((()=>this.background),(e=>{i.background=e,this._magnifierView.background=e}),m),d((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),m),d((()=>this.renderingOptions),(e=>i.renderingOptions=e),m),d((()=>this.highlightOptions),(e=>i.highlightOptions=e),m),d((()=>this.state.id),(()=>i.state=this.state),m)],\"map-view\"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach((e=>e(this))),this.timeline.end(\"MapView Startup\"),this.frameTask&&this.frameTask.start(),this._set(\"ready\",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove(\"map-view\"),this.mapViewNavigation.destroy(),this._set(\"mapViewNavigation\",null),this.animationManager.destroy(),this._set(\"animationManager\",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set(\"graphicsView\",null),this._magnifierView=null,this._set(\"labelManager\",null),this._set(\"mapViewNavigation\",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set(\"ready\",!1);const{center:[e,t],spatialReference:i,rotation:s,scale:r}=this.state.paddedViewState,n=new S({x:e,y:t,spatialReference:i});this._set(\"viewpoint\",null),this._set(\"extent\",null),this._set(\"center\",n),this._set(\"zoom\",-1),this._set(\"rotation\",s),this._set(\"scale\",r),this._set(\"spatialReference\",i),this._set(\"state\",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this._stage.addChild(e.container)}));const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new D(x.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set(\"featuresTilingScheme\",e);const t=new he({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ce(e)});this.frameTask.graphicsView=t,this._set(\"graphicsView\",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set(\"graphicsView\",null),this.frameTask.graphicsView=null,e.destroy(),this._set(\"featuresTilingScheme\",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(h(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const s=t.clone(),[r,n]=t.center;let a=null;try{a=this._project(new S({x:r,y:n,spatialReference:t.spatialReference}),e)}catch(p){M()||o.getLogger(this.declaredClass).warn(new w(\"mapview:spatial-reference-change\",\"could not project the view's center to the new spatial reference\",{center:a.toJSON(),spatialReference:e,error:p}))}a||(a=new S({x:0,y:0,spatialReference:e}));const l=U(new i({targetGeometry:new S,scale:0,rotation:0}),t.viewpoint,a);s.viewpoint=l;try{const i=20,r=[t.size[0]/2,t.size[1]/2],n=[r[0]+i,r[1]],a=t.toMap([0,0],n),{x:o,y:p}=this._project(new S({x:a[0],y:a[1],spatialReference:t.spatialReference}),e);a[0]=o,a[1]=p,s.toScreen(a,a);const h=J(r,a,n),c=Math.hypot(a[0]-r[0],a[1]-r[1])/i;!Number.isFinite(c)||Math.abs(c)>4?(l.rotation=0,l.targetGeometry=new S({x:0,y:0,spatialReference:e})):(l.scale*=c,l.scale>has(\"mapview-srswitch-adjust-rotation-scale-threshold\")?l.rotation=0:l.rotation+=Number.isFinite(h)?h:0)}catch{}this._get(\"constraints\").constrain(l,null),this._get(\"state\").viewpoint=l,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};fe.type=\"2d\",e([_({readOnly:!0})],fe.prototype,\"animationManager\",void 0),e([_({constructOnly:!0})],fe.prototype,\"deactivatedWebGLExtensions\",void 0),e([_({constructOnly:!0})],fe.prototype,\"debugWebGLExtensions\",void 0),e([_({readOnly:!0})],fe.prototype,\"featuresTilingScheme\",void 0),e([_({readOnly:!0})],fe.prototype,\"fullOpacity\",void 0),e([_({readOnly:!0})],fe.prototype,\"graphicsTileStore\",null),e([_()],fe.prototype,\"graphicsView\",void 0),e([_({readOnly:!0})],fe.prototype,\"state\",void 0),e([_()],fe.prototype,\"initialExtentRequired\",null),e([_()],fe.prototype,\"labelManager\",void 0),e([_({readOnly:!0})],fe.prototype,\"resourceManager\",null),e([_({readOnly:!0})],fe.prototype,\"textureManager\",null),e([_({readOnly:!0})],fe.prototype,\"mapViewNavigation\",void 0),e([_({constructOnly:!0})],fe.prototype,\"renderCanvas\",void 0),e([_()],fe.prototype,\"renderingOptions\",void 0),e([_({readOnly:!0})],fe.prototype,\"rendering\",void 0),e([_({constructOnly:!0})],fe.prototype,\"supersampleScreenshotsEnabled\",void 0),e([_({readOnly:!0})],fe.prototype,\"supportsGround\",void 0),e([_()],fe.prototype,\"_stationaryTimer\",void 0),e([_()],fe.prototype,\"_defaultsFromMapSettings\",null),e([_()],fe.prototype,\"_pePromise\",void 0),e([_({readOnly:!0})],fe.prototype,\"typeSpecificPreconditionsReady\",null),e([_()],fe.prototype,\"animation\",null),e([_({type:le})],fe.prototype,\"background\",null),e([_({value:null,type:S,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"center\",null),e([_({type:N})],fe.prototype,\"constraints\",null),e([_({value:null,type:V,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"extent\",null),e([_()],fe.prototype,\"floors\",void 0),e([_({type:K})],fe.prototype,\"highlightOptions\",void 0),e([_({readOnly:!0})],fe.prototype,\"inputManager\",void 0),e([_()],fe.prototype,\"map\",void 0),e([_({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],fe.prototype,\"padding\",null),e([_()],fe.prototype,\"resizeAlign\",void 0),e([_({readOnly:!0,dependsOn:[\"state.id\"]})],fe.prototype,\"resolution\",null),e([_({value:0,type:Number,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"rotation\",null),e([_({value:0,type:Number,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"scale\",null),e([_({constructOnly:!0})],fe.prototype,\"spatialReferenceLocked\",void 0),e([_()],fe.prototype,\"stationary\",null),e([_({type:Y,readOnly:!0})],fe.prototype,\"timeline\",void 0),e([_({readOnly:!0})],fe.prototype,\"type\",void 0),e([_({readOnly:!0})],fe.prototype,\"updating\",null),e([_({value:null,type:i,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"viewpoint\",null),e([_({value:-1,dependsOn:[\"state.id\",\"ready\"]})],fe.prototype,\"zoom\",null),e([_({readOnly:!0})],fe.prototype,\"navigating\",null),e([_({type:oe})],fe.prototype,\"ui\",void 0),fe=e([v(\"esri.views.MapView\")],fe);const _e=fe;function ve(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??\"MapView\"}/${t}`:`\"MapView/${e.uid}`}function Ve(e,i,s,r,n){return a=>{if(a instanceof t){if(a.layer===e)n?.();else{const t=e.allLayerViews.find((e=>e.layer===a.layer));t&&r?.(t)}s(ve(a))}else{const t=e.allLayerViews.find((e=>e.layer===a));t&&i(t)}}}function Se(e,t){if(e)if(a(e))for(const i of e)if(a(i))for(const e of i)t(e);else t(i);else t(e)}function je(e){return\"esri.WebMap\"===e?.declaredClass}export{_e as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}