{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { neverReached as e } from \"../../../../../../core/compilerUtils.js\";\nimport { NormalAttributeType as r } from \"../attributes/NormalAttribute.glsl.js\";\nimport { VertexNormal as o } from \"../attributes/VertexNormal.glsl.js\";\nimport { VertexPosition as a } from \"../attributes/VertexPosition.glsl.js\";\nimport { NormalsDoubleSidedMode as d } from \"./Normals.glsl.js\";\nimport { glsl as i } from \"../../shaderModules/interfaces.js\";\n\nfunction t(t, s) {\n  const l = t.fragment;\n\n  switch (s.doubleSidedMode) {\n    case d.None:\n      l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn normal;\n}`);\n      break;\n\n    case d.View:\n      t.include(a, s), l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn dot(normal, vPositionWorldCameraRelative) > 0.0 ? -normal : normal;\n}`);\n      break;\n\n    case d.WindingOrder:\n      l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn gl_FrontFacing ? normal : -normal;\n}`);\n      break;\n\n    default:\n      e(s.doubleSidedMode);\n\n    case d.COUNT:\n  }\n\n  switch (s.normalType) {\n    case r.Attribute:\n    case r.CompressedAttribute:\n      t.include(o, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn _adjustDoublesided(normalize(vNormalWorld));\n}\nvec3 shadingNormal_view() {\nvec3 normal = normalize(vNormalView);\nreturn gl_FrontFacing ? normal : -normal;\n}`);\n      break;\n\n    case r.ScreenDerivative:\n      t.extensions.add(\"GL_OES_standard_derivatives\"), t.include(a, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(cross(\ndFdx(vPositionWorldCameraRelative),\ndFdy(vPositionWorldCameraRelative)\n));\n}\nvec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view)));\n}`);\n      break;\n\n    case r.Ground:\n      s.spherical ? (t.include(a, s), l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(positionWorld());\n}`)) : l.code.add(i`vec3 shadingNormalWorld() {\nreturn vec3(0.0, 0.0, 1.0);\n}`), t.extensions.add(\"GL_OES_standard_derivatives\"), l.code.add(i`vec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view))).xyz;\n}`);\n      break;\n\n    default:\n      e(s.normalType);\n\n    case r.COUNT:\n  }\n}\n\nexport { t as ComputeShadingNormal };","map":{"version":3,"names":["neverReached","e","NormalAttributeType","r","VertexNormal","o","VertexPosition","a","NormalsDoubleSidedMode","d","glsl","i","t","s","l","fragment","doubleSidedMode","None","code","add","View","include","WindingOrder","COUNT","normalType","Attribute","CompressedAttribute","ScreenDerivative","extensions","Ground","spherical","ComputeShadingNormal"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeShadingNormal.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{NormalAttributeType as r}from\"../attributes/NormalAttribute.glsl.js\";import{VertexNormal as o}from\"../attributes/VertexNormal.glsl.js\";import{VertexPosition as a}from\"../attributes/VertexPosition.glsl.js\";import{NormalsDoubleSidedMode as d}from\"./Normals.glsl.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";function t(t,s){const l=t.fragment;switch(s.doubleSidedMode){case d.None:l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn normal;\n}`);break;case d.View:t.include(a,s),l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn dot(normal, vPositionWorldCameraRelative) > 0.0 ? -normal : normal;\n}`);break;case d.WindingOrder:l.code.add(i`vec3 _adjustDoublesided(vec3 normal) {\nreturn gl_FrontFacing ? normal : -normal;\n}`);break;default:e(s.doubleSidedMode);case d.COUNT:}switch(s.normalType){case r.Attribute:case r.CompressedAttribute:t.include(o,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn _adjustDoublesided(normalize(vNormalWorld));\n}\nvec3 shadingNormal_view() {\nvec3 normal = normalize(vNormalView);\nreturn gl_FrontFacing ? normal : -normal;\n}`);break;case r.ScreenDerivative:t.extensions.add(\"GL_OES_standard_derivatives\"),t.include(a,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(cross(\ndFdx(vPositionWorldCameraRelative),\ndFdy(vPositionWorldCameraRelative)\n));\n}\nvec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view)));\n}`);break;case r.Ground:s.spherical?(t.include(a,s),l.code.add(i`vec3 shadingNormalWorld() {\nreturn normalize(positionWorld());\n}`)):l.code.add(i`vec3 shadingNormalWorld() {\nreturn vec3(0.0, 0.0, 1.0);\n}`),t.extensions.add(\"GL_OES_standard_derivatives\"),l.code.add(i`vec3 shadingNormal_view() {\nreturn normalize(cross(dFdx(vPosition_view),dFdy(vPosition_view))).xyz;\n}`);break;default:e(s.normalType);case r.COUNT:}}export{t as ComputeShadingNormal};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAvB,QAA6B,yCAA7B;AAAuE,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,uCAApC;AAA4E,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,oCAA7B;AAAkE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,sCAA/B;AAAsE,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,mBAAvC;AAA2D,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAMC,CAAC,GAACF,CAAC,CAACG,QAAV;;EAAmB,QAAOF,CAAC,CAACG,eAAT;IAA0B,KAAKP,CAAC,CAACQ,IAAP;MAAYH,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AACre;AACA,EAFwd;MAEpd;;IAAM,KAAKF,CAAC,CAACW,IAAP;MAAYR,CAAC,CAACS,OAAF,CAAUd,CAAV,EAAYM,CAAZ,GAAeC,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAClD;AACA,EAFqC,CAAf;MAElB;;IAAM,KAAKF,CAAC,CAACa,YAAP;MAAoBR,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAC3C;AACA,EAF8B;MAE1B;;IAAM;MAAQV,CAAC,CAACY,CAAC,CAACG,eAAH,CAAD;;IAAqB,KAAKP,CAAC,CAACc,KAAP;EAN2Y;;EAM7X,QAAOV,CAAC,CAACW,UAAT;IAAqB,KAAKrB,CAAC,CAACsB,SAAP;IAAiB,KAAKtB,CAAC,CAACuB,mBAAP;MAA2Bd,CAAC,CAACS,OAAF,CAAUhB,CAAV,EAAYQ,CAAZ,GAAeC,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAClJ;AACA;AACA;AACA;AACA;AACA,EANqI,CAAf;MAMlH;;IAAM,KAAKR,CAAC,CAACwB,gBAAP;MAAwBf,CAAC,CAACgB,UAAF,CAAaT,GAAb,CAAiB,6BAAjB,GAAgDP,CAAC,CAACS,OAAF,CAAUd,CAAV,EAAYM,CAAZ,CAAhD,EAA+DC,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EARiG,CAA/D;MAQ9B;;IAAM,KAAKR,CAAC,CAAC0B,MAAP;MAAchB,CAAC,CAACiB,SAAF,IAAalB,CAAC,CAACS,OAAF,CAAUd,CAAV,EAAYM,CAAZ,GAAeC,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AACjE;AACA,EAFoD,CAA5B,IAEnBG,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AAClB;AACA,EAFK,CAFmB,EAIpBC,CAAC,CAACgB,UAAF,CAAaT,GAAb,CAAiB,6BAAjB,CAJoB,EAI4BL,CAAC,CAACI,IAAF,CAAOC,GAAP,CAAWR,CAAE;AACjE;AACA,EAFoD,CAJ5B;MAMpB;;IAAM;MAAQV,CAAC,CAACY,CAAC,CAACW,UAAH,CAAD;;IAAgB,KAAKrB,CAAC,CAACoB,KAAP;EApBmB;AAoBJ;;AAAA,SAAOX,CAAC,IAAImB,oBAAZ"},"metadata":{},"sourceType":"module"}