{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { makeData as e, isAbsolute as a, join as r, isDataProtocol as t, dataComponents as i } from \"../../core/urlUtils.js\";\nimport { f as n, w as l } from \"../../chunks/persistableUrlUtils.js\";\n\nfunction o(a, r, t) {\n  return r.imageData ? e({\n    mediaType: r.contentType || \"image/png\",\n    isBase64: !0,\n    data: r.imageData\n  }) : s(r.url, t);\n}\n\nfunction s(e, t) {\n  return p(t) && !a(e) && t?.layer?.parsedUrl ? r(t.layer.parsedUrl.path, \"images\", e) : n(e, t);\n}\n\nfunction u(e, a, r, n) {\n  if (t(e)) {\n    const t = i(e);\n    if (!t) return;\n    a.contentType = t.mediaType, a.imageData = t.data, r && r.imageData === a.imageData && r.url && l(r.url, a, \"url\", n);\n  } else l(e, a, \"url\", n);\n}\n\nconst m = {\n  json: {\n    read: {\n      source: [\"imageData\", \"url\"],\n      reader: o\n    },\n    write: {\n      writer(e, a, r, t) {\n        u(e, a, this.source, t);\n      }\n\n    }\n  }\n},\n      c = {\n  readOnly: !0,\n  json: {\n    read: {\n      source: [\"imageData\", \"url\"],\n\n      reader(e, a, r) {\n        const t = {};\n        return a.imageData && (t.imageData = a.imageData), a.contentType && (t.contentType = a.contentType), a.url && (t.url = s(a.url, r)), t;\n      }\n\n    }\n  }\n};\n\nfunction p(e) {\n  return !(null == e || \"service\" !== e.origin && \"portal-item\" !== e.origin || \"feature\" !== e.layer?.type && \"stream\" !== e.layer?.type);\n}\n\nexport { s as read, o as readImageDataOrUrl, c as sourcePropertyDefinition, m as urlPropertyDefinition, u as writeImageDataAndUrl };","map":{"version":3,"names":["makeData","e","isAbsolute","a","join","r","isDataProtocol","t","dataComponents","i","f","n","w","l","o","imageData","mediaType","contentType","isBase64","data","s","url","p","layer","parsedUrl","path","u","m","json","read","source","reader","write","writer","c","readOnly","origin","type","readImageDataOrUrl","sourcePropertyDefinition","urlPropertyDefinition","writeImageDataAndUrl"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/support/urlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{makeData as e,isAbsolute as a,join as r,isDataProtocol as t,dataComponents as i}from\"../../core/urlUtils.js\";import{f as n,w as l}from\"../../chunks/persistableUrlUtils.js\";function o(a,r,t){return r.imageData?e({mediaType:r.contentType||\"image/png\",isBase64:!0,data:r.imageData}):s(r.url,t)}function s(e,t){return p(t)&&!a(e)&&t?.layer?.parsedUrl?r(t.layer.parsedUrl.path,\"images\",e):n(e,t)}function u(e,a,r,n){if(t(e)){const t=i(e);if(!t)return;a.contentType=t.mediaType,a.imageData=t.data,r&&r.imageData===a.imageData&&r.url&&l(r.url,a,\"url\",n)}else l(e,a,\"url\",n)}const m={json:{read:{source:[\"imageData\",\"url\"],reader:o},write:{writer(e,a,r,t){u(e,a,this.source,t)}}}},c={readOnly:!0,json:{read:{source:[\"imageData\",\"url\"],reader(e,a,r){const t={};return a.imageData&&(t.imageData=a.imageData),a.contentType&&(t.contentType=a.contentType),a.url&&(t.url=s(a.url,r)),t}}}};function p(e){return!(null==e||\"service\"!==e.origin&&\"portal-item\"!==e.origin||\"feature\"!==e.layer?.type&&\"stream\"!==e.layer?.type)}export{s as read,o as readImageDataOrUrl,c as sourcePropertyDefinition,m as urlPropertyDefinition,u as writeImageDataAndUrl};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}