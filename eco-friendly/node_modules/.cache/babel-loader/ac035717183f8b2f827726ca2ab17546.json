{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { c as e } from \"./vec4f64.js\";\nimport { ScreenSizeScaling as o } from \"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";\nimport { ShaderOutput as r } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";\nimport { SliceDraw as i } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as a } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { multipassTerrainTest as s } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";\nimport { symbolAlphaCutoff as d } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { ColorConversion as l } from \"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";\nimport { addProjViewLocalOrigin as n } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float3PassUniform as t } from \"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";\nimport { Float4PassUniform as c } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { glsl as g } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { Matrix4PassUniform as m } from \"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";\nimport { ShaderBuilder as v } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { TransparencyPassType as w } from \"../views/3d/webgl-engine/lib/basicInterfaces.js\";\nimport { VertexAttribute as u } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction f(e) {\n  const f = new v(),\n        b = e.hasMultipassTerrain && (e.output === r.Color || e.output === r.Alpha);\n  f.include(a), f.include(o, e), f.include(i, e);\n  const {\n    vertex: h,\n    fragment: C\n  } = f;\n  return C.include(l), n(f, e), C.uniforms.add(new c(\"uColor\", e => e.color)), f.attributes.add(u.POSITION, \"vec3\"), f.varyings.add(\"vWorldPosition\", \"vec3\"), b && f.varyings.add(\"depth\", \"float\"), e.screenSizeEnabled && f.attributes.add(u.OFFSET, \"vec3\"), e.shadingEnabled && (h.uniforms.add(new m(\"viewNormal\", (e, o) => o.camera.viewInverseTransposeMatrix)), f.attributes.add(u.NORMAL, \"vec3\"), f.varyings.add(\"vViewNormal\", \"vec3\")), h.code.add(g`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled ? \"screenSizeScaling(offset, position)\" : \"position\"};\n  `), e.shadingEnabled && h.code.add(g`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`), h.code.add(g`\n    ${b ? \"depth = (view * vec4(vWorldPosition, 1.0)).z;\" : \"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `), b && f.include(s, e), C.code.add(g`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n    `), e.shadingEnabled ? (C.uniforms.add(new t(\"shadingDirection\", e => e.shadingDirection)), C.uniforms.add(new c(\"shadedColor\", e => p(e.shadingTint, e.color))), C.code.add(g`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)) : C.code.add(g`vec4 finalColor = uColor;`), C.code.add(g`\n      if (finalColor.a < ${g.float(d)}) {\n        discard;\n      }\n      ${e.output === r.Alpha ? g`gl_FragColor = vec4(finalColor.a);` : \"\"}\n\n      ${e.output === r.Color ? g`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType === w.Color ? \"gl_FragColor = premultiplyAlpha(gl_FragColor);\" : \"\"}` : \"\"}\n    }\n    `), f;\n}\n\nfunction p(e, o) {\n  const r = 1 - e[3],\n        i = e[3] + o[3] * r;\n  return 0 === i ? (b[3] = i, b) : (b[0] = (e[0] * e[3] + o[0] * o[3] * r) / i, b[1] = (e[1] * e[3] + o[1] * o[3] * r) / i, b[2] = (e[2] * e[3] + o[2] * o[3] * r) / i, b[3] = o[3], b);\n}\n\nconst b = e(),\n      h = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: f\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { h as S, f as b };","map":{"version":3,"names":["c","e","ScreenSizeScaling","o","ShaderOutput","r","SliceDraw","i","Transform","a","multipassTerrainTest","s","symbolAlphaCutoff","d","ColorConversion","l","addProjViewLocalOrigin","n","Float3PassUniform","t","Float4PassUniform","glsl","g","Matrix4PassUniform","m","ShaderBuilder","v","TransparencyPassType","w","VertexAttribute","u","f","b","hasMultipassTerrain","output","Color","Alpha","include","vertex","h","fragment","C","uniforms","add","color","attributes","POSITION","varyings","screenSizeEnabled","OFFSET","shadingEnabled","camera","viewInverseTransposeMatrix","NORMAL","code","shadingDirection","p","shadingTint","float","transparencyPassType","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","S"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as g}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as v}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as w}from\"../views/3d/webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(e){const f=new v,b=e.hasMultipassTerrain&&(e.output===r.Color||e.output===r.Alpha);f.include(a),f.include(o,e),f.include(i,e);const{vertex:h,fragment:C}=f;return C.include(l),n(f,e),C.uniforms.add(new c(\"uColor\",(e=>e.color))),f.attributes.add(u.POSITION,\"vec3\"),f.varyings.add(\"vWorldPosition\",\"vec3\"),b&&f.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&f.attributes.add(u.OFFSET,\"vec3\"),e.shadingEnabled&&(h.uniforms.add(new m(\"viewNormal\",((e,o)=>o.camera.viewInverseTransposeMatrix))),f.attributes.add(u.NORMAL,\"vec3\"),f.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(g`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(g`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(g`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&f.include(s,e),C.code.add(g`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),e.shadingEnabled?(C.uniforms.add(new t(\"shadingDirection\",(e=>e.shadingDirection))),C.uniforms.add(new c(\"shadedColor\",(e=>p(e.shadingTint,e.color)))),C.code.add(g`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(g`vec4 finalColor = uColor;`),C.code.add(g`\n      if (finalColor.a < ${g.float(d)}) {\n        discard;\n      }\n      ${e.output===r.Alpha?g`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${e.output===r.Color?g`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===w.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),f}function p(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{h as S,f as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}