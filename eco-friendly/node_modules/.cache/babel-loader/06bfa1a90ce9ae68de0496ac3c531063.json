{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport r from \"../../core/Logger.js\";\nimport { isNone as i } from \"../../core/maybe.js\";\nimport n from \"../../core/Queue.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { PropertiesPool as a } from \"../3d/support/PropertiesPool.js\";\nimport { primaryKey as p, isSystemModifier as h } from \"./keys.js\";\nimport { LatestPointer as l } from \"./handlers/LatestPointer.js\";\nconst d = r.getLogger(\"esri.views.input.InputManager\");\nlet c = class extends t {\n  constructor(e) {\n    super(e), this._pointerCaptures = new Map(), this._nameToGroup = {}, this._handlers = [], this._currentPropagation = null, this._updateDependenciesAfterPropagation = !1, this._sourceEvents = new Set(), this._keyModifiers = new Set(), this._activeKeyModifiers = new Set(), this._stoppedPropagationEventIds = new Set(), this.primaryKey = p, this.latestPointerType = \"mouse\", this._propertiesPool = new a({\n      latestPointerLocation: P\n    }, this), this.latestPointerLocation = null, this.test = {\n      timestamp: void 0,\n      hasCurrentPropagation: () => !!this._currentPropagation\n    };\n  }\n\n  initialize() {\n    this.eventSource.onEventReceived = this._onEventReceived.bind(this), this._installRecognizers();\n  }\n\n  destroy() {\n    const e = Object.keys(this._nameToGroup);\n\n    for (const t of e) this.uninstallHandlers(t);\n\n    this.eventSource = null, this._currentPropagation = null, this._propertiesPool.destroy();\n  }\n\n  get hasPendingInputs() {\n    return this._handlers.some(e => e.handler.hasPendingInputs);\n  }\n\n  installHandlers(e, t, r = g.INTERNAL) {\n    if (this._nameToGroup[e]) return void d.error(\"There is already an InputHandler group registered under the name `\" + e + \"`\");\n    if (0 === t.length) return void d.error(\"Can't register a group of zero handlers\");\n    const i = {\n      name: e,\n      handlers: t.map(e => ({\n        handler: e,\n        active: !0,\n        removed: !1,\n        priorityIndex: 0,\n        groupPriority: r,\n        eventCallback: null,\n        uninstallCallback: null\n      }))\n    };\n    this._nameToGroup[e] = i;\n\n    for (let n = i.handlers.length - 1; n >= 0; n--) {\n      const e = i.handlers[n];\n      this._handlers.push(e), e.handler.onInstall({\n        updateDependencies: () => {\n          this.updateDependencies();\n        },\n        emit: (t, r, i, n, s) => {\n          this._emitInputEvent(e.priorityIndex + 1, t, r, i, s, n);\n        },\n        setPointerCapture: (t, r) => {\n          this._setPointerCapture(i, e, t, r);\n        },\n        setEventCallback: t => {\n          e.eventCallback = t;\n        },\n        setUninstallCallback: t => {\n          e.uninstallCallback = t;\n        },\n        refreshHasPendingInputs: () => {\n          this.notifyChange(\"hasPendingInputs\");\n        }\n      });\n    }\n\n    this.updateDependencies();\n  }\n\n  uninstallHandlers(e) {\n    const t = this._nameToGroup[e];\n    t ? (t.handlers.forEach(e => {\n      e.removed = !0, e.uninstallCallback();\n    }), delete this._nameToGroup[e], this._currentPropagation ? this._currentPropagation.needsHandlerGarbageCollect = !0 : this._garbageCollectRemovedHandlers()) : d.error(\"There is no InputHandler group registered under the name `\" + e + \"`\");\n  }\n\n  hasHandlers(e) {\n    return void 0 !== this._nameToGroup[e];\n  }\n\n  updateDependencies() {\n    if (this._currentPropagation) return void (this._updateDependenciesAfterPropagation = !0);\n    this._updateDependenciesAfterPropagation = !1;\n    const e = new Set(),\n          t = new Set();\n    this._handlersPriority = [];\n\n    for (let r = this._handlers.length - 1; r >= 0; r--) {\n      const e = this._handlers[r];\n      e.priorityIndex = r, this._handlersPriority.push(e);\n    }\n\n    this._handlersPriority = this._sortHandlersPriority(this._handlersPriority);\n\n    for (let r = this._handlersPriority.length - 1; r >= 0; r--) {\n      const i = this._handlersPriority[r];\n      i.priorityIndex = r;\n      let n = i.handler.hasSideEffects;\n      if (!n) for (const t of i.handler.outgoingEventTypes) if (e.has(t)) {\n        n = !0;\n        break;\n      }\n      if (n) for (const r of i.handler.incomingEventMatches) {\n        e.add(r.eventType);\n\n        for (const e of r.keyModifiers) h(e) || t.add(e);\n      }\n      i.active = n;\n    }\n\n    this._sourceEvents = e, this._keyModifiers = t, this._pointerCaptures.size > 0 && this._sourceEvents.add(\"pointer-capture-lost\"), this._keyModifiers.size > 0 && (this._sourceEvents.add(\"key-down\"), this._sourceEvents.add(\"key-up\")), this.eventSource && (this.eventSource.activeEvents = this._sourceEvents);\n  }\n\n  _setLatestPointer(e, t, r) {\n    this._get(\"latestPointerType\") !== e && this._set(\"latestPointerType\", e);\n\n    const n = this._get(\"latestPointerLocation\");\n\n    if (i(n) || n.x !== t || n.y !== r) {\n      const e = this._propertiesPool.get(\"latestPointerLocation\");\n\n      e.x = t, e.y = r, this._set(\"latestPointerLocation\", e);\n    }\n  }\n\n  _onEventReceived(e, t) {\n    if (\"pointer-capture-lost\" === e) {\n      const e = t;\n\n      this._pointerCaptures.delete(e.native.pointerId);\n    }\n\n    this._updateKeyModifiers(e, t);\n\n    const r = null != this.test.timestamp ? this.test.timestamp : t.native ? t.native.timestamp : void 0,\n          i = t.native ? t.native.cancelable : void 0;\n\n    this._emitInputEventFromSource(e, t, r, i);\n  }\n\n  _updateKeyModifiers(e, t) {\n    if (!t) return;\n    let r = !1;\n\n    const i = () => {\n      if (!r) {\n        const e = new Set();\n        this._activeKeyModifiers.forEach(t => {\n          e.add(t);\n        }), this._activeKeyModifiers = e, r = !0;\n      }\n    },\n          n = (e, t) => {\n      t && !this._activeKeyModifiers.has(e) ? (i(), this._activeKeyModifiers.add(e)) : !t && this._activeKeyModifiers.has(e) && (i(), this._activeKeyModifiers.delete(e));\n    };\n\n    if (\"key-down\" === e || \"key-up\" === e) {\n      const r = t.key;\n      this._keyModifiers.has(r) && n(r, \"key-down\" === e);\n    }\n\n    const s = t.native;\n    n(\"Alt\", !(!s || !s.altKey)), n(\"Ctrl\", !(!s || !s.ctrlKey)), n(\"Shift\", !(!s || !s.shiftKey)), n(\"Meta\", !(!s || !s.metaKey)), n(\"Primary\", this._activeKeyModifiers.has(this.primaryKey));\n  }\n\n  _installRecognizers() {\n    this._latestPointerHandler = new l((e, t, r) => this._setLatestPointer(e, t, r)), this.installHandlers(\"input-manager-logic\", [this._latestPointerHandler], g.ALWAYS), this.recognizers.length > 0 && this.installHandlers(\"default\", this.recognizers, g.INTERNAL);\n  }\n\n  _setPointerCapture(e, t, r, i) {\n    const n = e.name + \"-\" + t.priorityIndex,\n          s = this._pointerCaptures.get(r.pointerId) || new Set();\n    this._pointerCaptures.set(r.pointerId, s), i ? (s.add(n), 1 === s.size && this.eventSource && this.eventSource.setPointerCapture(r, !0)) : s.has(n) && (s.delete(n), 0 === s.size && (this._pointerCaptures.delete(r.pointerId), this.eventSource && this.eventSource.setPointerCapture(r, !1)));\n  }\n\n  _garbageCollectRemovedHandlers() {\n    this._handlers = this._handlers.filter(e => !e.removed), this.updateDependencies();\n  }\n\n  _emitInputEventFromSource(e, t, r, i) {\n    this._emitInputEvent(0, e, t, r, i);\n  }\n\n  _emitInputEvent(e, t, r, i, n, s) {\n    const o = void 0 !== i ? i : this._currentPropagation ? this._currentPropagation.timestamp : performance.now(),\n          a = void 0 !== n && n,\n          p = {\n      event: new u(t, r, o, s || this._activeKeyModifiers, a),\n      priorityIndex: e\n    };\n    this._currentPropagation ? this._currentPropagation.events.push(p) : this._doNewPropagation(p);\n  }\n\n  _doNewPropagation(e) {\n    this._currentPropagation = {\n      events: new n(),\n      currentHandler: null,\n      needsHandlerGarbageCollect: !1,\n      timestamp: e.event.timestamp\n    }, this._currentPropagation.events.push(e), this._continuePropagation();\n  }\n\n  _continuePropagation() {\n    const e = this._currentPropagation;\n\n    if (e) {\n      for (; this._currentPropagation.events.length > 0;) {\n        const {\n          event: t,\n          priorityIndex: r\n        } = this._currentPropagation.events.pop(),\n              i = t.data && t.data.eventId;\n\n        if (!(null != i && this._stoppedPropagationEventIds.has(i))) for (e.currentHandler = this._handlersPriority[r]; e.currentHandler;) {\n          if (e.currentHandler.removed) e.needsHandlerGarbageCollect = !0;else {\n            if (e.currentHandler.active && !t.shouldStopPropagation() && e.currentHandler.eventCallback(t), t.shouldStopPropagation()) {\n              null != i && this._stoppedPropagationEventIds.add(i);\n              break;\n            }\n\n            if (t.shouldPausePropagation(() => this._continuePropagation())) return void this._pausePropagation({\n              event: t,\n              priorityIndex: e.currentHandler.priorityIndex + 1\n            });\n          }\n          e.currentHandler = this._handlersPriority[e.currentHandler.priorityIndex + 1];\n        }\n      }\n\n      e.needsHandlerGarbageCollect && this._garbageCollectRemovedHandlers(), this.hasPendingInputs || this._stoppedPropagationEventIds.clear(), this._currentPropagation = null, this._updateDependenciesAfterPropagation && this.updateDependencies();\n    }\n  }\n\n  _pausePropagation(e) {\n    const t = new n();\n\n    for (t.push(e); this._currentPropagation.events.length;) t.push(this._currentPropagation.events.pop());\n\n    this._currentPropagation.events = t, this._currentPropagation.currentHandler = null;\n  }\n\n  _compareHandlerPriority(e, t) {\n    if (e.handler.hasSideEffects !== t.handler.hasSideEffects) return e.handler.hasSideEffects ? 1 : -1;\n    if (e.groupPriority !== t.groupPriority) return e.groupPriority > t.groupPriority ? -1 : 1;\n\n    for (const r of e.handler.incomingEventMatches) for (const e of t.handler.incomingEventMatches) {\n      if (r.eventType !== e.eventType) continue;\n      const t = r.keyModifiers.filter(t => e.keyModifiers.includes(t));\n      if (t.length === r.keyModifiers.length !== (t.length === e.keyModifiers.length)) return r.keyModifiers.length > e.keyModifiers.length ? -1 : 1;\n    }\n\n    return e.priorityIndex > t.priorityIndex ? -1 : 1;\n  }\n\n  _sortHandlersPriority(e) {\n    const t = [];\n\n    for (const r of e) {\n      let e = 0;\n\n      for (; e < t.length && this._compareHandlerPriority(r, t[e]) >= 0;) e++;\n\n      t.splice(e, 0, r);\n    }\n\n    return t;\n  }\n\n  get debug() {\n    const e = e => {\n      const t = this._setPointerCapture;\n      this._setPointerCapture = () => {}, e(), this._setPointerCapture = t;\n    };\n\n    return {\n      injectEvent: (t, r) => {\n        e(() => {\n          this._onEventReceived(t, r);\n        });\n      },\n      disablePointerCapture: e\n    };\n  }\n\n};\ne([s({\n  readOnly: !0\n})], c.prototype, \"hasPendingInputs\", null), e([s()], c.prototype, \"eventSource\", void 0), e([s()], c.prototype, \"recognizers\", void 0), e([s({\n  readOnly: !0\n})], c.prototype, \"latestPointerType\", void 0), e([s({\n  readOnly: !0\n})], c.prototype, \"latestPointerLocation\", void 0), c = e([o(\"esri.views.input.InputManager\")], c);\n\nclass u {\n  constructor(e, t, r, i, n) {\n    this.type = e, this.data = t, this.timestamp = r, this.modifiers = i, this.cancelable = n, this._propagationState = _.NONE, this._resumeCallback = null;\n  }\n\n  stopPropagation() {\n    this._propagationState |= _.STOPPED;\n  }\n\n  shouldStopPropagation() {\n    return 0 != (this._propagationState & _.STOPPED);\n  }\n\n  async(e) {\n    this._propagationState |= _.PAUSED;\n\n    const t = (e, t) => {\n      this._propagationState &= ~_.PAUSED;\n      const r = this._resumeCallback;\n      if (this._resumeCallback = null, r && r(), t) throw e;\n      return e;\n    };\n\n    return (\"function\" == typeof e ? e() : e).then(e => t(e, !1), e => t(e, !0));\n  }\n\n  shouldPausePropagation(e) {\n    return !!(this._propagationState & _.PAUSED) && (this._resumeCallback = e, !0);\n  }\n\n  preventDefault() {\n    this.data.native.preventDefault();\n  }\n\n}\n\nvar _;\n\n!function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.STOPPED = 1] = \"STOPPED\", e[e.PAUSED = 2] = \"PAUSED\";\n}(_ || (_ = {}));\nconst g = {\n  ALWAYS: 1,\n  DEFAULT: 0,\n  TOOL: -1,\n  WIDGET: -2,\n  INTERNAL: -3\n};\n\nclass P {}\n\nexport { c as InputManager, g as ViewEventPriorities };","map":{"version":3,"names":["_","e","t","r","isNone","i","n","property","s","subclass","o","PropertiesPool","a","primaryKey","p","isSystemModifier","h","LatestPointer","l","d","getLogger","c","constructor","_pointerCaptures","Map","_nameToGroup","_handlers","_currentPropagation","_updateDependenciesAfterPropagation","_sourceEvents","Set","_keyModifiers","_activeKeyModifiers","_stoppedPropagationEventIds","latestPointerType","_propertiesPool","latestPointerLocation","P","test","timestamp","hasCurrentPropagation","initialize","eventSource","onEventReceived","_onEventReceived","bind","_installRecognizers","destroy","Object","keys","uninstallHandlers","hasPendingInputs","some","handler","installHandlers","g","INTERNAL","error","length","name","handlers","map","active","removed","priorityIndex","groupPriority","eventCallback","uninstallCallback","push","onInstall","updateDependencies","emit","_emitInputEvent","setPointerCapture","_setPointerCapture","setEventCallback","setUninstallCallback","refreshHasPendingInputs","notifyChange","forEach","needsHandlerGarbageCollect","_garbageCollectRemovedHandlers","hasHandlers","_handlersPriority","_sortHandlersPriority","hasSideEffects","outgoingEventTypes","has","incomingEventMatches","add","eventType","keyModifiers","size","activeEvents","_setLatestPointer","_get","_set","x","y","get","delete","native","pointerId","_updateKeyModifiers","cancelable","_emitInputEventFromSource","key","altKey","ctrlKey","shiftKey","metaKey","_latestPointerHandler","ALWAYS","recognizers","set","filter","performance","now","event","u","events","_doNewPropagation","currentHandler","_continuePropagation","pop","data","eventId","shouldStopPropagation","shouldPausePropagation","_pausePropagation","clear","_compareHandlerPriority","includes","splice","debug","injectEvent","disablePointerCapture","readOnly","prototype","type","modifiers","_propagationState","NONE","_resumeCallback","stopPropagation","STOPPED","async","PAUSED","then","preventDefault","DEFAULT","TOOL","WIDGET","InputManager","ViewEventPriorities"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/input/InputManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Logger.js\";import{isNone as i}from\"../../core/maybe.js\";import n from\"../../core/Queue.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{PropertiesPool as a}from\"../3d/support/PropertiesPool.js\";import{primaryKey as p,isSystemModifier as h}from\"./keys.js\";import{LatestPointer as l}from\"./handlers/LatestPointer.js\";const d=r.getLogger(\"esri.views.input.InputManager\");let c=class extends t{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=p,this.latestPointerType=\"mouse\",this._propertiesPool=new a({latestPointerLocation:P},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}installHandlers(e,t,r=g.INTERNAL){if(this._nameToGroup[e])return void d.error(\"There is already an InputHandler group registered under the name `\"+e+\"`\");if(0===t.length)return void d.error(\"Can't register a group of zero handlers\");const i={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=i;for(let n=i.handlers.length-1;n>=0;n--){const e=i.handlers[n];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,r,i,n,s)=>{this._emitInputEvent(e.priorityIndex+1,t,r,i,s,n)},setPointerCapture:(t,r)=>{this._setPointerCapture(i,e,t,r)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange(\"hasPendingInputs\")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):d.error(\"There is no InputHandler group registered under the name `\"+e+\"`\")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const e=this._handlers[r];e.priorityIndex=r,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)h(e)||t.add(e)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(\"pointer-capture-lost\"),this._keyModifiers.size>0&&(this._sourceEvents.add(\"key-down\"),this._sourceEvents.add(\"key-up\")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,r){this._get(\"latestPointerType\")!==e&&this._set(\"latestPointerType\",e);const n=this._get(\"latestPointerLocation\");if(i(n)||n.x!==t||n.y!==r){const e=this._propertiesPool.get(\"latestPointerLocation\");e.x=t,e.y=r,this._set(\"latestPointerLocation\",e)}}_onEventReceived(e,t){if(\"pointer-capture-lost\"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t)})),this._activeKeyModifiers=e,r=!0}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e))};if(\"key-down\"===e||\"key-up\"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,\"key-down\"===e)}const s=t.native;n(\"Alt\",!(!s||!s.altKey)),n(\"Ctrl\",!(!s||!s.ctrlKey)),n(\"Shift\",!(!s||!s.shiftKey)),n(\"Meta\",!(!s||!s.metaKey)),n(\"Primary\",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new l(((e,t,r)=>this._setLatestPointer(e,t,r))),this.installHandlers(\"input-manager-logic\",[this._latestPointerHandler],g.ALWAYS),this.recognizers.length>0&&this.installHandlers(\"default\",this.recognizers,g.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+\"-\"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,p={event:new u(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(p):this._doNewPropagation(p)}_doNewPropagation(e){this._currentPropagation={events:new n,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new n;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r)}))},disablePointerCapture:e}}};e([s({readOnly:!0})],c.prototype,\"hasPendingInputs\",null),e([s()],c.prototype,\"eventSource\",void 0),e([s()],c.prototype,\"recognizers\",void 0),e([s({readOnly:!0})],c.prototype,\"latestPointerType\",void 0),e([s({readOnly:!0})],c.prototype,\"latestPointerLocation\",void 0),c=e([o(\"esri.views.input.InputManager\")],c);class u{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=_.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=_.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&_.STOPPED)}async(e){this._propagationState|=_.PAUSED;const t=(e,t)=>{this._propagationState&=~_.PAUSED;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return(\"function\"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&_.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var _;!function(e){e[e.NONE=0]=\"NONE\",e[e.STOPPED=1]=\"STOPPED\",e[e.PAUSED=2]=\"PAUSED\"}(_||(_={}));const g={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class P{}export{c as InputManager,g as ViewEventPriorities};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}