{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../../../geometry.js\";\nimport has from \"../../../../core/has.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { deg2rad as e } from \"../../../../core/mathUtils.js\";\nimport { isNone as n, isSome as r } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as o } from \"../../../../core/promiseUtils.js\";\nimport i from \"../../../../core/RandomLCG.js\";\nimport { getInfo as l } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport a from \"../../../../geometry/Extent.js\";\nconst s = t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),\n      c = 10;\n\nasync function f(t, e, n, r) {\n  const i = performance.now(),\n        l = u(e, n),\n        a = performance.now(),\n        f = m(e, l, n.width, n.height),\n        h = performance.now(),\n        d = w(f, !0),\n        y = performance.now(),\n        x = \"Streamlines\" === t ? p(d, c) : g(d),\n        M = performance.now();\n  return has(\"esri-2d-profiler\") && (s.info(\"I.1\", \"_createFlowFieldFromData (ms)\", Math.round(a - i)), s.info(\"I.2\", \"_getStreamlines (ms)\", Math.round(h - a)), s.info(\"I.3\", \"createAnimatedLinesData (ms)\", Math.round(y - h)), s.info(\"I.4\", \"create{Streamlines|Particles}Mesh (ms)\", Math.round(M - y)), s.info(\"I.5\", \"createFlowMesh (ms)\", Math.round(M - i)), s.info(\"I.6\", \"Mesh size (bytes)\", x.vertexData.buffer.byteLength + x.indexData.buffer.byteLength)), await Promise.resolve(), o(r), x;\n}\n\nfunction u(t, e) {\n  const n = d(e.data, e.width, e.height, t.smoothing);\n\n  if (t.interpolate) {\n    return (t, r) => {\n      const o = Math.floor(t),\n            i = Math.floor(r);\n      if (o < 0 || o >= e.width) return [0, 0];\n      if (i < 0 || i >= e.height) return [0, 0];\n      const l = t - o,\n            a = r - i,\n            s = o,\n            c = i,\n            f = o < e.width - 1 ? o + 1 : o,\n            u = i < e.height - 1 ? i + 1 : i,\n            h = n[2 * (c * e.width + s)],\n            m = n[2 * (c * e.width + f)],\n            d = n[2 * (u * e.width + s)],\n            w = n[2 * (u * e.width + f)],\n            p = n[2 * (c * e.width + s) + 1],\n            g = n[2 * (c * e.width + f) + 1];\n      return [(h * (1 - a) + d * a) * (1 - l) + (m * (1 - a) + w * a) * l, (p * (1 - a) + n[2 * (u * e.width + s) + 1] * a) * (1 - l) + (g * (1 - a) + n[2 * (u * e.width + f) + 1] * a) * l];\n    };\n  }\n\n  return (t, r) => {\n    const o = Math.round(t),\n          i = Math.round(r);\n    return o < 0 || o >= e.width || i < 0 || i >= e.height ? [0, 0] : [n[2 * (i * e.width + o) + 0], n[2 * (i * e.width + o) + 1]];\n  };\n}\n\nfunction h(t, e, n, r, o, i, l, a, s) {\n  const c = [];\n  let f = n,\n      u = r,\n      h = 0,\n      [m, d] = e(f, u);\n  m *= t.velocityScale, d *= t.velocityScale;\n  const w = Math.sqrt(m * m + d * d);\n  let p, g;\n  c.push({\n    x: f,\n    y: u,\n    t: h,\n    speed: w\n  });\n\n  for (let y = 0; y < t.verticesPerLine; y++) {\n    let [n, r] = e(f, u);\n    n *= t.velocityScale, r *= t.velocityScale;\n    const m = Math.sqrt(n * n + r * r);\n    if (m < t.minSpeedThreshold) return c;\n    const d = n / m,\n          w = r / m;\n    f += d * t.segmentLength, u += w * t.segmentLength;\n    if (h += t.segmentLength / m, Math.acos(d * p + w * g) > t.maxTurnAngle) return c;\n\n    if (t.collisions) {\n      const t = Math.round(f * s),\n            e = Math.round(u * s);\n      if (t < 0 || t > l - 1 || e < 0 || e > a - 1) return c;\n      const n = i[e * l + t];\n      if (-1 !== n && n !== o) return c;\n      i[e * l + t] = o;\n    }\n\n    c.push({\n      x: f,\n      y: u,\n      t: h,\n      speed: m\n    }), p = d, g = w;\n  }\n\n  return c;\n}\n\nfunction m(t, e, n, r) {\n  const o = [],\n        l = new i(),\n        a = 1 / Math.max(t.lineCollisionWidth, 1),\n        s = Math.round(n * a),\n        c = Math.round(r * a),\n        f = new Int32Array(s * c);\n\n  for (let i = 0; i < f.length; i++) f[i] = -1;\n\n  const u = [];\n\n  for (let i = 0; i < r; i += t.lineSpacing) for (let e = 0; e < n; e += t.lineSpacing) u.push({\n    x: e,\n    y: i,\n    sort: l.getFloat()\n  });\n\n  u.sort((t, e) => t.sort - e.sort);\n\n  for (const {\n    x: i,\n    y: m\n  } of u) if (l.getFloat() < t.density) {\n    const n = h(t, e, i, m, o.length, f, s, c, a);\n    if (n.length < 2) continue;\n    o.push(n);\n  }\n\n  return o;\n}\n\nfunction d(t, e, n, r) {\n  if (0 === r) return t;\n  const o = Math.round(3 * r),\n        i = new Array(2 * o + 1);\n  let l = 0;\n\n  for (let c = -o; c <= o; c++) {\n    const t = Math.exp(-c * c / (r * r));\n    i[c + o] = t, l += t;\n  }\n\n  for (let c = -o; c <= o; c++) i[c + o] /= l;\n\n  const a = new Float32Array(t.length);\n\n  for (let c = 0; c < n; c++) for (let n = 0; n < e; n++) {\n    let r = 0,\n        l = 0;\n\n    for (let a = -o; a <= o; a++) {\n      if (n + a < 0 || n + a >= e) continue;\n      const s = i[a + o];\n      r += s * t[2 * (c * e + (n + a)) + 0], l += s * t[2 * (c * e + (n + a)) + 1];\n    }\n\n    a[2 * (c * e + n) + 0] = r, a[2 * (c * e + n) + 1] = l;\n  }\n\n  const s = new Float32Array(t.length);\n\n  for (let c = 0; c < e; c++) for (let t = 0; t < n; t++) {\n    let r = 0,\n        l = 0;\n\n    for (let s = -o; s <= o; s++) {\n      if (t + s < 0 || t + s >= n) continue;\n      const f = i[s + o];\n      r += f * a[2 * ((t + s) * e + c) + 0], l += f * a[2 * ((t + s) * e + c) + 1];\n    }\n\n    s[2 * (t * e + c) + 0] = r, s[2 * (t * e + c) + 1] = l;\n  }\n\n  return s;\n}\n\nfunction w(t, e) {\n  const n = new i(),\n        r = t.reduce((t, e) => t + e.length, 0),\n        o = new Float32Array(4 * r),\n        l = new Array(t.length);\n  let a = 0,\n      s = 0;\n\n  for (const i of t) {\n    const t = a;\n\n    for (const e of i) o[4 * a + 0] = e.x, o[4 * a + 1] = e.y, o[4 * a + 2] = e.t, o[4 * a + 3] = e.speed, a++;\n\n    l[s++] = {\n      startVertex: t,\n      numberOfVertices: i.length,\n      totalTime: i[i.length - 1].t,\n      timeSeed: e ? n.getFloat() : 0\n    };\n  }\n\n  return {\n    lineVertices: o,\n    lineDescriptors: l\n  };\n}\n\nfunction p(t, e) {\n  const n = 9,\n        {\n    lineVertices: r,\n    lineDescriptors: o\n  } = t;\n  let i = 0,\n      l = 0;\n\n  for (const m of o) {\n    i += 2 * m.numberOfVertices;\n    l += 6 * (m.numberOfVertices - 1);\n  }\n\n  const a = new Float32Array(i * n),\n        s = new Uint32Array(l);\n  let c = 0,\n      f = 0;\n\n  function u() {\n    s[f++] = c - 2, s[f++] = c, s[f++] = c - 1, s[f++] = c, s[f++] = c + 1, s[f++] = c - 1;\n  }\n\n  function h(t, e, r, o, i, l, s, f) {\n    const u = c * n;\n    let h = 0;\n    a[u + h++] = t, a[u + h++] = e, a[u + h++] = 1, a[u + h++] = r, a[u + h++] = l, a[u + h++] = s, a[u + h++] = o / 2, a[u + h++] = i / 2, a[u + h++] = f, c++, a[u + h++] = t, a[u + h++] = e, a[u + h++] = -1, a[u + h++] = r, a[u + h++] = l, a[u + h++] = s, a[u + h++] = -o / 2, a[u + h++] = -i / 2, a[u + h++] = f, c++;\n  }\n\n  for (const m of o) {\n    const {\n      totalTime: t,\n      timeSeed: n\n    } = m;\n    let o = null,\n        i = null,\n        l = null,\n        a = null,\n        s = null,\n        c = null;\n\n    for (let f = 0; f < m.numberOfVertices; f++) {\n      const d = r[4 * (m.startVertex + f) + 0],\n            w = r[4 * (m.startVertex + f) + 1],\n            p = r[4 * (m.startVertex + f) + 2],\n            g = r[4 * (m.startVertex + f) + 3];\n      let y = null,\n          x = null,\n          M = null,\n          A = null;\n\n      if (f > 0) {\n        y = d - o, x = w - i;\n        const r = Math.sqrt(y * y + x * x);\n\n        if (y /= r, x /= r, f > 1) {\n          let t = y + s,\n              n = x + c;\n          const r = Math.sqrt(t * t + n * n);\n          t /= r, n /= r;\n          const o = Math.min(1 / (t * y + n * x), e);\n          t *= o, n *= o, M = -n, A = t;\n        } else M = -x, A = y;\n\n        null !== M && null !== A && (h(o, i, l, M, A, t, n, g), u());\n      }\n\n      o = d, i = w, l = p, s = y, c = x, a = g;\n    }\n\n    h(o, i, l, -c, s, t, n, a);\n  }\n\n  return {\n    vertexData: a,\n    indexData: s\n  };\n}\n\nfunction g(t) {\n  const e = 16,\n        n = 1,\n        r = 2,\n        {\n    lineVertices: o,\n    lineDescriptors: i\n  } = t;\n  let l = 0,\n      a = 0;\n\n  for (const j of i) {\n    const t = j.numberOfVertices - 1;\n    l += 4 * t * 2, a += 6 * t * 2;\n  }\n\n  const s = new Float32Array(l * e),\n        c = new Uint32Array(a);\n  let f,\n      u,\n      h,\n      m,\n      d,\n      w,\n      p,\n      g,\n      y,\n      x,\n      M,\n      A,\n      I,\n      V,\n      F = 0,\n      D = 0;\n\n  function b() {\n    c[D++] = F - 8, c[D++] = F - 7, c[D++] = F - 6, c[D++] = F - 7, c[D++] = F - 5, c[D++] = F - 6, c[D++] = F - 4, c[D++] = F - 3, c[D++] = F - 2, c[D++] = F - 3, c[D++] = F - 1, c[D++] = F - 2;\n  }\n\n  function v(t, o, i, l, a, c, f, u, h, m, d, w, p, g) {\n    const y = F * e;\n    let x = 0;\n\n    for (const e of [n, r]) for (const n of [1, 2, 3, 4]) s[y + x++] = t, s[y + x++] = o, s[y + x++] = i, s[y + x++] = l, s[y + x++] = f, s[y + x++] = u, s[y + x++] = h, s[y + x++] = m, s[y + x++] = e, s[y + x++] = n, s[y + x++] = p, s[y + x++] = g, s[y + x++] = a / 2, s[y + x++] = c / 2, s[y + x++] = d / 2, s[y + x++] = w / 2, F++;\n  }\n\n  function S(t, e) {\n    let n = y + M,\n        r = x + A;\n    const o = Math.sqrt(n * n + r * r);\n    n /= o, r /= o;\n    const i = y * n + x * r;\n    n /= i, r /= i;\n    let l = M + I,\n        a = A + V;\n    const s = Math.sqrt(l * l + a * a);\n    l /= s, a /= s;\n    const c = M * l + A * a;\n    l /= c, a /= c, v(f, u, h, m, -r, n, d, w, p, g, -a, l, t, e), b();\n  }\n\n  function k(t, e, n, r, o, i) {\n    if (y = M, x = A, M = I, A = V, null == y && null == x && (y = M, x = A), null != d && null != w) {\n      I = t - d, V = e - w;\n      const n = Math.sqrt(I * I + V * V);\n      I /= n, V /= n;\n    }\n\n    null != y && null != x && S(o, i), f = d, u = w, h = p, m = g, d = t, w = e, p = n, g = r;\n  }\n\n  function L(t, e) {\n    y = M, x = A, M = I, A = V, null == y && null == x && (y = M, x = A), null != y && null != x && S(t, e);\n  }\n\n  for (const j of i) {\n    f = null, u = null, h = null, m = null, d = null, w = null, p = null, g = null, y = null, x = null, M = null, A = null, I = null, V = null;\n    const {\n      totalTime: t,\n      timeSeed: e\n    } = j;\n\n    for (let n = 0; n < j.numberOfVertices; n++) {\n      k(o[4 * (j.startVertex + n) + 0], o[4 * (j.startVertex + n) + 1], o[4 * (j.startVertex + n) + 2], o[4 * (j.startVertex + n) + 3], t, e);\n    }\n\n    L(t, e);\n  }\n\n  return {\n    vertexData: s,\n    indexData: c\n  };\n}\n\nfunction y(t, n) {\n  const r = n.pixels,\n        {\n    width: o,\n    height: i\n  } = n,\n        l = new Float32Array(o * i * 2),\n        a = n.mask || new Uint8Array(o * i * 2);\n  if (n.mask || a.fill(255), \"vector-uv\" === t) for (let e = 0; e < o * i; e++) l[2 * e + 0] = r[0][e], l[2 * e + 1] = -r[1][e];else if (\"vector-magdir\" === t) for (let s = 0; s < o * i; s++) {\n    const t = r[0][s],\n          n = e(r[1][s]),\n          o = Math.cos(n - Math.PI / 2),\n          i = Math.sin(n - Math.PI / 2);\n    l[2 * s + 0] = o * t, l[2 * s + 1] = i * t;\n  }\n  return {\n    data: l,\n    mask: a,\n    width: o,\n    height: i\n  };\n}\n\nasync function x(t, e, n, r, o, i) {\n  const c = performance.now(),\n        f = l(e.spatialReference);\n\n  if (!f) {\n    const l = await M(t, e, n, r, o, i);\n    return has(\"esri-2d-profiler\") && s.info(\"I.7\", \"loadImagery, early exit (ms)\", Math.round(performance.now() - c)), has(\"esri-2d-profiler\") && s.info(\"I.9\", \"Number of parts\", 1), l;\n  }\n\n  const [u, h] = f.valid,\n        m = h - u,\n        d = Math.ceil(e.width / m),\n        w = e.width / d,\n        p = Math.round(n / d);\n  let g = e.xmin;\n  const y = [],\n        x = performance.now();\n\n  for (let l = 0; l < d; l++) {\n    const n = new a({\n      xmin: g,\n      xmax: g + w,\n      ymin: e.ymin,\n      ymax: e.ymax,\n      spatialReference: e.spatialReference\n    });\n    y.push(M(t, n, p, r, o, i)), g += w;\n  }\n\n  const A = await Promise.all(y);\n  has(\"esri-2d-profiler\") && s.info(\"I.8\", \"All calls to _fetchPart (ms)\", Math.round(performance.now() - x)), has(\"esri-2d-profiler\") && s.info(\"I.9\", \"Number of parts\", A.length);\n  const I = {\n    data: new Float32Array(n * r * 2),\n    mask: new Uint8Array(n * r),\n    width: n,\n    height: r\n  };\n  let V = 0;\n\n  for (const l of A) {\n    for (let t = 0; t < l.height; t++) for (let e = 0; e < l.width; e++) V + e >= n || (I.data[2 * (t * n + V + e) + 0] = l.data[2 * (t * l.width + e) + 0], I.data[2 * (t * n + V + e) + 1] = l.data[2 * (t * l.width + e) + 1], I.mask[t * n + V + e] = l.mask[t * l.width + e]);\n\n    V += l.width;\n  }\n\n  return has(\"esri-2d-profiler\") && s.info(\"I.10\", \"loadImagery, general exit (ms)\", Math.round(performance.now() - c)), I;\n}\n\nasync function M(t, e, o, i, l, a) {\n  const s = {\n    requestProjectedLocalDirections: !0,\n    signal: a\n  };\n\n  if (r(l) && (s.timeExtent = l), \"imagery\" === t.type) {\n    await t.load({\n      signal: a\n    });\n    const r = t.rasterInfo.dataType,\n          l = await t.fetchImage(e, o, i, s);\n    return !l || n(l.pixelData) || n(l.pixelData.pixelBlock) ? {\n      data: new Float32Array(o * i * 2),\n      mask: new Uint8Array(o * i),\n      width: o,\n      height: i\n    } : y(r, l.pixelData.pixelBlock);\n  }\n\n  await t.load({\n    signal: a\n  });\n  const c = t.rasterInfo.dataType,\n        f = await t.fetchPixels(e, o, i, s);\n  return !f || n(f.pixelBlock) ? {\n    data: new Float32Array(o * i * 2),\n    mask: new Uint8Array(o * i),\n    width: o,\n    height: i\n  } : y(c, f.pixelBlock);\n}\n\nexport { w as createAnimatedLinesData, f as createFlowMesh, g as createParticlesMesh, p as createStreamlinesMesh, x as loadImagery };","map":{"version":3,"names":["has","t","deg2rad","e","isNone","n","isSome","r","throwIfAborted","o","i","getInfo","l","a","s","getLogger","c","f","performance","now","u","m","width","height","h","d","w","y","x","p","g","M","info","Math","round","vertexData","buffer","byteLength","indexData","Promise","resolve","data","smoothing","interpolate","floor","velocityScale","sqrt","push","speed","verticesPerLine","minSpeedThreshold","segmentLength","acos","maxTurnAngle","collisions","max","lineCollisionWidth","Int32Array","length","lineSpacing","sort","getFloat","density","Array","exp","Float32Array","reduce","startVertex","numberOfVertices","totalTime","timeSeed","lineVertices","lineDescriptors","Uint32Array","A","min","j","I","V","F","D","b","v","S","k","L","pixels","mask","Uint8Array","fill","cos","PI","sin","spatialReference","valid","ceil","xmin","xmax","ymin","ymax","all","requestProjectedLocalDirections","signal","timeExtent","type","load","rasterInfo","dataType","fetchImage","pixelData","pixelBlock","fetchPixels","createAnimatedLinesData","createFlowMesh","createParticlesMesh","createStreamlinesMesh","loadImagery"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{isNone as n,isSome as r}from\"../../../../core/maybe.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import i from\"../../../../core/RandomLCG.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import a from\"../../../../geometry/Extent.js\";const s=t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),c=10;async function f(t,e,n,r){const i=performance.now(),l=u(e,n),a=performance.now(),f=m(e,l,n.width,n.height),h=performance.now(),d=w(f,!0),y=performance.now(),x=\"Streamlines\"===t?p(d,c):g(d),M=performance.now();return has(\"esri-2d-profiler\")&&(s.info(\"I.1\",\"_createFlowFieldFromData (ms)\",Math.round(a-i)),s.info(\"I.2\",\"_getStreamlines (ms)\",Math.round(h-a)),s.info(\"I.3\",\"createAnimatedLinesData (ms)\",Math.round(y-h)),s.info(\"I.4\",\"create{Streamlines|Particles}Mesh (ms)\",Math.round(M-y)),s.info(\"I.5\",\"createFlowMesh (ms)\",Math.round(M-i)),s.info(\"I.6\",\"Mesh size (bytes)\",x.vertexData.buffer.byteLength+x.indexData.buffer.byteLength)),await Promise.resolve(),o(r),x}function u(t,e){const n=d(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),i=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(i<0||i>=e.height)return[0,0];const l=t-o,a=r-i,s=o,c=i,f=o<e.width-1?o+1:o,u=i<e.height-1?i+1:i,h=n[2*(c*e.width+s)],m=n[2*(c*e.width+f)],d=n[2*(u*e.width+s)],w=n[2*(u*e.width+f)],p=n[2*(c*e.width+s)+1],g=n[2*(c*e.width+f)+1];return[(h*(1-a)+d*a)*(1-l)+(m*(1-a)+w*a)*l,(p*(1-a)+n[2*(u*e.width+s)+1]*a)*(1-l)+(g*(1-a)+n[2*(u*e.width+f)+1]*a)*l]}}return(t,r)=>{const o=Math.round(t),i=Math.round(r);return o<0||o>=e.width||i<0||i>=e.height?[0,0]:[n[2*(i*e.width+o)+0],n[2*(i*e.width+o)+1]]}}function h(t,e,n,r,o,i,l,a,s){const c=[];let f=n,u=r,h=0,[m,d]=e(f,u);m*=t.velocityScale,d*=t.velocityScale;const w=Math.sqrt(m*m+d*d);let p,g;c.push({x:f,y:u,t:h,speed:w});for(let y=0;y<t.verticesPerLine;y++){let[n,r]=e(f,u);n*=t.velocityScale,r*=t.velocityScale;const m=Math.sqrt(n*n+r*r);if(m<t.minSpeedThreshold)return c;const d=n/m,w=r/m;f+=d*t.segmentLength,u+=w*t.segmentLength;if(h+=t.segmentLength/m,Math.acos(d*p+w*g)>t.maxTurnAngle)return c;if(t.collisions){const t=Math.round(f*s),e=Math.round(u*s);if(t<0||t>l-1||e<0||e>a-1)return c;const n=i[e*l+t];if(-1!==n&&n!==o)return c;i[e*l+t]=o}c.push({x:f,y:u,t:h,speed:m}),p=d,g=w}return c}function m(t,e,n,r){const o=[],l=new i,a=1/Math.max(t.lineCollisionWidth,1),s=Math.round(n*a),c=Math.round(r*a),f=new Int32Array(s*c);for(let i=0;i<f.length;i++)f[i]=-1;const u=[];for(let i=0;i<r;i+=t.lineSpacing)for(let e=0;e<n;e+=t.lineSpacing)u.push({x:e,y:i,sort:l.getFloat()});u.sort(((t,e)=>t.sort-e.sort));for(const{x:i,y:m}of u)if(l.getFloat()<t.density){const n=h(t,e,i,m,o.length,f,s,c,a);if(n.length<2)continue;o.push(n)}return o}function d(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),i=new Array(2*o+1);let l=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));i[c+o]=t,l+=t}for(let c=-o;c<=o;c++)i[c+o]/=l;const a=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,l=0;for(let a=-o;a<=o;a++){if(n+a<0||n+a>=e)continue;const s=i[a+o];r+=s*t[2*(c*e+(n+a))+0],l+=s*t[2*(c*e+(n+a))+1]}a[2*(c*e+n)+0]=r,a[2*(c*e+n)+1]=l}const s=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,l=0;for(let s=-o;s<=o;s++){if(t+s<0||t+s>=n)continue;const f=i[s+o];r+=f*a[2*((t+s)*e+c)+0],l+=f*a[2*((t+s)*e+c)+1]}s[2*(t*e+c)+0]=r,s[2*(t*e+c)+1]=l}return s}function w(t,e){const n=new i,r=t.reduce(((t,e)=>t+e.length),0),o=new Float32Array(4*r),l=new Array(t.length);let a=0,s=0;for(const i of t){const t=a;for(const e of i)o[4*a+0]=e.x,o[4*a+1]=e.y,o[4*a+2]=e.t,o[4*a+3]=e.speed,a++;l[s++]={startVertex:t,numberOfVertices:i.length,totalTime:i[i.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:o,lineDescriptors:l}}function p(t,e){const n=9,{lineVertices:r,lineDescriptors:o}=t;let i=0,l=0;for(const m of o){i+=2*m.numberOfVertices;l+=6*(m.numberOfVertices-1)}const a=new Float32Array(i*n),s=new Uint32Array(l);let c=0,f=0;function u(){s[f++]=c-2,s[f++]=c,s[f++]=c-1,s[f++]=c,s[f++]=c+1,s[f++]=c-1}function h(t,e,r,o,i,l,s,f){const u=c*n;let h=0;a[u+h++]=t,a[u+h++]=e,a[u+h++]=1,a[u+h++]=r,a[u+h++]=l,a[u+h++]=s,a[u+h++]=o/2,a[u+h++]=i/2,a[u+h++]=f,c++,a[u+h++]=t,a[u+h++]=e,a[u+h++]=-1,a[u+h++]=r,a[u+h++]=l,a[u+h++]=s,a[u+h++]=-o/2,a[u+h++]=-i/2,a[u+h++]=f,c++}for(const m of o){const{totalTime:t,timeSeed:n}=m;let o=null,i=null,l=null,a=null,s=null,c=null;for(let f=0;f<m.numberOfVertices;f++){const d=r[4*(m.startVertex+f)+0],w=r[4*(m.startVertex+f)+1],p=r[4*(m.startVertex+f)+2],g=r[4*(m.startVertex+f)+3];let y=null,x=null,M=null,A=null;if(f>0){y=d-o,x=w-i;const r=Math.sqrt(y*y+x*x);if(y/=r,x/=r,f>1){let t=y+s,n=x+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*y+n*x),e);t*=o,n*=o,M=-n,A=t}else M=-x,A=y;null!==M&&null!==A&&(h(o,i,l,M,A,t,n,g),u())}o=d,i=w,l=p,s=y,c=x,a=g}h(o,i,l,-c,s,t,n,a)}return{vertexData:a,indexData:s}}function g(t){const e=16,n=1,r=2,{lineVertices:o,lineDescriptors:i}=t;let l=0,a=0;for(const j of i){const t=j.numberOfVertices-1;l+=4*t*2,a+=6*t*2}const s=new Float32Array(l*e),c=new Uint32Array(a);let f,u,h,m,d,w,p,g,y,x,M,A,I,V,F=0,D=0;function b(){c[D++]=F-8,c[D++]=F-7,c[D++]=F-6,c[D++]=F-7,c[D++]=F-5,c[D++]=F-6,c[D++]=F-4,c[D++]=F-3,c[D++]=F-2,c[D++]=F-3,c[D++]=F-1,c[D++]=F-2}function v(t,o,i,l,a,c,f,u,h,m,d,w,p,g){const y=F*e;let x=0;for(const e of[n,r])for(const n of[1,2,3,4])s[y+x++]=t,s[y+x++]=o,s[y+x++]=i,s[y+x++]=l,s[y+x++]=f,s[y+x++]=u,s[y+x++]=h,s[y+x++]=m,s[y+x++]=e,s[y+x++]=n,s[y+x++]=p,s[y+x++]=g,s[y+x++]=a/2,s[y+x++]=c/2,s[y+x++]=d/2,s[y+x++]=w/2,F++}function S(t,e){let n=y+M,r=x+A;const o=Math.sqrt(n*n+r*r);n/=o,r/=o;const i=y*n+x*r;n/=i,r/=i;let l=M+I,a=A+V;const s=Math.sqrt(l*l+a*a);l/=s,a/=s;const c=M*l+A*a;l/=c,a/=c,v(f,u,h,m,-r,n,d,w,p,g,-a,l,t,e),b()}function k(t,e,n,r,o,i){if(y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=d&&null!=w){I=t-d,V=e-w;const n=Math.sqrt(I*I+V*V);I/=n,V/=n}null!=y&&null!=x&&S(o,i),f=d,u=w,h=p,m=g,d=t,w=e,p=n,g=r}function L(t,e){y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=y&&null!=x&&S(t,e)}for(const j of i){f=null,u=null,h=null,m=null,d=null,w=null,p=null,g=null,y=null,x=null,M=null,A=null,I=null,V=null;const{totalTime:t,timeSeed:e}=j;for(let n=0;n<j.numberOfVertices;n++){k(o[4*(j.startVertex+n)+0],o[4*(j.startVertex+n)+1],o[4*(j.startVertex+n)+2],o[4*(j.startVertex+n)+3],t,e)}L(t,e)}return{vertexData:s,indexData:c}}function y(t,n){const r=n.pixels,{width:o,height:i}=n,l=new Float32Array(o*i*2),a=n.mask||new Uint8Array(o*i*2);if(n.mask||a.fill(255),\"vector-uv\"===t)for(let e=0;e<o*i;e++)l[2*e+0]=r[0][e],l[2*e+1]=-r[1][e];else if(\"vector-magdir\"===t)for(let s=0;s<o*i;s++){const t=r[0][s],n=e(r[1][s]),o=Math.cos(n-Math.PI/2),i=Math.sin(n-Math.PI/2);l[2*s+0]=o*t,l[2*s+1]=i*t}return{data:l,mask:a,width:o,height:i}}async function x(t,e,n,r,o,i){const c=performance.now(),f=l(e.spatialReference);if(!f){const l=await M(t,e,n,r,o,i);return has(\"esri-2d-profiler\")&&s.info(\"I.7\",\"loadImagery, early exit (ms)\",Math.round(performance.now()-c)),has(\"esri-2d-profiler\")&&s.info(\"I.9\",\"Number of parts\",1),l}const[u,h]=f.valid,m=h-u,d=Math.ceil(e.width/m),w=e.width/d,p=Math.round(n/d);let g=e.xmin;const y=[],x=performance.now();for(let l=0;l<d;l++){const n=new a({xmin:g,xmax:g+w,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});y.push(M(t,n,p,r,o,i)),g+=w}const A=await Promise.all(y);has(\"esri-2d-profiler\")&&s.info(\"I.8\",\"All calls to _fetchPart (ms)\",Math.round(performance.now()-x)),has(\"esri-2d-profiler\")&&s.info(\"I.9\",\"Number of parts\",A.length);const I={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let V=0;for(const l of A){for(let t=0;t<l.height;t++)for(let e=0;e<l.width;e++)V+e>=n||(I.data[2*(t*n+V+e)+0]=l.data[2*(t*l.width+e)+0],I.data[2*(t*n+V+e)+1]=l.data[2*(t*l.width+e)+1],I.mask[t*n+V+e]=l.mask[t*l.width+e]);V+=l.width}return has(\"esri-2d-profiler\")&&s.info(\"I.10\",\"loadImagery, general exit (ms)\",Math.round(performance.now()-c)),I}async function M(t,e,o,i,l,a){const s={requestProjectedLocalDirections:!0,signal:a};if(r(l)&&(s.timeExtent=l),\"imagery\"===t.type){await t.load({signal:a});const r=t.rasterInfo.dataType,l=await t.fetchImage(e,o,i,s);return!l||n(l.pixelData)||n(l.pixelData.pixelBlock)?{data:new Float32Array(o*i*2),mask:new Uint8Array(o*i),width:o,height:i}:y(r,l.pixelData.pixelBlock)}await t.load({signal:a});const c=t.rasterInfo.dataType,f=await t.fetchPixels(e,o,i,s);return!f||n(f.pixelBlock)?{data:new Float32Array(o*i*2),mask:new Uint8Array(o*i),width:o,height:i}:y(c,f.pixelBlock)}export{w as createAnimatedLinesData,f as createFlowMesh,g as createParticlesMesh,p as createStreamlinesMesh,x as loadImagery};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}