{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isNone as e } from \"../../../../core/maybe.js\";\nimport { a as t, s as r } from \"../../../../chunks/vec2.js\";\nimport { a as s } from \"../../../../chunks/vec2f64.js\";\nimport { isVec2 as i } from \"../../../../core/libs/gl-matrix-2/types/vec2.js\";\nimport { newLayout as n } from \"../../support/buffer/InterleavedLayout.js\";\nimport o from \"../lib/GLMaterial.js\";\nimport { Material as a } from \"../lib/Material.js\";\nimport { RenderPass as u } from \"../lib/RenderPass.js\";\nimport { RenderSlot as c } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as f } from \"../lib/VertexAttribute.js\";\nimport { writePosition as l, writeBufferFloat as m } from \"./internal/bufferWriterUtils.js\";\nimport { HeatmapDensityPassParameters as p, HeatmapDensityTechniqueConfiguration as h, HeatmapDensityTechnique as T } from \"../shaders/HeatmapDensityTechnique.js\";\nexport { RadiusMode } from \"../shaders/HeatmapDensityTechnique.js\";\nconst d = 2;\n\nclass A extends p {\n  constructor() {\n    super(...arguments), this.isAttributeDriven = !1;\n  }\n\n}\n\nclass b extends a {\n  constructor(e) {\n    super(e, new A()), this._techniqueConfig = new h();\n  }\n\n  requiresSlot(e, t) {\n    return e === c.DRAPED_MATERIAL && t === u.MATERIAL;\n  }\n\n  getConfiguration() {\n    return this._techniqueConfig.isAttributeDriven = this.parameters.isAttributeDriven, this._techniqueConfig;\n  }\n\n  createGLMaterial(e) {\n    return new I(e);\n  }\n\n  intersect(s, n, o, a, u, c, l, m, p) {\n    if (e(p) || !i(c)) return;\n    const h = s.vertexAttributes.get(f.POSITION),\n          {\n      parameters: T\n    } = this,\n          {\n      searchRadius: A\n    } = T,\n          {\n      screenToWorldRatio: b\n    } = s,\n          I = A * b + d * b,\n          g = I * I,\n          v = h.data.length / h.size;\n\n    for (let e = 0; e < v; e++) {\n      const s = e * h.size,\n            i = t(E, h.data[s], h.data[s + 1]);\n      r(i, c) < g && l(p.dist, p.normal, -1, !1);\n    }\n  }\n\n  createBufferWriter() {\n    return new g(this.parameters.isAttributeDriven ? R : v);\n  }\n\n}\n\nclass I extends o {\n  beginSlot(e) {\n    return this.ensureTechnique(T, e);\n  }\n\n}\n\nclass g {\n  constructor(e) {\n    this.vertexBufferLayout = e;\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    return e.indices.get(f.POSITION).length * j;\n  }\n\n  write(e, t, r, s) {\n    l(t.indices.get(f.POSITION), t.vertexAttributes.get(f.POSITION).data, e.transformation, r.position, s, j);\n    const i = t.indices.get(f.POSITION).length,\n          n = r.uv0;\n    let o = s;\n\n    for (let u = 0; u < i; ++u) n.setValues(o++, -1, -1), n.setValues(o++, 1, -1), n.setValues(o++, 1, 1), n.setValues(o++, 1, 1), n.setValues(o++, -1, 1), n.setValues(o++, -1, -1);\n\n    const a = \"featureAttribute\" in r ? r.featureAttribute : null;\n    a && m(t.indices.get(f.FEATUREATTRIBUTE), t.vertexAttributes.get(f.FEATUREATTRIBUTE).data, a, s, j);\n  }\n\n}\n\nconst v = n().vec3f(f.POSITION).vec2f(f.UV0),\n      R = v.clone().f32(f.FEATUREATTRIBUTE),\n      j = 6;\n\nfunction x(e) {\n  return e instanceof b;\n}\n\nconst E = s();\nexport { b as HeatmapDensityMaterial, A as HeatmapDensityMaterialParameters, x as isHeatMapDensityMaterial };","map":{"version":3,"names":["isNone","e","a","t","s","r","isVec2","i","newLayout","n","o","Material","RenderPass","u","RenderSlot","c","VertexAttribute","f","writePosition","l","writeBufferFloat","m","HeatmapDensityPassParameters","p","HeatmapDensityTechniqueConfiguration","h","HeatmapDensityTechnique","T","RadiusMode","d","A","constructor","arguments","isAttributeDriven","b","_techniqueConfig","requiresSlot","DRAPED_MATERIAL","MATERIAL","getConfiguration","parameters","createGLMaterial","I","intersect","vertexAttributes","get","POSITION","searchRadius","screenToWorldRatio","g","v","data","length","size","E","dist","normal","createBufferWriter","R","beginSlot","ensureTechnique","vertexBufferLayout","allocate","createBuffer","elementCount","indices","j","write","transformation","position","uv0","setValues","featureAttribute","FEATUREATTRIBUTE","vec3f","vec2f","UV0","clone","f32","x","HeatmapDensityMaterial","HeatmapDensityMaterialParameters","isHeatMapDensityMaterial"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{a as t,s as r}from\"../../../../chunks/vec2.js\";import{a as s}from\"../../../../chunks/vec2f64.js\";import{isVec2 as i}from\"../../../../core/libs/gl-matrix-2/types/vec2.js\";import{newLayout as n}from\"../../support/buffer/InterleavedLayout.js\";import o from\"../lib/GLMaterial.js\";import{Material as a}from\"../lib/Material.js\";import{RenderPass as u}from\"../lib/RenderPass.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as m}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as p,HeatmapDensityTechniqueConfiguration as h,HeatmapDensityTechnique as T}from\"../shaders/HeatmapDensityTechnique.js\";export{RadiusMode}from\"../shaders/HeatmapDensityTechnique.js\";const d=2;class A extends p{constructor(){super(...arguments),this.isAttributeDriven=!1}}class b extends a{constructor(e){super(e,new A),this._techniqueConfig=new h}requiresSlot(e,t){return e===c.DRAPED_MATERIAL&&t===u.MATERIAL}getConfiguration(){return this._techniqueConfig.isAttributeDriven=this.parameters.isAttributeDriven,this._techniqueConfig}createGLMaterial(e){return new I(e)}intersect(s,n,o,a,u,c,l,m,p){if(e(p)||!i(c))return;const h=s.vertexAttributes.get(f.POSITION),{parameters:T}=this,{searchRadius:A}=T,{screenToWorldRatio:b}=s,I=A*b+d*b,g=I*I,v=h.data.length/h.size;for(let e=0;e<v;e++){const s=e*h.size,i=t(E,h.data[s],h.data[s+1]);r(i,c)<g&&l(p.dist,p.normal,-1,!1)}}createBufferWriter(){return new g(this.parameters.isAttributeDriven?R:v)}}class I extends o{beginSlot(e){return this.ensureTechnique(T,e)}}class g{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(f.POSITION).length*j}write(e,t,r,s){l(t.indices.get(f.POSITION),t.vertexAttributes.get(f.POSITION).data,e.transformation,r.position,s,j);const i=t.indices.get(f.POSITION).length,n=r.uv0;let o=s;for(let u=0;u<i;++u)n.setValues(o++,-1,-1),n.setValues(o++,1,-1),n.setValues(o++,1,1),n.setValues(o++,1,1),n.setValues(o++,-1,1),n.setValues(o++,-1,-1);const a=\"featureAttribute\"in r?r.featureAttribute:null;a&&m(t.indices.get(f.FEATUREATTRIBUTE),t.vertexAttributes.get(f.FEATUREATTRIBUTE).data,a,s,j)}}const v=n().vec3f(f.POSITION).vec2f(f.UV0),R=v.clone().f32(f.FEATUREATTRIBUTE),j=6;function x(e){return e instanceof b}const E=s();export{b as HeatmapDensityMaterial,A as HeatmapDensityMaterialParameters,x as isHeatMapDensityMaterial};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}