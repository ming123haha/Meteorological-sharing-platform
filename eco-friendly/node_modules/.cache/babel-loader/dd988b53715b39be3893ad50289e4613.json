{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { s as e } from \"../../../../../../chunks/vec3.js\";\nimport { c as r } from \"../../../../../../chunks/vec3f64.js\";\nimport { ShaderOutput as i } from \"../ShaderOutputOptions.js\";\nimport { DoublePrecision as o } from \"../util/DoublePrecision.glsl.js\";\nimport { Float3DrawUniform as n } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { glsl as a } from \"../../shaderModules/interfaces.js\";\nimport { Matrix4PassUniform as t } from \"../../shaderModules/Matrix4PassUniform.js\";\nimport { VertexAttribute as s } from \"../../../lib/VertexAttribute.js\";\nimport { encodeDoubleHi as c, encodeDoubleLo as d } from \"../../../../../webgl/doublePrecisionUtils.js\";\n\nfunction m(r, m) {\n  m.instanced && m.instancedDoublePrecision && (r.attributes.add(s.MODELORIGINHI, \"vec3\"), r.attributes.add(s.MODELORIGINLO, \"vec3\"), r.attributes.add(s.MODEL, \"mat3\"), r.attributes.add(s.MODELNORMAL, \"mat3\"));\n  const u = r.vertex;\n  m.instancedDoublePrecision && (u.include(o, m), u.uniforms.add(new n(\"viewOriginHi\", (r, i) => c(e(l, i.camera.viewInverseTransposeMatrix[3], i.camera.viewInverseTransposeMatrix[7], i.camera.viewInverseTransposeMatrix[11]), l))), u.uniforms.add(new n(\"viewOriginLo\", (r, i) => d(e(l, i.camera.viewInverseTransposeMatrix[3], i.camera.viewInverseTransposeMatrix[7], i.camera.viewInverseTransposeMatrix[11]), l)))), u.code.add(a`\n    vec3 calculateVPos() {\n      ${m.instancedDoublePrecision ? \"return model * localPosition().xyz;\" : \"return localPosition().xyz;\"}\n    }\n    `), u.code.add(a`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${m.instancedDoublePrecision ? a`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;` : \"return vpos;\"}\n    }\n    `), u.code.add(a`\n    vec3 dpNormal(vec4 _normal) {\n      ${m.instancedDoublePrecision ? \"return normalize(modelNormal * _normal.xyz);\" : \"return normalize(_normal.xyz);\"}\n    }\n    `), m.output === i.Normal && (u.uniforms.add(new t(\"viewNormal\", (e, r) => r.camera.viewInverseTransposeMatrix)), u.code.add(a`\n    vec3 dpNormalView(vec4 _normal) {\n      ${m.instancedDoublePrecision ? \"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\" : \"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `)), m.hasVertexTangents && u.code.add(a`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${m.instancedDoublePrecision ? \"return vec4(modelNormal * _tangent.xyz, _tangent.w);\" : \"return _tangent;\"}\n\n    }\n    `);\n}\n\nconst l = r();\nexport { m as InstancedDoublePrecision };","map":{"version":3,"names":["s","e","c","r","ShaderOutput","i","DoublePrecision","o","Float3DrawUniform","n","glsl","a","Matrix4PassUniform","t","VertexAttribute","encodeDoubleHi","encodeDoubleLo","d","m","instanced","instancedDoublePrecision","attributes","add","MODELORIGINHI","MODELORIGINLO","MODEL","MODELNORMAL","u","vertex","include","uniforms","l","camera","viewInverseTransposeMatrix","code","output","Normal","hasVertexTangents","InstancedDoublePrecision"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as e}from\"../../../../../../chunks/vec3.js\";import{c as r}from\"../../../../../../chunks/vec3f64.js\";import{ShaderOutput as i}from\"../ShaderOutputOptions.js\";import{DoublePrecision as o}from\"../util/DoublePrecision.glsl.js\";import{Float3DrawUniform as n}from\"../../shaderModules/Float3DrawUniform.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";import{Matrix4PassUniform as t}from\"../../shaderModules/Matrix4PassUniform.js\";import{VertexAttribute as s}from\"../../../lib/VertexAttribute.js\";import{encodeDoubleHi as c,encodeDoubleLo as d}from\"../../../../../webgl/doublePrecisionUtils.js\";function m(r,m){m.instanced&&m.instancedDoublePrecision&&(r.attributes.add(s.MODELORIGINHI,\"vec3\"),r.attributes.add(s.MODELORIGINLO,\"vec3\"),r.attributes.add(s.MODEL,\"mat3\"),r.attributes.add(s.MODELNORMAL,\"mat3\"));const u=r.vertex;m.instancedDoublePrecision&&(u.include(o,m),u.uniforms.add(new n(\"viewOriginHi\",((r,i)=>c(e(l,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]),l)))),u.uniforms.add(new n(\"viewOriginLo\",((r,i)=>d(e(l,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]),l))))),u.code.add(a`\n    vec3 calculateVPos() {\n      ${m.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `),u.code.add(a`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${m.instancedDoublePrecision?a`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `),u.code.add(a`\n    vec3 dpNormal(vec4 _normal) {\n      ${m.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `),m.output===i.Normal&&(u.uniforms.add(new t(\"viewNormal\",((e,r)=>r.camera.viewInverseTransposeMatrix))),u.code.add(a`\n    vec3 dpNormalView(vec4 _normal) {\n      ${m.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `)),m.hasVertexTangents&&u.code.add(a`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${m.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `)}const l=r();export{m as InstancedDoublePrecision};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}