{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clamp as e } from \"../../../core/mathUtils.js\";\nimport { isSome as t, abortMaybe as i, isNone as s } from \"../../../core/maybe.js\";\nimport n from \"../../../core/ObjectPool.js\";\nimport { c as r, a } from \"../../../chunks/vec2.js\";\nimport { a as o } from \"../../../chunks/vec2f64.js\";\nimport { b as h, p as l, e as d, g as u, a as c, l as g } from \"../../../chunks/vec3.js\";\nimport { c as f, u as p } from \"../../../chunks/vec3f64.js\";\nimport { E as m } from \"../../../chunks/common.js\";\nimport { getReferenceEllipsoid as _ } from \"../../../geometry/projectionEllipsoid.js\";\nimport { create as y, equals as A } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { c as E } from \"../../../chunks/sphere.js\";\nimport { VectorTile as T } from \"../../2d/engine/vectorTiles/VectorTile.js\";\nimport { ImageWithType as v } from \"../support/StreamDataLoader.js\";\nimport { ElevationBounds as L } from \"./ElevationBounds.js\";\nimport { ElevationTileAgent as M } from \"./ElevationTileAgent.js\";\nimport { LODSnapping as D, TextureUpdate as I, NeighborIndex as N } from \"./interfaces.js\";\nimport { LayerClasses as b, LayerClass as S } from \"./LayerClass.js\";\nimport { MapTileAgent as x } from \"./MapTileAgent.js\";\nimport { RasterTile as j } from \"./RasterTile.js\";\nimport { MAX_PATCH_TESSELATION as O, getElevationDesiredResolutionLevel as C } from \"./TerrainConst.js\";\nimport { weakAssert as U, getLayerWithExtentRange as R, isBlendableLayerView as P, oppositeCorner as B, neighborCornerIndices as G, neighborEdgeIndices as V, oppositeEdge as W, internalAssert as w, isNorth as q, isSouth as H, isWest as F, isEast as k, ENABLE_WATERPROOFNESS_TESTS as X, isWestCorner as z, isNorthCorner as J } from \"./terrainUtils.js\";\nimport { TILE_AGENT_DONE as Y } from \"./TileAgent.js\";\nimport { TilePerLayerInfo as $ } from \"./TilePerLayerInfo.js\";\nimport Q from \"./TileTexture.js\";\nimport { TileUpdate as K } from \"./TileUpdate.js\";\nimport { fallsWithinLayer as Z } from \"./tileUtils.js\";\nimport { getGpuMemoryUsage as ee } from \"../../webgl/Util.js\";\nconst te = f(),\n      ie = f(),\n      se = f(),\n      ne = .1;\n\nclass re {\n  constructor() {\n    this.fovX = 0, this.fovY = 0, this.relativeWidthLimit = 0, this.relativeHeightLimit = 0, this.maxLod = 0, this.angledSplitBias = 0, this.aboveGround = !0;\n  }\n\n}\n\nclass ae {\n  constructor() {\n    this.lij = [0, 0, 0], this._children = [null, null, null, null], this._pendingUpdates = 0, this._dirty = !0, this._previouslyRendered = !1, this.extent = y(), this._elevationBounds = o(), this.layerInfo = [[], []], this.extentInRadians = y(), this.centerAtSeaLevel = f(), this._center = [f(), E(), f()], this.up = p(), this._isWithinClippingArea = !0, this._intersectsClippingArea = !0, this._maxTesselation = 0, this._usedMemory = null, this._mapTileMemory = 0, this._mapDataRefCount = 0, this._screenDepth = 0, this.renderOrder = 0, this._edgeLen = 0, this._edgeLen2 = 0, this._curvatureHeight = 0;\n  }\n\n  static prune() {\n    le.prune(0), de.prune(0), $.prune();\n  }\n\n  get isCached() {\n    return !this.shouldLoad && this._mapDataRefCount <= 0;\n  }\n\n  get maxTesselation() {\n    return this._maxTesselation;\n  }\n\n  get isWithinClippingArea() {\n    return this._isWithinClippingArea;\n  }\n\n  get intersectsClippingArea() {\n    return this._intersectsClippingArea;\n  }\n\n  get clippingArea() {\n    return this._clippingArea;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get children() {\n    return this._children;\n  }\n\n  get surface() {\n    return this._surface;\n  }\n\n  get elevationBounds() {\n    return this._elevationBounds;\n  }\n\n  get level() {\n    return this.lij[0];\n  }\n\n  get key() {\n    return `${this.lij[0]}/${this.lij[1]}/${this.lij[2]}`;\n  }\n\n  get edgeLen() {\n    return this._edgeLen;\n  }\n\n  get radius() {\n    return this._center[ce.MIDDLE][3];\n  }\n\n  get screenDepth() {\n    return this._screenDepth;\n  }\n\n  get visible() {\n    return this._dirty && this.computeVisibility(), this._visible;\n  }\n\n  computeVisibility() {\n    this._dirty = !1;\n\n    const e = this._intersectsClippingArea && this._isVisible(this.surface.frustum);\n\n    return e !== this._visible && (this._visible = e, this._surface.emit(\"tiles-visibility-changed\"), this._surface.renderer.setNeedsRender(), this.updateAgentSuspension()), this._visible;\n  }\n\n  get loadable() {\n    return this.visible || this._surface.view.state.fixedContentCamera;\n  }\n\n  get rendered() {\n    const e = !!this.renderData;\n    return e !== this._previouslyRendered && (this._surface.emit(\"tiles-visibility-changed\"), this._previouslyRendered = e, this._surface.renderer.setNeedsRender()), e;\n  }\n\n  get shouldLoad() {\n    if (!this.loadable) return !1;\n\n    if (this._surface.lodSnapping === D.ON) {\n      const e = this.level - this._surface.snapLevel;\n      if (0 === e) return !0;\n      if (1 === e) return !1;\n    }\n\n    return this.isLeaf;\n  }\n\n  init(e, t, i) {\n    this.lij[0] = e[0], this.lij[1] = e[1], this.lij[2] = e[2], this.ellipsoid = _(i.tilingScheme.spatialReference), i.tilingScheme.getExtent(e[0], e[1], e[2], this.extent), i.tilingScheme.convertExtentToRadians(this.extent, this.extentInRadians), this._isWithinClippingArea = !0, this._intersectsClippingArea = !0, this._clippingArea = null, this._mapDataRefCount = 0, i.upsampleMapCache.pop(this.key), this._edgeLen = 0, this._edgeLen2 = 0, this._center[ce.MIDDLE][3] = 0, this.vlevel = e ? e[0] : 0, t && t.elevationBounds ? r(this._elevationBounds, t.elevationBounds) : a(this._elevationBounds, 0, 0), this._pendingUpdates = 0, this.renderData = null, this._screenDepth = 0, this._visible = !1, this._previouslyRendered = !1, this._parent = t, this.unsetChildren(), this._surface = i, this.updateVisibility();\n\n    for (const s of b) {\n      const e = i.numLayers(s),\n            t = this.layerInfo[s];\n\n      for (const i of t) i.release();\n\n      t.length = e;\n\n      for (let i = 0; i < e; i++) t[i] = $.acquire(this._surface.upsampleInfoPool), s === S.ELEVATION && this.findElevationBoundsForLayer(i, -1);\n    }\n\n    this.computeElevationBounds(), this._maxTesselation = Math.min(i.tilingScheme.pixelSize, O);\n  }\n\n  release() {\n    U(!this.renderData, \"tile.renderData was not unloaded\"), this._surface.upsampleMapCache.pop(this.key);\n\n    for (const e of b) {\n      for (const t of this.layerInfo[e]) t.release();\n\n      this.layerInfo[e].length = 0;\n    }\n\n    this._parent = null, this._surface = null, this.setMemoryDirty();\n  }\n\n  refMapData() {\n    ++this._mapDataRefCount, this.isCached || this._surface.upsampleMapCache.pop(this.key);\n  }\n\n  unrefMapData() {\n    if (--this._mapDataRefCount, this.isCached) {\n      this.setMemoryDirty();\n      const e = this.cachedMemory;\n      e > 0 && this._surface.upsampleMapCache.put(this.key, this, e);\n    }\n  }\n\n  setMemoryDirty() {\n    this._usedMemory = null;\n  }\n\n  get usedMemory() {\n    return this._ensureUsedMemory() + (this.isCached ? 0 : this._mapTileMemory);\n  }\n\n  get cachedMemory() {\n    return this.isCached ? this.mapTileMemory : 0;\n  }\n\n  get mapTileMemory() {\n    return this._ensureUsedMemory(), this.layerInfo[S.MAP].reduce((e, t) => e + (t instanceof T ? t.memoryUsage : 0), this._mapTileMemory);\n  }\n\n  get cpuImageMemorySize() {\n    const e = 4,\n          t = this._surface.tilingScheme.pixelSize;\n    return t * t * e;\n  }\n\n  _ensureUsedMemory() {\n    if (t(this._usedMemory)) return this._usedMemory;\n    this._usedMemory = 0, this._mapTileMemory = 0;\n    let e = 0;\n\n    for (const {\n      data: t\n    } of this.layerInfo[S.MAP]) t instanceof T ? e += this._getTerrainDataMemory(t) : this._mapTileMemory += this._getTerrainDataMemory(t);\n\n    const i = this.cpuImageMemorySize;\n\n    for (const t of this.layerInfo[S.ELEVATION]) this._usedMemory += t.data ? i : 0;\n\n    return this.renderData && (this._usedMemory += this.renderData.estimatedGeometryMemoryUsage, this._mapTileMemory += ee(this.renderData.textureDescriptor)), this.isCached && this._surface.upsampleMapCache.updateSize(this.key, this, this._mapTileMemory + e), this._usedMemory;\n  }\n\n  getUsedMemoryForLayer(e, t) {\n    const i = this.layerInfo[e][t];\n    return i?.data ? e === S.MAP ? this.isCached ? 0 : this._getTerrainDataMemory(i.data) : e === S.ELEVATION ? this.cpuImageMemorySize : 0 : 0;\n  }\n\n  _getTerrainDataMemory(e) {\n    return e instanceof Q ? ee(e.texture) : e instanceof HTMLImageElement || e instanceof v ? this.cpuImageMemorySize : e instanceof T || e instanceof j ? e.memoryUsage : 0;\n  }\n\n  updateScreenDepth(e) {\n    const t = this._center[ce.MIDDLE],\n          i = e,\n          s = t[0],\n          n = t[1],\n          r = t[2],\n          a = i[2] * s + i[6] * n + i[10] * r + i[14];\n    this._screenDepth = a < 0 ? 0 : a / (i[3] * s + i[7] * n + i[11] * r + i[15]);\n  }\n\n  shouldSplit(e, i, s) {\n    if (t(e.frustum) && (!this._intersectsClippingArea || !this._isVisible(e.frustum))) return K.NONE;\n    const n = this.level;\n    h(te, this._center[ce.MIDDLE], i);\n    let r = l(te),\n        a = ce.MIDDLE;\n    h(ie, this._center[ce.TOP], i);\n    const o = l(ie);\n    o < r && (r = o, a = ce.TOP), h(ie, this._center[ce.BOTTOM], i);\n    const f = l(ie);\n    if (f < r && (r = f, a = ce.BOTTOM), this._edgeLen2 > r && n < e.maxLod) return K.SPLIT;\n\n    const p = Math.sqrt(r),\n          m = e.fovX * p * 2,\n          _ = this._edgeLen / m,\n          y = () => {\n      const t = n + Math.ceil(-Math.log2(e.relativeWidthLimit / _));\n      return t !== this.vlevel ? (this.vlevel = t, K.VSPLITMERGE) : K.NONE_HIT_MAXLOD;\n    };\n\n    if (s === D.ON) {\n      if (1 === this._surface.snapLevel - n) return n >= e.maxLod ? y() : K.SPLIT;\n    }\n\n    const A = d(this.up, te),\n          E = this._elevationBounds[1] - this._elevationBounds[0],\n          T = E / this.edgeLen;\n\n    if (e.aboveGround && A > 0 && T < .001) {\n      if (A / p - Math.sin(this._curvatureHeight / (this.edgeLen * Math.SQRT1_2) * Math.PI) - T > 0) return K.NONE;\n    }\n\n    if (_ < e.relativeWidthLimit) return this.vlevel !== this.level ? (this.vlevel = this.level, K.VSPLITMERGE) : K.NONE;\n    if (n >= e.maxLod) return y();\n\n    if (n > 6) {\n      h(ie, this._center[a], i), u(se, this.up, A), h(se, se, ie);\n      const t = l(se);\n\n      if (t > this.radius * this.radius) {\n        u(se, se, this.radius / Math.sqrt(t)), c(se, se, this._center[a]), h(se, i, se);\n        const s = Math.min(1, (Math.abs(d(se, this.up)) + .5 * E + this._curvatureHeight) / g(se)),\n              n = ne / e.angledSplitBias,\n              r = e.fovY * p * 2;\n        if (s * (this._edgeLen / r) < n * e.relativeHeightLimit) return K.NONE;\n      }\n    }\n\n    return K.SPLIT;\n  }\n\n  setChildren(e, t, i, s) {\n    U(!!(e && t && i && s), \"Null child passed\"), this._children[0] = e, this._children[1] = t, this._children[2] = i, this._children[3] = s;\n  }\n\n  unsetChildren() {\n    this._children[0] = null, this._children[1] = null, this._children[2] = null, this._children[3] = null;\n  }\n\n  get isLoaded() {\n    return this.renderData?.hasGeometry ?? !1;\n  }\n\n  prepareToLoad(e) {\n    this.refMapData();\n\n    for (const t of b) this._createOrUpdateAgents(0, t);\n\n    e.updateTileGeometryState(this);\n  }\n\n  load(e) {\n    this.prepareToLoad(e), this.loadPrepared(e);\n  }\n\n  loadPrepared(e) {\n    e.loadTile(this);\n  }\n\n  unload(e) {\n    e.unloadTile(this);\n\n    for (const t of b) {\n      const e = this.layerInfo[t];\n\n      for (const t of e) t.loadingAgent && t.loadingAgent !== Y && (he(t.loadingAgent), t.loadingAgent = null), t.pendingUpdates = 0;\n    }\n\n    this.resetPendingUpdate(K.GEOMETRY), this.resetPendingUpdate(K.TEXTURE_NOFADING), this.resetPendingUpdate(K.TEXTURE_FADING), this.unrefMapData();\n  }\n\n  unloadMapData() {\n    const e = this.layerInfo[S.MAP];\n\n    for (const t of e) t.loadingAgent && t.loadingAgent !== Y && (he(t.loadingAgent), t.loadingAgent = null), t.pendingUpdates = 0;\n\n    this.renderData && this.renderData.releaseTexture(), this.setMemoryDirty();\n  }\n\n  updateClippingStatus(e) {\n    if (A(e, this._clippingArea)) return !1;\n    const i = this._intersectsClippingArea,\n          s = this._isWithinClippingArea;\n    t(e) ? (this._intersectsClippingArea = this.intersectsExtent(e), this._isWithinClippingArea = this._isWithinExtent(e)) : (this._intersectsClippingArea = !0, this._isWithinClippingArea = !0), this._clippingArea = e, this.updateVisibility();\n    const n = s && this._isWithinClippingArea,\n          r = !(s || i || this._isWithinClippingArea || this._intersectsClippingArea);\n    return !this.renderData || n || r || this.setPendingUpdate(K.GEOMETRY), !0;\n  }\n\n  updateVisibility() {\n    this._dirty = !0, this._surface.setTileTreeDirty();\n  }\n\n  getLayerInfo(e, t) {\n    return this.layerInfo[t][e];\n  }\n\n  hasLayerData(e, t) {\n    const i = this.layerInfo[t][e];\n    return !(!i || !i.data || i.dataInvalidated);\n  }\n\n  get updating() {\n    if (this.hasPendingUpdates) return !0;\n\n    for (const e of b) {\n      const t = this.layerInfo[e];\n\n      for (const e of t) if (e.loadingAgent && e.loadingAgent !== Y && e.loadingAgent.updating) return !0;\n    }\n\n    return !1;\n  }\n\n  _isSuspended(e) {\n    return !!this.hasPendingUpdate(K.SPLIT) || e !== S.ELEVATION && !this.loadable;\n  }\n\n  get hasPendingUpdates() {\n    return 0 !== this._pendingUpdates;\n  }\n\n  hasPendingUpdate(e) {\n    return (this._pendingUpdates & e) === e;\n  }\n\n  setPendingUpdate(e) {\n    this._pendingUpdates |= e, e === K.SPLIT || e === K.MERGE ? this._surface.setTileTreeDirty() : this._surface.requestUpdate();\n  }\n\n  resetPendingUpdate(e) {\n    return !!this.hasPendingUpdate(e) && (this._pendingUpdates &= ~e, !0);\n  }\n\n  requestLayerData(e, t, s) {\n    const n = this.layerInfo[t][e];\n    if (n.waitingAgents.has(s)) return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\", this.lij.toString(), s.tile.lij.toString(), t, e), !0;\n    if (n.waitingAgents.push(s), n.data && !n.dataInvalidated) return console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\", this.lij.toString(), s.tile.lij.toString(), t, e), s.dataArrived(this), !0;\n    if (n.requestPromise) return !0;\n    i(n.requestAbort), n.requestAbort = new AbortController();\n\n    const r = this._surface.requestTileData(this, e, t, n.requestAbort);\n\n    if (!r) return n.requestAbort = null, !1;\n\n    const a = () => {\n      n.requestPromise === r && (n.requestPromise = null, n.requestAbort = null);\n    };\n\n    return n.requestPromise = r, r.then(a, a), !0;\n  }\n\n  get isLeaf() {\n    return null == this._children[0];\n  }\n\n  hasLij(e) {\n    return this.lij[0] === e[0] && this.lij[1] === e[1] && this.lij[2] === e[2];\n  }\n\n  findByLij(e) {\n    if (this.hasLij(e)) return this;\n    if (this.isLeaf) return null;\n\n    const t = this._children[0].findByLij(e) || this._children[1].findByLij(e) || this._children[2].findByLij(e) || this._children[3].findByLij(e);\n\n    return t || null;\n  }\n\n  distanceToSquared(e) {\n    return l(h(se, this._center[ce.MIDDLE], e));\n  }\n\n  containsPoint(e) {\n    const t = this.extent;\n    return e[0] >= t[0] && e[1] >= t[1] && e[0] <= t[2] && e[1] <= t[3];\n  }\n\n  unrequestLayerData(e, t, i) {\n    const s = this.layerInfo[t][e],\n          n = s.waitingAgents,\n          r = null != n.removeUnordered(i);\n    U(r, \"agent has not requested this piece of map data\"), n.length < 1 && (s.abortRequest(), this.setMemoryDirty());\n  }\n\n  dataArrived(e, t, i) {\n    const s = this.layerInfo[t][e];\n    s.data = i, s.dataInvalidated = !1, s.waitingAgents.forAll(e => e.dataArrived(this)), s.waitingAgents.clear(), this.setMemoryDirty();\n  }\n\n  dataMissing(e, t, i) {\n    i.notInTilemap || console.error(`Tile ${this.lij.toString()} layer ${t}/${e} error ${i}`);\n    const s = this.layerInfo[t][e];\n    s.dataMissing = !0, s.waitingAgents.forAll(e => e.dataMissing()), s.waitingAgents.clear(), this.setMemoryDirty();\n  }\n\n  updateRenderData(e, t) {\n    switch (e) {\n      case S.MAP:\n        return this._updateTexture(t);\n\n      case S.ELEVATION:\n        return this._updateGeometry();\n    }\n  }\n\n  _updateTexture(e) {\n    this.renderData && (this.resetPendingUpdate(e === I.FADING ? K.TEXTURE_NOFADING : K.TEXTURE_FADING), this.setPendingUpdate(e === I.FADING ? K.TEXTURE_FADING : K.TEXTURE_NOFADING));\n  }\n\n  _updateGeometry() {\n    this.setPendingUpdate(K.GEOMETRY);\n\n    for (const e of this.layerInfo[S.ELEVATION]) e.pendingUpdates |= K.GEOMETRY;\n  }\n\n  invalidateLayerData(e, t) {\n    this.layerInfo[t][e].invalidateSourceData(), this.restartAgents(t);\n  }\n\n  computeElevationBounds() {\n    const e = this._elevationBounds;\n    a(e, Number.MAX_VALUE, -Number.MAX_VALUE);\n    const i = this.layerInfo[S.ELEVATION];\n    let s = !0;\n\n    for (const n of i) t(n.elevationBounds) && (e[0] = Math.min(e[0], n.elevationBounds.min), e[1] = Math.max(e[1], n.elevationBounds.max), n.elevationBounds.hasNoDataValues || (s = !1));\n\n    s && (e[0] = Math.min(e[0], 0), e[1] = Math.max(e[1], 0)), this.updateRadiusAndCenter(), this._surface.setTileTreeDirty();\n  }\n\n  _updateCenter() {\n    const e = this._elevationBounds,\n          t = .5 * (e[0] + e[1]);\n    u(se, this.up, t), c(this._center[ce.MIDDLE], this.centerAtSeaLevel, se), u(se, this.up, e[0]), c(this._center[ce.TOP], this.centerAtSeaLevel, se), u(se, this.up, e[1]), c(this._center[ce.BOTTOM], this.centerAtSeaLevel, se);\n  }\n\n  findElevationBoundsForLayer(e, i) {\n    const n = this.layerInfo[S.ELEVATION][e];\n    if (t(n.elevationBounds) && n.elevationBounds.level >= i) return;\n\n    const r = this._surface.layerViewByIndex(e, S.ELEVATION),\n          a = R(r);\n\n    if (!Z(this, a, !1)) return;\n    const o = ue;\n    let h = !1;\n\n    if (n.data) {\n      const e = n.data;\n      o.min = e.bounds[0], o.max = e.bounds[1], o.hasNoDataValues = e.hasNoDataValues, o.level = this.level, h = !0;\n    } else {\n      let t,\n          i,\n          s = 0;\n\n      for (let n = this._parent; n && (!i || s < C(this.level)) && (s = this.vlevel - n.level, t = i || t, i = n.layerInfo[S.ELEVATION][e].data, !(!i && t && s >= C(this.level))); n = n.parent);\n\n      i = i || t, i && (i.computeMinMaxValue(this.lij[0], this.lij[1], this.lij[2], o), o.min !== 1 / 0 && (o.level = i.level, h = !0));\n    }\n\n    h && (s(n.elevationBounds) && (n.elevationBounds = new L()), n.elevationBounds.copyFrom(o));\n  }\n\n  modifyLayers(e, t, i) {\n    const s = this.layerInfo[i];\n\n    for (const a of s) a.loadingAgent && a.loadingAgent !== Y && (he(a.loadingAgent), a.loadingAgent = null), a.waitingAgents.clear();\n\n    for (let a = 0; a < s.length; ++a) void 0 === e[a] && s[a].release();\n\n    const n = new Array(...s),\n          r = t.length;\n    s.length = r;\n\n    for (let a = 0; a < r; a++) {\n      const e = t[a];\n      s[a] = e > -1 ? n[e] : $.acquire(this._surface.upsampleInfoPool);\n    }\n\n    this.setMemoryDirty();\n  }\n\n  restartAgents(e) {\n    this.renderData && (this._createOrUpdateAgents(0, e), this.updateRenderData(e, I.FADING));\n  }\n\n  updateAgents(e) {\n    if (this.renderData) {\n      const t = this.layerInfo[e];\n\n      for (const e of t) e.loadingAgent === Y && (e.loadingAgent = null);\n\n      this._createOrUpdateAgents(0, e);\n    }\n  }\n\n  updateAgentSuspension() {\n    for (const e of b) {\n      const t = this._isSuspended(e);\n\n      for (const i of this.layerInfo[e]) i.loadingAgent && i.loadingAgent !== Y && (i.loadingAgent.setSuspension(t), i.loadingAgent === Y && this.updateRenderData(e, I.FADING));\n    }\n  }\n\n  removeLayerAgent(e, t) {\n    const i = this.layerInfo[t][e];\n    i.loadingAgent && i.loadingAgent !== Y && i.loadingAgent.dispose(), i.loadingAgent = null;\n  }\n\n  agentDone(e, t) {\n    const i = this.layerInfo[t][e];\n    i.loadingAgent = Y, !i.data && s(i.upsampleInfo) && this._createOrUpdateAgents(e + 1, t);\n  }\n\n  _createOrUpdateAgents(e, t) {\n    const i = this.layerInfo[t];\n    if (0 === i.length) return;\n\n    const s = (() => {\n      for (let s = e; s < i.length; ++s) {\n        const e = this._surface.layerViewByIndex(s, t);\n\n        if (P(e) && \"normal\" !== e.layer.blendMode) return !0;\n      }\n\n      return !1;\n    })(),\n          n = this._isSuspended(t);\n\n    for (let r = e; r < i.length; ++r) {\n      const e = i[r];\n      let a = !1;\n\n      const o = this._surface.layerViewByIndex(r, t),\n            h = R(o);\n\n      if (e.loadingAgent ? Z(this, h, !1) ? (e.loadingAgent !== Y && e.loadingAgent.setSuspension(n), e.loadingAgent !== Y && (a = e.loadingAgent.update())) : e.dispose() : Z(this, h, !1) && (e.loadingAgent = oe(this, r, t, n), a = e.loadingAgent.startLoading(), a ? e.loadingAgent === Y && this.setPendingUpdate(K.GEOMETRY) : (he(e.loadingAgent), e.loadingAgent = Y)), e.loadingAgent === Y && this.updateRenderData(t, I.FADING), !s && a && o.isOpaque) return;\n    }\n  }\n\n  _isWithinExtent(e) {\n    const t = this.extent;\n    return t[0] >= e[0] && e[2] >= t[2] && t[1] >= e[1] && e[3] >= t[3];\n  }\n\n  intersectsExtent(e) {\n    const t = this.extent;\n    return t[2] >= e[0] && e[2] >= t[0] && t[3] >= e[1] && e[3] >= t[1];\n  }\n\n  getElevationBasedVerticesPerSide(t) {\n    const i = this.vlevel - this.level,\n          s = Math.max(this.level - t, C(this.level) - i);\n    return e(1 + (this.maxTesselation >> s), 2, this.maxTesselation + 1);\n  }\n\n  get test() {\n    return {\n      cachedMemory: this.cachedMemory\n    };\n  }\n\n  _findLIJ(e, i) {\n    if (!e) return null;\n    const s = this.surface.rootTiles;\n    if (t(s)) for (const t of s) if (ge(t, e)) {\n      let s = t,\n          n = e[0] - s.level - 1;\n\n      for (; n >= 0 && !s.isLeaf && !i(s);) {\n        const t = e[1] >> n & 1,\n              i = e[2] >> n & 1;\n        s = s.children[2 * t + i], n--;\n      }\n\n      return i(s) ? s : null;\n    }\n    return null;\n  }\n\n  findNeighborTile(e, t) {\n    const i = this.lij,\n          s = this.getNeighborLIJ(i, e);\n    return s ? fe(i, s) ? t(this) ? this : null : this._findLIJ(s, t) : null;\n  }\n\n  findCorner(e, t) {\n    const i = e === N.NORTH_EAST ? 1 : e === N.NORTH_WEST ? 0 : e === N.SOUTH_WEST ? 2 : 3;\n    let s = this;\n\n    for (; !(s.isLeaf || t && t(s));) s = s.children[i];\n\n    return s;\n  }\n\n  findNeighborCornerTileExact(e, t) {\n    return this.findNeighborTile(e, e => t(e) || e.level === this.level)?.findCorner(B(e), t);\n  }\n\n  forAllSubtreeOnSide(e, t) {\n    const i = e === N.NORTH ? [0, 1] : e === N.NORTH_EAST ? [1] : e === N.EAST ? [1, 3] : e === N.SOUTH_EAST ? [3] : e === N.SOUTH ? [2, 3] : e === N.SOUTH_WEST ? [2] : e === N.WEST ? [0, 2] : [0],\n          s = e => {\n      t(e) || e.isLeaf || i.forEach(t => s(e.children[t]));\n    };\n\n    s(this);\n  }\n\n  forallNeighbors(e) {\n    G.forEach(t => this.findNeighborCornerTileExact(t, e)), V.forEach(t => this.findNeighborTile(t, t => t.level === this.level || e(t))?.forAllSubtreeOnSide(W(t), e));\n  }\n\n  getNeighborEdgeStartVertexIndex(e, t) {\n    const i = t ?? this.findNeighborTile(V[e], e => e.isLoaded);\n    if (!i || !this.isLoaded || !i.isLoaded) return 0;\n    const s = this.level - i.level;\n    if (0 === s) return 0;\n    const n = 2 ** s,\n          r = 1 == (1 & e),\n          a = r ? 0 : 1,\n          o = i.lij[a + 1] * n,\n          h = this.lij[a + 1] - o;\n    return r ? n - 1 - h : h;\n  }\n\n  _updateNeighborsWithChangedEdgeResolution() {\n    for (let e = 0; e < 4; ++e) if (this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e]) {\n      const t = V[e],\n            i = this.findNeighborTile(t, e => e.isLoaded || e.level === this.level);\n      if (!i) continue;\n\n      if (!i.isLoaded) {\n        w(!i.isLeaf);\n        const s = (e + 2) % 4,\n              n = W(t);\n        i.forAllSubtreeOnSide(n, e => e.isLoaded ? (e.updateEdgeAfterResolutionChange(s), !0) : (w(!e.isLeaf), !1));\n      }\n\n      this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e] = !1;\n    }\n  }\n\n  updateNeighborDataAndGeometryIfNeeded() {\n    this.isLoaded && this.renderData.updateNeighborDataAndGeometryIfNeeded();\n  }\n\n  updateNeighborsAfterGeometryChange(e = this.level) {\n    this.forEachLoadedNeighbor(e => this._updateNeighbor(e)), V.forEach(t => {\n      this.findNeighborTile(t, t => t.isLoaded && t.level < e)?.updateNeighborsWithChangedEdgeResolution();\n    });\n  }\n\n  updateNeighborsWithChangedEdgeResolution() {\n    this.isLoaded && this._updateNeighborsWithChangedEdgeResolution();\n  }\n\n  updateEdgeAfterResolutionChange(e) {\n    this.renderData.updateEdgeAfterResolutionChange(e);\n  }\n\n  forEachLoadedNeighbor(e) {\n    const t = this.level,\n          i = e => e.level === t || e.isLoaded;\n\n    V.forEach((t, s) => {\n      const n = this.findNeighborTile(t, i);\n      null != n && n !== this && n.forAllSubtreeOnSide(W(t), t => !!t.isLoaded && (e(t), !0));\n      const r = this.renderData?.geometryState?.neighborData;\n      r && (r.modifiedEdgeResolutions[s] = !1);\n    }), G.forEach(t => {\n      const s = this.findNeighborTile(t, i)?.findCorner(B(t), e => e.isLoaded);\n      w(!s || _e(this, s, t)), s?.isLoaded && e(s);\n    });\n  }\n\n  _updateNeighbor(e) {\n    e?.isLoaded && e.updateNeighborDataAndGeometryIfNeeded();\n  }\n\n  getNeighborLIJ(e, t) {\n    const i = q(t) ? -1 : H(t) ? 1 : 0,\n          s = F(t) ? -1 : k(t) ? 1 : 0,\n          n = [e[0], e[1] + i, e[2] + s];\n    return n[1] < 0 ? null : this.surface.isGlobal ? this.wrapLIJ(n) : n[2] < 0 ? null : n;\n  }\n\n  wrapLIJ(e) {\n    return !e || e[1] < 0 || e[1] >= 2 ** e[0] ? null : this.surface.wrapEastWest(e);\n  }\n\n  get westNeighborWestExtent() {\n    return this.extent[0] * (this.isWestEnd ? -1 : 1);\n  }\n\n  get eastNeighborEastExtent() {\n    return this.extent[2] * (this.isEastEnd ? -1 : 1);\n  }\n\n  get isEastEnd() {\n    return this.lij[2] === this.surface.lijEastEnd(this.level) - 1;\n  }\n\n  get isWestEnd() {\n    return 0 === this.lij[2];\n  }\n\n  get isNorthEnd() {\n    return 0 === this.lij[1];\n  }\n\n  get isSouthEnd() {\n    return this.extent[1] + m >= this.surface.extent[1];\n  }\n\n  compareLIJs(e) {\n    const t = this.lij,\n          i = t[0],\n          s = e[0];\n    if (i === s) return [t, e];\n    const n = i - s;\n\n    if (n < 0) {\n      const i = 2 ** -n;\n      return [[s, t[1] * i, t[2] * i], e];\n    }\n\n    {\n      const s = 2 ** n;\n      return [t, [i, e[1] * s, e[2] * s]];\n    }\n  }\n\n  checkGeometryWaterproofness() {\n    X && (w(this.isLoaded), this.renderData.checkGeometryWaterproofness());\n  }\n\n  shouldHaveNeighbor(e) {\n    const t = this.extent,\n          i = this.surface.rootTilesExtent,\n          s = .25 * (t[2] - t[0]);\n    if (q(e) && t[3] + s >= i[3]) return !1;\n    if (H(e) && t[1] - s <= i[1]) return !1;\n    const n = this.surface.isGlobal;\n    return !(!n && F(e) && t[0] - s <= i[0]) && !(!n && k(e) && t[2] + s >= i[2]);\n  }\n\n}\n\nfunction oe(e, t, i, s) {\n  const n = i === S.ELEVATION ? de.acquire() : le.acquire();\n  return n.init(e, t, i, s), n;\n}\n\nfunction he(e) {\n  e.dispose(), e instanceof M ? de.release(e) : e instanceof x && le.release(e);\n}\n\nconst le = new n(x),\n      de = new n(M),\n      ue = new L();\nvar ce;\n\nfunction ge(e, t) {\n  const i = e.level,\n        s = t[0];\n  if (i > s) return !1;\n  const n = s - i,\n        r = Math.floor(t[1] / 2 ** n),\n        a = Math.floor(t[2] / 2 ** n);\n  return r === e.lij[1] && a === e.lij[2];\n}\n\nfunction fe(e, t) {\n  return e[0] === t[0] && e[1] === t[1] && e[2] === t[2];\n}\n\nfunction pe(e, t, i) {\n  return Math.abs(e - t) <= i;\n}\n\nfunction me(e, t, i) {\n  if (s(e) || s(t)) return !1;\n\n  if (0 === e.level && 0 === t.level) {\n    if (e.isEastEnd && t.isWestEnd && i === N.EAST) return !0;\n    if (e.isWestEnd && t.isEastEnd && i === N.WEST) return !0;\n  }\n\n  const n = 1e-6 * (e.extent[2] - e.extent[0]);\n\n  switch (i) {\n    case N.NORTH:\n      return pe(e.extent[3], t.extent[1], n);\n\n    case N.SOUTH:\n      return pe(e.extent[1], t.extent[3], n);\n\n    case N.EAST:\n      return pe(e.extent[2], t.extent[0], n) || pe(e.extent[2], -t.extent[0], n);\n\n    case N.WEST:\n      return pe(e.extent[0], t.extent[2], n) || pe(e.extent[0], -t.extent[2], n);\n  }\n}\n\nfunction _e(e, t, i) {\n  return !s(e) && !s(t) && t !== e && (e.level >= t.level ? ye(e, t, i) : ye(t, e, B(i)));\n}\n\nfunction ye(e, t, i) {\n  w(e.level >= t.level);\n  const s = z(i),\n        n = J(i),\n        r = e.extent,\n        a = t.extent,\n        o = [s ? r[0] : r[2], n ? r[3] : r[1]],\n        h = [s ? a[2] : a[0], n ? a[1] : a[3]],\n        l = 1e-5 * (r[2] - r[0]),\n        d = pe(o[0], h[0], l) || e.surface.isGlobal && pe(o[0], -h[0], l),\n        u = pe(o[1], h[1], l);\n  if (d && u) return !0;\n  if (e.level === t.level) return !1;\n  if (!d && !u) return !1;\n  return d ? Ae(a[1], a[3], r[1], r[3], l) : Ae(a[0], a[2], r[0], r[2], l);\n}\n\nfunction Ae(e, t, i, s, n = m) {\n  return e - n <= i && i <= s && s <= t + n;\n}\n\n!function (e) {\n  e[e.TOP = 0] = \"TOP\", e[e.MIDDLE = 1] = \"MIDDLE\", e[e.BOTTOM = 2] = \"BOTTOM\";\n}(ce || (ce = {}));\nexport { ce as CenterPosition, re as SplitLimits, ae as Tile, pe as almostEquals, _e as isCornerNeighbor, me as isEdgeNeighbor };","map":{"version":3,"names":["clamp","e","isSome","t","abortMaybe","i","isNone","s","n","c","r","a","o","b","h","p","l","d","g","u","f","E","m","getReferenceEllipsoid","_","create","y","equals","A","VectorTile","T","ImageWithType","v","ElevationBounds","L","ElevationTileAgent","M","LODSnapping","D","TextureUpdate","I","NeighborIndex","N","LayerClasses","LayerClass","S","MapTileAgent","x","RasterTile","j","MAX_PATCH_TESSELATION","O","getElevationDesiredResolutionLevel","C","weakAssert","U","getLayerWithExtentRange","R","isBlendableLayerView","P","oppositeCorner","B","neighborCornerIndices","G","neighborEdgeIndices","V","oppositeEdge","W","internalAssert","w","isNorth","q","isSouth","H","isWest","F","isEast","k","ENABLE_WATERPROOFNESS_TESTS","X","isWestCorner","z","isNorthCorner","J","TILE_AGENT_DONE","Y","TilePerLayerInfo","$","Q","TileUpdate","K","fallsWithinLayer","Z","getGpuMemoryUsage","ee","te","ie","se","ne","re","constructor","fovX","fovY","relativeWidthLimit","relativeHeightLimit","maxLod","angledSplitBias","aboveGround","ae","lij","_children","_pendingUpdates","_dirty","_previouslyRendered","extent","_elevationBounds","layerInfo","extentInRadians","centerAtSeaLevel","_center","up","_isWithinClippingArea","_intersectsClippingArea","_maxTesselation","_usedMemory","_mapTileMemory","_mapDataRefCount","_screenDepth","renderOrder","_edgeLen","_edgeLen2","_curvatureHeight","prune","le","de","isCached","shouldLoad","maxTesselation","isWithinClippingArea","intersectsClippingArea","clippingArea","_clippingArea","parent","_parent","children","surface","_surface","elevationBounds","level","key","edgeLen","radius","ce","MIDDLE","screenDepth","visible","computeVisibility","_visible","_isVisible","frustum","emit","renderer","setNeedsRender","updateAgentSuspension","loadable","view","state","fixedContentCamera","rendered","renderData","lodSnapping","ON","snapLevel","isLeaf","init","ellipsoid","tilingScheme","spatialReference","getExtent","convertExtentToRadians","upsampleMapCache","pop","vlevel","unsetChildren","updateVisibility","numLayers","release","length","acquire","upsampleInfoPool","ELEVATION","findElevationBoundsForLayer","computeElevationBounds","Math","min","pixelSize","setMemoryDirty","refMapData","unrefMapData","cachedMemory","put","usedMemory","_ensureUsedMemory","mapTileMemory","MAP","reduce","memoryUsage","cpuImageMemorySize","data","_getTerrainDataMemory","estimatedGeometryMemoryUsage","textureDescriptor","updateSize","getUsedMemoryForLayer","texture","HTMLImageElement","updateScreenDepth","shouldSplit","NONE","TOP","BOTTOM","SPLIT","sqrt","ceil","log2","VSPLITMERGE","NONE_HIT_MAXLOD","sin","SQRT1_2","PI","abs","setChildren","isLoaded","hasGeometry","prepareToLoad","_createOrUpdateAgents","updateTileGeometryState","load","loadPrepared","loadTile","unload","unloadTile","loadingAgent","he","pendingUpdates","resetPendingUpdate","GEOMETRY","TEXTURE_NOFADING","TEXTURE_FADING","unloadMapData","releaseTexture","updateClippingStatus","intersectsExtent","_isWithinExtent","setPendingUpdate","setTileTreeDirty","getLayerInfo","hasLayerData","dataInvalidated","updating","hasPendingUpdates","_isSuspended","hasPendingUpdate","MERGE","requestUpdate","requestLayerData","waitingAgents","has","console","warn","toString","tile","push","dataArrived","requestPromise","requestAbort","AbortController","requestTileData","then","hasLij","findByLij","distanceToSquared","containsPoint","unrequestLayerData","removeUnordered","abortRequest","forAll","clear","dataMissing","notInTilemap","error","updateRenderData","_updateTexture","_updateGeometry","FADING","invalidateLayerData","invalidateSourceData","restartAgents","Number","MAX_VALUE","max","hasNoDataValues","updateRadiusAndCenter","_updateCenter","layerViewByIndex","ue","bounds","computeMinMaxValue","copyFrom","modifyLayers","Array","updateAgents","setSuspension","removeLayerAgent","dispose","agentDone","upsampleInfo","layer","blendMode","update","oe","startLoading","isOpaque","getElevationBasedVerticesPerSide","test","_findLIJ","rootTiles","ge","findNeighborTile","getNeighborLIJ","fe","findCorner","NORTH_EAST","NORTH_WEST","SOUTH_WEST","findNeighborCornerTileExact","forAllSubtreeOnSide","NORTH","EAST","SOUTH_EAST","SOUTH","WEST","forEach","forallNeighbors","getNeighborEdgeStartVertexIndex","_updateNeighborsWithChangedEdgeResolution","geometryState","neighborData","modifiedEdgeResolutions","updateEdgeAfterResolutionChange","updateNeighborDataAndGeometryIfNeeded","updateNeighborsAfterGeometryChange","forEachLoadedNeighbor","_updateNeighbor","updateNeighborsWithChangedEdgeResolution","_e","isGlobal","wrapLIJ","wrapEastWest","westNeighborWestExtent","isWestEnd","eastNeighborEastExtent","isEastEnd","lijEastEnd","isNorthEnd","isSouthEnd","compareLIJs","checkGeometryWaterproofness","shouldHaveNeighbor","rootTilesExtent","floor","pe","me","ye","Ae","CenterPosition","SplitLimits","Tile","almostEquals","isCornerNeighbor","isEdgeNeighbor"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/Tile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../core/mathUtils.js\";import{isSome as t,abortMaybe as i,isNone as s}from\"../../../core/maybe.js\";import n from\"../../../core/ObjectPool.js\";import{c as r,a}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{b as h,p as l,e as d,g as u,a as c,l as g}from\"../../../chunks/vec3.js\";import{c as f,u as p}from\"../../../chunks/vec3f64.js\";import{E as m}from\"../../../chunks/common.js\";import{getReferenceEllipsoid as _}from\"../../../geometry/projectionEllipsoid.js\";import{create as y,equals as A}from\"../../../geometry/support/aaBoundingRect.js\";import{c as E}from\"../../../chunks/sphere.js\";import{VectorTile as T}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{ImageWithType as v}from\"../support/StreamDataLoader.js\";import{ElevationBounds as L}from\"./ElevationBounds.js\";import{ElevationTileAgent as M}from\"./ElevationTileAgent.js\";import{LODSnapping as D,TextureUpdate as I,NeighborIndex as N}from\"./interfaces.js\";import{LayerClasses as b,LayerClass as S}from\"./LayerClass.js\";import{MapTileAgent as x}from\"./MapTileAgent.js\";import{RasterTile as j}from\"./RasterTile.js\";import{MAX_PATCH_TESSELATION as O,getElevationDesiredResolutionLevel as C}from\"./TerrainConst.js\";import{weakAssert as U,getLayerWithExtentRange as R,isBlendableLayerView as P,oppositeCorner as B,neighborCornerIndices as G,neighborEdgeIndices as V,oppositeEdge as W,internalAssert as w,isNorth as q,isSouth as H,isWest as F,isEast as k,ENABLE_WATERPROOFNESS_TESTS as X,isWestCorner as z,isNorthCorner as J}from\"./terrainUtils.js\";import{TILE_AGENT_DONE as Y}from\"./TileAgent.js\";import{TilePerLayerInfo as $}from\"./TilePerLayerInfo.js\";import Q from\"./TileTexture.js\";import{TileUpdate as K}from\"./TileUpdate.js\";import{fallsWithinLayer as Z}from\"./tileUtils.js\";import{getGpuMemoryUsage as ee}from\"../../webgl/Util.js\";const te=f(),ie=f(),se=f(),ne=.1;class re{constructor(){this.fovX=0,this.fovY=0,this.relativeWidthLimit=0,this.relativeHeightLimit=0,this.maxLod=0,this.angledSplitBias=0,this.aboveGround=!0}}class ae{constructor(){this.lij=[0,0,0],this._children=[null,null,null,null],this._pendingUpdates=0,this._dirty=!0,this._previouslyRendered=!1,this.extent=y(),this._elevationBounds=o(),this.layerInfo=[[],[]],this.extentInRadians=y(),this.centerAtSeaLevel=f(),this._center=[f(),E(),f()],this.up=p(),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._maxTesselation=0,this._usedMemory=null,this._mapTileMemory=0,this._mapDataRefCount=0,this._screenDepth=0,this.renderOrder=0,this._edgeLen=0,this._edgeLen2=0,this._curvatureHeight=0}static prune(){le.prune(0),de.prune(0),$.prune()}get isCached(){return!this.shouldLoad&&this._mapDataRefCount<=0}get maxTesselation(){return this._maxTesselation}get isWithinClippingArea(){return this._isWithinClippingArea}get intersectsClippingArea(){return this._intersectsClippingArea}get clippingArea(){return this._clippingArea}get parent(){return this._parent}get children(){return this._children}get surface(){return this._surface}get elevationBounds(){return this._elevationBounds}get level(){return this.lij[0]}get key(){return`${this.lij[0]}/${this.lij[1]}/${this.lij[2]}`}get edgeLen(){return this._edgeLen}get radius(){return this._center[ce.MIDDLE][3]}get screenDepth(){return this._screenDepth}get visible(){return this._dirty&&this.computeVisibility(),this._visible}computeVisibility(){this._dirty=!1;const e=this._intersectsClippingArea&&this._isVisible(this.surface.frustum);return e!==this._visible&&(this._visible=e,this._surface.emit(\"tiles-visibility-changed\"),this._surface.renderer.setNeedsRender(),this.updateAgentSuspension()),this._visible}get loadable(){return this.visible||this._surface.view.state.fixedContentCamera}get rendered(){const e=!!this.renderData;return e!==this._previouslyRendered&&(this._surface.emit(\"tiles-visibility-changed\"),this._previouslyRendered=e,this._surface.renderer.setNeedsRender()),e}get shouldLoad(){if(!this.loadable)return!1;if(this._surface.lodSnapping===D.ON){const e=this.level-this._surface.snapLevel;if(0===e)return!0;if(1===e)return!1}return this.isLeaf}init(e,t,i){this.lij[0]=e[0],this.lij[1]=e[1],this.lij[2]=e[2],this.ellipsoid=_(i.tilingScheme.spatialReference),i.tilingScheme.getExtent(e[0],e[1],e[2],this.extent),i.tilingScheme.convertExtentToRadians(this.extent,this.extentInRadians),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._clippingArea=null,this._mapDataRefCount=0,i.upsampleMapCache.pop(this.key),this._edgeLen=0,this._edgeLen2=0,this._center[ce.MIDDLE][3]=0,this.vlevel=e?e[0]:0,t&&t.elevationBounds?r(this._elevationBounds,t.elevationBounds):a(this._elevationBounds,0,0),this._pendingUpdates=0,this.renderData=null,this._screenDepth=0,this._visible=!1,this._previouslyRendered=!1,this._parent=t,this.unsetChildren(),this._surface=i,this.updateVisibility();for(const s of b){const e=i.numLayers(s),t=this.layerInfo[s];for(const i of t)i.release();t.length=e;for(let i=0;i<e;i++)t[i]=$.acquire(this._surface.upsampleInfoPool),s===S.ELEVATION&&this.findElevationBoundsForLayer(i,-1)}this.computeElevationBounds(),this._maxTesselation=Math.min(i.tilingScheme.pixelSize,O)}release(){U(!this.renderData,\"tile.renderData was not unloaded\"),this._surface.upsampleMapCache.pop(this.key);for(const e of b){for(const t of this.layerInfo[e])t.release();this.layerInfo[e].length=0}this._parent=null,this._surface=null,this.setMemoryDirty()}refMapData(){++this._mapDataRefCount,this.isCached||this._surface.upsampleMapCache.pop(this.key)}unrefMapData(){if(--this._mapDataRefCount,this.isCached){this.setMemoryDirty();const e=this.cachedMemory;e>0&&this._surface.upsampleMapCache.put(this.key,this,e)}}setMemoryDirty(){this._usedMemory=null}get usedMemory(){return this._ensureUsedMemory()+(this.isCached?0:this._mapTileMemory)}get cachedMemory(){return this.isCached?this.mapTileMemory:0}get mapTileMemory(){return this._ensureUsedMemory(),this.layerInfo[S.MAP].reduce(((e,t)=>e+(t instanceof T?t.memoryUsage:0)),this._mapTileMemory)}get cpuImageMemorySize(){const e=4,t=this._surface.tilingScheme.pixelSize;return t*t*e}_ensureUsedMemory(){if(t(this._usedMemory))return this._usedMemory;this._usedMemory=0,this._mapTileMemory=0;let e=0;for(const{data:t}of this.layerInfo[S.MAP])t instanceof T?e+=this._getTerrainDataMemory(t):this._mapTileMemory+=this._getTerrainDataMemory(t);const i=this.cpuImageMemorySize;for(const t of this.layerInfo[S.ELEVATION])this._usedMemory+=t.data?i:0;return this.renderData&&(this._usedMemory+=this.renderData.estimatedGeometryMemoryUsage,this._mapTileMemory+=ee(this.renderData.textureDescriptor)),this.isCached&&this._surface.upsampleMapCache.updateSize(this.key,this,this._mapTileMemory+e),this._usedMemory}getUsedMemoryForLayer(e,t){const i=this.layerInfo[e][t];return i?.data?e===S.MAP?this.isCached?0:this._getTerrainDataMemory(i.data):e===S.ELEVATION?this.cpuImageMemorySize:0:0}_getTerrainDataMemory(e){return e instanceof Q?ee(e.texture):e instanceof HTMLImageElement||e instanceof v?this.cpuImageMemorySize:e instanceof T||e instanceof j?e.memoryUsage:0}updateScreenDepth(e){const t=this._center[ce.MIDDLE],i=e,s=t[0],n=t[1],r=t[2],a=i[2]*s+i[6]*n+i[10]*r+i[14];this._screenDepth=a<0?0:a/(i[3]*s+i[7]*n+i[11]*r+i[15])}shouldSplit(e,i,s){if(t(e.frustum)&&(!this._intersectsClippingArea||!this._isVisible(e.frustum)))return K.NONE;const n=this.level;h(te,this._center[ce.MIDDLE],i);let r=l(te),a=ce.MIDDLE;h(ie,this._center[ce.TOP],i);const o=l(ie);o<r&&(r=o,a=ce.TOP),h(ie,this._center[ce.BOTTOM],i);const f=l(ie);if(f<r&&(r=f,a=ce.BOTTOM),this._edgeLen2>r&&n<e.maxLod)return K.SPLIT;const p=Math.sqrt(r),m=e.fovX*p*2,_=this._edgeLen/m,y=()=>{const t=n+Math.ceil(-Math.log2(e.relativeWidthLimit/_));return t!==this.vlevel?(this.vlevel=t,K.VSPLITMERGE):K.NONE_HIT_MAXLOD};if(s===D.ON){if(1===this._surface.snapLevel-n)return n>=e.maxLod?y():K.SPLIT}const A=d(this.up,te),E=this._elevationBounds[1]-this._elevationBounds[0],T=E/this.edgeLen;if(e.aboveGround&&A>0&&T<.001){if(A/p-Math.sin(this._curvatureHeight/(this.edgeLen*Math.SQRT1_2)*Math.PI)-T>0)return K.NONE}if(_<e.relativeWidthLimit)return this.vlevel!==this.level?(this.vlevel=this.level,K.VSPLITMERGE):K.NONE;if(n>=e.maxLod)return y();if(n>6){h(ie,this._center[a],i),u(se,this.up,A),h(se,se,ie);const t=l(se);if(t>this.radius*this.radius){u(se,se,this.radius/Math.sqrt(t)),c(se,se,this._center[a]),h(se,i,se);const s=Math.min(1,(Math.abs(d(se,this.up))+.5*E+this._curvatureHeight)/g(se)),n=ne/e.angledSplitBias,r=e.fovY*p*2;if(s*(this._edgeLen/r)<n*e.relativeHeightLimit)return K.NONE}}return K.SPLIT}setChildren(e,t,i,s){U(!!(e&&t&&i&&s),\"Null child passed\"),this._children[0]=e,this._children[1]=t,this._children[2]=i,this._children[3]=s}unsetChildren(){this._children[0]=null,this._children[1]=null,this._children[2]=null,this._children[3]=null}get isLoaded(){return this.renderData?.hasGeometry??!1}prepareToLoad(e){this.refMapData();for(const t of b)this._createOrUpdateAgents(0,t);e.updateTileGeometryState(this)}load(e){this.prepareToLoad(e),this.loadPrepared(e)}loadPrepared(e){e.loadTile(this)}unload(e){e.unloadTile(this);for(const t of b){const e=this.layerInfo[t];for(const t of e)t.loadingAgent&&t.loadingAgent!==Y&&(he(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0}this.resetPendingUpdate(K.GEOMETRY),this.resetPendingUpdate(K.TEXTURE_NOFADING),this.resetPendingUpdate(K.TEXTURE_FADING),this.unrefMapData()}unloadMapData(){const e=this.layerInfo[S.MAP];for(const t of e)t.loadingAgent&&t.loadingAgent!==Y&&(he(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0;this.renderData&&this.renderData.releaseTexture(),this.setMemoryDirty()}updateClippingStatus(e){if(A(e,this._clippingArea))return!1;const i=this._intersectsClippingArea,s=this._isWithinClippingArea;t(e)?(this._intersectsClippingArea=this.intersectsExtent(e),this._isWithinClippingArea=this._isWithinExtent(e)):(this._intersectsClippingArea=!0,this._isWithinClippingArea=!0),this._clippingArea=e,this.updateVisibility();const n=s&&this._isWithinClippingArea,r=!(s||i||this._isWithinClippingArea||this._intersectsClippingArea);return!this.renderData||n||r||this.setPendingUpdate(K.GEOMETRY),!0}updateVisibility(){this._dirty=!0,this._surface.setTileTreeDirty()}getLayerInfo(e,t){return this.layerInfo[t][e]}hasLayerData(e,t){const i=this.layerInfo[t][e];return!(!i||!i.data||i.dataInvalidated)}get updating(){if(this.hasPendingUpdates)return!0;for(const e of b){const t=this.layerInfo[e];for(const e of t)if(e.loadingAgent&&e.loadingAgent!==Y&&e.loadingAgent.updating)return!0}return!1}_isSuspended(e){return!!this.hasPendingUpdate(K.SPLIT)||e!==S.ELEVATION&&!this.loadable}get hasPendingUpdates(){return 0!==this._pendingUpdates}hasPendingUpdate(e){return(this._pendingUpdates&e)===e}setPendingUpdate(e){this._pendingUpdates|=e,e===K.SPLIT||e===K.MERGE?this._surface.setTileTreeDirty():this._surface.requestUpdate()}resetPendingUpdate(e){return!!this.hasPendingUpdate(e)&&(this._pendingUpdates&=~e,!0)}requestLayerData(e,t,s){const n=this.layerInfo[t][e];if(n.waitingAgents.has(s))return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),s.tile.lij.toString(),t,e),!0;if(n.waitingAgents.push(s),n.data&&!n.dataInvalidated)return console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),s.tile.lij.toString(),t,e),s.dataArrived(this),!0;if(n.requestPromise)return!0;i(n.requestAbort),n.requestAbort=new AbortController;const r=this._surface.requestTileData(this,e,t,n.requestAbort);if(!r)return n.requestAbort=null,!1;const a=()=>{n.requestPromise===r&&(n.requestPromise=null,n.requestAbort=null)};return n.requestPromise=r,r.then(a,a),!0}get isLeaf(){return null==this._children[0]}hasLij(e){return this.lij[0]===e[0]&&this.lij[1]===e[1]&&this.lij[2]===e[2]}findByLij(e){if(this.hasLij(e))return this;if(this.isLeaf)return null;const t=this._children[0].findByLij(e)||this._children[1].findByLij(e)||this._children[2].findByLij(e)||this._children[3].findByLij(e);return t||null}distanceToSquared(e){return l(h(se,this._center[ce.MIDDLE],e))}containsPoint(e){const t=this.extent;return e[0]>=t[0]&&e[1]>=t[1]&&e[0]<=t[2]&&e[1]<=t[3]}unrequestLayerData(e,t,i){const s=this.layerInfo[t][e],n=s.waitingAgents,r=null!=n.removeUnordered(i);U(r,\"agent has not requested this piece of map data\"),n.length<1&&(s.abortRequest(),this.setMemoryDirty())}dataArrived(e,t,i){const s=this.layerInfo[t][e];s.data=i,s.dataInvalidated=!1,s.waitingAgents.forAll((e=>e.dataArrived(this))),s.waitingAgents.clear(),this.setMemoryDirty()}dataMissing(e,t,i){i.notInTilemap||console.error(`Tile ${this.lij.toString()} layer ${t}/${e} error ${i}`);const s=this.layerInfo[t][e];s.dataMissing=!0,s.waitingAgents.forAll((e=>e.dataMissing())),s.waitingAgents.clear(),this.setMemoryDirty()}updateRenderData(e,t){switch(e){case S.MAP:return this._updateTexture(t);case S.ELEVATION:return this._updateGeometry()}}_updateTexture(e){this.renderData&&(this.resetPendingUpdate(e===I.FADING?K.TEXTURE_NOFADING:K.TEXTURE_FADING),this.setPendingUpdate(e===I.FADING?K.TEXTURE_FADING:K.TEXTURE_NOFADING))}_updateGeometry(){this.setPendingUpdate(K.GEOMETRY);for(const e of this.layerInfo[S.ELEVATION])e.pendingUpdates|=K.GEOMETRY}invalidateLayerData(e,t){this.layerInfo[t][e].invalidateSourceData(),this.restartAgents(t)}computeElevationBounds(){const e=this._elevationBounds;a(e,Number.MAX_VALUE,-Number.MAX_VALUE);const i=this.layerInfo[S.ELEVATION];let s=!0;for(const n of i)t(n.elevationBounds)&&(e[0]=Math.min(e[0],n.elevationBounds.min),e[1]=Math.max(e[1],n.elevationBounds.max),n.elevationBounds.hasNoDataValues||(s=!1));s&&(e[0]=Math.min(e[0],0),e[1]=Math.max(e[1],0)),this.updateRadiusAndCenter(),this._surface.setTileTreeDirty()}_updateCenter(){const e=this._elevationBounds,t=.5*(e[0]+e[1]);u(se,this.up,t),c(this._center[ce.MIDDLE],this.centerAtSeaLevel,se),u(se,this.up,e[0]),c(this._center[ce.TOP],this.centerAtSeaLevel,se),u(se,this.up,e[1]),c(this._center[ce.BOTTOM],this.centerAtSeaLevel,se)}findElevationBoundsForLayer(e,i){const n=this.layerInfo[S.ELEVATION][e];if(t(n.elevationBounds)&&n.elevationBounds.level>=i)return;const r=this._surface.layerViewByIndex(e,S.ELEVATION),a=R(r);if(!Z(this,a,!1))return;const o=ue;let h=!1;if(n.data){const e=n.data;o.min=e.bounds[0],o.max=e.bounds[1],o.hasNoDataValues=e.hasNoDataValues,o.level=this.level,h=!0}else{let t,i,s=0;for(let n=this._parent;n&&(!i||s<C(this.level))&&(s=this.vlevel-n.level,t=i||t,i=n.layerInfo[S.ELEVATION][e].data,!(!i&&t&&s>=C(this.level)));n=n.parent);i=i||t,i&&(i.computeMinMaxValue(this.lij[0],this.lij[1],this.lij[2],o),o.min!==1/0&&(o.level=i.level,h=!0))}h&&(s(n.elevationBounds)&&(n.elevationBounds=new L),n.elevationBounds.copyFrom(o))}modifyLayers(e,t,i){const s=this.layerInfo[i];for(const a of s)a.loadingAgent&&a.loadingAgent!==Y&&(he(a.loadingAgent),a.loadingAgent=null),a.waitingAgents.clear();for(let a=0;a<s.length;++a)void 0===e[a]&&s[a].release();const n=new Array(...s),r=t.length;s.length=r;for(let a=0;a<r;a++){const e=t[a];s[a]=e>-1?n[e]:$.acquire(this._surface.upsampleInfoPool)}this.setMemoryDirty()}restartAgents(e){this.renderData&&(this._createOrUpdateAgents(0,e),this.updateRenderData(e,I.FADING))}updateAgents(e){if(this.renderData){const t=this.layerInfo[e];for(const e of t)e.loadingAgent===Y&&(e.loadingAgent=null);this._createOrUpdateAgents(0,e)}}updateAgentSuspension(){for(const e of b){const t=this._isSuspended(e);for(const i of this.layerInfo[e])i.loadingAgent&&i.loadingAgent!==Y&&(i.loadingAgent.setSuspension(t),i.loadingAgent===Y&&this.updateRenderData(e,I.FADING))}}removeLayerAgent(e,t){const i=this.layerInfo[t][e];i.loadingAgent&&i.loadingAgent!==Y&&i.loadingAgent.dispose(),i.loadingAgent=null}agentDone(e,t){const i=this.layerInfo[t][e];i.loadingAgent=Y,!i.data&&s(i.upsampleInfo)&&this._createOrUpdateAgents(e+1,t)}_createOrUpdateAgents(e,t){const i=this.layerInfo[t];if(0===i.length)return;const s=(()=>{for(let s=e;s<i.length;++s){const e=this._surface.layerViewByIndex(s,t);if(P(e)&&\"normal\"!==e.layer.blendMode)return!0}return!1})(),n=this._isSuspended(t);for(let r=e;r<i.length;++r){const e=i[r];let a=!1;const o=this._surface.layerViewByIndex(r,t),h=R(o);if(e.loadingAgent?Z(this,h,!1)?(e.loadingAgent!==Y&&e.loadingAgent.setSuspension(n),e.loadingAgent!==Y&&(a=e.loadingAgent.update())):e.dispose():Z(this,h,!1)&&(e.loadingAgent=oe(this,r,t,n),a=e.loadingAgent.startLoading(),a?e.loadingAgent===Y&&this.setPendingUpdate(K.GEOMETRY):(he(e.loadingAgent),e.loadingAgent=Y)),e.loadingAgent===Y&&this.updateRenderData(t,I.FADING),!s&&a&&o.isOpaque)return}}_isWithinExtent(e){const t=this.extent;return t[0]>=e[0]&&e[2]>=t[2]&&t[1]>=e[1]&&e[3]>=t[3]}intersectsExtent(e){const t=this.extent;return t[2]>=e[0]&&e[2]>=t[0]&&t[3]>=e[1]&&e[3]>=t[1]}getElevationBasedVerticesPerSide(t){const i=this.vlevel-this.level,s=Math.max(this.level-t,C(this.level)-i);return e(1+(this.maxTesselation>>s),2,this.maxTesselation+1)}get test(){return{cachedMemory:this.cachedMemory}}_findLIJ(e,i){if(!e)return null;const s=this.surface.rootTiles;if(t(s))for(const t of s)if(ge(t,e)){let s=t,n=e[0]-s.level-1;for(;n>=0&&!s.isLeaf&&!i(s);){const t=e[1]>>n&1,i=e[2]>>n&1;s=s.children[2*t+i],n--}return i(s)?s:null}return null}findNeighborTile(e,t){const i=this.lij,s=this.getNeighborLIJ(i,e);return s?fe(i,s)?t(this)?this:null:this._findLIJ(s,t):null}findCorner(e,t){const i=e===N.NORTH_EAST?1:e===N.NORTH_WEST?0:e===N.SOUTH_WEST?2:3;let s=this;for(;!(s.isLeaf||t&&t(s));)s=s.children[i];return s}findNeighborCornerTileExact(e,t){return this.findNeighborTile(e,(e=>t(e)||e.level===this.level))?.findCorner(B(e),t)}forAllSubtreeOnSide(e,t){const i=e===N.NORTH?[0,1]:e===N.NORTH_EAST?[1]:e===N.EAST?[1,3]:e===N.SOUTH_EAST?[3]:e===N.SOUTH?[2,3]:e===N.SOUTH_WEST?[2]:e===N.WEST?[0,2]:[0],s=e=>{t(e)||e.isLeaf||i.forEach((t=>s(e.children[t])))};s(this)}forallNeighbors(e){G.forEach((t=>this.findNeighborCornerTileExact(t,e))),V.forEach((t=>this.findNeighborTile(t,(t=>t.level===this.level||e(t)))?.forAllSubtreeOnSide(W(t),e)))}getNeighborEdgeStartVertexIndex(e,t){const i=t??this.findNeighborTile(V[e],(e=>e.isLoaded));if(!i||!this.isLoaded||!i.isLoaded)return 0;const s=this.level-i.level;if(0===s)return 0;const n=2**s,r=1==(1&e),a=r?0:1,o=i.lij[a+1]*n,h=this.lij[a+1]-o;return r?n-1-h:h}_updateNeighborsWithChangedEdgeResolution(){for(let e=0;e<4;++e)if(this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e]){const t=V[e],i=this.findNeighborTile(t,(e=>e.isLoaded||e.level===this.level));if(!i)continue;if(!i.isLoaded){w(!i.isLeaf);const s=(e+2)%4,n=W(t);i.forAllSubtreeOnSide(n,(e=>e.isLoaded?(e.updateEdgeAfterResolutionChange(s),!0):(w(!e.isLeaf),!1)))}this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e]=!1}}updateNeighborDataAndGeometryIfNeeded(){this.isLoaded&&this.renderData.updateNeighborDataAndGeometryIfNeeded()}updateNeighborsAfterGeometryChange(e=this.level){this.forEachLoadedNeighbor((e=>this._updateNeighbor(e))),V.forEach((t=>{this.findNeighborTile(t,(t=>t.isLoaded&&t.level<e))?.updateNeighborsWithChangedEdgeResolution()}))}updateNeighborsWithChangedEdgeResolution(){this.isLoaded&&this._updateNeighborsWithChangedEdgeResolution()}updateEdgeAfterResolutionChange(e){this.renderData.updateEdgeAfterResolutionChange(e)}forEachLoadedNeighbor(e){const t=this.level,i=e=>e.level===t||e.isLoaded;V.forEach(((t,s)=>{const n=this.findNeighborTile(t,i);null!=n&&n!==this&&n.forAllSubtreeOnSide(W(t),(t=>!!t.isLoaded&&(e(t),!0)));const r=this.renderData?.geometryState?.neighborData;r&&(r.modifiedEdgeResolutions[s]=!1)})),G.forEach((t=>{const s=this.findNeighborTile(t,i)?.findCorner(B(t),(e=>e.isLoaded));w(!s||_e(this,s,t)),s?.isLoaded&&e(s)}))}_updateNeighbor(e){e?.isLoaded&&e.updateNeighborDataAndGeometryIfNeeded()}getNeighborLIJ(e,t){const i=q(t)?-1:H(t)?1:0,s=F(t)?-1:k(t)?1:0,n=[e[0],e[1]+i,e[2]+s];return n[1]<0?null:this.surface.isGlobal?this.wrapLIJ(n):n[2]<0?null:n}wrapLIJ(e){return!e||e[1]<0||e[1]>=2**e[0]?null:this.surface.wrapEastWest(e)}get westNeighborWestExtent(){return this.extent[0]*(this.isWestEnd?-1:1)}get eastNeighborEastExtent(){return this.extent[2]*(this.isEastEnd?-1:1)}get isEastEnd(){return this.lij[2]===this.surface.lijEastEnd(this.level)-1}get isWestEnd(){return 0===this.lij[2]}get isNorthEnd(){return 0===this.lij[1]}get isSouthEnd(){return this.extent[1]+m>=this.surface.extent[1]}compareLIJs(e){const t=this.lij,i=t[0],s=e[0];if(i===s)return[t,e];const n=i-s;if(n<0){const i=2**-n;return[[s,t[1]*i,t[2]*i],e]}{const s=2**n;return[t,[i,e[1]*s,e[2]*s]]}}checkGeometryWaterproofness(){X&&(w(this.isLoaded),this.renderData.checkGeometryWaterproofness())}shouldHaveNeighbor(e){const t=this.extent,i=this.surface.rootTilesExtent,s=.25*(t[2]-t[0]);if(q(e)&&t[3]+s>=i[3])return!1;if(H(e)&&t[1]-s<=i[1])return!1;const n=this.surface.isGlobal;return!(!n&&F(e)&&t[0]-s<=i[0])&&!(!n&&k(e)&&t[2]+s>=i[2])}}function oe(e,t,i,s){const n=i===S.ELEVATION?de.acquire():le.acquire();return n.init(e,t,i,s),n}function he(e){e.dispose(),e instanceof M?de.release(e):e instanceof x&&le.release(e)}const le=new n(x),de=new n(M),ue=new L;var ce;function ge(e,t){const i=e.level,s=t[0];if(i>s)return!1;const n=s-i,r=Math.floor(t[1]/2**n),a=Math.floor(t[2]/2**n);return r===e.lij[1]&&a===e.lij[2]}function fe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function pe(e,t,i){return Math.abs(e-t)<=i}function me(e,t,i){if(s(e)||s(t))return!1;if(0===e.level&&0===t.level){if(e.isEastEnd&&t.isWestEnd&&i===N.EAST)return!0;if(e.isWestEnd&&t.isEastEnd&&i===N.WEST)return!0}const n=1e-6*(e.extent[2]-e.extent[0]);switch(i){case N.NORTH:return pe(e.extent[3],t.extent[1],n);case N.SOUTH:return pe(e.extent[1],t.extent[3],n);case N.EAST:return pe(e.extent[2],t.extent[0],n)||pe(e.extent[2],-t.extent[0],n);case N.WEST:return pe(e.extent[0],t.extent[2],n)||pe(e.extent[0],-t.extent[2],n)}}function _e(e,t,i){return!s(e)&&!s(t)&&t!==e&&(e.level>=t.level?ye(e,t,i):ye(t,e,B(i)))}function ye(e,t,i){w(e.level>=t.level);const s=z(i),n=J(i),r=e.extent,a=t.extent,o=[s?r[0]:r[2],n?r[3]:r[1]],h=[s?a[2]:a[0],n?a[1]:a[3]],l=1e-5*(r[2]-r[0]),d=pe(o[0],h[0],l)||e.surface.isGlobal&&pe(o[0],-h[0],l),u=pe(o[1],h[1],l);if(d&&u)return!0;if(e.level===t.level)return!1;if(!d&&!u)return!1;return d?Ae(a[1],a[3],r[1],r[3],l):Ae(a[0],a[2],r[0],r[2],l)}function Ae(e,t,i,s,n=m){return e-n<=i&&i<=s&&s<=t+n}!function(e){e[e.TOP=0]=\"TOP\",e[e.MIDDLE=1]=\"MIDDLE\",e[e.BOTTOM=2]=\"BOTTOM\"}(ce||(ce={}));export{ce as CenterPosition,re as SplitLimits,ae as Tile,pe as almostEquals,_e as isCornerNeighbor,me as isEdgeNeighbor};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,KAAK,IAAIC,CAAhB,QAAsB,4BAAtB;AAAmD,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,UAAU,IAAIC,CAAjC,EAAmCC,MAAM,IAAIC,CAA7C,QAAmD,wBAAnD;AAA4E,OAAOC,CAAP,MAAa,6BAAb;AAA2C,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAd,QAAoB,yBAApB;AAA8C,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBf,CAAC,IAAIgB,CAA1B,EAA4BC,CAAC,IAAIC,CAAjC,EAAmCR,CAAC,IAAIF,CAAxC,EAA0CO,CAAC,IAAIE,CAA/C,QAAqD,yBAArD;AAA+E,SAAOT,CAAC,IAAIW,CAAZ,EAAcD,CAAC,IAAIJ,CAAnB,QAAyB,4BAAzB;AAAsD,SAAOM,CAAC,IAAIC,CAAZ,QAAkB,2BAAlB;AAA8C,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,0CAAtC;AAAiF,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,6CAAnC;AAAiF,SAAOnB,CAAC,IAAIY,CAAZ,QAAkB,2BAAlB;AAA8C,SAAOQ,UAAU,IAAIC,CAArB,QAA2B,2CAA3B;AAAuE,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,gCAA9B;AAA+D,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,sBAAhC;AAAuD,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,yBAAnC;AAA6D,SAAOC,WAAW,IAAIC,CAAtB,EAAwBC,aAAa,IAAIC,CAAzC,EAA2CC,aAAa,IAAIC,CAA5D,QAAkE,iBAAlE;AAAoF,SAAOC,YAAY,IAAI9B,CAAvB,EAAyB+B,UAAU,IAAIC,CAAvC,QAA6C,iBAA7C;AAA+D,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,mBAA7B;AAAiD,SAAOC,UAAU,IAAIC,CAArB,QAA2B,iBAA3B;AAA6C,SAAOC,qBAAqB,IAAIC,CAAhC,EAAkCC,kCAAkC,IAAIC,CAAxE,QAA8E,mBAA9E;AAAkG,SAAOC,UAAU,IAAIC,CAArB,EAAuBC,uBAAuB,IAAIC,CAAlD,EAAoDC,oBAAoB,IAAIC,CAA5E,EAA8EC,cAAc,IAAIC,CAAhG,EAAkGC,qBAAqB,IAAIC,CAA3H,EAA6HC,mBAAmB,IAAIC,CAApJ,EAAsJC,YAAY,IAAIC,CAAtK,EAAwKC,cAAc,IAAIC,CAA1L,EAA4LC,OAAO,IAAIC,CAAvM,EAAyMC,OAAO,IAAIC,CAApN,EAAsNC,MAAM,IAAIC,CAAhO,EAAkOC,MAAM,IAAIC,CAA5O,EAA8OC,2BAA2B,IAAIC,CAA7Q,EAA+QC,YAAY,IAAIC,CAA/R,EAAiSC,aAAa,IAAIC,CAAlT,QAAwT,mBAAxT;AAA4U,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,gBAAhC;AAAiD,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;AAAyD,OAAOC,CAAP,MAAa,kBAAb;AAAgC,SAAOC,UAAU,IAAIC,CAArB,QAA2B,iBAA3B;AAA6C,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,gBAAjC;AAAkD,SAAOC,iBAAiB,IAAIC,EAA5B,QAAmC,qBAAnC;AAAyD,MAAMC,EAAE,GAAC3E,CAAC,EAAV;AAAA,MAAa4E,EAAE,GAAC5E,CAAC,EAAjB;AAAA,MAAoB6E,EAAE,GAAC7E,CAAC,EAAxB;AAAA,MAA2B8E,EAAE,GAAC,EAA9B;;AAAiC,MAAMC,EAAN,CAAQ;EAACC,WAAW,GAAE;IAAC,KAAKC,IAAL,GAAU,CAAV,EAAY,KAAKC,IAAL,GAAU,CAAtB,EAAwB,KAAKC,kBAAL,GAAwB,CAAhD,EAAkD,KAAKC,mBAAL,GAAyB,CAA3E,EAA6E,KAAKC,MAAL,GAAY,CAAzF,EAA2F,KAAKC,eAAL,GAAqB,CAAhH,EAAkH,KAAKC,WAAL,GAAiB,CAAC,CAApI;EAAsI;;AAArJ;;AAAsJ,MAAMC,EAAN,CAAQ;EAACR,WAAW,GAAE;IAAC,KAAKS,GAAL,GAAS,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAT,EAAiB,KAAKC,SAAL,GAAe,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,CAAhC,EAAsD,KAAKC,eAAL,GAAqB,CAA3E,EAA6E,KAAKC,MAAL,GAAY,CAAC,CAA1F,EAA4F,KAAKC,mBAAL,GAAyB,CAAC,CAAtH,EAAwH,KAAKC,MAAL,GAAYxF,CAAC,EAArI,EAAwI,KAAKyF,gBAAL,GAAsBvG,CAAC,EAA/J,EAAkK,KAAKwG,SAAL,GAAe,CAAC,EAAD,EAAI,EAAJ,CAAjL,EAAyL,KAAKC,eAAL,GAAqB3F,CAAC,EAA/M,EAAkN,KAAK4F,gBAAL,GAAsBlG,CAAC,EAAzO,EAA4O,KAAKmG,OAAL,GAAa,CAACnG,CAAC,EAAF,EAAKC,CAAC,EAAN,EAASD,CAAC,EAAV,CAAzP,EAAuQ,KAAKoG,EAAL,GAAQzG,CAAC,EAAhR,EAAmR,KAAK0G,qBAAL,GAA2B,CAAC,CAA/S,EAAiT,KAAKC,uBAAL,GAA6B,CAAC,CAA/U,EAAiV,KAAKC,eAAL,GAAqB,CAAtW,EAAwW,KAAKC,WAAL,GAAiB,IAAzX,EAA8X,KAAKC,cAAL,GAAoB,CAAlZ,EAAoZ,KAAKC,gBAAL,GAAsB,CAA1a,EAA4a,KAAKC,YAAL,GAAkB,CAA9b,EAAgc,KAAKC,WAAL,GAAiB,CAAjd,EAAmd,KAAKC,QAAL,GAAc,CAAje,EAAme,KAAKC,SAAL,GAAe,CAAlf,EAAof,KAAKC,gBAAL,GAAsB,CAA1gB;EAA4gB;;EAAY,OAALC,KAAK,GAAE;IAACC,EAAE,CAACD,KAAH,CAAS,CAAT,GAAYE,EAAE,CAACF,KAAH,CAAS,CAAT,CAAZ,EAAwB7C,CAAC,CAAC6C,KAAF,EAAxB;EAAkC;;EAAY,IAARG,QAAQ,GAAE;IAAC,OAAM,CAAC,KAAKC,UAAN,IAAkB,KAAKV,gBAAL,IAAuB,CAA/C;EAAiD;;EAAkB,IAAdW,cAAc,GAAE;IAAC,OAAO,KAAKd,eAAZ;EAA4B;;EAAwB,IAApBe,oBAAoB,GAAE;IAAC,OAAO,KAAKjB,qBAAZ;EAAkC;;EAA0B,IAAtBkB,sBAAsB,GAAE;IAAC,OAAO,KAAKjB,uBAAZ;EAAoC;;EAAgB,IAAZkB,YAAY,GAAE;IAAC,OAAO,KAAKC,aAAZ;EAA0B;;EAAU,IAANC,MAAM,GAAE;IAAC,OAAO,KAAKC,OAAZ;EAAoB;;EAAY,IAARC,QAAQ,GAAE;IAAC,OAAO,KAAKlC,SAAZ;EAAsB;;EAAW,IAAPmC,OAAO,GAAE;IAAC,OAAO,KAAKC,QAAZ;EAAqB;;EAAmB,IAAfC,eAAe,GAAE;IAAC,OAAO,KAAKhC,gBAAZ;EAA6B;;EAAS,IAALiC,KAAK,GAAE;IAAC,OAAO,KAAKvC,GAAL,CAAS,CAAT,CAAP;EAAmB;;EAAO,IAAHwC,GAAG,GAAE;IAAC,OAAO,GAAE,KAAKxC,GAAL,CAAS,CAAT,CAAY,IAAG,KAAKA,GAAL,CAAS,CAAT,CAAY,IAAG,KAAKA,GAAL,CAAS,CAAT,CAAY,EAAnD;EAAqD;;EAAW,IAAPyC,OAAO,GAAE;IAAC,OAAO,KAAKrB,QAAZ;EAAqB;;EAAU,IAANsB,MAAM,GAAE;IAAC,OAAO,KAAKhC,OAAL,CAAaiC,EAAE,CAACC,MAAhB,EAAwB,CAAxB,CAAP;EAAkC;;EAAe,IAAXC,WAAW,GAAE;IAAC,OAAO,KAAK3B,YAAZ;EAAyB;;EAAW,IAAP4B,OAAO,GAAE;IAAC,OAAO,KAAK3C,MAAL,IAAa,KAAK4C,iBAAL,EAAb,EAAsC,KAAKC,QAAlD;EAA2D;;EAAAD,iBAAiB,GAAE;IAAC,KAAK5C,MAAL,GAAY,CAAC,CAAb;;IAAe,MAAM/G,CAAC,GAAC,KAAKyH,uBAAL,IAA8B,KAAKoC,UAAL,CAAgB,KAAKb,OAAL,CAAac,OAA7B,CAAtC;;IAA4E,OAAO9J,CAAC,KAAG,KAAK4J,QAAT,KAAoB,KAAKA,QAAL,GAAc5J,CAAd,EAAgB,KAAKiJ,QAAL,CAAcc,IAAd,CAAmB,0BAAnB,CAAhB,EAA+D,KAAKd,QAAL,CAAce,QAAd,CAAuBC,cAAvB,EAA/D,EAAuG,KAAKC,qBAAL,EAA3H,GAAyJ,KAAKN,QAArK;EAA8K;;EAAY,IAARO,QAAQ,GAAE;IAAC,OAAO,KAAKT,OAAL,IAAc,KAAKT,QAAL,CAAcmB,IAAd,CAAmBC,KAAnB,CAAyBC,kBAA9C;EAAiE;;EAAY,IAARC,QAAQ,GAAE;IAAC,MAAMvK,CAAC,GAAC,CAAC,CAAC,KAAKwK,UAAf;IAA0B,OAAOxK,CAAC,KAAG,KAAKgH,mBAAT,KAA+B,KAAKiC,QAAL,CAAcc,IAAd,CAAmB,0BAAnB,GAA+C,KAAK/C,mBAAL,GAAyBhH,CAAxE,EAA0E,KAAKiJ,QAAL,CAAce,QAAd,CAAuBC,cAAvB,EAAzG,GAAkJjK,CAAzJ;EAA2J;;EAAc,IAAVuI,UAAU,GAAE;IAAC,IAAG,CAAC,KAAK4B,QAAT,EAAkB,OAAM,CAAC,CAAP;;IAAS,IAAG,KAAKlB,QAAL,CAAcwB,WAAd,KAA4BpI,CAAC,CAACqI,EAAjC,EAAoC;MAAC,MAAM1K,CAAC,GAAC,KAAKmJ,KAAL,GAAW,KAAKF,QAAL,CAAc0B,SAAjC;MAA2C,IAAG,MAAI3K,CAAP,EAAS,OAAM,CAAC,CAAP;MAAS,IAAG,MAAIA,CAAP,EAAS,OAAM,CAAC,CAAP;IAAS;;IAAA,OAAO,KAAK4K,MAAZ;EAAmB;;EAAAC,IAAI,CAAC7K,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,KAAKwG,GAAL,CAAS,CAAT,IAAY5G,CAAC,CAAC,CAAD,CAAb,EAAiB,KAAK4G,GAAL,CAAS,CAAT,IAAY5G,CAAC,CAAC,CAAD,CAA9B,EAAkC,KAAK4G,GAAL,CAAS,CAAT,IAAY5G,CAAC,CAAC,CAAD,CAA/C,EAAmD,KAAK8K,SAAL,GAAevJ,CAAC,CAACnB,CAAC,CAAC2K,YAAF,CAAeC,gBAAhB,CAAnE,EAAqG5K,CAAC,CAAC2K,YAAF,CAAeE,SAAf,CAAyBjL,CAAC,CAAC,CAAD,CAA1B,EAA8BA,CAAC,CAAC,CAAD,CAA/B,EAAmCA,CAAC,CAAC,CAAD,CAApC,EAAwC,KAAKiH,MAA7C,CAArG,EAA0J7G,CAAC,CAAC2K,YAAF,CAAeG,sBAAf,CAAsC,KAAKjE,MAA3C,EAAkD,KAAKG,eAAvD,CAA1J,EAAkO,KAAKI,qBAAL,GAA2B,CAAC,CAA9P,EAAgQ,KAAKC,uBAAL,GAA6B,CAAC,CAA9R,EAAgS,KAAKmB,aAAL,GAAmB,IAAnT,EAAwT,KAAKf,gBAAL,GAAsB,CAA9U,EAAgVzH,CAAC,CAAC+K,gBAAF,CAAmBC,GAAnB,CAAuB,KAAKhC,GAA5B,CAAhV,EAAiX,KAAKpB,QAAL,GAAc,CAA/X,EAAiY,KAAKC,SAAL,GAAe,CAAhZ,EAAkZ,KAAKX,OAAL,CAAaiC,EAAE,CAACC,MAAhB,EAAwB,CAAxB,IAA2B,CAA7a,EAA+a,KAAK6B,MAAL,GAAYrL,CAAC,GAACA,CAAC,CAAC,CAAD,CAAF,GAAM,CAAlc,EAAocE,CAAC,IAAEA,CAAC,CAACgJ,eAAL,GAAqBzI,CAAC,CAAC,KAAKyG,gBAAN,EAAuBhH,CAAC,CAACgJ,eAAzB,CAAtB,GAAgExI,CAAC,CAAC,KAAKwG,gBAAN,EAAuB,CAAvB,EAAyB,CAAzB,CAArgB,EAAiiB,KAAKJ,eAAL,GAAqB,CAAtjB,EAAwjB,KAAK0D,UAAL,GAAgB,IAAxkB,EAA6kB,KAAK1C,YAAL,GAAkB,CAA/lB,EAAimB,KAAK8B,QAAL,GAAc,CAAC,CAAhnB,EAAknB,KAAK5C,mBAAL,GAAyB,CAAC,CAA5oB,EAA8oB,KAAK8B,OAAL,GAAa5I,CAA3pB,EAA6pB,KAAKoL,aAAL,EAA7pB,EAAkrB,KAAKrC,QAAL,GAAc7I,CAAhsB,EAAksB,KAAKmL,gBAAL,EAAlsB;;IAA0tB,KAAI,MAAMjL,CAAV,IAAeM,CAAf,EAAiB;MAAC,MAAMZ,CAAC,GAACI,CAAC,CAACoL,SAAF,CAAYlL,CAAZ,CAAR;MAAA,MAAuBJ,CAAC,GAAC,KAAKiH,SAAL,CAAe7G,CAAf,CAAzB;;MAA2C,KAAI,MAAMF,CAAV,IAAeF,CAAf,EAAiBE,CAAC,CAACqL,OAAF;;MAAYvL,CAAC,CAACwL,MAAF,GAAS1L,CAAT;;MAAW,KAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAd,EAAgBI,CAAC,EAAjB,EAAoBF,CAAC,CAACE,CAAD,CAAD,GAAKkF,CAAC,CAACqG,OAAF,CAAU,KAAK1C,QAAL,CAAc2C,gBAAxB,CAAL,EAA+CtL,CAAC,KAAGsC,CAAC,CAACiJ,SAAN,IAAiB,KAAKC,2BAAL,CAAiC1L,CAAjC,EAAmC,CAAC,CAApC,CAAhE;IAAuG;;IAAA,KAAK2L,sBAAL,IAA8B,KAAKrE,eAAL,GAAqBsE,IAAI,CAACC,GAAL,CAAS7L,CAAC,CAAC2K,YAAF,CAAemB,SAAxB,EAAkChJ,CAAlC,CAAnD;EAAwF;;EAAAuI,OAAO,GAAE;IAACnI,CAAC,CAAC,CAAC,KAAKkH,UAAP,EAAkB,kCAAlB,CAAD,EAAuD,KAAKvB,QAAL,CAAckC,gBAAd,CAA+BC,GAA/B,CAAmC,KAAKhC,GAAxC,CAAvD;;IAAoG,KAAI,MAAMpJ,CAAV,IAAeY,CAAf,EAAiB;MAAC,KAAI,MAAMV,CAAV,IAAe,KAAKiH,SAAL,CAAenH,CAAf,CAAf,EAAiCE,CAAC,CAACuL,OAAF;;MAAY,KAAKtE,SAAL,CAAenH,CAAf,EAAkB0L,MAAlB,GAAyB,CAAzB;IAA2B;;IAAA,KAAK5C,OAAL,GAAa,IAAb,EAAkB,KAAKG,QAAL,GAAc,IAAhC,EAAqC,KAAKkD,cAAL,EAArC;EAA2D;;EAAAC,UAAU,GAAE;IAAC,EAAE,KAAKvE,gBAAP,EAAwB,KAAKS,QAAL,IAAe,KAAKW,QAAL,CAAckC,gBAAd,CAA+BC,GAA/B,CAAmC,KAAKhC,GAAxC,CAAvC;EAAoF;;EAAAiD,YAAY,GAAE;IAAC,IAAG,EAAE,KAAKxE,gBAAP,EAAwB,KAAKS,QAAhC,EAAyC;MAAC,KAAK6D,cAAL;MAAsB,MAAMnM,CAAC,GAAC,KAAKsM,YAAb;MAA0BtM,CAAC,GAAC,CAAF,IAAK,KAAKiJ,QAAL,CAAckC,gBAAd,CAA+BoB,GAA/B,CAAmC,KAAKnD,GAAxC,EAA4C,IAA5C,EAAiDpJ,CAAjD,CAAL;IAAyD;EAAC;;EAAAmM,cAAc,GAAE;IAAC,KAAKxE,WAAL,GAAiB,IAAjB;EAAsB;;EAAc,IAAV6E,UAAU,GAAE;IAAC,OAAO,KAAKC,iBAAL,MAA0B,KAAKnE,QAAL,GAAc,CAAd,GAAgB,KAAKV,cAA/C,CAAP;EAAsE;;EAAgB,IAAZ0E,YAAY,GAAE;IAAC,OAAO,KAAKhE,QAAL,GAAc,KAAKoE,aAAnB,GAAiC,CAAxC;EAA0C;;EAAiB,IAAbA,aAAa,GAAE;IAAC,OAAO,KAAKD,iBAAL,IAAyB,KAAKtF,SAAL,CAAevE,CAAC,CAAC+J,GAAjB,EAAsBC,MAAtB,CAA8B,CAAC5M,CAAD,EAAGE,CAAH,KAAOF,CAAC,IAAEE,CAAC,YAAY2B,CAAb,GAAe3B,CAAC,CAAC2M,WAAjB,GAA6B,CAA/B,CAAtC,EAAyE,KAAKjF,cAA9E,CAAhC;EAA8H;;EAAsB,IAAlBkF,kBAAkB,GAAE;IAAC,MAAM9M,CAAC,GAAC,CAAR;IAAA,MAAUE,CAAC,GAAC,KAAK+I,QAAL,CAAc8B,YAAd,CAA2BmB,SAAvC;IAAiD,OAAOhM,CAAC,GAACA,CAAF,GAAIF,CAAX;EAAa;;EAAAyM,iBAAiB,GAAE;IAAC,IAAGvM,CAAC,CAAC,KAAKyH,WAAN,CAAJ,EAAuB,OAAO,KAAKA,WAAZ;IAAwB,KAAKA,WAAL,GAAiB,CAAjB,EAAmB,KAAKC,cAAL,GAAoB,CAAvC;IAAyC,IAAI5H,CAAC,GAAC,CAAN;;IAAQ,KAAI,MAAK;MAAC+M,IAAI,EAAC7M;IAAN,CAAT,IAAoB,KAAKiH,SAAL,CAAevE,CAAC,CAAC+J,GAAjB,CAApB,EAA0CzM,CAAC,YAAY2B,CAAb,GAAe7B,CAAC,IAAE,KAAKgN,qBAAL,CAA2B9M,CAA3B,CAAlB,GAAgD,KAAK0H,cAAL,IAAqB,KAAKoF,qBAAL,CAA2B9M,CAA3B,CAArE;;IAAmG,MAAME,CAAC,GAAC,KAAK0M,kBAAb;;IAAgC,KAAI,MAAM5M,CAAV,IAAe,KAAKiH,SAAL,CAAevE,CAAC,CAACiJ,SAAjB,CAAf,EAA2C,KAAKlE,WAAL,IAAkBzH,CAAC,CAAC6M,IAAF,GAAO3M,CAAP,GAAS,CAA3B;;IAA6B,OAAO,KAAKoK,UAAL,KAAkB,KAAK7C,WAAL,IAAkB,KAAK6C,UAAL,CAAgByC,4BAAlC,EAA+D,KAAKrF,cAAL,IAAqB/B,EAAE,CAAC,KAAK2E,UAAL,CAAgB0C,iBAAjB,CAAxG,GAA6I,KAAK5E,QAAL,IAAe,KAAKW,QAAL,CAAckC,gBAAd,CAA+BgC,UAA/B,CAA0C,KAAK/D,GAA/C,EAAmD,IAAnD,EAAwD,KAAKxB,cAAL,GAAoB5H,CAA5E,CAA5J,EAA2O,KAAK2H,WAAvP;EAAmQ;;EAAAyF,qBAAqB,CAACpN,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK+G,SAAL,CAAenH,CAAf,EAAkBE,CAAlB,CAAR;IAA6B,OAAOE,CAAC,EAAE2M,IAAH,GAAQ/M,CAAC,KAAG4C,CAAC,CAAC+J,GAAN,GAAU,KAAKrE,QAAL,GAAc,CAAd,GAAgB,KAAK0E,qBAAL,CAA2B5M,CAAC,CAAC2M,IAA7B,CAA1B,GAA6D/M,CAAC,KAAG4C,CAAC,CAACiJ,SAAN,GAAgB,KAAKiB,kBAArB,GAAwC,CAA7G,GAA+G,CAAtH;EAAwH;;EAAAE,qBAAqB,CAAChN,CAAD,EAAG;IAAC,OAAOA,CAAC,YAAYuF,CAAb,GAAeM,EAAE,CAAC7F,CAAC,CAACqN,OAAH,CAAjB,GAA6BrN,CAAC,YAAYsN,gBAAb,IAA+BtN,CAAC,YAAY+B,CAA5C,GAA8C,KAAK+K,kBAAnD,GAAsE9M,CAAC,YAAY6B,CAAb,IAAgB7B,CAAC,YAAYgD,CAA7B,GAA+BhD,CAAC,CAAC6M,WAAjC,GAA6C,CAAvJ;EAAyJ;;EAAAU,iBAAiB,CAACvN,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKoH,OAAL,CAAaiC,EAAE,CAACC,MAAhB,CAAR;IAAA,MAAgCpJ,CAAC,GAACJ,CAAlC;IAAA,MAAoCM,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAvC;IAAA,MAA2CK,CAAC,GAACL,CAAC,CAAC,CAAD,CAA9C;IAAA,MAAkDO,CAAC,GAACP,CAAC,CAAC,CAAD,CAArD;IAAA,MAAyDQ,CAAC,GAACN,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAL,GAAOF,CAAC,CAAC,CAAD,CAAD,GAAKG,CAAZ,GAAcH,CAAC,CAAC,EAAD,CAAD,GAAMK,CAApB,GAAsBL,CAAC,CAAC,EAAD,CAAlF;IAAuF,KAAK0H,YAAL,GAAkBpH,CAAC,GAAC,CAAF,GAAI,CAAJ,GAAMA,CAAC,IAAEN,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAL,GAAOF,CAAC,CAAC,CAAD,CAAD,GAAKG,CAAZ,GAAcH,CAAC,CAAC,EAAD,CAAD,GAAMK,CAApB,GAAsBL,CAAC,CAAC,EAAD,CAAzB,CAAzB;EAAwD;;EAAAoN,WAAW,CAACxN,CAAD,EAAGI,CAAH,EAAKE,CAAL,EAAO;IAAC,IAAGJ,CAAC,CAACF,CAAC,CAAC8J,OAAH,CAAD,KAAe,CAAC,KAAKrC,uBAAN,IAA+B,CAAC,KAAKoC,UAAL,CAAgB7J,CAAC,CAAC8J,OAAlB,CAA/C,CAAH,EAA8E,OAAOrE,CAAC,CAACgI,IAAT;IAAc,MAAMlN,CAAC,GAAC,KAAK4I,KAAb;IAAmBtI,CAAC,CAACiF,EAAD,EAAI,KAAKwB,OAAL,CAAaiC,EAAE,CAACC,MAAhB,CAAJ,EAA4BpJ,CAA5B,CAAD;IAAgC,IAAIK,CAAC,GAACM,CAAC,CAAC+E,EAAD,CAAP;IAAA,IAAYpF,CAAC,GAAC6I,EAAE,CAACC,MAAjB;IAAwB3I,CAAC,CAACkF,EAAD,EAAI,KAAKuB,OAAL,CAAaiC,EAAE,CAACmE,GAAhB,CAAJ,EAAyBtN,CAAzB,CAAD;IAA6B,MAAMO,CAAC,GAACI,CAAC,CAACgF,EAAD,CAAT;IAAcpF,CAAC,GAACF,CAAF,KAAMA,CAAC,GAACE,CAAF,EAAID,CAAC,GAAC6I,EAAE,CAACmE,GAAf,GAAoB7M,CAAC,CAACkF,EAAD,EAAI,KAAKuB,OAAL,CAAaiC,EAAE,CAACoE,MAAhB,CAAJ,EAA4BvN,CAA5B,CAArB;IAAoD,MAAMe,CAAC,GAACJ,CAAC,CAACgF,EAAD,CAAT;IAAc,IAAG5E,CAAC,GAACV,CAAF,KAAMA,CAAC,GAACU,CAAF,EAAIT,CAAC,GAAC6I,EAAE,CAACoE,MAAf,GAAuB,KAAK1F,SAAL,GAAexH,CAAf,IAAkBF,CAAC,GAACP,CAAC,CAACwG,MAAhD,EAAuD,OAAOf,CAAC,CAACmI,KAAT;;IAAe,MAAM9M,CAAC,GAACkL,IAAI,CAAC6B,IAAL,CAAUpN,CAAV,CAAR;IAAA,MAAqBY,CAAC,GAACrB,CAAC,CAACoG,IAAF,GAAOtF,CAAP,GAAS,CAAhC;IAAA,MAAkCS,CAAC,GAAC,KAAKyG,QAAL,GAAc3G,CAAlD;IAAA,MAAoDI,CAAC,GAAC,MAAI;MAAC,MAAMvB,CAAC,GAACK,CAAC,GAACyL,IAAI,CAAC8B,IAAL,CAAU,CAAC9B,IAAI,CAAC+B,IAAL,CAAU/N,CAAC,CAACsG,kBAAF,GAAqB/E,CAA/B,CAAX,CAAV;MAAwD,OAAOrB,CAAC,KAAG,KAAKmL,MAAT,IAAiB,KAAKA,MAAL,GAAYnL,CAAZ,EAAcuF,CAAC,CAACuI,WAAjC,IAA8CvI,CAAC,CAACwI,eAAvD;IAAuE,CAA1L;;IAA2L,IAAG3N,CAAC,KAAG+B,CAAC,CAACqI,EAAT,EAAY;MAAC,IAAG,MAAI,KAAKzB,QAAL,CAAc0B,SAAd,GAAwBpK,CAA/B,EAAiC,OAAOA,CAAC,IAAEP,CAAC,CAACwG,MAAL,GAAY/E,CAAC,EAAb,GAAgBgE,CAAC,CAACmI,KAAzB;IAA+B;;IAAA,MAAMjM,CAAC,GAACX,CAAC,CAAC,KAAKuG,EAAN,EAASzB,EAAT,CAAT;IAAA,MAAsB1E,CAAC,GAAC,KAAK8F,gBAAL,CAAsB,CAAtB,IAAyB,KAAKA,gBAAL,CAAsB,CAAtB,CAAjD;IAAA,MAA0ErF,CAAC,GAACT,CAAC,GAAC,KAAKiI,OAAnF;;IAA2F,IAAGrJ,CAAC,CAAC0G,WAAF,IAAe/E,CAAC,GAAC,CAAjB,IAAoBE,CAAC,GAAC,IAAzB,EAA8B;MAAC,IAAGF,CAAC,GAACb,CAAF,GAAIkL,IAAI,CAACkC,GAAL,CAAS,KAAKhG,gBAAL,IAAuB,KAAKmB,OAAL,GAAa2C,IAAI,CAACmC,OAAzC,IAAkDnC,IAAI,CAACoC,EAAhE,CAAJ,GAAwEvM,CAAxE,GAA0E,CAA7E,EAA+E,OAAO4D,CAAC,CAACgI,IAAT;IAAc;;IAAA,IAAGlM,CAAC,GAACvB,CAAC,CAACsG,kBAAP,EAA0B,OAAO,KAAK+E,MAAL,KAAc,KAAKlC,KAAnB,IAA0B,KAAKkC,MAAL,GAAY,KAAKlC,KAAjB,EAAuB1D,CAAC,CAACuI,WAAnD,IAAgEvI,CAAC,CAACgI,IAAzE;IAA8E,IAAGlN,CAAC,IAAEP,CAAC,CAACwG,MAAR,EAAe,OAAO/E,CAAC,EAAR;;IAAW,IAAGlB,CAAC,GAAC,CAAL,EAAO;MAACM,CAAC,CAACkF,EAAD,EAAI,KAAKuB,OAAL,CAAa5G,CAAb,CAAJ,EAAoBN,CAApB,CAAD,EAAwBc,CAAC,CAAC8E,EAAD,EAAI,KAAKuB,EAAT,EAAY5F,CAAZ,CAAzB,EAAwCd,CAAC,CAACmF,EAAD,EAAIA,EAAJ,EAAOD,EAAP,CAAzC;MAAoD,MAAM7F,CAAC,GAACa,CAAC,CAACiF,EAAD,CAAT;;MAAc,IAAG9F,CAAC,GAAC,KAAKoJ,MAAL,GAAY,KAAKA,MAAtB,EAA6B;QAACpI,CAAC,CAAC8E,EAAD,EAAIA,EAAJ,EAAO,KAAKsD,MAAL,GAAY0C,IAAI,CAAC6B,IAAL,CAAU3N,CAAV,CAAnB,CAAD,EAAkCM,CAAC,CAACwF,EAAD,EAAIA,EAAJ,EAAO,KAAKsB,OAAL,CAAa5G,CAAb,CAAP,CAAnC,EAA2DG,CAAC,CAACmF,EAAD,EAAI5F,CAAJ,EAAM4F,EAAN,CAA5D;QAAsE,MAAM1F,CAAC,GAAC0L,IAAI,CAACC,GAAL,CAAS,CAAT,EAAW,CAACD,IAAI,CAACqC,GAAL,CAASrN,CAAC,CAACgF,EAAD,EAAI,KAAKuB,EAAT,CAAV,IAAwB,KAAGnG,CAA3B,GAA6B,KAAK8G,gBAAnC,IAAqDjH,CAAC,CAAC+E,EAAD,CAAjE,CAAR;QAAA,MAA+EzF,CAAC,GAAC0F,EAAE,GAACjG,CAAC,CAACyG,eAAtF;QAAA,MAAsGhG,CAAC,GAACT,CAAC,CAACqG,IAAF,GAAOvF,CAAP,GAAS,CAAjH;QAAmH,IAAGR,CAAC,IAAE,KAAK0H,QAAL,GAAcvH,CAAhB,CAAD,GAAoBF,CAAC,GAACP,CAAC,CAACuG,mBAA3B,EAA+C,OAAOd,CAAC,CAACgI,IAAT;MAAc;IAAC;;IAAA,OAAOhI,CAAC,CAACmI,KAAT;EAAe;;EAAAU,WAAW,CAACtO,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAACgD,CAAC,CAAC,CAAC,EAAEtD,CAAC,IAAEE,CAAH,IAAME,CAAN,IAASE,CAAX,CAAF,EAAgB,mBAAhB,CAAD,EAAsC,KAAKuG,SAAL,CAAe,CAAf,IAAkB7G,CAAxD,EAA0D,KAAK6G,SAAL,CAAe,CAAf,IAAkB3G,CAA5E,EAA8E,KAAK2G,SAAL,CAAe,CAAf,IAAkBzG,CAAhG,EAAkG,KAAKyG,SAAL,CAAe,CAAf,IAAkBvG,CAApH;EAAsH;;EAAAgL,aAAa,GAAE;IAAC,KAAKzE,SAAL,CAAe,CAAf,IAAkB,IAAlB,EAAuB,KAAKA,SAAL,CAAe,CAAf,IAAkB,IAAzC,EAA8C,KAAKA,SAAL,CAAe,CAAf,IAAkB,IAAhE,EAAqE,KAAKA,SAAL,CAAe,CAAf,IAAkB,IAAvF;EAA4F;;EAAY,IAAR0H,QAAQ,GAAE;IAAC,OAAO,KAAK/D,UAAL,EAAiBgE,WAAjB,IAA8B,CAAC,CAAtC;EAAwC;;EAAAC,aAAa,CAACzO,CAAD,EAAG;IAAC,KAAKoM,UAAL;;IAAkB,KAAI,MAAMlM,CAAV,IAAeU,CAAf,EAAiB,KAAK8N,qBAAL,CAA2B,CAA3B,EAA6BxO,CAA7B;;IAAgCF,CAAC,CAAC2O,uBAAF,CAA0B,IAA1B;EAAgC;;EAAAC,IAAI,CAAC5O,CAAD,EAAG;IAAC,KAAKyO,aAAL,CAAmBzO,CAAnB,GAAsB,KAAK6O,YAAL,CAAkB7O,CAAlB,CAAtB;EAA2C;;EAAA6O,YAAY,CAAC7O,CAAD,EAAG;IAACA,CAAC,CAAC8O,QAAF,CAAW,IAAX;EAAiB;;EAAAC,MAAM,CAAC/O,CAAD,EAAG;IAACA,CAAC,CAACgP,UAAF,CAAa,IAAb;;IAAmB,KAAI,MAAM9O,CAAV,IAAeU,CAAf,EAAiB;MAAC,MAAMZ,CAAC,GAAC,KAAKmH,SAAL,CAAejH,CAAf,CAAR;;MAA0B,KAAI,MAAMA,CAAV,IAAeF,CAAf,EAAiBE,CAAC,CAAC+O,YAAF,IAAgB/O,CAAC,CAAC+O,YAAF,KAAiB7J,CAAjC,KAAqC8J,EAAE,CAAChP,CAAC,CAAC+O,YAAH,CAAF,EAAmB/O,CAAC,CAAC+O,YAAF,GAAe,IAAvE,GAA6E/O,CAAC,CAACiP,cAAF,GAAiB,CAA9F;IAAgG;;IAAA,KAAKC,kBAAL,CAAwB3J,CAAC,CAAC4J,QAA1B,GAAoC,KAAKD,kBAAL,CAAwB3J,CAAC,CAAC6J,gBAA1B,CAApC,EAAgF,KAAKF,kBAAL,CAAwB3J,CAAC,CAAC8J,cAA1B,CAAhF,EAA0H,KAAKlD,YAAL,EAA1H;EAA8I;;EAAAmD,aAAa,GAAE;IAAC,MAAMxP,CAAC,GAAC,KAAKmH,SAAL,CAAevE,CAAC,CAAC+J,GAAjB,CAAR;;IAA8B,KAAI,MAAMzM,CAAV,IAAeF,CAAf,EAAiBE,CAAC,CAAC+O,YAAF,IAAgB/O,CAAC,CAAC+O,YAAF,KAAiB7J,CAAjC,KAAqC8J,EAAE,CAAChP,CAAC,CAAC+O,YAAH,CAAF,EAAmB/O,CAAC,CAAC+O,YAAF,GAAe,IAAvE,GAA6E/O,CAAC,CAACiP,cAAF,GAAiB,CAA9F;;IAAgG,KAAK3E,UAAL,IAAiB,KAAKA,UAAL,CAAgBiF,cAAhB,EAAjB,EAAkD,KAAKtD,cAAL,EAAlD;EAAwE;;EAAAuD,oBAAoB,CAAC1P,CAAD,EAAG;IAAC,IAAG2B,CAAC,CAAC3B,CAAD,EAAG,KAAK4I,aAAR,CAAJ,EAA2B,OAAM,CAAC,CAAP;IAAS,MAAMxI,CAAC,GAAC,KAAKqH,uBAAb;IAAA,MAAqCnH,CAAC,GAAC,KAAKkH,qBAA5C;IAAkEtH,CAAC,CAACF,CAAD,CAAD,IAAM,KAAKyH,uBAAL,GAA6B,KAAKkI,gBAAL,CAAsB3P,CAAtB,CAA7B,EAAsD,KAAKwH,qBAAL,GAA2B,KAAKoI,eAAL,CAAqB5P,CAArB,CAAvF,KAAiH,KAAKyH,uBAAL,GAA6B,CAAC,CAA9B,EAAgC,KAAKD,qBAAL,GAA2B,CAAC,CAA7K,GAAgL,KAAKoB,aAAL,GAAmB5I,CAAnM,EAAqM,KAAKuL,gBAAL,EAArM;IAA6N,MAAMhL,CAAC,GAACD,CAAC,IAAE,KAAKkH,qBAAhB;IAAA,MAAsC/G,CAAC,GAAC,EAAEH,CAAC,IAAEF,CAAH,IAAM,KAAKoH,qBAAX,IAAkC,KAAKC,uBAAzC,CAAxC;IAA0G,OAAM,CAAC,KAAK+C,UAAN,IAAkBjK,CAAlB,IAAqBE,CAArB,IAAwB,KAAKoP,gBAAL,CAAsBpK,CAAC,CAAC4J,QAAxB,CAAxB,EAA0D,CAAC,CAAjE;EAAmE;;EAAA9D,gBAAgB,GAAE;IAAC,KAAKxE,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKkC,QAAL,CAAc6G,gBAAd,EAAf;EAAgD;;EAAAC,YAAY,CAAC/P,CAAD,EAAGE,CAAH,EAAK;IAAC,OAAO,KAAKiH,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAP;EAA4B;;EAAAgQ,YAAY,CAAChQ,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK+G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6B,OAAM,EAAE,CAACI,CAAD,IAAI,CAACA,CAAC,CAAC2M,IAAP,IAAa3M,CAAC,CAAC6P,eAAjB,CAAN;EAAwC;;EAAY,IAARC,QAAQ,GAAE;IAAC,IAAG,KAAKC,iBAAR,EAA0B,OAAM,CAAC,CAAP;;IAAS,KAAI,MAAMnQ,CAAV,IAAeY,CAAf,EAAiB;MAAC,MAAMV,CAAC,GAAC,KAAKiH,SAAL,CAAenH,CAAf,CAAR;;MAA0B,KAAI,MAAMA,CAAV,IAAeE,CAAf,EAAiB,IAAGF,CAAC,CAACiP,YAAF,IAAgBjP,CAAC,CAACiP,YAAF,KAAiB7J,CAAjC,IAAoCpF,CAAC,CAACiP,YAAF,CAAeiB,QAAtD,EAA+D,OAAM,CAAC,CAAP;IAAS;;IAAA,OAAM,CAAC,CAAP;EAAS;;EAAAE,YAAY,CAACpQ,CAAD,EAAG;IAAC,OAAM,CAAC,CAAC,KAAKqQ,gBAAL,CAAsB5K,CAAC,CAACmI,KAAxB,CAAF,IAAkC5N,CAAC,KAAG4C,CAAC,CAACiJ,SAAN,IAAiB,CAAC,KAAK1B,QAA/D;EAAwE;;EAAqB,IAAjBgG,iBAAiB,GAAE;IAAC,OAAO,MAAI,KAAKrJ,eAAhB;EAAgC;;EAAAuJ,gBAAgB,CAACrQ,CAAD,EAAG;IAAC,OAAM,CAAC,KAAK8G,eAAL,GAAqB9G,CAAtB,MAA2BA,CAAjC;EAAmC;;EAAA6P,gBAAgB,CAAC7P,CAAD,EAAG;IAAC,KAAK8G,eAAL,IAAsB9G,CAAtB,EAAwBA,CAAC,KAAGyF,CAAC,CAACmI,KAAN,IAAa5N,CAAC,KAAGyF,CAAC,CAAC6K,KAAnB,GAAyB,KAAKrH,QAAL,CAAc6G,gBAAd,EAAzB,GAA0D,KAAK7G,QAAL,CAAcsH,aAAd,EAAlF;EAAgH;;EAAAnB,kBAAkB,CAACpP,CAAD,EAAG;IAAC,OAAM,CAAC,CAAC,KAAKqQ,gBAAL,CAAsBrQ,CAAtB,CAAF,KAA6B,KAAK8G,eAAL,IAAsB,CAAC9G,CAAvB,EAAyB,CAAC,CAAvD,CAAN;EAAgE;;EAAAwQ,gBAAgB,CAACxQ,CAAD,EAAGE,CAAH,EAAKI,CAAL,EAAO;IAAC,MAAMC,CAAC,GAAC,KAAK4G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6B,IAAGO,CAAC,CAACkQ,aAAF,CAAgBC,GAAhB,CAAoBpQ,CAApB,CAAH,EAA0B,OAAOqQ,OAAO,CAACC,IAAR,CAAa,uFAAb,EAAqG,KAAKhK,GAAL,CAASiK,QAAT,EAArG,EAAyHvQ,CAAC,CAACwQ,IAAF,CAAOlK,GAAP,CAAWiK,QAAX,EAAzH,EAA+I3Q,CAA/I,EAAiJF,CAAjJ,GAAoJ,CAAC,CAA5J;IAA8J,IAAGO,CAAC,CAACkQ,aAAF,CAAgBM,IAAhB,CAAqBzQ,CAArB,GAAwBC,CAAC,CAACwM,IAAF,IAAQ,CAACxM,CAAC,CAAC0P,eAAtC,EAAsD,OAAOU,OAAO,CAACC,IAAR,CAAa,sEAAb,EAAoF,KAAKhK,GAAL,CAASiK,QAAT,EAApF,EAAwGvQ,CAAC,CAACwQ,IAAF,CAAOlK,GAAP,CAAWiK,QAAX,EAAxG,EAA8H3Q,CAA9H,EAAgIF,CAAhI,GAAmIM,CAAC,CAAC0Q,WAAF,CAAc,IAAd,CAAnI,EAAuJ,CAAC,CAA/J;IAAiK,IAAGzQ,CAAC,CAAC0Q,cAAL,EAAoB,OAAM,CAAC,CAAP;IAAS7Q,CAAC,CAACG,CAAC,CAAC2Q,YAAH,CAAD,EAAkB3Q,CAAC,CAAC2Q,YAAF,GAAe,IAAIC,eAAJ,EAAjC;;IAAqD,MAAM1Q,CAAC,GAAC,KAAKwI,QAAL,CAAcmI,eAAd,CAA8B,IAA9B,EAAmCpR,CAAnC,EAAqCE,CAArC,EAAuCK,CAAC,CAAC2Q,YAAzC,CAAR;;IAA+D,IAAG,CAACzQ,CAAJ,EAAM,OAAOF,CAAC,CAAC2Q,YAAF,GAAe,IAAf,EAAoB,CAAC,CAA5B;;IAA8B,MAAMxQ,CAAC,GAAC,MAAI;MAACH,CAAC,CAAC0Q,cAAF,KAAmBxQ,CAAnB,KAAuBF,CAAC,CAAC0Q,cAAF,GAAiB,IAAjB,EAAsB1Q,CAAC,CAAC2Q,YAAF,GAAe,IAA5D;IAAkE,CAA/E;;IAAgF,OAAO3Q,CAAC,CAAC0Q,cAAF,GAAiBxQ,CAAjB,EAAmBA,CAAC,CAAC4Q,IAAF,CAAO3Q,CAAP,EAASA,CAAT,CAAnB,EAA+B,CAAC,CAAvC;EAAyC;;EAAU,IAANkK,MAAM,GAAE;IAAC,OAAO,QAAM,KAAK/D,SAAL,CAAe,CAAf,CAAb;EAA+B;;EAAAyK,MAAM,CAACtR,CAAD,EAAG;IAAC,OAAO,KAAK4G,GAAL,CAAS,CAAT,MAAc5G,CAAC,CAAC,CAAD,CAAf,IAAoB,KAAK4G,GAAL,CAAS,CAAT,MAAc5G,CAAC,CAAC,CAAD,CAAnC,IAAwC,KAAK4G,GAAL,CAAS,CAAT,MAAc5G,CAAC,CAAC,CAAD,CAA9D;EAAkE;;EAAAuR,SAAS,CAACvR,CAAD,EAAG;IAAC,IAAG,KAAKsR,MAAL,CAAYtR,CAAZ,CAAH,EAAkB,OAAO,IAAP;IAAY,IAAG,KAAK4K,MAAR,EAAe,OAAO,IAAP;;IAAY,MAAM1K,CAAC,GAAC,KAAK2G,SAAL,CAAe,CAAf,EAAkB0K,SAAlB,CAA4BvR,CAA5B,KAAgC,KAAK6G,SAAL,CAAe,CAAf,EAAkB0K,SAAlB,CAA4BvR,CAA5B,CAAhC,IAAgE,KAAK6G,SAAL,CAAe,CAAf,EAAkB0K,SAAlB,CAA4BvR,CAA5B,CAAhE,IAAgG,KAAK6G,SAAL,CAAe,CAAf,EAAkB0K,SAAlB,CAA4BvR,CAA5B,CAAxG;;IAAuI,OAAOE,CAAC,IAAE,IAAV;EAAe;;EAAAsR,iBAAiB,CAACxR,CAAD,EAAG;IAAC,OAAOe,CAAC,CAACF,CAAC,CAACmF,EAAD,EAAI,KAAKsB,OAAL,CAAaiC,EAAE,CAACC,MAAhB,CAAJ,EAA4BxJ,CAA5B,CAAF,CAAR;EAA0C;;EAAAyR,aAAa,CAACzR,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK+G,MAAb;IAAoB,OAAOjH,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAP,IAAYF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAnB,IAAwBF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAA/B,IAAoCF,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAlD;EAAsD;;EAAAwR,kBAAkB,CAAC1R,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAAC,KAAK6G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAAA,MAA6BO,CAAC,GAACD,CAAC,CAACmQ,aAAjC;IAAA,MAA+ChQ,CAAC,GAAC,QAAMF,CAAC,CAACoR,eAAF,CAAkBvR,CAAlB,CAAvD;IAA4EkD,CAAC,CAAC7C,CAAD,EAAG,gDAAH,CAAD,EAAsDF,CAAC,CAACmL,MAAF,GAAS,CAAT,KAAapL,CAAC,CAACsR,YAAF,IAAiB,KAAKzF,cAAL,EAA9B,CAAtD;EAA2G;;EAAA6E,WAAW,CAAChR,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAAC,KAAK6G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6BM,CAAC,CAACyM,IAAF,GAAO3M,CAAP,EAASE,CAAC,CAAC2P,eAAF,GAAkB,CAAC,CAA5B,EAA8B3P,CAAC,CAACmQ,aAAF,CAAgBoB,MAAhB,CAAwB7R,CAAC,IAAEA,CAAC,CAACgR,WAAF,CAAc,IAAd,CAA3B,CAA9B,EAA+E1Q,CAAC,CAACmQ,aAAF,CAAgBqB,KAAhB,EAA/E,EAAuG,KAAK3F,cAAL,EAAvG;EAA6H;;EAAA4F,WAAW,CAAC/R,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAACA,CAAC,CAAC4R,YAAF,IAAgBrB,OAAO,CAACsB,KAAR,CAAe,QAAO,KAAKrL,GAAL,CAASiK,QAAT,EAAoB,UAAS3Q,CAAE,IAAGF,CAAE,UAASI,CAAE,EAArE,CAAhB;IAAwF,MAAME,CAAC,GAAC,KAAK6G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6BM,CAAC,CAACyR,WAAF,GAAc,CAAC,CAAf,EAAiBzR,CAAC,CAACmQ,aAAF,CAAgBoB,MAAhB,CAAwB7R,CAAC,IAAEA,CAAC,CAAC+R,WAAF,EAA3B,CAAjB,EAA8DzR,CAAC,CAACmQ,aAAF,CAAgBqB,KAAhB,EAA9D,EAAsF,KAAK3F,cAAL,EAAtF;EAA4G;;EAAA+F,gBAAgB,CAAClS,CAAD,EAAGE,CAAH,EAAK;IAAC,QAAOF,CAAP;MAAU,KAAK4C,CAAC,CAAC+J,GAAP;QAAW,OAAO,KAAKwF,cAAL,CAAoBjS,CAApB,CAAP;;MAA8B,KAAK0C,CAAC,CAACiJ,SAAP;QAAiB,OAAO,KAAKuG,eAAL,EAAP;IAApE;EAAmG;;EAAAD,cAAc,CAACnS,CAAD,EAAG;IAAC,KAAKwK,UAAL,KAAkB,KAAK4E,kBAAL,CAAwBpP,CAAC,KAAGuC,CAAC,CAAC8P,MAAN,GAAa5M,CAAC,CAAC6J,gBAAf,GAAgC7J,CAAC,CAAC8J,cAA1D,GAA0E,KAAKM,gBAAL,CAAsB7P,CAAC,KAAGuC,CAAC,CAAC8P,MAAN,GAAa5M,CAAC,CAAC8J,cAAf,GAA8B9J,CAAC,CAAC6J,gBAAtD,CAA5F;EAAqK;;EAAA8C,eAAe,GAAE;IAAC,KAAKvC,gBAAL,CAAsBpK,CAAC,CAAC4J,QAAxB;;IAAkC,KAAI,MAAMrP,CAAV,IAAe,KAAKmH,SAAL,CAAevE,CAAC,CAACiJ,SAAjB,CAAf,EAA2C7L,CAAC,CAACmP,cAAF,IAAkB1J,CAAC,CAAC4J,QAApB;EAA6B;;EAAAiD,mBAAmB,CAACtS,CAAD,EAAGE,CAAH,EAAK;IAAC,KAAKiH,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,EAAqBuS,oBAArB,IAA4C,KAAKC,aAAL,CAAmBtS,CAAnB,CAA5C;EAAkE;;EAAA6L,sBAAsB,GAAE;IAAC,MAAM/L,CAAC,GAAC,KAAKkH,gBAAb;IAA8BxG,CAAC,CAACV,CAAD,EAAGyS,MAAM,CAACC,SAAV,EAAoB,CAACD,MAAM,CAACC,SAA5B,CAAD;IAAwC,MAAMtS,CAAC,GAAC,KAAK+G,SAAL,CAAevE,CAAC,CAACiJ,SAAjB,CAAR;IAAoC,IAAIvL,CAAC,GAAC,CAAC,CAAP;;IAAS,KAAI,MAAMC,CAAV,IAAeH,CAAf,EAAiBF,CAAC,CAACK,CAAC,CAAC2I,eAAH,CAAD,KAAuBlJ,CAAC,CAAC,CAAD,CAAD,GAAKgM,IAAI,CAACC,GAAL,CAASjM,CAAC,CAAC,CAAD,CAAV,EAAcO,CAAC,CAAC2I,eAAF,CAAkB+C,GAAhC,CAAL,EAA0CjM,CAAC,CAAC,CAAD,CAAD,GAAKgM,IAAI,CAAC2G,GAAL,CAAS3S,CAAC,CAAC,CAAD,CAAV,EAAcO,CAAC,CAAC2I,eAAF,CAAkByJ,GAAhC,CAA/C,EAAoFpS,CAAC,CAAC2I,eAAF,CAAkB0J,eAAlB,KAAoCtS,CAAC,GAAC,CAAC,CAAvC,CAA3G;;IAAsJA,CAAC,KAAGN,CAAC,CAAC,CAAD,CAAD,GAAKgM,IAAI,CAACC,GAAL,CAASjM,CAAC,CAAC,CAAD,CAAV,EAAc,CAAd,CAAL,EAAsBA,CAAC,CAAC,CAAD,CAAD,GAAKgM,IAAI,CAAC2G,GAAL,CAAS3S,CAAC,CAAC,CAAD,CAAV,EAAc,CAAd,CAA9B,CAAD,EAAiD,KAAK6S,qBAAL,EAAjD,EAA8E,KAAK5J,QAAL,CAAc6G,gBAAd,EAA9E;EAA+G;;EAAAgD,aAAa,GAAE;IAAC,MAAM9S,CAAC,GAAC,KAAKkH,gBAAb;IAAA,MAA8BhH,CAAC,GAAC,MAAIF,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAV,CAAhC;IAA+CkB,CAAC,CAAC8E,EAAD,EAAI,KAAKuB,EAAT,EAAYrH,CAAZ,CAAD,EAAgBM,CAAC,CAAC,KAAK8G,OAAL,CAAaiC,EAAE,CAACC,MAAhB,CAAD,EAAyB,KAAKnC,gBAA9B,EAA+CrB,EAA/C,CAAjB,EAAoE9E,CAAC,CAAC8E,EAAD,EAAI,KAAKuB,EAAT,EAAYvH,CAAC,CAAC,CAAD,CAAb,CAArE,EAAuFQ,CAAC,CAAC,KAAK8G,OAAL,CAAaiC,EAAE,CAACmE,GAAhB,CAAD,EAAsB,KAAKrG,gBAA3B,EAA4CrB,EAA5C,CAAxF,EAAwI9E,CAAC,CAAC8E,EAAD,EAAI,KAAKuB,EAAT,EAAYvH,CAAC,CAAC,CAAD,CAAb,CAAzI,EAA2JQ,CAAC,CAAC,KAAK8G,OAAL,CAAaiC,EAAE,CAACoE,MAAhB,CAAD,EAAyB,KAAKtG,gBAA9B,EAA+CrB,EAA/C,CAA5J;EAA+M;;EAAA8F,2BAA2B,CAAC9L,CAAD,EAAGI,CAAH,EAAK;IAAC,MAAMG,CAAC,GAAC,KAAK4G,SAAL,CAAevE,CAAC,CAACiJ,SAAjB,EAA4B7L,CAA5B,CAAR;IAAuC,IAAGE,CAAC,CAACK,CAAC,CAAC2I,eAAH,CAAD,IAAsB3I,CAAC,CAAC2I,eAAF,CAAkBC,KAAlB,IAAyB/I,CAAlD,EAAoD;;IAAO,MAAMK,CAAC,GAAC,KAAKwI,QAAL,CAAc8J,gBAAd,CAA+B/S,CAA/B,EAAiC4C,CAAC,CAACiJ,SAAnC,CAAR;IAAA,MAAsDnL,CAAC,GAAC8C,CAAC,CAAC/C,CAAD,CAAzD;;IAA6D,IAAG,CAACkF,CAAC,CAAC,IAAD,EAAMjF,CAAN,EAAQ,CAAC,CAAT,CAAL,EAAiB;IAAO,MAAMC,CAAC,GAACqS,EAAR;IAAW,IAAInS,CAAC,GAAC,CAAC,CAAP;;IAAS,IAAGN,CAAC,CAACwM,IAAL,EAAU;MAAC,MAAM/M,CAAC,GAACO,CAAC,CAACwM,IAAV;MAAepM,CAAC,CAACsL,GAAF,GAAMjM,CAAC,CAACiT,MAAF,CAAS,CAAT,CAAN,EAAkBtS,CAAC,CAACgS,GAAF,GAAM3S,CAAC,CAACiT,MAAF,CAAS,CAAT,CAAxB,EAAoCtS,CAAC,CAACiS,eAAF,GAAkB5S,CAAC,CAAC4S,eAAxD,EAAwEjS,CAAC,CAACwI,KAAF,GAAQ,KAAKA,KAArF,EAA2FtI,CAAC,GAAC,CAAC,CAA9F;IAAgG,CAA1H,MAA8H;MAAC,IAAIX,CAAJ;MAAA,IAAME,CAAN;MAAA,IAAQE,CAAC,GAAC,CAAV;;MAAY,KAAI,IAAIC,CAAC,GAAC,KAAKuI,OAAf,EAAuBvI,CAAC,KAAG,CAACH,CAAD,IAAIE,CAAC,GAAC8C,CAAC,CAAC,KAAK+F,KAAN,CAAV,CAAD,KAA2B7I,CAAC,GAAC,KAAK+K,MAAL,GAAY9K,CAAC,CAAC4I,KAAhB,EAAsBjJ,CAAC,GAACE,CAAC,IAAEF,CAA3B,EAA6BE,CAAC,GAACG,CAAC,CAAC4G,SAAF,CAAYvE,CAAC,CAACiJ,SAAd,EAAyB7L,CAAzB,EAA4B+M,IAA3D,EAAgE,EAAE,CAAC3M,CAAD,IAAIF,CAAJ,IAAOI,CAAC,IAAE8C,CAAC,CAAC,KAAK+F,KAAN,CAAb,CAA3F,CAAvB,EAA8I5I,CAAC,GAACA,CAAC,CAACsI,MAAlJ,CAAyJ;;MAACzI,CAAC,GAACA,CAAC,IAAEF,CAAL,EAAOE,CAAC,KAAGA,CAAC,CAAC8S,kBAAF,CAAqB,KAAKtM,GAAL,CAAS,CAAT,CAArB,EAAiC,KAAKA,GAAL,CAAS,CAAT,CAAjC,EAA6C,KAAKA,GAAL,CAAS,CAAT,CAA7C,EAAyDjG,CAAzD,GAA4DA,CAAC,CAACsL,GAAF,KAAQ,IAAE,CAAV,KAActL,CAAC,CAACwI,KAAF,GAAQ/I,CAAC,CAAC+I,KAAV,EAAgBtI,CAAC,GAAC,CAAC,CAAjC,CAA/D,CAAR;IAA4G;;IAAAA,CAAC,KAAGP,CAAC,CAACC,CAAC,CAAC2I,eAAH,CAAD,KAAuB3I,CAAC,CAAC2I,eAAF,GAAkB,IAAIjH,CAAJ,EAAzC,GAAgD1B,CAAC,CAAC2I,eAAF,CAAkBiK,QAAlB,CAA2BxS,CAA3B,CAAnD,CAAD;EAAmF;;EAAAyS,YAAY,CAACpT,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAAC,KAAK6G,SAAL,CAAe/G,CAAf,CAAR;;IAA0B,KAAI,MAAMM,CAAV,IAAeJ,CAAf,EAAiBI,CAAC,CAACuO,YAAF,IAAgBvO,CAAC,CAACuO,YAAF,KAAiB7J,CAAjC,KAAqC8J,EAAE,CAACxO,CAAC,CAACuO,YAAH,CAAF,EAAmBvO,CAAC,CAACuO,YAAF,GAAe,IAAvE,GAA6EvO,CAAC,CAAC+P,aAAF,CAAgBqB,KAAhB,EAA7E;;IAAqG,KAAI,IAAIpR,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAC,CAACoL,MAAhB,EAAuB,EAAEhL,CAAzB,EAA2B,KAAK,CAAL,KAASV,CAAC,CAACU,CAAD,CAAV,IAAeJ,CAAC,CAACI,CAAD,CAAD,CAAK+K,OAAL,EAAf;;IAA8B,MAAMlL,CAAC,GAAC,IAAI8S,KAAJ,CAAU,GAAG/S,CAAb,CAAR;IAAA,MAAwBG,CAAC,GAACP,CAAC,CAACwL,MAA5B;IAAmCpL,CAAC,CAACoL,MAAF,GAASjL,CAAT;;IAAW,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAd,EAAgBC,CAAC,EAAjB,EAAoB;MAAC,MAAMV,CAAC,GAACE,CAAC,CAACQ,CAAD,CAAT;MAAaJ,CAAC,CAACI,CAAD,CAAD,GAAKV,CAAC,GAAC,CAAC,CAAH,GAAKO,CAAC,CAACP,CAAD,CAAN,GAAUsF,CAAC,CAACqG,OAAF,CAAU,KAAK1C,QAAL,CAAc2C,gBAAxB,CAAf;IAAyD;;IAAA,KAAKO,cAAL;EAAsB;;EAAAqG,aAAa,CAACxS,CAAD,EAAG;IAAC,KAAKwK,UAAL,KAAkB,KAAKkE,qBAAL,CAA2B,CAA3B,EAA6B1O,CAA7B,GAAgC,KAAKkS,gBAAL,CAAsBlS,CAAtB,EAAwBuC,CAAC,CAAC8P,MAA1B,CAAlD;EAAqF;;EAAAiB,YAAY,CAACtT,CAAD,EAAG;IAAC,IAAG,KAAKwK,UAAR,EAAmB;MAAC,MAAMtK,CAAC,GAAC,KAAKiH,SAAL,CAAenH,CAAf,CAAR;;MAA0B,KAAI,MAAMA,CAAV,IAAeE,CAAf,EAAiBF,CAAC,CAACiP,YAAF,KAAiB7J,CAAjB,KAAqBpF,CAAC,CAACiP,YAAF,GAAe,IAApC;;MAA0C,KAAKP,qBAAL,CAA2B,CAA3B,EAA6B1O,CAA7B;IAAgC;EAAC;;EAAAkK,qBAAqB,GAAE;IAAC,KAAI,MAAMlK,CAAV,IAAeY,CAAf,EAAiB;MAAC,MAAMV,CAAC,GAAC,KAAKkQ,YAAL,CAAkBpQ,CAAlB,CAAR;;MAA6B,KAAI,MAAMI,CAAV,IAAe,KAAK+G,SAAL,CAAenH,CAAf,CAAf,EAAiCI,CAAC,CAAC6O,YAAF,IAAgB7O,CAAC,CAAC6O,YAAF,KAAiB7J,CAAjC,KAAqChF,CAAC,CAAC6O,YAAF,CAAesE,aAAf,CAA6BrT,CAA7B,GAAgCE,CAAC,CAAC6O,YAAF,KAAiB7J,CAAjB,IAAoB,KAAK8M,gBAAL,CAAsBlS,CAAtB,EAAwBuC,CAAC,CAAC8P,MAA1B,CAAzF;IAA4H;EAAC;;EAAAmB,gBAAgB,CAACxT,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK+G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6BI,CAAC,CAAC6O,YAAF,IAAgB7O,CAAC,CAAC6O,YAAF,KAAiB7J,CAAjC,IAAoChF,CAAC,CAAC6O,YAAF,CAAewE,OAAf,EAApC,EAA6DrT,CAAC,CAAC6O,YAAF,GAAe,IAA5E;EAAiF;;EAAAyE,SAAS,CAAC1T,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK+G,SAAL,CAAejH,CAAf,EAAkBF,CAAlB,CAAR;IAA6BI,CAAC,CAAC6O,YAAF,GAAe7J,CAAf,EAAiB,CAAChF,CAAC,CAAC2M,IAAH,IAASzM,CAAC,CAACF,CAAC,CAACuT,YAAH,CAAV,IAA4B,KAAKjF,qBAAL,CAA2B1O,CAAC,GAAC,CAA7B,EAA+BE,CAA/B,CAA7C;EAA+E;;EAAAwO,qBAAqB,CAAC1O,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAK+G,SAAL,CAAejH,CAAf,CAAR;IAA0B,IAAG,MAAIE,CAAC,CAACsL,MAAT,EAAgB;;IAAO,MAAMpL,CAAC,GAAC,CAAC,MAAI;MAAC,KAAI,IAAIA,CAAC,GAACN,CAAV,EAAYM,CAAC,GAACF,CAAC,CAACsL,MAAhB,EAAuB,EAAEpL,CAAzB,EAA2B;QAAC,MAAMN,CAAC,GAAC,KAAKiJ,QAAL,CAAc8J,gBAAd,CAA+BzS,CAA/B,EAAiCJ,CAAjC,CAAR;;QAA4C,IAAGwD,CAAC,CAAC1D,CAAD,CAAD,IAAM,aAAWA,CAAC,CAAC4T,KAAF,CAAQC,SAA5B,EAAsC,OAAM,CAAC,CAAP;MAAS;;MAAA,OAAM,CAAC,CAAP;IAAS,CAAtI,GAAR;IAAA,MAAkJtT,CAAC,GAAC,KAAK6P,YAAL,CAAkBlQ,CAAlB,CAApJ;;IAAyK,KAAI,IAAIO,CAAC,GAACT,CAAV,EAAYS,CAAC,GAACL,CAAC,CAACsL,MAAhB,EAAuB,EAAEjL,CAAzB,EAA2B;MAAC,MAAMT,CAAC,GAACI,CAAC,CAACK,CAAD,CAAT;MAAa,IAAIC,CAAC,GAAC,CAAC,CAAP;;MAAS,MAAMC,CAAC,GAAC,KAAKsI,QAAL,CAAc8J,gBAAd,CAA+BtS,CAA/B,EAAiCP,CAAjC,CAAR;MAAA,MAA4CW,CAAC,GAAC2C,CAAC,CAAC7C,CAAD,CAA/C;;MAAmD,IAAGX,CAAC,CAACiP,YAAF,GAAetJ,CAAC,CAAC,IAAD,EAAM9E,CAAN,EAAQ,CAAC,CAAT,CAAD,IAAcb,CAAC,CAACiP,YAAF,KAAiB7J,CAAjB,IAAoBpF,CAAC,CAACiP,YAAF,CAAesE,aAAf,CAA6BhT,CAA7B,CAApB,EAAoDP,CAAC,CAACiP,YAAF,KAAiB7J,CAAjB,KAAqB1E,CAAC,GAACV,CAAC,CAACiP,YAAF,CAAe6E,MAAf,EAAvB,CAAlE,IAAmH9T,CAAC,CAACyT,OAAF,EAAlI,GAA8I9N,CAAC,CAAC,IAAD,EAAM9E,CAAN,EAAQ,CAAC,CAAT,CAAD,KAAeb,CAAC,CAACiP,YAAF,GAAe8E,EAAE,CAAC,IAAD,EAAMtT,CAAN,EAAQP,CAAR,EAAUK,CAAV,CAAjB,EAA8BG,CAAC,GAACV,CAAC,CAACiP,YAAF,CAAe+E,YAAf,EAAhC,EAA8DtT,CAAC,GAACV,CAAC,CAACiP,YAAF,KAAiB7J,CAAjB,IAAoB,KAAKyK,gBAAL,CAAsBpK,CAAC,CAAC4J,QAAxB,CAArB,IAAwDH,EAAE,CAAClP,CAAC,CAACiP,YAAH,CAAF,EAAmBjP,CAAC,CAACiP,YAAF,GAAe7J,CAA1F,CAA9E,CAA9I,EAA0TpF,CAAC,CAACiP,YAAF,KAAiB7J,CAAjB,IAAoB,KAAK8M,gBAAL,CAAsBhS,CAAtB,EAAwBqC,CAAC,CAAC8P,MAA1B,CAA9U,EAAgX,CAAC/R,CAAD,IAAII,CAAJ,IAAOC,CAAC,CAACsT,QAA5X,EAAqY;IAAO;EAAC;;EAAArE,eAAe,CAAC5P,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK+G,MAAb;IAAoB,OAAO/G,CAAC,CAAC,CAAD,CAAD,IAAMF,CAAC,CAAC,CAAD,CAAP,IAAYA,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAnB,IAAwBA,CAAC,CAAC,CAAD,CAAD,IAAMF,CAAC,CAAC,CAAD,CAA/B,IAAoCA,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAlD;EAAsD;;EAAAyP,gBAAgB,CAAC3P,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK+G,MAAb;IAAoB,OAAO/G,CAAC,CAAC,CAAD,CAAD,IAAMF,CAAC,CAAC,CAAD,CAAP,IAAYA,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAnB,IAAwBA,CAAC,CAAC,CAAD,CAAD,IAAMF,CAAC,CAAC,CAAD,CAA/B,IAAoCA,CAAC,CAAC,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAlD;EAAsD;;EAAAgU,gCAAgC,CAAChU,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKiL,MAAL,GAAY,KAAKlC,KAAzB;IAAA,MAA+B7I,CAAC,GAAC0L,IAAI,CAAC2G,GAAL,CAAS,KAAKxJ,KAAL,GAAWjJ,CAApB,EAAsBkD,CAAC,CAAC,KAAK+F,KAAN,CAAD,GAAc/I,CAApC,CAAjC;IAAwE,OAAOJ,CAAC,CAAC,KAAG,KAAKwI,cAAL,IAAqBlI,CAAxB,CAAD,EAA4B,CAA5B,EAA8B,KAAKkI,cAAL,GAAoB,CAAlD,CAAR;EAA6D;;EAAQ,IAAJ2L,IAAI,GAAE;IAAC,OAAM;MAAC7H,YAAY,EAAC,KAAKA;IAAnB,CAAN;EAAuC;;EAAA8H,QAAQ,CAACpU,CAAD,EAAGI,CAAH,EAAK;IAAC,IAAG,CAACJ,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAMM,CAAC,GAAC,KAAK0I,OAAL,CAAaqL,SAArB;IAA+B,IAAGnU,CAAC,CAACI,CAAD,CAAJ,EAAQ,KAAI,MAAMJ,CAAV,IAAeI,CAAf,EAAiB,IAAGgU,EAAE,CAACpU,CAAD,EAAGF,CAAH,CAAL,EAAW;MAAC,IAAIM,CAAC,GAACJ,CAAN;MAAA,IAAQK,CAAC,GAACP,CAAC,CAAC,CAAD,CAAD,GAAKM,CAAC,CAAC6I,KAAP,GAAa,CAAvB;;MAAyB,OAAK5I,CAAC,IAAE,CAAH,IAAM,CAACD,CAAC,CAACsK,MAAT,IAAiB,CAACxK,CAAC,CAACE,CAAD,CAAxB,GAA6B;QAAC,MAAMJ,CAAC,GAACF,CAAC,CAAC,CAAD,CAAD,IAAMO,CAAN,GAAQ,CAAhB;QAAA,MAAkBH,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAD,IAAMO,CAAN,GAAQ,CAA5B;QAA8BD,CAAC,GAACA,CAAC,CAACyI,QAAF,CAAW,IAAE7I,CAAF,GAAIE,CAAf,CAAF,EAAoBG,CAAC,EAArB;MAAwB;;MAAA,OAAOH,CAAC,CAACE,CAAD,CAAD,GAAKA,CAAL,GAAO,IAAd;IAAmB;IAAA,OAAO,IAAP;EAAY;;EAAAiU,gBAAgB,CAACvU,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAKwG,GAAb;IAAA,MAAiBtG,CAAC,GAAC,KAAKkU,cAAL,CAAoBpU,CAApB,EAAsBJ,CAAtB,CAAnB;IAA4C,OAAOM,CAAC,GAACmU,EAAE,CAACrU,CAAD,EAAGE,CAAH,CAAF,GAAQJ,CAAC,CAAC,IAAD,CAAD,GAAQ,IAAR,GAAa,IAArB,GAA0B,KAAKkU,QAAL,CAAc9T,CAAd,EAAgBJ,CAAhB,CAA3B,GAA8C,IAAtD;EAA2D;;EAAAwU,UAAU,CAAC1U,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAACJ,CAAC,KAAGyC,CAAC,CAACkS,UAAN,GAAiB,CAAjB,GAAmB3U,CAAC,KAAGyC,CAAC,CAACmS,UAAN,GAAiB,CAAjB,GAAmB5U,CAAC,KAAGyC,CAAC,CAACoS,UAAN,GAAiB,CAAjB,GAAmB,CAAjE;IAAmE,IAAIvU,CAAC,GAAC,IAAN;;IAAW,OAAK,EAAEA,CAAC,CAACsK,MAAF,IAAU1K,CAAC,IAAEA,CAAC,CAACI,CAAD,CAAhB,CAAL,GAA2BA,CAAC,GAACA,CAAC,CAACyI,QAAF,CAAW3I,CAAX,CAAF;;IAAgB,OAAOE,CAAP;EAAS;;EAAAwU,2BAA2B,CAAC9U,CAAD,EAAGE,CAAH,EAAK;IAAC,OAAO,KAAKqU,gBAAL,CAAsBvU,CAAtB,EAAyBA,CAAC,IAAEE,CAAC,CAACF,CAAD,CAAD,IAAMA,CAAC,CAACmJ,KAAF,KAAU,KAAKA,KAAjD,GAA0DuL,UAA1D,CAAqE9Q,CAAC,CAAC5D,CAAD,CAAtE,EAA0EE,CAA1E,CAAP;EAAoF;;EAAA6U,mBAAmB,CAAC/U,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAACJ,CAAC,KAAGyC,CAAC,CAACuS,KAAN,GAAY,CAAC,CAAD,EAAG,CAAH,CAAZ,GAAkBhV,CAAC,KAAGyC,CAAC,CAACkS,UAAN,GAAiB,CAAC,CAAD,CAAjB,GAAqB3U,CAAC,KAAGyC,CAAC,CAACwS,IAAN,GAAW,CAAC,CAAD,EAAG,CAAH,CAAX,GAAiBjV,CAAC,KAAGyC,CAAC,CAACyS,UAAN,GAAiB,CAAC,CAAD,CAAjB,GAAqBlV,CAAC,KAAGyC,CAAC,CAAC0S,KAAN,GAAY,CAAC,CAAD,EAAG,CAAH,CAAZ,GAAkBnV,CAAC,KAAGyC,CAAC,CAACoS,UAAN,GAAiB,CAAC,CAAD,CAAjB,GAAqB7U,CAAC,KAAGyC,CAAC,CAAC2S,IAAN,GAAW,CAAC,CAAD,EAAG,CAAH,CAAX,GAAiB,CAAC,CAAD,CAA7I;IAAA,MAAiJ9U,CAAC,GAACN,CAAC,IAAE;MAACE,CAAC,CAACF,CAAD,CAAD,IAAMA,CAAC,CAAC4K,MAAR,IAAgBxK,CAAC,CAACiV,OAAF,CAAWnV,CAAC,IAAEI,CAAC,CAACN,CAAC,CAAC+I,QAAF,CAAW7I,CAAX,CAAD,CAAf,CAAhB;IAAiD,CAAxM;;IAAyMI,CAAC,CAAC,IAAD,CAAD;EAAQ;;EAAAgV,eAAe,CAACtV,CAAD,EAAG;IAAC8D,CAAC,CAACuR,OAAF,CAAWnV,CAAC,IAAE,KAAK4U,2BAAL,CAAiC5U,CAAjC,EAAmCF,CAAnC,CAAd,GAAsDgE,CAAC,CAACqR,OAAF,CAAWnV,CAAC,IAAE,KAAKqU,gBAAL,CAAsBrU,CAAtB,EAAyBA,CAAC,IAAEA,CAAC,CAACiJ,KAAF,KAAU,KAAKA,KAAf,IAAsBnJ,CAAC,CAACE,CAAD,CAAnD,GAA0D6U,mBAA1D,CAA8E7Q,CAAC,CAAChE,CAAD,CAA/E,EAAmFF,CAAnF,CAAd,CAAtD;EAA4J;;EAAAuV,+BAA+B,CAACvV,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAACF,CAAC,IAAE,KAAKqU,gBAAL,CAAsBvQ,CAAC,CAAChE,CAAD,CAAvB,EAA4BA,CAAC,IAAEA,CAAC,CAACuO,QAAjC,CAAX;IAAuD,IAAG,CAACnO,CAAD,IAAI,CAAC,KAAKmO,QAAV,IAAoB,CAACnO,CAAC,CAACmO,QAA1B,EAAmC,OAAO,CAAP;IAAS,MAAMjO,CAAC,GAAC,KAAK6I,KAAL,GAAW/I,CAAC,CAAC+I,KAArB;IAA2B,IAAG,MAAI7I,CAAP,EAAS,OAAO,CAAP;IAAS,MAAMC,CAAC,GAAC,KAAGD,CAAX;IAAA,MAAaG,CAAC,GAAC,MAAI,IAAET,CAAN,CAAf;IAAA,MAAwBU,CAAC,GAACD,CAAC,GAAC,CAAD,GAAG,CAA9B;IAAA,MAAgCE,CAAC,GAACP,CAAC,CAACwG,GAAF,CAAMlG,CAAC,GAAC,CAAR,IAAWH,CAA7C;IAAA,MAA+CM,CAAC,GAAC,KAAK+F,GAAL,CAASlG,CAAC,GAAC,CAAX,IAAcC,CAA/D;IAAiE,OAAOF,CAAC,GAACF,CAAC,GAAC,CAAF,GAAIM,CAAL,GAAOA,CAAf;EAAiB;;EAAA2U,yCAAyC,GAAE;IAAC,KAAI,IAAIxV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgB,EAAEA,CAAlB,EAAoB,IAAG,KAAKwK,UAAL,CAAgBiL,aAAhB,CAA8BC,YAA9B,CAA2CC,uBAA3C,CAAmE3V,CAAnE,CAAH,EAAyE;MAAC,MAAME,CAAC,GAAC8D,CAAC,CAAChE,CAAD,CAAT;MAAA,MAAaI,CAAC,GAAC,KAAKmU,gBAAL,CAAsBrU,CAAtB,EAAyBF,CAAC,IAAEA,CAAC,CAACuO,QAAF,IAAYvO,CAAC,CAACmJ,KAAF,KAAU,KAAKA,KAAvD,CAAf;MAA8E,IAAG,CAAC/I,CAAJ,EAAM;;MAAS,IAAG,CAACA,CAAC,CAACmO,QAAN,EAAe;QAACnK,CAAC,CAAC,CAAChE,CAAC,CAACwK,MAAJ,CAAD;QAAa,MAAMtK,CAAC,GAAC,CAACN,CAAC,GAAC,CAAH,IAAM,CAAd;QAAA,MAAgBO,CAAC,GAAC2D,CAAC,CAAChE,CAAD,CAAnB;QAAuBE,CAAC,CAAC2U,mBAAF,CAAsBxU,CAAtB,EAAyBP,CAAC,IAAEA,CAAC,CAACuO,QAAF,IAAYvO,CAAC,CAAC4V,+BAAF,CAAkCtV,CAAlC,GAAqC,CAAC,CAAlD,KAAsD8D,CAAC,CAAC,CAACpE,CAAC,CAAC4K,MAAJ,CAAD,EAAa,CAAC,CAApE,CAA5B;MAAqG;;MAAA,KAAKJ,UAAL,CAAgBiL,aAAhB,CAA8BC,YAA9B,CAA2CC,uBAA3C,CAAmE3V,CAAnE,IAAsE,CAAC,CAAvE;IAAyE;EAAC;;EAAA6V,qCAAqC,GAAE;IAAC,KAAKtH,QAAL,IAAe,KAAK/D,UAAL,CAAgBqL,qCAAhB,EAAf;EAAuE;;EAAAC,kCAAkC,CAAC9V,CAAC,GAAC,KAAKmJ,KAAR,EAAc;IAAC,KAAK4M,qBAAL,CAA4B/V,CAAC,IAAE,KAAKgW,eAAL,CAAqBhW,CAArB,CAA/B,GAAyDgE,CAAC,CAACqR,OAAF,CAAWnV,CAAC,IAAE;MAAC,KAAKqU,gBAAL,CAAsBrU,CAAtB,EAAyBA,CAAC,IAAEA,CAAC,CAACqO,QAAF,IAAYrO,CAAC,CAACiJ,KAAF,GAAQnJ,CAAhD,GAAqDiW,wCAArD;IAAgG,CAA/G,CAAzD;EAA2K;;EAAAA,wCAAwC,GAAE;IAAC,KAAK1H,QAAL,IAAe,KAAKiH,yCAAL,EAAf;EAAgE;;EAAAI,+BAA+B,CAAC5V,CAAD,EAAG;IAAC,KAAKwK,UAAL,CAAgBoL,+BAAhB,CAAgD5V,CAAhD;EAAmD;;EAAA+V,qBAAqB,CAAC/V,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKiJ,KAAb;IAAA,MAAmB/I,CAAC,GAACJ,CAAC,IAAEA,CAAC,CAACmJ,KAAF,KAAUjJ,CAAV,IAAaF,CAAC,CAACuO,QAAvC;;IAAgDvK,CAAC,CAACqR,OAAF,CAAW,CAACnV,CAAD,EAAGI,CAAH,KAAO;MAAC,MAAMC,CAAC,GAAC,KAAKgU,gBAAL,CAAsBrU,CAAtB,EAAwBE,CAAxB,CAAR;MAAmC,QAAMG,CAAN,IAASA,CAAC,KAAG,IAAb,IAAmBA,CAAC,CAACwU,mBAAF,CAAsB7Q,CAAC,CAAChE,CAAD,CAAvB,EAA4BA,CAAC,IAAE,CAAC,CAACA,CAAC,CAACqO,QAAJ,KAAevO,CAAC,CAACE,CAAD,CAAD,EAAK,CAAC,CAArB,CAA/B,CAAnB;MAA4E,MAAMO,CAAC,GAAC,KAAK+J,UAAL,EAAiBiL,aAAjB,EAAgCC,YAAxC;MAAqDjV,CAAC,KAAGA,CAAC,CAACkV,uBAAF,CAA0BrV,CAA1B,IAA6B,CAAC,CAAjC,CAAD;IAAqC,CAA5N,GAA+NwD,CAAC,CAACuR,OAAF,CAAWnV,CAAC,IAAE;MAAC,MAAMI,CAAC,GAAC,KAAKiU,gBAAL,CAAsBrU,CAAtB,EAAwBE,CAAxB,GAA4BsU,UAA5B,CAAuC9Q,CAAC,CAAC1D,CAAD,CAAxC,EAA6CF,CAAC,IAAEA,CAAC,CAACuO,QAAlD,CAAR;MAAqEnK,CAAC,CAAC,CAAC9D,CAAD,IAAI4V,EAAE,CAAC,IAAD,EAAM5V,CAAN,EAAQJ,CAAR,CAAP,CAAD,EAAoBI,CAAC,EAAEiO,QAAH,IAAavO,CAAC,CAACM,CAAD,CAAlC;IAAsC,CAA1H,CAA/N;EAA4V;;EAAA0V,eAAe,CAAChW,CAAD,EAAG;IAACA,CAAC,EAAEuO,QAAH,IAAavO,CAAC,CAAC6V,qCAAF,EAAb;EAAuD;;EAAArB,cAAc,CAACxU,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAACkE,CAAC,CAACpE,CAAD,CAAD,GAAK,CAAC,CAAN,GAAQsE,CAAC,CAACtE,CAAD,CAAD,GAAK,CAAL,GAAO,CAAvB;IAAA,MAAyBI,CAAC,GAACoE,CAAC,CAACxE,CAAD,CAAD,GAAK,CAAC,CAAN,GAAQ0E,CAAC,CAAC1E,CAAD,CAAD,GAAK,CAAL,GAAO,CAA1C;IAAA,MAA4CK,CAAC,GAAC,CAACP,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAX,EAAaJ,CAAC,CAAC,CAAD,CAAD,GAAKM,CAAlB,CAA9C;IAAmE,OAAOC,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,GAAO,IAAP,GAAY,KAAKyI,OAAL,CAAamN,QAAb,GAAsB,KAAKC,OAAL,CAAa7V,CAAb,CAAtB,GAAsCA,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,GAAO,IAAP,GAAYA,CAArE;EAAuE;;EAAA6V,OAAO,CAACpW,CAAD,EAAG;IAAC,OAAM,CAACA,CAAD,IAAIA,CAAC,CAAC,CAAD,CAAD,GAAK,CAAT,IAAYA,CAAC,CAAC,CAAD,CAAD,IAAM,KAAGA,CAAC,CAAC,CAAD,CAAtB,GAA0B,IAA1B,GAA+B,KAAKgJ,OAAL,CAAaqN,YAAb,CAA0BrW,CAA1B,CAArC;EAAkE;;EAA0B,IAAtBsW,sBAAsB,GAAE;IAAC,OAAO,KAAKrP,MAAL,CAAY,CAAZ,KAAgB,KAAKsP,SAAL,GAAe,CAAC,CAAhB,GAAkB,CAAlC,CAAP;EAA4C;;EAA0B,IAAtBC,sBAAsB,GAAE;IAAC,OAAO,KAAKvP,MAAL,CAAY,CAAZ,KAAgB,KAAKwP,SAAL,GAAe,CAAC,CAAhB,GAAkB,CAAlC,CAAP;EAA4C;;EAAa,IAATA,SAAS,GAAE;IAAC,OAAO,KAAK7P,GAAL,CAAS,CAAT,MAAc,KAAKoC,OAAL,CAAa0N,UAAb,CAAwB,KAAKvN,KAA7B,IAAoC,CAAzD;EAA2D;;EAAa,IAAToN,SAAS,GAAE;IAAC,OAAO,MAAI,KAAK3P,GAAL,CAAS,CAAT,CAAX;EAAuB;;EAAc,IAAV+P,UAAU,GAAE;IAAC,OAAO,MAAI,KAAK/P,GAAL,CAAS,CAAT,CAAX;EAAuB;;EAAc,IAAVgQ,UAAU,GAAE;IAAC,OAAO,KAAK3P,MAAL,CAAY,CAAZ,IAAe5F,CAAf,IAAkB,KAAK2H,OAAL,CAAa/B,MAAb,CAAoB,CAApB,CAAzB;EAAgD;;EAAA4P,WAAW,CAAC7W,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK0G,GAAb;IAAA,MAAiBxG,CAAC,GAACF,CAAC,CAAC,CAAD,CAApB;IAAA,MAAwBI,CAAC,GAACN,CAAC,CAAC,CAAD,CAA3B;IAA+B,IAAGI,CAAC,KAAGE,CAAP,EAAS,OAAM,CAACJ,CAAD,EAAGF,CAAH,CAAN;IAAY,MAAMO,CAAC,GAACH,CAAC,GAACE,CAAV;;IAAY,IAAGC,CAAC,GAAC,CAAL,EAAO;MAAC,MAAMH,CAAC,GAAC,KAAG,CAACG,CAAZ;MAAc,OAAM,CAAC,CAACD,CAAD,EAAGJ,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAR,EAAUF,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAf,CAAD,EAAmBJ,CAAnB,CAAN;IAA4B;;IAAA;MAAC,MAAMM,CAAC,GAAC,KAAGC,CAAX;MAAa,OAAM,CAACL,CAAD,EAAG,CAACE,CAAD,EAAGJ,CAAC,CAAC,CAAD,CAAD,GAAKM,CAAR,EAAUN,CAAC,CAAC,CAAD,CAAD,GAAKM,CAAf,CAAH,CAAN;IAA4B;EAAC;;EAAAwW,2BAA2B,GAAE;IAAChS,CAAC,KAAGV,CAAC,CAAC,KAAKmK,QAAN,CAAD,EAAiB,KAAK/D,UAAL,CAAgBsM,2BAAhB,EAApB,CAAD;EAAoE;;EAAAC,kBAAkB,CAAC/W,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK+G,MAAb;IAAA,MAAoB7G,CAAC,GAAC,KAAK4I,OAAL,CAAagO,eAAnC;IAAA,MAAmD1W,CAAC,GAAC,OAAKJ,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAX,CAArD;IAAqE,IAAGoE,CAAC,CAACtE,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAL,IAAQF,CAAC,CAAC,CAAD,CAAlB,EAAsB,OAAM,CAAC,CAAP;IAAS,IAAGoE,CAAC,CAACxE,CAAD,CAAD,IAAME,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAL,IAAQF,CAAC,CAAC,CAAD,CAAlB,EAAsB,OAAM,CAAC,CAAP;IAAS,MAAMG,CAAC,GAAC,KAAKyI,OAAL,CAAamN,QAArB;IAA8B,OAAM,EAAE,CAAC5V,CAAD,IAAImE,CAAC,CAAC1E,CAAD,CAAL,IAAUE,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAL,IAAQF,CAAC,CAAC,CAAD,CAArB,KAA2B,EAAE,CAACG,CAAD,IAAIqE,CAAC,CAAC5E,CAAD,CAAL,IAAUE,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAL,IAAQF,CAAC,CAAC,CAAD,CAArB,CAAjC;EAA2D;;AAAh8kB;;AAAi8kB,SAAS2T,EAAT,CAAY/T,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkBE,CAAlB,EAAoB;EAAC,MAAMC,CAAC,GAACH,CAAC,KAAGwC,CAAC,CAACiJ,SAAN,GAAgBxD,EAAE,CAACsD,OAAH,EAAhB,GAA6BvD,EAAE,CAACuD,OAAH,EAArC;EAAkD,OAAOpL,CAAC,CAACsK,IAAF,CAAO7K,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAaE,CAAb,GAAgBC,CAAvB;AAAyB;;AAAA,SAAS2O,EAAT,CAAYlP,CAAZ,EAAc;EAACA,CAAC,CAACyT,OAAF,IAAYzT,CAAC,YAAYmC,CAAb,GAAekG,EAAE,CAACoD,OAAH,CAAWzL,CAAX,CAAf,GAA6BA,CAAC,YAAY8C,CAAb,IAAgBsF,EAAE,CAACqD,OAAH,CAAWzL,CAAX,CAAzD;AAAuE;;AAAA,MAAMoI,EAAE,GAAC,IAAI7H,CAAJ,CAAMuC,CAAN,CAAT;AAAA,MAAkBuF,EAAE,GAAC,IAAI9H,CAAJ,CAAM4B,CAAN,CAArB;AAAA,MAA8B6Q,EAAE,GAAC,IAAI/Q,CAAJ,EAAjC;AAAuC,IAAIsH,EAAJ;;AAAO,SAAS+K,EAAT,CAAYtU,CAAZ,EAAcE,CAAd,EAAgB;EAAC,MAAME,CAAC,GAACJ,CAAC,CAACmJ,KAAV;EAAA,MAAgB7I,CAAC,GAACJ,CAAC,CAAC,CAAD,CAAnB;EAAuB,IAAGE,CAAC,GAACE,CAAL,EAAO,OAAM,CAAC,CAAP;EAAS,MAAMC,CAAC,GAACD,CAAC,GAACF,CAAV;EAAA,MAAYK,CAAC,GAACuL,IAAI,CAACiL,KAAL,CAAW/W,CAAC,CAAC,CAAD,CAAD,GAAK,KAAGK,CAAnB,CAAd;EAAA,MAAoCG,CAAC,GAACsL,IAAI,CAACiL,KAAL,CAAW/W,CAAC,CAAC,CAAD,CAAD,GAAK,KAAGK,CAAnB,CAAtC;EAA4D,OAAOE,CAAC,KAAGT,CAAC,CAAC4G,GAAF,CAAM,CAAN,CAAJ,IAAclG,CAAC,KAAGV,CAAC,CAAC4G,GAAF,CAAM,CAAN,CAAzB;AAAkC;;AAAA,SAAS6N,EAAT,CAAYzU,CAAZ,EAAcE,CAAd,EAAgB;EAAC,OAAOF,CAAC,CAAC,CAAD,CAAD,KAAOE,CAAC,CAAC,CAAD,CAAR,IAAaF,CAAC,CAAC,CAAD,CAAD,KAAOE,CAAC,CAAC,CAAD,CAArB,IAA0BF,CAAC,CAAC,CAAD,CAAD,KAAOE,CAAC,CAAC,CAAD,CAAzC;AAA6C;;AAAA,SAASgX,EAAT,CAAYlX,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkB;EAAC,OAAO4L,IAAI,CAACqC,GAAL,CAASrO,CAAC,GAACE,CAAX,KAAeE,CAAtB;AAAwB;;AAAA,SAAS+W,EAAT,CAAYnX,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkB;EAAC,IAAGE,CAAC,CAACN,CAAD,CAAD,IAAMM,CAAC,CAACJ,CAAD,CAAV,EAAc,OAAM,CAAC,CAAP;;EAAS,IAAG,MAAIF,CAAC,CAACmJ,KAAN,IAAa,MAAIjJ,CAAC,CAACiJ,KAAtB,EAA4B;IAAC,IAAGnJ,CAAC,CAACyW,SAAF,IAAavW,CAAC,CAACqW,SAAf,IAA0BnW,CAAC,KAAGqC,CAAC,CAACwS,IAAnC,EAAwC,OAAM,CAAC,CAAP;IAAS,IAAGjV,CAAC,CAACuW,SAAF,IAAarW,CAAC,CAACuW,SAAf,IAA0BrW,CAAC,KAAGqC,CAAC,CAAC2S,IAAnC,EAAwC,OAAM,CAAC,CAAP;EAAS;;EAAA,MAAM7U,CAAC,GAAC,QAAMP,CAAC,CAACiH,MAAF,CAAS,CAAT,IAAYjH,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAlB,CAAR;;EAAuC,QAAO7G,CAAP;IAAU,KAAKqC,CAAC,CAACuS,KAAP;MAAa,OAAOkC,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAb,EAAyB1G,CAAzB,CAAT;;IAAqC,KAAKkC,CAAC,CAAC0S,KAAP;MAAa,OAAO+B,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAb,EAAyB1G,CAAzB,CAAT;;IAAqC,KAAKkC,CAAC,CAACwS,IAAP;MAAY,OAAOiC,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAb,EAAyB1G,CAAzB,CAAF,IAA+B2W,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa,CAAC/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAd,EAA0B1G,CAA1B,CAAxC;;IAAqE,KAAKkC,CAAC,CAAC2S,IAAP;MAAY,OAAO8B,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAb,EAAyB1G,CAAzB,CAAF,IAA+B2W,EAAE,CAAClX,CAAC,CAACiH,MAAF,CAAS,CAAT,CAAD,EAAa,CAAC/G,CAAC,CAAC+G,MAAF,CAAS,CAAT,CAAd,EAA0B1G,CAA1B,CAAxC;EAA3M;AAAiR;;AAAA,SAAS2V,EAAT,CAAYlW,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkB;EAAC,OAAM,CAACE,CAAC,CAACN,CAAD,CAAF,IAAO,CAACM,CAAC,CAACJ,CAAD,CAAT,IAAcA,CAAC,KAAGF,CAAlB,KAAsBA,CAAC,CAACmJ,KAAF,IAASjJ,CAAC,CAACiJ,KAAX,GAAiBiO,EAAE,CAACpX,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAnB,GAA2BgX,EAAE,CAAClX,CAAD,EAAGF,CAAH,EAAK4D,CAAC,CAACxD,CAAD,CAAN,CAAnD,CAAN;AAAqE;;AAAA,SAASgX,EAAT,CAAYpX,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkB;EAACgE,CAAC,CAACpE,CAAC,CAACmJ,KAAF,IAASjJ,CAAC,CAACiJ,KAAZ,CAAD;EAAoB,MAAM7I,CAAC,GAAC0E,CAAC,CAAC5E,CAAD,CAAT;EAAA,MAAaG,CAAC,GAAC2E,CAAC,CAAC9E,CAAD,CAAhB;EAAA,MAAoBK,CAAC,GAACT,CAAC,CAACiH,MAAxB;EAAA,MAA+BvG,CAAC,GAACR,CAAC,CAAC+G,MAAnC;EAAA,MAA0CtG,CAAC,GAAC,CAACL,CAAC,GAACG,CAAC,CAAC,CAAD,CAAF,GAAMA,CAAC,CAAC,CAAD,CAAT,EAAaF,CAAC,GAACE,CAAC,CAAC,CAAD,CAAF,GAAMA,CAAC,CAAC,CAAD,CAArB,CAA5C;EAAA,MAAsEI,CAAC,GAAC,CAACP,CAAC,GAACI,CAAC,CAAC,CAAD,CAAF,GAAMA,CAAC,CAAC,CAAD,CAAT,EAAaH,CAAC,GAACG,CAAC,CAAC,CAAD,CAAF,GAAMA,CAAC,CAAC,CAAD,CAArB,CAAxE;EAAA,MAAkGK,CAAC,GAAC,QAAMN,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAZ,CAApG;EAAA,MAAqHO,CAAC,GAACkW,EAAE,CAACvW,CAAC,CAAC,CAAD,CAAF,EAAME,CAAC,CAAC,CAAD,CAAP,EAAWE,CAAX,CAAF,IAAiBf,CAAC,CAACgJ,OAAF,CAAUmN,QAAV,IAAoBe,EAAE,CAACvW,CAAC,CAAC,CAAD,CAAF,EAAM,CAACE,CAAC,CAAC,CAAD,CAAR,EAAYE,CAAZ,CAA9J;EAAA,MAA6KG,CAAC,GAACgW,EAAE,CAACvW,CAAC,CAAC,CAAD,CAAF,EAAME,CAAC,CAAC,CAAD,CAAP,EAAWE,CAAX,CAAjL;EAA+L,IAAGC,CAAC,IAAEE,CAAN,EAAQ,OAAM,CAAC,CAAP;EAAS,IAAGlB,CAAC,CAACmJ,KAAF,KAAUjJ,CAAC,CAACiJ,KAAf,EAAqB,OAAM,CAAC,CAAP;EAAS,IAAG,CAACnI,CAAD,IAAI,CAACE,CAAR,EAAU,OAAM,CAAC,CAAP;EAAS,OAAOF,CAAC,GAACqW,EAAE,CAAC3W,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWD,CAAC,CAAC,CAAD,CAAZ,EAAgBA,CAAC,CAAC,CAAD,CAAjB,EAAqBM,CAArB,CAAH,GAA2BsW,EAAE,CAAC3W,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWD,CAAC,CAAC,CAAD,CAAZ,EAAgBA,CAAC,CAAC,CAAD,CAAjB,EAAqBM,CAArB,CAArC;AAA6D;;AAAA,SAASsW,EAAT,CAAYrX,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkBE,CAAlB,EAAoBC,CAAC,GAACc,CAAtB,EAAwB;EAAC,OAAOrB,CAAC,GAACO,CAAF,IAAKH,CAAL,IAAQA,CAAC,IAAEE,CAAX,IAAcA,CAAC,IAAEJ,CAAC,GAACK,CAA1B;AAA4B;;AAAA,CAAC,UAASP,CAAT,EAAW;EAACA,CAAC,CAACA,CAAC,CAAC0N,GAAF,GAAM,CAAP,CAAD,GAAW,KAAX,EAAiB1N,CAAC,CAACA,CAAC,CAACwJ,MAAF,GAAS,CAAV,CAAD,GAAc,QAA/B,EAAwCxJ,CAAC,CAACA,CAAC,CAAC2N,MAAF,GAAS,CAAV,CAAD,GAAc,QAAtD;AAA+D,CAA3E,CAA4EpE,EAAE,KAAGA,EAAE,GAAC,EAAN,CAA9E,CAAD;AAA0F,SAAOA,EAAE,IAAI+N,cAAb,EAA4BpR,EAAE,IAAIqR,WAAlC,EAA8C5Q,EAAE,IAAI6Q,IAApD,EAAyDN,EAAE,IAAIO,YAA/D,EAA4EvB,EAAE,IAAIwB,gBAAlF,EAAmGP,EAAE,IAAIQ,cAAzG"},"metadata":{},"sourceType":"module"}