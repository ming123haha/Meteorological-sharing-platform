{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Error.js\";\nimport { isSome as t, isNone as n } from \"../../../../../core/maybe.js\";\nimport { isDataProtocol as r, dataComponents as a } from \"../../../../../core/urlUtils.js\";\n\nfunction i(e) {\n  const n = m(e);\n  return t(n) ? n.toDataURL() : \"\";\n}\n\nasync function o(t) {\n  const r = m(t);\n  if (n(r)) throw new e(\"imageToArrayBuffer\", \"Unsupported image type\");\n  const a = await c(t),\n        i = await new Promise(e => r.toBlob(e, a));\n  if (!i) throw new e(\"imageToArrayBuffer\", \"Failed to encode image\");\n  return {\n    data: await i.arrayBuffer(),\n    type: a\n  };\n}\n\nasync function c(e) {\n  if (!(e instanceof HTMLImageElement)) return \"image/png\";\n  const t = e.src;\n\n  if (r(t)) {\n    const {\n      mediaType: e\n    } = a(t);\n    return \"image/jpeg\" === e ? e : \"image/png\";\n  }\n\n  return /\\.png$/i.test(t) ? \"image/png\" : /\\.(jpg|jpeg)$/i.test(t) ? \"image/jpeg\" : \"image/png\";\n}\n\nfunction m(e) {\n  if (e instanceof HTMLCanvasElement) return e;\n  if (e instanceof HTMLVideoElement) return null;\n  const t = document.createElement(\"canvas\");\n  t.width = e.width, t.height = e.height;\n  const n = t.getContext(\"2d\");\n  return e instanceof HTMLImageElement ? n.drawImage(e, 0, 0, e.width, e.height) : e instanceof ImageData && n.putImageData(e, 0, 0), t;\n}\n\nfunction s(e) {\n  const t = [],\n        n = new Uint8Array(e);\n\n  for (let r = 0; r < n.length; r++) t.push(String.fromCharCode(n[r]));\n\n  return \"data:application/octet-stream;base64,\" + btoa(t.join(\"\"));\n}\n\nfunction g(e) {\n  if (e.byteLength < 8) return !1;\n  const t = new Uint8Array(e);\n  return 137 === t[0] && 80 === t[1] && 78 === t[2] && 71 === t[3] && 13 === t[4] && 10 === t[5] && 26 === t[6] && 10 === t[7];\n}\n\nexport { s as encodeBase64DataUri, o as imageToArrayBuffer, i as imageToDataURI, m as imageTypeToCanvas, g as isArrayBufferPNG };","map":{"version":3,"names":["e","isSome","t","isNone","n","isDataProtocol","r","dataComponents","a","i","m","toDataURL","o","c","Promise","toBlob","data","arrayBuffer","type","HTMLImageElement","src","mediaType","test","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","s","Uint8Array","length","push","String","fromCharCode","btoa","join","g","byteLength","encodeBase64DataUri","imageToArrayBuffer","imageToDataURI","imageTypeToCanvas","isArrayBufferPNG"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{isSome as t,isNone as n}from\"../../../../../core/maybe.js\";import{isDataProtocol as r,dataComponents as a}from\"../../../../../core/urlUtils.js\";function i(e){const n=m(e);return t(n)?n.toDataURL():\"\"}async function o(t){const r=m(t);if(n(r))throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const a=await c(t),i=await new Promise((e=>r.toBlob(e,a)));if(!i)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");return{data:await i.arrayBuffer(),type:a}}async function c(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(r(t)){const{mediaType:e}=a(t);return\"image/jpeg\"===e?e:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function m(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function g(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,o as imageToArrayBuffer,i as imageToDataURI,m as imageTypeToCanvas,g as isArrayBufferPNG};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}