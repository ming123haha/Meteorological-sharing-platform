{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { clamp as e } from \"../../../../core/mathUtils.js\";\nimport { f as o } from \"../../../../chunks/mat3.js\";\nimport { c as t } from \"../../../../chunks/mat3f64.js\";\nimport { i, c as n, s as r, m as s, h as l, j as a, g as u, r as f, o as c } from \"../../../../chunks/mat4.js\";\nimport { c as p } from \"../../../../chunks/mat4f64.js\";\nimport { s as d } from \"../../../../chunks/vec3.js\";\nimport { c as v } from \"../../../../chunks/vec3f64.js\";\nimport { meterIn as z } from \"../../../../renderers/support/lengthUtils.js\";\nimport m from \"../../support/debugFlags.js\";\nvar S, y, h;\n\nfunction x(e) {\n  return null != e;\n}\n\nfunction b(e) {\n  return \"number\" == typeof e;\n}\n\nfunction C(e) {\n  return \"string\" == typeof e;\n}\n\nfunction g(e) {\n  return null == e || C(e);\n}\n\nfunction M(e, o) {\n  e && e.push(o);\n}\n\nfunction V(e, o, t, i = p()) {\n  const n = e || 0,\n        r = o || 0,\n        s = t || 0;\n  return 0 !== n && u(i, i, -n / 180 * Math.PI), 0 !== r && f(i, i, r / 180 * Math.PI), 0 !== s && c(i, i, s / 180 * Math.PI), i;\n}\n\nfunction D(e, o, t, i, n) {\n  const r = e.minSize,\n        s = e.maxSize;\n  if (e.expression) return M(n, \"Could not convert size info: expression not supported\"), !1;\n\n  if (e.useSymbolValue) {\n    const e = i.symbolSize[t];\n    return o.minSize[t] = e, o.maxSize[t] = e, o.offset[t] = o.minSize[t], o.factor[t] = 0, o.type[t] = S.DefinedSize, !0;\n  }\n\n  if (x(e.field)) return x(e.stops) ? 2 === e.stops.length && b(e.stops[0].size) && b(e.stops[1].size) ? (T(e.stops[0].size, e.stops[1].size, e.stops[0].value, e.stops[1].value, o, t), o.type[t] = S.DefinedSize, !0) : (M(n, \"Could not convert size info: stops only supported with 2 elements\"), !1) : b(r) && b(s) && x(e.minDataValue) && x(e.maxDataValue) ? (T(r, s, e.minDataValue, e.maxDataValue, o, t), o.type[t] = S.DefinedSize, !0) : null != z[e.valueUnit] ? (o.minSize[t] = -1 / 0, o.maxSize[t] = 1 / 0, o.offset[t] = 0, o.factor[t] = 1 / z[e.valueUnit], o.type[t] = S.DefinedSize, !0) : \"unknown\" === e.valueUnit ? (M(n, \"Could not convert size info: proportional size not supported\"), !1) : (M(n, \"Could not convert size info: scale-dependent size not supported\"), !1);\n\n  if (!x(e.field)) {\n    if (e.stops && e.stops[0] && b(e.stops[0].size)) return o.minSize[t] = e.stops[0].size, o.maxSize[t] = e.stops[0].size, o.offset[t] = o.minSize[t], o.factor[t] = 0, o.type[t] = S.DefinedSize, !0;\n    if (b(r)) return o.minSize[t] = r, o.maxSize[t] = r, o.offset[t] = r, o.factor[t] = 0, o.type[t] = S.DefinedSize, !0;\n  }\n\n  return M(n, \"Could not convert size info: unsupported variant of sizeInfo\"), !1;\n}\n\nfunction T(e, o, t, i, n, r) {\n  const s = Math.abs(i - t) > 0 ? (o - e) / (i - t) : 0;\n  n.minSize[r] = s > 0 ? e : o, n.maxSize[r] = s > 0 ? o : e, n.offset[r] = e - t * s, n.factor[r] = s;\n}\n\nfunction U(e, o, t, i) {\n  if (e.normalizationField || e.valueRepresentation) return M(i, \"Could not convert size info: unsupported property\"), null;\n  if (!g(e.field)) return M(i, \"Could not convert size info: field is not a string\"), null;\n\n  if (o.size) {\n    if (e.field) if (o.size.field) {\n      if (e.field !== o.size.field) return M(i, \"Could not convert size info: multiple fields in use\"), null;\n    } else o.size.field = e.field;\n  } else o.size = {\n    field: e.field,\n    minSize: [0, 0, 0],\n    maxSize: [0, 0, 0],\n    offset: [0, 0, 0],\n    factor: [0, 0, 0],\n    type: [S.Undefined, S.Undefined, S.Undefined]\n  };\n\n  let n;\n\n  switch (e.axis) {\n    case \"width\":\n      return n = D(e, o.size, 0, t, i), n ? o : null;\n\n    case \"height\":\n      return n = D(e, o.size, 2, t, i), n ? o : null;\n\n    case \"depth\":\n      return n = D(e, o.size, 1, t, i), n ? o : null;\n\n    case \"width-and-depth\":\n      return n = D(e, o.size, 0, t, i), n && D(e, o.size, 1, t, i), n ? o : null;\n\n    case null:\n    case void 0:\n    case \"all\":\n      return n = D(e, o.size, 0, t, i), n = n && D(e, o.size, 1, t, i), n = n && D(e, o.size, 2, t, i), n ? o : null;\n\n    default:\n      return M(i, `Could not convert size info: unknown axis \"${e.axis}\"\"`), null;\n  }\n}\n\nfunction E(e, o, t) {\n  for (let n = 0; n < 3; ++n) {\n    let t = o.unitInMeters;\n    e.type[n] === S.DefinedSize && (t *= o.modelSize[n], e.type[n] = S.DefinedScale), e.minSize[n] = e.minSize[n] / t, e.maxSize[n] = e.maxSize[n] / t, e.offset[n] = e.offset[n] / t, e.factor[n] = e.factor[n] / t;\n  }\n\n  let i;\n  if (e.type[0] !== S.Undefined) i = 0;else if (e.type[1] !== S.Undefined) i = 1;else {\n    if (e.type[2] === S.Undefined) return M(t, \"No size axis contains a valid size or scale\"), !1;\n    i = 2;\n  }\n\n  for (let n = 0; n < 3; ++n) e.type[n] === S.Undefined && (e.minSize[n] = e.minSize[i], e.maxSize[n] = e.maxSize[i], e.offset[n] = e.offset[i], e.factor[n] = e.factor[i], e.type[n] = e.type[i]);\n\n  return !0;\n}\n\nfunction O(e, o, t) {\n  e[4 * o + 0] = t.r / 255, e[4 * o + 1] = t.g / 255, e[4 * o + 2] = t.b / 255, e[4 * o + 3] = t.a;\n}\n\nfunction j(e, o, t) {\n  if (e.normalizationField) return M(t, \"Could not convert color info: unsupported property\"), null;\n\n  if (C(e.field)) {\n    if (!e.stops) return M(t, \"Could not convert color info: missing stops or colors\"), null;\n    {\n      if (e.stops.length > 8) return M(t, \"Could not convert color info: too many color stops\"), null;\n      o.color = {\n        field: e.field,\n        values: [0, 0, 0, 0, 0, 0, 0, 0],\n        colors: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      };\n      const i = e.stops;\n\n      for (let e = 0; e < 8; ++e) {\n        const t = i[Math.min(e, i.length - 1)];\n        o.color.values[e] = t.value, O(o.color.colors, e, t.color);\n      }\n    }\n  } else {\n    if (!(e.stops && e.stops.length >= 0)) return M(t, \"Could not convert color info: no field and no colors/stops\"), null;\n    {\n      const t = e.stops && e.stops.length >= 0 && e.stops[0].color;\n      o.color = {\n        field: null,\n        values: [0, 0, 0, 0, 0, 0, 0, 0],\n        colors: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      };\n\n      for (let e = 0; e < 8; e++) o.color.values[e] = 1 / 0, O(o.color.colors, e, t);\n    }\n  }\n\n  return o;\n}\n\nfunction k(e, o, t) {\n  if (e.normalizationField) return M(t, \"Could not convert opacity info: unsupported property\"), null;\n\n  if (C(e.field)) {\n    if (!e.stops) return M(t, \"Could not convert opacity info: missing stops or opacities\"), null;\n    {\n      if (e.stops.length > 8) return M(t, \"Could not convert opacity info: too many opacity stops\"), null;\n      o.opacity = {\n        field: e.field,\n        values: [0, 0, 0, 0, 0, 0, 0, 0],\n        opacityValues: [0, 0, 0, 0, 0, 0, 0, 0]\n      };\n      const i = e.stops;\n\n      for (let e = 0; e < 8; ++e) {\n        const t = i[Math.min(e, i.length - 1)];\n        o.opacity.values[e] = t.value, o.opacity.opacityValues[e] = t.opacity;\n      }\n    }\n  } else {\n    if (!(e.stops && e.stops.length >= 0)) return M(t, \"Could not convert opacity info: no field and no opacities/stops\"), null;\n    {\n      const t = e.stops && e.stops.length >= 0 && e.stops[0].opacity;\n      o.opacity = {\n        field: null,\n        values: [0, 0, 0, 0, 0, 0, 0, 0],\n        opacityValues: [0, 0, 0, 0, 0, 0, 0, 0]\n      };\n\n      for (let e = 0; e < 8; e++) o.opacity.values[e] = 1 / 0, o.opacity.opacityValues[e] = t;\n    }\n  }\n\n  return o;\n}\n\nfunction w(e, o, t) {\n  const i = 2 === t && \"arithmetic\" === e.rotationType;\n  o.offset[t] = i ? 90 : 0, o.factor[t] = i ? -1 : 1, o.type[t] = 1;\n}\n\nfunction F(e, o, t) {\n  if (!C(e.field)) return M(t, \"Could not convert rotation info: field is not a string\"), null;\n\n  if (o.rotation) {\n    if (e.field) if (o.rotation.field) {\n      if (e.field !== o.rotation.field) return M(t, \"Could not convert rotation info: multiple fields in use\"), null;\n    } else o.rotation.field = e.field;\n  } else o.rotation = {\n    field: e.field,\n    offset: [0, 0, 0],\n    factor: [1, 1, 1],\n    type: [0, 0, 0]\n  };\n\n  switch (e.axis) {\n    case \"tilt\":\n      return w(e, o.rotation, 0), o;\n\n    case \"roll\":\n      return w(e, o.rotation, 1), o;\n\n    case null:\n    case void 0:\n    case \"heading\":\n      return w(e, o.rotation, 2), o;\n\n    default:\n      return M(t, `Could not convert rotation info: unknown axis \"${e.axis}\"\"`), null;\n  }\n}\n\nfunction A(e, o, t) {\n  if (!e) return null;\n  const i = !o.supportedTypes || !!o.supportedTypes.size,\n        n = !o.supportedTypes || !!o.supportedTypes.color,\n        r = !o.supportedTypes || !!o.supportedTypes.rotation,\n        s = !!o.supportedTypes && !!o.supportedTypes.opacity,\n        l = e.reduce((e, l) => {\n    if (!e) return e;\n    if (l.valueExpression) return M(t, \"Could not convert visual variables: arcade expressions not supported\"), null;\n\n    switch (l.type) {\n      case \"size\":\n        return i ? U(l, e, o, t) : e;\n\n      case \"color\":\n        return n ? j(l, e, t) : e;\n\n      case \"opacity\":\n        return s ? k(l, e, t) : null;\n\n      case \"rotation\":\n        return r ? F(l, e, t) : e;\n\n      default:\n        return null;\n    }\n  }, {\n    size: null,\n    color: null,\n    opacity: null,\n    rotation: null\n  });\n  return !(e.length > 0 && l) || l.size || l.color || l.opacity || l.rotation ? l && l.size && !E(l.size, o, t) ? null : l : null;\n}\n\nfunction I(e) {\n  return e && null != e.size;\n}\n\nfunction P(e, o) {\n  if (!e) return {\n    enabled: !1\n  };\n  if (m.TESTS_DISABLE_FAST_UPDATES) return {\n    enabled: !1\n  };\n  const t = A(e.visualVariables, o);\n  return t ? {\n    enabled: !0,\n    visualVariables: t,\n    materialParameters: q(t, o),\n    requiresShaderTransformation: I(t)\n  } : {\n    enabled: !1\n  };\n}\n\nfunction R(e, o, t) {\n  if (!o || !e.enabled) return !1;\n  const i = e.visualVariables,\n        n = A(o.visualVariables, t);\n  return !!n && !!(_(i.size, n.size, \"size\") && _(i.color, n.color, \"color\") && _(i.rotation, n.rotation, \"rotation\") && _(i.opacity, n.opacity, \"opacity\")) && (e.visualVariables = n, e.materialParameters = q(n, t), e.requiresShaderTransformation = I(n), !0);\n}\n\nfunction _(e, o, t) {\n  if (!!e != !!o) return !1;\n  if (e && e.field !== o.field) return !1;\n\n  if (e && \"rotation\" === t) {\n    const t = e,\n          i = o;\n\n    for (let e = 0; e < 3; e++) if (t.type[e] !== i.type[e] || t.offset[e] !== i.offset[e] || t.factor[e] !== i.factor[e]) return !1;\n  }\n\n  return !0;\n}\n\nfunction q(e, n) {\n  const r = {\n    vvSizeEnabled: !1,\n    vvSizeMinSize: null,\n    vvSizeMaxSize: null,\n    vvSizeOffset: null,\n    vvSizeFactor: null,\n    vvSizeValue: null,\n    vvColorEnabled: !1,\n    vvColorValues: null,\n    vvColorColors: null,\n    vvOpacityEnabled: !1,\n    vvOpacityValues: null,\n    vvOpacityOpacities: null,\n    vvSymbolAnchor: null,\n    vvSymbolRotationMatrix: null\n  },\n        s = I(e);\n  return e && e.size ? (r.vvSizeEnabled = !0, r.vvSizeMinSize = e.size.minSize, r.vvSizeMaxSize = e.size.maxSize, r.vvSizeOffset = e.size.offset, r.vvSizeFactor = e.size.factor) : e && s && (r.vvSizeValue = n.transformation.scale), e && s && (r.vvSymbolAnchor = n.transformation.anchor, r.vvSymbolRotationMatrix = t(), i($), V(n.transformation.rotation[2], n.transformation.rotation[0], n.transformation.rotation[1], $), o(r.vvSymbolRotationMatrix, $)), e && e.color && (r.vvColorEnabled = !0, r.vvColorValues = e.color.values, r.vvColorColors = e.color.colors), e && e.opacity && (r.vvOpacityEnabled = !0, r.vvOpacityValues = e.opacity.values, r.vvOpacityOpacities = e.opacity.opacityValues), r;\n}\n\n!function (e) {\n  e[e.Undefined = 0] = \"Undefined\", e[e.DefinedSize = 1] = \"DefinedSize\", e[e.DefinedScale = 2] = \"DefinedScale\";\n}(S || (S = {})), function (e) {\n  e[e.Undefined = 0] = \"Undefined\", e[e.DefinedAngle = 1] = \"DefinedAngle\";\n}(y || (y = {})), function (o) {\n  const t = p(),\n        i = v();\n\n  function u(o, u, f) {\n    if (!o.vvSizeEnabled) return f;\n    n(t, f);\n    const c = o.vvSymbolRotationMatrix;\n    r($, c[0], c[1], c[2], 0, c[3], c[4], c[5], 0, c[6], c[7], c[8], 0, 0, 0, 0, 1), s(t, t, $);\n\n    for (let t = 0; t < 3; ++t) {\n      const n = o.vvSizeOffset[t] + u[0] * o.vvSizeFactor[t];\n      i[t] = e(n, o.vvSizeMinSize[t], o.vvSizeMaxSize[t]);\n    }\n\n    return l(t, t, i), a(t, t, o.vvSymbolAnchor), t;\n  }\n\n  function f(o, t, i) {\n    if (!t.vvSizeEnabled) return d(o, 1, 1, 1);\n\n    for (let n = 0; n < 3; ++n) {\n      const r = t.vvSizeOffset[n] + i[0] * t.vvSizeFactor[n];\n      o[n] = e(r, t.vvSizeMinSize[n], t.vvSizeMaxSize[n]);\n    }\n\n    return o;\n  }\n\n  o.evaluateModelTransform = u, o.evaluateModelTransformScale = f;\n}(h || (h = {}));\nconst $ = p(),\n      B = h.evaluateModelTransform,\n      L = h.evaluateModelTransformScale;\nexport { y as FastRotationType, S as FastSizeType, A as convertVisualVariables, B as evaluateModelTransform, L as evaluateModelTransformScale, q as getMaterialParams, P as initFastSymbolUpdatesState, R as updateFastSymbolUpdatesState };","map":{"version":3,"names":["clamp","e","f","o","c","t","i","n","s","r","m","h","l","j","a","g","u","p","d","v","meterIn","z","S","y","x","b","C","M","push","V","Math","PI","D","minSize","maxSize","expression","useSymbolValue","symbolSize","offset","factor","type","DefinedSize","field","stops","length","size","T","value","minDataValue","maxDataValue","valueUnit","abs","U","normalizationField","valueRepresentation","Undefined","axis","E","unitInMeters","modelSize","DefinedScale","O","color","values","colors","min","k","opacity","opacityValues","w","rotationType","F","rotation","A","supportedTypes","reduce","valueExpression","I","P","enabled","TESTS_DISABLE_FAST_UPDATES","visualVariables","materialParameters","q","requiresShaderTransformation","R","_","vvSizeEnabled","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorEnabled","vvColorValues","vvColorColors","vvOpacityEnabled","vvOpacityValues","vvOpacityOpacities","vvSymbolAnchor","vvSymbolRotationMatrix","transformation","scale","anchor","$","DefinedAngle","evaluateModelTransform","evaluateModelTransformScale","B","L","FastRotationType","FastSizeType","convertVisualVariables","getMaterialParams","initFastSymbolUpdatesState","updateFastSymbolUpdatesState"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{f as o}from\"../../../../chunks/mat3.js\";import{c as t}from\"../../../../chunks/mat3f64.js\";import{i,c as n,s as r,m as s,h as l,j as a,g as u,r as f,o as c}from\"../../../../chunks/mat4.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{s as d}from\"../../../../chunks/vec3.js\";import{c as v}from\"../../../../chunks/vec3f64.js\";import{meterIn as z}from\"../../../../renderers/support/lengthUtils.js\";import m from\"../../support/debugFlags.js\";var S,y,h;function x(e){return null!=e}function b(e){return\"number\"==typeof e}function C(e){return\"string\"==typeof e}function g(e){return null==e||C(e)}function M(e,o){e&&e.push(o)}function V(e,o,t,i=p()){const n=e||0,r=o||0,s=t||0;return 0!==n&&u(i,i,-n/180*Math.PI),0!==r&&f(i,i,r/180*Math.PI),0!==s&&c(i,i,s/180*Math.PI),i}function D(e,o,t,i,n){const r=e.minSize,s=e.maxSize;if(e.expression)return M(n,\"Could not convert size info: expression not supported\"),!1;if(e.useSymbolValue){const e=i.symbolSize[t];return o.minSize[t]=e,o.maxSize[t]=e,o.offset[t]=o.minSize[t],o.factor[t]=0,o.type[t]=S.DefinedSize,!0}if(x(e.field))return x(e.stops)?2===e.stops.length&&b(e.stops[0].size)&&b(e.stops[1].size)?(T(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,o,t),o.type[t]=S.DefinedSize,!0):(M(n,\"Could not convert size info: stops only supported with 2 elements\"),!1):b(r)&&b(s)&&x(e.minDataValue)&&x(e.maxDataValue)?(T(r,s,e.minDataValue,e.maxDataValue,o,t),o.type[t]=S.DefinedSize,!0):null!=z[e.valueUnit]?(o.minSize[t]=-1/0,o.maxSize[t]=1/0,o.offset[t]=0,o.factor[t]=1/z[e.valueUnit],o.type[t]=S.DefinedSize,!0):\"unknown\"===e.valueUnit?(M(n,\"Could not convert size info: proportional size not supported\"),!1):(M(n,\"Could not convert size info: scale-dependent size not supported\"),!1);if(!x(e.field)){if(e.stops&&e.stops[0]&&b(e.stops[0].size))return o.minSize[t]=e.stops[0].size,o.maxSize[t]=e.stops[0].size,o.offset[t]=o.minSize[t],o.factor[t]=0,o.type[t]=S.DefinedSize,!0;if(b(r))return o.minSize[t]=r,o.maxSize[t]=r,o.offset[t]=r,o.factor[t]=0,o.type[t]=S.DefinedSize,!0}return M(n,\"Could not convert size info: unsupported variant of sizeInfo\"),!1}function T(e,o,t,i,n,r){const s=Math.abs(i-t)>0?(o-e)/(i-t):0;n.minSize[r]=s>0?e:o,n.maxSize[r]=s>0?o:e,n.offset[r]=e-t*s,n.factor[r]=s}function U(e,o,t,i){if(e.normalizationField||e.valueRepresentation)return M(i,\"Could not convert size info: unsupported property\"),null;if(!g(e.field))return M(i,\"Could not convert size info: field is not a string\"),null;if(o.size){if(e.field)if(o.size.field){if(e.field!==o.size.field)return M(i,\"Could not convert size info: multiple fields in use\"),null}else o.size.field=e.field}else o.size={field:e.field,minSize:[0,0,0],maxSize:[0,0,0],offset:[0,0,0],factor:[0,0,0],type:[S.Undefined,S.Undefined,S.Undefined]};let n;switch(e.axis){case\"width\":return n=D(e,o.size,0,t,i),n?o:null;case\"height\":return n=D(e,o.size,2,t,i),n?o:null;case\"depth\":return n=D(e,o.size,1,t,i),n?o:null;case\"width-and-depth\":return n=D(e,o.size,0,t,i),n&&D(e,o.size,1,t,i),n?o:null;case null:case void 0:case\"all\":return n=D(e,o.size,0,t,i),n=n&&D(e,o.size,1,t,i),n=n&&D(e,o.size,2,t,i),n?o:null;default:return M(i,`Could not convert size info: unknown axis \"${e.axis}\"\"`),null}}function E(e,o,t){for(let n=0;n<3;++n){let t=o.unitInMeters;e.type[n]===S.DefinedSize&&(t*=o.modelSize[n],e.type[n]=S.DefinedScale),e.minSize[n]=e.minSize[n]/t,e.maxSize[n]=e.maxSize[n]/t,e.offset[n]=e.offset[n]/t,e.factor[n]=e.factor[n]/t}let i;if(e.type[0]!==S.Undefined)i=0;else if(e.type[1]!==S.Undefined)i=1;else{if(e.type[2]===S.Undefined)return M(t,\"No size axis contains a valid size or scale\"),!1;i=2}for(let n=0;n<3;++n)e.type[n]===S.Undefined&&(e.minSize[n]=e.minSize[i],e.maxSize[n]=e.maxSize[i],e.offset[n]=e.offset[i],e.factor[n]=e.factor[i],e.type[n]=e.type[i]);return!0}function O(e,o,t){e[4*o+0]=t.r/255,e[4*o+1]=t.g/255,e[4*o+2]=t.b/255,e[4*o+3]=t.a}function j(e,o,t){if(e.normalizationField)return M(t,\"Could not convert color info: unsupported property\"),null;if(C(e.field)){if(!e.stops)return M(t,\"Could not convert color info: missing stops or colors\"),null;{if(e.stops.length>8)return M(t,\"Could not convert color info: too many color stops\"),null;o.color={field:e.field,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};const i=e.stops;for(let e=0;e<8;++e){const t=i[Math.min(e,i.length-1)];o.color.values[e]=t.value,O(o.color.colors,e,t.color)}}}else{if(!(e.stops&&e.stops.length>=0))return M(t,\"Could not convert color info: no field and no colors/stops\"),null;{const t=e.stops&&e.stops.length>=0&&e.stops[0].color;o.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)o.color.values[e]=1/0,O(o.color.colors,e,t)}}return o}function k(e,o,t){if(e.normalizationField)return M(t,\"Could not convert opacity info: unsupported property\"),null;if(C(e.field)){if(!e.stops)return M(t,\"Could not convert opacity info: missing stops or opacities\"),null;{if(e.stops.length>8)return M(t,\"Could not convert opacity info: too many opacity stops\"),null;o.opacity={field:e.field,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};const i=e.stops;for(let e=0;e<8;++e){const t=i[Math.min(e,i.length-1)];o.opacity.values[e]=t.value,o.opacity.opacityValues[e]=t.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return M(t,\"Could not convert opacity info: no field and no opacities/stops\"),null;{const t=e.stops&&e.stops.length>=0&&e.stops[0].opacity;o.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)o.opacity.values[e]=1/0,o.opacity.opacityValues[e]=t}}return o}function w(e,o,t){const i=2===t&&\"arithmetic\"===e.rotationType;o.offset[t]=i?90:0,o.factor[t]=i?-1:1,o.type[t]=1}function F(e,o,t){if(!C(e.field))return M(t,\"Could not convert rotation info: field is not a string\"),null;if(o.rotation){if(e.field)if(o.rotation.field){if(e.field!==o.rotation.field)return M(t,\"Could not convert rotation info: multiple fields in use\"),null}else o.rotation.field=e.field}else o.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case\"tilt\":return w(e,o.rotation,0),o;case\"roll\":return w(e,o.rotation,1),o;case null:case void 0:case\"heading\":return w(e,o.rotation,2),o;default:return M(t,`Could not convert rotation info: unknown axis \"${e.axis}\"\"`),null}}function A(e,o,t){if(!e)return null;const i=!o.supportedTypes||!!o.supportedTypes.size,n=!o.supportedTypes||!!o.supportedTypes.color,r=!o.supportedTypes||!!o.supportedTypes.rotation,s=!!o.supportedTypes&&!!o.supportedTypes.opacity,l=e.reduce(((e,l)=>{if(!e)return e;if(l.valueExpression)return M(t,\"Could not convert visual variables: arcade expressions not supported\"),null;switch(l.type){case\"size\":return i?U(l,e,o,t):e;case\"color\":return n?j(l,e,t):e;case\"opacity\":return s?k(l,e,t):null;case\"rotation\":return r?F(l,e,t):e;default:return null}}),{size:null,color:null,opacity:null,rotation:null});return!(e.length>0&&l)||l.size||l.color||l.opacity||l.rotation?l&&l.size&&!E(l.size,o,t)?null:l:null}function I(e){return e&&null!=e.size}function P(e,o){if(!e)return{enabled:!1};if(m.TESTS_DISABLE_FAST_UPDATES)return{enabled:!1};const t=A(e.visualVariables,o);return t?{enabled:!0,visualVariables:t,materialParameters:q(t,o),requiresShaderTransformation:I(t)}:{enabled:!1}}function R(e,o,t){if(!o||!e.enabled)return!1;const i=e.visualVariables,n=A(o.visualVariables,t);return!!n&&(!!(_(i.size,n.size,\"size\")&&_(i.color,n.color,\"color\")&&_(i.rotation,n.rotation,\"rotation\")&&_(i.opacity,n.opacity,\"opacity\"))&&(e.visualVariables=n,e.materialParameters=q(n,t),e.requiresShaderTransformation=I(n),!0))}function _(e,o,t){if(!!e!=!!o)return!1;if(e&&e.field!==o.field)return!1;if(e&&\"rotation\"===t){const t=e,i=o;for(let e=0;e<3;e++)if(t.type[e]!==i.type[e]||t.offset[e]!==i.offset[e]||t.factor[e]!==i.factor[e])return!1}return!0}function q(e,n){const r={vvSizeEnabled:!1,vvSizeMinSize:null,vvSizeMaxSize:null,vvSizeOffset:null,vvSizeFactor:null,vvSizeValue:null,vvColorEnabled:!1,vvColorValues:null,vvColorColors:null,vvOpacityEnabled:!1,vvOpacityValues:null,vvOpacityOpacities:null,vvSymbolAnchor:null,vvSymbolRotationMatrix:null},s=I(e);return e&&e.size?(r.vvSizeEnabled=!0,r.vvSizeMinSize=e.size.minSize,r.vvSizeMaxSize=e.size.maxSize,r.vvSizeOffset=e.size.offset,r.vvSizeFactor=e.size.factor):e&&s&&(r.vvSizeValue=n.transformation.scale),e&&s&&(r.vvSymbolAnchor=n.transformation.anchor,r.vvSymbolRotationMatrix=t(),i($),V(n.transformation.rotation[2],n.transformation.rotation[0],n.transformation.rotation[1],$),o(r.vvSymbolRotationMatrix,$)),e&&e.color&&(r.vvColorEnabled=!0,r.vvColorValues=e.color.values,r.vvColorColors=e.color.colors),e&&e.opacity&&(r.vvOpacityEnabled=!0,r.vvOpacityValues=e.opacity.values,r.vvOpacityOpacities=e.opacity.opacityValues),r}!function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedSize=1]=\"DefinedSize\",e[e.DefinedScale=2]=\"DefinedScale\"}(S||(S={})),function(e){e[e.Undefined=0]=\"Undefined\",e[e.DefinedAngle=1]=\"DefinedAngle\"}(y||(y={})),function(o){const t=p(),i=v();function u(o,u,f){if(!o.vvSizeEnabled)return f;n(t,f);const c=o.vvSymbolRotationMatrix;r($,c[0],c[1],c[2],0,c[3],c[4],c[5],0,c[6],c[7],c[8],0,0,0,0,1),s(t,t,$);for(let t=0;t<3;++t){const n=o.vvSizeOffset[t]+u[0]*o.vvSizeFactor[t];i[t]=e(n,o.vvSizeMinSize[t],o.vvSizeMaxSize[t])}return l(t,t,i),a(t,t,o.vvSymbolAnchor),t}function f(o,t,i){if(!t.vvSizeEnabled)return d(o,1,1,1);for(let n=0;n<3;++n){const r=t.vvSizeOffset[n]+i[0]*t.vvSizeFactor[n];o[n]=e(r,t.vvSizeMinSize[n],t.vvSizeMaxSize[n])}return o}o.evaluateModelTransform=u,o.evaluateModelTransformScale=f}(h||(h={}));const $=p(),B=h.evaluateModelTransform,L=h.evaluateModelTransformScale;export{y as FastRotationType,S as FastSizeType,A as convertVisualVariables,B as evaluateModelTransform,L as evaluateModelTransformScale,q as getMaterialParams,P as initFastSymbolUpdatesState,R as updateFastSymbolUpdatesState};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}