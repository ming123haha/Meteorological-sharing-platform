{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../request.js\";\nimport { isAbortError as t } from \"../../../../core/promiseUtils.js\";\nimport i from \"../../tiling/TileKey.js\";\n\nclass r {\n  constructor(e, t) {\n    this._tilemap = e, this._tileIndexUrl = t;\n  }\n\n  async fetchTileIndex(t) {\n    return this._tileIndexPromise || (this._tileIndexPromise = e(this._tileIndexUrl, {\n      query: { ...t?.query\n      }\n    }).then(e => e.data.index)), this._tileIndexPromise;\n  }\n\n  dataKey(e, r) {\n    const {\n      level: l,\n      row: s,\n      col: o\n    } = e,\n          n = new i(e);\n    return this._tilemap.fetchAvailabilityUpsample(l, s, o, n, r).then(() => (n.world = e.world, n)).catch(e => {\n      if (t(e)) throw e;\n      return null;\n    });\n  }\n\n}\n\nexport { r as default };","map":{"version":3,"names":["e","isAbortError","t","i","r","constructor","_tilemap","_tileIndexUrl","fetchTileIndex","_tileIndexPromise","query","then","data","index","dataKey","level","l","row","s","col","o","n","fetchAvailabilityUpsample","world","catch","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/TilemapRequest.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{isAbortError as t}from\"../../../../core/promiseUtils.js\";import i from\"../../tiling/TileKey.js\";class r{constructor(e,t){this._tilemap=e,this._tileIndexUrl=t}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=e(this._tileIndexUrl,{query:{...t?.query}}).then((e=>e.data.index))),this._tileIndexPromise}dataKey(e,r){const{level:l,row:s,col:o}=e,n=new i(e);return this._tilemap.fetchAvailabilityUpsample(l,s,o,n,r).then((()=>(n.world=e.world,n))).catch((e=>{if(t(e))throw e;return null}))}}export{r as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,wBAAb;AAAsC,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,kCAA7B;AAAgE,OAAOC,CAAP,MAAa,yBAAb;;AAAuC,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACL,CAAD,EAAGE,CAAH,EAAK;IAAC,KAAKI,QAAL,GAAcN,CAAd,EAAgB,KAAKO,aAAL,GAAmBL,CAAnC;EAAqC;;EAAoB,MAAdM,cAAc,CAACN,CAAD,EAAG;IAAC,OAAO,KAAKO,iBAAL,KAAyB,KAAKA,iBAAL,GAAuBT,CAAC,CAAC,KAAKO,aAAN,EAAoB;MAACG,KAAK,EAAC,EAAC,GAAGR,CAAC,EAAEQ;MAAP;IAAP,CAApB,CAAD,CAA4CC,IAA5C,CAAkDX,CAAC,IAAEA,CAAC,CAACY,IAAF,CAAOC,KAA5D,CAAhD,GAAqH,KAAKJ,iBAAjI;EAAmJ;;EAAAK,OAAO,CAACd,CAAD,EAAGI,CAAH,EAAK;IAAC,MAAK;MAACW,KAAK,EAACC,CAAP;MAASC,GAAG,EAACC,CAAb;MAAeC,GAAG,EAACC;IAAnB,IAAsBpB,CAA3B;IAAA,MAA6BqB,CAAC,GAAC,IAAIlB,CAAJ,CAAMH,CAAN,CAA/B;IAAwC,OAAO,KAAKM,QAAL,CAAcgB,yBAAd,CAAwCN,CAAxC,EAA0CE,CAA1C,EAA4CE,CAA5C,EAA8CC,CAA9C,EAAgDjB,CAAhD,EAAmDO,IAAnD,CAAyD,OAAKU,CAAC,CAACE,KAAF,GAAQvB,CAAC,CAACuB,KAAV,EAAgBF,CAArB,CAAzD,EAAmFG,KAAnF,CAA0FxB,CAAC,IAAE;MAAC,IAAGE,CAAC,CAACF,CAAD,CAAJ,EAAQ,MAAMA,CAAN;MAAQ,OAAO,IAAP;IAAY,CAA1H,CAAP;EAAoI;;AAA3Z;;AAA4Z,SAAOI,CAAC,IAAIqB,OAAZ"},"metadata":{},"sourceType":"module"}