{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { addProjViewLocalOrigin as e } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { FloatPassUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as r } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as t } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as o } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction a(a) {\n  const s = new t();\n  e(s, a);\n  const {\n    isAttributeDriven: d\n  } = a;\n  return s.attributes.add(o.POSITION, \"vec3\"), s.attributes.add(o.UV0, \"vec2\"), d && (s.attributes.add(o.FEATUREATTRIBUTE, \"float\"), s.varyings.add(\"attributeValue\", \"float\")), s.varyings.add(\"unitCirclePos\", \"vec2\"), s.vertex.uniforms.add(new i(\"radius\", ({\n    resolutionForScale: e,\n    searchRadius: i\n  }, {\n    camera: r,\n    screenToWorldRatio: t\n  }) => 2 * i * (0 === e ? 1 : e / t) * r.pixelRatio / r.fullViewport[2])), s.vertex.code.add(r`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${o.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${d ? r`attributeValue = ${o.FEATUREATTRIBUTE};` : \"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `), s.fragment.code.add(r`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${d ? r` * attributeValue` : \"\"};\n      gl_FragColor = vec4(density);\n    }\n  `), s;\n}\n\nconst s = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: a\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { s as H, a as b };","map":{"version":3,"names":["addProjViewLocalOrigin","e","FloatPassUniform","i","glsl","r","ShaderBuilder","t","VertexAttribute","o","a","s","isAttributeDriven","d","attributes","add","POSITION","UV0","FEATUREATTRIBUTE","varyings","vertex","uniforms","resolutionForScale","searchRadius","camera","screenToWorldRatio","pixelRatio","fullViewport","code","fragment","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","H","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as o}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function a(a){const s=new t;e(s,a);const{isAttributeDriven:d}=a;return s.attributes.add(o.POSITION,\"vec3\"),s.attributes.add(o.UV0,\"vec2\"),d&&(s.attributes.add(o.FEATUREATTRIBUTE,\"float\"),s.varyings.add(\"attributeValue\",\"float\")),s.varyings.add(\"unitCirclePos\",\"vec2\"),s.vertex.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:r,screenToWorldRatio:t})=>2*i*(0===e?1:e/t)*r.pixelRatio/r.fullViewport[2]))),s.vertex.code.add(r`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${o.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${d?r`attributeValue = ${o.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),s.fragment.code.add(r`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${d?r` * attributeValue`:\"\"};\n      gl_FragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{s as H,a as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,sBAAsB,IAAIC,CAAjC,QAAuC,+DAAvC;AAAuG,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,iEAAjC;AAAmG,SAAOC,IAAI,IAAIC,CAAf,QAAqB,2DAArB;AAAiF,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,8DAA9B;AAA6F,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,iDAAhC;;AAAkF,SAASC,CAAT,CAAWA,CAAX,EAAa;EAAC,MAAMC,CAAC,GAAC,IAAIJ,CAAJ,EAAR;EAAcN,CAAC,CAACU,CAAD,EAAGD,CAAH,CAAD;EAAO,MAAK;IAACE,iBAAiB,EAACC;EAAnB,IAAsBH,CAA3B;EAA6B,OAAOC,CAAC,CAACG,UAAF,CAAaC,GAAb,CAAiBN,CAAC,CAACO,QAAnB,EAA4B,MAA5B,GAAoCL,CAAC,CAACG,UAAF,CAAaC,GAAb,CAAiBN,CAAC,CAACQ,GAAnB,EAAuB,MAAvB,CAApC,EAAmEJ,CAAC,KAAGF,CAAC,CAACG,UAAF,CAAaC,GAAb,CAAiBN,CAAC,CAACS,gBAAnB,EAAoC,OAApC,GAA6CP,CAAC,CAACQ,QAAF,CAAWJ,GAAX,CAAe,gBAAf,EAAgC,OAAhC,CAAhD,CAApE,EAA8JJ,CAAC,CAACQ,QAAF,CAAWJ,GAAX,CAAe,eAAf,EAA+B,MAA/B,CAA9J,EAAqMJ,CAAC,CAACS,MAAF,CAASC,QAAT,CAAkBN,GAAlB,CAAsB,IAAIZ,CAAJ,CAAM,QAAN,EAAgB,CAAC;IAACmB,kBAAkB,EAACrB,CAApB;IAAsBsB,YAAY,EAACpB;EAAnC,CAAD,EAAuC;IAACqB,MAAM,EAACnB,CAAR;IAAUoB,kBAAkB,EAAClB;EAA7B,CAAvC,KAAyE,IAAEJ,CAAF,IAAK,MAAIF,CAAJ,GAAM,CAAN,GAAQA,CAAC,GAACM,CAAf,IAAkBF,CAAC,CAACqB,UAApB,GAA+BrB,CAAC,CAACsB,YAAF,CAAe,CAAf,CAAxH,CAAtB,CAArM,EAAwWhB,CAAC,CAACS,MAAF,CAASQ,IAAT,CAAcb,GAAd,CAAkBV,CAAE;AAC74B;AACA;AACA;AACA,2CAA2CI,CAAC,CAACO,QAAS;AACtD;AACA;AACA,QAAQH,CAAC,GAACR,CAAE,oBAAmBI,CAAC,CAACS,gBAAiB,GAAzC,GAA4C,EAAG;AACxD;AACA;AACA,GAVy3B,CAAxW,EAU5gBP,CAAC,CAACkB,QAAF,CAAWD,IAAX,CAAgBb,GAAhB,CAAoBV,CAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgFQ,CAAC,GAACR,CAAE,mBAAH,GAAsB,EAAG;AAC1G;AACA;AACA,GAXK,CAV4gB,EAqB5gBM,CArBqgB;AAqBngB;;AAAA,MAAMA,CAAC,GAACmB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,cAAP,CAAsB;EAACC,SAAS,EAAC,IAAX;EAAgBC,KAAK,EAACxB;AAAtB,CAAtB,EAA+CyB,MAAM,CAACC,WAAtD,EAAkE;EAACC,KAAK,EAAC;AAAP,CAAlE,CAAd,CAAR;AAA2G,SAAO1B,CAAC,IAAI2B,CAAZ,EAAc5B,CAAC,IAAI6B,CAAnB"},"metadata":{},"sourceType":"module"}