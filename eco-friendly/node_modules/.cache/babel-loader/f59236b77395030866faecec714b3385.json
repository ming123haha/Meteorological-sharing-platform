{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../chunks/tslib.es6.js\";\nimport e from \"./Accessor.js\";\nimport { assumeNonNull as i } from \"./maybe.js\";\nimport { createDeferred as r, createAbortError as t, isAbortError as o } from \"./promiseUtils.js\";\nimport { subclass as l } from \"./accessorSupport/decorators/subclass.js\";\nvar h;\n!function (s) {\n  s[s.PENDING = 0] = \"PENDING\", s[s.RESOLVED = 1] = \"RESOLVED\", s[s.REJECTED = 2] = \"REJECTED\";\n}(h || (h = {}));\n\nclass n {\n  constructor(s) {\n    this.instance = s, this._resolver = r(), this._status = h.PENDING, this._resolvingPromises = [], this._resolver.promise.then(() => {\n      this._status = h.RESOLVED, this._cleanUp();\n    }, () => {\n      this._status = h.REJECTED, this._cleanUp();\n    });\n  }\n\n  addResolvingPromise(s) {\n    this._resolvingPromises.push(s), this._tryResolve();\n  }\n\n  isResolved() {\n    return this._status === h.RESOLVED;\n  }\n\n  isRejected() {\n    return this._status === h.REJECTED;\n  }\n\n  isFulfilled() {\n    return this._status !== h.PENDING;\n  }\n\n  abort() {\n    this._resolver.reject(t());\n  }\n\n  when(s, e) {\n    return this._resolver.promise.then(s, e);\n  }\n\n  _cleanUp() {\n    this._allPromise = this._resolvingPromises = this._allPromise = null;\n  }\n\n  _tryResolve() {\n    if (this.isFulfilled()) return;\n    const s = r(),\n          e = [...this._resolvingPromises, i(s.promise)],\n          t = this._allPromise = Promise.all(e);\n    t.then(() => {\n      this.isFulfilled() || this._allPromise !== t || this._resolver.resolve(this.instance);\n    }, s => {\n      this.isFulfilled() || this._allPromise !== t || o(s) || this._resolver.reject(s);\n    }), s.resolve();\n  }\n\n}\n\nconst m = e => {\n  let i = class extends e {\n    constructor(...s) {\n      super(...s), this._promiseProps = new n(this), this.addResolvingPromise(Promise.resolve());\n    }\n\n    isResolved() {\n      return this._promiseProps.isResolved();\n    }\n\n    isRejected() {\n      return this._promiseProps.isRejected();\n    }\n\n    isFulfilled() {\n      return this._promiseProps.isFulfilled();\n    }\n\n    when(s, e) {\n      return new Promise((s, e) => {\n        this._promiseProps.when(s, e);\n      }).then(s, e);\n    }\n\n    catch(s) {\n      return this.when(null, s);\n    }\n\n    addResolvingPromise(s) {\n      s && !this._promiseProps.isFulfilled() && this._promiseProps.addResolvingPromise(\"_promiseProps\" in s ? s.when() : s);\n    }\n\n  };\n  return i = s([l(\"esri.core.Promise\")], i), i;\n};\n\nlet _ = class extends m(e) {};\n\n_ = s([l(\"esri.core.Promise\")], _);\nexport { _ as EsriPromise, m as EsriPromiseMixin };","map":{"version":3,"names":["_","s","e","assumeNonNull","i","createDeferred","r","createAbortError","t","isAbortError","o","subclass","l","h","PENDING","RESOLVED","REJECTED","n","constructor","instance","_resolver","_status","_resolvingPromises","promise","then","_cleanUp","addResolvingPromise","push","_tryResolve","isResolved","isRejected","isFulfilled","abort","reject","when","_allPromise","Promise","all","resolve","m","_promiseProps","catch","EsriPromise","EsriPromiseMixin"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/core/Promise.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import{assumeNonNull as i}from\"./maybe.js\";import{createDeferred as r,createAbortError as t,isAbortError as o}from\"./promiseUtils.js\";import{subclass as l}from\"./accessorSupport/decorators/subclass.js\";var h;!function(s){s[s.PENDING=0]=\"PENDING\",s[s.RESOLVED=1]=\"RESOLVED\",s[s.REJECTED=2]=\"REJECTED\"}(h||(h={}));class n{constructor(s){this.instance=s,this._resolver=r(),this._status=h.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=h.RESOLVED,this._cleanUp()}),(()=>{this._status=h.REJECTED,this._cleanUp()}))}addResolvingPromise(s){this._resolvingPromises.push(s),this._tryResolve()}isResolved(){return this._status===h.RESOLVED}isRejected(){return this._status===h.REJECTED}isFulfilled(){return this._status!==h.PENDING}abort(){this._resolver.reject(t())}when(s,e){return this._resolver.promise.then(s,e)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const s=r(),e=[...this._resolvingPromises,i(s.promise)],t=this._allPromise=Promise.all(e);t.then((()=>{this.isFulfilled()||this._allPromise!==t||this._resolver.resolve(this.instance)}),(s=>{this.isFulfilled()||this._allPromise!==t||o(s)||this._resolver.reject(s)})),s.resolve()}}const m=e=>{let i=class extends e{constructor(...s){super(...s),this._promiseProps=new n(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,e){return new Promise(((s,e)=>{this._promiseProps.when(s,e)})).then(s,e)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise(\"_promiseProps\"in s?s.when():s)}};return i=s([l(\"esri.core.Promise\")],i),i};let _=class extends(m(e)){};_=s([l(\"esri.core.Promise\")],_);export{_ as EsriPromise,m as EsriPromiseMixin};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}