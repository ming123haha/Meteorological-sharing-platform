{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from \"../../../../Color.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { get as r, mapOr as e, isSome as i } from \"../../../../core/maybe.js\";\nimport { pt2px as n } from \"../../../../core/screenUtils.js\";\nimport { Z as l } from \"../../../../chunks/vec4f64.js\";\nconst s = t.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\");\n\nclass a {\n  constructor(o) {\n    this.definition = o, this.key = JSON.stringify(o), this.haloSize = Math.round(o.halo.size), this.textStyle = this._colorToRGBA(o.color), this.haloStyle = this._colorToRGB(o.halo.color), this.backgroundStyle = 0 !== o.background.color[3] ? this._colorToRGBA(o.background.color) : null;\n  }\n\n  fontString(o) {\n    const t = this.definition.font;\n    return `${t.style} ${t.weight} ${o}px ${t.family}, sans-serif`;\n  }\n\n  _colorToRGB(o) {\n    return `rgb(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()})`;\n  }\n\n  _colorToRGBA(o) {\n    return `rgba(${o.slice(0, 3).map(o => Math.floor(255 * o)).toString()},${o[3]})`;\n  }\n\n  static async fromSymbol(t, c = 1) {\n    const g = r(t, \"material\", \"color\"),\n          f = e(g, l, o.toUnitRGBA),\n          d = e(t.size, 12, n),\n          h = t.lineHeight,\n          m = i(t.background) ? o.toUnitRGBA(t.background.color) : l,\n          u = {\n      family: e(t.font, \"sans-serif\", o => o.family),\n      decoration: e(t.font, \"none\", o => o.decoration),\n      weight: e(t.font, \"normal\", o => o.weight),\n      style: e(t.font, \"normal\", o => o.style)\n    },\n          b = t.halo,\n          y = i(b) && i(b.color) && b.size > 0 ? {\n      size: n(b.size),\n      color: o.toUnitRGBA(b.color)\n    } : {\n      size: 0,\n      color: l\n    },\n          p = new a({\n      color: f,\n      size: d,\n      background: {\n        color: m,\n        padding: i(t.background) ? [.65 * d, .5 * d] : [0, 0],\n        borderRadius: i(t.background) ? d * (6 / 16) : 0\n      },\n      lineSpacingFactor: h,\n      font: u,\n      halo: y,\n      pixelRatio: c\n    }),\n          S = p.fontString(d);\n\n    try {\n      await document.fonts.load(S);\n    } catch (R) {\n      s.warnOnce(`Failed to preload font '${S}'. Some text symbology may be rendered using the default browser font.`);\n    }\n\n    return p;\n  }\n\n}\n\nexport { a as TextRenderParameters };","map":{"version":3,"names":["o","t","get","r","mapOr","e","isSome","i","pt2px","n","Z","l","s","getLogger","a","constructor","definition","key","JSON","stringify","haloSize","Math","round","halo","size","textStyle","_colorToRGBA","color","haloStyle","_colorToRGB","backgroundStyle","background","fontString","font","style","weight","family","slice","map","floor","toString","fromSymbol","c","g","f","toUnitRGBA","d","h","lineHeight","m","u","decoration","b","y","p","padding","borderRadius","lineSpacingFactor","pixelRatio","S","document","fonts","load","R","warnOnce","TextRenderParameters"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import t from\"../../../../core/Logger.js\";import{get as r,mapOr as e,isSome as i}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import{Z as l}from\"../../../../chunks/vec4f64.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.TextRenderParameters\");class a{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=this._colorToRGBA(o.color),this.haloStyle=this._colorToRGB(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?this._colorToRGBA(o.background.color):null}fontString(o){const t=this.definition.font;return`${t.style} ${t.weight} ${o}px ${t.family}, sans-serif`}_colorToRGB(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}_colorToRGBA(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}static async fromSymbol(t,c=1){const g=r(t,\"material\",\"color\"),f=e(g,l,o.toUnitRGBA),d=e(t.size,12,n),h=t.lineHeight,m=i(t.background)?o.toUnitRGBA(t.background.color):l,u={family:e(t.font,\"sans-serif\",(o=>o.family)),decoration:e(t.font,\"none\",(o=>o.decoration)),weight:e(t.font,\"normal\",(o=>o.weight)),style:e(t.font,\"normal\",(o=>o.style))},b=t.halo,y=i(b)&&i(b.color)&&b.size>0?{size:n(b.size),color:o.toUnitRGBA(b.color)}:{size:0,color:l},p=new a({color:f,size:d,background:{color:m,padding:i(t.background)?[.65*d,.5*d]:[0,0],borderRadius:i(t.background)?d*(6/16):0},lineSpacingFactor:h,font:u,halo:y,pixelRatio:c}),S=p.fontString(d);try{await document.fonts.load(S)}catch(R){s.warnOnce(`Failed to preload font '${S}'. Some text symbology may be rendered using the default browser font.`)}return p}}export{a as TextRenderParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}