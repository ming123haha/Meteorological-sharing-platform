{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { PositionHint as r, indexOf as i } from \"../../../../core/arrayUtils.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { clamp as o } from \"../../../../core/mathUtils.js\";\nimport { isNone as n, isSome as a, unwrap as l } from \"../../../../core/maybe.js\";\nimport { whenOnce as c } from \"../../../../core/reactiveUtils.js\";\nimport { getUnitString as p } from \"../../../../core/unitUtils.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as g } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { t as d, a as f, s as y } from \"../../../../chunks/vec3.js\";\nimport { WhereClause as h } from \"../../../../core/sql/WhereClause.js\";\nimport { projectBoundingSphere as m, load as S, project as j, projectVectorToVector as w } from \"../../../../geometry/projection.js\";\nimport { create as E } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { fromValues as b, expandWithNestedArray as R, expand as F } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { earth as v } from \"../../../../geometry/support/Ellipsoid.js\";\nimport { project as _ } from \"../../../../geometry/support/webMercatorUtils.js\";\nimport I from \"../../../../layers/support/FeatureFilter.js\";\nimport { objectIdFilter as M, filterInPlace as k } from \"./I3SUtil.js\";\nimport T from \"../../../../geometry/SpatialReference.js\";\nconst D = s.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");\nlet C = class extends t {\n  constructor(e) {\n    super(e), this._projectionEngineLoaded = !1;\n  }\n\n  initialize() {\n    c(() => l(this.viewFilter)?.geometry || a(this.layerFilter)).then(() => this.loadAsyncModule(import(\"../../../../geometry/geometryEngine.js\").then(e => {\n      this.destroyed || (this._geometryEngine = e, this.applyFilters());\n    })));\n  }\n\n  get sortedObjectIds() {\n    if (n(this.viewFilter) || n(this.viewFilter.objectIds)) return null;\n    const e = new Float64Array(this.viewFilter.objectIds);\n    return e.sort(), e;\n  }\n\n  get parsedWhereClause() {\n    const e = a(this.viewFilter) ? this.viewFilter.where : null;\n    if (n(e) || !e) return null;\n\n    try {\n      return h.create(e, this.layerFieldsIndex);\n    } catch (t) {\n      D.error(`Failed to parse filter where clause: ${t}`);\n    }\n\n    return null;\n  }\n\n  addFilters(e, t, r, i) {\n    const s = this.sortedObjectIds;\n    a(s) && e.push(e => M(s, !0, e)), this.addSqlFilter(e, this.parsedWhereClause);\n    const o = this._layerMaskGeometries,\n          n = this._geometryEngine;\n\n    if (a(o) && a(this.layerFilter) && a(n)) {\n      const s = this.layerFilter.spatialRelationship;\n      e.push((e, a) => L(n, e, a, i, t, r, o, s));\n    }\n\n    const l = this._viewMaskGeometries;\n\n    if (a(l) && a(this.viewFilter) && a(n)) {\n      const s = this.viewFilter.spatialRelationship;\n      e.push((e, o) => L(n, e, o, i, t, r, l, s));\n    }\n  }\n\n  isMBSGeometryVisible(e, t, r) {\n    const i = this._layerMaskGeometries,\n          s = this._geometryEngine;\n\n    if (a(i) && a(this.layerFilter) && a(s)) {\n      const o = this.layerFilter.spatialRelationship,\n            n = i[0].spatialReference || t;\n      if (!m(e, r, W, n)) return D.warnOnce(\"SceneLayer.mask geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"), !0;\n      return B(s, W, i, n, o);\n    }\n\n    const o = this._viewMaskGeometries;\n\n    if (a(o) && a(this.viewFilter) && a(s)) {\n      const i = this.viewFilter.spatialRelationship,\n            n = o[0].spatialReference || t;\n      if (!m(e, r, W, n)) return D.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"), !0;\n      return B(s, W, o, n, i);\n    }\n\n    return !0;\n  }\n\n  get parsedGeometry() {\n    const e = this._viewMaskGeometries,\n          t = this._layerMaskGeometries;\n    return n(e) || n(t) ? e || t : t.concat(e);\n  }\n\n  get _layerMaskGeometries() {\n    const e = this.layerFilter;\n    return n(e) || n(this._geometryEngine) ? null : O(this._geometryEngine, e.geometry, e.spatialRelationship);\n  }\n\n  get _viewMaskGeometries() {\n    if (n(this.viewFilter) || n(this._geometryEngine)) return null;\n    const {\n      geometry: e\n    } = this.viewFilter;\n    if (n(e)) return null;\n    const {\n      distance: t,\n      units: r\n    } = this.viewFilter,\n          i = this.viewFilter.spatialRelationship,\n          s = \"mesh\" === e.type ? e.extent : e;\n    if (n(t) || 0 === t) return O(this._geometryEngine, s, i);\n    const o = r || p(s.spatialReference);\n\n    if (s.spatialReference.isWGS84) {\n      const e = this._geometryEngine.geodesicBuffer(s, t, o);\n\n      return O(this._geometryEngine, e, i);\n    }\n\n    const l = _(s, T.WGS84);\n\n    if (a(l)) {\n      const e = _(this._geometryEngine.geodesicBuffer(l, t, o), s.spatialReference);\n\n      return O(this._geometryEngine, e, i);\n    }\n\n    if (!this._projectionEngineLoaded && (this.loadAsyncModule(S().then(() => this._projectionEngineLoaded = !0)), !this._projectionEngineLoaded)) return null;\n    let c = null;\n\n    try {\n      c = j(s, T.WGS84);\n    } catch (u) {}\n\n    if (c) try {\n      c = j(this._geometryEngine.geodesicBuffer(c, t, o), s.spatialReference);\n    } catch (u) {\n      c = null;\n    }\n    return c || D.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${s.spatialReference.wkid}) to WGS84.`), O(this._geometryEngine, c, i);\n  }\n\n  static checkSupport(e) {\n    return !n(e) && (e.timeExtent ? (D.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"), !1) : !!A(e.spatialRelationship) || (D.warn(`Filters with spatialRelationship other than ${G.join(\", \")} are not supported for mesh scene layers`), !1));\n  }\n\n};\ne([u()], C.prototype, \"layerFilter\", void 0), e([u({\n  type: I\n})], C.prototype, \"viewFilter\", void 0), e([u()], C.prototype, \"layerFieldsIndex\", void 0), e([u()], C.prototype, \"loadAsyncModule\", void 0), e([u()], C.prototype, \"applyFilters\", void 0), e([u()], C.prototype, \"addSqlFilter\", void 0), e([u({\n  readOnly: !0\n})], C.prototype, \"sortedObjectIds\", null), e([u({\n  readOnly: !0\n})], C.prototype, \"parsedWhereClause\", null), e([u({\n  readOnly: !0\n})], C.prototype, \"parsedGeometry\", null), e([u({\n  readOnly: !0\n})], C.prototype, \"_layerMaskGeometries\", null), e([u({\n  readOnly: !0\n})], C.prototype, \"_viewMaskGeometries\", null), e([u()], C.prototype, \"_projectionEngineLoaded\", void 0), e([u()], C.prototype, \"_geometryEngine\", void 0), C = e([g(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")], C);\n\nconst G = (e => e)([\"contains\", \"intersects\", \"disjoint\"]);\n\nfunction A(e) {\n  return null != e && G.includes(e);\n}\n\nvar x;\n\nfunction O(e, t, s) {\n  if (n(t)) return null;\n\n  if (\"disjoint\" === s && \"polygon\" === t.type) {\n    const s = new Array(t.rings.length);\n\n    for (let e = 0; e < t.rings.length; ++e) {\n      const r = b(1 / 0, 1 / 0, -1 / 0, -1 / 0);\n      R(r, t.rings[e]), s[e] = {\n        type: \"polygon\",\n        rings: [t.rings[e]],\n        spatialReference: t.spatialReference,\n        aabr: r\n      };\n    }\n\n    s.sort((e, t) => e.aabr[0] - t.aabr[0]);\n    const o = new Set(),\n          n = new r();\n\n    for (let t = 0; t < s.length; ++t) {\n      const r = s[t];\n\n      for (let e = t + 1; e < s.length; ++e) {\n        const t = s[e];\n        if (t.aabr[0] >= r.aabr[2]) break;\n        o.add(t);\n      }\n\n      o.forEach(t => {\n        if (r !== t) if (t.aabr[2] <= r.aabr[0]) o.delete(t);else if (e.intersects(r, t)) {\n          r.rings = r.rings.concat(t.rings), F(r.aabr, t.aabr, r.aabr), delete r._geVersion, o.delete(t);\n          const e = i(s, t, s.length, n);\n          s.splice(e, 1);\n        }\n      }), o.add(r);\n    }\n\n    for (const e of s) delete e.aabr;\n\n    return s;\n  }\n\n  return [t];\n}\n\nfunction B(e, t, r, i, s) {\n  const o = K(e, t, i);\n  return r.every(t => V(e, t, o, s) !== x.DISCARD);\n}\n\nfunction L(e, t, r, i, s, o, n, a) {\n  const l = n[0].spatialReference || s.spatialReference;\n  if (!m(r.node.mbs, o, W, l)) return void D.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");\n  const c = K(e, W, l),\n        p = P(a, s, l, i, r.objectHandle);\n\n  for (const u of n) {\n    if (0 === t.length) return;\n\n    switch (V(e, u, c, a)) {\n      case x.DISCARD:\n        return void (t.length = 0);\n\n      case x.KEEP:\n        continue;\n    }\n\n    k(t, r.featureIds, t => Z(e, u, t, p));\n  }\n}\n\n!function (e) {\n  e[e.KEEP = 0] = \"KEEP\", e[e.DISCARD = 1] = \"DISCARD\", e[e.TEST = 2] = \"TEST\";\n}(x || (x = {}));\nconst W = [0, 0, 0, 0];\n\nfunction P(e, t, r, i, s) {\n  const o = t.renderSpatialReference,\n        n = new Map(),\n        a = {\n    rings: [[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]],\n    hasZ: !1,\n    hasM: !1,\n    type: \"polygon\",\n    spatialReference: r\n  };\n  a.rings[0][3] = a.rings[0][0];\n  const l = {\n    indices: null,\n    data: null,\n    stride: 0,\n    startIndex: 0,\n    endIndex: 0\n  };\n  let c, p;\n\n  switch (e) {\n    case \"intersects\":\n      c = (e, t, r) => e.intersects(t, r) ? x.KEEP : x.TEST, p = U;\n      break;\n\n    case \"contains\":\n      c = (e, t, r) => e.contains(t, r) ? x.TEST : x.DISCARD, p = U;\n      break;\n\n    default:\n      c = (e, t, r) => e.disjoint(t, r) ? x.TEST : x.DISCARD, p = q;\n  }\n\n  return {\n    collection: i,\n    object: s,\n    type: e,\n    maskSR: r,\n    renderSR: o,\n    aabbCache: n,\n    triangle: a,\n    positions: l,\n    triangleTest: c,\n    geometryTest: p\n  };\n}\n\nfunction K(e, t, r) {\n  const i = {\n    x: t[0],\n    y: t[1],\n    hasZ: !1,\n    hasM: !1,\n    type: \"point\",\n    spatialReference: r\n  },\n        s = !r.isWGS84 && !r.isWebMercator,\n        n = Number.isNaN(t[3]) ? 0 : o(t[3], 0, 2 * v.radius),\n        a = s ? e.buffer(i, n, 1) : e.geodesicBuffer(i, n, 1);\n  return a.type = \"polygon\", a;\n}\n\nfunction V(e, t, r, i) {\n  switch (i) {\n    case \"intersects\":\n    case \"contains\":\n      return U(e, t, r);\n\n    case \"disjoint\":\n      return q(e, t, r);\n  }\n}\n\nfunction U(e, t, r) {\n  return e.intersects(t, r) ? e.contains(t, r) ? x.KEEP : x.TEST : x.DISCARD;\n}\n\nfunction q(e, t, r) {\n  return e.intersects(t, r) ? e.contains(t, r) ? x.DISCARD : x.TEST : x.KEEP;\n}\n\nconst N = 2 ** -32;\n\nfunction Z(e, t, r, i) {\n  const {\n    collection: s,\n    object: o,\n    renderSR: n,\n    maskSR: a,\n    geometryTest: l,\n    aabbCache: c\n  } = i;\n  let p = c.get(r);\n\n  if (!p) {\n    const e = s.getObjectTransform(o);\n    s.getComponentAabb(o, r, $);\n    const t = [[$[0], $[1], 0], [$[0], $[4], 0], [$[3], $[4], 0], [$[3], $[1], 0]];\n\n    for (let r = 0; r < 4; ++r) d(t[r], t[r], e.rotationScale), f(t[r], t[r], e.position), w(t[r], n, t[r], a);\n\n    p = {\n      rings: [t],\n      hasZ: !1,\n      hasM: !1,\n      type: \"polygon\",\n      spatialReference: a\n    }, p.rings[0][4] = p.rings[0][0], c.set(r, p);\n  }\n\n  switch (l(e, t, p)) {\n    case x.DISCARD:\n      return !1;\n\n    case x.KEEP:\n      return !0;\n  }\n\n  const {\n    triangle: u,\n    triangleTest: g,\n    positions: h\n  } = i,\n        m = u.rings[0][0],\n        S = u.rings[0][1],\n        j = u.rings[0][2],\n        E = s.getObjectTransform(o);\n  s.getComponentPositions(o, r, h);\n  const {\n    indices: b,\n    data: R,\n    stride: F,\n    startIndex: v,\n    endIndex: _\n  } = h;\n\n  for (let I = v; I < _; I += 3) {\n    const r = F * b[I + 0],\n          i = F * b[I + 1],\n          s = F * b[I + 2];\n    y(m, R[r + 0], R[r + 1], R[r + 2]), y(S, R[i + 0], R[i + 1], R[i + 2]), y(j, R[s + 0], R[s + 1], R[s + 2]), d(m, m, E.rotationScale), d(S, S, E.rotationScale), d(j, j, E.rotationScale), f(m, m, E.position), f(S, S, E.position), f(j, j, E.position), w(m, n, m, a), w(S, n, S, a), w(j, n, j, a);\n    const o = S[0] - m[0],\n          l = S[1] - m[1],\n          c = j[0] - m[0],\n          p = j[1] - m[1];\n    if (!(Math.abs(o * p - l * c) < N)) switch (delete u._geVersion, g(e, t, u)) {\n      case x.DISCARD:\n        return !1;\n\n      case x.KEEP:\n        return !0;\n    }\n  }\n\n  return \"intersects\" !== i.type;\n}\n\nconst $ = E();\nexport { C as I3SMeshViewFilter };","map":{"version":3,"names":["_","e","t","PositionHint","r","indexOf","i","s","clamp","o","isNone","n","isSome","a","unwrap","l","whenOnce","c","getUnitString","p","property","u","subclass","g","d","f","y","WhereClause","h","projectBoundingSphere","m","load","S","project","j","projectVectorToVector","w","create","E","fromValues","b","expandWithNestedArray","R","expand","F","earth","v","I","objectIdFilter","M","filterInPlace","k","T","D","getLogger","C","constructor","_projectionEngineLoaded","initialize","viewFilter","geometry","layerFilter","then","loadAsyncModule","destroyed","_geometryEngine","applyFilters","sortedObjectIds","objectIds","Float64Array","sort","parsedWhereClause","where","layerFieldsIndex","error","addFilters","push","addSqlFilter","_layerMaskGeometries","spatialRelationship","L","_viewMaskGeometries","isMBSGeometryVisible","spatialReference","W","warnOnce","B","parsedGeometry","concat","O","distance","units","type","extent","isWGS84","geodesicBuffer","WGS84","wkid","checkSupport","timeExtent","warn","A","G","join","prototype","readOnly","includes","x","Array","rings","length","aabr","Set","add","forEach","delete","intersects","_geVersion","splice","K","every","V","DISCARD","node","mbs","P","objectHandle","KEEP","featureIds","Z","TEST","renderSpatialReference","Map","hasZ","hasM","indices","data","stride","startIndex","endIndex","U","contains","disjoint","q","collection","object","maskSR","renderSR","aabbCache","triangle","positions","triangleTest","geometryTest","isWebMercator","Number","isNaN","radius","buffer","N","get","getObjectTransform","getComponentAabb","$","rotationScale","position","set","getComponentPositions","Math","abs","I3SMeshViewFilter"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{PositionHint as r,indexOf as i}from\"../../../../core/arrayUtils.js\";import s from\"../../../../core/Logger.js\";import{clamp as o}from\"../../../../core/mathUtils.js\";import{isNone as n,isSome as a,unwrap as l}from\"../../../../core/maybe.js\";import{whenOnce as c}from\"../../../../core/reactiveUtils.js\";import{getUnitString as p}from\"../../../../core/unitUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as d,a as f,s as y}from\"../../../../chunks/vec3.js\";import{WhereClause as h}from\"../../../../core/sql/WhereClause.js\";import{projectBoundingSphere as m,load as S,project as j,projectVectorToVector as w}from\"../../../../geometry/projection.js\";import{create as E}from\"../../../../geometry/support/aaBoundingBox.js\";import{fromValues as b,expandWithNestedArray as R,expand as F}from\"../../../../geometry/support/aaBoundingRect.js\";import{earth as v}from\"../../../../geometry/support/Ellipsoid.js\";import{project as _}from\"../../../../geometry/support/webMercatorUtils.js\";import I from\"../../../../layers/support/FeatureFilter.js\";import{objectIdFilter as M,filterInPlace as k}from\"./I3SUtil.js\";import T from\"../../../../geometry/SpatialReference.js\";const D=s.getLogger(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\");let C=class extends t{constructor(e){super(e),this._projectionEngineLoaded=!1}initialize(){c((()=>l(this.viewFilter)?.geometry||a(this.layerFilter))).then((()=>this.loadAsyncModule(import(\"../../../../geometry/geometryEngine.js\").then((e=>{this.destroyed||(this._geometryEngine=e,this.applyFilters())})))))}get sortedObjectIds(){if(n(this.viewFilter)||n(this.viewFilter.objectIds))return null;const e=new Float64Array(this.viewFilter.objectIds);return e.sort(),e}get parsedWhereClause(){const e=a(this.viewFilter)?this.viewFilter.where:null;if(n(e)||!e)return null;try{return h.create(e,this.layerFieldsIndex)}catch(t){D.error(`Failed to parse filter where clause: ${t}`)}return null}addFilters(e,t,r,i){const s=this.sortedObjectIds;a(s)&&e.push((e=>M(s,!0,e))),this.addSqlFilter(e,this.parsedWhereClause);const o=this._layerMaskGeometries,n=this._geometryEngine;if(a(o)&&a(this.layerFilter)&&a(n)){const s=this.layerFilter.spatialRelationship;e.push(((e,a)=>L(n,e,a,i,t,r,o,s)))}const l=this._viewMaskGeometries;if(a(l)&&a(this.viewFilter)&&a(n)){const s=this.viewFilter.spatialRelationship;e.push(((e,o)=>L(n,e,o,i,t,r,l,s)))}}isMBSGeometryVisible(e,t,r){const i=this._layerMaskGeometries,s=this._geometryEngine;if(a(i)&&a(this.layerFilter)&&a(s)){const o=this.layerFilter.spatialRelationship,n=i[0].spatialReference||t;if(!m(e,r,W,n))return D.warnOnce(\"SceneLayer.mask geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return B(s,W,i,n,o)}const o=this._viewMaskGeometries;if(a(o)&&a(this.viewFilter)&&a(s)){const i=this.viewFilter.spatialRelationship,n=o[0].spatialReference||t;if(!m(e,r,W,n))return D.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"),!0;return B(s,W,o,n,i)}return!0}get parsedGeometry(){const e=this._viewMaskGeometries,t=this._layerMaskGeometries;return n(e)||n(t)?e||t:t.concat(e)}get _layerMaskGeometries(){const e=this.layerFilter;return n(e)||n(this._geometryEngine)?null:O(this._geometryEngine,e.geometry,e.spatialRelationship)}get _viewMaskGeometries(){if(n(this.viewFilter)||n(this._geometryEngine))return null;const{geometry:e}=this.viewFilter;if(n(e))return null;const{distance:t,units:r}=this.viewFilter,i=this.viewFilter.spatialRelationship,s=\"mesh\"===e.type?e.extent:e;if(n(t)||0===t)return O(this._geometryEngine,s,i);const o=r||p(s.spatialReference);if(s.spatialReference.isWGS84){const e=this._geometryEngine.geodesicBuffer(s,t,o);return O(this._geometryEngine,e,i)}const l=_(s,T.WGS84);if(a(l)){const e=_(this._geometryEngine.geodesicBuffer(l,t,o),s.spatialReference);return O(this._geometryEngine,e,i)}if(!this._projectionEngineLoaded&&(this.loadAsyncModule(S().then((()=>this._projectionEngineLoaded=!0))),!this._projectionEngineLoaded))return null;let c=null;try{c=j(s,T.WGS84)}catch(u){}if(c)try{c=j(this._geometryEngine.geodesicBuffer(c,t,o),s.spatialReference)}catch(u){c=null}return c||D.error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${s.spatialReference.wkid}) to WGS84.`),O(this._geometryEngine,c,i)}static checkSupport(e){return!n(e)&&(e.timeExtent?(D.warn(\"Filters with a timeExtent are not supported for mesh scene layers\"),!1):!!A(e.spatialRelationship)||(D.warn(`Filters with spatialRelationship other than ${G.join(\", \")} are not supported for mesh scene layers`),!1))}};e([u()],C.prototype,\"layerFilter\",void 0),e([u({type:I})],C.prototype,\"viewFilter\",void 0),e([u()],C.prototype,\"layerFieldsIndex\",void 0),e([u()],C.prototype,\"loadAsyncModule\",void 0),e([u()],C.prototype,\"applyFilters\",void 0),e([u()],C.prototype,\"addSqlFilter\",void 0),e([u({readOnly:!0})],C.prototype,\"sortedObjectIds\",null),e([u({readOnly:!0})],C.prototype,\"parsedWhereClause\",null),e([u({readOnly:!0})],C.prototype,\"parsedGeometry\",null),e([u({readOnly:!0})],C.prototype,\"_layerMaskGeometries\",null),e([u({readOnly:!0})],C.prototype,\"_viewMaskGeometries\",null),e([u()],C.prototype,\"_projectionEngineLoaded\",void 0),e([u()],C.prototype,\"_geometryEngine\",void 0),C=e([g(\"esri.views.3d.layers.i3s.I3SMeshViewFilter\")],C);const G=(e=>e)([\"contains\",\"intersects\",\"disjoint\"]);function A(e){return null!=e&&G.includes(e)}var x;function O(e,t,s){if(n(t))return null;if(\"disjoint\"===s&&\"polygon\"===t.type){const s=new Array(t.rings.length);for(let e=0;e<t.rings.length;++e){const r=b(1/0,1/0,-1/0,-1/0);R(r,t.rings[e]),s[e]={type:\"polygon\",rings:[t.rings[e]],spatialReference:t.spatialReference,aabr:r}}s.sort(((e,t)=>e.aabr[0]-t.aabr[0]));const o=new Set,n=new r;for(let t=0;t<s.length;++t){const r=s[t];for(let e=t+1;e<s.length;++e){const t=s[e];if(t.aabr[0]>=r.aabr[2])break;o.add(t)}o.forEach((t=>{if(r!==t)if(t.aabr[2]<=r.aabr[0])o.delete(t);else if(e.intersects(r,t)){r.rings=r.rings.concat(t.rings),F(r.aabr,t.aabr,r.aabr),delete r._geVersion,o.delete(t);const e=i(s,t,s.length,n);s.splice(e,1)}})),o.add(r)}for(const e of s)delete e.aabr;return s}return[t]}function B(e,t,r,i,s){const o=K(e,t,i);return r.every((t=>V(e,t,o,s)!==x.DISCARD))}function L(e,t,r,i,s,o,n,a){const l=n[0].spatialReference||s.spatialReference;if(!m(r.node.mbs,o,W,l))return void D.warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");const c=K(e,W,l),p=P(a,s,l,i,r.objectHandle);for(const u of n){if(0===t.length)return;switch(V(e,u,c,a)){case x.DISCARD:return void(t.length=0);case x.KEEP:continue}k(t,r.featureIds,(t=>Z(e,u,t,p)))}}!function(e){e[e.KEEP=0]=\"KEEP\",e[e.DISCARD=1]=\"DISCARD\",e[e.TEST=2]=\"TEST\"}(x||(x={}));const W=[0,0,0,0];function P(e,t,r,i,s){const o=t.renderSpatialReference,n=new Map,a={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:r};a.rings[0][3]=a.rings[0][0];const l={indices:null,data:null,stride:0,startIndex:0,endIndex:0};let c,p;switch(e){case\"intersects\":c=(e,t,r)=>e.intersects(t,r)?x.KEEP:x.TEST,p=U;break;case\"contains\":c=(e,t,r)=>e.contains(t,r)?x.TEST:x.DISCARD,p=U;break;default:c=(e,t,r)=>e.disjoint(t,r)?x.TEST:x.DISCARD,p=q}return{collection:i,object:s,type:e,maskSR:r,renderSR:o,aabbCache:n,triangle:a,positions:l,triangleTest:c,geometryTest:p}}function K(e,t,r){const i={x:t[0],y:t[1],hasZ:!1,hasM:!1,type:\"point\",spatialReference:r},s=!r.isWGS84&&!r.isWebMercator,n=Number.isNaN(t[3])?0:o(t[3],0,2*v.radius),a=s?e.buffer(i,n,1):e.geodesicBuffer(i,n,1);return a.type=\"polygon\",a}function V(e,t,r,i){switch(i){case\"intersects\":case\"contains\":return U(e,t,r);case\"disjoint\":return q(e,t,r)}}function U(e,t,r){return e.intersects(t,r)?e.contains(t,r)?x.KEEP:x.TEST:x.DISCARD}function q(e,t,r){return e.intersects(t,r)?e.contains(t,r)?x.DISCARD:x.TEST:x.KEEP}const N=2**-32;function Z(e,t,r,i){const{collection:s,object:o,renderSR:n,maskSR:a,geometryTest:l,aabbCache:c}=i;let p=c.get(r);if(!p){const e=s.getObjectTransform(o);s.getComponentAabb(o,r,$);const t=[[$[0],$[1],0],[$[0],$[4],0],[$[3],$[4],0],[$[3],$[1],0]];for(let r=0;r<4;++r)d(t[r],t[r],e.rotationScale),f(t[r],t[r],e.position),w(t[r],n,t[r],a);p={rings:[t],hasZ:!1,hasM:!1,type:\"polygon\",spatialReference:a},p.rings[0][4]=p.rings[0][0],c.set(r,p)}switch(l(e,t,p)){case x.DISCARD:return!1;case x.KEEP:return!0}const{triangle:u,triangleTest:g,positions:h}=i,m=u.rings[0][0],S=u.rings[0][1],j=u.rings[0][2],E=s.getObjectTransform(o);s.getComponentPositions(o,r,h);const{indices:b,data:R,stride:F,startIndex:v,endIndex:_}=h;for(let I=v;I<_;I+=3){const r=F*b[I+0],i=F*b[I+1],s=F*b[I+2];y(m,R[r+0],R[r+1],R[r+2]),y(S,R[i+0],R[i+1],R[i+2]),y(j,R[s+0],R[s+1],R[s+2]),d(m,m,E.rotationScale),d(S,S,E.rotationScale),d(j,j,E.rotationScale),f(m,m,E.position),f(S,S,E.position),f(j,j,E.position),w(m,n,m,a),w(S,n,S,a),w(j,n,j,a);const o=S[0]-m[0],l=S[1]-m[1],c=j[0]-m[0],p=j[1]-m[1];if(!(Math.abs(o*p-l*c)<N))switch(delete u._geVersion,g(e,t,u)){case x.DISCARD:return!1;case x.KEEP:return!0}}return\"intersects\"!==i.type}const $=E();export{C as I3SMeshViewFilter};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}