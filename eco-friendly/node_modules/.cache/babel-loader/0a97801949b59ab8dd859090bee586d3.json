{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.regexp.flags.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../Graphic.js\";\nimport { isNone as e, isSome as r } from \"../../core/maybe.js\";\nimport o from \"../../geometry/Extent.js\";\nimport s from \"../../geometry/Mesh.js\";\nimport n from \"../../geometry/Point.js\";\nimport { fromAxisAndAngle as a } from \"../../geometry/support/axisAngleDegrees.js\";\nimport i from \"../../geometry/support/MeshTransform.js\";\nimport u from \"./FeatureSet.js\";\n\nfunction l(o, s, n) {\n  const a = n.features;\n  n.features = [], delete n.geometryType;\n  const i = u.fromJSON(n);\n  if (i.geometryType = \"mesh\", !n.assetMaps) return i;\n  const l = E(s, n.assetMaps),\n        m = i.spatialReference,\n        p = n.globalIdFieldName,\n        g = e(o.outFields) || !o.outFields.length ? () => ({}) : c(o.outFields.includes(\"*\") ? null : new Set(o.outFields));\n\n  for (const e of a) {\n    const o = f(e, p, m, s, l);\n    r(o) && i.features.push(new t({\n      geometry: o,\n      attributes: g(e)\n    }));\n  }\n\n  return i;\n}\n\nfunction c(t) {\n  return ({\n    attributes: e\n  }) => {\n    if (!e) return {};\n    if (!t) return e;\n\n    for (const r in e) t.has(r) || delete e[r];\n\n    return e;\n  };\n}\n\nfunction f(t, e, r, n, a) {\n  const i = t.attributes[e],\n        u = a.get(i);\n  if (null == u || u.status === g.FAILED || null == u.url) return null;\n  const l = m(t, r, n),\n        c = o.fromJSON(t.geometry);\n  c.spatialReference = r;\n  const f = p(t.attributes, n, u.geographic);\n  return u.status === g.PENDING ? s.createIncomplete(l, {\n    extent: c,\n    transform: f\n  }) : s.createWithExternalSource(l, [{\n    name: u.name,\n    source: u.url\n  }], {\n    extent: c,\n    transform: f\n  });\n}\n\nfunction m({\n  attributes: t\n}, e, {\n  transformFieldRoles: r\n}) {\n  return new n({\n    x: t[r.originX],\n    y: t[r.originY],\n    z: t[r.originZ],\n    spatialReference: e\n  });\n}\n\nfunction p(t, {\n  transformFieldRoles: e\n}, r) {\n  return new i({\n    translation: [t[e.translationX], t[e.translationY], t[e.translationZ]],\n    rotation: a([t[e.rotationX], t[e.rotationY], t[e.rotationZ]], t[e.rotationDeg]),\n    scale: [t[e.scaleX], t[e.scaleY], t[e.scaleZ]],\n    geographic: r\n  });\n}\n\nvar g;\n\nfunction E(t, e) {\n  const r = new Map();\n\n  for (const o of e) {\n    const t = o.parentGlobalId;\n    if (null == t) continue;\n    const e = o.assetName,\n          s = o.assetURL,\n          n = o.conversionStatus;\n    let a = r.get(t);\n    if (null != a) throw new Error(\"multiple asset parts not expected.\");\n\n    switch (a = {\n      name: e,\n      status: g.FAILED,\n      url: s,\n      geographic: D(o.flags).projectVertices\n    }, r.set(t, a), n) {\n      case \"COMPLETED\":\n      case \"SUBMITTED\":\n        a.status = g.COMPLETED;\n        break;\n\n      case \"INPROGRESS\":\n        a.status = g.PENDING;\n        break;\n\n      default:\n        a.status = g.FAILED;\n    }\n  }\n\n  return r;\n}\n\nfunction D(t) {\n  return {\n    projectVertices: t.includes(\"PROJECT_VERTICES\")\n  };\n}\n\n!function (t) {\n  t[t.FAILED = 0] = \"FAILED\", t[t.PENDING = 1] = \"PENDING\", t[t.COMPLETED = 2] = \"COMPLETED\";\n}(g || (g = {}));\nexport { l as meshFeatureSetFromJSON };","map":{"version":3,"names":["t","isNone","e","isSome","r","o","s","n","fromAxisAndAngle","a","i","u","l","features","geometryType","fromJSON","assetMaps","E","m","spatialReference","p","globalIdFieldName","g","outFields","length","c","includes","Set","f","push","geometry","attributes","has","get","status","FAILED","url","geographic","PENDING","createIncomplete","extent","transform","createWithExternalSource","name","source","transformFieldRoles","x","originX","y","originY","z","originZ","translation","translationX","translationY","translationZ","rotation","rotationX","rotationY","rotationZ","rotationDeg","scale","scaleX","scaleY","scaleZ","Map","parentGlobalId","assetName","assetURL","conversionStatus","Error","D","flags","projectVertices","set","COMPLETED","meshFeatureSetFromJSON"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import{isNone as e,isSome as r}from\"../../core/maybe.js\";import o from\"../../geometry/Extent.js\";import s from\"../../geometry/Mesh.js\";import n from\"../../geometry/Point.js\";import{fromAxisAndAngle as a}from\"../../geometry/support/axisAngleDegrees.js\";import i from\"../../geometry/support/MeshTransform.js\";import u from\"./FeatureSet.js\";function l(o,s,n){const a=n.features;n.features=[],delete n.geometryType;const i=u.fromJSON(n);if(i.geometryType=\"mesh\",!n.assetMaps)return i;const l=E(s,n.assetMaps),m=i.spatialReference,p=n.globalIdFieldName,g=e(o.outFields)||!o.outFields.length?()=>({}):c(o.outFields.includes(\"*\")?null:new Set(o.outFields));for(const e of a){const o=f(e,p,m,s,l);r(o)&&i.features.push(new t({geometry:o,attributes:g(e)}))}return i}function c(t){return({attributes:e})=>{if(!e)return{};if(!t)return e;for(const r in e)t.has(r)||delete e[r];return e}}function f(t,e,r,n,a){const i=t.attributes[e],u=a.get(i);if(null==u||u.status===g.FAILED||null==u.url)return null;const l=m(t,r,n),c=o.fromJSON(t.geometry);c.spatialReference=r;const f=p(t.attributes,n,u.geographic);return u.status===g.PENDING?s.createIncomplete(l,{extent:c,transform:f}):s.createWithExternalSource(l,[{name:u.name,source:u.url}],{extent:c,transform:f})}function m({attributes:t},e,{transformFieldRoles:r}){return new n({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function p(t,{transformFieldRoles:e},r){return new i({translation:[t[e.translationX],t[e.translationY],t[e.translationZ]],rotation:a([t[e.rotationX],t[e.rotationY],t[e.rotationZ]],t[e.rotationDeg]),scale:[t[e.scaleX],t[e.scaleY],t[e.scaleZ]],geographic:r})}var g;function E(t,e){const r=new Map;for(const o of e){const t=o.parentGlobalId;if(null==t)continue;const e=o.assetName,s=o.assetURL,n=o.conversionStatus;let a=r.get(t);if(null!=a)throw new Error(\"multiple asset parts not expected.\");switch(a={name:e,status:g.FAILED,url:s,geographic:D(o.flags).projectVertices},r.set(t,a),n){case\"COMPLETED\":case\"SUBMITTED\":a.status=g.COMPLETED;break;case\"INPROGRESS\":a.status=g.PENDING;break;default:a.status=g.FAILED}}return r}function D(t){return{projectVertices:t.includes(\"PROJECT_VERTICES\")}}!function(t){t[t.FAILED=0]=\"FAILED\",t[t.PENDING=1]=\"PENDING\",t[t.COMPLETED=2]=\"COMPLETED\"}(g||(g={}));export{l as meshFeatureSetFromJSON};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}