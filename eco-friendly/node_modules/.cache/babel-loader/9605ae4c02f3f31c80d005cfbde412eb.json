{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { result as e, assertResult as t } from \"../../../../core/asyncUtils.js\";\nimport r from \"../../../../core/has.js\";\nimport { clone as i } from \"../../../../core/lang.js\";\nimport { isNone as o, isSome as n } from \"../../../../core/maybe.js\";\nimport { eachAlways as s, isAbortError as a } from \"../../../../core/promiseUtils.js\";\nimport { makeAbsolute as u } from \"../../../../core/urlUtils.js\";\nimport { TextureEncoding as l } from \"./enums.js\";\nimport { readBinaryAttribute as f, createGeometryDescriptor as d } from \"./I3SBinaryReader.js\";\nimport { getMaterialAndTextures as c, getMaterialAndTexturesFromShared as m, selectEncoding as h } from \"./I3SMaterialUtil.js\";\n\nclass g {\n  constructor(e, t, r, i, o, n) {\n    if (this.streamDataController = t, this.logger = r, this.defaultGeometrySchema = i, this.requiredAttributes = o, this.options = n, this.logLayer = e, this.layerUrl = e.parsedUrl.path, this.geometryDefinitions = e.geometryDefinitions, e.materialDefinitions) {\n      const t = e.textureSetDefinitions;\n      this.materialAndTextures = e.materialDefinitions.map(e => c(t, e));\n    }\n  }\n\n  _load(e, t, r) {\n    return this.streamDataController.request(e, t, r);\n  }\n\n  _loadAttribute(e, t, r) {\n    const i = `${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;\n    return this._load(i, \"binary\", r).then(e => f(t, e));\n  }\n\n  loadAttributes(e, t, r) {\n    return s(t.map(t => this._loadAttribute(e, t.attributeStorageInfo, r))).then(r => {\n      const i = {};\n\n      for (let o = 0; o < t.length; ++o) if (r[o].value) i[t[o].name] = r[o].value;else {\n        if (a(r[o].error)) throw r[o].error;\n        this.logger.error(\"#loadAttributes\", this.logLayer, `Failed to load attributeData for '${t[o].name}' on node '${e.id}'`, r[o].error);\n      }\n\n      return i;\n    });\n  }\n\n  async loadNodeData(r, i) {\n    const s = null != this.requiredAttributes && r.resources.attributes ? e(this.loadAttributes(r, this.requiredAttributes, i)) : null,\n          {\n      bufferDefinition: a,\n      bufferIndex: u\n    } = x(this.geometryDefinitions, r),\n          l = !!r.resources.geometry,\n          f = l ? e(this._loadGeometry(r.resources.geometry, u, i)) : null,\n          c = r.resources.hasSharedResource ? await this._loadShared(r, i) : null,\n          h = this.materialAndTextures && r.resources.materialDefinition >= 0 ? this.materialAndTextures[r.resources.materialDefinition] : null != c ? m(c) : null,\n          g = h && h.material,\n          A = h && h.textures,\n          _ = `${r.id}`,\n          w = !l && this.options.loadFeatureData,\n          T = w ? await this._loadFeatureData(_, i) : null,\n          $ = w ? b(T) : y(g),\n          j = o($) && D(T),\n          I = null != A && A.length > 0 ? e(this.loadTextures(r, A, i)) : null;\n    let U = null,\n        S = null;\n\n    if (f) {\n      U = t(await f);\n      const e = p(this.defaultGeometrySchema, c);\n      S = d(a, e);\n    }\n\n    const q = I ? t(await I) : null,\n          v = s ? t(await s) : {},\n          B = v ? {\n      attributeData: v,\n      loadedAttributes: this.requiredAttributes\n    } : null;\n    if (n($)) return {\n      geometryData: $,\n      attributeDataInfo: B,\n      geometryBuffer: U,\n      geometryDescriptor: S,\n      requiredTextures: A,\n      textureData: q\n    };\n    if (n(j)) return {\n      pointData: j,\n      attributeDataInfo: B,\n      geometryBuffer: U,\n      geometryDescriptor: S,\n      requiredTextures: A,\n      textureData: q\n    };\n    throw new Error();\n  }\n\n  static _addAbsoluteHrefTexture(e, t) {\n    const r = e.textureDefinitions;\n    if (null != r) for (const i of Object.keys(r)) for (const e of r[i].images) Array.isArray(e.href) ? e.hrefConcat = e.href.map(e => u(e, t)) : e.hrefConcat = u(e.href, t);\n  }\n\n  static _fixTextureEncodings(e) {\n    const t = e.textureDefinitions;\n    if (null != t) for (const r in t) {\n      const e = t[r];\n      if (Array.isArray(e.encoding)) for (let t = 0; t < e.encoding.length; t++) {\n        const r = e.encoding[t];\n        \"data:\" === r.substring(0, 5) && (e.encoding[t] = r.substring(5));\n      } else {\n        const t = e.encoding;\n        \"data:\" === t.substring(0, 5) && (e.encoding = t.substring(5));\n      }\n    }\n  }\n\n  _loadShared(e, t) {\n    const r = `${this.layerUrl}/nodes/${e.resources.geometry}/shared`;\n    return this._load(r, \"json\", t).then(e => (g._fixTextureEncodings(e), g._addAbsoluteHrefTexture(e, r), e));\n  }\n\n  _loadTexture(e, t, r, i, o, n) {\n    let s = !1;\n    return o === l.DDS_S3TC || o === l.KTX2 || o === l.Basis ? this._load(e, \"binary\", n).then(e => ({\n      id: t,\n      usage: r,\n      data: e,\n      encoding: o,\n      downsampled: s\n    })) : this._load(e, \"image\", n).then(e => {\n      let n = e;\n      const a = 4096,\n            u = 2;\n\n      if (i && e.width * e.height >= a) {\n        const t = Math.ceil(e.width / u),\n              r = Math.ceil(e.height / u),\n              i = document.createElement(\"canvas\");\n        i.width = t, i.height = r;\n        i.getContext(\"2d\").drawImage(e, 0, 0, t, r), n = i, s = !0;\n      }\n\n      return {\n        id: t,\n        usage: r,\n        data: n,\n        encoding: o,\n        downsampled: s\n      };\n    });\n  }\n\n  loadTextures(e, t, r) {\n    const i = this.options.uncompressedTextureDownsamplingEnabled,\n          o = this.options.textureUsageMask;\n    return Promise.all(t.map(t => {\n      if (0 == (t.usage & o)) return null;\n      const n = h(t.encodings, this.options.textureEncodings);\n      if (null == n) return this.logger.error(\"#loadTextures\", this.logLayer, `No known encoding for texture found on node ${e.id}`), Promise.reject();\n      const s = e.resources.texture || e.id,\n            a = `${this.layerUrl}/nodes/${s}/textures/${n.name}`;\n      return this._loadTexture(a, t.id, t.usage, i, n.encoding, r);\n    }));\n  }\n\n  _loadFeatureData(e, t) {\n    const r = `${this.layerUrl}/nodes/${e}/features/0`;\n    return this._load(r, \"json\", t);\n  }\n\n  _loadGeometry(e, t, r) {\n    const i = `${this.layerUrl}/nodes/${e}/geometries/${t}`;\n    return this._load(i, \"binary\", r);\n  }\n\n}\n\nfunction y(e) {\n  return {\n    featureIds: [],\n    geometries: [{\n      type: \"ArrayBufferView\",\n      params: {\n        material: e\n      }\n    }],\n    featureDataPosition: [0, 0, 0]\n  };\n}\n\nfunction b(e) {\n  for (const t of e.featureData) {\n    const e = t.geometries;\n    if (null != e) for (const r of e) return {\n      featureIds: [t.id],\n      featureDataPosition: t.position,\n      geometries: [r]\n    };\n  }\n\n  return null;\n}\n\nfunction D(e) {\n  const t = new Array();\n\n  for (const r of e.featureData) null != r.position && t.push({\n    featureIds: [r.id],\n    featureDataPosition: r.position,\n    geometries: null\n  });\n\n  return t;\n}\n\nfunction p(e, t) {\n  if (!e || !t || !t.materialDefinitions) return e;\n  const r = Object.keys(t.materialDefinitions)[0];\n  return !t.materialDefinitions[r].params.vertexRegions && e.vertexAttributes.region && delete (e = i(e)).vertexAttributes.region, e;\n}\n\nfunction x(e, t) {\n  const i = {\n    bufferDefinition: null,\n    bufferIndex: 0\n  };\n  if (null == e || t.resources.geometryDefinition < 0) return i;\n  const o = t.resources.geometryDefinition >= 0 ? e[t.resources.geometryDefinition].geometryBuffers : null;\n  if (null == o) return i;\n\n  for (let n = 0; n < o.length; n++) {\n    const e = o[n];\n    if (null == e.compressedAttributes) i.bufferIndex = n, i.bufferDefinition = o[n];else if (\"draco\" === e.compressedAttributes.encoding && !r(\"disable-feature:i3s-draco\")) return i.bufferIndex = n, i.bufferDefinition = e, i;\n  }\n\n  return i;\n}\n\nexport { g as default };","map":{"version":3,"names":["result","e","assertResult","t","r","clone","i","isNone","o","isSome","n","eachAlways","s","isAbortError","a","makeAbsolute","u","TextureEncoding","l","readBinaryAttribute","f","createGeometryDescriptor","d","getMaterialAndTextures","c","getMaterialAndTexturesFromShared","m","selectEncoding","h","g","constructor","streamDataController","logger","defaultGeometrySchema","requiredAttributes","options","logLayer","layerUrl","parsedUrl","path","geometryDefinitions","materialDefinitions","textureSetDefinitions","materialAndTextures","map","_load","request","_loadAttribute","resources","attributes","key","then","loadAttributes","attributeStorageInfo","length","value","name","error","id","loadNodeData","bufferDefinition","bufferIndex","x","geometry","_loadGeometry","hasSharedResource","_loadShared","materialDefinition","material","A","textures","_","w","loadFeatureData","T","_loadFeatureData","$","b","y","j","D","I","loadTextures","U","S","p","q","v","B","attributeData","loadedAttributes","geometryData","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","textureData","pointData","Error","_addAbsoluteHrefTexture","textureDefinitions","Object","keys","images","Array","isArray","href","hrefConcat","_fixTextureEncodings","encoding","substring","_loadTexture","DDS_S3TC","KTX2","Basis","usage","data","downsampled","width","height","Math","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","Promise","all","encodings","textureEncodings","reject","texture","featureIds","geometries","type","params","featureDataPosition","featureData","position","push","vertexRegions","vertexAttributes","region","geometryDefinition","geometryBuffers","compressedAttributes","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{TextureEncoding as l}from\"./enums.js\";import{readBinaryAttribute as f,createGeometryDescriptor as d}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as c,getMaterialAndTexturesFromShared as m,selectEncoding as h}from\"./I3SMaterialUtil.js\";class g{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>c(t,e)))}}_load(e,t,r){return this.streamDataController.request(e,t,r)}_loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this._load(i,\"binary\",r).then((e=>f(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this._loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=x(this.geometryDefinitions,r),l=!!r.resources.geometry,f=l?e(this._loadGeometry(r.resources.geometry,u,i)):null,c=r.resources.hasSharedResource?await this._loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=c?m(c):null,g=h&&h.material,A=h&&h.textures,_=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this._loadFeatureData(_,i):null,$=w?b(T):y(g),j=o($)&&D(T),I=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let U=null,S=null;if(f){U=t(await f);const e=p(this.defaultGeometrySchema,c);S=d(a,e)}const q=I?t(await I):null,v=s?t(await s):{},B=v?{attributeData:v,loadedAttributes:this.requiredAttributes}:null;if(n($))return{geometryData:$,attributeDataInfo:B,geometryBuffer:U,geometryDescriptor:S,requiredTextures:A,textureData:q};if(n(j))return{pointData:j,attributeDataInfo:B,geometryBuffer:U,geometryDescriptor:S,requiredTextures:A,textureData:q};throw new Error}static _addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static _fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}_loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this._load(r,\"json\",t).then((e=>(g._fixTextureEncodings(e),g._addAbsoluteHrefTexture(e,r),e)))}_loadTexture(e,t,r,i,o,n){let s=!1;return o===l.DDS_S3TC||o===l.KTX2||o===l.Basis?this._load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this._load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=h(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this._loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}_loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this._load(r,\"json\",t)}_loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this._load(i,\"binary\",r)}}function y(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function b(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function D(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function p(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function x(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{g as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}