{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { g as t, h as s, r as a, d as r } from \"../../../../chunks/mat3.js\";\nimport { c as i } from \"../../../../chunks/mat3f32.js\";\nimport { BucketType as o } from \"./enums.js\";\nimport { CircleRenderBucket as h, SymbolRenderBucket as n, LineRenderBucket as l, FillRenderBucket as y } from \"./RenderBucket.js\";\nimport { FADE_DURATION as c } from \"./decluttering/config.js\";\nimport { TiledDisplayObject as d } from \"../webgl/TiledDisplayObject.js\";\n\nclass m extends d {\n  constructor(e, t, s, a, r, i, o, h = null) {\n    super(e, t, s, a, r, i, 4096, 4096), this._memCache = h, this.type = \"vector-tile\", this._referenced = 0, this._hasSymbolBuckets = !1, this._memoryUsedByLayerData = 0, this.layerData = new Map(), this.layerCount = 0, this.status = \"loading\", this.allSymbolsFadingOut = !1, this.lastOpacityUpdate = 0, this.symbols = new Map(), this.isCoverage = !1, this.neededForCoverage = !1, this.decluttered = !1, this.invalidating = !1, this.parentTile = null, this.childrenTiles = new Set(), this._processed = !1, this._referenced = 1, this.styleRepository = o, this.id = e.id;\n  }\n\n  get hasSymbolBuckets() {\n    return this._hasSymbolBuckets;\n  }\n\n  get isFading() {\n    return this._hasSymbolBuckets && performance.now() - this.lastOpacityUpdate < c;\n  }\n\n  get isHoldingForFade() {\n    return this._hasSymbolBuckets && (!this.allSymbolsFadingOut || performance.now() - this.lastOpacityUpdate < c);\n  }\n\n  get wasRequested() {\n    return \"errored\" === this.status || \"loaded\" === this.status || \"reloading\" === this.status;\n  }\n\n  setData(e) {\n    this.changeDataImpl(e), this.requestRender(), this.ready(), this.invalidating = !1, this._processed = !0;\n  }\n\n  deleteLayerData(t) {\n    let s = !1;\n\n    for (const e of t) if (this.layerData.has(e)) {\n      const t = this.layerData.get(e);\n      this._memoryUsedByLayerData -= t.memoryUsed, t.type === o.SYMBOL && this.symbols.has(e) && (this.symbols.delete(e), s = !0), t.destroy(), this.layerData.delete(e), this.layerCount--;\n    }\n\n    e(this._memCache) && this._memCache.updateSize(this.key.id, this, this._memoryUsedByLayerData), s && this.emit(\"symbols-changed\"), this.requestRender();\n  }\n\n  processed() {\n    return this._processed;\n  }\n\n  hasData() {\n    return this.layerCount > 0;\n  }\n\n  dispose() {\n    \"unloaded\" !== this.status && (u.delete(this), m._destroyRenderBuckets(this.layerData), this.layerData = null, this.layerCount = 0, this._memoryUsedByLayerData = 0, this.destroy(), this.status = \"unloaded\");\n  }\n\n  release() {\n    return 0 == --this._referenced && (this.dispose(), this.stage = null, !0);\n  }\n\n  retain() {\n    ++this._referenced;\n  }\n\n  get referenced() {\n    return this._referenced;\n  }\n\n  get memoryUsage() {\n    return (this._memoryUsedByLayerData + 256) / (this._referenced || 1);\n  }\n\n  changeDataImpl(t) {\n    let s = !1;\n\n    if (t) {\n      const {\n        bucketsWithData: a,\n        emptyBuckets: r\n      } = t,\n            i = this._createRenderBuckets(a);\n\n      if (r && r.byteLength > 0) {\n        const e = new Uint32Array(r);\n\n        for (const t of e) this._deleteLayerData(t);\n      }\n\n      for (const [e, t] of i) this._deleteLayerData(e), t.type === o.SYMBOL && (this.symbols.set(e, t.symbols), s = !0), this._memoryUsedByLayerData += t.memoryUsed, this.layerData.set(e, t), this.layerCount++;\n\n      e(this._memCache) && this._memCache.updateSize(this.key.id, this, this._memoryUsedByLayerData);\n    }\n\n    this._hasSymbolBuckets = !1;\n\n    for (const [e, a] of this.layerData) a.type === o.SYMBOL && (this._hasSymbolBuckets = !0);\n\n    s && this.emit(\"symbols-changed\");\n  }\n\n  attachWithContext(e) {\n    this.stage = {\n      context: e,\n\n      trashDisplayObject(e) {\n        e.processDetach();\n      },\n\n      untrashDisplayObject: () => !1\n    };\n  }\n\n  setTransform(e) {\n    super.setTransform(e);\n    const i = this.resolution / (e.resolution * e.pixelRatio),\n          o = this.width / this.rangeX * i,\n          h = this.height / this.rangeY * i,\n          n = [0, 0];\n    e.toScreen(n, [this.x, this.y]);\n    const l = this.transforms.tileUnitsToPixels;\n    t(l), s(l, l, n), a(l, l, Math.PI * e.rotation / 180), r(l, l, [o, h, 1]);\n  }\n\n  _createTransforms() {\n    return {\n      dvs: i(),\n      tileMat3: i(),\n      tileUnitsToPixels: i()\n    };\n  }\n\n  static _destroyRenderBuckets(e) {\n    if (!e) return;\n    const t = new Set();\n    e.forEach(e => {\n      t.has(e) || (e.destroy(), t.add(e));\n    }), e.clear();\n  }\n\n  _createRenderBuckets(e) {\n    const t = new Map(),\n          s = new Map();\n\n    for (const a of e) {\n      const e = this._deserializeBucket(a, s);\n\n      for (const s of e.layerUIDs) t.set(s, e);\n    }\n\n    return t;\n  }\n\n  _deserializeBucket(e, t) {\n    let s = t.get(e);\n    if (s) return s;\n\n    switch (new Uint32Array(e)[0]) {\n      case o.FILL:\n        s = new y(e, this.styleRepository);\n        break;\n\n      case o.LINE:\n        s = new l(e, this.styleRepository);\n        break;\n\n      case o.SYMBOL:\n        s = new n(e, this.styleRepository, this);\n        break;\n\n      case o.CIRCLE:\n        s = new h(e, this.styleRepository);\n    }\n\n    return t.set(e, s), s;\n  }\n\n  _deleteLayerData(e) {\n    if (!this.layerData.has(e)) return;\n    const t = this.layerData.get(e);\n    this._memoryUsedByLayerData -= t.memoryUsed, t.destroy(), this.layerData.delete(e), this.layerCount--;\n  }\n\n}\n\nconst u = new Map();\n\nfunction p() {\n  u.forEach((e, t) => {\n    console.log(`\\n${t.key}:`), e[0].forEach(e => console.log(e)), console.log(\"========\"), e[1].forEach(e => console.log(e));\n  });\n}\n\nexport { m as VectorTile, p as printAllocations };","map":{"version":3,"names":["isSome","e","g","t","h","s","r","a","d","c","i","BucketType","o","CircleRenderBucket","SymbolRenderBucket","n","LineRenderBucket","l","FillRenderBucket","y","FADE_DURATION","TiledDisplayObject","m","constructor","_memCache","type","_referenced","_hasSymbolBuckets","_memoryUsedByLayerData","layerData","Map","layerCount","status","allSymbolsFadingOut","lastOpacityUpdate","symbols","isCoverage","neededForCoverage","decluttered","invalidating","parentTile","childrenTiles","Set","_processed","styleRepository","id","hasSymbolBuckets","isFading","performance","now","isHoldingForFade","wasRequested","setData","changeDataImpl","requestRender","ready","deleteLayerData","has","get","memoryUsed","SYMBOL","delete","destroy","updateSize","key","emit","processed","hasData","dispose","u","_destroyRenderBuckets","release","stage","retain","referenced","memoryUsage","bucketsWithData","emptyBuckets","_createRenderBuckets","byteLength","Uint32Array","_deleteLayerData","set","attachWithContext","context","trashDisplayObject","processDetach","untrashDisplayObject","setTransform","resolution","pixelRatio","width","rangeX","height","rangeY","toScreen","x","transforms","tileUnitsToPixels","Math","PI","rotation","_createTransforms","dvs","tileMat3","forEach","add","clear","_deserializeBucket","layerUIDs","FILL","LINE","CIRCLE","p","console","log","VectorTile","printAllocations"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t,h as s,r as a,d as r}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{BucketType as o}from\"./enums.js\";import{CircleRenderBucket as h,SymbolRenderBucket as n,LineRenderBucket as l,FillRenderBucket as y}from\"./RenderBucket.js\";import{FADE_DURATION as c}from\"./decluttering/config.js\";import{TiledDisplayObject as d}from\"../webgl/TiledDisplayObject.js\";class m extends d{constructor(e,t,s,a,r,i,o,h=null){super(e,t,s,a,r,i,4096,4096),this._memCache=h,this.type=\"vector-tile\",this._referenced=0,this._hasSymbolBuckets=!1,this._memoryUsedByLayerData=0,this.layerData=new Map,this.layerCount=0,this.status=\"loading\",this.allSymbolsFadingOut=!1,this.lastOpacityUpdate=0,this.symbols=new Map,this.isCoverage=!1,this.neededForCoverage=!1,this.decluttered=!1,this.invalidating=!1,this.parentTile=null,this.childrenTiles=new Set,this._processed=!1,this._referenced=1,this.styleRepository=o,this.id=e.id}get hasSymbolBuckets(){return this._hasSymbolBuckets}get isFading(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<c}get isHoldingForFade(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<c)}get wasRequested(){return\"errored\"===this.status||\"loaded\"===this.status||\"reloading\"===this.status}setData(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}deleteLayerData(t){let s=!1;for(const e of t)if(this.layerData.has(e)){const t=this.layerData.get(e);this._memoryUsedByLayerData-=t.memoryUsed,t.type===o.SYMBOL&&this.symbols.has(e)&&(this.symbols.delete(e),s=!0),t.destroy(),this.layerData.delete(e),this.layerCount--}e(this._memCache)&&this._memCache.updateSize(this.key.id,this,this._memoryUsedByLayerData),s&&this.emit(\"symbols-changed\"),this.requestRender()}processed(){return this._processed}hasData(){return this.layerCount>0}dispose(){\"unloaded\"!==this.status&&(u.delete(this),m._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy(),this.status=\"unloaded\")}release(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}retain(){++this._referenced}get referenced(){return this._referenced}get memoryUsage(){return(this._memoryUsedByLayerData+256)/(this._referenced||1)}changeDataImpl(t){let s=!1;if(t){const{bucketsWithData:a,emptyBuckets:r}=t,i=this._createRenderBuckets(a);if(r&&r.byteLength>0){const e=new Uint32Array(r);for(const t of e)this._deleteLayerData(t)}for(const[e,t]of i)this._deleteLayerData(e),t.type===o.SYMBOL&&(this.symbols.set(e,t.symbols),s=!0),this._memoryUsedByLayerData+=t.memoryUsed,this.layerData.set(e,t),this.layerCount++;e(this._memCache)&&this._memCache.updateSize(this.key.id,this,this._memoryUsedByLayerData)}this._hasSymbolBuckets=!1;for(const[e,a]of this.layerData)a.type===o.SYMBOL&&(this._hasSymbolBuckets=!0);s&&this.emit(\"symbols-changed\")}attachWithContext(e){this.stage={context:e,trashDisplayObject(e){e.processDetach()},untrashDisplayObject:()=>!1}}setTransform(e){super.setTransform(e);const i=this.resolution/(e.resolution*e.pixelRatio),o=this.width/this.rangeX*i,h=this.height/this.rangeY*i,n=[0,0];e.toScreen(n,[this.x,this.y]);const l=this.transforms.tileUnitsToPixels;t(l),s(l,l,n),a(l,l,Math.PI*e.rotation/180),r(l,l,[o,h,1])}_createTransforms(){return{dvs:i(),tileMat3:i(),tileUnitsToPixels:i()}}static _destroyRenderBuckets(e){if(!e)return;const t=new Set;e.forEach((e=>{t.has(e)||(e.destroy(),t.add(e))})),e.clear()}_createRenderBuckets(e){const t=new Map,s=new Map;for(const a of e){const e=this._deserializeBucket(a,s);for(const s of e.layerUIDs)t.set(s,e)}return t}_deserializeBucket(e,t){let s=t.get(e);if(s)return s;switch(new Uint32Array(e)[0]){case o.FILL:s=new y(e,this.styleRepository);break;case o.LINE:s=new l(e,this.styleRepository);break;case o.SYMBOL:s=new n(e,this.styleRepository,this);break;case o.CIRCLE:s=new h(e,this.styleRepository)}return t.set(e,s),s}_deleteLayerData(e){if(!this.layerData.has(e))return;const t=this.layerData.get(e);this._memoryUsedByLayerData-=t.memoryUsed,t.destroy(),this.layerData.delete(e),this.layerCount--}}const u=new Map;function p(){u.forEach(((e,t)=>{console.log(`\\n${t.key}:`),e[0].forEach((e=>console.log(e))),console.log(\"========\"),e[1].forEach((e=>console.log(e)))}))}export{m as VectorTile,p as printAllocations};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}