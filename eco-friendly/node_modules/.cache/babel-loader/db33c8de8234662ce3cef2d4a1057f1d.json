{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport t from \"../../Graphic.js\";\nimport \"../../symbols.js\";\nimport i from \"../../core/Collection.js\";\nimport s from \"../../core/Error.js\";\nimport r from \"../../core/Handles.js\";\nimport o from \"../../core/Logger.js\";\nimport { unwrap as n, isNone as a } from \"../../core/maybe.js\";\nimport { watch as l, when as h, sync as u } from \"../../core/reactiveUtils.js\";\nimport { property as c } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as d } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { geographicToWebMercator as p } from \"../../geometry/support/webMercatorUtils.js\";\nimport g from \"../../layers/Layer.js\";\nimport { fallbackObjectIDAttribute as f } from \"../../layers/LayerConstants.js\";\nimport m from \"../../support/actions/ActionBase.js\";\nimport y from \"../../support/actions/ActionButton.js\";\nimport w from \"../../support/actions/ActionToggle.js\";\nimport { getDisplayedSymbol as F } from \"../../symbols/support/symbolUtils.js\";\nimport { ViewEventPriorities as v } from \"../../views/input/InputManager.js\";\nimport { highlightsSupported as _ } from \"../../views/support/layerViewUtils.js\";\nimport b from \"../Feature/FeatureViewModel.js\";\nimport { zoomToFeature as C, zoomToClusteredFeatures as P, browseClusteredFeatures as E } from \"./actions.js\";\nimport { triggerAction as V, isClusterFeature as A, getSelectedTarget as M, removeClusteredFeaturesForBrowsing as j, displayClusterExtent as L, browseAggregateFeatures as O } from \"./actionUtils.js\";\nimport T from \"../support/AnchorElementViewModel.js\";\nimport { GoToMixin as x } from \"../support/GoTo.js\";\nimport I from \"../../symbols/SimpleFillSymbol.js\";\nimport S from \"../../geometry/Point.js\";\n\nconst B = i.ofType({\n  key: \"type\",\n  defaultKeyValue: \"button\",\n  base: m,\n  typeMap: {\n    button: y,\n    toggle: w\n  }\n}),\n      G = () => [C.clone()],\n      R = () => [P.clone(), E.clone()];\n\nlet z = class extends x(T) {\n  constructor(e) {\n    super(e), this._handles = new r(), this._pendingPromises = new Set(), this._fetchFeaturesController = null, this._selectedClusterFeature = null, this.featurePage = null, this.actions = new B(), this.activeFeature = null, this.defaultPopupTemplateEnabled = !1, this.autoCloseEnabled = !1, this.autoOpenEnabled = !0, this.browseClusterEnabled = !1, this.content = null, this.featuresPerPage = 20, this.featureViewModelAbilities = null, this.featureViewModels = [], this.highlightEnabled = !0, this.includeDefaultActions = !0, this.selectedClusterBoundaryFeature = new t({\n      symbol: new I({\n        outline: {\n          width: 1.5,\n          color: \"cyan\"\n        },\n        style: \"none\"\n      })\n    }), this.title = null, this.updateLocationEnabled = !1, this.view = null, this.visible = !1, this.zoomFactor = 4, this.zoomToLocation = null;\n  }\n\n  get isLoadingFeature() {\n    return this.featureViewModels.some(e => e.waitingForContent);\n  }\n\n  initialize() {\n    this._handles.add([l(() => [this.autoOpenEnabled, this.view], () => this._autoOpenEnabledChange()), this.on(\"view-change\", () => this._autoClose()), l(() => [this.highlightEnabled, this.selectedFeature, this.visible, this.view], () => this._highlightSelectedFeature()), l(() => [this.highlightEnabled, this.activeFeature, this.visible, this.view], () => this._highlightActiveFeature()), l(() => this.view?.animation?.state, e => this._animationStateChange(e)), l(() => this.location, e => this._locationChange(e)), l(() => this.selectedFeature, e => this._selectedFeatureChange(e)), l(() => [this.selectedFeatureIndex, this.featureCount, this.featuresPerPage], () => this._selectedFeatureIndexChange()), l(() => [this.featurePage, this.selectedFeatureIndex, this.featureCount, this.featuresPerPage, this.featureViewModels], () => this._setGraphicOnFeatureViewModels()), l(() => this.featureViewModels, () => this._featureViewModelsChange()), this.on(\"trigger-action\", e => V({\n      event: e,\n      view: this.view\n    })), h(() => !this.waitingForResult, () => this._waitingForResultChange(), u), l(() => [this.features, this.view?.map, this.view?.spatialReference], () => this._updateFeatureVMs()), l(() => this.view?.scale, () => this._viewScaleChange()), h(() => !this.visible, () => this.browseClusterEnabled = !1), l(() => this.browseClusterEnabled, e => e ? this.enableClusterBrowsing() : this.disableClusterBrowsing())]);\n  }\n\n  destroy() {\n    this._cancelFetchingFeatures(), this._handles.destroy(), this._handles = null, this._pendingPromises.clear(), this.browseClusterEnabled = !1, this.view = null;\n  }\n\n  get active() {\n    return !(!this.visible || this.waitingForResult);\n  }\n\n  get allActions() {\n    const e = this._get(\"allActions\") || new B();\n    e.removeAll();\n    const {\n      actions: t,\n      defaultActions: i,\n      defaultPopupTemplateEnabled: s,\n      includeDefaultActions: r,\n      selectedFeature: o\n    } = this,\n          n = r ? i.concat(t) : t,\n          a = o && (\"function\" == typeof o.getEffectivePopupTemplate && o.getEffectivePopupTemplate(s) || o.popupTemplate),\n          l = a && a.actions,\n          h = a && a.overwriteActions ? l : l ? l.concat(n) : n;\n    return h && h.filter(Boolean).forEach(t => e.add(t)), e;\n  }\n\n  get defaultActions() {\n    const e = this._get(\"defaultActions\") || new B();\n    return e.removeAll(), e.addMany(A(this.selectedFeature) ? R() : G()), e;\n  }\n\n  get featureCount() {\n    return this.features.length;\n  }\n\n  get features() {\n    return this._get(\"features\") || [];\n  }\n\n  set features(e) {\n    const t = e || [];\n\n    this._set(\"features\", t);\n\n    const {\n      pendingPromisesCount: i,\n      promiseCount: s,\n      selectedFeatureIndex: r\n    } = this,\n          o = s && t.length;\n    o && i && -1 === r ? this.selectedFeatureIndex = 0 : o && -1 !== r || (this.selectedFeatureIndex = t.length ? 0 : -1);\n  }\n\n  get location() {\n    return this._get(\"location\") || null;\n  }\n\n  set location(e) {\n    const t = this.get(\"view.spatialReference.isWebMercator\");\n    e && e.get(\"spatialReference.isWGS84\") && t && (e = p(e)), this._set(\"location\", e);\n  }\n\n  get pendingPromisesCount() {\n    return this._pendingPromises.size;\n  }\n\n  get waitingForResult() {\n    return !(!(!!this._fetchFeaturesController || this.pendingPromisesCount > 0) || 0 !== this.featureCount);\n  }\n\n  get promiseCount() {\n    return this.promises.length;\n  }\n\n  get promises() {\n    return this._get(\"promises\") || [];\n  }\n\n  set promises(e) {\n    if (this._pendingPromises.clear(), this.features = [], !Array.isArray(e) || !e.length) return this._set(\"promises\", []), void this.notifyChange(\"pendingPromisesCount\");\n    this._set(\"promises\", e), (e = e.slice(0)).forEach(e => {\n      this._pendingPromises.add(e);\n\n      const t = t => {\n        this._pendingPromises.has(e) && this._updateFeatures(t), this._updatePendingPromises(e);\n      },\n            i = () => this._updatePendingPromises(e);\n\n      e.then(t, i);\n    }), this.notifyChange(\"pendingPromisesCount\");\n  }\n\n  get selectedFeature() {\n    const {\n      features: e,\n      selectedFeatureIndex: t\n    } = this;\n    if (-1 === t) return null;\n    return e[t] || null;\n  }\n\n  get selectedFeatureIndex() {\n    const e = this._get(\"selectedFeatureIndex\");\n\n    return \"number\" == typeof e ? e : -1;\n  }\n\n  set selectedFeatureIndex(e) {\n    const {\n      featureCount: t\n    } = this;\n    e = isNaN(e) || e < -1 || !t ? -1 : (e + t) % t, this.activeFeature = null, this._set(\"selectedFeatureIndex\", e);\n  }\n\n  get selectedFeatureViewModel() {\n    return this.featureViewModels[this.selectedFeatureIndex] || null;\n  }\n\n  get state() {\n    return this.get(\"view.ready\") ? \"ready\" : \"disabled\";\n  }\n\n  centerAtLocation() {\n    const {\n      view: e\n    } = this,\n          t = M(this);\n    return t ? this.callGoTo({\n      target: {\n        target: t,\n        scale: e.scale\n      }\n    }) : Promise.reject(new s(\"center-at-location:invalid-target-or-view\", \"Cannot center at a location without a target and view.\", {\n      target: t,\n      view: e\n    }));\n  }\n\n  zoomTo(e) {\n    return this.callGoTo(e);\n  }\n\n  clear() {\n    this.set({\n      promises: [],\n      features: [],\n      content: null,\n      title: null,\n      location: null,\n      activeFeature: null\n    });\n  }\n\n  fetchFeatures(e, t) {\n    const {\n      view: i\n    } = this;\n    if (!i || !e) throw new s(\"fetch-features:invalid-screenpoint-or-view\", \"Cannot fetch features without a screenPoint and view.\", {\n      screenPoint: e,\n      view: i\n    });\n    return i.fetchPopupFeatures(e, {\n      event: t && t.event,\n      defaultPopupTemplateEnabled: this.defaultPopupTemplateEnabled,\n      signal: t && t.signal\n    });\n  }\n\n  open(e) {\n    const t = {\n      updateLocationEnabled: !1,\n      promises: [],\n      fetchFeatures: !1,\n      ...e,\n      visible: !0\n    },\n          {\n      fetchFeatures: i\n    } = t;\n    delete t.fetchFeatures, i && this._setFetchFeaturesPromises(t.location);\n    const s = [\"actionsMenuOpen\", \"collapsed\", \"featureMenuOpen\"];\n\n    for (const r of s) delete t[r];\n\n    this.set(t);\n  }\n\n  triggerAction(e) {\n    const t = this.allActions.getItemAt(e);\n    t && !t.disabled && this.emit(\"trigger-action\", {\n      action: t\n    });\n  }\n\n  next() {\n    return this.selectedFeatureIndex = this.selectedFeatureIndex + 1, this;\n  }\n\n  previous() {\n    return this.selectedFeatureIndex = this.selectedFeatureIndex - 1, this;\n  }\n\n  disableClusterBrowsing() {\n    j(this), this._clearBrowsedClusterGraphics();\n  }\n\n  async enableClusterBrowsing() {\n    const {\n      view: e,\n      selectedFeature: t\n    } = this;\n    \"2d\" === e?.type ? A(t) ? (await L(this), await O(this)) : o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.\", t) : o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-view: View must be 2d MapView.\", t);\n  }\n\n  _animationStateChange(e) {\n    this.zoomToLocation || (C.disabled = \"waiting-for-target\" === e);\n  }\n\n  _clearBrowsedClusterGraphics() {\n    const e = this.view?.graphics;\n    e && (e.remove(this.selectedClusterBoundaryFeature), e.remove(this._selectedClusterFeature)), this._selectedClusterFeature = null, this.selectedClusterBoundaryFeature.geometry = null;\n  }\n\n  _viewScaleChange() {\n    if (A(this.selectedFeature)) return this.browseClusterEnabled = !1, this.visible = !1, void this.clear();\n    this.browseClusterEnabled && (this.features = [this.selectedFeature]);\n  }\n\n  _locationChange(e) {\n    const {\n      selectedFeature: t,\n      updateLocationEnabled: i\n    } = this;\n    i && e && (!t || t.geometry) && this.centerAtLocation();\n  }\n\n  _selectedFeatureIndexChange() {\n    this.featurePage = this.featureCount > 1 ? Math.floor(this.selectedFeatureIndex / this.featuresPerPage) + 1 : null;\n  }\n\n  _featureViewModelsChange() {\n    this.featurePage = this.featureCount > 1 ? 1 : null;\n  }\n\n  _setGraphicOnFeatureViewModels() {\n    const {\n      features: e,\n      featureCount: t,\n      featurePage: i,\n      featuresPerPage: s,\n      featureViewModels: r\n    } = this;\n    if (null === i) return;\n    const o = ((i - 1) * s + t) % t,\n          n = o + s;\n    r.slice(o, n).forEach((t, i) => {\n      t && !t.graphic && (t.graphic = e[o + i]);\n    });\n  }\n\n  async _selectedFeatureChange(e) {\n    if (!e) return;\n    const {\n      location: t,\n      updateLocationEnabled: i,\n      view: s\n    } = this;\n\n    if (this.browseClusterEnabled) {\n      if (this._selectedClusterFeature && (s.graphics.remove(this._selectedClusterFeature), this._selectedClusterFeature = null), A(e)) return;\n      return e.symbol = await F(e), this._selectedClusterFeature = e, void s.graphics.add(this._selectedClusterFeature);\n    }\n\n    !i && t || !e.geometry ? i && !e.geometry && this.centerAtLocation().then(() => {\n      this.location = s.center.clone();\n    }) : this.location = n(this._getPointFromGeometry(e.geometry));\n  }\n\n  _waitingForResultChange() {\n    !this.featureCount && this.promises && (this.visible = !1);\n  }\n\n  _setFetchFeaturesPromises(e) {\n    return this._fetchFeaturesWithController(this._getScreenPoint(e || this.location)).then(e => {\n      const {\n        clientOnlyGraphics: t,\n        promisesPerLayerView: i\n      } = e,\n            s = Promise.resolve(t),\n            r = i.map(e => e.promise);\n      this.promises = [s, ...r];\n    });\n  }\n\n  _destroyFeatureVMs() {\n    this.featureViewModels.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"featureViewModels\", []);\n  }\n\n  _updateFeatureVMs() {\n    const {\n      selectedFeature: e,\n      features: t,\n      featureViewModels: i\n    } = this;\n    if (A(e) || (this.browseClusterEnabled = !1), this._destroyFeatureVMs(), !t || !t.length) return;\n    const s = i.slice(0),\n          r = [];\n    t.forEach((t, i) => {\n      if (!t) return;\n      let o = null;\n      if (s.some((e, i) => (e && e.graphic === t && (o = e, s.splice(i, 1)), !!o)), o) r[i] = o;else {\n        const s = new b({\n          abilities: this.featureViewModelAbilities,\n          defaultPopupTemplateEnabled: this.defaultPopupTemplateEnabled,\n          spatialReference: this.view?.spatialReference,\n          graphic: t === e ? t : null,\n          map: this.view?.map,\n          view: this.view\n        });\n        r[i] = s;\n      }\n    }), s.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"featureViewModels\", r);\n  }\n\n  _getScreenPoint(e) {\n    const {\n      view: t\n    } = this;\n    return t && e && \"function\" == typeof t.toScreen ? t.toScreen(e) : null;\n  }\n\n  _autoOpenEnabledChange() {\n    const e = \"auto-fetch-features\",\n          {\n      _handles: t,\n      autoOpenEnabled: i\n    } = this;\n\n    if (t.remove(e), i && this.view) {\n      const i = this.view.on(\"click\", e => {\n        \"mouse\" === e.pointerType && 0 !== e.button || this._fetchFeaturesAndOpen(e);\n      }, v.WIDGET);\n      t.add(i, e);\n    }\n  }\n\n  _cancelFetchingFeatures() {\n    const e = this._fetchFeaturesController;\n    e && e.abort(), this._fetchFeaturesController = null, this.notifyChange(\"waitingForResult\");\n  }\n\n  _fetchFeaturesWithController(e, t) {\n    this._cancelFetchingFeatures();\n\n    const i = new AbortController(),\n          {\n      signal: s\n    } = i;\n    this._fetchFeaturesController = i, this.notifyChange(\"waitingForResult\");\n    const r = this.fetchFeatures(e, {\n      signal: s,\n      event: t\n    });\n    return r.catch(() => {}).then(() => {\n      this._fetchFeaturesController = null, this.notifyChange(\"waitingForResult\");\n    }), r;\n  }\n\n  _fetchFeaturesAndOpen(e) {\n    const {\n      screenPoint: t,\n      mapPoint: i\n    } = e,\n          {\n      view: s\n    } = this;\n\n    this._fetchFeaturesWithController(t, e).then(e => {\n      const {\n        clientOnlyGraphics: t,\n        promisesPerLayerView: r,\n        location: o\n      } = e,\n            n = [Promise.resolve(t), ...r.map(e => e.promise)];\n      return s.popup.open({\n        location: o || i,\n        promises: n\n      }), e;\n    });\n  }\n\n  _updatePendingPromises(e) {\n    e && this._pendingPromises.has(e) && (this._pendingPromises.delete(e), this.notifyChange(\"pendingPromisesCount\"));\n  }\n\n  _autoClose() {\n    this.autoCloseEnabled && (this.visible = !1);\n  }\n\n  _getPointFromGeometry(e) {\n    return a(e) ? null : \"point\" === e.type ? e : \"extent\" === e.type ? e.center : \"polygon\" === e.type ? e.centroid : \"multipoint\" === e.type || \"polyline\" === e.type ? e.extent?.center : null;\n  }\n\n  async _getLayerView(e, t) {\n    return await e.when(), e.whenLayerView(t);\n  }\n\n  _getHighlightLayer(e) {\n    const {\n      layer: t,\n      sourceLayer: i\n    } = e;\n    return i && \"layer\" in i && i.layer ? i.layer : \"map-notes\" === i?.type || \"subtype-group\" === i?.type ? i : t;\n  }\n\n  _getHighlightTarget(e, t) {\n    const i = \"imagery\" === t.type ? void 0 : \"objectIdField\" in t ? t.objectIdField || f : null,\n          s = e.attributes;\n    return s && i && s[i] || e;\n  }\n\n  async _highlightActiveFeature() {\n    const e = \"highlight-active-feature\";\n\n    this._handles.remove(e);\n\n    const {\n      highlightEnabled: t,\n      view: i,\n      activeFeature: s,\n      visible: r\n    } = this;\n    if (!(s && i && t && r)) return;\n\n    const o = this._getHighlightLayer(s);\n\n    if (!(o && o instanceof g)) return;\n\n    const n = this._getLayerView(i, o);\n\n    this._highlightActiveFeaturePromise = n;\n    const a = await n;\n    if (!(a && _(a) && this._highlightActiveFeaturePromise === n && this.activeFeature && this.highlightEnabled)) return;\n    const l = a.highlight(this._getHighlightTarget(s, o));\n\n    this._handles.add(l, e);\n  }\n\n  async _highlightSelectedFeature() {\n    const e = \"highlight-selected-feature\";\n\n    this._handles.remove(e);\n\n    const {\n      selectedFeature: t,\n      highlightEnabled: i,\n      view: s,\n      visible: r\n    } = this;\n    if (!(t && s && i && r)) return;\n\n    const o = this._getHighlightLayer(t);\n\n    if (!(o && o instanceof g)) return;\n\n    const n = this._getLayerView(s, o);\n\n    this._highlightSelectedFeaturePromise = n;\n    const a = await n;\n    if (!(a && _(a) && this._highlightSelectedFeaturePromise === n && this.selectedFeature && this.highlightEnabled && this.visible)) return;\n    const l = a.highlight(this._getHighlightTarget(t, o));\n\n    this._handles.add(l, e);\n  }\n\n  _updateFeatures(e) {\n    const {\n      features: t\n    } = this;\n    if (!e || !e.length) return;\n    if (!t.length) return void (this.features = e);\n    const i = e.filter(e => !t.includes(e));\n    this.features = t.concat(i);\n  }\n\n};\ne([c()], z.prototype, \"featurePage\", void 0), e([c()], z.prototype, \"isLoadingFeature\", null), e([c({\n  type: B\n})], z.prototype, \"actions\", void 0), e([c({\n  readOnly: !0\n})], z.prototype, \"active\", null), e([c()], z.prototype, \"activeFeature\", void 0), e([c({\n  readOnly: !0\n})], z.prototype, \"allActions\", null), e([c({\n  type: Boolean\n})], z.prototype, \"defaultPopupTemplateEnabled\", void 0), e([c()], z.prototype, \"autoCloseEnabled\", void 0), e([c()], z.prototype, \"autoOpenEnabled\", void 0), e([c()], z.prototype, \"browseClusterEnabled\", void 0), e([c()], z.prototype, \"content\", void 0), e([c({\n  type: B,\n  readOnly: !0\n})], z.prototype, \"defaultActions\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"featureCount\", null), e([c()], z.prototype, \"features\", null), e([c()], z.prototype, \"featuresPerPage\", void 0), e([c()], z.prototype, \"featureViewModelAbilities\", void 0), e([c({\n  readOnly: !0\n})], z.prototype, \"featureViewModels\", void 0), e([c()], z.prototype, \"highlightEnabled\", void 0), e([c()], z.prototype, \"includeDefaultActions\", void 0), e([c({\n  type: S\n})], z.prototype, \"location\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"pendingPromisesCount\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"selectedClusterBoundaryFeature\", void 0), e([c({\n  readOnly: !0\n})], z.prototype, \"waitingForResult\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"promiseCount\", null), e([c()], z.prototype, \"promises\", null), e([c({\n  value: null,\n  readOnly: !0\n})], z.prototype, \"selectedFeature\", null), e([c({\n  value: -1\n})], z.prototype, \"selectedFeatureIndex\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"selectedFeatureViewModel\", null), e([c({\n  readOnly: !0\n})], z.prototype, \"state\", null), e([c()], z.prototype, \"title\", void 0), e([c()], z.prototype, \"updateLocationEnabled\", void 0), e([c()], z.prototype, \"view\", void 0), e([c()], z.prototype, \"visible\", void 0), e([c()], z.prototype, \"zoomFactor\", void 0), e([c()], z.prototype, \"zoomToLocation\", void 0), e([c()], z.prototype, \"centerAtLocation\", null), z = e([d(\"esri.widgets.Popup.PopupViewModel\")], z);\nconst H = z;\nexport { H as default };","map":{"version":3,"names":["_","e","t","i","s","r","o","unwrap","n","isNone","a","watch","l","when","h","sync","u","property","c","subclass","d","geographicToWebMercator","p","g","fallbackObjectIDAttribute","f","m","y","w","getDisplayedSymbol","F","ViewEventPriorities","v","highlightsSupported","b","zoomToFeature","C","zoomToClusteredFeatures","P","browseClusteredFeatures","E","triggerAction","V","isClusterFeature","A","getSelectedTarget","M","removeClusteredFeaturesForBrowsing","j","displayClusterExtent","L","browseAggregateFeatures","O","T","GoToMixin","x","I","S","B","ofType","key","defaultKeyValue","base","typeMap","button","toggle","G","clone","R","z","constructor","_handles","_pendingPromises","Set","_fetchFeaturesController","_selectedClusterFeature","featurePage","actions","activeFeature","defaultPopupTemplateEnabled","autoCloseEnabled","autoOpenEnabled","browseClusterEnabled","content","featuresPerPage","featureViewModelAbilities","featureViewModels","highlightEnabled","includeDefaultActions","selectedClusterBoundaryFeature","symbol","outline","width","color","style","title","updateLocationEnabled","view","visible","zoomFactor","zoomToLocation","isLoadingFeature","some","waitingForContent","initialize","add","_autoOpenEnabledChange","on","_autoClose","selectedFeature","_highlightSelectedFeature","_highlightActiveFeature","animation","state","_animationStateChange","location","_locationChange","_selectedFeatureChange","selectedFeatureIndex","featureCount","_selectedFeatureIndexChange","_setGraphicOnFeatureViewModels","_featureViewModelsChange","event","waitingForResult","_waitingForResultChange","features","map","spatialReference","_updateFeatureVMs","scale","_viewScaleChange","enableClusterBrowsing","disableClusterBrowsing","destroy","_cancelFetchingFeatures","clear","active","allActions","_get","removeAll","defaultActions","concat","getEffectivePopupTemplate","popupTemplate","overwriteActions","filter","Boolean","forEach","addMany","length","_set","pendingPromisesCount","promiseCount","get","size","promises","Array","isArray","notifyChange","slice","has","_updateFeatures","_updatePendingPromises","then","isNaN","selectedFeatureViewModel","centerAtLocation","callGoTo","target","Promise","reject","zoomTo","set","fetchFeatures","screenPoint","fetchPopupFeatures","signal","open","_setFetchFeaturesPromises","getItemAt","disabled","emit","action","next","previous","_clearBrowsedClusterGraphics","type","getLogger","declaredClass","warn","graphics","remove","geometry","Math","floor","graphic","center","_getPointFromGeometry","_fetchFeaturesWithController","_getScreenPoint","clientOnlyGraphics","promisesPerLayerView","resolve","promise","_destroyFeatureVMs","destroyed","splice","abilities","toScreen","pointerType","_fetchFeaturesAndOpen","WIDGET","abort","AbortController","catch","mapPoint","popup","delete","centroid","extent","_getLayerView","whenLayerView","_getHighlightLayer","layer","sourceLayer","_getHighlightTarget","objectIdField","attributes","_highlightActiveFeaturePromise","highlight","_highlightSelectedFeaturePromise","includes","prototype","readOnly","value","H","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Popup/PopupViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../symbols.js\";import i from\"../../core/Collection.js\";import s from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import o from\"../../core/Logger.js\";import{unwrap as n,isNone as a}from\"../../core/maybe.js\";import{watch as l,when as h,sync as u}from\"../../core/reactiveUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{geographicToWebMercator as p}from\"../../geometry/support/webMercatorUtils.js\";import g from\"../../layers/Layer.js\";import{fallbackObjectIDAttribute as f}from\"../../layers/LayerConstants.js\";import m from\"../../support/actions/ActionBase.js\";import y from\"../../support/actions/ActionButton.js\";import w from\"../../support/actions/ActionToggle.js\";import{getDisplayedSymbol as F}from\"../../symbols/support/symbolUtils.js\";import{ViewEventPriorities as v}from\"../../views/input/InputManager.js\";import{highlightsSupported as _}from\"../../views/support/layerViewUtils.js\";import b from\"../Feature/FeatureViewModel.js\";import{zoomToFeature as C,zoomToClusteredFeatures as P,browseClusteredFeatures as E}from\"./actions.js\";import{triggerAction as V,isClusterFeature as A,getSelectedTarget as M,removeClusteredFeaturesForBrowsing as j,displayClusterExtent as L,browseAggregateFeatures as O}from\"./actionUtils.js\";import T from\"../support/AnchorElementViewModel.js\";import{GoToMixin as x}from\"../support/GoTo.js\";import I from\"../../symbols/SimpleFillSymbol.js\";import S from\"../../geometry/Point.js\";const B=i.ofType({key:\"type\",defaultKeyValue:\"button\",base:m,typeMap:{button:y,toggle:w}}),G=()=>[C.clone()],R=()=>[P.clone(),E.clone()];let z=class extends(x(T)){constructor(e){super(e),this._handles=new r,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new B,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new t({symbol:new I({outline:{width:1.5,color:\"cyan\"},style:\"none\"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some((e=>e.waitingForContent))}initialize(){this._handles.add([l((()=>[this.autoOpenEnabled,this.view]),(()=>this._autoOpenEnabledChange())),this.on(\"view-change\",(()=>this._autoClose())),l((()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view]),(()=>this._highlightSelectedFeature())),l((()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view]),(()=>this._highlightActiveFeature())),l((()=>this.view?.animation?.state),(e=>this._animationStateChange(e))),l((()=>this.location),(e=>this._locationChange(e))),l((()=>this.selectedFeature),(e=>this._selectedFeatureChange(e))),l((()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage]),(()=>this._selectedFeatureIndexChange())),l((()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels]),(()=>this._setGraphicOnFeatureViewModels())),l((()=>this.featureViewModels),(()=>this._featureViewModelsChange())),this.on(\"trigger-action\",(e=>V({event:e,view:this.view}))),h((()=>!this.waitingForResult),(()=>this._waitingForResultChange()),u),l((()=>[this.features,this.view?.map,this.view?.spatialReference]),(()=>this._updateFeatureVMs())),l((()=>this.view?.scale),(()=>this._viewScaleChange())),h((()=>!this.visible),(()=>this.browseClusterEnabled=!1)),l((()=>this.browseClusterEnabled),(e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new B;e.removeAll();const{actions:t,defaultActions:i,defaultPopupTemplateEnabled:s,includeDefaultActions:r,selectedFeature:o}=this,n=r?i.concat(t):t,a=o&&(\"function\"==typeof o.getEffectivePopupTemplate&&o.getEffectivePopupTemplate(s)||o.popupTemplate),l=a&&a.actions,h=a&&a.overwriteActions?l:l?l.concat(n):n;return h&&h.filter(Boolean).forEach((t=>e.add(t))),e}get defaultActions(){const e=this._get(\"defaultActions\")||new B;return e.removeAll(),e.addMany(A(this.selectedFeature)?R():G()),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:i,promiseCount:s,selectedFeatureIndex:r}=this,o=s&&t.length;o&&i&&-1===r?this.selectedFeatureIndex=0:o&&-1!==r||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){const t=this.get(\"view.spatialReference.isWebMercator\");e&&e.get(\"spatialReference.isWGS84\")&&t&&(e=p(e)),this._set(\"location\",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);const t=t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)},i=()=>this._updatePendingPromises(e);e.then(t,i)})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=M(this);return t?this.callGoTo({target:{target:t,scale:e.scale}}):Promise.reject(new s(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e}))}zoomTo(e){return this.callGoTo(e)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:i}=this;if(!i||!e)throw new s(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:i});return i.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:i}=t;delete t.fetchFeatures,i&&this._setFetchFeaturesPromises(t.location);const s=[\"actionsMenuOpen\",\"collapsed\",\"featureMenuOpen\"];for(const r of s)delete t[r];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){j(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;\"2d\"===e?.type?A(t)?(await L(this),await O(this)):o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.\",t):o.getLogger(this.declaredClass).warn(\"enableClusterBrowsing:invalid-view: View must be 2d MapView.\",t)}_animationStateChange(e){this.zoomToLocation||(C.disabled=\"waiting-for-target\"===e)}_clearBrowsedClusterGraphics(){const e=this.view?.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(A(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:i}=this;i&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:i,featuresPerPage:s,featureViewModels:r}=this;if(null===i)return;const o=((i-1)*s+t)%t,n=o+s;r.slice(o,n).forEach(((t,i)=>{t&&!t.graphic&&(t.graphic=e[o+i])}))}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:i,view:s}=this;if(this.browseClusterEnabled){if(this._selectedClusterFeature&&(s.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),A(e))return;return e.symbol=await F(e),this._selectedClusterFeature=e,void s.graphics.add(this._selectedClusterFeature)}!i&&t||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then((()=>{this.location=s.center.clone()})):this.location=n(this._getPointFromGeometry(e.geometry))}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:i}=e,s=Promise.resolve(t),r=i.map((e=>e.promise));this.promises=[s,...r]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:i}=this;if(A(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const s=i.slice(0),r=[];t.forEach(((t,i)=>{if(!t)return;let o=null;if(s.some(((e,i)=>(e&&e.graphic===t&&(o=e,s.splice(i,1)),!!o))),o)r[i]=o;else{const s=new b({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:this.view?.spatialReference,graphic:t===e?t:null,map:this.view?.map,view:this.view});r[i]=s}})),s.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",r)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_autoOpenEnabledChange(){const e=\"auto-fetch-features\",{_handles:t,autoOpenEnabled:i}=this;if(t.remove(e),i&&this.view){const i=this.view.on(\"click\",(e=>{\"mouse\"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)}),v.WIDGET);t.add(i,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const i=new AbortController,{signal:s}=i;this._fetchFeaturesController=i,this.notifyChange(\"waitingForResult\");const r=this.fetchFeatures(e,{signal:s,event:t});return r.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),r}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:i}=e,{view:s}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:r,location:o}=e,n=[Promise.resolve(t),...r.map((e=>e.promise))];return s.popup.open({location:o||i,promises:n}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return a(e)?null:\"point\"===e.type?e:\"extent\"===e.type?e.center:\"polygon\"===e.type?e.centroid:\"multipoint\"===e.type||\"polyline\"===e.type?e.extent?.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:i}=e;return i&&\"layer\"in i&&i.layer?i.layer:\"map-notes\"===i?.type||\"subtype-group\"===i?.type?i:t}_getHighlightTarget(e,t){const i=\"imagery\"===t.type?void 0:\"objectIdField\"in t?t.objectIdField||f:null,s=e.attributes;return s&&i&&s[i]||e}async _highlightActiveFeature(){const e=\"highlight-active-feature\";this._handles.remove(e);const{highlightEnabled:t,view:i,activeFeature:s,visible:r}=this;if(!(s&&i&&t&&r))return;const o=this._getHighlightLayer(s);if(!(o&&o instanceof g))return;const n=this._getLayerView(i,o);this._highlightActiveFeaturePromise=n;const a=await n;if(!(a&&_(a)&&this._highlightActiveFeaturePromise===n&&this.activeFeature&&this.highlightEnabled))return;const l=a.highlight(this._getHighlightTarget(s,o));this._handles.add(l,e)}async _highlightSelectedFeature(){const e=\"highlight-selected-feature\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:i,view:s,visible:r}=this;if(!(t&&s&&i&&r))return;const o=this._getHighlightLayer(t);if(!(o&&o instanceof g))return;const n=this._getLayerView(s,o);this._highlightSelectedFeaturePromise=n;const a=await n;if(!(a&&_(a)&&this._highlightSelectedFeaturePromise===n&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=a.highlight(this._getHighlightTarget(t,o));this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const i=e.filter((e=>!t.includes(e)));this.features=t.concat(i)}};e([c()],z.prototype,\"featurePage\",void 0),e([c()],z.prototype,\"isLoadingFeature\",null),e([c({type:B})],z.prototype,\"actions\",void 0),e([c({readOnly:!0})],z.prototype,\"active\",null),e([c()],z.prototype,\"activeFeature\",void 0),e([c({readOnly:!0})],z.prototype,\"allActions\",null),e([c({type:Boolean})],z.prototype,\"defaultPopupTemplateEnabled\",void 0),e([c()],z.prototype,\"autoCloseEnabled\",void 0),e([c()],z.prototype,\"autoOpenEnabled\",void 0),e([c()],z.prototype,\"browseClusterEnabled\",void 0),e([c()],z.prototype,\"content\",void 0),e([c({type:B,readOnly:!0})],z.prototype,\"defaultActions\",null),e([c({readOnly:!0})],z.prototype,\"featureCount\",null),e([c()],z.prototype,\"features\",null),e([c()],z.prototype,\"featuresPerPage\",void 0),e([c()],z.prototype,\"featureViewModelAbilities\",void 0),e([c({readOnly:!0})],z.prototype,\"featureViewModels\",void 0),e([c()],z.prototype,\"highlightEnabled\",void 0),e([c()],z.prototype,\"includeDefaultActions\",void 0),e([c({type:S})],z.prototype,\"location\",null),e([c({readOnly:!0})],z.prototype,\"pendingPromisesCount\",null),e([c({readOnly:!0})],z.prototype,\"selectedClusterBoundaryFeature\",void 0),e([c({readOnly:!0})],z.prototype,\"waitingForResult\",null),e([c({readOnly:!0})],z.prototype,\"promiseCount\",null),e([c()],z.prototype,\"promises\",null),e([c({value:null,readOnly:!0})],z.prototype,\"selectedFeature\",null),e([c({value:-1})],z.prototype,\"selectedFeatureIndex\",null),e([c({readOnly:!0})],z.prototype,\"selectedFeatureViewModel\",null),e([c({readOnly:!0})],z.prototype,\"state\",null),e([c()],z.prototype,\"title\",void 0),e([c()],z.prototype,\"updateLocationEnabled\",void 0),e([c()],z.prototype,\"view\",void 0),e([c()],z.prototype,\"visible\",void 0),e([c()],z.prototype,\"zoomFactor\",void 0),e([c()],z.prototype,\"zoomToLocation\",void 0),e([c()],z.prototype,\"centerAtLocation\",null),z=e([d(\"esri.widgets.Popup.PopupViewModel\")],z);const H=z;export{H as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}