{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Handles.js\";\nimport { lerp as t, smoothstep as i } from \"../../../core/mathUtils.js\";\nimport { releaseMaybe as s, disposeMaybe as a, destroyMaybe as r, isSome as h, isNone as o, unwrapOr as n } from \"../../../core/maybe.js\";\nimport { on as d } from \"../../../core/reactiveUtils.js\";\nimport { a as m } from \"../../../chunks/vec2.js\";\nimport { a as _ } from \"../../../chunks/vec2f64.js\";\nimport { s as u, l as c, c as l } from \"../../../chunks/vec3.js\";\nimport { c as p } from \"../../../chunks/vec3f64.js\";\nimport { c as f, f as g } from \"../../../chunks/vec4f64.js\";\nimport { earth as v } from \"../../../geometry/support/Ellipsoid.js\";\nimport { rayLeighScaleHeight as b, atmosphereHeight as T, betaRayleigh as R, betaOzone as H, betaMie as w, innerAtmosphereDepth as j, computeInnerAltitudeFade as q } from \"./atmosphereUtils.js\";\nimport { ChapmanAtmosphereTechnique as x } from \"./ChapmanAtmosphereTechnique.js\";\nimport { ChapmanAtmosphereTechniqueConfiguration as E } from \"./ChapmanAtmosphereTechniqueConfiguration.js\";\nimport { NoParameters as z } from \"../webgl-engine/core/shaderModules/interfaces.js\";\nimport { Pos2Tex as B } from \"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as y } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { PrimitiveType as U } from \"../../webgl/enums.js\";\n\nclass C {\n  constructor(e) {\n    this._view = e, this.type = \"realistic\", this.canRender = !0, this._cameraPosition = p(), this._heightParameters = f(), this._betasRayleigh = p(), this._betasCombined = p(), this._scaleHeight = 0, this._radii = _(), this._cameraHeight = 0, this._cameraHeightSq = 0, this._cAtmosphere = 0, this._innerFadeDistance = 0, this._altitudeFade = 0, this._lowerElevationBoundRadius = 0, this._lowerBoundEarthRadius = v.radius, this._hazeStrength = 1, this._darkenHaze = !1, this._updateRadius(v.radius);\n  }\n\n  destroy() {\n    this._atmosphereTechnique = s(this._atmosphereTechnique), this._atmosphereHazeTechnique = s(this._atmosphereHazeTechnique), this._vao = a(this._vao), this._handles = r(this._handles);\n  }\n\n  when() {\n    return Promise.resolve();\n  }\n\n  initializeRenderContext(t) {\n    const i = t.renderContext.rctx,\n          s = this._handles = new e(),\n          a = this._view.basemapTerrain;\n    h(a.rootTiles) && this._updateElevation({\n      spatialReference: a.spatialReference,\n      tile: a.rootTiles[0],\n      extent: a.rootTiles[0].extent,\n      context: \"ground\"\n    }), s.add(d(() => this._view.basemapTerrain, \"elevation-change\", e => this._updateElevation(e), {\n      onListenerAdd: () => this._updateElevation()\n    })), s.add(d(() => this._view.basemapTerrain, \"elevation-bounds-change\", () => this._updateVisibleElevationBounds()));\n    const r = new E();\n    r.haze = !1, this._atmosphereTechnique = t.shaderTechniqueRepository.acquire(x, r), r.haze = !0, this._atmosphereHazeTechnique = t.shaderTechniqueRepository.acquire(x, r), this._vao = y(i, B), this._scaleHeight = b * T, u(this._betasRayleigh, R[0], R[1], R[2]), u(this._betasCombined, R[0] + H[0], R[1] + H[1], R[2] + H[2]);\n  }\n\n  render(e) {\n    this._render(e, this._atmosphereTechnique, e.offscreenRenderingHelper.depthTexture);\n  }\n\n  renderHaze(e, t) {\n    this._darkenHaze = t, this._render(e, this._atmosphereHazeTechnique, e.offscreenRenderingHelper.linearDepthTexture);\n  }\n\n  _render(e, t, i) {\n    this._update(e.bindParameters.camera);\n\n    const s = e.rctx.bindTechnique(t, P, e.bindParameters);\n    e.offscreenRenderingHelper.renderDepthDetached(() => {\n      s.bindTexture(\"depthTex\", i), this._renderCommon(t.program, e);\n    });\n  }\n\n  _renderCommon(e, t) {\n    if (o(this._vao)) return;\n    const i = t.rctx;\n    e.setUniform4fv(\"heightParameters\", this._heightParameters), e.setUniform3fv(\"cameraPosition\", this._cameraPosition), e.setUniform2fv(\"radii\", this._radii), e.setUniform1f(\"scaleHeight\", this._scaleHeight), e.setUniform1f(\"betaMie\", w), e.setUniform3fv(\"betaRayleigh\", this._betasRayleigh), e.setUniform3fv(\"betaCombined\", this._betasCombined), e.setUniform1f(\"innerFadeDistance\", this._innerFadeDistance), e.setUniform1f(\"altitudeFade\", this._altitudeFade), e.setUniform1f(\"hazeStrength\", this._hazeStrength), i.bindVAO(this._vao), e.assertCompatibleVertexAttributeLocations(this._vao), i.drawArrays(U.TRIANGLE_STRIP, 0, 4);\n  }\n\n  _adjustRadiusForTesselation(e) {\n    return e * Math.cos(Math.PI / 16 / 16);\n  }\n\n  _updateElevation(e) {\n    const t = e ? e.tile : n(this._view.basemapTerrain.rootTiles, [null])[0];\n    if (o(t) || 0 !== t.level) return;\n\n    const i = this._adjustRadiusForTesselation(v.radius + t.elevationBounds[0]);\n\n    i !== this._lowerElevationBoundRadius && (this._lowerElevationBoundRadius = i, this._lowerBoundEarthRadius = -1, this._updateVisibleElevationBounds());\n  }\n\n  _updateVisibleElevationBounds() {\n    const e = this._adjustRadiusForTesselation(v.radius + this._view.basemapTerrain.elevationBounds.min);\n\n    (this._lowerBoundEarthRadius < 0 || e < this._lowerBoundEarthRadius) && this._updateRadius(e);\n  }\n\n  _updateRadius(e) {\n    this._lowerBoundEarthRadius = e, m(this._radii, e, e + T), this._innerFadeDistance = 2 * Math.sqrt((2 * e - j) * j);\n  }\n\n  _update(e) {\n    if (o(e)) return;\n    this._cameraHeight = c(e.eye), this._cameraHeightSq = this._cameraHeight * this._cameraHeight, this._cAtmosphere = this._cameraHeightSq - this._radii[1] * this._radii[1];\n    const s = Math.min(1, Math.max(0, (this._cameraHeight - this._radii[0]) / T));\n    this._heightParameters = g(this._cameraHeight, this._cameraHeightSq, this._cAtmosphere, s), l(this._cameraPosition, e.eye), this._altitudeFade = q(this._cameraHeight - this._lowerBoundEarthRadius), this._hazeStrength = this._darkenHaze ? t(.6, 1, i(9500, 10500, this._cameraHeight - v.radius)) : 1;\n  }\n\n  static isSupported(e) {\n    return e.renderContext.rctx.capabilities.depthTexture;\n  }\n\n}\n\nconst P = new z();\nexport { C as ChapmanAtmosphere };","map":{"version":3,"names":["e","lerp","t","smoothstep","i","releaseMaybe","s","disposeMaybe","a","destroyMaybe","r","isSome","h","isNone","o","unwrapOr","n","on","d","m","_","u","l","c","p","f","g","earth","v","rayLeighScaleHeight","b","atmosphereHeight","T","betaRayleigh","R","betaOzone","H","betaMie","w","innerAtmosphereDepth","j","computeInnerAltitudeFade","q","ChapmanAtmosphereTechnique","x","ChapmanAtmosphereTechniqueConfiguration","E","NoParameters","z","Pos2Tex","B","createQuadVAO","y","PrimitiveType","U","C","constructor","_view","type","canRender","_cameraPosition","_heightParameters","_betasRayleigh","_betasCombined","_scaleHeight","_radii","_cameraHeight","_cameraHeightSq","_cAtmosphere","_innerFadeDistance","_altitudeFade","_lowerElevationBoundRadius","_lowerBoundEarthRadius","radius","_hazeStrength","_darkenHaze","_updateRadius","destroy","_atmosphereTechnique","_atmosphereHazeTechnique","_vao","_handles","when","Promise","resolve","initializeRenderContext","renderContext","rctx","basemapTerrain","rootTiles","_updateElevation","spatialReference","tile","extent","context","add","onListenerAdd","_updateVisibleElevationBounds","haze","shaderTechniqueRepository","acquire","render","_render","offscreenRenderingHelper","depthTexture","renderHaze","linearDepthTexture","_update","bindParameters","camera","bindTechnique","P","renderDepthDetached","bindTexture","_renderCommon","program","setUniform4fv","setUniform3fv","setUniform2fv","setUniform1f","bindVAO","assertCompatibleVertexAttributeLocations","drawArrays","TRIANGLE_STRIP","_adjustRadiusForTesselation","Math","cos","PI","level","elevationBounds","min","sqrt","eye","max","isSupported","capabilities","ChapmanAtmosphere"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/environment/ChapmanAtmosphere.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Handles.js\";import{lerp as t,smoothstep as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as s,disposeMaybe as a,destroyMaybe as r,isSome as h,isNone as o,unwrapOr as n}from\"../../../core/maybe.js\";import{on as d}from\"../../../core/reactiveUtils.js\";import{a as m}from\"../../../chunks/vec2.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import{s as u,l as c,c as l}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{c as f,f as g}from\"../../../chunks/vec4f64.js\";import{earth as v}from\"../../../geometry/support/Ellipsoid.js\";import{rayLeighScaleHeight as b,atmosphereHeight as T,betaRayleigh as R,betaOzone as H,betaMie as w,innerAtmosphereDepth as j,computeInnerAltitudeFade as q}from\"./atmosphereUtils.js\";import{ChapmanAtmosphereTechnique as x}from\"./ChapmanAtmosphereTechnique.js\";import{ChapmanAtmosphereTechniqueConfiguration as E}from\"./ChapmanAtmosphereTechniqueConfiguration.js\";import{NoParameters as z}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{Pos2Tex as B}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as y}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as U}from\"../../webgl/enums.js\";class C{constructor(e){this._view=e,this.type=\"realistic\",this.canRender=!0,this._cameraPosition=p(),this._heightParameters=f(),this._betasRayleigh=p(),this._betasCombined=p(),this._scaleHeight=0,this._radii=_(),this._cameraHeight=0,this._cameraHeightSq=0,this._cAtmosphere=0,this._innerFadeDistance=0,this._altitudeFade=0,this._lowerElevationBoundRadius=0,this._lowerBoundEarthRadius=v.radius,this._hazeStrength=1,this._darkenHaze=!1,this._updateRadius(v.radius)}destroy(){this._atmosphereTechnique=s(this._atmosphereTechnique),this._atmosphereHazeTechnique=s(this._atmosphereHazeTechnique),this._vao=a(this._vao),this._handles=r(this._handles)}when(){return Promise.resolve()}initializeRenderContext(t){const i=t.renderContext.rctx,s=this._handles=new e,a=this._view.basemapTerrain;h(a.rootTiles)&&this._updateElevation({spatialReference:a.spatialReference,tile:a.rootTiles[0],extent:a.rootTiles[0].extent,context:\"ground\"}),s.add(d((()=>this._view.basemapTerrain),\"elevation-change\",(e=>this._updateElevation(e)),{onListenerAdd:()=>this._updateElevation()})),s.add(d((()=>this._view.basemapTerrain),\"elevation-bounds-change\",(()=>this._updateVisibleElevationBounds())));const r=new E;r.haze=!1,this._atmosphereTechnique=t.shaderTechniqueRepository.acquire(x,r),r.haze=!0,this._atmosphereHazeTechnique=t.shaderTechniqueRepository.acquire(x,r),this._vao=y(i,B),this._scaleHeight=b*T,u(this._betasRayleigh,R[0],R[1],R[2]),u(this._betasCombined,R[0]+H[0],R[1]+H[1],R[2]+H[2])}render(e){this._render(e,this._atmosphereTechnique,e.offscreenRenderingHelper.depthTexture)}renderHaze(e,t){this._darkenHaze=t,this._render(e,this._atmosphereHazeTechnique,e.offscreenRenderingHelper.linearDepthTexture)}_render(e,t,i){this._update(e.bindParameters.camera);const s=e.rctx.bindTechnique(t,P,e.bindParameters);e.offscreenRenderingHelper.renderDepthDetached((()=>{s.bindTexture(\"depthTex\",i),this._renderCommon(t.program,e)}))}_renderCommon(e,t){if(o(this._vao))return;const i=t.rctx;e.setUniform4fv(\"heightParameters\",this._heightParameters),e.setUniform3fv(\"cameraPosition\",this._cameraPosition),e.setUniform2fv(\"radii\",this._radii),e.setUniform1f(\"scaleHeight\",this._scaleHeight),e.setUniform1f(\"betaMie\",w),e.setUniform3fv(\"betaRayleigh\",this._betasRayleigh),e.setUniform3fv(\"betaCombined\",this._betasCombined),e.setUniform1f(\"innerFadeDistance\",this._innerFadeDistance),e.setUniform1f(\"altitudeFade\",this._altitudeFade),e.setUniform1f(\"hazeStrength\",this._hazeStrength),i.bindVAO(this._vao),e.assertCompatibleVertexAttributeLocations(this._vao),i.drawArrays(U.TRIANGLE_STRIP,0,4)}_adjustRadiusForTesselation(e){return e*Math.cos(Math.PI/16/16)}_updateElevation(e){const t=e?e.tile:n(this._view.basemapTerrain.rootTiles,[null])[0];if(o(t)||0!==t.level)return;const i=this._adjustRadiusForTesselation(v.radius+t.elevationBounds[0]);i!==this._lowerElevationBoundRadius&&(this._lowerElevationBoundRadius=i,this._lowerBoundEarthRadius=-1,this._updateVisibleElevationBounds())}_updateVisibleElevationBounds(){const e=this._adjustRadiusForTesselation(v.radius+this._view.basemapTerrain.elevationBounds.min);(this._lowerBoundEarthRadius<0||e<this._lowerBoundEarthRadius)&&this._updateRadius(e)}_updateRadius(e){this._lowerBoundEarthRadius=e,m(this._radii,e,e+T),this._innerFadeDistance=2*Math.sqrt((2*e-j)*j)}_update(e){if(o(e))return;this._cameraHeight=c(e.eye),this._cameraHeightSq=this._cameraHeight*this._cameraHeight,this._cAtmosphere=this._cameraHeightSq-this._radii[1]*this._radii[1];const s=Math.min(1,Math.max(0,(this._cameraHeight-this._radii[0])/T));this._heightParameters=g(this._cameraHeight,this._cameraHeightSq,this._cAtmosphere,s),l(this._cameraPosition,e.eye),this._altitudeFade=q(this._cameraHeight-this._lowerBoundEarthRadius),this._hazeStrength=this._darkenHaze?t(.6,1,i(9500,10500,this._cameraHeight-v.radius)):1}static isSupported(e){return e.renderContext.rctx.capabilities.depthTexture}}const P=new z;export{C as ChapmanAtmosphere};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}