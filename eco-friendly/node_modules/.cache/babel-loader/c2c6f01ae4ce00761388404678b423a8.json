{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { InputHandler as t } from \"../../../input/InputHandler.js\";\n\nclass e extends t {\n  constructor(t, e, a) {\n    super(!0), this.view = t, this.pointerType = e, this.registerIncoming(\"double-tap-drag\", a, t => this._handleDoubleTapDrag(t));\n  }\n\n  _handleDoubleTapDrag(t) {\n    const {\n      data: e\n    } = t,\n          {\n      pointerType: a\n    } = e;\n    if (a !== this.pointerType) return;\n    t.stopPropagation();\n    const {\n      action: s,\n      delta: i\n    } = e,\n          {\n      view: r\n    } = this,\n          {\n      mapViewNavigation: n\n    } = r;\n\n    switch (s) {\n      case \"begin\":\n        {\n          const {\n            scale: t\n          } = r;\n          this._startScale = t, this._currentScale = t, this._previousDelta = i, n.begin();\n          break;\n        }\n\n      case \"update\":\n        {\n          if (this._previousDelta.y === i.y) return;\n          this._previousDelta = i;\n          const t = 1.015 ** i.y,\n                e = this._startScale * t,\n                a = e / this._currentScale;\n          n.setViewpointImmediate(a), this._currentScale = e;\n          break;\n        }\n\n      case \"end\":\n        {\n          const {\n            constraints: t\n          } = r,\n                {\n            effectiveLODs: e,\n            snapToZoom: a\n          } = t;\n          if (!a || !e) return void n.end();\n          const s = t.snapScale(this._currentScale),\n                o = (i.y > 0 ? Math.max(s, t.snapToPreviousScale(this._startScale)) : Math.min(s, t.snapToNextScale(this._startScale))) / this._currentScale;\n          n.zoom(o);\n          break;\n        }\n    }\n  }\n\n}\n\nexport { e as DoubleTapDragZoom };","map":{"version":3,"names":["InputHandler","t","e","constructor","a","view","pointerType","registerIncoming","_handleDoubleTapDrag","data","stopPropagation","action","s","delta","i","r","mapViewNavigation","n","scale","_startScale","_currentScale","_previousDelta","begin","y","setViewpointImmediate","constraints","effectiveLODs","snapToZoom","end","snapScale","o","Math","max","snapToPreviousScale","min","snapToNextScale","zoom","DoubleTapDragZoom"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/input/handlers/DoubleTapDragZoom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e,a){super(!0),this.view=t,this.pointerType=e,this.registerIncoming(\"double-tap-drag\",a,(t=>this._handleDoubleTapDrag(t)))}_handleDoubleTapDrag(t){const{data:e}=t,{pointerType:a}=e;if(a!==this.pointerType)return;t.stopPropagation();const{action:s,delta:i}=e,{view:r}=this,{mapViewNavigation:n}=r;switch(s){case\"begin\":{const{scale:t}=r;this._startScale=t,this._currentScale=t,this._previousDelta=i,n.begin();break}case\"update\":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const t=1.015**i.y,e=this._startScale*t,a=e/this._currentScale;n.setViewpointImmediate(a),this._currentScale=e;break}case\"end\":{const{constraints:t}=r,{effectiveLODs:e,snapToZoom:a}=t;if(!a||!e)return void n.end();const s=t.snapScale(this._currentScale),o=(i.y>0?Math.max(s,t.snapToPreviousScale(this._startScale)):Math.min(s,t.snapToNextScale(this._startScale)))/this._currentScale;n.zoom(o);break}}}}export{e as DoubleTapDragZoom};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,yBAAN;AAAgC,SAAOA,YAAY,IAAIC,CAAvB,QAA6B,gCAA7B;;AAA8D,MAAMC,CAAN,SAAgBD,CAAhB,CAAiB;EAACE,WAAW,CAACF,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAM,CAAC,CAAP,GAAU,KAAKC,IAAL,GAAUJ,CAApB,EAAsB,KAAKK,WAAL,GAAiBJ,CAAvC,EAAyC,KAAKK,gBAAL,CAAsB,iBAAtB,EAAwCH,CAAxC,EAA2CH,CAAC,IAAE,KAAKO,oBAAL,CAA0BP,CAA1B,CAA9C,CAAzC;EAAsH;;EAAAO,oBAAoB,CAACP,CAAD,EAAG;IAAC,MAAK;MAACQ,IAAI,EAACP;IAAN,IAASD,CAAd;IAAA,MAAgB;MAACK,WAAW,EAACF;IAAb,IAAgBF,CAAhC;IAAkC,IAAGE,CAAC,KAAG,KAAKE,WAAZ,EAAwB;IAAOL,CAAC,CAACS,eAAF;IAAoB,MAAK;MAACC,MAAM,EAACC,CAAR;MAAUC,KAAK,EAACC;IAAhB,IAAmBZ,CAAxB;IAAA,MAA0B;MAACG,IAAI,EAACU;IAAN,IAAS,IAAnC;IAAA,MAAwC;MAACC,iBAAiB,EAACC;IAAnB,IAAsBF,CAA9D;;IAAgE,QAAOH,CAAP;MAAU,KAAI,OAAJ;QAAY;UAAC,MAAK;YAACM,KAAK,EAACjB;UAAP,IAAUc,CAAf;UAAiB,KAAKI,WAAL,GAAiBlB,CAAjB,EAAmB,KAAKmB,aAAL,GAAmBnB,CAAtC,EAAwC,KAAKoB,cAAL,GAAoBP,CAA5D,EAA8DG,CAAC,CAACK,KAAF,EAA9D;UAAwE;QAAM;;MAAA,KAAI,QAAJ;QAAa;UAAC,IAAG,KAAKD,cAAL,CAAoBE,CAApB,KAAwBT,CAAC,CAACS,CAA7B,EAA+B;UAAO,KAAKF,cAAL,GAAoBP,CAApB;UAAsB,MAAMb,CAAC,GAAC,SAAOa,CAAC,CAACS,CAAjB;UAAA,MAAmBrB,CAAC,GAAC,KAAKiB,WAAL,GAAiBlB,CAAtC;UAAA,MAAwCG,CAAC,GAACF,CAAC,GAAC,KAAKkB,aAAjD;UAA+DH,CAAC,CAACO,qBAAF,CAAwBpB,CAAxB,GAA2B,KAAKgB,aAAL,GAAmBlB,CAA9C;UAAgD;QAAM;;MAAA,KAAI,KAAJ;QAAU;UAAC,MAAK;YAACuB,WAAW,EAACxB;UAAb,IAAgBc,CAArB;UAAA,MAAuB;YAACW,aAAa,EAACxB,CAAf;YAAiByB,UAAU,EAACvB;UAA5B,IAA+BH,CAAtD;UAAwD,IAAG,CAACG,CAAD,IAAI,CAACF,CAAR,EAAU,OAAO,KAAKe,CAAC,CAACW,GAAF,EAAZ;UAAoB,MAAMhB,CAAC,GAACX,CAAC,CAAC4B,SAAF,CAAY,KAAKT,aAAjB,CAAR;UAAA,MAAwCU,CAAC,GAAC,CAAChB,CAAC,CAACS,CAAF,GAAI,CAAJ,GAAMQ,IAAI,CAACC,GAAL,CAASpB,CAAT,EAAWX,CAAC,CAACgC,mBAAF,CAAsB,KAAKd,WAA3B,CAAX,CAAN,GAA0DY,IAAI,CAACG,GAAL,CAAStB,CAAT,EAAWX,CAAC,CAACkC,eAAF,CAAkB,KAAKhB,WAAvB,CAAX,CAA3D,IAA4G,KAAKC,aAA3J;UAAyKH,CAAC,CAACmB,IAAF,CAAON,CAAP;UAAU;QAAM;IAA/kB;EAAilB;;AAAx4B;;AAAy4B,SAAO5B,CAAC,IAAImC,iBAAZ"},"metadata":{},"sourceType":"module"}