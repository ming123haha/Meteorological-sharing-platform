{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as t, unwrapOr as r } from \"../../../../core/maybe.js\";\nimport { c as s } from \"../../../../chunks/mat4.js\";\nimport { c as i, I as e } from \"../../../../chunks/mat4f64.js\";\nimport { a, m as n, g as o, l as h, c as d, n as c } from \"../../../../chunks/vec3.js\";\nimport { c as l, U as m } from \"../../../../chunks/vec3f64.js\";\nimport { t as f } from \"../../../../chunks/vec4.js\";\nimport { c as y } from \"../../../../chunks/vec4f64.js\";\nimport { create as u, fromPoints as p, copy as g } from \"../../../../geometry/support/ray.js\";\nimport { ViewingMode as _ } from \"../../../ViewingMode.js\";\nimport { IntersectorOptions as O, IntersectorType as L, StoreResults as j } from \"./IntersectorInterfaces.js\";\nimport { isValidIntersectorResult as E } from \"./intersectorUtils.js\";\nimport { IntersectorTransform as v, getVerticalOffsetObject3D as w } from \"./verticalOffsetUtils.js\";\nimport { isInstanceHidden as b } from \"../materials/renderers/utils.js\";\nconst A = 1e-5;\n\nclass T {\n  constructor(t) {\n    this.options = new O(), this._results = new I(), this.transform = new v(), this.tolerance = A, this.verticalOffset = null, this._ray = u(), this._rayEnd = l(), this._rayBeginTransformed = l(), this._rayEndTransformed = l(), this.viewingMode = null == t ? _.Global : t;\n  }\n\n  get results() {\n    return this._results;\n  }\n\n  get ray() {\n    return this._ray;\n  }\n\n  get rayBegin() {\n    return this._ray.origin;\n  }\n\n  get rayEnd() {\n    return this._rayEnd;\n  }\n\n  reset(t, r, s) {\n    this.resetWithRay(p(t, r, this._ray), s);\n  }\n\n  resetWithRay(t, r) {\n    this.camera = r, t !== this._ray && g(t, this._ray), 0 !== this.options.verticalOffset ? this.viewingMode === _.Local ? this._ray.origin[2] -= this.options.verticalOffset : this.verticalOffset = this.options.verticalOffset : this.verticalOffset = null, a(this._rayEnd, this._ray.origin, this._ray.direction), this._results.init(this._ray);\n  }\n\n  intersect(r = null, s, i, e, a) {\n    this.point = s, this.filterPredicate = e, this.tolerance = null == i ? A : i;\n    const n = w(this.verticalOffset);\n\n    if (t(r) && r.length > 0) {\n      const s = a ? t => {\n        a(t) && this.intersectObject(t);\n      } : t => {\n        this.intersectObject(t);\n      };\n\n      for (const i of r) {\n        const r = i.getSpatialQueryAccelerator && i.getSpatialQueryAccelerator();\n        t(r) ? (t(n) ? r.forEachAlongRayWithVerticalOffset(this._ray.origin, this._ray.direction, s, n) : r.forEachAlongRay(this._ray.origin, this._ray.direction, s), this.options.selectionMode && this.options.hud && r.forEachDegenerateObject(s)) : i.objects.forAll(t => s(t));\n      }\n    }\n\n    this.sortResults();\n  }\n\n  intersectObject(r) {\n    const s = r.geometryRecords;\n    if (!s) return;\n    const i = r.transformation,\n          a = w(this.verticalOffset);\n\n    for (const o of s) {\n      const {\n        geometry: s,\n        material: h,\n        instanceParameters: d\n      } = o;\n      if (b(d)) continue;\n      const c = s.id;\n      this.transform.setAndInvalidateLazyTransforms(i, o.getShaderTransformation()), n(this._rayBeginTransformed, this.rayBegin, this.transform.inverse), n(this._rayEndTransformed, this.rayEnd, this.transform.inverse);\n      const l = this.transform.transform;\n      t(a) && (a.objectTransform = this.transform), h.intersect(s, d, this.transform.transform, this, this._rayBeginTransformed, this._rayEndTransformed, (s, i, a, n, o, h) => {\n        if (s >= 0) {\n          if (t(this.filterPredicate) && !this.filterPredicate(this._ray.origin, this._rayEnd, s)) return;\n          const d = n ? this._results.hud : this._results,\n                m = n ? n => {\n            const d = {\n              object: r,\n              geometryId: c,\n              triangleNr: a,\n              center: t(h) ? [h[0], h[1], h[2]] : null\n            };\n            n.set(L.HUD, d, s, i, e, o);\n          } : t => t.set(L.OBJECT, {\n            object: r,\n            geometryId: c,\n            triangleNr: a\n          }, s, i, l, o);\n          if ((null == d.min.drapedLayerOrder || o >= d.min.drapedLayerOrder) && (null == d.min.dist || s < d.min.dist) && m(d.min), this.options.store !== j.MIN && (null == d.max.drapedLayerOrder || o < d.max.drapedLayerOrder) && (null == d.max.dist || s > d.max.dist) && m(d.max), this.options.store === j.ALL) if (n) {\n            const t = new M(this._ray);\n            m(t), this._results.hud.all.push(t);\n          } else {\n            const t = new N(this._ray);\n            m(t), this._results.all.push(t);\n          }\n        }\n      }, o.shaderTransformation);\n    }\n  }\n\n  sortResults(t = this._results.all) {\n    t.sort((t, s) => t.dist !== s.dist ? r(t.dist, 0) - r(s.dist, 0) : t.drapedLayerOrder !== s.drapedLayerOrder ? r(t.drapedLayerOrder, Number.MAX_VALUE) - r(s.drapedLayerOrder, Number.MAX_VALUE) : r(s.drapedLayerGraphicOrder, Number.MIN_VALUE) - r(t.drapedLayerGraphicOrder, Number.MIN_VALUE));\n  }\n\n}\n\nfunction x(t) {\n  return new T(t);\n}\n\nclass I {\n  constructor() {\n    this.min = new N(u()), this.max = new N(u()), this.hud = {\n      min: new M(u()),\n      max: new M(u()),\n      all: new Array()\n    }, this.ground = new N(u()), this.all = [];\n  }\n\n  init(t) {\n    this.min.init(t), this.max.init(t), this.ground.init(t), this.all.length = 0, this.hud.min.init(t), this.hud.max.init(t), this.hud.all.length = 0;\n  }\n\n}\n\nclass N {\n  constructor(t) {\n    this.intersector = L.OBJECT, this.normal = l(), this.transformation = i(), this._ray = u(), this.init(t);\n  }\n\n  get ray() {\n    return this._ray;\n  }\n\n  get distanceInRenderSpace() {\n    return t(this.dist) ? (o(B, this.ray.direction, this.dist), h(B)) : null;\n  }\n\n  getIntersectionPoint(t) {\n    return !!E(this) && (o(B, this.ray.direction, this.dist), a(t, this.ray.origin, B), !0);\n  }\n\n  getTransformedNormal(t) {\n    return d(R, this.normal), R[3] = 0, f(R, R, this.transformation), d(t, R), c(t, t);\n  }\n\n  init(t) {\n    this.dist = null, this.target = null, this.drapedLayerOrder = null, this.drapedLayerGraphicOrder = null, this.intersector = L.OBJECT, g(t, this._ray);\n  }\n\n  set(t, i, a, n, o, h, c) {\n    this.intersector = t, this.dist = a, d(this.normal, r(n, m)), s(this.transformation, r(o, e)), this.target = i, this.drapedLayerOrder = h, this.drapedLayerGraphicOrder = c;\n  }\n\n  copy(t) {\n    g(t.ray, this._ray), this.intersector = t.intersector, this.dist = t.dist, this.target = t.target, this.drapedLayerOrder = t.drapedLayerOrder, this.drapedLayerGraphicOrder = t.drapedLayerGraphicOrder, d(this.normal, t.normal), s(this.transformation, t.transformation);\n  }\n\n}\n\nclass M extends N {\n  constructor() {\n    super(...arguments), this.intersector = L.HUD;\n  }\n\n}\n\nfunction U(t) {\n  return new N(t);\n}\n\nconst B = l(),\n      R = y();\nexport { A as DEFAULT_TOLERANCE, x as newIntersector, U as newIntersectorResult };","map":{"version":3,"names":["isSome","t","unwrapOr","r","c","s","i","I","e","a","m","n","g","o","l","h","d","U","f","y","create","u","fromPoints","p","copy","ViewingMode","_","IntersectorOptions","O","IntersectorType","L","StoreResults","j","isValidIntersectorResult","E","IntersectorTransform","v","getVerticalOffsetObject3D","w","isInstanceHidden","b","A","T","constructor","options","_results","transform","tolerance","verticalOffset","_ray","_rayEnd","_rayBeginTransformed","_rayEndTransformed","viewingMode","Global","results","ray","rayBegin","origin","rayEnd","reset","resetWithRay","camera","Local","direction","init","intersect","point","filterPredicate","length","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","selectionMode","hud","forEachDegenerateObject","objects","forAll","sortResults","geometryRecords","transformation","geometry","material","instanceParameters","id","setAndInvalidateLazyTransforms","getShaderTransformation","inverse","objectTransform","object","geometryId","triangleNr","center","set","HUD","OBJECT","min","drapedLayerOrder","dist","store","MIN","max","ALL","M","all","push","N","shaderTransformation","sort","Number","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","x","Array","ground","intersector","normal","distanceInRenderSpace","B","getIntersectionPoint","getTransformedNormal","R","target","arguments","DEFAULT_TOLERANCE","newIntersector","newIntersectorResult"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrapOr as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/mat4.js\";import{c as i,I as e}from\"../../../../chunks/mat4f64.js\";import{a,m as n,g as o,l as h,c as d,n as c}from\"../../../../chunks/vec3.js\";import{c as l,U as m}from\"../../../../chunks/vec3f64.js\";import{t as f}from\"../../../../chunks/vec4.js\";import{c as y}from\"../../../../chunks/vec4f64.js\";import{create as u,fromPoints as p,copy as g}from\"../../../../geometry/support/ray.js\";import{ViewingMode as _}from\"../../../ViewingMode.js\";import{IntersectorOptions as O,IntersectorType as L,StoreResults as j}from\"./IntersectorInterfaces.js\";import{isValidIntersectorResult as E}from\"./intersectorUtils.js\";import{IntersectorTransform as v,getVerticalOffsetObject3D as w}from\"./verticalOffsetUtils.js\";import{isInstanceHidden as b}from\"../materials/renderers/utils.js\";const A=1e-5;class T{constructor(t){this.options=new O,this._results=new I,this.transform=new v,this.tolerance=A,this.verticalOffset=null,this._ray=u(),this._rayEnd=l(),this._rayBeginTransformed=l(),this._rayEndTransformed=l(),this.viewingMode=null==t?_.Global:t}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,r,s){this.resetWithRay(p(t,r,this._ray),s)}resetWithRay(t,r){this.camera=r,t!==this._ray&&g(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===_.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,a(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(r=null,s,i,e,a){this.point=s,this.filterPredicate=e,this.tolerance=null==i?A:i;const n=w(this.verticalOffset);if(t(r)&&r.length>0){const s=a?t=>{a(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const i of r){const r=i.getSpatialQueryAccelerator&&i.getSpatialQueryAccelerator();t(r)?(t(n)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,s,n):r.forEachAlongRay(this._ray.origin,this._ray.direction,s),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(s)):i.objects.forAll((t=>s(t)))}}this.sortResults()}intersectObject(r){const s=r.geometryRecords;if(!s)return;const i=r.transformation,a=w(this.verticalOffset);for(const o of s){const{geometry:s,material:h,instanceParameters:d}=o;if(b(d))continue;const c=s.id;this.transform.setAndInvalidateLazyTransforms(i,o.getShaderTransformation()),n(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),n(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const l=this.transform.transform;t(a)&&(a.objectTransform=this.transform),h.intersect(s,d,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((s,i,a,n,o,h)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEnd,s))return;const d=n?this._results.hud:this._results,m=n?n=>{const d={object:r,geometryId:c,triangleNr:a,center:t(h)?[h[0],h[1],h[2]]:null};n.set(L.HUD,d,s,i,e,o)}:t=>t.set(L.OBJECT,{object:r,geometryId:c,triangleNr:a},s,i,l,o);if((null==d.min.drapedLayerOrder||o>=d.min.drapedLayerOrder)&&(null==d.min.dist||s<d.min.dist)&&m(d.min),this.options.store!==j.MIN&&(null==d.max.drapedLayerOrder||o<d.max.drapedLayerOrder)&&(null==d.max.dist||s>d.max.dist)&&m(d.max),this.options.store===j.ALL)if(n){const t=new M(this._ray);m(t),this._results.hud.all.push(t)}else{const t=new N(this._ray);m(t),this._results.all.push(t)}}}),o.shaderTransformation)}}sortResults(t=this._results.all){t.sort(((t,s)=>t.dist!==s.dist?r(t.dist,0)-r(s.dist,0):t.drapedLayerOrder!==s.drapedLayerOrder?r(t.drapedLayerOrder,Number.MAX_VALUE)-r(s.drapedLayerOrder,Number.MAX_VALUE):r(s.drapedLayerGraphicOrder,Number.MIN_VALUE)-r(t.drapedLayerGraphicOrder,Number.MIN_VALUE)))}}function x(t){return new T(t)}class I{constructor(){this.min=new N(u()),this.max=new N(u()),this.hud={min:new M(u()),max:new M(u()),all:new Array},this.ground=new N(u()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class N{constructor(t){this.intersector=L.OBJECT,this.normal=l(),this.transformation=i(),this._ray=u(),this.init(t)}get ray(){return this._ray}get distanceInRenderSpace(){return t(this.dist)?(o(B,this.ray.direction,this.dist),h(B)):null}getIntersectionPoint(t){return!!E(this)&&(o(B,this.ray.direction,this.dist),a(t,this.ray.origin,B),!0)}getTransformedNormal(t){return d(R,this.normal),R[3]=0,f(R,R,this.transformation),d(t,R),c(t,t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=L.OBJECT,g(t,this._ray)}set(t,i,a,n,o,h,c){this.intersector=t,this.dist=a,d(this.normal,r(n,m)),s(this.transformation,r(o,e)),this.target=i,this.drapedLayerOrder=h,this.drapedLayerGraphicOrder=c}copy(t){g(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,d(this.normal,t.normal),s(this.transformation,t.transformation)}}class M extends N{constructor(){super(...arguments),this.intersector=L.HUD}}function U(t){return new N(t)}const B=l(),R=y();export{A as DEFAULT_TOLERANCE,x as newIntersector,U as newIntersectorResult};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}