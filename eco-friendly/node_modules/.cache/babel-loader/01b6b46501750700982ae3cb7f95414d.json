{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport t from \"../../../../core/has.js\";\nimport { clone as r } from \"../../../../core/lang.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { isSome as n, unwrap as l, isNone as s, unwrapOr as o } from \"../../../../core/maybe.js\";\nimport { pt2px as a } from \"../../../../core/screenUtils.js\";\nimport { sqlAnd as u } from \"../../../../core/sql.js\";\nimport { WGLSymbologyType as f } from \"../../engine/webgl/enums.js\";\nimport { getVVType as d } from \"../../engine/webgl/Utils.js\";\nimport { getTechniqueFromRenderer as p } from \"../../engine/webgl/techniques/utils.js\";\nimport { getVVFlags as c } from \"../../engine/webgl/util/vvFlagUtils.js\";\nimport { createSymbolSchema as y } from \"./createSymbolSchema.js\";\nexport { createSymbolSchema } from \"./createSymbolSchema.js\";\nimport { getPtMaxVVSize as m } from \"./support/pixelBuffering.js\";\nimport { getSupportedHeatmapRenderer as g, simplifyVisualVariables as b } from \"./support/rendererUtils.js\";\nimport { convertAggregateFieldFromPublic as x, createClusterRenderer as h } from \"../support/clusterUtils.js\";\nimport { toJSONGeometryType as v } from \"../support/util.js\";\nconst w = i.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),\n      T = \"ValidationError\",\n      E = {\n  esriGeometryPoint: [\"above-right\", \"above-center\", \"above-left\", \"center-center\", \"center-left\", \"center-right\", \"below-center\", \"below-left\", \"below-right\"],\n  esriGeometryPolygon: [\"always-horizontal\"],\n  esriGeometryPolyline: [\"center-along\"],\n  esriGeometryMultipoint: null\n};\n\nfunction I(e) {\n  return e;\n}\n\nfunction S(e) {\n  let t = 0,\n      r = 0,\n      i = f.DEFAULT;\n\n  if (n(e)) {\n    if (r = m(e), \"visualVariables\" in e && (t = c(e.visualVariables || []), \"dot-density\" === e.type && (i = f.DOT_DENSITY)), \"heatmap\" === e.type && (i = f.HEATMAP), \"dictionary\" === e.type) return {\n      maxVVSize: r,\n      vvFlags: t,\n      symbologyType: f.DEFAULT\n    };\n    if (\"pie-chart\" === e.type) return {\n      maxVVSize: r,\n      vvFlags: t,\n      symbologyType: f.PIE_CHART\n    };\n\n    if (i !== f.DOT_DENSITY && i !== f.HEATMAP) {\n      const t = e.getSymbols();\n      \"backgroundFillSymbol\" in e && e.backgroundFillSymbol && t.push(e.backgroundFillSymbol);\n      let r = !0,\n          n = !0;\n\n      for (const e of t) if (\"cim\" === e.type && (n = !1), \"simple-fill\" === e.type || \"picture-fill\" === e.type) {\n        const t = e.outline,\n              i = t && \"none\" !== t.style && \"solid\" !== t.style,\n              l = \"simple-fill\" === e.type && \"none\" !== e.style && \"solid\" !== e.style,\n              s = \"picture-fill\" === e.type || l || i;\n        i && (r = !1), s && (n = !1);\n      }\n\n      r ? i = n ? f.OUTLINE_FILL_SIMPLE : f.OUTLINE_FILL : n && (i = f.SIMPLE);\n    }\n  }\n\n  return {\n    vvFlags: t,\n    maxVVSize: r,\n    symbologyType: i\n  };\n}\n\nfunction F(t, r) {\n  const i = t.labelPlacement,\n        n = E[r];\n  if (!t.symbol) return w.warn(\"No ILabelClass symbol specified.\"), !0;\n  if (!n) return w.error(new e(\"mapview-labeling:unsupported-geometry-type\", `Unable to create labels for Feature Layer, ${r} is not supported`)), !0;\n\n  if (!n.includes(i)) {\n    const e = n[0];\n    i && w.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${e}`), t.labelPlacement = e;\n  }\n\n  return !1;\n}\n\nfunction V(e, t) {\n  const i = r(e);\n  return i.some(e => F(e, t)) ? [] : i;\n}\n\nfunction z(e) {\n  return t(\"esri-2d-update-debug\") && console.debug(\"Created new schema\", N(e, !0)), N(e);\n}\n\nfunction N(e, t = !1) {\n  try {\n    const r = U(e, t),\n          i = $(e),\n          l = {};\n    r.map(t => M(l, e, t));\n    const s = n(e.subtypeCode) ? `${e.subtypeField} = ${e.subtypeCode}` : null,\n          o = u(e.definitionExpression, s);\n    return {\n      source: {\n        definitionExpression: o,\n        fields: e.fields.map(e => e.toJSON()),\n        gdbVersion: e.gdbVersion,\n        historicMoment: e.historicMoment?.getTime(),\n        outFields: e.availableFields,\n        pixelBuffer: e.pixelBuffer,\n        spatialReference: e.spatialReference.toJSON(),\n        timeExtent: e.timeExtent?.toJSON(),\n        customParameters: e.customParameters\n      },\n      attributes: {\n        fields: {},\n        indexCount: 0\n      },\n      processors: r,\n      tileRenderer: i,\n      targets: l\n    };\n  } catch (r) {\n    if (r.fieldName === T) return w.error(r), null;\n    throw r;\n  }\n}\n\nfunction M(t, r, i) {\n  switch (i.target) {\n    case \"feature\":\n      return void P(t, O(r), i);\n\n    case \"aggregate\":\n      {\n        if (!(\"featureReduction\" in r)) return;\n        const n = r.featureReduction;\n\n        switch (n.type) {\n          case \"selection\":\n            throw new e(T, \"Mapview does not support `selection` reduction type\", n);\n\n          case \"binning\":\n            return P(t, O(r), i), void j(t, n, i);\n\n          case \"cluster\":\n            return P(t, O(r), i), void R(t, n, i);\n        }\n      }\n  }\n}\n\nfunction L(e, t) {\n  for (const r in t) {\n    const i = t[r];\n    if (i.target !== e.name) continue;\n    const n = e.attributes[r];\n    n ? (n.context.mesh = n.context.mesh || i.context.mesh, n.context.storage = n.context.storage || i.context.storage) : e.attributes[r] = i;\n  }\n\n  return e;\n}\n\nfunction O(e) {\n  return [l(e.filter)?.toJSON() ?? null, l(l(e.featureEffect)?.filter)?.toJSON() ?? null];\n}\n\nfunction P(e, t, r) {\n  return e.feature || (e.feature = {\n    name: \"feature\",\n    input: \"source\",\n    filters: t,\n    attributes: {}\n  }), L(e.feature, r.attributes.fields), e;\n}\n\nfunction j(e, t, r) {\n  return e.aggregate || (e.aggregate = {\n    name: \"aggregate\",\n    type: \"bin\",\n    filters: null,\n    input: \"feature\",\n    params: {\n      fixedBinLevel: t.fixedBinLevel\n    },\n    attributes: {}\n  }), L(e.aggregate, r.attributes.fields), e;\n}\n\nfunction R(e, t, r) {\n  return e.aggregate || (e.aggregate = {\n    name: \"aggregate\",\n    type: \"cluster\",\n    input: \"feature\",\n    filters: null,\n    attributes: {},\n    params: {\n      clusterRadius: a(t.clusterRadius / 2),\n      clusterPixelBuffer: 64 * Math.ceil(a(t.clusterMaxSize) / 64),\n      fields: r.aggregateFields\n    }\n  }), L(e.aggregate, r.attributes.fields), e;\n}\n\nfunction B(e, t) {\n  return t.field ? k(e, { ...t,\n    type: \"field\",\n    field: t.field\n  }) : t.valueExpression ? k(e, { ...t,\n    type: \"expression\",\n    valueExpression: t.valueExpression\n  }) : {\n    field: null,\n    fieldIndex: null\n  };\n}\n\nfunction k(e, t) {\n  switch (t.type) {\n    case \"expression\":\n      {\n        const r = I(t.valueExpression);\n\n        if (!e.fields[r]) {\n          const i = e.indexCount++;\n          e.fields[r] = { ...t,\n            name: r,\n            fieldIndex: i\n          };\n        }\n\n        return {\n          fieldIndex: e.fields[r].fieldIndex\n        };\n      }\n\n    case \"label-expression\":\n      {\n        const r = I(JSON.stringify(t.label));\n\n        if (!e.fields[r]) {\n          const i = e.indexCount++;\n          e.fields[r] = { ...t,\n            name: r,\n            fieldIndex: i\n          };\n        }\n\n        return {\n          fieldIndex: e.fields[r].fieldIndex\n        };\n      }\n\n    case \"field\":\n      {\n        const r = t.field;\n        return \"aggregate\" === t.target && e.fields[r] || (e.fields[r] = { ...t,\n          name: r\n        }), {\n          field: r\n        };\n      }\n\n    case \"statistic\":\n      return e.fields[t.name] = { ...t\n      }, {\n        field: t.name\n      };\n  }\n}\n\nfunction U(e, t = !1) {\n  const r = new Array();\n  let i = 0;\n  return r.push(A(e, i++, t)), r;\n}\n\nfunction C(e, t, r, i, n, l = !1) {\n  const s = k(t, {\n    type: \"label-expression\",\n    target: i,\n    context: {\n      mesh: !0\n    },\n    resultType: \"string\",\n    label: {\n      labelExpression: r.labelExpression,\n      labelExpressionInfo: r.labelExpressionInfo ? {\n        expression: r.labelExpressionInfo.expression\n      } : null,\n      symbol: !!r.symbol,\n      where: r.where\n    }\n  }),\n        {\n    fieldIndex: o\n  } = s,\n        a = S(e);\n  return { ...y(r, a, l),\n    fieldIndex: o,\n    target: i,\n    index: n\n  };\n}\n\nfunction D(t, r, i) {\n  const n = \"featureReduction\" in r && r.featureReduction;\n  if (!n) return {\n    fields: [],\n    labels: [],\n    matcher: null,\n    rendererOverride: null\n  };\n  const l = \"aggregate\",\n        s = [];\n  let o = null,\n      a = v(r.geometryType),\n      u = [],\n      f = null;\n  if (n) switch (n.type) {\n    case \"selection\":\n      throw new e(T, \"Mapview does not support `selection` reduction type\", n);\n\n    case \"cluster\":\n    case \"binning\":\n      if (\"cluster\" === n.type ? a = \"esriGeometryPoint\" : \"binning\" === n.type && (a = \"esriGeometryPolygon\"), n.renderer) {\n        for (const e of n.fields) x(s, e);\n\n        f = n.renderer, o = K(null, l, n.renderer, i), u = n && n.labelsVisible && n.labelingInfo || [];\n      } else if (\"cluster\" === n.type) {\n        if (f = h(s, r.renderer, n, null), n.symbol) {\n          const e = S(f);\n          o = {\n            type: \"simple\",\n            symbol: y(n.symbol, e, i),\n            symbologyType: e.symbologyType\n          };\n        }\n\n        u = n && n.labelsVisible && n.labelingInfo || [];\n      }\n\n  }\n  q(t, s);\n  return {\n    labels: V(u, \"binning\" === n.type ? \"esriGeometryPolygon\" : a),\n    matcher: o,\n    fields: s,\n    rendererOverride: f\n  };\n}\n\nfunction A(t, r, i = !1) {\n  const l = {\n    indexCount: 0,\n    fields: {}\n  },\n        s = \"featureReduction\" in t && t.featureReduction ? \"aggregate\" : \"feature\";\n\n  if (\"sublayers\" in t) {\n    const r = {\n      type: \"subtype\",\n      subtypeField: t.subtypeField,\n      renderers: {},\n      symbologyType: f.DEFAULT\n    },\n          o = {\n      type: \"subtype\",\n      mapping: {},\n      target: \"feature\"\n    },\n          a = {\n      type: \"subtype\",\n      classes: {}\n    },\n          u = {\n      type: \"symbol\",\n      target: \"feature\",\n      aggregateFields: [],\n      attributes: l,\n      storage: o,\n      mesh: {\n        matcher: r,\n        aggregateMatcher: null,\n        labels: a,\n        sortKey: null\n      }\n    },\n          d = new Set();\n    let p = 0;\n\n    for (const {\n      renderer: f,\n      subtypeCode: c,\n      labelingInfo: y,\n      labelsVisible: m\n    } of t.sublayers) {\n      const t = K(l, s, f, i),\n            u = J(l, s, f),\n            g = m && y;\n      if (\"visualVariables\" in f && f.visualVariables && f.visualVariables.length) throw new e(T, \"Visual variables are currently not supported for subtype layers\");\n      if (\"dictionary\" === t.type) throw new e(T, \"Dictionary renderer is not supported in subtype layers\");\n      if (\"subtype\" === t.type) throw new e(T, \"Nested subtype renderers is not supported\");\n      if (n(u) && \"subtype\" === u.type) throw new e(T, \"Nested subtype storage is not supported\");\n      if (n(u) && n(u.attributeMapping)) throw new e(T, \"Non-visual-variable attributes are not supported in subtype layers\");\n      if (\"heatmap\" === t.type) throw new e(T, \"Heatmaps are not supported in subtype layers\");\n      if (\"pie-chart\" === t.type) throw new e(T, \"Pie-charts are not supported in subtype layers\");\n      if (d.has(c)) throw new e(T, \"Subtype codes for sublayers must be unique\");\n      d.add(c), r.renderers[c] = t, o.mapping[c] = u, g && (a.classes[c] = g.map(e => C(f, l, e, \"feature\", p++, i)));\n    }\n\n    return u;\n  }\n\n  if (\"heatmap\" === t.renderer.type && \"raster\" === g()) {\n    const {\n      radius: e,\n      fieldOffset: r,\n      field: i\n    } = t.renderer;\n    return {\n      type: \"heatmap\",\n      aggregateFields: [],\n      attributes: l,\n      target: s,\n      storage: null,\n      mesh: {\n        radius: e,\n        fieldOffset: r,\n        field: B(l, {\n          target: s,\n          field: i,\n          resultType: \"numeric\"\n        }).field\n      }\n    };\n  }\n\n  const o = D(l, t, i),\n        a = v(t.geometryType),\n        u = o.rendererOverride ?? t.renderer,\n        d = K(l, s, u, i),\n        p = J(l, s, u),\n        c = G(l, t.orderBy),\n        y = V(t.labelsVisible && t.labelingInfo || [], a);\n  let m = 0;\n  const b = [...y.map(e => C(u, l, e, \"feature\", m++, i)), ...o.labels.map(e => C(u, l, e, \"aggregate\", m++, i))];\n  return {\n    type: \"symbol\",\n    target: s,\n    attributes: l,\n    aggregateFields: o.fields,\n    storage: p,\n    mesh: {\n      matcher: d,\n      labels: {\n        type: \"simple\",\n        classes: b\n      },\n      aggregateMatcher: o.matcher,\n      sortKey: c\n    }\n  };\n}\n\nfunction $(e) {\n  return \"heatmap\" === e.renderer?.type && \"raster\" === g() ? {\n    type: \"heatmap\"\n  } : {\n    type: \"symbol\"\n  };\n}\n\nfunction G(t, r) {\n  if (s(r) || !r.length) return null;\n  r.length > 1 && w.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);\n  const i = r[0],\n        n = \"ascending\" === i.order ? \"asc\" : \"desc\";\n  if (i.field) return {\n    field: i.field,\n    order: n\n  };\n\n  if (i.valueExpression) {\n    return {\n      fieldIndex: k(t, {\n        type: \"expression\",\n        target: \"feature\",\n        valueExpression: i.valueExpression,\n        resultType: \"numeric\"\n      }).fieldIndex,\n      order: n\n    };\n  }\n\n  return w.error(new e(T, \"Expected to find a field or valueExpression for OrderByInfo\", i)), null;\n}\n\nfunction q(e, t) {\n  const r = {\n    mesh: !0,\n    storage: !0\n  };\n\n  for (const i of t) {\n    const {\n      name: t,\n      outStatistic: n\n    } = i,\n          {\n      statisticType: l,\n      onStatisticField: s\n    } = n;\n    let o = null,\n        a = null,\n        u = null;\n    const f = \"numeric\",\n          d = \"feature\";\n\n    if (\"onStatisticValueExpression\" in n) {\n      a = k(e, {\n        type: \"expression\",\n        target: d,\n        valueExpression: n.onStatisticValueExpression,\n        resultType: f\n      }).fieldIndex;\n    } else if (\"onStatisticNormalizationField\" in n) {\n      o = k(e, {\n        type: \"field\",\n        target: d,\n        field: s,\n        resultType: f\n      }).field, u = n.onStatisticNormalizationField;\n    } else {\n      o = k(e, {\n        type: \"field\",\n        target: d,\n        field: s,\n        resultType: f\n      }).field;\n    }\n\n    k(e, {\n      type: \"statistic\",\n      target: \"aggregate\",\n      name: t,\n      context: r,\n      inField: o,\n      inNormalizationField: u,\n      inFieldIndex: a,\n      statisticType: l\n    });\n  }\n}\n\nfunction J(e, t, r) {\n  let i;\n\n  switch (r.type) {\n    case \"simple\":\n    case \"class-breaks\":\n    case \"unique-value\":\n    case \"dictionary\":\n      i = {\n        visualVariables: !0,\n        attributes: null\n      };\n      break;\n\n    default:\n      i = p(r).getStorageSpec(r);\n  }\n\n  return _(e, t, i, r);\n}\n\nfunction _(e, t, r, i) {\n  if (s(r)) return null;\n  const {\n    visualVariables: l,\n    attributes: o\n  } = r;\n  let a = null;\n  l && \"visualVariables\" in i && (a = H(e, t, i.visualVariables));\n  const u = n(a) ? 4 : 0;\n  let f = null;\n  return n(o) && (f = o.map((r, i) => {\n    const {\n      field: n,\n      fieldIndex: l\n    } = B(e, {\n      valueExpression: r.valueExpression,\n      field: r.field,\n      resultType: \"numeric\",\n      target: t\n    });\n    return {\n      binding: i + u,\n      field: n,\n      fieldIndex: l\n    };\n  })), {\n    type: \"simple\",\n    target: t,\n    attributeMapping: f,\n    vvMapping: a\n  };\n}\n\nfunction H(e, t, r) {\n  if (!r || !r.length) return [];\n  const i = {\n    storage: !0\n  },\n        n = \"numeric\";\n  return b(r).map(r => {\n    const l = d(r.type),\n          {\n      field: s,\n      fieldIndex: o\n    } = B(e, {\n      target: t,\n      valueExpression: r.valueExpression,\n      field: r.field,\n      context: i,\n      resultType: n\n    });\n\n    switch (r.type) {\n      case \"size\":\n        return \"$view.scale\" === r.valueExpression ? null : {\n          type: \"size\",\n          binding: l,\n          field: s,\n          fieldIndex: o,\n          normalizationField: B(e, {\n            target: t,\n            field: r.normalizationField,\n            context: i,\n            resultType: n\n          }).field,\n          valueRepresentation: r.valueRepresentation ?? null\n        };\n\n      case \"color\":\n        return {\n          type: \"color\",\n          binding: l,\n          field: s,\n          fieldIndex: o,\n          normalizationField: B(e, {\n            target: t,\n            field: r.normalizationField,\n            context: i,\n            resultType: n\n          }).field\n        };\n\n      case \"opacity\":\n        return {\n          type: \"opacity\",\n          binding: l,\n          field: s,\n          fieldIndex: o,\n          normalizationField: B(e, {\n            target: t,\n            field: r.normalizationField,\n            context: i,\n            resultType: n\n          }).field\n        };\n\n      case \"rotation\":\n        return {\n          type: \"rotation\",\n          binding: l,\n          field: s,\n          fieldIndex: o\n        };\n    }\n  }).filter(e => e);\n}\n\nfunction K(e, t, r, i = !1) {\n  const n = o(e, {\n    indexCount: 0,\n    fields: {}\n  });\n\n  switch (r.type) {\n    case \"simple\":\n    case \"dot-density\":\n      return Y(n, r, i);\n\n    case \"class-breaks\":\n      return W(n, t, r, i);\n\n    case \"unique-value\":\n      return X(n, t, r, i);\n\n    case \"dictionary\":\n      return Z(n, r, i);\n\n    case \"heatmap\":\n      return ee(n, r, i);\n\n    case \"pie-chart\":\n      return Q(n, r, i);\n  }\n}\n\nfunction Y(e, t, r = !1) {\n  const i = t.getSymbols(),\n        n = i.length ? i[0] : null,\n        l = S(t);\n  return {\n    type: \"simple\",\n    symbol: y(n, l, r),\n    symbologyType: l.symbologyType\n  };\n}\n\nfunction Q(e, t, r = !1) {\n  const i = t.getSymbols(),\n        n = i[0],\n        l = i.length > 1 ? i[1] : null,\n        s = S(t);\n  return {\n    type: \"pie-chart\",\n    markerSymbol: y(n, s, r),\n    fillSymbol: y(l, s, r),\n    symbologyType: s.symbologyType\n  };\n}\n\nfunction W(e, t, r, i = !1) {\n  const n = {\n    mesh: !0,\n    use: \"renderer.field\"\n  },\n        l = r.backgroundFillSymbol,\n        {\n    field: s,\n    fieldIndex: o\n  } = B(e, {\n    target: t,\n    field: r.field,\n    valueExpression: r.valueExpression,\n    resultType: \"numeric\",\n    context: n\n  }),\n        a = r.normalizationType,\n        u = \"log\" === a ? \"esriNormalizeByLog\" : \"percent-of-total\" === a ? \"esriNormalizeByPercentOfTotal\" : \"field\" === a ? \"esriNormalizeByField\" : null,\n        f = S(r),\n        d = r.classBreakInfos.map(e => ({\n    symbol: y(e.symbol, f, i),\n    min: e.minValue,\n    max: e.maxValue\n  })).sort((e, t) => e.min - t.min);\n  return {\n    type: \"interval\",\n    attributes: e.fields,\n    field: s,\n    fieldIndex: o,\n    backgroundFillSymbol: y(l, f, i),\n    defaultSymbol: y(r.defaultSymbol, f, i),\n    intervals: d,\n    normalizationField: r.normalizationField,\n    normalizationTotal: r.normalizationTotal,\n    normalizationType: u,\n    isMaxInclusive: r.isMaxInclusive,\n    symbologyType: f.symbologyType\n  };\n}\n\nfunction X(t, r, i, n = !1) {\n  const l = [],\n        s = i.backgroundFillSymbol,\n        o = {\n    target: r,\n    context: {\n      mesh: !0\n    },\n    resultType: \"string\"\n  };\n  if (i.field && \"string\" != typeof i.field) throw new e(T, \"Expected renderer.field to be a string\", i);\n  const {\n    field: a,\n    fieldIndex: u\n  } = B(t, { ...o,\n    field: i.field,\n    valueExpression: i.valueExpression\n  }),\n        f = S(i);\n\n  for (const e of i.uniqueValueInfos) l.push({\n    value: \"\" + e.value,\n    symbol: y(e.symbol, f, n)\n  });\n\n  return {\n    type: \"map\",\n    attributes: t.fields,\n    field: a,\n    fieldIndex: u,\n    field2: B(t, { ...o,\n      field: i.field2\n    }).field,\n    field3: B(t, { ...o,\n      field: i.field3\n    }).field,\n    fieldDelimiter: i.fieldDelimiter,\n    backgroundFillSymbol: y(s, f),\n    defaultSymbol: y(i.defaultSymbol, f),\n    map: l,\n    symbologyType: f.symbologyType\n  };\n}\n\nfunction Z(e, t, r = !1) {\n  const i = S(t);\n  return {\n    type: \"dictionary\",\n    config: t.config,\n    fieldMap: t.fieldMap,\n    scaleExpression: t.scaleExpression,\n    url: t.url,\n    symbolOptions: i,\n    symbologyType: i.symbologyType\n  };\n}\n\nfunction ee(e, t, r = !1) {\n  const i = t.getSymbols(),\n        n = i.length ? i[0] : null,\n        l = S(t);\n  return {\n    type: \"heatmap\",\n    symbol: y(n, l, r),\n    symbologyType: l.symbologyType\n  };\n}\n\nexport { q as addAggregateFields, K as createMatcherSchema, B as createRendererAttributeSchema, z as createSchema, S as createSymbolSchemaOptions };","map":{"version":3,"names":["e","t","clone","r","i","isSome","n","unwrap","l","isNone","s","unwrapOr","o","pt2px","a","sqlAnd","u","WGLSymbologyType","f","getVVType","d","getTechniqueFromRenderer","p","getVVFlags","c","createSymbolSchema","y","getPtMaxVVSize","m","getSupportedHeatmapRenderer","g","simplifyVisualVariables","b","convertAggregateFieldFromPublic","x","createClusterRenderer","h","toJSONGeometryType","v","w","getLogger","T","E","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","I","S","DEFAULT","visualVariables","type","DOT_DENSITY","HEATMAP","maxVVSize","vvFlags","symbologyType","PIE_CHART","getSymbols","backgroundFillSymbol","push","outline","style","OUTLINE_FILL_SIMPLE","OUTLINE_FILL","SIMPLE","F","labelPlacement","symbol","warn","error","includes","V","some","z","console","debug","N","U","$","map","M","subtypeCode","subtypeField","definitionExpression","source","fields","toJSON","gdbVersion","historicMoment","getTime","outFields","availableFields","pixelBuffer","spatialReference","timeExtent","customParameters","attributes","indexCount","processors","tileRenderer","targets","fieldName","target","P","O","featureReduction","j","R","L","name","context","mesh","storage","filter","featureEffect","feature","input","filters","aggregate","params","fixedBinLevel","clusterRadius","clusterPixelBuffer","Math","ceil","clusterMaxSize","aggregateFields","B","field","k","valueExpression","fieldIndex","JSON","stringify","label","Array","A","C","resultType","labelExpression","labelExpressionInfo","expression","where","index","D","labels","matcher","rendererOverride","geometryType","renderer","K","labelsVisible","labelingInfo","q","renderers","mapping","classes","aggregateMatcher","sortKey","Set","sublayers","J","length","attributeMapping","has","add","radius","fieldOffset","G","orderBy","order","outStatistic","statisticType","onStatisticField","onStatisticValueExpression","onStatisticNormalizationField","inField","inNormalizationField","inFieldIndex","getStorageSpec","_","H","binding","vvMapping","normalizationField","valueRepresentation","Y","W","X","Z","ee","Q","markerSymbol","fillSymbol","use","normalizationType","classBreakInfos","min","minValue","max","maxValue","sort","defaultSymbol","intervals","normalizationTotal","isMaxInclusive","uniqueValueInfos","value","field2","field3","fieldDelimiter","config","fieldMap","scaleExpression","url","symbolOptions","addAggregateFields","createMatcherSchema","createRendererAttributeSchema","createSchema","createSymbolSchemaOptions"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import i from\"../../../../core/Logger.js\";import{isSome as n,unwrap as l,isNone as s,unwrapOr as o}from\"../../../../core/maybe.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{sqlAnd as u}from\"../../../../core/sql.js\";import{WGLSymbologyType as f}from\"../../engine/webgl/enums.js\";import{getVVType as d}from\"../../engine/webgl/Utils.js\";import{getTechniqueFromRenderer as p}from\"../../engine/webgl/techniques/utils.js\";import{getVVFlags as c}from\"../../engine/webgl/util/vvFlagUtils.js\";import{createSymbolSchema as y}from\"./createSymbolSchema.js\";export{createSymbolSchema}from\"./createSymbolSchema.js\";import{getPtMaxVVSize as m}from\"./support/pixelBuffering.js\";import{getSupportedHeatmapRenderer as g,simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{convertAggregateFieldFromPublic as x,createClusterRenderer as h}from\"../support/clusterUtils.js\";import{toJSONGeometryType as v}from\"../support/util.js\";const w=i.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),T=\"ValidationError\",E={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function I(e){return e}function S(e){let t=0,r=0,i=f.DEFAULT;if(n(e)){if(r=m(e),\"visualVariables\"in e&&(t=c(e.visualVariables||[]),\"dot-density\"===e.type&&(i=f.DOT_DENSITY)),\"heatmap\"===e.type&&(i=f.HEATMAP),\"dictionary\"===e.type)return{maxVVSize:r,vvFlags:t,symbologyType:f.DEFAULT};if(\"pie-chart\"===e.type)return{maxVVSize:r,vvFlags:t,symbologyType:f.PIE_CHART};if(i!==f.DOT_DENSITY&&i!==f.HEATMAP){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);let r=!0,n=!0;for(const e of t)if(\"cim\"===e.type&&(n=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline,i=t&&\"none\"!==t.style&&\"solid\"!==t.style,l=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style,s=\"picture-fill\"===e.type||l||i;i&&(r=!1),s&&(n=!1)}r?i=n?f.OUTLINE_FILL_SIMPLE:f.OUTLINE_FILL:n&&(i=f.SIMPLE)}}return{vvFlags:t,maxVVSize:r,symbologyType:i}}function F(t,r){const i=t.labelPlacement,n=E[r];if(!t.symbol)return w.warn(\"No ILabelClass symbol specified.\"),!0;if(!n)return w.error(new e(\"mapview-labeling:unsupported-geometry-type\",`Unable to create labels for Feature Layer, ${r} is not supported`)),!0;if(!n.includes(i)){const e=n[0];i&&w.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${e}`),t.labelPlacement=e}return!1}function V(e,t){const i=r(e);return i.some((e=>F(e,t)))?[]:i}function z(e){return t(\"esri-2d-update-debug\")&&console.debug(\"Created new schema\",N(e,!0)),N(e)}function N(e,t=!1){try{const r=U(e,t),i=$(e),l={};r.map((t=>M(l,e,t)));const s=n(e.subtypeCode)?`${e.subtypeField} = ${e.subtypeCode}`:null,o=u(e.definitionExpression,s);return{source:{definitionExpression:o,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:e.historicMoment?.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:e.timeExtent?.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:r,tileRenderer:i,targets:l}}catch(r){if(r.fieldName===T)return w.error(r),null;throw r}}function M(t,r,i){switch(i.target){case\"feature\":return void P(t,O(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;switch(n.type){case\"selection\":throw new e(T,\"Mapview does not support `selection` reduction type\",n);case\"binning\":return P(t,O(r),i),void j(t,n,i);case\"cluster\":return P(t,O(r),i),void R(t,n,i)}}}}function L(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function O(e){return[l(e.filter)?.toJSON()??null,l(l(e.featureEffect)?.filter)?.toJSON()??null]}function P(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),L(e.feature,r.attributes.fields),e}function j(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"bin\",filters:null,input:\"feature\",params:{fixedBinLevel:t.fixedBinLevel},attributes:{}}),L(e.aggregate,r.attributes.fields),e}function R(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"cluster\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:a(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(a(t.clusterMaxSize)/64),fields:r.aggregateFields}}),L(e.aggregate,r.attributes.fields),e}function B(e,t){return t.field?k(e,{...t,type:\"field\",field:t.field}):t.valueExpression?k(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function k(e,t){switch(t.type){case\"expression\":{const r=I(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=I(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function U(e,t=!1){const r=new Array;let i=0;return r.push(A(e,i++,t)),r}function C(e,t,r,i,n,l=!1){const s=k(t,{type:\"label-expression\",target:i,context:{mesh:!0},resultType:\"string\",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),{fieldIndex:o}=s,a=S(e);return{...y(r,a,l),fieldIndex:o,target:i,index:n}}function D(t,r,i){const n=\"featureReduction\"in r&&r.featureReduction;if(!n)return{fields:[],labels:[],matcher:null,rendererOverride:null};const l=\"aggregate\",s=[];let o=null,a=v(r.geometryType),u=[],f=null;if(n)switch(n.type){case\"selection\":throw new e(T,\"Mapview does not support `selection` reduction type\",n);case\"cluster\":case\"binning\":if(\"cluster\"===n.type?a=\"esriGeometryPoint\":\"binning\"===n.type&&(a=\"esriGeometryPolygon\"),n.renderer){for(const e of n.fields)x(s,e);f=n.renderer,o=K(null,l,n.renderer,i),u=n&&n.labelsVisible&&n.labelingInfo||[]}else if(\"cluster\"===n.type){if(f=h(s,r.renderer,n,null),n.symbol){const e=S(f);o={type:\"simple\",symbol:y(n.symbol,e,i),symbologyType:e.symbologyType}}u=n&&n.labelsVisible&&n.labelingInfo||[]}}q(t,s);return{labels:V(u,\"binning\"===n.type?\"esriGeometryPolygon\":a),matcher:o,fields:s,rendererOverride:f}}function A(t,r,i=!1){const l={indexCount:0,fields:{}},s=\"featureReduction\"in t&&t.featureReduction?\"aggregate\":\"feature\";if(\"sublayers\"in t){const r={type:\"subtype\",subtypeField:t.subtypeField,renderers:{},symbologyType:f.DEFAULT},o={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:l,storage:o,mesh:{matcher:r,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let p=0;for(const{renderer:f,subtypeCode:c,labelingInfo:y,labelsVisible:m}of t.sublayers){const t=K(l,s,f,i),u=J(l,s,f),g=m&&y;if(\"visualVariables\"in f&&f.visualVariables&&f.visualVariables.length)throw new e(T,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===t.type)throw new e(T,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===t.type)throw new e(T,\"Nested subtype renderers is not supported\");if(n(u)&&\"subtype\"===u.type)throw new e(T,\"Nested subtype storage is not supported\");if(n(u)&&n(u.attributeMapping))throw new e(T,\"Non-visual-variable attributes are not supported in subtype layers\");if(\"heatmap\"===t.type)throw new e(T,\"Heatmaps are not supported in subtype layers\");if(\"pie-chart\"===t.type)throw new e(T,\"Pie-charts are not supported in subtype layers\");if(d.has(c))throw new e(T,\"Subtype codes for sublayers must be unique\");d.add(c),r.renderers[c]=t,o.mapping[c]=u,g&&(a.classes[c]=g.map((e=>C(f,l,e,\"feature\",p++,i))))}return u}if(\"heatmap\"===t.renderer.type&&\"raster\"===g()){const{radius:e,fieldOffset:r,field:i}=t.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:l,target:s,storage:null,mesh:{radius:e,fieldOffset:r,field:B(l,{target:s,field:i,resultType:\"numeric\"}).field}}}const o=D(l,t,i),a=v(t.geometryType),u=o.rendererOverride??t.renderer,d=K(l,s,u,i),p=J(l,s,u),c=G(l,t.orderBy),y=V(t.labelsVisible&&t.labelingInfo||[],a);let m=0;const b=[...y.map((e=>C(u,l,e,\"feature\",m++,i))),...o.labels.map((e=>C(u,l,e,\"aggregate\",m++,i)))];return{type:\"symbol\",target:s,attributes:l,aggregateFields:o.fields,storage:p,mesh:{matcher:d,labels:{type:\"simple\",classes:b},aggregateMatcher:o.matcher,sortKey:c}}}function $(e){return\"heatmap\"===e.renderer?.type&&\"raster\"===g()?{type:\"heatmap\"}:{type:\"symbol\"}}function G(t,r){if(s(r)||!r.length)return null;r.length>1&&w.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);const i=r[0],n=\"ascending\"===i.order?\"asc\":\"desc\";if(i.field)return{field:i.field,order:n};if(i.valueExpression){return{fieldIndex:k(t,{type:\"expression\",target:\"feature\",valueExpression:i.valueExpression,resultType:\"numeric\"}).fieldIndex,order:n}}return w.error(new e(T,\"Expected to find a field or valueExpression for OrderByInfo\",i)),null}function q(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,outStatistic:n}=i,{statisticType:l,onStatisticField:s}=n;let o=null,a=null,u=null;const f=\"numeric\",d=\"feature\";if(\"onStatisticValueExpression\"in n){a=k(e,{type:\"expression\",target:d,valueExpression:n.onStatisticValueExpression,resultType:f}).fieldIndex}else if(\"onStatisticNormalizationField\"in n){o=k(e,{type:\"field\",target:d,field:s,resultType:f}).field,u=n.onStatisticNormalizationField}else{o=k(e,{type:\"field\",target:d,field:s,resultType:f}).field}k(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:o,inNormalizationField:u,inFieldIndex:a,statisticType:l})}}function J(e,t,r){let i;switch(r.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":i={visualVariables:!0,attributes:null};break;default:i=p(r).getStorageSpec(r)}return _(e,t,i,r)}function _(e,t,r,i){if(s(r))return null;const{visualVariables:l,attributes:o}=r;let a=null;l&&\"visualVariables\"in i&&(a=H(e,t,i.visualVariables));const u=n(a)?4:0;let f=null;return n(o)&&(f=o.map(((r,i)=>{const{field:n,fieldIndex:l}=B(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i+u,field:n,fieldIndex:l}}))),{type:\"simple\",target:t,attributeMapping:f,vvMapping:a}}function H(e,t,r){if(!r||!r.length)return[];const i={storage:!0},n=\"numeric\";return b(r).map((r=>{const l=d(r.type),{field:s,fieldIndex:o}=B(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:r.valueRepresentation??null};case\"color\":return{type:\"color\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"opacity\":return{type:\"opacity\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"rotation\":return{type:\"rotation\",binding:l,field:s,fieldIndex:o}}})).filter((e=>e))}function K(e,t,r,i=!1){const n=o(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return Y(n,r,i);case\"class-breaks\":return W(n,t,r,i);case\"unique-value\":return X(n,t,r,i);case\"dictionary\":return Z(n,r,i);case\"heatmap\":return ee(n,r,i);case\"pie-chart\":return Q(n,r,i)}}function Y(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,l=S(t);return{type:\"simple\",symbol:y(n,l,r),symbologyType:l.symbologyType}}function Q(e,t,r=!1){const i=t.getSymbols(),n=i[0],l=i.length>1?i[1]:null,s=S(t);return{type:\"pie-chart\",markerSymbol:y(n,s,r),fillSymbol:y(l,s,r),symbologyType:s.symbologyType}}function W(e,t,r,i=!1){const n={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:s,fieldIndex:o}=B(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:n}),a=r.normalizationType,u=\"log\"===a?\"esriNormalizeByLog\":\"percent-of-total\"===a?\"esriNormalizeByPercentOfTotal\":\"field\"===a?\"esriNormalizeByField\":null,f=S(r),d=r.classBreakInfos.map((e=>({symbol:y(e.symbol,f,i),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:s,fieldIndex:o,backgroundFillSymbol:y(l,f,i),defaultSymbol:y(r.defaultSymbol,f,i),intervals:d,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:u,isMaxInclusive:r.isMaxInclusive,symbologyType:f.symbologyType}}function X(t,r,i,n=!1){const l=[],s=i.backgroundFillSymbol,o={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new e(T,\"Expected renderer.field to be a string\",i);const{field:a,fieldIndex:u}=B(t,{...o,field:i.field,valueExpression:i.valueExpression}),f=S(i);for(const e of i.uniqueValueInfos)l.push({value:\"\"+e.value,symbol:y(e.symbol,f,n)});return{type:\"map\",attributes:t.fields,field:a,fieldIndex:u,field2:B(t,{...o,field:i.field2}).field,field3:B(t,{...o,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:y(s,f),defaultSymbol:y(i.defaultSymbol,f),map:l,symbologyType:f.symbologyType}}function Z(e,t,r=!1){const i=S(t);return{type:\"dictionary\",config:t.config,fieldMap:t.fieldMap,scaleExpression:t.scaleExpression,url:t.url,symbolOptions:i,symbologyType:i.symbologyType}}function ee(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,l=S(t);return{type:\"heatmap\",symbol:y(n,l,r),symbologyType:l.symbologyType}}export{q as addAggregateFields,K as createMatcherSchema,B as createRendererAttributeSchema,z as createSchema,S as createSymbolSchemaOptions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}