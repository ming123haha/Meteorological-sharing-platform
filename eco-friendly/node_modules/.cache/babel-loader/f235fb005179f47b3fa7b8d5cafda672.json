{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t } from \"../../../../core/maybe.js\";\nimport { Vertex as i, Edge as s } from \"../EditGeometry.js\";\n\nclass d {\n  constructor(e, t, i) {\n    this.editGeometry = e, this.component = t, this.pos = i, this.addedVertex = null, this.originalEdge = null, this.left = null, this.right = null;\n  }\n\n  apply() {\n    let d = \"redo\";\n    e(this.addedVertex) && (d = \"apply\", this.addedVertex = new i(this.component));\n    const h = this.component.getLastVertex();\n    if (e(h)) this.component.vertices.push(this.addedVertex), this.addedVertex.pos = this.pos, this.addedVertex.index = 0;else {\n      let i = null;\n      h.rightEdge && (this.originalEdge = h.rightEdge, i = this.originalEdge.rightVertex, this.component.edges.splice(this.component.edges.indexOf(this.originalEdge), 1)), this.component.vertices.push(this.addedVertex), this.addedVertex.pos = this.pos, e(this.left) && (this.left = new s(this.component, h, this.addedVertex)), this.component.edges.push(this.left), h.rightEdge = this.left, t(this.originalEdge) && t(i) && (e(this.right) && (this.right = new s(this.component, this.addedVertex, i)), this.component.edges.push(this.right), i.leftEdge = this.right), this.component.updateVertexIndex(this.addedVertex, h.index + 1);\n    }\n    this.editGeometry.notifyChanges({\n      operation: d,\n      addedVertices: [this.addedVertex]\n    });\n  }\n\n  undo() {\n    if (e(this.addedVertex)) return null;\n    this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex), 1), t(this.left) && (this.component.edges.splice(this.component.edges.indexOf(this.left), 1), this.left.leftVertex.rightEdge = null), t(this.right) && (this.component.edges.splice(this.component.edges.indexOf(this.right), 1), this.right.rightVertex.leftEdge = null), t(this.originalEdge) && (this.component.edges.push(this.originalEdge), this.originalEdge.leftVertex.rightEdge = this.originalEdge, this.originalEdge.rightVertex.leftEdge = this.originalEdge), t(this.left) ? this.component.updateVertexIndex(this.left.leftVertex, this.left.leftVertex.index) : this.component.updateVertexIndex(this.addedVertex, 0), this.editGeometry.notifyChanges({\n      operation: \"undo\",\n      removedVertices: [this.addedVertex]\n    });\n  }\n\n  accumulate() {\n    return !1;\n  }\n\n}\n\nexport { d as AppendVertex };","map":{"version":3,"names":["isNone","e","isSome","t","Vertex","i","Edge","s","d","constructor","editGeometry","component","pos","addedVertex","originalEdge","left","right","apply","h","getLastVertex","vertices","push","index","rightEdge","rightVertex","edges","splice","indexOf","leftEdge","updateVertexIndex","notifyChanges","operation","addedVertices","undo","leftVertex","removedVertices","accumulate","AppendVertex"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class d{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let d=\"redo\";e(this.addedVertex)&&(d=\"apply\",this.addedVertex=new i(this.component));const h=this.component.getLastVertex();if(e(h))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;h.rightEdge&&(this.originalEdge=h.rightEdge,i=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,h,this.addedVertex)),this.component.edges.push(this.left),h.rightEdge=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.leftEdge=this.right),this.component.updateVertexIndex(this.addedVertex,h.index+1)}this.editGeometry.notifyChanges({operation:d,addedVertices:[this.addedVertex]})}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0),this.editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.addedVertex]})}accumulate(){return!1}}export{d as AppendVertex};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}