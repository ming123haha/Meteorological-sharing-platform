{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { Milliseconds as e } from \"../../../../../core/time.js\";\nimport { AnimatedSymbolRepeatType as t } from \"../../../../../symbols/cim/enums.js\";\nimport { getMaterialGroup as r, getRandomValue as i } from \"../grouping.js\";\n\nfunction a(t) {\n  return e(t.frameDurations.reduce((e, t) => e + t, 0));\n}\n\nfunction n(e) {\n  const {\n    width: t,\n    height: r\n  } = e;\n  return {\n    frameDurations: e.frameDurations.reverse(),\n    selectFrame: t => {\n      const r = e.frameDurations.length - 1 - t;\n      e.selectFrame(r);\n    },\n    width: t,\n    height: r\n  };\n}\n\nfunction s(t, r) {\n  const {\n    width: i,\n    height: n,\n    selectFrame: s\n  } = t,\n        o = r / a(t);\n  return {\n    frameDurations: t.frameDurations.map(t => e(t * o)),\n    selectFrame: s,\n    width: i,\n    height: n\n  };\n}\n\nfunction o(t, r) {\n  const {\n    width: i,\n    height: a,\n    selectFrame: n\n  } = t,\n        s = t.frameDurations.slice(),\n        o = s.shift();\n  return s.unshift(e(o + r)), {\n    frameDurations: s,\n    selectFrame: n,\n    width: i,\n    height: a\n  };\n}\n\nfunction m(t, r) {\n  const {\n    width: i,\n    height: a,\n    selectFrame: n\n  } = t,\n        s = t.frameDurations.slice(),\n        o = s.pop();\n  return s.push(e(o + r)), {\n    frameDurations: s,\n    selectFrame: n,\n    width: i,\n    height: a\n  };\n}\n\nclass c {\n  constructor(e, t, r) {\n    this._animation = e, this._repeatType = r, this._direction = 1, this._currentFrame = 0, this.timeToFrame = this._animation.frameDurations[this._currentFrame];\n    let i = 0;\n\n    for (; t > i;) i += this.timeToFrame, this.nextFrame();\n\n    this._animation.selectFrame(this._currentFrame);\n  }\n\n  nextFrame() {\n    if (this._currentFrame += this._direction, this._direction > 0) {\n      if (this._currentFrame === this._animation.frameDurations.length) switch (this._repeatType) {\n        case t.None:\n          this._currentFrame -= this._direction;\n          break;\n\n        case t.Loop:\n          this._currentFrame = 0;\n          break;\n\n        case t.Oscillate:\n          this._currentFrame -= this._direction, this._direction = -1;\n      }\n    } else if (-1 === this._currentFrame) switch (this._repeatType) {\n      case t.None:\n        this._currentFrame -= this._direction;\n        break;\n\n      case t.Loop:\n        this._currentFrame = this._animation.frameDurations.length - 1;\n        break;\n\n      case t.Oscillate:\n        this._currentFrame -= this._direction, this._direction = 1;\n    }\n\n    this.timeToFrame = this._animation.frameDurations[this._currentFrame], this._animation.selectFrame(this._currentFrame);\n  }\n\n}\n\nfunction h(h, u, l) {\n  let f,\n      {\n    repeatType: _\n  } = u;\n\n  if (null == _ && (_ = t.Loop), !0 === u.reverseAnimation && (h = n(h)), null != u.duration && (h = s(h, e(1e3 * u.duration))), null != u.repeatDelay) {\n    const r = 1e3 * u.repeatDelay;\n    _ === t.Loop ? h = m(h, e(r)) : _ === t.Oscillate && (h = o(m(h, e(r / 2)), e(r / 2)));\n  }\n\n  if (null != u.startTimeOffset) f = e(1e3 * u.startTimeOffset);else if (null != u.randomizeStartTime) {\n    const t = r(l),\n          n = 82749913,\n          s = null != u.randomizeStartSeed ? u.randomizeStartSeed : n,\n          o = i(t, s);\n    f = e(o * a(h));\n  } else f = e(0);\n  return new c(h, f, _);\n}\n\nfunction u(e, t, r) {\n  const i = null == t.playAnimation || t.playAnimation,\n        a = h(e, t, r);\n  let n,\n      s = a.timeToFrame;\n\n  function o() {\n    n = i && setTimeout(() => {\n      a.nextFrame(), s = a.timeToFrame, o();\n    }, s);\n  }\n\n  return o(), {\n    remove: () => {\n      i && clearTimeout(n);\n    }\n  };\n}\n\nexport { c as Player, s as adjustDuration, m as appendDelay, h as createPlayer, a as getDuration, u as play, o as prependDelay, n as reverse };","map":{"version":3,"names":["Milliseconds","e","AnimatedSymbolRepeatType","t","getMaterialGroup","r","getRandomValue","i","a","frameDurations","reduce","n","width","height","reverse","selectFrame","length","s","o","map","slice","shift","unshift","m","pop","push","c","constructor","_animation","_repeatType","_direction","_currentFrame","timeToFrame","nextFrame","None","Loop","Oscillate","h","u","l","f","repeatType","_","reverseAnimation","duration","repeatDelay","startTimeOffset","randomizeStartTime","randomizeStartSeed","playAnimation","setTimeout","remove","clearTimeout","Player","adjustDuration","appendDelay","createPlayer","getDuration","play","prependDelay"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/animatedFormats/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Milliseconds as e}from\"../../../../../core/time.js\";import{AnimatedSymbolRepeatType as t}from\"../../../../../symbols/cim/enums.js\";import{getMaterialGroup as r,getRandomValue as i}from\"../grouping.js\";function a(t){return e(t.frameDurations.reduce(((e,t)=>e+t),0))}function n(e){const{width:t,height:r}=e;return{frameDurations:e.frameDurations.reverse(),selectFrame:t=>{const r=e.frameDurations.length-1-t;e.selectFrame(r)},width:t,height:r}}function s(t,r){const{width:i,height:n,selectFrame:s}=t,o=r/a(t);return{frameDurations:t.frameDurations.map((t=>e(t*o))),selectFrame:s,width:i,height:n}}function o(t,r){const{width:i,height:a,selectFrame:n}=t,s=t.frameDurations.slice(),o=s.shift();return s.unshift(e(o+r)),{frameDurations:s,selectFrame:n,width:i,height:a}}function m(t,r){const{width:i,height:a,selectFrame:n}=t,s=t.frameDurations.slice(),o=s.pop();return s.push(e(o+r)),{frameDurations:s,selectFrame:n,width:i,height:a}}class c{constructor(e,t,r){this._animation=e,this._repeatType=r,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let i=0;for(;t>i;)i+=this.timeToFrame,this.nextFrame();this._animation.selectFrame(this._currentFrame)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case t.None:this._currentFrame-=this._direction;break;case t.Loop:this._currentFrame=0;break;case t.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case t.None:this._currentFrame-=this._direction;break;case t.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case t.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame],this._animation.selectFrame(this._currentFrame)}}function h(h,u,l){let f,{repeatType:_}=u;if(null==_&&(_=t.Loop),!0===u.reverseAnimation&&(h=n(h)),null!=u.duration&&(h=s(h,e(1e3*u.duration))),null!=u.repeatDelay){const r=1e3*u.repeatDelay;_===t.Loop?h=m(h,e(r)):_===t.Oscillate&&(h=o(m(h,e(r/2)),e(r/2)))}if(null!=u.startTimeOffset)f=e(1e3*u.startTimeOffset);else if(null!=u.randomizeStartTime){const t=r(l),n=82749913,s=null!=u.randomizeStartSeed?u.randomizeStartSeed:n,o=i(t,s);f=e(o*a(h))}else f=e(0);return new c(h,f,_)}function u(e,t,r){const i=null==t.playAnimation||t.playAnimation,a=h(e,t,r);let n,s=a.timeToFrame;function o(){n=i&&setTimeout((()=>{a.nextFrame(),s=a.timeToFrame,o()}),s)}return o(),{remove:()=>{i&&clearTimeout(n)}}}export{c as Player,s as adjustDuration,m as appendDelay,h as createPlayer,a as getDuration,u as play,o as prependDelay,n as reverse};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}