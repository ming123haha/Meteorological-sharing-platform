{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Evented.js\";\nimport has from \"../../../core/has.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { createResolver as s } from \"../../../core/promiseUtils.js\";\nconst i = 1 / has(\"mapview-transitions-duration\");\n\nclass r extends e {\n  constructor() {\n    super(...arguments), this._fadeOutResolver = null, this._fadeInResolver = null, this._clips = null, this.computedVisible = !0, this.computedOpacity = 1, this.fadeTransitionEnabled = !1, this.inFadeTransition = !1, this._isReady = !1, this._opacity = 1, this._stage = null, this._visible = !0;\n  }\n\n  get clips() {\n    return this._clips;\n  }\n\n  set clips(e) {\n    this._clips = e, this.requestRender();\n  }\n\n  get isReady() {\n    return this._isReady;\n  }\n\n  get opacity() {\n    return this._opacity;\n  }\n\n  set opacity(e) {\n    this._opacity !== e && (this._opacity = Math.min(1, Math.max(e, 0)), this.requestRender());\n  }\n\n  get stage() {\n    return this._stage;\n  }\n\n  set stage(e) {\n    if (this._stage === e) return;\n    const t = this._stage;\n    this._stage = e, e ? this._stage.untrashDisplayObject(this) || (this.onAttach(), this.emit(\"attach\")) : t.trashDisplayObject(this);\n  }\n\n  get transforms() {\n    return this._getTransforms();\n  }\n\n  _getTransforms() {\n    return t(this._transforms) && (this._transforms = this._createTransforms()), this._transforms;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  set visible(e) {\n    this._visible !== e && (this._visible = e, this.requestRender());\n  }\n\n  fadeIn() {\n    return this._fadeInResolver || (this._fadeOutResolver && (this._fadeOutResolver(), this._fadeOutResolver = null), this.opacity = 1, this.computedOpacity = 0, this.fadeTransitionEnabled = !0, this._fadeInResolver = s(), this.requestRender()), this._fadeInResolver.promise;\n  }\n\n  fadeOut() {\n    return this._fadeOutResolver || (this.opacity = 0, this._fadeInResolver && (this._fadeInResolver(), this._fadeInResolver = null), this.fadeTransitionEnabled = !0, this._fadeOutResolver = s(), this.requestRender()), this._fadeOutResolver.promise;\n  }\n\n  endTransitions() {\n    this._fadeInResolver?.(), this._fadeInResolver = null, this._fadeOutResolver?.(), this._fadeOutResolver = null, this.computedOpacity = this.visible ? this.opacity : 0, this.requestRender();\n  }\n\n  beforeRender(e) {\n    this.updateTransitionProperties(e.deltaTime, e.state.scale);\n  }\n\n  afterRender(e) {\n    this._fadeInResolver && this.computedOpacity === this.opacity ? (this._fadeInResolver(), this._fadeInResolver = null) : this._fadeOutResolver && 0 === this.computedOpacity && (this._fadeOutResolver(), this._fadeOutResolver = null);\n  }\n\n  remove() {\n    this.parent?.removeChild(this);\n  }\n\n  setTransform(e) {}\n\n  processRender(e) {\n    this.stage && this.computedVisible && this.doRender(e);\n  }\n\n  requestRender() {\n    this.stage && this.stage.requestRender();\n  }\n\n  processDetach() {\n    this._fadeInResolver && (this._fadeInResolver(), this._fadeInResolver = null), this._fadeOutResolver && (this._fadeOutResolver(), this._fadeOutResolver = null), this.onDetach(), this.emit(\"detach\");\n  }\n\n  updateTransitionProperties(e, t) {\n    if (this.fadeTransitionEnabled) {\n      const t = this._fadeOutResolver || !this.visible ? 0 : this.opacity,\n            s = this.computedOpacity;\n      if (s === t) this.computedVisible = this.visible;else {\n        const r = e * i;\n        this.computedOpacity = s > t ? Math.max(t, s - r) : Math.min(t, s + r), this.computedVisible = this.computedOpacity > 0;\n        const a = t === this.computedOpacity;\n        this.inFadeTransition = !a, a || this.requestRender();\n      }\n    } else this.computedOpacity = this.opacity, this.computedVisible = this.visible;\n  }\n\n  onAttach() {}\n\n  onDetach() {}\n\n  doRender(e) {}\n\n  ready() {\n    this._isReady || (this._isReady = !0, this.emit(\"isReady\"), this.requestRender());\n  }\n\n}\n\nexport { r as DisplayObject };","map":{"version":3,"names":["e","has","isNone","t","createResolver","s","i","r","constructor","arguments","_fadeOutResolver","_fadeInResolver","_clips","computedVisible","computedOpacity","fadeTransitionEnabled","inFadeTransition","_isReady","_opacity","_stage","_visible","clips","requestRender","isReady","opacity","Math","min","max","stage","untrashDisplayObject","onAttach","emit","trashDisplayObject","transforms","_getTransforms","_transforms","_createTransforms","visible","fadeIn","promise","fadeOut","endTransitions","beforeRender","updateTransitionProperties","deltaTime","state","scale","afterRender","remove","parent","removeChild","setTransform","processRender","doRender","processDetach","onDetach","a","ready","DisplayObject"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/DisplayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import has from\"../../../core/has.js\";import{isNone as t}from\"../../../core/maybe.js\";import{createResolver as s}from\"../../../core/promiseUtils.js\";const i=1/has(\"mapview-transitions-duration\");class r extends e{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit(\"attach\")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return t(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=s(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=s(),this.requestRender()),this._fadeOutResolver.promise}endTransitions(){this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver?.(),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){this.parent?.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit(\"detach\")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===t)this.computedVisible=this.visible;else{const r=e*i;this.computedOpacity=s>t?Math.max(t,s-r):Math.min(t,s+r),this.computedVisible=this.computedOpacity>0;const a=t===this.computedOpacity;this.inFadeTransition=!a,a||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit(\"isReady\"),this.requestRender())}}export{r as DisplayObject};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}