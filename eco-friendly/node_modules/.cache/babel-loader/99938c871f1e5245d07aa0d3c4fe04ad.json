{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport i from \"../../../core/Accessor.js\";\nimport a from \"../../../core/Handles.js\";\nimport { deg2rad as e, rad2deg as s } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as r, isNone as n } from \"../../../core/maybe.js\";\nimport { watch as o, sync as c, initial as l } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as u } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { ViewingMode as p } from \"../../ViewingMode.js\";\nimport { applyAll as d } from \"../camera/constraintUtils.js\";\nimport { surfaceElevationBelowRenderLocation as m } from \"../camera/intersectionUtils.js\";\nimport { ConstraintTypes as v, InteractionType as w, TiltMode as _ } from \"../camera/constraintUtils/common.js\";\nimport { createNearFarHeuristic as C } from \"./NearFarHeuristic.js\";\nimport { SurfaceCollisionConstraint as f } from \"./SurfaceCollisionConstraint.js\";\nlet M = class extends i {\n  constructor(t) {\n    super(t), this._handles = new a(), this.nearFarHeuristic = C(t.view.state.viewingMode, t.view.basemapTerrain, t.view.renderCoordsHelper.spatialReference);\n  }\n\n  initialize() {\n    this._handles.add([o(() => [this.view.constraints?.clipDistance?.near, this.view.constraints?.clipDistance?.far], () => this._clipDistanceNearFarChanged()), o(() => this.view.constraints?.clipDistance?.mode, () => this._updateNearFar()), this.view.state.events.on(\"before-camera-change\", t => this._updateCameraNearFar(t.camera)), o(() => this.view.renderDataExtent, () => this._updateNearFar(), c), o(() => [this.view.constraints?.altitude?.min, this.view.constraints?.altitude?.max], () => this._updateAltitude(), c), o(() => this.view.constraints?.tilt?.max, () => this._updateTiltMax(), c), o(() => this.view.constraints?.tilt?.mode, () => this._updateTilt(), c), o(() => this.view.state?.camera, () => this._updateTiltAutoMax(), c), o(() => [this.view.map?.ground?.navigationConstraint?.type, this.view.state?.constraints?.collision?.enabled], () => this._updateCollision(), c)]), this.view.state.isLocal && this._handles.add(o(() => this.view.renderDataExtent, t => this._updateLocalSurfaceDistance(t), l)), this._updateNearFar(), this.view.state.viewingMode !== p.Local && this._updateAltitude(), this._updateTilt(), this._updateCollision(), this._set(\"surfaceCollisionConstraint\", new f({\n      view: this.view\n    }));\n  }\n\n  destroy() {\n    this._handles = r(this._handles), this.surfaceCollisionConstraint && (this.surfaceCollisionConstraint.destroy(), this._set(\"surfaceCollisionConstraint\", null));\n  }\n\n  _clipDistanceNearFarChanged() {\n    const t = this.view.constraints?.clipDistance;\n    t && \"auto\" !== t.mode && this.view.state.updateCamera(i => (this._updateCameraNearFarManual(i, t), !0));\n  }\n\n  _updateNearFar() {\n    this.view.state.updateCamera(t => (this._updateCameraNearFar(t), !0));\n  }\n\n  _updateCameraNearFar(t) {\n    const i = this.view.constraints && this.view.constraints.clipDistance;\n    \"manual\" === (i ? i.mode : \"auto\") ? this._updateCameraNearFarManual(t, i) : this._updateCameraNearFarAuto(t, i);\n  }\n\n  _updateCameraNearFarAuto(t, i) {\n    this.nearFarHeuristic.compute(t.eye, t.center, this.view.renderDataExtent, m(this.view, t.eye), t), i && i.autoUpdate(t.near, t.far);\n  }\n\n  _updateCameraNearFarManual(t, i) {\n    i && (t.near = i.near, t.far = i.far);\n  }\n\n  _updateCollision() {\n    const t = this.view.map?.ground?.navigationConstraint?.type,\n          i = !t || \"stay-above\" === t,\n          a = this.view.state.constraints.collision;\n\n    if (i !== a.enabled) {\n      a.enabled = i, i && this._reapplyConstraints(v.COLLISION);\n      const t = this.view.constraints && this.view.constraints.tilt;\n      t && \"auto\" !== t.mode || this._updateTiltAuto();\n    }\n  }\n\n  _updateAltitude() {\n    const t = this.view.constraints && this.view.constraints.altitude;\n    t && this.view.state.viewingMode !== p.Local ? this.view.state.constraints.altitude = {\n      min: t.min,\n      max: t.max\n    } : this.view.state.constraints.altitude = null, this._reapplyConstraints();\n  }\n\n  _updateTiltMax() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    t && \"auto\" !== t.mode && (this._updateTiltManual(t), this._reapplyConstraints());\n  }\n\n  _updateTilt() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    \"manual\" === (t ? t.mode : \"auto\") ? this._updateTiltManual(t) : this._updateTiltAuto(), this._reapplyConstraints();\n  }\n\n  _updateTiltManual(t) {\n    const i = this.view.state.constraints;\n    i.tilt = i.createConstantMaxTilt(e(t.max));\n  }\n\n  _updateTiltAuto() {\n    const t = this.view.state.constraints;\n    t.tilt = t.createDefaultTilt(), this._updateTiltAutoMax();\n  }\n\n  _updateTiltAutoMax() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    if (!t || \"auto\" !== t.mode) return;\n    const i = this.view.state.constraints;\n\n    if (i.tilt) {\n      const a = i.tilt(this.view.state.camera.distance).max;\n      t.autoUpdate(s(a));\n    }\n  }\n\n  _updateLocalSurfaceDistance(t) {\n    if (n(t)) return;\n    let i = Math.max(t.width, t.height);\n    if (i <= 0) return;\n    t.hasZ && (i = Math.max(i, t.zmax - t.zmin));\n    const a = this.view.state,\n          e = 3 * i / Math.atan(a.camera.fov / 2);\n    e !== a.constraints.distance && (a.constraints.distance = e);\n  }\n\n  _reapplyConstraints(t = v.ALL) {\n    this.view.state.updateCamera(i => d(this.view, i, {\n      selection: t,\n      interactionType: w.NONE,\n      interactionFactor: null,\n      interactionStartCamera: null,\n      interactionDirection: null,\n      tiltMode: _.TUMBLE\n    }));\n  }\n\n};\nt([h({\n  constructOnly: !0\n})], M.prototype, \"view\", void 0), t([h({\n  readOnly: !0\n})], M.prototype, \"surfaceCollisionConstraint\", void 0), M = t([u(\"esri.views.3d.state.ConstraintsManager\")], M);\nexport { M as ConstraintsManager };","map":{"version":3,"names":["_","t","i","a","deg2rad","e","rad2deg","s","destroyMaybe","r","isNone","n","watch","o","sync","c","initial","l","property","h","subclass","u","ViewingMode","p","applyAll","d","surfaceElevationBelowRenderLocation","m","ConstraintTypes","v","InteractionType","w","TiltMode","createNearFarHeuristic","C","SurfaceCollisionConstraint","f","M","constructor","_handles","nearFarHeuristic","view","state","viewingMode","basemapTerrain","renderCoordsHelper","spatialReference","initialize","add","constraints","clipDistance","near","far","_clipDistanceNearFarChanged","mode","_updateNearFar","events","on","_updateCameraNearFar","camera","renderDataExtent","altitude","min","max","_updateAltitude","tilt","_updateTiltMax","_updateTilt","_updateTiltAutoMax","map","ground","navigationConstraint","type","collision","enabled","_updateCollision","isLocal","_updateLocalSurfaceDistance","Local","_set","destroy","surfaceCollisionConstraint","updateCamera","_updateCameraNearFarManual","_updateCameraNearFarAuto","compute","eye","center","autoUpdate","_reapplyConstraints","COLLISION","_updateTiltAuto","_updateTiltManual","createConstantMaxTilt","createDefaultTilt","distance","Math","width","height","hasZ","zmax","zmin","atan","fov","ALL","selection","interactionType","NONE","interactionFactor","interactionStartCamera","interactionDirection","tiltMode","TUMBLE","constructOnly","prototype","readOnly","ConstraintsManager"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/state/ConstraintsManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import a from\"../../../core/Handles.js\";import{deg2rad as e,rad2deg as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as r,isNone as n}from\"../../../core/maybe.js\";import{watch as o,sync as c,initial as l}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as p}from\"../../ViewingMode.js\";import{applyAll as d}from\"../camera/constraintUtils.js\";import{surfaceElevationBelowRenderLocation as m}from\"../camera/intersectionUtils.js\";import{ConstraintTypes as v,InteractionType as w,TiltMode as _}from\"../camera/constraintUtils/common.js\";import{createNearFarHeuristic as C}from\"./NearFarHeuristic.js\";import{SurfaceCollisionConstraint as f}from\"./SurfaceCollisionConstraint.js\";let M=class extends i{constructor(t){super(t),this._handles=new a,this.nearFarHeuristic=C(t.view.state.viewingMode,t.view.basemapTerrain,t.view.renderCoordsHelper.spatialReference)}initialize(){this._handles.add([o((()=>[this.view.constraints?.clipDistance?.near,this.view.constraints?.clipDistance?.far]),(()=>this._clipDistanceNearFarChanged())),o((()=>this.view.constraints?.clipDistance?.mode),(()=>this._updateNearFar())),this.view.state.events.on(\"before-camera-change\",(t=>this._updateCameraNearFar(t.camera))),o((()=>this.view.renderDataExtent),(()=>this._updateNearFar()),c),o((()=>[this.view.constraints?.altitude?.min,this.view.constraints?.altitude?.max]),(()=>this._updateAltitude()),c),o((()=>this.view.constraints?.tilt?.max),(()=>this._updateTiltMax()),c),o((()=>this.view.constraints?.tilt?.mode),(()=>this._updateTilt()),c),o((()=>this.view.state?.camera),(()=>this._updateTiltAutoMax()),c),o((()=>[this.view.map?.ground?.navigationConstraint?.type,this.view.state?.constraints?.collision?.enabled]),(()=>this._updateCollision()),c)]),this.view.state.isLocal&&this._handles.add(o((()=>this.view.renderDataExtent),(t=>this._updateLocalSurfaceDistance(t)),l)),this._updateNearFar(),this.view.state.viewingMode!==p.Local&&this._updateAltitude(),this._updateTilt(),this._updateCollision(),this._set(\"surfaceCollisionConstraint\",new f({view:this.view}))}destroy(){this._handles=r(this._handles),this.surfaceCollisionConstraint&&(this.surfaceCollisionConstraint.destroy(),this._set(\"surfaceCollisionConstraint\",null))}_clipDistanceNearFarChanged(){const t=this.view.constraints?.clipDistance;t&&\"auto\"!==t.mode&&this.view.state.updateCamera((i=>(this._updateCameraNearFarManual(i,t),!0)))}_updateNearFar(){this.view.state.updateCamera((t=>(this._updateCameraNearFar(t),!0)))}_updateCameraNearFar(t){const i=this.view.constraints&&this.view.constraints.clipDistance;\"manual\"===(i?i.mode:\"auto\")?this._updateCameraNearFarManual(t,i):this._updateCameraNearFarAuto(t,i)}_updateCameraNearFarAuto(t,i){this.nearFarHeuristic.compute(t.eye,t.center,this.view.renderDataExtent,m(this.view,t.eye),t),i&&i.autoUpdate(t.near,t.far)}_updateCameraNearFarManual(t,i){i&&(t.near=i.near,t.far=i.far)}_updateCollision(){const t=this.view.map?.ground?.navigationConstraint?.type,i=!t||\"stay-above\"===t,a=this.view.state.constraints.collision;if(i!==a.enabled){a.enabled=i,i&&this._reapplyConstraints(v.COLLISION);const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode||this._updateTiltAuto()}}_updateAltitude(){const t=this.view.constraints&&this.view.constraints.altitude;t&&this.view.state.viewingMode!==p.Local?this.view.state.constraints.altitude={min:t.min,max:t.max}:this.view.state.constraints.altitude=null,this._reapplyConstraints()}_updateTiltMax(){const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode&&(this._updateTiltManual(t),this._reapplyConstraints())}_updateTilt(){const t=this.view.constraints&&this.view.constraints.tilt;\"manual\"===(t?t.mode:\"auto\")?this._updateTiltManual(t):this._updateTiltAuto(),this._reapplyConstraints()}_updateTiltManual(t){const i=this.view.state.constraints;i.tilt=i.createConstantMaxTilt(e(t.max))}_updateTiltAuto(){const t=this.view.state.constraints;t.tilt=t.createDefaultTilt(),this._updateTiltAutoMax()}_updateTiltAutoMax(){const t=this.view.constraints&&this.view.constraints.tilt;if(!t||\"auto\"!==t.mode)return;const i=this.view.state.constraints;if(i.tilt){const a=i.tilt(this.view.state.camera.distance).max;t.autoUpdate(s(a))}}_updateLocalSurfaceDistance(t){if(n(t))return;let i=Math.max(t.width,t.height);if(i<=0)return;t.hasZ&&(i=Math.max(i,t.zmax-t.zmin));const a=this.view.state,e=3*i/Math.atan(a.camera.fov/2);e!==a.constraints.distance&&(a.constraints.distance=e)}_reapplyConstraints(t=v.ALL){this.view.state.updateCamera((i=>d(this.view,i,{selection:t,interactionType:w.NONE,interactionFactor:null,interactionStartCamera:null,interactionDirection:null,tiltMode:_.TUMBLE})))}};t([h({constructOnly:!0})],M.prototype,\"view\",void 0),t([h({readOnly:!0})],M.prototype,\"surfaceCollisionConstraint\",void 0),M=t([u(\"esri.views.3d.state.ConstraintsManager\")],M);export{M as ConstraintsManager};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,8BAAlB;AAAiD,OAAOC,CAAP,MAAa,2BAAb;AAAyC,OAAOC,CAAP,MAAa,0BAAb;AAAwC,SAAOC,OAAO,IAAIC,CAAlB,EAAoBC,OAAO,IAAIC,CAA/B,QAAqC,4BAArC;AAAkE,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,MAAM,IAAIC,CAAnC,QAAyC,wBAAzC;AAAkE,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,IAAI,IAAIC,CAA1B,EAA4BC,OAAO,IAAIC,CAAvC,QAA6C,gCAA7C;AAA8E,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,sDAAzB;AAAgF,OAAM,6BAAN;AAAoC,OAAM,sBAAN;AAA6B,OAAM,6CAAN;AAAoD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,sDAAzB;AAAgF,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,sBAA5B;AAAmD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,8BAAzB;AAAwD,SAAOC,mCAAmC,IAAIC,CAA9C,QAAoD,gCAApD;AAAqF,SAAOC,eAAe,IAAIC,CAA1B,EAA4BC,eAAe,IAAIC,CAA/C,EAAiDC,QAAQ,IAAIhC,CAA7D,QAAmE,qCAAnE;AAAyG,SAAOiC,sBAAsB,IAAIC,CAAjC,QAAuC,uBAAvC;AAA+D,SAAOC,0BAA0B,IAAIC,CAArC,QAA2C,iCAA3C;AAA6E,IAAIC,CAAC,GAAC,cAAcnC,CAAd,CAAe;EAACoC,WAAW,CAACrC,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKsC,QAAL,GAAc,IAAIpC,CAAJ,EAAvB,EAA6B,KAAKqC,gBAAL,GAAsBN,CAAC,CAACjC,CAAC,CAACwC,IAAF,CAAOC,KAAP,CAAaC,WAAd,EAA0B1C,CAAC,CAACwC,IAAF,CAAOG,cAAjC,EAAgD3C,CAAC,CAACwC,IAAF,CAAOI,kBAAP,CAA0BC,gBAA1E,CAApD;EAAgJ;;EAAAC,UAAU,GAAE;IAAC,KAAKR,QAAL,CAAcS,GAAd,CAAkB,CAACnC,CAAC,CAAE,MAAI,CAAC,KAAK4B,IAAL,CAAUQ,WAAV,EAAuBC,YAAvB,EAAqCC,IAAtC,EAA2C,KAAKV,IAAL,CAAUQ,WAAV,EAAuBC,YAAvB,EAAqCE,GAAhF,CAAN,EAA6F,MAAI,KAAKC,2BAAL,EAAjG,CAAF,EAAwIxC,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUQ,WAAV,EAAuBC,YAAvB,EAAqCI,IAA3C,EAAkD,MAAI,KAAKC,cAAL,EAAtD,CAAzI,EAAuN,KAAKd,IAAL,CAAUC,KAAV,CAAgBc,MAAhB,CAAuBC,EAAvB,CAA0B,sBAA1B,EAAkDxD,CAAC,IAAE,KAAKyD,oBAAL,CAA0BzD,CAAC,CAAC0D,MAA5B,CAArD,CAAvN,EAAkT9C,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUmB,gBAAhB,EAAmC,MAAI,KAAKL,cAAL,EAAvC,EAA8DxC,CAA9D,CAAnT,EAAoXF,CAAC,CAAE,MAAI,CAAC,KAAK4B,IAAL,CAAUQ,WAAV,EAAuBY,QAAvB,EAAiCC,GAAlC,EAAsC,KAAKrB,IAAL,CAAUQ,WAAV,EAAuBY,QAAvB,EAAiCE,GAAvE,CAAN,EAAoF,MAAI,KAAKC,eAAL,EAAxF,EAAgHjD,CAAhH,CAArX,EAAweF,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUQ,WAAV,EAAuBgB,IAAvB,EAA6BF,GAAnC,EAAyC,MAAI,KAAKG,cAAL,EAA7C,EAAoEnD,CAApE,CAAze,EAAgjBF,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUQ,WAAV,EAAuBgB,IAAvB,EAA6BX,IAAnC,EAA0C,MAAI,KAAKa,WAAL,EAA9C,EAAkEpD,CAAlE,CAAjjB,EAAsnBF,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUC,KAAV,EAAiBiB,MAAvB,EAAgC,MAAI,KAAKS,kBAAL,EAApC,EAA+DrD,CAA/D,CAAvnB,EAAyrBF,CAAC,CAAE,MAAI,CAAC,KAAK4B,IAAL,CAAU4B,GAAV,EAAeC,MAAf,EAAuBC,oBAAvB,EAA6CC,IAA9C,EAAmD,KAAK/B,IAAL,CAAUC,KAAV,EAAiBO,WAAjB,EAA8BwB,SAA9B,EAAyCC,OAA5F,CAAN,EAA6G,MAAI,KAAKC,gBAAL,EAAjH,EAA0I5D,CAA1I,CAA1rB,CAAlB,GAA21B,KAAK0B,IAAL,CAAUC,KAAV,CAAgBkC,OAAhB,IAAyB,KAAKrC,QAAL,CAAcS,GAAd,CAAkBnC,CAAC,CAAE,MAAI,KAAK4B,IAAL,CAAUmB,gBAAhB,EAAmC3D,CAAC,IAAE,KAAK4E,2BAAL,CAAiC5E,CAAjC,CAAtC,EAA2EgB,CAA3E,CAAnB,CAAp3B,EAAs9B,KAAKsC,cAAL,EAAt9B,EAA4+B,KAAKd,IAAL,CAAUC,KAAV,CAAgBC,WAAhB,KAA8BpB,CAAC,CAACuD,KAAhC,IAAuC,KAAKd,eAAL,EAAnhC,EAA0iC,KAAKG,WAAL,EAA1iC,EAA6jC,KAAKQ,gBAAL,EAA7jC,EAAqlC,KAAKI,IAAL,CAAU,4BAAV,EAAuC,IAAI3C,CAAJ,CAAM;MAACK,IAAI,EAAC,KAAKA;IAAX,CAAN,CAAvC,CAArlC;EAAqpC;;EAAAuC,OAAO,GAAE;IAAC,KAAKzC,QAAL,GAAc9B,CAAC,CAAC,KAAK8B,QAAN,CAAf,EAA+B,KAAK0C,0BAAL,KAAkC,KAAKA,0BAAL,CAAgCD,OAAhC,IAA0C,KAAKD,IAAL,CAAU,4BAAV,EAAuC,IAAvC,CAA5E,CAA/B;EAAyJ;;EAAA1B,2BAA2B,GAAE;IAAC,MAAMpD,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,EAAuBC,YAA/B;IAA4CjD,CAAC,IAAE,WAASA,CAAC,CAACqD,IAAd,IAAoB,KAAKb,IAAL,CAAUC,KAAV,CAAgBwC,YAAhB,CAA8BhF,CAAC,KAAG,KAAKiF,0BAAL,CAAgCjF,CAAhC,EAAkCD,CAAlC,GAAqC,CAAC,CAAzC,CAA/B,CAApB;EAAiG;;EAAAsD,cAAc,GAAE;IAAC,KAAKd,IAAL,CAAUC,KAAV,CAAgBwC,YAAhB,CAA8BjF,CAAC,KAAG,KAAKyD,oBAAL,CAA0BzD,CAA1B,GAA6B,CAAC,CAAjC,CAA/B;EAAqE;;EAAAyD,oBAAoB,CAACzD,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKuC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBC,YAArD;IAAkE,cAAYhD,CAAC,GAACA,CAAC,CAACoD,IAAH,GAAQ,MAArB,IAA6B,KAAK6B,0BAAL,CAAgClF,CAAhC,EAAkCC,CAAlC,CAA7B,GAAkE,KAAKkF,wBAAL,CAA8BnF,CAA9B,EAAgCC,CAAhC,CAAlE;EAAqG;;EAAAkF,wBAAwB,CAACnF,CAAD,EAAGC,CAAH,EAAK;IAAC,KAAKsC,gBAAL,CAAsB6C,OAAtB,CAA8BpF,CAAC,CAACqF,GAAhC,EAAoCrF,CAAC,CAACsF,MAAtC,EAA6C,KAAK9C,IAAL,CAAUmB,gBAAvD,EAAwEjC,CAAC,CAAC,KAAKc,IAAN,EAAWxC,CAAC,CAACqF,GAAb,CAAzE,EAA2FrF,CAA3F,GAA8FC,CAAC,IAAEA,CAAC,CAACsF,UAAF,CAAavF,CAAC,CAACkD,IAAf,EAAoBlD,CAAC,CAACmD,GAAtB,CAAjG;EAA4H;;EAAA+B,0BAA0B,CAAClF,CAAD,EAAGC,CAAH,EAAK;IAACA,CAAC,KAAGD,CAAC,CAACkD,IAAF,GAAOjD,CAAC,CAACiD,IAAT,EAAclD,CAAC,CAACmD,GAAF,GAAMlD,CAAC,CAACkD,GAAzB,CAAD;EAA+B;;EAAAuB,gBAAgB,GAAE;IAAC,MAAM1E,CAAC,GAAC,KAAKwC,IAAL,CAAU4B,GAAV,EAAeC,MAAf,EAAuBC,oBAAvB,EAA6CC,IAArD;IAAA,MAA0DtE,CAAC,GAAC,CAACD,CAAD,IAAI,iBAAeA,CAA/E;IAAA,MAAiFE,CAAC,GAAC,KAAKsC,IAAL,CAAUC,KAAV,CAAgBO,WAAhB,CAA4BwB,SAA/G;;IAAyH,IAAGvE,CAAC,KAAGC,CAAC,CAACuE,OAAT,EAAiB;MAACvE,CAAC,CAACuE,OAAF,GAAUxE,CAAV,EAAYA,CAAC,IAAE,KAAKuF,mBAAL,CAAyB5D,CAAC,CAAC6D,SAA3B,CAAf;MAAqD,MAAMzF,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBgB,IAArD;MAA0DhE,CAAC,IAAE,WAASA,CAAC,CAACqD,IAAd,IAAoB,KAAKqC,eAAL,EAApB;IAA2C;EAAC;;EAAA3B,eAAe,GAAE;IAAC,MAAM/D,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBY,QAArD;IAA8D5D,CAAC,IAAE,KAAKwC,IAAL,CAAUC,KAAV,CAAgBC,WAAhB,KAA8BpB,CAAC,CAACuD,KAAnC,GAAyC,KAAKrC,IAAL,CAAUC,KAAV,CAAgBO,WAAhB,CAA4BY,QAA5B,GAAqC;MAACC,GAAG,EAAC7D,CAAC,CAAC6D,GAAP;MAAWC,GAAG,EAAC9D,CAAC,CAAC8D;IAAjB,CAA9E,GAAoG,KAAKtB,IAAL,CAAUC,KAAV,CAAgBO,WAAhB,CAA4BY,QAA5B,GAAqC,IAAzI,EAA8I,KAAK4B,mBAAL,EAA9I;EAAyK;;EAAAvB,cAAc,GAAE;IAAC,MAAMjE,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBgB,IAArD;IAA0DhE,CAAC,IAAE,WAASA,CAAC,CAACqD,IAAd,KAAqB,KAAKsC,iBAAL,CAAuB3F,CAAvB,GAA0B,KAAKwF,mBAAL,EAA/C;EAA2E;;EAAAtB,WAAW,GAAE;IAAC,MAAMlE,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBgB,IAArD;IAA0D,cAAYhE,CAAC,GAACA,CAAC,CAACqD,IAAH,GAAQ,MAArB,IAA6B,KAAKsC,iBAAL,CAAuB3F,CAAvB,CAA7B,GAAuD,KAAK0F,eAAL,EAAvD,EAA8E,KAAKF,mBAAL,EAA9E;EAAyG;;EAAAG,iBAAiB,CAAC3F,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKuC,IAAL,CAAUC,KAAV,CAAgBO,WAAxB;IAAoC/C,CAAC,CAAC+D,IAAF,GAAO/D,CAAC,CAAC2F,qBAAF,CAAwBxF,CAAC,CAACJ,CAAC,CAAC8D,GAAH,CAAzB,CAAP;EAAyC;;EAAA4B,eAAe,GAAE;IAAC,MAAM1F,CAAC,GAAC,KAAKwC,IAAL,CAAUC,KAAV,CAAgBO,WAAxB;IAAoChD,CAAC,CAACgE,IAAF,GAAOhE,CAAC,CAAC6F,iBAAF,EAAP,EAA6B,KAAK1B,kBAAL,EAA7B;EAAuD;;EAAAA,kBAAkB,GAAE;IAAC,MAAMnE,CAAC,GAAC,KAAKwC,IAAL,CAAUQ,WAAV,IAAuB,KAAKR,IAAL,CAAUQ,WAAV,CAAsBgB,IAArD;IAA0D,IAAG,CAAChE,CAAD,IAAI,WAASA,CAAC,CAACqD,IAAlB,EAAuB;IAAO,MAAMpD,CAAC,GAAC,KAAKuC,IAAL,CAAUC,KAAV,CAAgBO,WAAxB;;IAAoC,IAAG/C,CAAC,CAAC+D,IAAL,EAAU;MAAC,MAAM9D,CAAC,GAACD,CAAC,CAAC+D,IAAF,CAAO,KAAKxB,IAAL,CAAUC,KAAV,CAAgBiB,MAAhB,CAAuBoC,QAA9B,EAAwChC,GAAhD;MAAoD9D,CAAC,CAACuF,UAAF,CAAajF,CAAC,CAACJ,CAAD,CAAd;IAAmB;EAAC;;EAAA0E,2BAA2B,CAAC5E,CAAD,EAAG;IAAC,IAAGU,CAAC,CAACV,CAAD,CAAJ,EAAQ;IAAO,IAAIC,CAAC,GAAC8F,IAAI,CAACjC,GAAL,CAAS9D,CAAC,CAACgG,KAAX,EAAiBhG,CAAC,CAACiG,MAAnB,CAAN;IAAiC,IAAGhG,CAAC,IAAE,CAAN,EAAQ;IAAOD,CAAC,CAACkG,IAAF,KAASjG,CAAC,GAAC8F,IAAI,CAACjC,GAAL,CAAS7D,CAAT,EAAWD,CAAC,CAACmG,IAAF,GAAOnG,CAAC,CAACoG,IAApB,CAAX;IAAsC,MAAMlG,CAAC,GAAC,KAAKsC,IAAL,CAAUC,KAAlB;IAAA,MAAwBrC,CAAC,GAAC,IAAEH,CAAF,GAAI8F,IAAI,CAACM,IAAL,CAAUnG,CAAC,CAACwD,MAAF,CAAS4C,GAAT,GAAa,CAAvB,CAA9B;IAAwDlG,CAAC,KAAGF,CAAC,CAAC8C,WAAF,CAAc8C,QAAlB,KAA6B5F,CAAC,CAAC8C,WAAF,CAAc8C,QAAd,GAAuB1F,CAApD;EAAuD;;EAAAoF,mBAAmB,CAACxF,CAAC,GAAC4B,CAAC,CAAC2E,GAAL,EAAS;IAAC,KAAK/D,IAAL,CAAUC,KAAV,CAAgBwC,YAAhB,CAA8BhF,CAAC,IAAEuB,CAAC,CAAC,KAAKgB,IAAN,EAAWvC,CAAX,EAAa;MAACuG,SAAS,EAACxG,CAAX;MAAayG,eAAe,EAAC3E,CAAC,CAAC4E,IAA/B;MAAoCC,iBAAiB,EAAC,IAAtD;MAA2DC,sBAAsB,EAAC,IAAlF;MAAuFC,oBAAoB,EAAC,IAA5G;MAAiHC,QAAQ,EAAC/G,CAAC,CAACgH;IAA5H,CAAb,CAAlC;EAAsL;;AAAh3H,CAArB;AAAu4H/G,CAAC,CAAC,CAACkB,CAAC,CAAC;EAAC8F,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB5E,CAAC,CAAC6E,SAA3B,EAAqC,MAArC,EAA4C,KAAK,CAAjD,CAAD,EAAqDjH,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACgG,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB9E,CAAC,CAAC6E,SAAtB,EAAgC,4BAAhC,EAA6D,KAAK,CAAlE,CAAtD,EAA2H7E,CAAC,GAACpC,CAAC,CAAC,CAACoB,CAAC,CAAC,wCAAD,CAAF,CAAD,EAA+CgB,CAA/C,CAA9H;AAAgL,SAAOA,CAAC,IAAI+E,kBAAZ"},"metadata":{},"sourceType":"module"}