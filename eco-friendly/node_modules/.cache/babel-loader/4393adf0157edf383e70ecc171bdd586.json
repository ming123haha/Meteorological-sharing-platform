{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport { get as t, isSome as r, isNone as s } from \"../../../../core/maybe.js\";\nimport { e as n } from \"../../../../chunks/earcut.js\";\nimport { a } from \"../../../../chunks/mat3.js\";\nimport { c as i } from \"../../../../chunks/mat3f64.js\";\nimport { a as o } from \"../../../../chunks/mat4.js\";\nimport { I as l, c } from \"../../../../chunks/mat4f64.js\";\nimport { c as h, n as m, s as p, b as d, f as u, m as f } from \"../../../../chunks/vec3.js\";\nimport { d as g, c as y } from \"../../../../chunks/vec3f64.js\";\nimport { computeTranslationToOriginAndRotation as _ } from \"../../../../geometry/projection.js\";\nimport { create as b, empty as E, expandWithBuffer as x, intersectsClippingArea as P } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewVec3f64 as S } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { t as v, a as w } from \"../../../../chunks/vec32.js\";\nimport { getDriverAxisSizeValue as j } from \"../../../../renderers/support/renderingInfoUtils.js\";\nimport { ViewingMode as A } from \"../../../ViewingMode.js\";\nimport { needsElevationUpdates3D as L, evaluateElevationInfoAtPoint as M, SampleElevationInfo as O } from \"./elevationAlignmentUtils.js\";\nimport { ElevationContext as B } from \"./ElevationContext.js\";\nimport { Graphics3DObject3DGraphicLayer as C } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DSymbolLayer as I } from \"./Graphics3DSymbolLayer.js\";\nimport { validateSymbolLayerSize as R, computeCentroid as T } from \"./graphicUtils.js\";\nimport { ApplyRendererDiffResult as z } from \"./interfaces.js\";\nimport { geometryAsPolygon as D, geometryToRenderInfo as G } from \"./polygonUtils.js\";\nimport { createMaterial as U } from \"../support/edgeUtils.js\";\nimport k from \"../../support/debugFlags.js\";\nimport { SamplePosition as N } from \"../../support/ElevationProvider.js\";\nimport { CullFaceOptions as F, PrimitiveType as V } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Geometry as H } from \"../../webgl-engine/lib/Geometry.js\";\nimport { Object3D as Y } from \"../../webgl-engine/lib/Object3D.js\";\nimport { VertexAttribute as Z } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { DefaultMaterial as W } from \"../../webgl-engine/materials/DefaultMaterial.js\";\nconst q = [\"polygon\", \"extent\"];\n\nclass J extends I {\n  constructor(e, t, r, s) {\n    super(e, t, r, s), this.ensureDrapedStatus(!1);\n  }\n\n  async doLoad() {\n    if (!this._drivenProperties.size) {\n      const t = R(this._getSymbolSize());\n      if (t) throw new e(\"graphics3dextrudesymbollayer:invalid-size\", t);\n    }\n\n    const r = t(this.symbolLayer, \"material\", \"color\"),\n          s = this._getCombinedOpacityAndColor(r),\n          n = g(s),\n          a = s[3],\n          i = a < 1 || this.needsDrivenTransparentPass,\n          o = {\n      usePBR: this._context.physicalBasedRenderingEnabled,\n      isSchematic: !0,\n      diffuse: n,\n      ambient: n,\n      opacity: a,\n      transparent: i,\n      cullFace: i ? F.None : F.Back,\n      hasVertexColors: !0,\n      hasSlicePlane: this._context.slicePlaneEnabled,\n      castShadows: this.symbolLayer.castShadows,\n      offsetTransparentBackfaces: !0\n    };\n\n    this._material = new W(o), this._bottomMaterial = new W({ ...o,\n      cullFace: F.Back\n    }), this._context.stage.add(this._material), this._context.stage.add(this._bottomMaterial);\n  }\n\n  destroy() {\n    super.destroy(), this._material && (this._context.stage.remove(this._material), this._context.stage.remove(this._bottomMaterial));\n  }\n\n  createGraphics3DGraphic(e) {\n    const t = e.graphic;\n    if (!this._validateGeometry(t.geometry, q, this.symbolLayer.type)) return null;\n\n    const r = this._getVertexOpacityAndColor(e.renderingInfo, 255),\n          s = this.setGraphicElevationContext(t, new B());\n\n    return this._createAs3DShape(t, e.renderingInfo, r, s, t.uid);\n  }\n\n  layerOpacityChanged(e, s) {\n    const n = t(this.symbolLayer, \"material\", \"color\"),\n          a = this._getCombinedOpacity(n),\n          i = a < 1 || this.needsDrivenTransparentPass;\n\n    this._material.setParameters({\n      opacity: a,\n      transparent: i\n    }), this._bottomMaterial.setParameters({\n      opacity: a,\n      transparent: i\n    });\n\n    const o = this._getLayerOpacity();\n\n    return e.forEach(e => {\n      const t = s(e);\n      r(t) && t.layerOpacityChanged(o, this._context.isAsync);\n    }), !0;\n  }\n\n  layerElevationInfoChanged(e, t) {\n    return this.updateGraphics3DGraphicElevationInfo(e, t, L);\n  }\n\n  slicePlaneEnabledChanged(e, t) {\n    return this._material.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), this._bottomMaterial.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), e.forEach(e => {\n      const s = t(e);\n      r(s) && s.slicePlaneEnabledChanged(this._context.slicePlaneEnabled, this._context.isAsync);\n    }), !0;\n  }\n\n  physicalBasedRenderingChanged() {\n    return this._material.setParameters({\n      usePBR: this._context.physicalBasedRenderingEnabled,\n      isSchematic: !0\n    }), this._bottomMaterial.setParameters({\n      usePBR: this._context.physicalBasedRenderingEnabled,\n      isSchematic: !0\n    }), !0;\n  }\n\n  pixelRatioChanged() {\n    return !0;\n  }\n\n  _getExtrusionSize(e) {\n    let t;\n    return t = e.size && this._drivenProperties.size ? j(e.size, 2) ?? 0 : this._getSymbolSize(), t /= this._context.renderCoordsHelper.unitInMeters, t;\n  }\n\n  applyRendererDiff(e, t) {\n    return this._drivenPropertiesChanged(t) ? z.Recreate_Symbol : z.Recreate_Graphics;\n  }\n\n  _getSymbolSize() {\n    return this.symbolLayer.size ?? 1;\n  }\n\n  _createAs3DShape(e, t, h, m, p) {\n    const d = D(e.geometry);\n    if (s(d)) return null;\n    const u = G(d, this._context.elevationProvider, this._context.renderCoordsHelper, m);\n    if (this._logGeometryCreationWarnings(u, d.rings, \"rings\", \"ExtrudeSymbol3DLayer\"), 0 === d.rings.length || !d.rings.some(e => e.length > 0)) return null;\n    const f = T(d);\n    if (s(f)) return null;\n    const g = new Array(),\n          j = new Array(),\n          M = new Array(),\n          O = b(),\n          B = c(),\n          I = y(),\n          R = this._context.renderCoordsHelper.viewingMode === A.Global;\n    R || this._context.renderCoordsHelper.worldUpAtPosition(null, I), _(d.spatialReference, [f.x, f.y, 0], B, this._context.renderCoordsHelper.spatialReference);\n    const z = c();\n    o(z, B);\n    const k = i();\n    a(k, z);\n    const {\n      polygons: N,\n      mapPosition: F,\n      position: V\n    } = u,\n          H = V.length / 3,\n          Z = new Float64Array(3 * H * 6),\n          W = new Float64Array(3 * H * 6),\n          q = new Float64Array(3 * H * 6),\n          J = new Float64Array(1 * H * 6);\n    let X = 0;\n\n    for (let r = 0; r < N.length; ++r) {\n      const e = N[r],\n            s = e.count;\n      if (this._context.clippingExtent && (E(O), x(O, e.mapPosition), !P(O, this._context.clippingExtent))) continue;\n      const a = n(e.mapPosition, e.holeIndices, 3);\n      if (0 === a.length) continue;\n\n      const i = 3 * s * 2 + a.length,\n            o = new Uint32Array(i),\n            c = new Uint32Array(a.length),\n            m = 6 * s,\n            p = 3 * Z.BYTES_PER_ELEMENT,\n            d = new S(Z.buffer, X * p, p, (X + m) * p),\n            u = 3 * W.BYTES_PER_ELEMENT,\n            f = new S(W.buffer, X * u, u, (X + m) * u),\n            y = new Float64Array(q.buffer, 3 * X * q.BYTES_PER_ELEMENT, 3 * m),\n            _ = new Float64Array(J.buffer, 1 * X * J.BYTES_PER_ELEMENT, 1 * m),\n            b = this._getExtrusionSize(t);\n\n      Q(V, F, a, e, d.typedBuffer, y, f.typedBuffer, _, 0, o, c, b, I, R), v(d, d, z), w(f, f, k), X += 6 * s;\n      const A = K(o, o.length - c.length, {\n        positions: d.typedBuffer,\n        elevation: y,\n        normals: f.typedBuffer,\n        heights: _\n      }, h);\n      g.push(A), j.push(this._material), M.push(l);\n      const L = K(c, 0, {\n        positions: d.typedBuffer,\n        elevation: y,\n        normals: f.typedBuffer,\n        heights: _\n      }, h);\n      g.push(L), j.push(this._bottomMaterial), M.push(l);\n    }\n\n    if (0 === g.length) return null;\n    const $ = new Y({\n      geometries: g,\n      materials: j,\n      transformations: M,\n      metadata: {\n        layerUid: this._context.layer.uid,\n        graphicUid: p,\n        isElevationSource: !0\n      }\n    });\n    $.transformation = B;\n    const ee = U(this.symbolLayer, {\n      opacity: this._getLayerOpacity()\n    }),\n          te = r(ee) ? {\n      baseMaterial: this._material,\n      edgeMaterials: [ee],\n      properties: {\n        mergeGeometries: !0,\n        hasSlicePlane: this._context.slicePlaneEnabled\n      }\n    } : null,\n          re = new C(this, $, g, null, null, ce, m, te);\n    return re.alignedSampledElevation = u.sampledElevation, re.needsElevationUpdates = L(m.mode), re;\n  }\n\n}\n\nfunction K(e, t, r, s) {\n  const n = new Uint32Array(e.length),\n        a = [[Z.POSITION, {\n    size: 3,\n    data: r.positions,\n    exclusive: !0\n  }], [Z.NORMAL, {\n    size: 3,\n    data: r.normals,\n    exclusive: !0\n  }], [Z.COLOR, {\n    size: 4,\n    data: s,\n    exclusive: !0\n  }], [Z.SIZE, {\n    size: 1,\n    data: r.heights,\n    exclusive: !0\n  }]],\n        i = [[Z.POSITION, e], [Z.NORMAL, e], [Z.COLOR, n]];\n  return r.elevation && (a.push([Z.MAPPOS, {\n    size: 3,\n    data: r.elevation\n  }]), i.push([Z.MAPPOS, e])), new H(a, i, V.Triangle, t);\n}\n\nfunction Q(e, t, r, s, n, a, i, o, l, c, h, m, p, d) {\n  const u = r.length / 3;\n  let f = 0,\n      g = 2 * s.count;\n  X(e, t, s.index, s.count, r, 0, u, n, a, i, o, l, c, h, g, m, p, d), l += 2 * s.count, g = 0, te(n, a, o, i, f, s.pathLengths[0], s.count, l, c, g, m), l += 4 * s.pathLengths[0], g += 2 * s.pathLengths[0], f += s.pathLengths[0];\n\n  for (let y = 1; y < s.pathLengths.length; ++y) te(n, a, o, i, f, s.pathLengths[y], s.count, l, c, g, m), l += 4 * s.pathLengths[y], g += 2 * s.pathLengths[y], f += s.pathLengths[y];\n}\n\nfunction X(e, t, r, s, n, a, i, o, l, c, p, d, u, f, g, y, _, b) {\n  h(me, _);\n  const E = y > 0 ? 1 : -1;\n  let x = 3 * r,\n      P = d,\n      S = 3 * P,\n      v = d + s,\n      w = 3 * v;\n\n  for (let h = 0; h < s; ++h) b && (me[0] = e[x + 0], me[1] = e[x + 1], me[2] = e[x + 2], m(me, me)), o[S + 0] = e[x + 0], o[S + 1] = e[x + 1], o[S + 2] = e[x + 2], l[S + 0] = t[x + 0], l[S + 1] = t[x + 1], l[S + 2] = t[x + 2], c[S + 0] = -E * me[0], c[S + 1] = -E * me[1], c[S + 2] = -E * me[2], p[P] = 0, o[w + 0] = e[x + 0] + y * me[0], o[w + 1] = e[x + 1] + y * me[1], o[w + 2] = e[x + 2] + y * me[2], l[w + 0] = t[x + 0], l[w + 1] = t[x + 1], l[w + 2] = t[x + 2], c[w + 0] = E * me[0], c[w + 1] = E * me[1], c[w + 2] = E * me[2], p[v] = y, S += 3, w += 3, x += 3, P += 1, v += 1;\n\n  x = 3 * a, S = 0, w = 3 * g;\n  const j = y < 0 ? ue : de,\n        A = y < 0 ? de : ue;\n\n  for (let h = 0; h < i; ++h) f[S + 0] = n[x + j[0]], f[S + 1] = n[x + j[1]], f[S + 2] = n[x + j[2]], u[w + 0] = n[x + A[0]] + s, u[w + 1] = n[x + A[1]] + s, u[w + 2] = n[x + A[2]] + s, S += 3, w += 3, x += 3;\n}\n\nfunction $(e, t, r, s, n, a, i) {\n  s[a] = s[i], i *= 3, e[(a *= 3) + 0] = e[i + 0], e[a + 1] = e[i + 1], e[a + 2] = e[i + 2], t[a + 0] = t[i + 0], t[a + 1] = t[i + 1], t[a + 2] = t[i + 2], r[a + 0] = n[0], r[a + 1] = n[1], r[a + 2] = n[2];\n}\n\nconst ee = y();\n\nfunction te(e, t, r, s, n, a, i, o, l, c, h) {\n  let m = n,\n      p = n + 1,\n      d = n + i,\n      u = n + i + 1,\n      f = o,\n      g = o + 1,\n      y = o + 2 * a,\n      _ = o + 2 * a + 1;\n\n  h < 0 && (m = n + i + 1, u = n), c *= 3;\n\n  for (let b = 0; b < a; ++b) b === a - 1 && (h > 0 ? (p = n, u = n + i) : (p = n, m = n + i)), oe(e, m, p, d, ee), $(e, t, s, r, ee, f, m), $(e, t, s, r, ee, g, p), $(e, t, s, r, ee, y, d), $(e, t, s, r, ee, _, u), l[c++] = f, l[c++] = y, l[c++] = _, l[c++] = f, l[c++] = _, l[c++] = g, m++, p++, d++, u++, f += 2, g += 2, y += 2, _ += 2;\n}\n\nconst re = y(),\n      se = y(),\n      ne = y(),\n      ae = y(),\n      ie = y();\n\nfunction oe(e, t, r, s, n) {\n  t *= 3, r *= 3, s *= 3, p(re, e[t++], e[t++], e[t++]), p(se, e[r++], e[r++], e[r++]), p(ne, e[s++], e[s++], e[s++]), d(ae, se, re), d(ie, ne, re), u(n, ie, ae), m(n, n);\n}\n\nconst le = y();\n\nfunction ce(e, t, r, s) {\n  const n = e.stageObject,\n        a = n.geometryRecords,\n        i = a.length,\n        l = \"absolute-height\" !== t.mode;\n  let h = 0;\n  const m = n.transformation,\n        d = o(c(), m);\n\n  for (let o = 0; o < i; o += 2) {\n    const e = a[o].geometry,\n          i = e.getMutableAttribute(Z.POSITION).data,\n          c = e.vertexAttributes.get(Z.SIZE).data,\n          u = e.vertexAttributes.get(Z.MAPPOS).data,\n          g = new N(u),\n          y = i.length / 3;\n    let _ = 0,\n        b = !1,\n        E = 0;\n    const x = r.spatialReference;\n\n    for (let n = 0; n < y; n++) {\n      le[0] = i[_], le[1] = i[_ + 1], le[2] = i[_ + 2], M(g, r, t, s, pe), l && (E += pe.sampledElevation), k.TESTS_DISABLE_OPTIMIZATIONS ? (p(he, g.array[g.offset + 0], g.array[g.offset + 1], pe.z + c[_ / 3]), s.toRenderCoords(he, x, he), f(he, he, d)) : (p(he, i[_ + 0], i[_ + 1], i[_ + 2]), f(he, he, m), s.setAltitude(he, pe.z + c[_ / 3]), f(he, he, d)), i[_] = he[0], i[_ + 1] = he[1], i[_ + 2] = he[2];\n      const e = fe / s.unitInMeters;\n      (Math.abs(le[0] - i[_]) >= e || Math.abs(le[1] - i[_ + 1]) >= e || Math.abs(le[2] - i[_ + 2]) >= e) && (b = !0), g.offset += 3, _ += 3;\n    }\n\n    b && (e.invalidateBoundingInfo(), n.geometryVertexAttrsUpdated(a[o]), a[o + 1].geometry.invalidateBoundingInfo(), n.geometryVertexAttrsUpdated(a[o + 1])), h += E / y;\n  }\n\n  return h / i;\n}\n\nconst he = y(),\n      me = y(),\n      pe = new O(),\n      de = [0, 2, 1],\n      ue = [0, 1, 2],\n      fe = .01;\nexport { J as Graphics3DExtrudeSymbolLayer };","map":{"version":3,"names":["e","get","t","isSome","r","isNone","s","n","a","c","i","o","I","l","h","m","p","b","d","f","u","g","y","computeTranslationToOriginAndRotation","_","create","empty","E","expandWithBuffer","x","intersectsClippingArea","P","BufferViewVec3f64","S","v","w","getDriverAxisSizeValue","j","ViewingMode","A","needsElevationUpdates3D","L","evaluateElevationInfoAtPoint","M","SampleElevationInfo","O","ElevationContext","B","Graphics3DObject3DGraphicLayer","C","Graphics3DSymbolLayer","validateSymbolLayerSize","R","computeCentroid","T","ApplyRendererDiffResult","z","geometryAsPolygon","D","geometryToRenderInfo","G","createMaterial","U","k","SamplePosition","N","CullFaceOptions","F","PrimitiveType","V","Geometry","H","Object3D","Y","VertexAttribute","Z","DefaultMaterial","W","q","J","constructor","ensureDrapedStatus","doLoad","_drivenProperties","size","_getSymbolSize","symbolLayer","_getCombinedOpacityAndColor","needsDrivenTransparentPass","usePBR","_context","physicalBasedRenderingEnabled","isSchematic","diffuse","ambient","opacity","transparent","cullFace","None","Back","hasVertexColors","hasSlicePlane","slicePlaneEnabled","castShadows","offsetTransparentBackfaces","_material","_bottomMaterial","stage","add","destroy","remove","createGraphics3DGraphic","graphic","_validateGeometry","geometry","type","_getVertexOpacityAndColor","renderingInfo","setGraphicElevationContext","_createAs3DShape","uid","layerOpacityChanged","_getCombinedOpacity","setParameters","_getLayerOpacity","forEach","isAsync","layerElevationInfoChanged","updateGraphics3DGraphicElevationInfo","slicePlaneEnabledChanged","physicalBasedRenderingChanged","pixelRatioChanged","_getExtrusionSize","renderCoordsHelper","unitInMeters","applyRendererDiff","_drivenPropertiesChanged","Recreate_Symbol","Recreate_Graphics","elevationProvider","_logGeometryCreationWarnings","rings","length","some","Array","viewingMode","Global","worldUpAtPosition","spatialReference","polygons","mapPosition","position","Float64Array","X","count","clippingExtent","holeIndices","Uint32Array","BYTES_PER_ELEMENT","buffer","Q","typedBuffer","K","positions","elevation","normals","heights","push","$","geometries","materials","transformations","metadata","layerUid","layer","graphicUid","isElevationSource","transformation","ee","te","baseMaterial","edgeMaterials","properties","mergeGeometries","re","ce","alignedSampledElevation","sampledElevation","needsElevationUpdates","mode","POSITION","data","exclusive","NORMAL","COLOR","SIZE","MAPPOS","Triangle","index","pathLengths","me","ue","de","oe","se","ne","ae","ie","le","stageObject","geometryRecords","getMutableAttribute","vertexAttributes","pe","TESTS_DISABLE_OPTIMIZATIONS","he","array","offset","toRenderCoords","setAltitude","fe","Math","abs","invalidateBoundingInfo","geometryVertexAttrsUpdated","Graphics3DExtrudeSymbolLayer"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{get as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{e as n}from\"../../../../chunks/earcut.js\";import{a}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{a as o}from\"../../../../chunks/mat4.js\";import{I as l,c}from\"../../../../chunks/mat4f64.js\";import{c as h,n as m,s as p,b as d,f as u,m as f}from\"../../../../chunks/vec3.js\";import{d as g,c as y}from\"../../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as _}from\"../../../../geometry/projection.js\";import{create as b,empty as E,expandWithBuffer as x,intersectsClippingArea as P}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f64 as S}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as v,a as w}from\"../../../../chunks/vec32.js\";import{getDriverAxisSizeValue as j}from\"../../../../renderers/support/renderingInfoUtils.js\";import{ViewingMode as A}from\"../../../ViewingMode.js\";import{needsElevationUpdates3D as L,evaluateElevationInfoAtPoint as M,SampleElevationInfo as O}from\"./elevationAlignmentUtils.js\";import{ElevationContext as B}from\"./ElevationContext.js\";import{Graphics3DObject3DGraphicLayer as C}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as I}from\"./Graphics3DSymbolLayer.js\";import{validateSymbolLayerSize as R,computeCentroid as T}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as z}from\"./interfaces.js\";import{geometryAsPolygon as D,geometryToRenderInfo as G}from\"./polygonUtils.js\";import{createMaterial as U}from\"../support/edgeUtils.js\";import k from\"../../support/debugFlags.js\";import{SamplePosition as N}from\"../../support/ElevationProvider.js\";import{CullFaceOptions as F,PrimitiveType as V}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as H}from\"../../webgl-engine/lib/Geometry.js\";import{Object3D as Y}from\"../../webgl-engine/lib/Object3D.js\";import{VertexAttribute as Z}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as W}from\"../../webgl-engine/materials/DefaultMaterial.js\";const q=[\"polygon\",\"extent\"];class J extends I{constructor(e,t,r,s){super(e,t,r,s),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=R(this._getSymbolSize());if(t)throw new e(\"graphics3dextrudesymbollayer:invalid-size\",t)}const r=t(this.symbolLayer,\"material\",\"color\"),s=this._getCombinedOpacityAndColor(r),n=g(s),a=s[3],i=a<1||this.needsDrivenTransparentPass,o={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:n,ambient:n,opacity:a,transparent:i,cullFace:i?F.None:F.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,offsetTransparentBackfaces:!0};this._material=new W(o),this._bottomMaterial=new W({...o,cullFace:F.Back}),this._context.stage.add(this._material),this._context.stage.add(this._bottomMaterial)}destroy(){super.destroy(),this._material&&(this._context.stage.remove(this._material),this._context.stage.remove(this._bottomMaterial))}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,q,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(e.renderingInfo,255),s=this.setGraphicElevationContext(t,new B);return this._createAs3DShape(t,e.renderingInfo,r,s,t.uid)}layerOpacityChanged(e,s){const n=t(this.symbolLayer,\"material\",\"color\"),a=this._getCombinedOpacity(n),i=a<1||this.needsDrivenTransparentPass;this._material.setParameters({opacity:a,transparent:i}),this._bottomMaterial.setParameters({opacity:a,transparent:i});const o=this._getLayerOpacity();return e.forEach((e=>{const t=s(e);r(t)&&t.layerOpacityChanged(o,this._context.isAsync)})),!0}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,L)}slicePlaneEnabledChanged(e,t){return this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._bottomMaterial.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),e.forEach((e=>{const s=t(e);r(s)&&s.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){return this._material.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._bottomMaterial.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}pixelRatioChanged(){return!0}_getExtrusionSize(e){let t;return t=e.size&&this._drivenProperties.size?j(e.size,2)??0:this._getSymbolSize(),t/=this._context.renderCoordsHelper.unitInMeters,t}applyRendererDiff(e,t){return this._drivenPropertiesChanged(t)?z.Recreate_Symbol:z.Recreate_Graphics}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(e,t,h,m,p){const d=D(e.geometry);if(s(d))return null;const u=G(d,this._context.elevationProvider,this._context.renderCoordsHelper,m);if(this._logGeometryCreationWarnings(u,d.rings,\"rings\",\"ExtrudeSymbol3DLayer\"),0===d.rings.length||!d.rings.some((e=>e.length>0)))return null;const f=T(d);if(s(f))return null;const g=new Array,j=new Array,M=new Array,O=b(),B=c(),I=y(),R=this._context.renderCoordsHelper.viewingMode===A.Global;R||this._context.renderCoordsHelper.worldUpAtPosition(null,I),_(d.spatialReference,[f.x,f.y,0],B,this._context.renderCoordsHelper.spatialReference);const z=c();o(z,B);const k=i();a(k,z);const{polygons:N,mapPosition:F,position:V}=u,H=V.length/3,Z=new Float64Array(3*H*6),W=new Float64Array(3*H*6),q=new Float64Array(3*H*6),J=new Float64Array(1*H*6);let X=0;for(let r=0;r<N.length;++r){const e=N[r],s=e.count;if(this._context.clippingExtent&&(E(O),x(O,e.mapPosition),!P(O,this._context.clippingExtent)))continue;const a=n(e.mapPosition,e.holeIndices,3);if(0===a.length)continue;const i=3*s*2+a.length,o=new Uint32Array(i),c=new Uint32Array(a.length),m=6*s,p=3*Z.BYTES_PER_ELEMENT,d=new S(Z.buffer,X*p,p,(X+m)*p),u=3*W.BYTES_PER_ELEMENT,f=new S(W.buffer,X*u,u,(X+m)*u),y=new Float64Array(q.buffer,3*X*q.BYTES_PER_ELEMENT,3*m),_=new Float64Array(J.buffer,1*X*J.BYTES_PER_ELEMENT,1*m),b=this._getExtrusionSize(t);Q(V,F,a,e,d.typedBuffer,y,f.typedBuffer,_,0,o,c,b,I,R),v(d,d,z),w(f,f,k),X+=6*s;const A=K(o,o.length-c.length,{positions:d.typedBuffer,elevation:y,normals:f.typedBuffer,heights:_},h);g.push(A),j.push(this._material),M.push(l);const L=K(c,0,{positions:d.typedBuffer,elevation:y,normals:f.typedBuffer,heights:_},h);g.push(L),j.push(this._bottomMaterial),M.push(l)}if(0===g.length)return null;const $=new Y({geometries:g,materials:j,transformations:M,metadata:{layerUid:this._context.layer.uid,graphicUid:p,isElevationSource:!0}});$.transformation=B;const ee=U(this.symbolLayer,{opacity:this._getLayerOpacity()}),te=r(ee)?{baseMaterial:this._material,edgeMaterials:[ee],properties:{mergeGeometries:!0,hasSlicePlane:this._context.slicePlaneEnabled}}:null,re=new C(this,$,g,null,null,ce,m,te);return re.alignedSampledElevation=u.sampledElevation,re.needsElevationUpdates=L(m.mode),re}}function K(e,t,r,s){const n=new Uint32Array(e.length),a=[[Z.POSITION,{size:3,data:r.positions,exclusive:!0}],[Z.NORMAL,{size:3,data:r.normals,exclusive:!0}],[Z.COLOR,{size:4,data:s,exclusive:!0}],[Z.SIZE,{size:1,data:r.heights,exclusive:!0}]],i=[[Z.POSITION,e],[Z.NORMAL,e],[Z.COLOR,n]];return r.elevation&&(a.push([Z.MAPPOS,{size:3,data:r.elevation}]),i.push([Z.MAPPOS,e])),new H(a,i,V.Triangle,t)}function Q(e,t,r,s,n,a,i,o,l,c,h,m,p,d){const u=r.length/3;let f=0,g=2*s.count;X(e,t,s.index,s.count,r,0,u,n,a,i,o,l,c,h,g,m,p,d),l+=2*s.count,g=0,te(n,a,o,i,f,s.pathLengths[0],s.count,l,c,g,m),l+=4*s.pathLengths[0],g+=2*s.pathLengths[0],f+=s.pathLengths[0];for(let y=1;y<s.pathLengths.length;++y)te(n,a,o,i,f,s.pathLengths[y],s.count,l,c,g,m),l+=4*s.pathLengths[y],g+=2*s.pathLengths[y],f+=s.pathLengths[y]}function X(e,t,r,s,n,a,i,o,l,c,p,d,u,f,g,y,_,b){h(me,_);const E=y>0?1:-1;let x=3*r,P=d,S=3*P,v=d+s,w=3*v;for(let h=0;h<s;++h)b&&(me[0]=e[x+0],me[1]=e[x+1],me[2]=e[x+2],m(me,me)),o[S+0]=e[x+0],o[S+1]=e[x+1],o[S+2]=e[x+2],l[S+0]=t[x+0],l[S+1]=t[x+1],l[S+2]=t[x+2],c[S+0]=-E*me[0],c[S+1]=-E*me[1],c[S+2]=-E*me[2],p[P]=0,o[w+0]=e[x+0]+y*me[0],o[w+1]=e[x+1]+y*me[1],o[w+2]=e[x+2]+y*me[2],l[w+0]=t[x+0],l[w+1]=t[x+1],l[w+2]=t[x+2],c[w+0]=E*me[0],c[w+1]=E*me[1],c[w+2]=E*me[2],p[v]=y,S+=3,w+=3,x+=3,P+=1,v+=1;x=3*a,S=0,w=3*g;const j=y<0?ue:de,A=y<0?de:ue;for(let h=0;h<i;++h)f[S+0]=n[x+j[0]],f[S+1]=n[x+j[1]],f[S+2]=n[x+j[2]],u[w+0]=n[x+A[0]]+s,u[w+1]=n[x+A[1]]+s,u[w+2]=n[x+A[2]]+s,S+=3,w+=3,x+=3}function $(e,t,r,s,n,a,i){s[a]=s[i],i*=3,e[(a*=3)+0]=e[i+0],e[a+1]=e[i+1],e[a+2]=e[i+2],t[a+0]=t[i+0],t[a+1]=t[i+1],t[a+2]=t[i+2],r[a+0]=n[0],r[a+1]=n[1],r[a+2]=n[2]}const ee=y();function te(e,t,r,s,n,a,i,o,l,c,h){let m=n,p=n+1,d=n+i,u=n+i+1,f=o,g=o+1,y=o+2*a,_=o+2*a+1;h<0&&(m=n+i+1,u=n),c*=3;for(let b=0;b<a;++b)b===a-1&&(h>0?(p=n,u=n+i):(p=n,m=n+i)),oe(e,m,p,d,ee),$(e,t,s,r,ee,f,m),$(e,t,s,r,ee,g,p),$(e,t,s,r,ee,y,d),$(e,t,s,r,ee,_,u),l[c++]=f,l[c++]=y,l[c++]=_,l[c++]=f,l[c++]=_,l[c++]=g,m++,p++,d++,u++,f+=2,g+=2,y+=2,_+=2}const re=y(),se=y(),ne=y(),ae=y(),ie=y();function oe(e,t,r,s,n){t*=3,r*=3,s*=3,p(re,e[t++],e[t++],e[t++]),p(se,e[r++],e[r++],e[r++]),p(ne,e[s++],e[s++],e[s++]),d(ae,se,re),d(ie,ne,re),u(n,ie,ae),m(n,n)}const le=y();function ce(e,t,r,s){const n=e.stageObject,a=n.geometryRecords,i=a.length,l=\"absolute-height\"!==t.mode;let h=0;const m=n.transformation,d=o(c(),m);for(let o=0;o<i;o+=2){const e=a[o].geometry,i=e.getMutableAttribute(Z.POSITION).data,c=e.vertexAttributes.get(Z.SIZE).data,u=e.vertexAttributes.get(Z.MAPPOS).data,g=new N(u),y=i.length/3;let _=0,b=!1,E=0;const x=r.spatialReference;for(let n=0;n<y;n++){le[0]=i[_],le[1]=i[_+1],le[2]=i[_+2],M(g,r,t,s,pe),l&&(E+=pe.sampledElevation),k.TESTS_DISABLE_OPTIMIZATIONS?(p(he,g.array[g.offset+0],g.array[g.offset+1],pe.z+c[_/3]),s.toRenderCoords(he,x,he),f(he,he,d)):(p(he,i[_+0],i[_+1],i[_+2]),f(he,he,m),s.setAltitude(he,pe.z+c[_/3]),f(he,he,d)),i[_]=he[0],i[_+1]=he[1],i[_+2]=he[2];const e=fe/s.unitInMeters;(Math.abs(le[0]-i[_])>=e||Math.abs(le[1]-i[_+1])>=e||Math.abs(le[2]-i[_+2])>=e)&&(b=!0),g.offset+=3,_+=3}b&&(e.invalidateBoundingInfo(),n.geometryVertexAttrsUpdated(a[o]),a[o+1].geometry.invalidateBoundingInfo(),n.geometryVertexAttrsUpdated(a[o+1])),h+=E/y}return h/i}const he=y(),me=y(),pe=new O,de=[0,2,1],ue=[0,1,2],fe=.01;export{J as Graphics3DExtrudeSymbolLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}