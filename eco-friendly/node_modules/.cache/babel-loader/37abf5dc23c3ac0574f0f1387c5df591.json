{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from \"../../config.js\";\nimport e from \"../../core/Error.js\";\nimport t from \"../Portal.js\";\nimport { project as o } from \"../../rest/geometryService/project.js\";\nimport i from \"../../rest/support/ProjectParameters.js\";\n\nasync function n(o = null, i) {\n  if (r.geometryServiceUrl) return r.geometryServiceUrl;\n  if (!o) throw new e(\"internal:geometry-service-url-not-configured\");\n  let n;\n  n = \"portal\" in o ? o.portal || t.getDefault() : o, await n.load({\n    signal: i\n  });\n  const a = n.helperServices?.geometry?.url;\n  if (!a) throw new e(\"internal:geometry-service-url-not-configured\");\n  return a;\n}\n\nasync function a(r, t, a = null, l) {\n  const c = await n(a, l),\n        s = new i();\n  s.geometries = [r], s.outSpatialReference = t;\n  const m = await o(c, s, {\n    signal: l\n  });\n  if (m && Array.isArray(m) && 1 === m.length) return m[0];\n  throw new e(\"internal:geometry-service-projection-failed\");\n}\n\nexport { n as getGeometryServiceURL, a as projectGeometry };","map":{"version":3,"names":["r","e","t","project","o","i","n","geometryServiceUrl","portal","getDefault","load","signal","a","helperServices","geometry","url","l","c","s","geometries","outSpatialReference","m","Array","isArray","length","getGeometryServiceURL","projectGeometry"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/portal/support/geometryServiceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import e from\"../../core/Error.js\";import t from\"../Portal.js\";import{project as o}from\"../../rest/geometryService/project.js\";import i from\"../../rest/support/ProjectParameters.js\";async function n(o=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!o)throw new e(\"internal:geometry-service-url-not-configured\");let n;n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i});const a=n.helperServices?.geometry?.url;if(!a)throw new e(\"internal:geometry-service-url-not-configured\");return a}async function a(r,t,a=null,l){const c=await n(a,l),s=new i;s.geometries=[r],s.outSpatialReference=t;const m=await o(c,s,{signal:l});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new e(\"internal:geometry-service-projection-failed\")}export{n as getGeometryServiceURL,a as projectGeometry};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,iBAAb;AAA+B,OAAOC,CAAP,MAAa,qBAAb;AAAmC,OAAOC,CAAP,MAAa,cAAb;AAA4B,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,uCAAxB;AAAgE,OAAOC,CAAP,MAAa,yCAAb;;AAAuD,eAAeC,CAAf,CAAiBF,CAAC,GAAC,IAAnB,EAAwBC,CAAxB,EAA0B;EAAC,IAAGL,CAAC,CAACO,kBAAL,EAAwB,OAAOP,CAAC,CAACO,kBAAT;EAA4B,IAAG,CAACH,CAAJ,EAAM,MAAM,IAAIH,CAAJ,CAAM,8CAAN,CAAN;EAA4D,IAAIK,CAAJ;EAAMA,CAAC,GAAC,YAAWF,CAAX,GAAaA,CAAC,CAACI,MAAF,IAAUN,CAAC,CAACO,UAAF,EAAvB,GAAsCL,CAAxC,EAA0C,MAAME,CAAC,CAACI,IAAF,CAAO;IAACC,MAAM,EAACN;EAAR,CAAP,CAAhD;EAAmE,MAAMO,CAAC,GAACN,CAAC,CAACO,cAAF,EAAkBC,QAAlB,EAA4BC,GAApC;EAAwC,IAAG,CAACH,CAAJ,EAAM,MAAM,IAAIX,CAAJ,CAAM,8CAAN,CAAN;EAA4D,OAAOW,CAAP;AAAS;;AAAA,eAAeA,CAAf,CAAiBZ,CAAjB,EAAmBE,CAAnB,EAAqBU,CAAC,GAAC,IAAvB,EAA4BI,CAA5B,EAA8B;EAAC,MAAMC,CAAC,GAAC,MAAMX,CAAC,CAACM,CAAD,EAAGI,CAAH,CAAf;EAAA,MAAqBE,CAAC,GAAC,IAAIb,CAAJ,EAAvB;EAA6Ba,CAAC,CAACC,UAAF,GAAa,CAACnB,CAAD,CAAb,EAAiBkB,CAAC,CAACE,mBAAF,GAAsBlB,CAAvC;EAAyC,MAAMmB,CAAC,GAAC,MAAMjB,CAAC,CAACa,CAAD,EAAGC,CAAH,EAAK;IAACP,MAAM,EAACK;EAAR,CAAL,CAAf;EAAgC,IAAGK,CAAC,IAAEC,KAAK,CAACC,OAAN,CAAcF,CAAd,CAAH,IAAqB,MAAIA,CAAC,CAACG,MAA9B,EAAqC,OAAOH,CAAC,CAAC,CAAD,CAAR;EAAY,MAAM,IAAIpB,CAAJ,CAAM,6CAAN,CAAN;AAA2D;;AAAA,SAAOK,CAAC,IAAImB,qBAAZ,EAAkCb,CAAC,IAAIc,eAAvC"},"metadata":{},"sourceType":"module"}