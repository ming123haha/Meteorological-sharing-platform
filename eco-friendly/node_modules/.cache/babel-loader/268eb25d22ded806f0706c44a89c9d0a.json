{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Error.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { eachAlways as o } from \"../../core/promiseUtils.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { calculateTolerance as p } from \"../../renderers/support/clickToleranceUtils.js\";\n\nconst i = i => {\n  let c = class extends i {\n    async fetchPopupFeatures(e, s) {\n      const {\n        layer: a\n      } = this;\n      if (!e) throw new r(\"tilelayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n        layer: a\n      });\n      if (\"tile\" !== a.type) throw new r(\"tilelayerview:fetchPopupFeatures\", \"Layer type should be 'tile'\", {\n        type: a.type\n      });\n      const i = this.get(\"view.scale\"),\n            c = a.allSublayers.toArray().filter(e => {\n        const r = 0 === e.minScale || i <= e.minScale,\n              t = 0 === e.maxScale || i >= e.maxScale;\n        return e.popupTemplate && e.popupEnabled && e.visible && r && t;\n      });\n      return o(c.map(async r => {\n        const o = r.createQuery(),\n              a = t(s) ? s.event : null,\n              i = p({\n          renderer: r.renderer,\n          event: a\n        });\n        o.geometry = this.createFetchPopupFeaturesQueryGeometry(e, i), o.outFields = await r.popupTemplate.getRequiredFields();\n        return (await r.queryFeatures(o)).features;\n      })).then(e => [].concat(...e.map(e => e.value).filter(Boolean)));\n    }\n\n  };\n  return e([s()], c.prototype, \"layer\", void 0), c = e([a(\"esri.layers.mixins.TileLayerView\")], c), c;\n};\n\nexport { i as default };","map":{"version":3,"names":["_","e","r","isSome","t","eachAlways","o","property","s","subclass","a","calculateTolerance","p","i","c","fetchPopupFeatures","layer","type","get","allSublayers","toArray","filter","minScale","maxScale","popupTemplate","popupEnabled","visible","map","createQuery","event","renderer","geometry","createFetchPopupFeaturesQueryGeometry","outFields","getRequiredFields","queryFeatures","features","then","concat","value","Boolean","prototype","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/layers/TileLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{calculateTolerance as p}from\"../../renderers/support/clickToleranceUtils.js\";const i=i=>{let c=class extends i{async fetchPopupFeatures(e,s){const{layer:a}=this;if(!e)throw new r(\"tilelayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a});if(\"tile\"!==a.type)throw new r(\"tilelayerview:fetchPopupFeatures\",\"Layer type should be 'tile'\",{type:a.type});const i=this.get(\"view.scale\"),c=a.allSublayers.toArray().filter((e=>{const r=0===e.minScale||i<=e.minScale,t=0===e.maxScale||i>=e.maxScale;return e.popupTemplate&&e.popupEnabled&&e.visible&&r&&t}));return o(c.map((async r=>{const o=r.createQuery(),a=t(s)?s.event:null,i=p({renderer:r.renderer,event:a});o.geometry=this.createFetchPopupFeaturesQueryGeometry(e,i),o.outFields=await r.popupTemplate.getRequiredFields();return(await r.queryFeatures(o)).features}))).then((e=>[].concat(...e.map((e=>e.value)).filter(Boolean))))}};return e([s()],c.prototype,\"layer\",void 0),c=e([a(\"esri.layers.mixins.TileLayerView\")],c),c};export{i as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}