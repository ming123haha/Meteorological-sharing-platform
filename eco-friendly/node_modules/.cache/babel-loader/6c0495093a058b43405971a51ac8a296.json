{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Accessor.js\";\nimport { NumericIdentifiableMixin as t } from \"../../../core/Identifiable.js\";\nimport o from \"../../../core/Logger.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { project as a } from \"../../../geometry/projection.js\";\nimport { extentContainsPoint as m, polygonContainsPoint as c } from \"../../../geometry/support/contains.js\";\nimport { nearestCoordinate as p } from \"../../../geometry/support/near.js\";\nvar l;\nlet y = l = class extends t(r) {\n  constructor(e) {\n    super(e), this.geometry = null, this.spatialReference = null;\n  }\n\n  get normalizedGeometry() {\n    if (s(this.geometry) || !this.spatialReference) return null;\n    if (!this.spatialReference.equals(this.geometry.spatialReference)) try {\n      return a(this.geometry, this.spatialReference);\n    } catch (e) {\n      return o.getLogger(this.declaredClass).error(\"#constraints.geometry\", \"could not project the geometry to the view's spatial reference\", {\n        geometry: this.geometry,\n        spatialReference: this.spatialReference,\n        error: e\n      }), null;\n    }\n    return this.geometry;\n  }\n\n  constrain(e, r) {\n    if (s(this.normalizedGeometry)) return e;\n    const t = e.targetGeometry;\n    if (\"extent\" === this.normalizedGeometry.type ? m(this.normalizedGeometry, t) : c(this.normalizedGeometry, t)) return e;\n    const {\n      coordinate: o\n    } = p(this.normalizedGeometry, t);\n    return o ? (e.targetGeometry = o, e) : e;\n  }\n\n  clone() {\n    return new l({\n      geometry: this.geometry?.clone(),\n      spatialReference: this.spatialReference?.clone()\n    });\n  }\n\n};\ne([i({\n  constructOnly: !0\n})], y.prototype, \"geometry\", void 0), e([i({\n  readOnly: !0\n})], y.prototype, \"normalizedGeometry\", null), e([i({\n  constructOnly: !0\n})], y.prototype, \"spatialReference\", void 0), y = l = e([n(\"esri.views.2d.constraints.GeometryConstraint\")], y);\nexport { y as GeometryConstraint };","map":{"version":3,"names":["_","e","r","NumericIdentifiableMixin","t","o","isNone","s","property","i","subclass","n","project","a","extentContainsPoint","m","polygonContainsPoint","c","nearestCoordinate","p","l","y","constructor","geometry","spatialReference","normalizedGeometry","equals","getLogger","declaredClass","error","constrain","targetGeometry","type","coordinate","clone","constructOnly","prototype","readOnly","GeometryConstraint"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/constraints/GeometryConstraint.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{NumericIdentifiableMixin as t}from\"../../../core/Identifiable.js\";import o from\"../../../core/Logger.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as a}from\"../../../geometry/projection.js\";import{extentContainsPoint as m,polygonContainsPoint as c}from\"../../../geometry/support/contains.js\";import{nearestCoordinate as p}from\"../../../geometry/support/near.js\";var l;let y=l=class extends(t(r)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(s(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return a(this.geometry,this.spatialReference)}catch(e){return o.getLogger(this.declaredClass).error(\"#constraints.geometry\",\"could not project the geometry to the view's spatial reference\",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,r){if(s(this.normalizedGeometry))return e;const t=e.targetGeometry;if(\"extent\"===this.normalizedGeometry.type?m(this.normalizedGeometry,t):c(this.normalizedGeometry,t))return e;const{coordinate:o}=p(this.normalizedGeometry,t);return o?(e.targetGeometry=o,e):e}clone(){return new l({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};e([i({constructOnly:!0})],y.prototype,\"geometry\",void 0),e([i({readOnly:!0})],y.prototype,\"normalizedGeometry\",null),e([i({constructOnly:!0})],y.prototype,\"spatialReference\",void 0),y=l=e([n(\"esri.views.2d.constraints.GeometryConstraint\")],y);export{y as GeometryConstraint};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}