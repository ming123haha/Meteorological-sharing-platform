{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { JSONMap as t } from \"../../../core/jsonMap.js\";\nimport { isNone as e, unwrap as n, isSome as r } from \"../../../core/maybe.js\";\nimport o from \"../PixelBlock.js\";\nimport { isValidPixelBlock as i } from \"./pixelUtils.js\";\nconst s = new Map();\ns.set(\"meter-per-second\", 1), s.set(\"kilometer-per-hour\", .277778), s.set(\"knots\", .514444), s.set(\"feet-per-second\", .3048), s.set(\"mile-per-hour\", .44704);\nconst a = 180 / Math.PI,\n      h = 5,\n      c = new t({\n  esriMetersPerSecond: \"meter-per-second\",\n  esriKilometersPerHour: \"kilometer-per-hour\",\n  esriKnots: \"knots\",\n  esriFeetPerSecond: \"feet-per-second\",\n  esriMilesPerHour: \"mile-per-hour\"\n});\n\nfunction l(t, e) {\n  return s.get(t) / s.get(e) || 1;\n}\n\nfunction u(t) {\n  return (450 - t) % 360;\n}\n\nfunction f(t, e = \"geographic\") {\n  const [n, r] = t,\n        o = Math.sqrt(n * n + r * r);\n  let i = Math.atan2(r, n) * a;\n  return i = (360 + i) % 360, \"geographic\" === e && (i = u(i)), [o, i];\n}\n\nfunction p(t, e = \"geographic\") {\n  let n = t[1];\n  \"geographic\" === e && (n = u(n)), n %= 360;\n  const r = t[0];\n  return [r * Math.cos(n / a), r * Math.sin(n / a)];\n}\n\nfunction m(t, r, o, s = \"geographic\") {\n  if (!i(t) || e(o)) return t;\n  const a = \"vector-magdir\" === r ? t.clone() : n(d(t, r)),\n        h = a.pixels[1];\n\n  for (let e = 0; e < h.length; e++) h[e] = \"geographic\" === s ? (h[e] + o[e] + 270) % 360 : (h[e] + 360 - o[e]) % 360;\n\n  return \"vector-magdir\" === r ? a : d(a, \"vector-magdir\");\n}\n\nfunction d(t, e, n = \"geographic\", r = 1) {\n  if (!i(t)) return t;\n  const {\n    pixels: s,\n    width: a,\n    height: h\n  } = t,\n        c = a * h,\n        l = s[0],\n        u = s[1],\n        m = t.pixelType.startsWith(\"f\") ? t.pixelType : \"f32\",\n        d = o.createEmptyBand(m, c),\n        g = o.createEmptyBand(m, c);\n  let x = 0;\n\n  for (let o = 0; o < h; o++) for (let t = 0; t < a; t++) \"vector-uv\" === e ? ([d[x], g[x]] = f([l[x], u[x]], n), d[x] *= r) : ([d[x], g[x]] = p([l[x], u[x]], n), d[x] *= r, g[x] *= r), x++;\n\n  const M = new o({\n    pixelType: m,\n    width: t.width,\n    height: t.height,\n    mask: t.mask,\n    validPixelCount: t.validPixelCount,\n    maskIsAlpha: t.maskIsAlpha,\n    pixels: [d, g]\n  });\n  return M.updateStatistics(), M;\n}\n\nfunction g(t, e, n = 1) {\n  if (1 === n || !i(t)) return t;\n  const r = t.clone(),\n        {\n    pixels: o,\n    width: s,\n    height: a\n  } = r,\n        h = o[0],\n        c = o[1];\n  let l = 0;\n\n  for (let i = 0; i < a; i++) for (let t = 0; t < s; t++) \"vector-uv\" === e ? (h[l] *= n, c[l] *= n) : h[l] *= n, l++;\n\n  return r.updateStatistics(), r;\n}\n\nfunction x(t, n, r, o, i) {\n  if (e(i) || !i.spatialReference.equals(t.spatialReference)) return {\n    extent: t,\n    width: Math.round(n / o),\n    height: Math.round(r / o),\n    resolution: t.width / n\n  };\n  const s = i.xmin,\n        a = i.ymax,\n        h = (t.xmax - t.xmin) / n * o,\n        c = (t.ymax - t.ymin) / r * o,\n        l = (h + c) / 2;\n  return t.xmin = s + Math.floor((t.xmin - s) / h) * h, t.xmax = s + Math.ceil((t.xmax - s) / h) * h, t.ymin = a + Math.floor((t.ymin - a) / c) * c, t.ymax = a + Math.ceil((t.ymax - a) / c) * c, {\n    extent: t,\n    width: Math.round(t.width / h),\n    height: Math.round(t.height / c),\n    resolution: l\n  };\n}\n\nconst M = k(0, 0, 0);\n\nfunction k(t = 0, e = 0, n = Math.PI, r = !0) {\n  r && (n = (2 * Math.PI - n) % (2 * Math.PI));\n  const o = r ? -1 : 1,\n        i = 13 * o,\n        s = -7 * o,\n        a = -2 * o,\n        h = -16 * o,\n        c = 21.75,\n        [l, u] = y(0, e + i, n, c),\n        [f, p] = y(t - 5.5, e + s, n, c),\n        [m, d] = y(t + 5.5, e + s, n, c),\n        [g, x] = y(t - 1.5, e + a, n, c),\n        [M, k] = y(t + 1.5, e + a, n, c),\n        [w, P] = y(t - 1.5, e + h, n, c),\n        [b, v] = y(t + 1.5, e + h, n, c);\n  return [l, u, f, p, g, x, M, k, m, d, w, P, b, v];\n}\n\nfunction w(t = 0, e = Math.PI, n = !0) {\n  n && (e = (2 * Math.PI - e) % (2 * Math.PI));\n  const r = 10,\n        o = n ? -1 : 1,\n        i = 5 * o,\n        s = 20 * o,\n        a = 25 * o,\n        c = 45,\n        l = 0,\n        u = 0,\n        f = 2,\n        p = 0,\n        m = f * o,\n        d = n ? 1 : -1,\n        g = r / 2 * d;\n  let [x, M] = [l + g, u - s],\n      [k, w] = [x + f * d, M],\n      [P, b] = [k - p * d, w + m],\n      [v, I] = [l - g, u - a],\n      [A, _] = [v + p * d, I - m],\n      U = Math.ceil(t / h),\n      S = Math.floor(U / 10);\n  U -= 8 * S;\n  const D = [],\n        F = [];\n\n  for (let h = 0; h < U / 2; h++, S--) {\n    S <= 0 && U % 2 == 1 && h === (U - 1) / 2 && (v = l, A = v + p * d, I = (I + M) / 2, _ = I - m);\n    const [t, n] = y(v, I, e, c);\n\n    if (S > 0) {\n      const [r, o] = y(k, I, e, c),\n            [i, s] = y(x, M, e, c);\n      D.push(r), D.push(o), D.push(t), D.push(n), D.push(i), D.push(s);\n    } else {\n      const [r, o] = y(k, w, e, c),\n            [i, s] = y(P, b, e, c),\n            [a, h] = y(A, _, e, c);\n      F.push(t), F.push(n), F.push(a), F.push(h), F.push(i), F.push(s), F.push(r), F.push(o);\n    }\n\n    I += i, M += i, w += i, b += i, _ += i;\n  }\n\n  const [j, N] = y(l + g, u + s, e, c),\n        J = (r / 2 + f) * d,\n        [O, q] = y(l + J, u + s, e, c),\n        [B, E] = y(l + g, u - a, e, c),\n        [T, C] = y(l + J, u - a, e, c);\n  return {\n    pennants: D,\n    barbs: F,\n    shaft: [j, N, O, q, B, E, T, C]\n  };\n}\n\nfunction y(t, e, n, r = 1) {\n  const o = Math.sqrt(t * t + e * e) / r,\n        i = (2 * Math.PI + Math.atan2(e, t)) % (2 * Math.PI);\n  return [o, (2 * Math.PI + i - n) % (2 * Math.PI)];\n}\n\nconst P = [0, 1, 3, 6, 10, 16, 21, 27, 33, 40, 47, 55, 63],\n      b = [0, .5, 1, 1.5, 2],\n      v = [0, .25, .5, 1, 1.5, 2, 2.5, 3, 3.5, 4];\n\nfunction I(t, e, n, r) {\n  const o = l(r || \"knots\", n);\n  let i;\n\n  for (i = 1; i < e.length; i++) if (i === e.length - 1) {\n    if (t < e[i] * o) break;\n  } else if (t <= e[i] * o) break;\n\n  return Math.min(i - 1, e.length - 2);\n}\n\nfunction A(t, e, n, r, o) {\n  let i = 0;\n\n  switch (e) {\n    case \"beaufort_kn\":\n      i = I(t, P, \"knots\", n);\n      break;\n\n    case \"beaufort_km\":\n      i = I(t, P, \"kilometer-per-hour\", n);\n      break;\n\n    case \"beaufort_ft\":\n      i = I(t, P, \"feet-per-second\", n);\n      break;\n\n    case \"beaufort_m\":\n      i = I(t, P, \"meter-per-second\", n);\n      break;\n\n    case \"classified_arrow\":\n      i = I(t, o ?? [], r, n);\n      break;\n\n    case \"ocean_current_m\":\n      i = I(t, b, \"meter-per-second\", n);\n      break;\n\n    case \"ocean_current_kn\":\n      i = I(t, v, \"knots\", n);\n  }\n\n  return i;\n}\n\nfunction _(t, e) {\n  const {\n    style: n,\n    inputUnit: o,\n    outputUnit: i,\n    breakValues: s\n  } = e,\n        a = c.fromJSON(o),\n        h = c.fromJSON(i),\n        l = 7 * 6,\n        u = 15;\n  let f = 0,\n      p = 0;\n  const {\n    width: m,\n    height: d,\n    mask: g\n  } = t,\n        x = t.pixels[0],\n        w = t.pixels[1],\n        y = r(g) ? g.filter(t => t > 0).length : m * d,\n        P = new Float32Array(y * l),\n        b = new Uint32Array(u * y),\n        v = e.invertDirection ? k(0, 0, 0, !1) : M;\n\n  for (let r = 0; r < d; r++) for (let t = 0; t < m; t++) {\n    const e = r * m + t;\n\n    if (!g || g[r * m + t]) {\n      const o = (w[e] + 360) % 360 / 180 * Math.PI,\n            i = A(x[e], n, a, h, s);\n\n      for (let n = 0; n < v.length; n += 2) P[f++] = (t + .5) / m, P[f++] = (r + .5) / d, P[f++] = v[n], P[f++] = v[n + 1] + o, P[f++] = i, P[f++] = x[e];\n\n      const c = 7 * (f / l - 1);\n      b[p++] = c, b[p++] = c + 1, b[p++] = c + 2, b[p++] = c + 0, b[p++] = c + 4, b[p++] = c + 3, b[p++] = c + 0, b[p++] = c + 2, b[p++] = c + 3, b[p++] = c + 2, b[p++] = c + 5, b[p++] = c + 3, b[p++] = c + 5, b[p++] = c + 6, b[p++] = c + 3;\n    }\n  }\n\n  return {\n    vertexData: P,\n    indexData: b\n  };\n}\n\nconst U = [];\n\nfunction S(t, e) {\n  if (0 === U.length) for (let h = 0; h < 30; h++) U.push(w(5 * h, 0, !e.invertDirection));\n  const n = l(c.fromJSON(e.inputUnit), \"knots\"),\n        {\n    width: r,\n    height: o,\n    mask: i\n  } = t,\n        s = t.pixels[0],\n        a = t.pixels[1],\n        u = 6,\n        f = [],\n        p = [];\n  let m = 0,\n      d = 0;\n\n  for (let c = 0; c < o; c++) for (let t = 0; t < r; t++) {\n    const e = c * r + t,\n          l = s[e] * n;\n\n    if ((!i || i[c * r + t]) && l >= h) {\n      const n = (a[e] + 360) % 360 / 180 * Math.PI,\n            {\n        pennants: i,\n        barbs: s,\n        shaft: h\n      } = U[Math.min(Math.floor(l / 5), 29)];\n      if (i.length + s.length === 0) continue;\n      let g = f.length / u;\n      const x = (t + .5) / r,\n            M = (c + .5) / o;\n\n      for (let t = 0; t < i.length; t += 2) f[m++] = x, f[m++] = M, f[m++] = i[t], f[m++] = i[t + 1] + n, f[m++] = 0, f[m++] = l;\n\n      for (let t = 0; t < s.length; t += 2) f[m++] = x, f[m++] = M, f[m++] = s[t], f[m++] = s[t + 1] + n, f[m++] = 0, f[m++] = l;\n\n      for (let t = 0; t < h.length; t += 2) f[m++] = x, f[m++] = M, f[m++] = h[t], f[m++] = h[t + 1] + n, f[m++] = 0, f[m++] = l;\n\n      for (let t = 0; t < i.length / 6; t++) p[d++] = g, p[d++] = g + 1, p[d++] = g + 2, g += 3;\n\n      for (let t = 0; t < s.length / 8; t++) p[d++] = g, p[d++] = g + 1, p[d++] = g + 2, p[d++] = g + 1, p[d++] = g + 2, p[d++] = g + 3, g += 4;\n\n      p[d++] = g + 0, p[d++] = g + 1, p[d++] = g + 2, p[d++] = g + 1, p[d++] = g + 3, p[d++] = g + 2, g += 4;\n    }\n  }\n\n  return {\n    vertexData: new Float32Array(f),\n    indexData: new Uint32Array(p)\n  };\n}\n\nfunction D(t, e) {\n  const n = 4 * 6;\n  let r = 0,\n      o = 0;\n  const {\n    width: i,\n    height: s,\n    mask: a\n  } = t,\n        u = t.pixels[0],\n        f = [],\n        p = [],\n        m = l(c.fromJSON(e.inputUnit), \"knots\"),\n        d = \"wind_speed\" === e.style ? h : Number.MAX_VALUE;\n\n  for (let h = 0; h < s; h++) for (let t = 0; t < i; t++) {\n    const e = u[h * i + t] * m;\n\n    if ((!a || a[h * i + t]) && e < d) {\n      for (let n = 0; n < 4; n++) f[r++] = (t + .5) / i, f[r++] = (h + .5) / s, f[r++] = n < 2 ? -.5 : .5, f[r++] = n % 2 == 0 ? -.5 : .5, f[r++] = 0, f[r++] = e;\n\n      const a = 4 * (r / n - 1);\n      p[o++] = a, p[o++] = a + 1, p[o++] = a + 2, p[o++] = a + 1, p[o++] = a + 2, p[o++] = a + 3;\n    }\n  }\n\n  return {\n    vertexData: new Float32Array(f),\n    indexData: new Uint32Array(p)\n  };\n}\n\nfunction F(t, e) {\n  return \"simple_scalar\" === e.style ? D(t, e) : \"wind_speed\" === e.style ? S(t, e) : _(t, e);\n}\n\nfunction j(t, e, n, r = [0, 0], i = .5) {\n  const {\n    width: s,\n    height: a,\n    mask: h\n  } = t,\n        [c, l] = t.pixels,\n        [u, m] = r,\n        d = Math.round((s - u) / n),\n        g = Math.round((a - m) / n),\n        x = d * g,\n        M = new Float32Array(x),\n        k = new Float32Array(x),\n        w = new Uint8Array(x),\n        y = \"vector-uv\" === e;\n\n  for (let o = 0; o < g; o++) for (let t = 0; t < d; t++) {\n    let e = 0;\n    const r = o * d + t,\n          g = Math.max(0, o * n + m),\n          x = Math.max(0, t * n + u),\n          P = Math.min(a, g + n),\n          b = Math.min(s, x + n);\n\n    for (let t = g; t < P; t++) for (let n = x; n < b; n++) {\n      const o = t * s + n;\n\n      if (!h || h[o]) {\n        e++;\n        const t = y ? [c[o], l[o]] : [c[o], (360 + l[o]) % 360],\n              [n, i] = y ? t : p(t);\n        M[r] += n, k[r] += i;\n      }\n    }\n\n    if (e >= (P - g) * (b - x) * (1 - i)) {\n      w[r] = 1;\n      const [t, n] = f([M[r] / e, k[r] / e]);\n      M[r] = t, k[r] = n;\n    } else w[r] = 0, M[r] = 0, k[r] = 0;\n  }\n\n  const P = new o({\n    width: d,\n    height: g,\n    pixels: [M, k],\n    mask: w\n  });\n  return P.updateStatistics(), P;\n}\n\nexport { m as convertToLocalDirections, d as convertVectorFieldData, g as convertVectorFieldUnit, F as createVFMesh, D as createVFMeshScalar, l as getUnitConversionFactor, j as sampleVectorField, x as snapImageToSymbolTile, c as unitKebabDict, f as uvComponentToVector };","map":{"version":3,"names":["JSONMap","t","isNone","e","unwrap","n","isSome","r","o","isValidPixelBlock","i","s","Map","set","a","Math","PI","h","c","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","l","get","u","f","sqrt","atan2","p","cos","sin","m","clone","d","pixels","length","width","height","pixelType","startsWith","createEmptyBand","g","x","M","mask","validPixelCount","maskIsAlpha","updateStatistics","spatialReference","equals","extent","round","resolution","xmin","ymax","xmax","ymin","floor","ceil","k","y","w","P","b","v","I","A","_","U","S","D","F","push","j","N","J","O","q","B","E","T","C","pennants","barbs","shaft","min","style","inputUnit","outputUnit","breakValues","fromJSON","filter","Float32Array","Uint32Array","invertDirection","vertexData","indexData","Number","MAX_VALUE","Uint8Array","max","convertToLocalDirections","convertVectorFieldData","convertVectorFieldUnit","createVFMesh","createVFMeshScalar","getUnitConversionFactor","sampleVectorField","snapImageToSymbolTile","unitKebabDict","uvComponentToVector"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isNone as e,unwrap as n,isSome as r}from\"../../../core/maybe.js\";import o from\"../PixelBlock.js\";import{isValidPixelBlock as i}from\"./pixelUtils.js\";const s=new Map;s.set(\"meter-per-second\",1),s.set(\"kilometer-per-hour\",.277778),s.set(\"knots\",.514444),s.set(\"feet-per-second\",.3048),s.set(\"mile-per-hour\",.44704);const a=180/Math.PI,h=5,c=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function l(t,e){return s.get(t)/s.get(e)||1}function u(t){return(450-t)%360}function f(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n)*a;return i=(360+i)%360,\"geographic\"===e&&(i=u(i)),[o,i]}function p(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=u(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function m(t,r,o,s=\"geographic\"){if(!i(t)||e(o))return t;const a=\"vector-magdir\"===r?t.clone():n(d(t,r)),h=a.pixels[1];for(let e=0;e<h.length;e++)h[e]=\"geographic\"===s?(h[e]+o[e]+270)%360:(h[e]+360-o[e])%360;return\"vector-magdir\"===r?a:d(a,\"vector-magdir\")}function d(t,e,n=\"geographic\",r=1){if(!i(t))return t;const{pixels:s,width:a,height:h}=t,c=a*h,l=s[0],u=s[1],m=t.pixelType.startsWith(\"f\")?t.pixelType:\"f32\",d=o.createEmptyBand(m,c),g=o.createEmptyBand(m,c);let x=0;for(let o=0;o<h;o++)for(let t=0;t<a;t++)\"vector-uv\"===e?([d[x],g[x]]=f([l[x],u[x]],n),d[x]*=r):([d[x],g[x]]=p([l[x],u[x]],n),d[x]*=r,g[x]*=r),x++;const M=new o({pixelType:m,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[d,g]});return M.updateStatistics(),M}function g(t,e,n=1){if(1===n||!i(t))return t;const r=t.clone(),{pixels:o,width:s,height:a}=r,h=o[0],c=o[1];let l=0;for(let i=0;i<a;i++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[l]*=n,c[l]*=n):h[l]*=n,l++;return r.updateStatistics(),r}function x(t,n,r,o,i){if(e(i)||!i.spatialReference.equals(t.spatialReference))return{extent:t,width:Math.round(n/o),height:Math.round(r/o),resolution:t.width/n};const s=i.xmin,a=i.ymax,h=(t.xmax-t.xmin)/n*o,c=(t.ymax-t.ymin)/r*o,l=(h+c)/2;return t.xmin=s+Math.floor((t.xmin-s)/h)*h,t.xmax=s+Math.ceil((t.xmax-s)/h)*h,t.ymin=a+Math.floor((t.ymin-a)/c)*c,t.ymax=a+Math.ceil((t.ymax-a)/c)*c,{extent:t,width:Math.round(t.width/h),height:Math.round(t.height/c),resolution:l}}const M=k(0,0,0);function k(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,i=13*o,s=-7*o,a=-2*o,h=-16*o,c=21.75,[l,u]=y(0,e+i,n,c),[f,p]=y(t-5.5,e+s,n,c),[m,d]=y(t+5.5,e+s,n,c),[g,x]=y(t-1.5,e+a,n,c),[M,k]=y(t+1.5,e+a,n,c),[w,P]=y(t-1.5,e+h,n,c),[b,v]=y(t+1.5,e+h,n,c);return[l,u,f,p,g,x,M,k,m,d,w,P,b,v]}function w(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,i=5*o,s=20*o,a=25*o,c=45,l=0,u=0,f=2,p=0,m=f*o,d=n?1:-1,g=r/2*d;let[x,M]=[l+g,u-s],[k,w]=[x+f*d,M],[P,b]=[k-p*d,w+m],[v,I]=[l-g,u-a],[A,_]=[v+p*d,I-m],U=Math.ceil(t/h),S=Math.floor(U/10);U-=8*S;const D=[],F=[];for(let h=0;h<U/2;h++,S--){S<=0&&U%2==1&&h===(U-1)/2&&(v=l,A=v+p*d,I=(I+M)/2,_=I-m);const[t,n]=y(v,I,e,c);if(S>0){const[r,o]=y(k,I,e,c),[i,s]=y(x,M,e,c);D.push(r),D.push(o),D.push(t),D.push(n),D.push(i),D.push(s)}else{const[r,o]=y(k,w,e,c),[i,s]=y(P,b,e,c),[a,h]=y(A,_,e,c);F.push(t),F.push(n),F.push(a),F.push(h),F.push(i),F.push(s),F.push(r),F.push(o)}I+=i,M+=i,w+=i,b+=i,_+=i}const[j,N]=y(l+g,u+s,e,c),J=(r/2+f)*d,[O,q]=y(l+J,u+s,e,c),[B,E]=y(l+g,u-a,e,c),[T,C]=y(l+J,u-a,e,c);return{pennants:D,barbs:F,shaft:[j,N,O,q,B,E,T,C]}}function y(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,i=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+i-n)%(2*Math.PI)]}const P=[0,1,3,6,10,16,21,27,33,40,47,55,63],b=[0,.5,1,1.5,2],v=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function I(t,e,n,r){const o=l(r||\"knots\",n);let i;for(i=1;i<e.length;i++)if(i===e.length-1){if(t<e[i]*o)break}else if(t<=e[i]*o)break;return Math.min(i-1,e.length-2)}function A(t,e,n,r,o){let i=0;switch(e){case\"beaufort_kn\":i=I(t,P,\"knots\",n);break;case\"beaufort_km\":i=I(t,P,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":i=I(t,P,\"feet-per-second\",n);break;case\"beaufort_m\":i=I(t,P,\"meter-per-second\",n);break;case\"classified_arrow\":i=I(t,o??[],r,n);break;case\"ocean_current_m\":i=I(t,b,\"meter-per-second\",n);break;case\"ocean_current_kn\":i=I(t,v,\"knots\",n)}return i}function _(t,e){const{style:n,inputUnit:o,outputUnit:i,breakValues:s}=e,a=c.fromJSON(o),h=c.fromJSON(i),l=7*6,u=15;let f=0,p=0;const{width:m,height:d,mask:g}=t,x=t.pixels[0],w=t.pixels[1],y=r(g)?g.filter((t=>t>0)).length:m*d,P=new Float32Array(y*l),b=new Uint32Array(u*y),v=e.invertDirection?k(0,0,0,!1):M;for(let r=0;r<d;r++)for(let t=0;t<m;t++){const e=r*m+t;if(!g||g[r*m+t]){const o=(w[e]+360)%360/180*Math.PI,i=A(x[e],n,a,h,s);for(let n=0;n<v.length;n+=2)P[f++]=(t+.5)/m,P[f++]=(r+.5)/d,P[f++]=v[n],P[f++]=v[n+1]+o,P[f++]=i,P[f++]=x[e];const c=7*(f/l-1);b[p++]=c,b[p++]=c+1,b[p++]=c+2,b[p++]=c+0,b[p++]=c+4,b[p++]=c+3,b[p++]=c+0,b[p++]=c+2,b[p++]=c+3,b[p++]=c+2,b[p++]=c+5,b[p++]=c+3,b[p++]=c+5,b[p++]=c+6,b[p++]=c+3}}return{vertexData:P,indexData:b}}const U=[];function S(t,e){if(0===U.length)for(let h=0;h<30;h++)U.push(w(5*h,0,!e.invertDirection));const n=l(c.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:i}=t,s=t.pixels[0],a=t.pixels[1],u=6,f=[],p=[];let m=0,d=0;for(let c=0;c<o;c++)for(let t=0;t<r;t++){const e=c*r+t,l=s[e]*n;if((!i||i[c*r+t])&&l>=h){const n=(a[e]+360)%360/180*Math.PI,{pennants:i,barbs:s,shaft:h}=U[Math.min(Math.floor(l/5),29)];if(i.length+s.length===0)continue;let g=f.length/u;const x=(t+.5)/r,M=(c+.5)/o;for(let t=0;t<i.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=i[t],f[m++]=i[t+1]+n,f[m++]=0,f[m++]=l;for(let t=0;t<s.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=l;for(let t=0;t<h.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=h[t],f[m++]=h[t+1]+n,f[m++]=0,f[m++]=l;for(let t=0;t<i.length/6;t++)p[d++]=g,p[d++]=g+1,p[d++]=g+2,g+=3;for(let t=0;t<s.length/8;t++)p[d++]=g,p[d++]=g+1,p[d++]=g+2,p[d++]=g+1,p[d++]=g+2,p[d++]=g+3,g+=4;p[d++]=g+0,p[d++]=g+1,p[d++]=g+2,p[d++]=g+1,p[d++]=g+3,p[d++]=g+2,g+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function D(t,e){const n=4*6;let r=0,o=0;const{width:i,height:s,mask:a}=t,u=t.pixels[0],f=[],p=[],m=l(c.fromJSON(e.inputUnit),\"knots\"),d=\"wind_speed\"===e.style?h:Number.MAX_VALUE;for(let h=0;h<s;h++)for(let t=0;t<i;t++){const e=u[h*i+t]*m;if((!a||a[h*i+t])&&e<d){for(let n=0;n<4;n++)f[r++]=(t+.5)/i,f[r++]=(h+.5)/s,f[r++]=n<2?-.5:.5,f[r++]=n%2==0?-.5:.5,f[r++]=0,f[r++]=e;const a=4*(r/n-1);p[o++]=a,p[o++]=a+1,p[o++]=a+2,p[o++]=a+1,p[o++]=a+2,p[o++]=a+3}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function F(t,e){return\"simple_scalar\"===e.style?D(t,e):\"wind_speed\"===e.style?S(t,e):_(t,e)}function j(t,e,n,r=[0,0],i=.5){const{width:s,height:a,mask:h}=t,[c,l]=t.pixels,[u,m]=r,d=Math.round((s-u)/n),g=Math.round((a-m)/n),x=d*g,M=new Float32Array(x),k=new Float32Array(x),w=new Uint8Array(x),y=\"vector-uv\"===e;for(let o=0;o<g;o++)for(let t=0;t<d;t++){let e=0;const r=o*d+t,g=Math.max(0,o*n+m),x=Math.max(0,t*n+u),P=Math.min(a,g+n),b=Math.min(s,x+n);for(let t=g;t<P;t++)for(let n=x;n<b;n++){const o=t*s+n;if(!h||h[o]){e++;const t=y?[c[o],l[o]]:[c[o],(360+l[o])%360],[n,i]=y?t:p(t);M[r]+=n,k[r]+=i}}if(e>=(P-g)*(b-x)*(1-i)){w[r]=1;const[t,n]=f([M[r]/e,k[r]/e]);M[r]=t,k[r]=n}else w[r]=0,M[r]=0,k[r]=0}const P=new o({width:d,height:g,pixels:[M,k],mask:w});return P.updateStatistics(),P}export{m as convertToLocalDirections,d as convertVectorFieldData,g as convertVectorFieldUnit,F as createVFMesh,D as createVFMeshScalar,l as getUnitConversionFactor,j as sampleVectorField,x as snapImageToSymbolTile,c as unitKebabDict,f as uvComponentToVector};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}