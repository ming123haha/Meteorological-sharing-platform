{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { ReentrantObjectPool as e } from \"../../../core/ReentrantObjectPool.js\";\nimport { afterDispatch as t, isValueInUse as r } from \"../../../core/accessorSupport/watch.js\";\n\nclass o {\n  constructor(r, o) {\n    this._owner = o, this._properties = {}, this._afterDispatchHandle = null;\n\n    for (const t in r) {\n      const o = r[t],\n            s = new e(o, void 0, void 0, 2, 2);\n      this._properties[t] = {\n        pool: s,\n        acquired: []\n      };\n    }\n\n    this._afterDispatchHandle = t(() => this._release());\n  }\n\n  destroy() {\n    this._afterDispatchHandle && (this._afterDispatchHandle.remove(), this._afterDispatchHandle = null);\n\n    for (const e in this._properties) {\n      const t = this._properties[e];\n\n      for (const e of t.acquired) r(e) || t.pool.release(e);\n\n      t.pool.destroy(), t.pool = null, t.acquired = null;\n    }\n\n    this._properties = null, this._owner = null;\n  }\n\n  get(e) {\n    const t = this._owner._get(e),\n          r = this._properties[e];\n\n    let o = r.pool.acquire();\n\n    for (r.acquired.push(o); o === t;) r.acquired.push(o), o = r.pool.acquire();\n\n    return o;\n  }\n\n  _release() {\n    for (const e in this._properties) {\n      const t = this._properties[e];\n      let o = 0;\n\n      for (const e of t.acquired) r(e) ? t.acquired[o++] = e : t.pool.release(e);\n\n      t.acquired.length = o;\n    }\n  }\n\n}\n\nexport { o as PropertiesPool };","map":{"version":3,"names":["ReentrantObjectPool","e","afterDispatch","t","isValueInUse","r","o","constructor","_owner","_properties","_afterDispatchHandle","s","pool","acquired","_release","destroy","remove","release","get","_get","acquire","push","length","PropertiesPool"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/support/PropertiesPool.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ReentrantObjectPool as e}from\"../../../core/ReentrantObjectPool.js\";import{afterDispatch as t,isValueInUse as r}from\"../../../core/accessorSupport/watch.js\";class o{constructor(r,o){this._owner=o,this._properties={},this._afterDispatchHandle=null;for(const t in r){const o=r[t],s=new e(o,void 0,void 0,2,2);this._properties[t]={pool:s,acquired:[]}}this._afterDispatchHandle=t((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)r(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),r=this._properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}_release(){for(const e in this._properties){const t=this._properties[e];let o=0;for(const e of t.acquired)r(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o}}}export{o as PropertiesPool};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,mBAAmB,IAAIC,CAA9B,QAAoC,sCAApC;AAA2E,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,YAAY,IAAIC,CAA1C,QAAgD,wCAAhD;;AAAyF,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACF,CAAD,EAAGC,CAAH,EAAK;IAAC,KAAKE,MAAL,GAAYF,CAAZ,EAAc,KAAKG,WAAL,GAAiB,EAA/B,EAAkC,KAAKC,oBAAL,GAA0B,IAA5D;;IAAiE,KAAI,MAAMP,CAAV,IAAeE,CAAf,EAAiB;MAAC,MAAMC,CAAC,GAACD,CAAC,CAACF,CAAD,CAAT;MAAA,MAAaQ,CAAC,GAAC,IAAIV,CAAJ,CAAMK,CAAN,EAAQ,KAAK,CAAb,EAAe,KAAK,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,CAAf;MAA0C,KAAKG,WAAL,CAAiBN,CAAjB,IAAoB;QAACS,IAAI,EAACD,CAAN;QAAQE,QAAQ,EAAC;MAAjB,CAApB;IAAyC;;IAAA,KAAKH,oBAAL,GAA0BP,CAAC,CAAE,MAAI,KAAKW,QAAL,EAAN,CAA3B;EAAmD;;EAAAC,OAAO,GAAE;IAAC,KAAKL,oBAAL,KAA4B,KAAKA,oBAAL,CAA0BM,MAA1B,IAAmC,KAAKN,oBAAL,GAA0B,IAAzF;;IAA+F,KAAI,MAAMT,CAAV,IAAe,KAAKQ,WAApB,EAAgC;MAAC,MAAMN,CAAC,GAAC,KAAKM,WAAL,CAAiBR,CAAjB,CAAR;;MAA4B,KAAI,MAAMA,CAAV,IAAeE,CAAC,CAACU,QAAjB,EAA0BR,CAAC,CAACJ,CAAD,CAAD,IAAME,CAAC,CAACS,IAAF,CAAOK,OAAP,CAAehB,CAAf,CAAN;;MAAwBE,CAAC,CAACS,IAAF,CAAOG,OAAP,IAAiBZ,CAAC,CAACS,IAAF,GAAO,IAAxB,EAA6BT,CAAC,CAACU,QAAF,GAAW,IAAxC;IAA6C;;IAAA,KAAKJ,WAAL,GAAiB,IAAjB,EAAsB,KAAKD,MAAL,GAAY,IAAlC;EAAuC;;EAAAU,GAAG,CAACjB,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKK,MAAL,CAAYW,IAAZ,CAAiBlB,CAAjB,CAAR;IAAA,MAA4BI,CAAC,GAAC,KAAKI,WAAL,CAAiBR,CAAjB,CAA9B;;IAAkD,IAAIK,CAAC,GAACD,CAAC,CAACO,IAAF,CAAOQ,OAAP,EAAN;;IAAuB,KAAIf,CAAC,CAACQ,QAAF,CAAWQ,IAAX,CAAgBf,CAAhB,CAAJ,EAAuBA,CAAC,KAAGH,CAA3B,GAA8BE,CAAC,CAACQ,QAAF,CAAWQ,IAAX,CAAgBf,CAAhB,GAAmBA,CAAC,GAACD,CAAC,CAACO,IAAF,CAAOQ,OAAP,EAArB;;IAAsC,OAAOd,CAAP;EAAS;;EAAAQ,QAAQ,GAAE;IAAC,KAAI,MAAMb,CAAV,IAAe,KAAKQ,WAApB,EAAgC;MAAC,MAAMN,CAAC,GAAC,KAAKM,WAAL,CAAiBR,CAAjB,CAAR;MAA4B,IAAIK,CAAC,GAAC,CAAN;;MAAQ,KAAI,MAAML,CAAV,IAAeE,CAAC,CAACU,QAAjB,EAA0BR,CAAC,CAACJ,CAAD,CAAD,GAAKE,CAAC,CAACU,QAAF,CAAWP,CAAC,EAAZ,IAAgBL,CAArB,GAAuBE,CAAC,CAACS,IAAF,CAAOK,OAAP,CAAehB,CAAf,CAAvB;;MAAyCE,CAAC,CAACU,QAAF,CAAWS,MAAX,GAAkBhB,CAAlB;IAAoB;EAAC;;AAA51B;;AAA61B,SAAOA,CAAC,IAAIiB,cAAZ"},"metadata":{},"sourceType":"module"}