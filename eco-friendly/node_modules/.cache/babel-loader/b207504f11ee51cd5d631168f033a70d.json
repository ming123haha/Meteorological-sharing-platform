{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { Float3PassUniform as i } from \"../../shaderModules/Float3PassUniform.js\";\nimport { FloatPassUniform as n } from \"../../shaderModules/FloatPassUniform.js\";\nimport { glsl as t } from \"../../shaderModules/interfaces.js\";\n\nfunction o(n) {\n  n.uniforms.add(new i(\"mainLightDirection\", (i, n) => n.lighting.mainLight.direction));\n}\n\nfunction a(n) {\n  n.uniforms.add(new i(\"mainLightIntensity\", (i, n) => n.lighting.mainLight.intensity));\n}\n\nfunction e(i, t) {\n  t.useLegacyTerrainShading ? i.uniforms.add(new n(\"lightingFixedFactor\", (i, n) => n.lighting.noonFactor * (1 - n.lighting.globalFactor))) : i.constants.add(\"lightingFixedFactor\", \"float\", 0);\n}\n\nfunction r(i, n) {\n  const r = i.fragment;\n  o(r), a(r), e(r, n), r.code.add(t`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\nfloat dotVal = clamp(dot(normal_global, mainLightDirection), 0.0, 1.0);\ndotVal = mix(dotVal, 1.0, lightingFixedFactor);\nreturn mainLightIntensity * ((1.0 - shadowing) * dotVal);\n}`);\n}\n\nexport { r as MainLighting, o as addMainLightDirection, a as addMainLightIntensity };","map":{"version":3,"names":["Float3PassUniform","i","FloatPassUniform","n","glsl","t","o","uniforms","add","lighting","mainLight","direction","a","intensity","e","useLegacyTerrainShading","noonFactor","globalFactor","constants","r","fragment","code","MainLighting","addMainLightDirection","addMainLightIntensity"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as n}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function o(n){n.uniforms.add(new i(\"mainLightDirection\",((i,n)=>n.lighting.mainLight.direction)))}function a(n){n.uniforms.add(new i(\"mainLightIntensity\",((i,n)=>n.lighting.mainLight.intensity)))}function e(i,t){t.useLegacyTerrainShading?i.uniforms.add(new n(\"lightingFixedFactor\",((i,n)=>n.lighting.noonFactor*(1-n.lighting.globalFactor)))):i.constants.add(\"lightingFixedFactor\",\"float\",0)}function r(i,n){const r=i.fragment;o(r),a(r),e(r,n),r.code.add(t`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\nfloat dotVal = clamp(dot(normal_global, mainLightDirection), 0.0, 1.0);\ndotVal = mix(dotVal, 1.0, lightingFixedFactor);\nreturn mainLightIntensity * ((1.0 - shadowing) * dotVal);\n}`)}export{r as MainLighting,o as addMainLightDirection,a as addMainLightIntensity};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,iBAAiB,IAAIC,CAA5B,QAAkC,0CAAlC;AAA6E,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,yCAAjC;AAA2E,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWH,CAAX,EAAa;EAACA,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,IAAIP,CAAJ,CAAM,oBAAN,EAA4B,CAACA,CAAD,EAAGE,CAAH,KAAOA,CAAC,CAACM,QAAF,CAAWC,SAAX,CAAqBC,SAAxD,CAAf;AAAoF;;AAAA,SAASC,CAAT,CAAWT,CAAX,EAAa;EAACA,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,IAAIP,CAAJ,CAAM,oBAAN,EAA4B,CAACA,CAAD,EAAGE,CAAH,KAAOA,CAAC,CAACM,QAAF,CAAWC,SAAX,CAAqBG,SAAxD,CAAf;AAAoF;;AAAA,SAASC,CAAT,CAAWb,CAAX,EAAaI,CAAb,EAAe;EAACA,CAAC,CAACU,uBAAF,GAA0Bd,CAAC,CAACM,QAAF,CAAWC,GAAX,CAAe,IAAIL,CAAJ,CAAM,qBAAN,EAA6B,CAACF,CAAD,EAAGE,CAAH,KAAOA,CAAC,CAACM,QAAF,CAAWO,UAAX,IAAuB,IAAEb,CAAC,CAACM,QAAF,CAAWQ,YAApC,CAApC,CAAf,CAA1B,GAAkIhB,CAAC,CAACiB,SAAF,CAAYV,GAAZ,CAAgB,qBAAhB,EAAsC,OAAtC,EAA8C,CAA9C,CAAlI;AAAmL;;AAAA,SAASW,CAAT,CAAWlB,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAMgB,CAAC,GAAClB,CAAC,CAACmB,QAAV;EAAmBd,CAAC,CAACa,CAAD,CAAD,EAAKP,CAAC,CAACO,CAAD,CAAN,EAAUL,CAAC,CAACK,CAAD,EAAGhB,CAAH,CAAX,EAAiBgB,CAAC,CAACE,IAAF,CAAOb,GAAP,CAAWH,CAAE;AACzpB;AACA;AACA;AACA,EAJ4oB,CAAjB;AAIvnB;;AAAA,SAAOc,CAAC,IAAIG,YAAZ,EAAyBhB,CAAC,IAAIiB,qBAA9B,EAAoDX,CAAC,IAAIY,qBAAzD"},"metadata":{},"sourceType":"module"}