{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport t from \"../../../../../core/Logger.js\";\nimport { unwrapOrThrow as e, isSome as s, isNone as r } from \"../../../../../core/maybe.js\";\nimport { throwIfAborted as o, after as a } from \"../../../../../core/promiseUtils.js\";\nimport i from \"../../../../../core/RandomLCG.js\";\nimport { BaseFeatureSource as n } from \"./BaseFeatureSource.js\";\nimport { FeatureSetReaderIndirect as d } from \"../support/FeatureSetReaderPBFIndirect.js\";\nimport { UpdateToken as h } from \"../support/UpdateToken.js\";\nconst u = t.getLogger(\"esri.views.2d.layers.features.sources.SnapshotFeatureSource\");\n\nfunction l(t, e, s) {\n  const r = t.getXHydrated(),\n        o = t.getYHydrated(),\n        a = e.getColumnForX(r),\n        i = Math.floor(e.normalizeCol(a));\n  return `${s}/${Math.floor(e.getRowForY(o))}/${i}`;\n}\n\nfunction c(t, e) {\n  if (r(t)) return null;\n  const s = e.transform,\n        o = t.getQuantizationTransform();\n\n  if (r(o)) {\n    const [e, r] = s.scale,\n          [o, a] = s.translate,\n          i = -o / e,\n          n = 1 / e,\n          d = a / r,\n          h = 1 / -r;\n    return t.transform(i, d, n, h);\n  }\n\n  const [a, i] = o.scale,\n        [n, d] = o.translate,\n        [h, u] = s.scale,\n        [l, c] = s.translate,\n        g = a / h,\n        p = (n - l) / h,\n        _ = i / u,\n        m = (-d + c) / u;\n\n  return t.transform(p, m, g, _);\n}\n\nclass g extends n {\n  constructor(t) {\n    super(t), this.mode = \"snapshot\", this._loading = !0, this._controller = new AbortController(), this._downloadPromise = null, this._didSendEnd = !1, this._queries = new Array(), this._invalidated = !1, this._hasAggregates = !1, this._random = new i(1e3), this._store = t.store, this._markedIdsBufId = this._store.storage.createBitset();\n  }\n\n  destroy() {\n    super.destroy(), this._controller.abort();\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  get _signal() {\n    return this._controller.signal;\n  }\n\n  update(t, e) {\n    super.update(t, e), this._hasAggregates = t.targets.aggregate;\n  }\n\n  async resend(t = !1) {\n    if (await this._downloadPromise, this._invalidated || t) {\n      const t = e(this._schema.featureCount, \"Expected featureCount to be defined\");\n      return this._invalidated = !1, this._subscriptions.forEach(t => t.clear()), this._downloadPromise = this._download(t), void (await this._downloadPromise);\n    }\n\n    const s = this._queries.map(({\n      query: t,\n      reader: e\n    }) => this._sendPatchQuery(t, e));\n\n    await Promise.all(s), this._subscriptions.forEach(t => {\n      t.requests.done.forEach(t => this._onMessage(t.message));\n    });\n  }\n\n  async refresh() {\n    await this.resend(!0);\n  }\n\n  async _sendPatchQuery(t, e) {\n    const r = s(t.outFields) ? t.outFields : [],\n          a = this._queryInfo.outFields,\n          i = a.filter(t => !r.includes(t));\n    if (!i.length) return;\n    const n = t.clone(),\n          d = this._signal;\n    n.returnGeometry = !1, n.returnCentroid = !1, n.outFields = i, t.outFields = a;\n    const h = await this._queue.push({\n      query: n,\n      depth: 0,\n      signal: d\n    });\n    o({\n      signal: d\n    }), e.joinAttributes(h);\n  }\n\n  async _fetchDataTile(t) {\n    if (!this._downloadPromise) {\n      const t = e(this._schema.featureCount, \"Expected featureCount to be defined\");\n      this._downloadPromise = this._download(t);\n    }\n\n    const s = this._store.search(t),\n          r = this._subscriptions.get(t.key.id),\n          o = s.length - 1;\n\n    for (let e = 0; e < o; e++) {\n      const o = c(s[e], t),\n            i = {\n        type: \"append\",\n        id: t.id,\n        addOrUpdate: o,\n        end: !1,\n        status: h.empty()\n      };\n      r.add({\n        query: null,\n        message: i\n      }), this._hasAggregates || (await a(1)), this._onMessage(i);\n    }\n\n    const i = c(o >= 0 ? s[o] : null, t),\n          n = this._didSendEnd,\n          d = {\n      type: \"append\",\n      id: t.id,\n      addOrUpdate: i,\n      end: n,\n      status: h.empty()\n    };\n    r.add({\n      query: null,\n      message: d\n    }), this._onMessage(d);\n  }\n\n  async _download(t) {\n    try {\n      await this.whenInitialized();\n\n      const e = this._store.storage.getBitset(this._markedIdsBufId),\n            s = new Set();\n\n      e.clear();\n      const r = Math.ceil(t / this.pageSize),\n            o = Array.from({\n        length: r\n      }, (t, e) => e).sort((t, e) => this._random.getInt() - this._random.getInt()).map(t => this._downloadPage(t, e, s));\n      await Promise.all(o), this._store.sweepFeatures(e, this._store.storage), this._store.sweepFeatureSets(s);\n    } catch (e) {\n      u.error(\"mapview-snapshot-source\", \"Encountered and error when downloading feature snapshot\", e);\n    }\n\n    this._sendEnd(), this._loading = !1;\n  }\n\n  async _downloadPage(t, e, r) {\n    const a = this.pageSize,\n          i = {\n      start: t * a,\n      num: a,\n      cacheHint: !0\n    };\n    s(this.maxRecordCountFactor) && (i.maxRecordCountFactor = this.maxRecordCountFactor);\n    const n = this.createQuery(i),\n          d = this._signal,\n          h = await this._queue.push({\n      query: n,\n      depth: t,\n      signal: d\n    });\n    o({\n      signal: d\n    }), this._queries.push({\n      query: n,\n      reader: h\n    }), this._store.insert(h), r.add(h.instance);\n    const u = h.getCursor();\n\n    for (; u.next();) e.set(u.getDisplayId());\n\n    this._send(h);\n  }\n\n  _send(t) {\n    if (!this._subscriptions.size) return;\n    let e = null;\n    const o = new Map(),\n          a = new Set(),\n          i = new Map();\n\n    this._subscriptions.forEach(t => {\n      const s = t.tile;\n      o.set(s.key.id, null), e = s.tileInfoView, a.add(s.level);\n      const {\n        row: r,\n        col: n\n      } = s.key,\n            d = `${s.level}/${r}/${n}`,\n            h = i.get(d) ?? [];\n      h.push(t), i.set(d, h);\n    });\n\n    for (const s of a) {\n      const a = e.getLODInfoAt(s),\n            n = t.getCursor();\n\n      for (; n.next();) {\n        const t = l(n, a, s),\n              e = n.getIndex();\n        if (i.has(t)) for (const s of i.get(t)) {\n          const t = s.tile.id;\n          let a = o.get(t);\n          r(a) && (a = [], o.set(t, a)), a.push(e);\n        }\n      }\n    }\n\n    o.forEach((e, r) => {\n      if (s(e)) {\n        const s = this._subscriptions.get(r),\n              o = {\n          type: \"append\",\n          id: r,\n          addOrUpdate: c(d.from(t, e), s.tile),\n          end: !1,\n          status: h.empty()\n        };\n\n        s.add({\n          query: null,\n          message: o\n        }), this._onMessage(o);\n      }\n    });\n  }\n\n  _sendEnd() {\n    this._subscriptions.forEach(t => {\n      const e = {\n        type: \"append\",\n        id: t.tile.id,\n        addOrUpdate: null,\n        end: !0,\n        status: h.empty()\n      };\n      t.add({\n        query: null,\n        message: e\n      }), this._onMessage(e);\n    }), this._didSendEnd = !0;\n  }\n\n}\n\nexport { g as SnapshotFeatureSource };","map":{"version":3,"names":["t","unwrapOrThrow","e","isSome","s","isNone","r","throwIfAborted","o","after","a","i","BaseFeatureSource","n","FeatureSetReaderIndirect","d","UpdateToken","h","u","getLogger","l","getXHydrated","getYHydrated","getColumnForX","Math","floor","normalizeCol","getRowForY","c","transform","getQuantizationTransform","scale","translate","g","p","_","m","constructor","mode","_loading","_controller","AbortController","_downloadPromise","_didSendEnd","_queries","Array","_invalidated","_hasAggregates","_random","_store","store","_markedIdsBufId","storage","createBitset","destroy","abort","loading","_signal","signal","update","targets","aggregate","resend","_schema","featureCount","_subscriptions","forEach","clear","_download","map","query","reader","_sendPatchQuery","Promise","all","requests","done","_onMessage","message","refresh","outFields","_queryInfo","filter","includes","length","clone","returnGeometry","returnCentroid","_queue","push","depth","joinAttributes","_fetchDataTile","search","get","key","id","type","addOrUpdate","end","status","empty","add","whenInitialized","getBitset","Set","ceil","pageSize","from","sort","getInt","_downloadPage","sweepFeatures","sweepFeatureSets","error","_sendEnd","start","num","cacheHint","maxRecordCountFactor","createQuery","insert","instance","getCursor","next","set","getDisplayId","_send","size","Map","tile","tileInfoView","level","row","col","getLODInfoAt","getIndex","has","SnapshotFeatureSource"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/sources/SnapshotFeatureSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import t from\"../../../../../core/Logger.js\";import{unwrapOrThrow as e,isSome as s,isNone as r}from\"../../../../../core/maybe.js\";import{throwIfAborted as o,after as a}from\"../../../../../core/promiseUtils.js\";import i from\"../../../../../core/RandomLCG.js\";import{BaseFeatureSource as n}from\"./BaseFeatureSource.js\";import{FeatureSetReaderIndirect as d}from\"../support/FeatureSetReaderPBFIndirect.js\";import{UpdateToken as h}from\"../support/UpdateToken.js\";const u=t.getLogger(\"esri.views.2d.layers.features.sources.SnapshotFeatureSource\");function l(t,e,s){const r=t.getXHydrated(),o=t.getYHydrated(),a=e.getColumnForX(r),i=Math.floor(e.normalizeCol(a));return`${s}/${Math.floor(e.getRowForY(o))}/${i}`}function c(t,e){if(r(t))return null;const s=e.transform,o=t.getQuantizationTransform();if(r(o)){const[e,r]=s.scale,[o,a]=s.translate,i=-o/e,n=1/e,d=a/r,h=1/-r;return t.transform(i,d,n,h)}const[a,i]=o.scale,[n,d]=o.translate,[h,u]=s.scale,[l,c]=s.translate,g=a/h,p=(n-l)/h,_=i/u,m=(-d+c)/u;return t.transform(p,m,g,_)}class g extends n{constructor(t){super(t),this.mode=\"snapshot\",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new i(1e3),this._store=t.store,this._markedIdsBufId=this._store.storage.createBitset()}destroy(){super.destroy(),this._controller.abort()}get loading(){return this._loading}get _signal(){return this._controller.signal}update(t,e){super.update(t,e),this._hasAggregates=t.targets.aggregate}async resend(t=!1){if(await this._downloadPromise,this._invalidated||t){const t=e(this._schema.featureCount,\"Expected featureCount to be defined\");return this._invalidated=!1,this._subscriptions.forEach((t=>t.clear())),this._downloadPromise=this._download(t),void await this._downloadPromise}const s=this._queries.map((({query:t,reader:e})=>this._sendPatchQuery(t,e)));await Promise.all(s),this._subscriptions.forEach((t=>{t.requests.done.forEach((t=>this._onMessage(t.message)))}))}async refresh(){await this.resend(!0)}async _sendPatchQuery(t,e){const r=s(t.outFields)?t.outFields:[],a=this._queryInfo.outFields,i=a.filter((t=>!r.includes(t)));if(!i.length)return;const n=t.clone(),d=this._signal;n.returnGeometry=!1,n.returnCentroid=!1,n.outFields=i,t.outFields=a;const h=await this._queue.push({query:n,depth:0,signal:d});o({signal:d}),e.joinAttributes(h)}async _fetchDataTile(t){if(!this._downloadPromise){const t=e(this._schema.featureCount,\"Expected featureCount to be defined\");this._downloadPromise=this._download(t)}const s=this._store.search(t),r=this._subscriptions.get(t.key.id),o=s.length-1;for(let e=0;e<o;e++){const o=c(s[e],t),i={type:\"append\",id:t.id,addOrUpdate:o,end:!1,status:h.empty()};r.add({query:null,message:i}),this._hasAggregates||await a(1),this._onMessage(i)}const i=c(o>=0?s[o]:null,t),n=this._didSendEnd,d={type:\"append\",id:t.id,addOrUpdate:i,end:n,status:h.empty()};r.add({query:null,message:d}),this._onMessage(d)}async _download(t){try{await this.whenInitialized();const e=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;e.clear();const r=Math.ceil(t/this.pageSize),o=Array.from({length:r},((t,e)=>e)).sort(((t,e)=>this._random.getInt()-this._random.getInt())).map((t=>this._downloadPage(t,e,s)));await Promise.all(o),this._store.sweepFeatures(e,this._store.storage),this._store.sweepFeatureSets(s)}catch(e){u.error(\"mapview-snapshot-source\",\"Encountered and error when downloading feature snapshot\",e)}this._sendEnd(),this._loading=!1}async _downloadPage(t,e,r){const a=this.pageSize,i={start:t*a,num:a,cacheHint:!0};s(this.maxRecordCountFactor)&&(i.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createQuery(i),d=this._signal,h=await this._queue.push({query:n,depth:t,signal:d});o({signal:d}),this._queries.push({query:n,reader:h}),this._store.insert(h),r.add(h.instance);const u=h.getCursor();for(;u.next();)e.set(u.getDisplayId());this._send(h)}_send(t){if(!this._subscriptions.size)return;let e=null;const o=new Map,a=new Set,i=new Map;this._subscriptions.forEach((t=>{const s=t.tile;o.set(s.key.id,null),e=s.tileInfoView,a.add(s.level);const{row:r,col:n}=s.key,d=`${s.level}/${r}/${n}`,h=i.get(d)??[];h.push(t),i.set(d,h)}));for(const s of a){const a=e.getLODInfoAt(s),n=t.getCursor();for(;n.next();){const t=l(n,a,s),e=n.getIndex();if(i.has(t))for(const s of i.get(t)){const t=s.tile.id;let a=o.get(t);r(a)&&(a=[],o.set(t,a)),a.push(e)}}}o.forEach(((e,r)=>{if(s(e)){const s=this._subscriptions.get(r),o={type:\"append\",id:r,addOrUpdate:c(d.from(t,e),s.tile),end:!1,status:h.empty()};s.add({query:null,message:o}),this._onMessage(o)}}))}_sendEnd(){this._subscriptions.forEach((t=>{const e={type:\"append\",id:t.tile.id,addOrUpdate:null,end:!0,status:h.empty()};t.add({query:null,message:e}),this._onMessage(e)})),this._didSendEnd=!0}}export{g as SnapshotFeatureSource};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,OAAM,4BAAN;AAAmC,OAAOA,CAAP,MAAa,+BAAb;AAA6C,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,MAAM,IAAIC,CAApC,EAAsCC,MAAM,IAAIC,CAAhD,QAAsD,8BAAtD;AAAqF,SAAOC,cAAc,IAAIC,CAAzB,EAA2BC,KAAK,IAAIC,CAApC,QAA0C,qCAA1C;AAAgF,OAAOC,CAAP,MAAa,kCAAb;AAAgD,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,wBAAlC;AAA2D,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,2CAAzC;AAAqF,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,2BAA5B;AAAwD,MAAMC,CAAC,GAAClB,CAAC,CAACmB,SAAF,CAAY,6DAAZ,CAAR;;AAAmF,SAASC,CAAT,CAAWpB,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;EAAC,MAAME,CAAC,GAACN,CAAC,CAACqB,YAAF,EAAR;EAAA,MAAyBb,CAAC,GAACR,CAAC,CAACsB,YAAF,EAA3B;EAAA,MAA4CZ,CAAC,GAACR,CAAC,CAACqB,aAAF,CAAgBjB,CAAhB,CAA9C;EAAA,MAAiEK,CAAC,GAACa,IAAI,CAACC,KAAL,CAAWvB,CAAC,CAACwB,YAAF,CAAehB,CAAf,CAAX,CAAnE;EAAiG,OAAO,GAAEN,CAAE,IAAGoB,IAAI,CAACC,KAAL,CAAWvB,CAAC,CAACyB,UAAF,CAAanB,CAAb,CAAX,CAA4B,IAAGG,CAAE,EAA/C;AAAiD;;AAAA,SAASiB,CAAT,CAAW5B,CAAX,EAAaE,CAAb,EAAe;EAAC,IAAGI,CAAC,CAACN,CAAD,CAAJ,EAAQ,OAAO,IAAP;EAAY,MAAMI,CAAC,GAACF,CAAC,CAAC2B,SAAV;EAAA,MAAoBrB,CAAC,GAACR,CAAC,CAAC8B,wBAAF,EAAtB;;EAAmD,IAAGxB,CAAC,CAACE,CAAD,CAAJ,EAAQ;IAAC,MAAK,CAACN,CAAD,EAAGI,CAAH,IAAMF,CAAC,CAAC2B,KAAb;IAAA,MAAmB,CAACvB,CAAD,EAAGE,CAAH,IAAMN,CAAC,CAAC4B,SAA3B;IAAA,MAAqCrB,CAAC,GAAC,CAACH,CAAD,GAAGN,CAA1C;IAAA,MAA4CW,CAAC,GAAC,IAAEX,CAAhD;IAAA,MAAkDa,CAAC,GAACL,CAAC,GAACJ,CAAtD;IAAA,MAAwDW,CAAC,GAAC,IAAE,CAACX,CAA7D;IAA+D,OAAON,CAAC,CAAC6B,SAAF,CAAYlB,CAAZ,EAAcI,CAAd,EAAgBF,CAAhB,EAAkBI,CAAlB,CAAP;EAA4B;;EAAA,MAAK,CAACP,CAAD,EAAGC,CAAH,IAAMH,CAAC,CAACuB,KAAb;EAAA,MAAmB,CAAClB,CAAD,EAAGE,CAAH,IAAMP,CAAC,CAACwB,SAA3B;EAAA,MAAqC,CAACf,CAAD,EAAGC,CAAH,IAAMd,CAAC,CAAC2B,KAA7C;EAAA,MAAmD,CAACX,CAAD,EAAGQ,CAAH,IAAMxB,CAAC,CAAC4B,SAA3D;EAAA,MAAqEC,CAAC,GAACvB,CAAC,GAACO,CAAzE;EAAA,MAA2EiB,CAAC,GAAC,CAACrB,CAAC,GAACO,CAAH,IAAMH,CAAnF;EAAA,MAAqFkB,CAAC,GAACxB,CAAC,GAACO,CAAzF;EAAA,MAA2FkB,CAAC,GAAC,CAAC,CAACrB,CAAD,GAAGa,CAAJ,IAAOV,CAApG;;EAAsG,OAAOlB,CAAC,CAAC6B,SAAF,CAAYK,CAAZ,EAAcE,CAAd,EAAgBH,CAAhB,EAAkBE,CAAlB,CAAP;AAA4B;;AAAA,MAAMF,CAAN,SAAgBpB,CAAhB,CAAiB;EAACwB,WAAW,CAACrC,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKsC,IAAL,GAAU,UAAnB,EAA8B,KAAKC,QAAL,GAAc,CAAC,CAA7C,EAA+C,KAAKC,WAAL,GAAiB,IAAIC,eAAJ,EAAhE,EAAoF,KAAKC,gBAAL,GAAsB,IAA1G,EAA+G,KAAKC,WAAL,GAAiB,CAAC,CAAjI,EAAmI,KAAKC,QAAL,GAAc,IAAIC,KAAJ,EAAjJ,EAA2J,KAAKC,YAAL,GAAkB,CAAC,CAA9K,EAAgL,KAAKC,cAAL,GAAoB,CAAC,CAArM,EAAuM,KAAKC,OAAL,GAAa,IAAIrC,CAAJ,CAAM,GAAN,CAApN,EAA+N,KAAKsC,MAAL,GAAYjD,CAAC,CAACkD,KAA7O,EAAmP,KAAKC,eAAL,GAAqB,KAAKF,MAAL,CAAYG,OAAZ,CAAoBC,YAApB,EAAxQ;EAA2S;;EAAAC,OAAO,GAAE;IAAC,MAAMA,OAAN,IAAgB,KAAKd,WAAL,CAAiBe,KAAjB,EAAhB;EAAyC;;EAAW,IAAPC,OAAO,GAAE;IAAC,OAAO,KAAKjB,QAAZ;EAAqB;;EAAW,IAAPkB,OAAO,GAAE;IAAC,OAAO,KAAKjB,WAAL,CAAiBkB,MAAxB;EAA+B;;EAAAC,MAAM,CAAC3D,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAMyD,MAAN,CAAa3D,CAAb,EAAeE,CAAf,GAAkB,KAAK6C,cAAL,GAAoB/C,CAAC,CAAC4D,OAAF,CAAUC,SAAhD;EAA0D;;EAAY,MAANC,MAAM,CAAC9D,CAAC,GAAC,CAAC,CAAJ,EAAM;IAAC,IAAG,MAAM,KAAK0C,gBAAX,EAA4B,KAAKI,YAAL,IAAmB9C,CAAlD,EAAoD;MAAC,MAAMA,CAAC,GAACE,CAAC,CAAC,KAAK6D,OAAL,CAAaC,YAAd,EAA2B,qCAA3B,CAAT;MAA2E,OAAO,KAAKlB,YAAL,GAAkB,CAAC,CAAnB,EAAqB,KAAKmB,cAAL,CAAoBC,OAApB,CAA6BlE,CAAC,IAAEA,CAAC,CAACmE,KAAF,EAAhC,CAArB,EAAiE,KAAKzB,gBAAL,GAAsB,KAAK0B,SAAL,CAAepE,CAAf,CAAvF,EAAyG,MAAK,MAAM,KAAK0C,gBAAhB,CAAhH;IAAiJ;;IAAA,MAAMtC,CAAC,GAAC,KAAKwC,QAAL,CAAcyB,GAAd,CAAmB,CAAC;MAACC,KAAK,EAACtE,CAAP;MAASuE,MAAM,EAACrE;IAAhB,CAAD,KAAsB,KAAKsE,eAAL,CAAqBxE,CAArB,EAAuBE,CAAvB,CAAzC,CAAR;;IAA6E,MAAMuE,OAAO,CAACC,GAAR,CAAYtE,CAAZ,CAAN,EAAqB,KAAK6D,cAAL,CAAoBC,OAApB,CAA6BlE,CAAC,IAAE;MAACA,CAAC,CAAC2E,QAAF,CAAWC,IAAX,CAAgBV,OAAhB,CAAyBlE,CAAC,IAAE,KAAK6E,UAAL,CAAgB7E,CAAC,CAAC8E,OAAlB,CAA5B;IAAyD,CAA1F,CAArB;EAAkH;;EAAa,MAAPC,OAAO,GAAE;IAAC,MAAM,KAAKjB,MAAL,CAAY,CAAC,CAAb,CAAN;EAAsB;;EAAqB,MAAfU,eAAe,CAACxE,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAMI,CAAC,GAACF,CAAC,CAACJ,CAAC,CAACgF,SAAH,CAAD,GAAehF,CAAC,CAACgF,SAAjB,GAA2B,EAAnC;IAAA,MAAsCtE,CAAC,GAAC,KAAKuE,UAAL,CAAgBD,SAAxD;IAAA,MAAkErE,CAAC,GAACD,CAAC,CAACwE,MAAF,CAAUlF,CAAC,IAAE,CAACM,CAAC,CAAC6E,QAAF,CAAWnF,CAAX,CAAd,CAApE;IAAkG,IAAG,CAACW,CAAC,CAACyE,MAAN,EAAa;IAAO,MAAMvE,CAAC,GAACb,CAAC,CAACqF,KAAF,EAAR;IAAA,MAAkBtE,CAAC,GAAC,KAAK0C,OAAzB;IAAiC5C,CAAC,CAACyE,cAAF,GAAiB,CAAC,CAAlB,EAAoBzE,CAAC,CAAC0E,cAAF,GAAiB,CAAC,CAAtC,EAAwC1E,CAAC,CAACmE,SAAF,GAAYrE,CAApD,EAAsDX,CAAC,CAACgF,SAAF,GAAYtE,CAAlE;IAAoE,MAAMO,CAAC,GAAC,MAAM,KAAKuE,MAAL,CAAYC,IAAZ,CAAiB;MAACnB,KAAK,EAACzD,CAAP;MAAS6E,KAAK,EAAC,CAAf;MAAiBhC,MAAM,EAAC3C;IAAxB,CAAjB,CAAd;IAA2DP,CAAC,CAAC;MAACkD,MAAM,EAAC3C;IAAR,CAAD,CAAD,EAAcb,CAAC,CAACyF,cAAF,CAAiB1E,CAAjB,CAAd;EAAkC;;EAAoB,MAAd2E,cAAc,CAAC5F,CAAD,EAAG;IAAC,IAAG,CAAC,KAAK0C,gBAAT,EAA0B;MAAC,MAAM1C,CAAC,GAACE,CAAC,CAAC,KAAK6D,OAAL,CAAaC,YAAd,EAA2B,qCAA3B,CAAT;MAA2E,KAAKtB,gBAAL,GAAsB,KAAK0B,SAAL,CAAepE,CAAf,CAAtB;IAAwC;;IAAA,MAAMI,CAAC,GAAC,KAAK6C,MAAL,CAAY4C,MAAZ,CAAmB7F,CAAnB,CAAR;IAAA,MAA8BM,CAAC,GAAC,KAAK2D,cAAL,CAAoB6B,GAApB,CAAwB9F,CAAC,CAAC+F,GAAF,CAAMC,EAA9B,CAAhC;IAAA,MAAkExF,CAAC,GAACJ,CAAC,CAACgF,MAAF,GAAS,CAA7E;;IAA+E,KAAI,IAAIlF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACM,CAAd,EAAgBN,CAAC,EAAjB,EAAoB;MAAC,MAAMM,CAAC,GAACoB,CAAC,CAACxB,CAAC,CAACF,CAAD,CAAF,EAAMF,CAAN,CAAT;MAAA,MAAkBW,CAAC,GAAC;QAACsF,IAAI,EAAC,QAAN;QAAeD,EAAE,EAAChG,CAAC,CAACgG,EAApB;QAAuBE,WAAW,EAAC1F,CAAnC;QAAqC2F,GAAG,EAAC,CAAC,CAA1C;QAA4CC,MAAM,EAACnF,CAAC,CAACoF,KAAF;MAAnD,CAApB;MAAkF/F,CAAC,CAACgG,GAAF,CAAM;QAAChC,KAAK,EAAC,IAAP;QAAYQ,OAAO,EAACnE;MAApB,CAAN,GAA8B,KAAKoC,cAAL,KAAqB,MAAMrC,CAAC,CAAC,CAAD,CAA5B,CAA9B,EAA8D,KAAKmE,UAAL,CAAgBlE,CAAhB,CAA9D;IAAiF;;IAAA,MAAMA,CAAC,GAACiB,CAAC,CAACpB,CAAC,IAAE,CAAH,GAAKJ,CAAC,CAACI,CAAD,CAAN,GAAU,IAAX,EAAgBR,CAAhB,CAAT;IAAA,MAA4Ba,CAAC,GAAC,KAAK8B,WAAnC;IAAA,MAA+C5B,CAAC,GAAC;MAACkF,IAAI,EAAC,QAAN;MAAeD,EAAE,EAAChG,CAAC,CAACgG,EAApB;MAAuBE,WAAW,EAACvF,CAAnC;MAAqCwF,GAAG,EAACtF,CAAzC;MAA2CuF,MAAM,EAACnF,CAAC,CAACoF,KAAF;IAAlD,CAAjD;IAA8G/F,CAAC,CAACgG,GAAF,CAAM;MAAChC,KAAK,EAAC,IAAP;MAAYQ,OAAO,EAAC/D;IAApB,CAAN,GAA8B,KAAK8D,UAAL,CAAgB9D,CAAhB,CAA9B;EAAiD;;EAAe,MAATqD,SAAS,CAACpE,CAAD,EAAG;IAAC,IAAG;MAAC,MAAM,KAAKuG,eAAL,EAAN;;MAA6B,MAAMrG,CAAC,GAAC,KAAK+C,MAAL,CAAYG,OAAZ,CAAoBoD,SAApB,CAA8B,KAAKrD,eAAnC,CAAR;MAAA,MAA4D/C,CAAC,GAAC,IAAIqG,GAAJ,EAA9D;;MAAsEvG,CAAC,CAACiE,KAAF;MAAU,MAAM7D,CAAC,GAACkB,IAAI,CAACkF,IAAL,CAAU1G,CAAC,GAAC,KAAK2G,QAAjB,CAAR;MAAA,MAAmCnG,CAAC,GAACqC,KAAK,CAAC+D,IAAN,CAAW;QAACxB,MAAM,EAAC9E;MAAR,CAAX,EAAuB,CAACN,CAAD,EAAGE,CAAH,KAAOA,CAA9B,EAAkC2G,IAAlC,CAAwC,CAAC7G,CAAD,EAAGE,CAAH,KAAO,KAAK8C,OAAL,CAAa8D,MAAb,KAAsB,KAAK9D,OAAL,CAAa8D,MAAb,EAArE,EAA6FzC,GAA7F,CAAkGrE,CAAC,IAAE,KAAK+G,aAAL,CAAmB/G,CAAnB,EAAqBE,CAArB,EAAuBE,CAAvB,CAArG,CAArC;MAAsK,MAAMqE,OAAO,CAACC,GAAR,CAAYlE,CAAZ,CAAN,EAAqB,KAAKyC,MAAL,CAAY+D,aAAZ,CAA0B9G,CAA1B,EAA4B,KAAK+C,MAAL,CAAYG,OAAxC,CAArB,EAAsE,KAAKH,MAAL,CAAYgE,gBAAZ,CAA6B7G,CAA7B,CAAtE;IAAsG,CAA7X,CAA6X,OAAMF,CAAN,EAAQ;MAACgB,CAAC,CAACgG,KAAF,CAAQ,yBAAR,EAAkC,yDAAlC,EAA4FhH,CAA5F;IAA+F;;IAAA,KAAKiH,QAAL,IAAgB,KAAK5E,QAAL,GAAc,CAAC,CAA/B;EAAiC;;EAAmB,MAAbwE,aAAa,CAAC/G,CAAD,EAAGE,CAAH,EAAKI,CAAL,EAAO;IAAC,MAAMI,CAAC,GAAC,KAAKiG,QAAb;IAAA,MAAsBhG,CAAC,GAAC;MAACyG,KAAK,EAACpH,CAAC,GAACU,CAAT;MAAW2G,GAAG,EAAC3G,CAAf;MAAiB4G,SAAS,EAAC,CAAC;IAA5B,CAAxB;IAAuDlH,CAAC,CAAC,KAAKmH,oBAAN,CAAD,KAA+B5G,CAAC,CAAC4G,oBAAF,GAAuB,KAAKA,oBAA3D;IAAiF,MAAM1G,CAAC,GAAC,KAAK2G,WAAL,CAAiB7G,CAAjB,CAAR;IAAA,MAA4BI,CAAC,GAAC,KAAK0C,OAAnC;IAAA,MAA2CxC,CAAC,GAAC,MAAM,KAAKuE,MAAL,CAAYC,IAAZ,CAAiB;MAACnB,KAAK,EAACzD,CAAP;MAAS6E,KAAK,EAAC1F,CAAf;MAAiB0D,MAAM,EAAC3C;IAAxB,CAAjB,CAAnD;IAAgGP,CAAC,CAAC;MAACkD,MAAM,EAAC3C;IAAR,CAAD,CAAD,EAAc,KAAK6B,QAAL,CAAc6C,IAAd,CAAmB;MAACnB,KAAK,EAACzD,CAAP;MAAS0D,MAAM,EAACtD;IAAhB,CAAnB,CAAd,EAAqD,KAAKgC,MAAL,CAAYwE,MAAZ,CAAmBxG,CAAnB,CAArD,EAA2EX,CAAC,CAACgG,GAAF,CAAMrF,CAAC,CAACyG,QAAR,CAA3E;IAA6F,MAAMxG,CAAC,GAACD,CAAC,CAAC0G,SAAF,EAAR;;IAAsB,OAAKzG,CAAC,CAAC0G,IAAF,EAAL,GAAe1H,CAAC,CAAC2H,GAAF,CAAM3G,CAAC,CAAC4G,YAAF,EAAN;;IAAwB,KAAKC,KAAL,CAAW9G,CAAX;EAAc;;EAAA8G,KAAK,CAAC/H,CAAD,EAAG;IAAC,IAAG,CAAC,KAAKiE,cAAL,CAAoB+D,IAAxB,EAA6B;IAAO,IAAI9H,CAAC,GAAC,IAAN;IAAW,MAAMM,CAAC,GAAC,IAAIyH,GAAJ,EAAR;IAAA,MAAgBvH,CAAC,GAAC,IAAI+F,GAAJ,EAAlB;IAAA,MAA0B9F,CAAC,GAAC,IAAIsH,GAAJ,EAA5B;;IAAoC,KAAKhE,cAAL,CAAoBC,OAApB,CAA6BlE,CAAC,IAAE;MAAC,MAAMI,CAAC,GAACJ,CAAC,CAACkI,IAAV;MAAe1H,CAAC,CAACqH,GAAF,CAAMzH,CAAC,CAAC2F,GAAF,CAAMC,EAAZ,EAAe,IAAf,GAAqB9F,CAAC,GAACE,CAAC,CAAC+H,YAAzB,EAAsCzH,CAAC,CAAC4F,GAAF,CAAMlG,CAAC,CAACgI,KAAR,CAAtC;MAAqD,MAAK;QAACC,GAAG,EAAC/H,CAAL;QAAOgI,GAAG,EAACzH;MAAX,IAAcT,CAAC,CAAC2F,GAArB;MAAA,MAAyBhF,CAAC,GAAE,GAAEX,CAAC,CAACgI,KAAM,IAAG9H,CAAE,IAAGO,CAAE,EAAhD;MAAA,MAAkDI,CAAC,GAACN,CAAC,CAACmF,GAAF,CAAM/E,CAAN,KAAU,EAA9D;MAAiEE,CAAC,CAACwE,IAAF,CAAOzF,CAAP,GAAUW,CAAC,CAACkH,GAAF,CAAM9G,CAAN,EAAQE,CAAR,CAAV;IAAqB,CAA3L;;IAA8L,KAAI,MAAMb,CAAV,IAAeM,CAAf,EAAiB;MAAC,MAAMA,CAAC,GAACR,CAAC,CAACqI,YAAF,CAAenI,CAAf,CAAR;MAAA,MAA0BS,CAAC,GAACb,CAAC,CAAC2H,SAAF,EAA5B;;MAA0C,OAAK9G,CAAC,CAAC+G,IAAF,EAAL,GAAe;QAAC,MAAM5H,CAAC,GAACoB,CAAC,CAACP,CAAD,EAAGH,CAAH,EAAKN,CAAL,CAAT;QAAA,MAAiBF,CAAC,GAACW,CAAC,CAAC2H,QAAF,EAAnB;QAAgC,IAAG7H,CAAC,CAAC8H,GAAF,CAAMzI,CAAN,CAAH,EAAY,KAAI,MAAMI,CAAV,IAAeO,CAAC,CAACmF,GAAF,CAAM9F,CAAN,CAAf,EAAwB;UAAC,MAAMA,CAAC,GAACI,CAAC,CAAC8H,IAAF,CAAOlC,EAAf;UAAkB,IAAItF,CAAC,GAACF,CAAC,CAACsF,GAAF,CAAM9F,CAAN,CAAN;UAAeM,CAAC,CAACI,CAAD,CAAD,KAAOA,CAAC,GAAC,EAAF,EAAKF,CAAC,CAACqH,GAAF,CAAM7H,CAAN,EAAQU,CAAR,CAAZ,GAAwBA,CAAC,CAAC+E,IAAF,CAAOvF,CAAP,CAAxB;QAAkC;MAAC;IAAC;;IAAAM,CAAC,CAAC0D,OAAF,CAAW,CAAChE,CAAD,EAAGI,CAAH,KAAO;MAAC,IAAGF,CAAC,CAACF,CAAD,CAAJ,EAAQ;QAAC,MAAME,CAAC,GAAC,KAAK6D,cAAL,CAAoB6B,GAApB,CAAwBxF,CAAxB,CAAR;QAAA,MAAmCE,CAAC,GAAC;UAACyF,IAAI,EAAC,QAAN;UAAeD,EAAE,EAAC1F,CAAlB;UAAoB4F,WAAW,EAACtE,CAAC,CAACb,CAAC,CAAC6F,IAAF,CAAO5G,CAAP,EAASE,CAAT,CAAD,EAAaE,CAAC,CAAC8H,IAAf,CAAjC;UAAsD/B,GAAG,EAAC,CAAC,CAA3D;UAA6DC,MAAM,EAACnF,CAAC,CAACoF,KAAF;QAApE,CAArC;;QAAoHjG,CAAC,CAACkG,GAAF,CAAM;UAAChC,KAAK,EAAC,IAAP;UAAYQ,OAAO,EAACtE;QAApB,CAAN,GAA8B,KAAKqE,UAAL,CAAgBrE,CAAhB,CAA9B;MAAiD;IAAC,CAAlM;EAAqM;;EAAA2G,QAAQ,GAAE;IAAC,KAAKlD,cAAL,CAAoBC,OAApB,CAA6BlE,CAAC,IAAE;MAAC,MAAME,CAAC,GAAC;QAAC+F,IAAI,EAAC,QAAN;QAAeD,EAAE,EAAChG,CAAC,CAACkI,IAAF,CAAOlC,EAAzB;QAA4BE,WAAW,EAAC,IAAxC;QAA6CC,GAAG,EAAC,CAAC,CAAlD;QAAoDC,MAAM,EAACnF,CAAC,CAACoF,KAAF;MAA3D,CAAR;MAA8ErG,CAAC,CAACsG,GAAF,CAAM;QAAChC,KAAK,EAAC,IAAP;QAAYQ,OAAO,EAAC5E;MAApB,CAAN,GAA8B,KAAK2E,UAAL,CAAgB3E,CAAhB,CAA9B;IAAiD,CAAhK,GAAmK,KAAKyC,WAAL,GAAiB,CAAC,CAArL;EAAuL;;AAAvuH;;AAAwuH,SAAOV,CAAC,IAAIyG,qBAAZ"},"metadata":{},"sourceType":"module"}