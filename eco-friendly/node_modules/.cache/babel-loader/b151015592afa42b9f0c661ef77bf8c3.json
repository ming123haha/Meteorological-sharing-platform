{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Collection.js\";\nimport t from \"../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../core/HandleOwner.js\";\nimport i from \"../core/Handles.js\";\nimport { destroyMaybe as o, isSome as a, unwrapOr as n } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as u } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as l, whenOrAbort as p } from \"../core/promiseUtils.js\";\nimport { watch as y, sync as d } from \"../core/reactiveUtils.js\";\nimport { sqlAnd as c } from \"../core/sql.js\";\nimport { urlToObject as h, join as m } from \"../core/urlUtils.js\";\nimport { property as f } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { reader as b } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as g } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { OriginId as j, nameToId as w } from \"../core/accessorSupport/PropertyOrigin.js\";\nimport v from \"./Layer.js\";\nimport { APIKeyMixin as S } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as L } from \"./mixins/ArcGISService.js\";\nimport { BlendLayer as F } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as x } from \"./mixins/CustomParametersMixin.js\";\nimport { EditBusLayer as P } from \"./mixins/EditBusLayer.js\";\nimport { FeatureLayerBase as I } from \"./mixins/FeatureLayerBase.js\";\nimport { OperationalLayer as _ } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as C } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as O } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as E } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as T } from \"./mixins/TemporalLayer.js\";\nimport { titleFromUrlAndName as G } from \"./support/arcgisLayerUrl.js\";\nimport { id as U } from \"./support/commonProperties.js\";\nimport { addAttachment as q, updateAttachment as $, applyEdits as A, createQuery as R, deleteAttachments as M, fetchRecomputedExtents as N, queryAttachments as Q, queryObjectIds as B, queryFeatureCount as D, queryExtent as H, queryRelatedFeatures as V, queryRelatedFeaturesCount as J, hasDataChanged as k } from \"./support/featureLayerUtils.js\";\nimport { defineFieldProperties as z } from \"./support/fieldProperties.js\";\nimport { fixTimeInfoFields as K } from \"./support/fieldUtils.js\";\nimport Z from \"./support/Subtype.js\";\nimport W from \"./support/SubtypeSublayer.js\";\nimport X from \"./support/TimeInfo.js\";\nimport { serviceSupportsSpatialReference as Y } from \"./support/versionUtils.js\";\nimport ee from \"../rest/support/Query.js\";\nconst re = \"SubtypeGroupLayer\",\n      te = \"esri.layers.SubtypeGroupLayer\";\n\nfunction se(e, r) {\n  return new t(\"layer:unsupported\", `Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${r}`, {\n    layer: e\n  });\n}\n\nconst ie = z();\nlet oe = class extends I(P(F(T(E(O(L(_(C(u(x(S(s(v))))))))))))) {\n  constructor(...e) {\n    super(...e), this._handles = new i(), this._sublayersCollectionChanged = !1, this.fields = null, this.fieldsIndex = null, this.outFields = null, this.subtypes = null, this.sublayers = new (r.ofType(W))(), this.timeInfo = null, this.title = \"Layer\", this.type = \"subtype-group\", this.addHandles(y(() => this.sublayers, (e, r) => this._handleSublayersChange(e, r), d));\n  }\n\n  destroy() {\n    this.source?.destroy(), this._handles = o(this._handles);\n  }\n\n  normalizeCtorArgs(e, r) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...r\n    } : e;\n  }\n\n  load(e) {\n    const r = a(e) ? e.signal : null,\n          s = this.loadFromPortal({\n      supportedTypes: [\"Feature Service\"]\n    }, e).catch(l).then(async () => {\n      if (!this.url) throw new t(\"subtype-grouplayer:missing-url-or-source\", \"SubtypeGroupLayer must be created with either a url or a portal item\");\n      if (null == this.layerId) throw new t(\"subtype-grouplayer:missing-layerid\", \"layerId is required for a SubtypeGroupLayer created with url\");\n      return this._initLayerProperties(await this.createGraphicsSource(r));\n    }).then(() => this.finishLoadEditablePortalLayer(e));\n    return this.addResolvingPromise(s), Promise.resolve(this);\n  }\n\n  get createQueryVersion() {\n    return this.commitProperty(\"definitionExpression\"), this.commitProperty(\"timeExtent\"), this.commitProperty(\"timeOffset\"), this.commitProperty(\"geometryType\"), this.commitProperty(\"gdbVersion\"), this.commitProperty(\"historicMoment\"), this.commitProperty(\"returnZ\"), this.commitProperty(\"capabilities\"), this.commitProperty(\"returnM\"), (this._get(\"createQueryVersion\") ?? 0) + 1;\n  }\n\n  get editingEnabled() {\n    return this.loaded && this.capabilities.operations.supportsEditing && this.userHasEditingPrivileges;\n  }\n\n  get parsedUrl() {\n    const e = h(this.url);\n    return null != e && null != this.layerId && (e.path = m(e.path, this.layerId.toString())), e;\n  }\n\n  set source(e) {\n    this._get(\"source\") !== e && this._set(\"source\", e);\n  }\n\n  readTitleFromService(e, {\n    name: r\n  }) {\n    return this.url ? G(this.url, r) : r;\n  }\n\n  async addAttachment(e, r) {\n    return q(this, e, r, re);\n  }\n\n  async updateAttachment(e, r, t) {\n    return $(this, e, r, t, re);\n  }\n\n  async applyEdits(e, r) {\n    return A(this, e, r);\n  }\n\n  on(e, r) {\n    return super.on(e, r);\n  }\n\n  async createGraphicsSource(e) {\n    const {\n      default: r\n    } = await p(import(\"./graphics/sources/FeatureLayerSource.js\"), e);\n    return new r({\n      layer: this\n    }).load({\n      signal: e\n    });\n  }\n\n  createQuery() {\n    const e = R(this),\n          r = this.sublayers.map(e => e.subtypeCode);\n    return e.where = c(`${this.subtypeField} IN (${r.join(\",\")})`, this.definitionExpression), e;\n  }\n\n  async deleteAttachments(e, r) {\n    return M(this, e, r, re);\n  }\n\n  async fetchRecomputedExtents(e) {\n    return N(this, e, re);\n  }\n\n  getFieldDomain(e, r) {\n    return this._getLayerDomain(e);\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  async queryAttachments(e, r) {\n    return Q(this, e, r, re);\n  }\n\n  async queryFeatures(e, r) {\n    const t = await this.load(),\n          s = ee.from(e) ?? t.createQuery(),\n          i = n(s.outFields, []);\n    i.includes(this.subtypeField) || (i.push(this.subtypeField), s.outFields = i);\n    const o = await t.source.queryFeatures(s, r);\n    if (o?.features) for (const a of o.features) a.layer = this._findSublayerForFeature(a), a.sourceLayer = this;\n    return o;\n  }\n\n  async queryObjectIds(e, r) {\n    return B(this, e, r, re);\n  }\n\n  async queryFeatureCount(e, r) {\n    return D(this, e, r, re);\n  }\n\n  async queryExtent(e, r) {\n    return H(this, e, r, re);\n  }\n\n  async queryRelatedFeatures(e, r) {\n    return V(this, e, r, re);\n  }\n\n  async queryRelatedFeaturesCount(e, r) {\n    return J(this, e, r, re);\n  }\n\n  write(e, r) {\n    const {\n      origin: s,\n      layerContainerType: i,\n      messages: o\n    } = r;\n\n    if (this.isTable) {\n      if (\"web-scene\" === s || \"web-map\" === s && \"tables\" !== i) return o?.push(se(this, \"using a table source cannot be written to web scenes and web maps\")), null;\n    } else if (this.loaded && \"web-map\" === s && \"tables\" === i) return o?.push(se(this, \"using a non-table source cannot be written to tables in web maps\")), null;\n\n    return this.sublayers?.length ? super.write(e, r) : (o?.push(new t(\"web-document-write:invalid-property\", `Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer`, {\n      layer: this\n    })), null);\n  }\n\n  serviceSupportsSpatialReference(e) {\n    return !!this.loaded && Y(this, e);\n  }\n\n  _findSublayerForFeature(e) {\n    const r = this.fieldsIndex.get(this.subtypeField),\n          t = e.attributes[r.name];\n    return this.sublayers.find(e => e.subtypeCode === t);\n  }\n\n  _getLayerDomain(e) {\n    const r = this.fieldsIndex.get(e);\n    return r ? r.domain : null;\n  }\n\n  async _initLayerProperties(e) {\n    this._set(\"source\", e);\n\n    const {\n      sourceJSON: r\n    } = e;\n    if (r && (this.sourceJSON = r, this.read(r, {\n      origin: \"service\",\n      url: this.parsedUrl\n    })), this.isTable) throw new t(\"subtype-grouplayer:unsupported-source\", \"SubtypeGroupLayer cannot be created using a layer with table source\");\n    if (!this.subtypes?.length) throw new t(\"subtype-grouplayer:missing-subtypes\", \"SubtypeGroupLayer must be created using a layer with subtypes\");\n    this._verifyFields(), K(this.timeInfo, this.fieldsIndex);\n  }\n\n  async hasDataChanged() {\n    return k(this);\n  }\n\n  _verifyFields() {\n    const e = this.parsedUrl?.path ?? \"undefined\";\n    this.objectIdField || console.log(\"SubtypeGroupLayer: 'objectIdField' property is not defined (url: \" + e + \")\"), this.isTable || -1 !== e.search(/\\/FeatureServer\\//i) || this.fields?.some(e => \"geometry\" === e.type) || console.log(\"SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \" + e + \")\");\n  }\n\n  _handleSublayersChange(e, r) {\n    r && (r.forEach(e => {\n      e.parent = null;\n    }), this.handles.remove(\"sublayers-owner\")), e && (e.forEach(e => {\n      e.parent = this;\n    }), this._sublayersCollectionChanged = !1, this.handles.add([e.on(\"after-add\", ({\n      item: e\n    }) => {\n      e.parent = this;\n    }), e.on(\"after-remove\", ({\n      item: e\n    }) => {\n      e.parent = null;\n    }), e.on(\"after-changes\", () => {\n      this._sublayersCollectionChanged = !0;\n    })], \"sublayers-owner\"));\n  }\n\n};\ne([f({\n  readOnly: !0\n})], oe.prototype, \"createQueryVersion\", null), e([f({\n  type: Boolean,\n  readOnly: !0\n})], oe.prototype, \"editingEnabled\", null), e([f({ ...ie.fields,\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    },\n    read: !1\n  }\n})], oe.prototype, \"fields\", void 0), e([f(ie.fieldsIndex)], oe.prototype, \"fieldsIndex\", void 0), e([f(U)], oe.prototype, \"id\", void 0), e([f({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], oe.prototype, \"listMode\", void 0), e([f({\n  value: \"SubtypeGroupLayer\",\n  type: [\"SubtypeGroupLayer\"]\n})], oe.prototype, \"operationalLayerType\", void 0), e([f(ie.outFields)], oe.prototype, \"outFields\", void 0), e([f({\n  readOnly: !0\n})], oe.prototype, \"parsedUrl\", null), e([f()], oe.prototype, \"source\", null), e([f({\n  type: [Z],\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], oe.prototype, \"subtypes\", void 0), e([f({\n  type: r.ofType(W),\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"subtypes\",\n          reader: (e, t, s) => {\n            const i = e.map(({\n              code: e\n            }) => {\n              const r = new W({\n                subtypeCode: e\n              });\n              return r.read(t, s), r;\n            });\n            return new (r.ofType(W))(i);\n          }\n        }\n      }\n    },\n    name: \"layers\",\n    write: {\n      overridePolicy(e, r, t) {\n        const s = this.originOf(\"sublayers\"),\n              i = j.PORTAL_ITEM;\n        let o = !0;\n\n        if (w(s) === i && w(t.origin) > i) {\n          const r = e.some(e => e.hasUserOverrides());\n          o = this._sublayersCollectionChanged || r;\n        }\n\n        return {\n          enabled: o,\n          ignoreOrigin: !0\n        };\n      }\n\n    }\n  }\n})], oe.prototype, \"sublayers\", void 0), e([f({\n  type: X\n})], oe.prototype, \"timeInfo\", void 0), e([f({\n  json: {\n    origins: {\n      \"portal-item\": {\n        write: {\n          ignoreOrigin: !0,\n          writerEnsuresNonNull: !0\n        }\n      }\n    }\n  }\n})], oe.prototype, \"title\", void 0), e([b(\"service\", \"title\", [\"name\"])], oe.prototype, \"readTitleFromService\", null), e([f({\n  json: {\n    read: !1\n  }\n})], oe.prototype, \"type\", void 0), oe = e([g(te)], oe);\nconst ae = oe;\nexport { ae as default };","map":{"version":3,"names":["_","e","r","t","HandleOwnerMixin","s","i","destroyMaybe","o","isSome","a","unwrapOr","n","MultiOriginJSONMixin","u","throwIfAbortError","l","whenOrAbort","p","watch","y","sync","d","sqlAnd","c","urlToObject","h","join","m","property","f","reader","b","subclass","g","OriginId","j","nameToId","w","v","APIKeyMixin","S","ArcGISService","L","BlendLayer","F","CustomParametersMixin","x","EditBusLayer","P","FeatureLayerBase","I","OperationalLayer","PortalLayer","C","RefreshableLayer","O","ScaleRangeLayer","E","TemporalLayer","T","titleFromUrlAndName","G","id","U","addAttachment","q","updateAttachment","$","applyEdits","A","createQuery","R","deleteAttachments","M","fetchRecomputedExtents","N","queryAttachments","Q","queryObjectIds","B","queryFeatureCount","D","queryExtent","H","queryRelatedFeatures","V","queryRelatedFeaturesCount","J","hasDataChanged","k","defineFieldProperties","z","fixTimeInfoFields","K","Z","W","X","serviceSupportsSpatialReference","Y","ee","re","te","se","title","declaredClass","layer","ie","oe","constructor","_handles","_sublayersCollectionChanged","fields","fieldsIndex","outFields","subtypes","sublayers","ofType","timeInfo","type","addHandles","_handleSublayersChange","destroy","source","normalizeCtorArgs","url","load","signal","loadFromPortal","supportedTypes","catch","then","layerId","_initLayerProperties","createGraphicsSource","finishLoadEditablePortalLayer","addResolvingPromise","Promise","resolve","createQueryVersion","commitProperty","_get","editingEnabled","loaded","capabilities","operations","supportsEditing","userHasEditingPrivileges","parsedUrl","path","toString","_set","readTitleFromService","name","on","default","map","subtypeCode","where","subtypeField","definitionExpression","getFieldDomain","_getLayerDomain","getField","get","queryFeatures","from","includes","push","features","_findSublayerForFeature","sourceLayer","write","origin","layerContainerType","messages","isTable","length","attributes","find","domain","sourceJSON","read","_verifyFields","objectIdField","console","log","search","some","forEach","parent","handles","remove","add","item","readOnly","prototype","Boolean","json","origins","service","value","code","overridePolicy","originOf","PORTAL_ITEM","hasUserOverrides","enabled","ignoreOrigin","writerEnsuresNonNull","ae"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/SubtypeGroupLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import t from\"../core/Error.js\";import{HandleOwnerMixin as s}from\"../core/HandleOwner.js\";import i from\"../core/Handles.js\";import{destroyMaybe as o,isSome as a,unwrapOr as n}from\"../core/maybe.js\";import{MultiOriginJSONMixin as u}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l,whenOrAbort as p}from\"../core/promiseUtils.js\";import{watch as y,sync as d}from\"../core/reactiveUtils.js\";import{sqlAnd as c}from\"../core/sql.js\";import{urlToObject as h,join as m}from\"../core/urlUtils.js\";import{property as f}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as b}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import{OriginId as j,nameToId as w}from\"../core/accessorSupport/PropertyOrigin.js\";import v from\"./Layer.js\";import{APIKeyMixin as S}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as L}from\"./mixins/ArcGISService.js\";import{BlendLayer as F}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as x}from\"./mixins/CustomParametersMixin.js\";import{EditBusLayer as P}from\"./mixins/EditBusLayer.js\";import{FeatureLayerBase as I}from\"./mixins/FeatureLayerBase.js\";import{OperationalLayer as _}from\"./mixins/OperationalLayer.js\";import{PortalLayer as C}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as O}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as E}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as T}from\"./mixins/TemporalLayer.js\";import{titleFromUrlAndName as G}from\"./support/arcgisLayerUrl.js\";import{id as U}from\"./support/commonProperties.js\";import{addAttachment as q,updateAttachment as $,applyEdits as A,createQuery as R,deleteAttachments as M,fetchRecomputedExtents as N,queryAttachments as Q,queryObjectIds as B,queryFeatureCount as D,queryExtent as H,queryRelatedFeatures as V,queryRelatedFeaturesCount as J,hasDataChanged as k}from\"./support/featureLayerUtils.js\";import{defineFieldProperties as z}from\"./support/fieldProperties.js\";import{fixTimeInfoFields as K}from\"./support/fieldUtils.js\";import Z from\"./support/Subtype.js\";import W from\"./support/SubtypeSublayer.js\";import X from\"./support/TimeInfo.js\";import{serviceSupportsSpatialReference as Y}from\"./support/versionUtils.js\";import ee from\"../rest/support/Query.js\";const re=\"SubtypeGroupLayer\",te=\"esri.layers.SubtypeGroupLayer\";function se(e,r){return new t(\"layer:unsupported\",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${r}`,{layer:e})}const ie=z();let oe=class extends(I(P(F(T(E(O(L(_(C(u(x(S(s(v)))))))))))))){constructor(...e){super(...e),this._handles=new i,this._sublayersCollectionChanged=!1,this.fields=null,this.fieldsIndex=null,this.outFields=null,this.subtypes=null,this.sublayers=new(r.ofType(W)),this.timeInfo=null,this.title=\"Layer\",this.type=\"subtype-group\",this.addHandles(y((()=>this.sublayers),((e,r)=>this._handleSublayersChange(e,r)),d))}destroy(){this.source?.destroy(),this._handles=o(this._handles)}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=a(e)?e.signal:null,s=this.loadFromPortal({supportedTypes:[\"Feature Service\"]},e).catch(l).then((async()=>{if(!this.url)throw new t(\"subtype-grouplayer:missing-url-or-source\",\"SubtypeGroupLayer must be created with either a url or a portal item\");if(null==this.layerId)throw new t(\"subtype-grouplayer:missing-layerid\",\"layerId is required for a SubtypeGroupLayer created with url\");return this._initLayerProperties(await this.createGraphicsSource(r))})).then((()=>this.finishLoadEditablePortalLayer(e)));return this.addResolvingPromise(s),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"gdbVersion\"),this.commitProperty(\"historicMoment\"),this.commitProperty(\"returnZ\"),this.commitProperty(\"capabilities\"),this.commitProperty(\"returnM\"),(this._get(\"createQueryVersion\")??0)+1}get editingEnabled(){return this.loaded&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get parsedUrl(){const e=h(this.url);return null!=e&&null!=this.layerId&&(e.path=m(e.path,this.layerId.toString())),e}set source(e){this._get(\"source\")!==e&&this._set(\"source\",e)}readTitleFromService(e,{name:r}){return this.url?G(this.url,r):r}async addAttachment(e,r){return q(this,e,r,re)}async updateAttachment(e,r,t){return $(this,e,r,t,re)}async applyEdits(e,r){return A(this,e,r)}on(e,r){return super.on(e,r)}async createGraphicsSource(e){const{default:r}=await p(import(\"./graphics/sources/FeatureLayerSource.js\"),e);return new r({layer:this}).load({signal:e})}createQuery(){const e=R(this),r=this.sublayers.map((e=>e.subtypeCode));return e.where=c(`${this.subtypeField} IN (${r.join(\",\")})`,this.definitionExpression),e}async deleteAttachments(e,r){return M(this,e,r,re)}async fetchRecomputedExtents(e){return N(this,e,re)}getFieldDomain(e,r){return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,r){return Q(this,e,r,re)}async queryFeatures(e,r){const t=await this.load(),s=ee.from(e)??t.createQuery(),i=n(s.outFields,[]);i.includes(this.subtypeField)||(i.push(this.subtypeField),s.outFields=i);const o=await t.source.queryFeatures(s,r);if(o?.features)for(const a of o.features)a.layer=this._findSublayerForFeature(a),a.sourceLayer=this;return o}async queryObjectIds(e,r){return B(this,e,r,re)}async queryFeatureCount(e,r){return D(this,e,r,re)}async queryExtent(e,r){return H(this,e,r,re)}async queryRelatedFeatures(e,r){return V(this,e,r,re)}async queryRelatedFeaturesCount(e,r){return J(this,e,r,re)}write(e,r){const{origin:s,layerContainerType:i,messages:o}=r;if(this.isTable){if(\"web-scene\"===s||\"web-map\"===s&&\"tables\"!==i)return o?.push(se(this,\"using a table source cannot be written to web scenes and web maps\")),null}else if(this.loaded&&\"web-map\"===s&&\"tables\"===i)return o?.push(se(this,\"using a non-table source cannot be written to tables in web maps\")),null;return this.sublayers?.length?super.write(e,r):(o?.push(new t(\"web-document-write:invalid-property\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' has invalid value for 'sublayers' property. 'sublayers' collection should contain at least one sublayer`,{layer:this})),null)}serviceSupportsSpatialReference(e){return!!this.loaded&&Y(this,e)}_findSublayerForFeature(e){const r=this.fieldsIndex.get(this.subtypeField),t=e.attributes[r.name];return this.sublayers.find((e=>e.subtypeCode===t))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}async _initLayerProperties(e){this._set(\"source\",e);const{sourceJSON:r}=e;if(r&&(this.sourceJSON=r,this.read(r,{origin:\"service\",url:this.parsedUrl})),this.isTable)throw new t(\"subtype-grouplayer:unsupported-source\",\"SubtypeGroupLayer cannot be created using a layer with table source\");if(!this.subtypes?.length)throw new t(\"subtype-grouplayer:missing-subtypes\",\"SubtypeGroupLayer must be created using a layer with subtypes\");this._verifyFields(),K(this.timeInfo,this.fieldsIndex)}async hasDataChanged(){return k(this)}_verifyFields(){const e=this.parsedUrl?.path??\"undefined\";this.objectIdField||console.log(\"SubtypeGroupLayer: 'objectIdField' property is not defined (url: \"+e+\")\"),this.isTable||-1!==e.search(/\\/FeatureServer\\//i)||this.fields?.some((e=>\"geometry\"===e.type))||console.log(\"SubtypeGroupLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \"+e+\")\")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null})),this.handles.remove(\"sublayers-owner\")),e&&(e.forEach((e=>{e.parent=this})),this._sublayersCollectionChanged=!1,this.handles.add([e.on(\"after-add\",(({item:e})=>{e.parent=this})),e.on(\"after-remove\",(({item:e})=>{e.parent=null})),e.on(\"after-changes\",(()=>{this._sublayersCollectionChanged=!0}))],\"sublayers-owner\"))}};e([f({readOnly:!0})],oe.prototype,\"createQueryVersion\",null),e([f({type:Boolean,readOnly:!0})],oe.prototype,\"editingEnabled\",null),e([f({...ie.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],oe.prototype,\"fields\",void 0),e([f(ie.fieldsIndex)],oe.prototype,\"fieldsIndex\",void 0),e([f(U)],oe.prototype,\"id\",void 0),e([f({type:[\"show\",\"hide\",\"hide-children\"]})],oe.prototype,\"listMode\",void 0),e([f({value:\"SubtypeGroupLayer\",type:[\"SubtypeGroupLayer\"]})],oe.prototype,\"operationalLayerType\",void 0),e([f(ie.outFields)],oe.prototype,\"outFields\",void 0),e([f({readOnly:!0})],oe.prototype,\"parsedUrl\",null),e([f()],oe.prototype,\"source\",null),e([f({type:[Z],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],oe.prototype,\"subtypes\",void 0),e([f({type:r.ofType(W),json:{origins:{service:{read:{source:\"subtypes\",reader:(e,t,s)=>{const i=e.map((({code:e})=>{const r=new W({subtypeCode:e});return r.read(t,s),r}));return new(r.ofType(W))(i)}}}},name:\"layers\",write:{overridePolicy(e,r,t){const s=this.originOf(\"sublayers\"),i=j.PORTAL_ITEM;let o=!0;if(w(s)===i&&w(t.origin)>i){const r=e.some((e=>e.hasUserOverrides()));o=this._sublayersCollectionChanged||r}return{enabled:o,ignoreOrigin:!0}}}}})],oe.prototype,\"sublayers\",void 0),e([f({type:X})],oe.prototype,\"timeInfo\",void 0),e([f({json:{origins:{\"portal-item\":{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}}}})],oe.prototype,\"title\",void 0),e([b(\"service\",\"title\",[\"name\"])],oe.prototype,\"readTitleFromService\",null),e([f({json:{read:!1}})],oe.prototype,\"type\",void 0),oe=e([g(te)],oe);const ae=oe;export{ae as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}