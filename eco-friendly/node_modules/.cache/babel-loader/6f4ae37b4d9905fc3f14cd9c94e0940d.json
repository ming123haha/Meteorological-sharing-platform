{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport \"../../../../geometry.js\";\nimport e from \"../../../../analysis/SlicePlane.js\";\nimport \"../../../../core/has.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { rad2deg as r, deg2rad as i } from \"../../../../core/mathUtils.js\";\nimport { isNone as n, isSome as o } from \"../../../../core/maybe.js\";\nimport { castRenderScreenPointArray3 as s } from \"../../../../core/screenUtils.js\";\nimport { g as a, b as c, h as l, m as u, r as d, i as m, j as p, k as g } from \"../../../../chunks/mat4.js\";\nimport { c as f } from \"../../../../chunks/mat4f64.js\";\nimport { r as b } from \"../../../../chunks/quat.js\";\nimport { g as h, c as T, e as O, f as y, n as w, a as I, l as E, b as R, p as j, s as A, v as M } from \"../../../../chunks/vec3.js\";\nimport { a as L, c as P, f as k } from \"../../../../chunks/vec3f64.js\";\nimport { tryProjectWithZConversion as C } from \"../../../../geometry/projection.js\";\nimport { Axis as _ } from \"../../../../geometry/support/Axis.js\";\nimport { r as N, f as v, i as U, c as V, n as S, u as G } from \"../../../../chunks/boundedPlane.js\";\nimport { fromPositionAndNormal as x, fromVectorsAndPoint as F } from \"../../../../geometry/support/plane.js\";\nimport { create as H } from \"../../../../geometry/support/ray.js\";\nimport { angleAroundAxis as D } from \"../../../../geometry/support/vector.js\";\nimport { sv3d as z, sm4d as X, sq4d as Y } from \"../../../../geometry/support/vectorStacks.js\";\nimport { SHIFT_RESTART_TIP_RADIUS as Z, RESIZE_HANDLE_EDGE_PADDING_FRAC as B, VERTICAL_DOT_THRESHOLD as W, SMALL_ANGLE_DOT_THRESHOLD as q, PLANE_MIN_BASIS_SCREEN_LEN2 as $, INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as J, SHIFT_RESTART_OFFSET_DISTANCE as K, SHIFT_RESTART_ARROW_TIP_COLOR as Q, SHIFT_RESTART_ARROW_CAP_COLOR as ee, SHIFT_RESTART_TUBE_COLOR as te, SHIFT_RESTART_OUTLINE_COLOR as re, SHIFT_RESTART_CALLOUT_COLOR as ie, ROTATE_HEADING_OFFSET_DISTANCE as ne, ROTATE_HEADING_DISC_RADIUS as oe, ROTATE_HEADING_CALLOUT_COLOR as se, PLANE_OUTLINE_COLOR as ae, PLANE_OUTLINE_WIDTH as ce, PLANE_BACKGROUND_COLOR as le, GRID_COLOR as ue, RESIZE_HANDLE_CORNER_INPUT_RADIUS as de, RESIZE_HANDLE_EDGE_INPUT_RADIUS as me, ROTATE_HEADING_TIP_LENGTH as pe, ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as ge, RESIZE_HANDLE_COLOR as fe, DISPLAY_FOCUS_MULTIPLIER as be, RESIZE_HANDLE_EDGE_WIDTH as he, SHIFT_RESTART_ARROW_LENGTH as Te, SHIFT_RESTART_TUBE_RADIUS as Oe, SHIFT_RESTART_TIP_LENGTH as ye, SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as we, SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as Ie, SHIFT_RESTART_ARROW_OUTLINE_WIDTH as Ee, RESIZE_HANDLE_CORNER_WIDTH as Re } from \"./sliceToolConfig.js\";\nimport { applyProjectionAndElevationAlignment as je } from \"../support/projectionUtils.js\";\nimport { Manipulator3D as Ae } from \"../../interactive/Manipulator3D.js\";\nimport { calculateTranslateRotateFromBases as Me } from \"../../interactive/manipulatorUtils.js\";\nimport { LineVisualElement as Le } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { SlicePlaneVisualElement as Pe } from \"../../interactive/visualElements/SlicePlaneVisualElement.js\";\nimport { RenderCoordsHelper as ke } from \"../../support/RenderCoordsHelper.js\";\nimport { fromRender as Ce } from \"../../support/geometryUtils/ray.js\";\nimport { CullFaceOptions as _e } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Geometry as Ne } from \"../../webgl-engine/lib/Geometry.js\";\nimport ve from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as Ue } from \"../../webgl-engine/lib/Material.js\";\nimport { VertexAttribute as Ve } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { ColorMaterial as Se } from \"../../webgl-engine/materials/ColorMaterial.js\";\nimport { ImageMaterial as Ge } from \"../../webgl-engine/materials/ImageMaterial.js\";\nimport { NativeLineMaterial as xe } from \"../../webgl-engine/materials/NativeLineMaterial.js\";\nimport { RibbonLineMaterial as Fe } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { ManipulatorStateCustomFlags as He, ManipulatorStateFlags as De } from \"../../../interactive/interfaces.js\";\nimport ze from \"../../../../geometry/Extent.js\";\nconst Xe = t.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");\n\nfunction Ye(e, t, r, i, n, o, s, a) {\n  return Ze(t, s.worldUpAtPosition(e, z.get()), n, o, a.basis1, a.basis2), h(a.basis1, a.basis1, r), h(a.basis2, a.basis2, i), T(a.origin, e), F(a.basis2, a.basis1, a.origin, a.plane), a;\n}\n\nfunction Ze(e, t, r, i, n, o) {\n  const s = O(e, t),\n        a = z.get(),\n        c = z.get();\n\n  switch (i === Pt.HORIZONTAL_OR_VERTICAL ? Math.abs(s) > W ? Pt.HORIZONTAL : Pt.VERTICAL : i) {\n    case Pt.VERTICAL:\n      {\n        const i = Math.abs(s) <= q ? e : r.viewUp;\n        y(a, i, t), T(c, t);\n        break;\n      }\n\n    case Pt.HORIZONTAL:\n      y(a, r.viewUp, t), y(c, t, a);\n      break;\n\n    case Pt.TILTED:\n      {\n        const i = Math.abs(s) <= q ? t : r.viewUp;\n        y(a, i, e), y(c, e, a);\n        break;\n      }\n  }\n\n  const l = y(z.get(), a, c);\n  O(l, r.viewForward) > 0 && h(c, c, -1), w(n, a), w(o, c);\n}\n\nfunction Be(e, t, r) {\n  const i = t.worldUpAtPosition(e.origin, z.get()),\n        n = e.basis1,\n        o = wt(e, i),\n        s = Math.round(o / _t) * _t;\n\n  return N(e, s - o, n, r);\n}\n\nfunction We(e, t, r, i, n, o) {\n  const s = T(z.get(), n.origin);\n  I(s, s, h(z.get(), n.basis1, e.direction[0] < 0 ? 1 : -1)), I(s, s, h(z.get(), n.basis2, e.direction[1] < 0 ? 1 : -1));\n  const a = E(n.basis1),\n        c = E(n.basis2),\n        l = R(z.get(), r, s),\n        u = R(z.get(), t, s);\n  let d = 0,\n      m = 0;\n\n  if (lt(e)) {\n    const t = ct(n),\n          r = ct(o);\n    d = a - .5 * e.direction[0] * O(n.basis1, u) / a, m = c - .5 * e.direction[1] * O(n.basis2, u) / c;\n    const i = r / t;\n    d *= i, m *= i;\n  }\n\n  const p = d + .5 * e.direction[0] * O(n.basis1, l) / a,\n        g = m + .5 * e.direction[1] * O(n.basis2, l) / c,\n        f = h(z.get(), n.basis1, p / a),\n        b = h(z.get(), n.basis2, g / c);\n  (p <= 0 || st(o.origin, f, i) <= $) && T(f, o.basis1), (g <= 0 || st(o.origin, b, i) <= $) && T(b, o.basis2);\n  const y = T(z.get(), s);\n  return I(y, y, h(z.get(), f, e.direction[0] < 0 ? -1 : 1)), I(y, y, h(z.get(), b, e.direction[1] < 0 ? -1 : 1)), v(y, f, b, o);\n}\n\nfunction qe(e, t) {\n  return J * Math.min(t.width, t.height) * t.computeRenderPixelSizeAt(e);\n}\n\nfunction $e(e, t, r, i) {\n  const n = y(z.get(), t, r);\n  return y(n, n, t), x(e, n, i);\n}\n\nfunction Je(e, t) {\n  return Me(e.basis1, e.basis2, e.origin, t);\n}\n\nfunction Ke(e, t, r, i) {\n  const n = t.worldUpAtPosition(e.origin, z.get()),\n        o = z.get();\n\n  switch (r) {\n    case Lt.HEADING:\n      T(o, n);\n      break;\n\n    case Lt.TILT:\n      T(o, e.basis1);\n  }\n\n  return x(e.origin, o, i);\n}\n\nfunction Qe(e, t, r, i) {\n  const n = ot(r, nt.NEGATIVE_X),\n        o = X.get();\n  a(o, t, n.edge * Math.PI / 2);\n  const c = w(z.get(), n.basis);\n  let l = h(z.get(), c, n.direction * i.computeScreenPixelSizeAt(n.position) * K);\n  I(l, l, n.position);\n  const u = i.projectToRenderScreen(l, s(z.get())),\n        d = et(i, u);\n  Ce(i, u, Ct), w(Ct.direction, Ct.direction);\n  const m = z.get();\n  !d && U(r, Ct, m) && (l = m), o[12] = 0, o[13] = 0, o[14] = 0, e.modelTransform = o, e.renderLocation = L(l), d ? e.state |= kt : e.state &= ~kt;\n}\n\nfunction et(e, t) {\n  const [r, i, n, o] = e.viewport,\n        s = Math.min(n, o) / 16;\n  let a = !0;\n  return t[0] < r + s ? (t[0] = r + s, a = !1) : t[0] > r + n - s && (t[0] = r + n - s, a = !1), t[1] < i + s ? (t[1] = i + s, a = !1) : t[1] > i + o - s && (t[1] = i + o - s, a = !1), a;\n}\n\nfunction tt(e, t, r, i) {\n  const n = E(i.basis1),\n        o = E(i.basis2),\n        s = at(i),\n        a = ct(i),\n        d = A(z.get(), 0, 0, 0);\n  I(d, h(z.get(), i.basis1, t.direction[0]), h(z.get(), i.basis2, t.direction[1])), I(d, i.origin, d);\n  let m = 0,\n      p = 1;\n  if (lt(t)) 1 === t.direction[0] && -1 === t.direction[1] ? m = _t : 1 === t.direction[0] && 1 === t.direction[1] ? m = Math.PI : -1 === t.direction[0] && 1 === t.direction[1] && (m = 3 * Math.PI / 2), p = a;else {\n    const e = 0 !== t.direction[0] ? 1 : 2;\n    m = 1 === e ? _t : 0, p = (1 === e ? o : n) - s;\n  }\n  const g = c(X.get(), m);\n  l(g, g, A(z.get(), p, p, p)), u(g, r, g), g[12] = 0, g[13] = 0, g[14] = 0, e.modelTransform = g, e.renderLocation = d;\n}\n\nfunction rt(e, t, r, i) {\n  const n = i.worldUpAtPosition(r.origin, z.get()),\n        o = ot(r, nt.POSITIVE_X),\n        s = c(X.get(), o.edge * Math.PI / 2);\n  d(s, s, -wt(r, n)), u(s, t, s), s[12] = 0, s[13] = 0, s[14] = 0, e.modelTransform = s, e.renderLocation = o.position;\n}\n\nfunction it(e, t, r) {\n  const i = ot(r, nt.POSITIVE_Y),\n        n = c(X.get(), i.edge * Math.PI / 2);\n  d(n, n, _t), u(n, t, n), n[12] = 0, n[13] = 0, n[14] = 0, e.modelTransform = n, e.renderLocation = i.position;\n}\n\nvar nt;\n\nfunction ot(e, t) {\n  switch (t) {\n    case nt.POSITIVE_X:\n      return {\n        basis: e.basis1,\n        direction: 1,\n        position: I(z.get(), e.origin, e.basis1),\n        edge: t\n      };\n\n    case nt.POSITIVE_Y:\n      return {\n        basis: e.basis2,\n        direction: 1,\n        position: I(z.get(), e.origin, e.basis2),\n        edge: t\n      };\n\n    case nt.NEGATIVE_X:\n      return {\n        basis: e.basis1,\n        direction: -1,\n        position: R(z.get(), e.origin, e.basis1),\n        edge: t\n      };\n\n    case nt.NEGATIVE_Y:\n      return {\n        basis: e.basis2,\n        direction: -1,\n        position: R(z.get(), e.origin, e.basis2),\n        edge: t\n      };\n  }\n}\n\nfunction st(e, t, r) {\n  const i = r.projectToRenderScreen(I(z.get(), e, t), s(z.get())),\n        n = r.projectToRenderScreen(R(z.get(), e, t), s(z.get()));\n  return j(R(i, i, n));\n}\n\nfunction at(e) {\n  const t = E(e.basis1),\n        r = E(e.basis2);\n  return B * Math.min(t, r);\n}\n\nfunction ct(e) {\n  return at(e);\n}\n\nfunction lt(e) {\n  return 0 !== e.direction[0] && 0 !== e.direction[1];\n}\n\nfunction ut(e, t = Ut.CENTER_ON_ARROW) {\n  const r = t === Ut.CENTER_ON_CALLOUT ? K : 0,\n        i = [k(r, 0, -Te / 2), k(r, 0, Te / 2)],\n        n = ht(i, !0),\n        o = (e, t) => ft(i, i, {\n    tubeRadius: Oe,\n    tipRadius: Z,\n    tipLength: ye,\n    tubeFocusMultiplier: we,\n    tipFocusMultiplier: Ie,\n    padding: e,\n    bothEnds: !0,\n    flat: null,\n    focusTipLength: !0,\n    addCap: t\n  }),\n        s = o(0, !1),\n        a = o(Ee, !0),\n        c = new Se({\n    color: Q,\n    cullFace: _e.Back,\n    renderOccluded: Ue.Opaque\n  }),\n        l = new Se({\n    color: ee,\n    cullFace: _e.Back,\n    renderOccluded: Ue.Opaque\n  }),\n        u = new Se({\n    color: te,\n    cullFace: _e.Back,\n    renderOccluded: Ue.Opaque\n  }),\n        d = new Se({\n    color: re,\n    transparent: !0,\n    writeDepth: !1,\n    cullFace: _e.Front,\n    renderOccluded: Ue.Transparent\n  }),\n        m = ve.createPolylineGeometry([[r, 0, 0], [r - K, 0, 0]]),\n        p = ve.createPolylineGeometry([[r, 0, 0], [r - K, 0, 0]]),\n        g = new xe({\n    color: ie,\n    renderOccluded: Ue.OccludeAndTransparent\n  });\n\n  return new Ae({\n    view: e,\n    renderObjects: [...s.normal.map(({\n      part: e,\n      geometry: t,\n      transform: r\n    }) => ({\n      geometry: t,\n      material: \"tip\" === e ? c : \"cap\" === e ? l : u,\n      transform: r,\n      stateMask: De.Unfocused | Mt\n    })), ...a.normal.map(({\n      geometry: e,\n      transform: t\n    }) => ({\n      geometry: e,\n      material: d,\n      transform: t,\n      stateMask: De.Unfocused | Mt\n    })), {\n      geometry: m,\n      material: g,\n      stateMask: De.Unfocused | Mt | kt\n    }, ...s.focused.map(({\n      part: e,\n      geometry: t,\n      transform: r\n    }) => ({\n      geometry: t,\n      material: \"tip\" === e ? c : \"cap\" === e ? l : u,\n      transform: r,\n      stateMask: De.Focused | Mt\n    })), ...a.focused.map(({\n      geometry: e,\n      transform: t\n    }) => ({\n      geometry: e,\n      material: d,\n      transform: t,\n      stateMask: De.Focused | Mt\n    })), {\n      geometry: p,\n      material: g,\n      stateMask: De.Focused | Mt | kt\n    }],\n    autoScaleRenderObjects: !1,\n    collisionType: {\n      type: \"line\",\n      paths: [n]\n    },\n    collisionPriority: 1,\n    radius: Z,\n    state: Mt\n  });\n}\n\nfunction dt(e, t) {\n  const r = new Ge({\n    transparent: !0,\n    writeDepth: !1,\n    textureId: t.id,\n    renderOccluded: Ue.Opaque\n  }),\n        i = ne,\n        n = oe,\n        o = n * ge,\n        s = e => {\n    const t = new Uint32Array([0, 1, 2, 2, 3, 0]);\n    return new Ne([[Ve.POSITION, {\n      size: 3,\n      data: [i - e, -e, 0, i + e, -e, 0, i + e, e, 0, i - e, e, 0],\n      exclusive: !0\n    }], [Ve.UV0, {\n      size: 2,\n      data: [0, 0, 1, 0, 1, 1, 0, 1]\n    }]], [[Ve.POSITION, t], [Ve.UV0, t]]);\n  },\n        a = ve.createPolylineGeometry([[0, 0, 0], [i - n, 0, 0]]),\n        c = ve.createPolylineGeometry([[0, 0, 0], [i - o, 0, 0]]),\n        l = new xe({\n    color: se,\n    renderOccluded: Ue.OccludeAndTransparent\n  }),\n        u = [{\n    geometry: s(n),\n    material: r,\n    stateMask: De.Unfocused | Mt\n  }, {\n    geometry: a,\n    material: l,\n    stateMask: De.Unfocused | Mt\n  }, {\n    geometry: s(o),\n    material: r,\n    stateMask: De.Focused | Mt\n  }, {\n    geometry: c,\n    material: l,\n    stateMask: De.Focused | Mt\n  }];\n\n  return new Ae({\n    view: e,\n    renderObjects: u,\n    autoScaleRenderObjects: !1,\n    collisionType: {\n      type: \"disc\",\n      direction: [0, 0, 1],\n      offset: [i, 0, 0]\n    },\n    collisionPriority: 1,\n    radius: n / 2,\n    state: Mt\n  });\n}\n\nfunction mt(e) {\n  const t = [[-1, -1, 0], [1, -1, 0], [1, 1, 0], [-1, 1, 0], [-1, -1, 0]];\n  return new Le({\n    view: e,\n    attached: !0,\n    color: ae,\n    width: ce,\n    writeDepthEnabled: !1,\n    renderOccluded: Ue.OccludeAndTransparent,\n    geometry: [t]\n  });\n}\n\nfunction pt(e) {\n  return new Pe({\n    view: e,\n    attached: !0,\n    backgroundColor: [...le],\n    gridColor: ue,\n    gridWidth: 4,\n    renderOccluded: Ue.OccludeAndTransparent\n  });\n}\n\nfunction gt(e, t) {\n  const r = lt(t),\n        i = r ? [k(1, 0, 0), k(0, 0, 0), k(0, 1, 0)] : [k(1, 0, 0), k(-1, 0, 0)],\n        n = ve.createPolylineGeometry(i),\n        o = fe,\n        s = e => new Fe({\n    color: o,\n    width: e,\n    renderOccluded: Ue.OccludeAndTransparent\n  }),\n        a = () => new xe({\n    color: o,\n    renderOccluded: Ue.OccludeAndTransparent\n  }),\n        c = r ? Re : he,\n        l = c * be,\n        u = he,\n        d = e => e > 1 ? s(e) : a(),\n        m = [{\n    geometry: n,\n    material: d(c),\n    stateMask: De.Unfocused | Nt\n  }, {\n    geometry: n,\n    material: d(l),\n    stateMask: De.Focused | Nt\n  }, {\n    geometry: n,\n    material: d(u),\n    stateMask: vt\n  }],\n        p = new Ae({\n    view: e,\n    renderObjects: m,\n    collisionType: {\n      type: \"line\",\n      paths: [i]\n    },\n    autoScaleRenderObjects: !1,\n    worldSized: !0,\n    radius: r ? de : me\n  });\n\n  return p.state = Nt, p;\n}\n\nfunction ft(e, t, r) {\n  const i = i => {\n    const n = (i ? t : e).slice(0),\n          s = R(z.get(), n[0], n[1]);\n    w(s, s);\n    const a = R(z.get(), n[n.length - 1], n[n.length - 2]);\n\n    if (w(a, a), r.padding > 0) {\n      const e = h(P(), a, -r.padding);\n\n      if (n[n.length - 1] = I(e, e, n[n.length - 1]), r.bothEnds) {\n        const e = h(P(), s, -r.padding);\n        n[0] = I(e, e, n[0]);\n      }\n    }\n\n    const c = i ? r.tipFocusMultiplier : 1,\n          d = r.tipLength * (r.focusTipLength ? c : 1),\n          T = r.tipRadius * c,\n          O = m(X.get());\n\n    if (r.padding > 0) {\n      const e = d / 4,\n            t = A(z.get(), 0, e, 0),\n            i = 1 + r.padding / e;\n      p(O, O, t), l(O, O, A(z.get(), i, i, i)), p(O, O, h(t, t, -1 / i));\n    }\n\n    const y = m(f()),\n          E = k(0, 1, 0),\n          j = g(f(), b(Y.get(), E, a));\n    j[12] = n[n.length - 1][0], j[13] = n[n.length - 1][1], j[14] = n[n.length - 1][2], u(j, j, O);\n    const M = [{\n      part: \"tube\",\n      geometry: bt(r.tubeRadius * (i ? r.tubeFocusMultiplier : 1) + r.padding, r.flat, n),\n      transform: y\n    }];\n    let L, C;\n\n    if (o(r.flat) ? L = ve.createExtrudedTriangle(d, T, T, r.flat.thickness) : (L = ve.createConeGeometry(d, T, 24, !1, !1, !0), C = ve.createConeGeometry(d, T, 24, !1, !0, !1)), M.push({\n      part: \"tip\",\n      geometry: L,\n      transform: j\n    }), C && M.push({\n      part: \"cap\",\n      geometry: C,\n      transform: j\n    }), r.bothEnds) {\n      const e = g(f(), b(Y.get(), E, s));\n      e[12] = n[0][0], e[13] = n[0][1], e[14] = n[0][2], u(e, e, O), M.push({\n        part: \"tip\",\n        geometry: L,\n        transform: e\n      }), C && M.push({\n        part: \"cap\",\n        geometry: C,\n        transform: e\n      });\n    }\n\n    return M;\n  };\n\n  return {\n    normal: i(!1),\n    focused: i(!0)\n  };\n}\n\nfunction bt(e, t, r) {\n  const i = [];\n  if (o(t)) i.push([e, t.thickness / 2], [-e, t.thickness / 2], [-e, -t.thickness / 2], [e, -t.thickness / 2]);else {\n    const t = 12;\n\n    for (let r = 0; r < t; r++) {\n      const n = r / t * 2 * Math.PI;\n      i.push([Math.cos(n) * e, Math.sin(n) * e]);\n    }\n  }\n  return ve.createPathExtrusionGeometry(i, r, [], [], !1);\n}\n\nfunction ht(e, t) {\n  const r = R(P(), e[e.length - 1], e[e.length - 2]);\n\n  if (w(r, r), h(r, r, pe), I(r, r, e[e.length - 1]), t) {\n    const t = R(P(), e[0], e[1]);\n    return w(t, t), h(t, t, pe), I(t, t, e[0]), [t, ...e, r];\n  }\n\n  return [...e, r];\n}\n\nfunction Tt(t, i, o, s = new e()) {\n  if (n(t)) return null;\n  const {\n    renderCoordsHelper: a\n  } = i,\n        c = a.fromRenderCoords(t.origin, i.spatialReference);\n  if (n(c)) return null;\n  const l = C(c, o);\n  if (n(l)) return null;\n  s.position = l;\n  const u = a.worldUpAtPosition(t.origin, z.get()),\n        d = a.worldBasisAtPosition(t.origin, _.Y, z.get()),\n        m = 2 * E(t.basis1),\n        p = 2 * E(t.basis2),\n        g = ke.renderUnitScaleFactor(i.spatialReference, o);\n  return s.width = m * g, s.height = p * g, s.tilt = r(wt(t, u)), s.heading = r(It(t, u, d)), s;\n}\n\nfunction Ot(e, t, r) {\n  if (n(e) || n(e.position)) return null;\n  const {\n    spatialReference: i\n  } = e.position,\n        s = yt(jt(e, {\n    renderCoordsHelper: t,\n    spatialReference: i\n  }, r), t, i);\n  return !e.position.hasZ && o(s) && (s.zmin = null, s.zmax = null), s;\n}\n\nfunction yt(e, t, r) {\n  if (n(e)) return null;\n  const i = e.origin,\n        o = z.get(),\n        s = z.get(),\n        a = z.get(),\n        c = z.get();\n  let l, u, d, m, p, g;\n  I(o, i, e.basis1), I(o, o, e.basis2), I(s, i, e.basis1), M(s, s, e.basis2), M(a, i, e.basis1), M(a, a, e.basis2), M(c, i, e.basis1), I(c, c, e.basis2);\n\n  for (const f of [o, s, a, c]) {\n    const e = t.fromRenderCoords(f, f, r);\n    if (n(e)) return null;\n    l = null == l ? e[0] : Math.min(l, e[0]), u = null == u ? e[0] : Math.max(u, e[0]), d = null == d ? e[1] : Math.min(d, e[1]), m = null == m ? e[1] : Math.max(m, e[1]), p = null == p ? e[2] : Math.min(p, e[2]), g = null == g ? e[2] : Math.max(g, e[2]);\n  }\n\n  return new ze({\n    xmin: l,\n    xmax: u,\n    ymin: d,\n    ymax: m,\n    zmin: p,\n    zmax: g,\n    spatialReference: r\n  });\n}\n\nfunction wt(e, t) {\n  return D(t, e.basis2, e.basis1) + _t;\n}\n\nfunction It(e, t, r) {\n  return D(e.basis1, r, t) - _t;\n}\n\nfunction Et(e, t, r, n, o, s, a = V()) {\n  return s.toRenderCoords(e, a.origin) ? (s.worldBasisAtPosition(a.origin, _.X, a.basis1), s.worldBasisAtPosition(a.origin, _.Y, a.basis2), F(a.basis2, a.basis1, a.origin, a.plane), N(a, -i(t), S(a), a), N(a, i(r), a.basis1, a), h(a.basis1, a.basis1, n / 2), h(a.basis2, a.basis2, o / 2), G(a), a) : (Xe.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`), null);\n}\n\nfunction Rt(e, t) {\n  if (n(e) || n(e.position)) return null;\n  const r = je(e.position, t.spatialReference, t.elevationProvider);\n  if (n(r)) return null;\n  const i = ke.renderUnitScaleFactor(e.position.spatialReference, t.spatialReference),\n        o = e.width * i,\n        s = e.height * i;\n  return {\n    position: r,\n    heading: e.heading,\n    tilt: e.tilt,\n    renderWidth: o,\n    renderHeight: s\n  };\n}\n\nfunction jt(e, t, r, i = V()) {\n  const o = Rt(e, t);\n  return n(o) ? null : At(o, t, r, i);\n}\n\nfunction At(e, t, r, i = V()) {\n  if (n(e)) return null;\n  const s = Et(e.position, e.heading, e.tilt, e.renderWidth, e.renderHeight, t.renderCoordsHelper, i);\n  return !r.tiltEnabled && o(s) && Be(s, t.renderCoordsHelper, s), s;\n}\n\n!function (e) {\n  e[e.POSITIVE_X = 0] = \"POSITIVE_X\", e[e.POSITIVE_Y = 1] = \"POSITIVE_Y\", e[e.NEGATIVE_X = 2] = \"NEGATIVE_X\", e[e.NEGATIVE_Y = 3] = \"NEGATIVE_Y\";\n}(nt || (nt = {}));\nconst Mt = He.Custom1;\nvar Lt, Pt;\n!function (e) {\n  e[e.HEADING = 1] = \"HEADING\", e[e.TILT = 2] = \"TILT\";\n}(Lt || (Lt = {})), function (e) {\n  e[e.HORIZONTAL_OR_VERTICAL = 0] = \"HORIZONTAL_OR_VERTICAL\", e[e.HORIZONTAL = 1] = \"HORIZONTAL\", e[e.VERTICAL = 2] = \"VERTICAL\", e[e.TILTED = 3] = \"TILTED\";\n}(Pt || (Pt = {}));\n\nconst kt = He.Custom2,\n      Ct = H(),\n      _t = Math.PI / 2,\n      Nt = He.Custom1,\n      vt = He.Custom2;\n\nvar Ut;\n\nfunction Vt(e) {\n  const t = \"building-scene-3d\" === e.type ? e : null;\n  return o(t);\n}\n\n!function (e) {\n  e[e.CENTER_ON_CALLOUT = 0] = \"CENTER_ON_CALLOUT\", e[e.CENTER_ON_ARROW = 1] = \"CENTER_ON_ARROW\";\n}(Ut || (Ut = {}));\nexport { Mt as DidPointerMoveRecentlyFlag, kt as IsShiftEdgeOnScreenFlag, Ut as OffsetMode, Lt as RotationAxis, Pt as SliceOrientation, ht as addArrowTips, Je as calculateBoundedPlaneTranslateRotate, ct as calculateDiagonalResizeHandleScale, qe as calculatePlaneHalfSize, at as calculateResizeHandlePadding, st as calculateScreenSpaceBasisLength2, ft as createArrowGeometry, pt as createGridVisualElement, mt as createOutlineVisualElement, Ye as createPlane, gt as createResizeManipulator, dt as createRotateManipulator, Ke as createRotatePlane, ut as createShiftManipulator, $e as createShiftPlane, Be as forceHorizontalOrVertical, lt as isDiagonalResizeHandle, Vt as isIBuildingSceneLayerView3D, Ze as normalToBases, yt as planeToExtent, Tt as planeToShape, Rt as projectAndElevationAlignShape, At as projectedShapeToPlane, Nt as resizeNormal, vt as resizeOutlineOnly, We as resizePlane, Ot as shapeToExtent, jt as shapeToPlane, tt as updateResizeHandle, rt as updateRotateHeadingHandle, it as updateRotateTiltHandle, Qe as updateShiftRestartHandle };","map":{"version":3,"names":["e","t","rad2deg","r","deg2rad","i","isNone","n","isSome","o","castRenderScreenPointArray3","s","g","a","b","c","h","l","m","u","d","j","p","k","f","T","O","y","w","I","E","R","A","v","M","L","P","tryProjectWithZConversion","C","Axis","_","N","U","V","S","G","fromPositionAndNormal","x","fromVectorsAndPoint","F","create","H","angleAroundAxis","D","sv3d","z","sm4d","X","sq4d","Y","SHIFT_RESTART_TIP_RADIUS","Z","RESIZE_HANDLE_EDGE_PADDING_FRAC","B","VERTICAL_DOT_THRESHOLD","W","SMALL_ANGLE_DOT_THRESHOLD","q","PLANE_MIN_BASIS_SCREEN_LEN2","$","INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION","J","SHIFT_RESTART_OFFSET_DISTANCE","K","SHIFT_RESTART_ARROW_TIP_COLOR","Q","SHIFT_RESTART_ARROW_CAP_COLOR","ee","SHIFT_RESTART_TUBE_COLOR","te","SHIFT_RESTART_OUTLINE_COLOR","re","SHIFT_RESTART_CALLOUT_COLOR","ie","ROTATE_HEADING_OFFSET_DISTANCE","ne","ROTATE_HEADING_DISC_RADIUS","oe","ROTATE_HEADING_CALLOUT_COLOR","se","PLANE_OUTLINE_COLOR","ae","PLANE_OUTLINE_WIDTH","ce","PLANE_BACKGROUND_COLOR","le","GRID_COLOR","ue","RESIZE_HANDLE_CORNER_INPUT_RADIUS","de","RESIZE_HANDLE_EDGE_INPUT_RADIUS","me","ROTATE_HEADING_TIP_LENGTH","pe","ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER","ge","RESIZE_HANDLE_COLOR","fe","DISPLAY_FOCUS_MULTIPLIER","be","RESIZE_HANDLE_EDGE_WIDTH","he","SHIFT_RESTART_ARROW_LENGTH","Te","SHIFT_RESTART_TUBE_RADIUS","Oe","SHIFT_RESTART_TIP_LENGTH","ye","SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER","we","SHIFT_RESTART_TIP_FOCUS_MULTIPLIER","Ie","SHIFT_RESTART_ARROW_OUTLINE_WIDTH","Ee","RESIZE_HANDLE_CORNER_WIDTH","Re","applyProjectionAndElevationAlignment","je","Manipulator3D","Ae","calculateTranslateRotateFromBases","Me","LineVisualElement","Le","SlicePlaneVisualElement","Pe","RenderCoordsHelper","ke","fromRender","Ce","CullFaceOptions","_e","Geometry","Ne","ve","RenderOccludedFlag","Ue","VertexAttribute","Ve","ColorMaterial","Se","ImageMaterial","Ge","NativeLineMaterial","xe","RibbonLineMaterial","Fe","ManipulatorStateCustomFlags","He","ManipulatorStateFlags","De","ze","Xe","getLogger","Ye","Ze","worldUpAtPosition","get","basis1","basis2","origin","plane","Pt","HORIZONTAL_OR_VERTICAL","Math","abs","HORIZONTAL","VERTICAL","viewUp","TILTED","viewForward","Be","wt","round","_t","We","direction","lt","ct","st","qe","min","width","height","computeRenderPixelSizeAt","$e","Je","Ke","Lt","HEADING","TILT","Qe","ot","nt","NEGATIVE_X","edge","PI","basis","computeScreenPixelSizeAt","position","projectToRenderScreen","et","Ct","modelTransform","renderLocation","state","kt","viewport","tt","at","rt","POSITIVE_X","it","POSITIVE_Y","NEGATIVE_Y","ut","Ut","CENTER_ON_ARROW","CENTER_ON_CALLOUT","ht","ft","tubeRadius","tipRadius","tipLength","tubeFocusMultiplier","tipFocusMultiplier","padding","bothEnds","flat","focusTipLength","addCap","color","cullFace","Back","renderOccluded","Opaque","transparent","writeDepth","Front","Transparent","createPolylineGeometry","OccludeAndTransparent","view","renderObjects","normal","map","part","geometry","transform","material","stateMask","Unfocused","Mt","focused","Focused","autoScaleRenderObjects","collisionType","type","paths","collisionPriority","radius","dt","textureId","id","Uint32Array","POSITION","size","data","exclusive","UV0","offset","mt","attached","writeDepthEnabled","pt","backgroundColor","gridColor","gridWidth","gt","Nt","vt","worldSized","slice","length","bt","createExtrudedTriangle","thickness","createConeGeometry","push","cos","sin","createPathExtrusionGeometry","Tt","renderCoordsHelper","fromRenderCoords","spatialReference","worldBasisAtPosition","renderUnitScaleFactor","tilt","heading","It","Ot","yt","jt","hasZ","zmin","zmax","max","xmin","xmax","ymin","ymax","Et","toRenderCoords","error","wkid","Rt","elevationProvider","renderWidth","renderHeight","At","tiltEnabled","Custom1","Custom2","Vt","DidPointerMoveRecentlyFlag","IsShiftEdgeOnScreenFlag","OffsetMode","RotationAxis","SliceOrientation","addArrowTips","calculateBoundedPlaneTranslateRotate","calculateDiagonalResizeHandleScale","calculatePlaneHalfSize","calculateResizeHandlePadding","calculateScreenSpaceBasisLength2","createArrowGeometry","createGridVisualElement","createOutlineVisualElement","createPlane","createResizeManipulator","createRotateManipulator","createRotatePlane","createShiftManipulator","createShiftPlane","forceHorizontalOrVertical","isDiagonalResizeHandle","isIBuildingSceneLayerView3D","normalToBases","planeToExtent","planeToShape","projectAndElevationAlignShape","projectedShapeToPlane","resizeNormal","resizeOutlineOnly","resizePlane","shapeToExtent","shapeToPlane","updateResizeHandle","updateRotateHeadingHandle","updateRotateTiltHandle","updateShiftRestartHandle"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../analysis/SlicePlane.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{rad2deg as r,deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as n,isSome as o}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{g as a,b as c,h as l,m as u,r as d,i as m,j as p,k as g}from\"../../../../chunks/mat4.js\";import{c as f}from\"../../../../chunks/mat4f64.js\";import{r as b}from\"../../../../chunks/quat.js\";import{g as h,c as T,e as O,f as y,n as w,a as I,l as E,b as R,p as j,s as A,v as M}from\"../../../../chunks/vec3.js\";import{a as L,c as P,f as k}from\"../../../../chunks/vec3f64.js\";import{tryProjectWithZConversion as C}from\"../../../../geometry/projection.js\";import{Axis as _}from\"../../../../geometry/support/Axis.js\";import{r as N,f as v,i as U,c as V,n as S,u as G}from\"../../../../chunks/boundedPlane.js\";import{fromPositionAndNormal as x,fromVectorsAndPoint as F}from\"../../../../geometry/support/plane.js\";import{create as H}from\"../../../../geometry/support/ray.js\";import{angleAroundAxis as D}from\"../../../../geometry/support/vector.js\";import{sv3d as z,sm4d as X,sq4d as Y}from\"../../../../geometry/support/vectorStacks.js\";import{SHIFT_RESTART_TIP_RADIUS as Z,RESIZE_HANDLE_EDGE_PADDING_FRAC as B,VERTICAL_DOT_THRESHOLD as W,SMALL_ANGLE_DOT_THRESHOLD as q,PLANE_MIN_BASIS_SCREEN_LEN2 as $,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as J,SHIFT_RESTART_OFFSET_DISTANCE as K,SHIFT_RESTART_ARROW_TIP_COLOR as Q,SHIFT_RESTART_ARROW_CAP_COLOR as ee,SHIFT_RESTART_TUBE_COLOR as te,SHIFT_RESTART_OUTLINE_COLOR as re,SHIFT_RESTART_CALLOUT_COLOR as ie,ROTATE_HEADING_OFFSET_DISTANCE as ne,ROTATE_HEADING_DISC_RADIUS as oe,ROTATE_HEADING_CALLOUT_COLOR as se,PLANE_OUTLINE_COLOR as ae,PLANE_OUTLINE_WIDTH as ce,PLANE_BACKGROUND_COLOR as le,GRID_COLOR as ue,RESIZE_HANDLE_CORNER_INPUT_RADIUS as de,RESIZE_HANDLE_EDGE_INPUT_RADIUS as me,ROTATE_HEADING_TIP_LENGTH as pe,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as ge,RESIZE_HANDLE_COLOR as fe,DISPLAY_FOCUS_MULTIPLIER as be,RESIZE_HANDLE_EDGE_WIDTH as he,SHIFT_RESTART_ARROW_LENGTH as Te,SHIFT_RESTART_TUBE_RADIUS as Oe,SHIFT_RESTART_TIP_LENGTH as ye,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as we,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as Ie,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as Ee,RESIZE_HANDLE_CORNER_WIDTH as Re}from\"./sliceToolConfig.js\";import{applyProjectionAndElevationAlignment as je}from\"../support/projectionUtils.js\";import{Manipulator3D as Ae}from\"../../interactive/Manipulator3D.js\";import{calculateTranslateRotateFromBases as Me}from\"../../interactive/manipulatorUtils.js\";import{LineVisualElement as Le}from\"../../interactive/visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as Pe}from\"../../interactive/visualElements/SlicePlaneVisualElement.js\";import{RenderCoordsHelper as ke}from\"../../support/RenderCoordsHelper.js\";import{fromRender as Ce}from\"../../support/geometryUtils/ray.js\";import{CullFaceOptions as _e}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as Ne}from\"../../webgl-engine/lib/Geometry.js\";import ve from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as Ue}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as Ve}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as Se}from\"../../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as Ge}from\"../../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as xe}from\"../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as Fe}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{ManipulatorStateCustomFlags as He,ManipulatorStateFlags as De}from\"../../../interactive/interfaces.js\";import ze from\"../../../../geometry/Extent.js\";const Xe=t.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Ye(e,t,r,i,n,o,s,a){return Ze(t,s.worldUpAtPosition(e,z.get()),n,o,a.basis1,a.basis2),h(a.basis1,a.basis1,r),h(a.basis2,a.basis2,i),T(a.origin,e),F(a.basis2,a.basis1,a.origin,a.plane),a}function Ze(e,t,r,i,n,o){const s=O(e,t),a=z.get(),c=z.get();switch(i===Pt.HORIZONTAL_OR_VERTICAL?Math.abs(s)>W?Pt.HORIZONTAL:Pt.VERTICAL:i){case Pt.VERTICAL:{const i=Math.abs(s)<=q?e:r.viewUp;y(a,i,t),T(c,t);break}case Pt.HORIZONTAL:y(a,r.viewUp,t),y(c,t,a);break;case Pt.TILTED:{const i=Math.abs(s)<=q?t:r.viewUp;y(a,i,e),y(c,e,a);break}}const l=y(z.get(),a,c);O(l,r.viewForward)>0&&h(c,c,-1),w(n,a),w(o,c)}function Be(e,t,r){const i=t.worldUpAtPosition(e.origin,z.get()),n=e.basis1,o=wt(e,i),s=Math.round(o/_t)*_t;return N(e,s-o,n,r)}function We(e,t,r,i,n,o){const s=T(z.get(),n.origin);I(s,s,h(z.get(),n.basis1,e.direction[0]<0?1:-1)),I(s,s,h(z.get(),n.basis2,e.direction[1]<0?1:-1));const a=E(n.basis1),c=E(n.basis2),l=R(z.get(),r,s),u=R(z.get(),t,s);let d=0,m=0;if(lt(e)){const t=ct(n),r=ct(o);d=a-.5*e.direction[0]*O(n.basis1,u)/a,m=c-.5*e.direction[1]*O(n.basis2,u)/c;const i=r/t;d*=i,m*=i}const p=d+.5*e.direction[0]*O(n.basis1,l)/a,g=m+.5*e.direction[1]*O(n.basis2,l)/c,f=h(z.get(),n.basis1,p/a),b=h(z.get(),n.basis2,g/c);(p<=0||st(o.origin,f,i)<=$)&&T(f,o.basis1),(g<=0||st(o.origin,b,i)<=$)&&T(b,o.basis2);const y=T(z.get(),s);return I(y,y,h(z.get(),f,e.direction[0]<0?-1:1)),I(y,y,h(z.get(),b,e.direction[1]<0?-1:1)),v(y,f,b,o)}function qe(e,t){return J*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function $e(e,t,r,i){const n=y(z.get(),t,r);return y(n,n,t),x(e,n,i)}function Je(e,t){return Me(e.basis1,e.basis2,e.origin,t)}function Ke(e,t,r,i){const n=t.worldUpAtPosition(e.origin,z.get()),o=z.get();switch(r){case Lt.HEADING:T(o,n);break;case Lt.TILT:T(o,e.basis1)}return x(e.origin,o,i)}function Qe(e,t,r,i){const n=ot(r,nt.NEGATIVE_X),o=X.get();a(o,t,n.edge*Math.PI/2);const c=w(z.get(),n.basis);let l=h(z.get(),c,n.direction*i.computeScreenPixelSizeAt(n.position)*K);I(l,l,n.position);const u=i.projectToRenderScreen(l,s(z.get())),d=et(i,u);Ce(i,u,Ct),w(Ct.direction,Ct.direction);const m=z.get();!d&&U(r,Ct,m)&&(l=m),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=L(l),d?e.state|=kt:e.state&=~kt}function et(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}function tt(e,t,r,i){const n=E(i.basis1),o=E(i.basis2),s=at(i),a=ct(i),d=A(z.get(),0,0,0);I(d,h(z.get(),i.basis1,t.direction[0]),h(z.get(),i.basis2,t.direction[1])),I(d,i.origin,d);let m=0,p=1;if(lt(t))1===t.direction[0]&&-1===t.direction[1]?m=_t:1===t.direction[0]&&1===t.direction[1]?m=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(m=3*Math.PI/2),p=a;else{const e=0!==t.direction[0]?1:2;m=1===e?_t:0,p=(1===e?o:n)-s}const g=c(X.get(),m);l(g,g,A(z.get(),p,p,p)),u(g,r,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=d}function rt(e,t,r,i){const n=i.worldUpAtPosition(r.origin,z.get()),o=ot(r,nt.POSITIVE_X),s=c(X.get(),o.edge*Math.PI/2);d(s,s,-wt(r,n)),u(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function it(e,t,r){const i=ot(r,nt.POSITIVE_Y),n=c(X.get(),i.edge*Math.PI/2);d(n,n,_t),u(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}var nt;function ot(e,t){switch(t){case nt.POSITIVE_X:return{basis:e.basis1,direction:1,position:I(z.get(),e.origin,e.basis1),edge:t};case nt.POSITIVE_Y:return{basis:e.basis2,direction:1,position:I(z.get(),e.origin,e.basis2),edge:t};case nt.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:R(z.get(),e.origin,e.basis1),edge:t};case nt.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:R(z.get(),e.origin,e.basis2),edge:t}}}function st(e,t,r){const i=r.projectToRenderScreen(I(z.get(),e,t),s(z.get())),n=r.projectToRenderScreen(R(z.get(),e,t),s(z.get()));return j(R(i,i,n))}function at(e){const t=E(e.basis1),r=E(e.basis2);return B*Math.min(t,r)}function ct(e){return at(e)}function lt(e){return 0!==e.direction[0]&&0!==e.direction[1]}function ut(e,t=Ut.CENTER_ON_ARROW){const r=t===Ut.CENTER_ON_CALLOUT?K:0,i=[k(r,0,-Te/2),k(r,0,Te/2)],n=ht(i,!0),o=(e,t)=>ft(i,i,{tubeRadius:Oe,tipRadius:Z,tipLength:ye,tubeFocusMultiplier:we,tipFocusMultiplier:Ie,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),s=o(0,!1),a=o(Ee,!0),c=new Se({color:Q,cullFace:_e.Back,renderOccluded:Ue.Opaque}),l=new Se({color:ee,cullFace:_e.Back,renderOccluded:Ue.Opaque}),u=new Se({color:te,cullFace:_e.Back,renderOccluded:Ue.Opaque}),d=new Se({color:re,transparent:!0,writeDepth:!1,cullFace:_e.Front,renderOccluded:Ue.Transparent}),m=ve.createPolylineGeometry([[r,0,0],[r-K,0,0]]),p=ve.createPolylineGeometry([[r,0,0],[r-K,0,0]]),g=new xe({color:ie,renderOccluded:Ue.OccludeAndTransparent});return new Ae({view:e,renderObjects:[...s.normal.map((({part:e,geometry:t,transform:r})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:r,stateMask:De.Unfocused|Mt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:d,transform:t,stateMask:De.Unfocused|Mt}))),{geometry:m,material:g,stateMask:De.Unfocused|Mt|kt},...s.focused.map((({part:e,geometry:t,transform:r})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:r,stateMask:De.Focused|Mt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:d,transform:t,stateMask:De.Focused|Mt}))),{geometry:p,material:g,stateMask:De.Focused|Mt|kt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[n]},collisionPriority:1,radius:Z,state:Mt})}function dt(e,t){const r=new Ge({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:Ue.Opaque}),i=ne,n=oe,o=n*ge,s=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new Ne([[Ve.POSITION,{size:3,data:[i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],exclusive:!0}],[Ve.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[Ve.POSITION,t],[Ve.UV0,t]])},a=ve.createPolylineGeometry([[0,0,0],[i-n,0,0]]),c=ve.createPolylineGeometry([[0,0,0],[i-o,0,0]]),l=new xe({color:se,renderOccluded:Ue.OccludeAndTransparent}),u=[{geometry:s(n),material:r,stateMask:De.Unfocused|Mt},{geometry:a,material:l,stateMask:De.Unfocused|Mt},{geometry:s(o),material:r,stateMask:De.Focused|Mt},{geometry:c,material:l,stateMask:De.Focused|Mt}];return new Ae({view:e,renderObjects:u,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[i,0,0]},collisionPriority:1,radius:n/2,state:Mt})}function mt(e){const t=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new Le({view:e,attached:!0,color:ae,width:ce,writeDepthEnabled:!1,renderOccluded:Ue.OccludeAndTransparent,geometry:[t]})}function pt(e){return new Pe({view:e,attached:!0,backgroundColor:[...le],gridColor:ue,gridWidth:4,renderOccluded:Ue.OccludeAndTransparent})}function gt(e,t){const r=lt(t),i=r?[k(1,0,0),k(0,0,0),k(0,1,0)]:[k(1,0,0),k(-1,0,0)],n=ve.createPolylineGeometry(i),o=fe,s=e=>new Fe({color:o,width:e,renderOccluded:Ue.OccludeAndTransparent}),a=()=>new xe({color:o,renderOccluded:Ue.OccludeAndTransparent}),c=r?Re:he,l=c*be,u=he,d=e=>e>1?s(e):a(),m=[{geometry:n,material:d(c),stateMask:De.Unfocused|Nt},{geometry:n,material:d(l),stateMask:De.Focused|Nt},{geometry:n,material:d(u),stateMask:vt}],p=new Ae({view:e,renderObjects:m,collisionType:{type:\"line\",paths:[i]},autoScaleRenderObjects:!1,worldSized:!0,radius:r?de:me});return p.state=Nt,p}function ft(e,t,r){const i=i=>{const n=(i?t:e).slice(0),s=R(z.get(),n[0],n[1]);w(s,s);const a=R(z.get(),n[n.length-1],n[n.length-2]);if(w(a,a),r.padding>0){const e=h(P(),a,-r.padding);if(n[n.length-1]=I(e,e,n[n.length-1]),r.bothEnds){const e=h(P(),s,-r.padding);n[0]=I(e,e,n[0])}}const c=i?r.tipFocusMultiplier:1,d=r.tipLength*(r.focusTipLength?c:1),T=r.tipRadius*c,O=m(X.get());if(r.padding>0){const e=d/4,t=A(z.get(),0,e,0),i=1+r.padding/e;p(O,O,t),l(O,O,A(z.get(),i,i,i)),p(O,O,h(t,t,-1/i))}const y=m(f()),E=k(0,1,0),j=g(f(),b(Y.get(),E,a));j[12]=n[n.length-1][0],j[13]=n[n.length-1][1],j[14]=n[n.length-1][2],u(j,j,O);const M=[{part:\"tube\",geometry:bt(r.tubeRadius*(i?r.tubeFocusMultiplier:1)+r.padding,r.flat,n),transform:y}];let L,C;if(o(r.flat)?L=ve.createExtrudedTriangle(d,T,T,r.flat.thickness):(L=ve.createConeGeometry(d,T,24,!1,!1,!0),C=ve.createConeGeometry(d,T,24,!1,!0,!1)),M.push({part:\"tip\",geometry:L,transform:j}),C&&M.push({part:\"cap\",geometry:C,transform:j}),r.bothEnds){const e=g(f(),b(Y.get(),E,s));e[12]=n[0][0],e[13]=n[0][1],e[14]=n[0][2],u(e,e,O),M.push({part:\"tip\",geometry:L,transform:e}),C&&M.push({part:\"cap\",geometry:C,transform:e})}return M};return{normal:i(!1),focused:i(!0)}}function bt(e,t,r){const i=[];if(o(t))i.push([e,t.thickness/2],[-e,t.thickness/2],[-e,-t.thickness/2],[e,-t.thickness/2]);else{const t=12;for(let r=0;r<t;r++){const n=r/t*2*Math.PI;i.push([Math.cos(n)*e,Math.sin(n)*e])}}return ve.createPathExtrusionGeometry(i,r,[],[],!1)}function ht(e,t){const r=R(P(),e[e.length-1],e[e.length-2]);if(w(r,r),h(r,r,pe),I(r,r,e[e.length-1]),t){const t=R(P(),e[0],e[1]);return w(t,t),h(t,t,pe),I(t,t,e[0]),[t,...e,r]}return[...e,r]}function Tt(t,i,o,s=new e){if(n(t))return null;const{renderCoordsHelper:a}=i,c=a.fromRenderCoords(t.origin,i.spatialReference);if(n(c))return null;const l=C(c,o);if(n(l))return null;s.position=l;const u=a.worldUpAtPosition(t.origin,z.get()),d=a.worldBasisAtPosition(t.origin,_.Y,z.get()),m=2*E(t.basis1),p=2*E(t.basis2),g=ke.renderUnitScaleFactor(i.spatialReference,o);return s.width=m*g,s.height=p*g,s.tilt=r(wt(t,u)),s.heading=r(It(t,u,d)),s}function Ot(e,t,r){if(n(e)||n(e.position))return null;const{spatialReference:i}=e.position,s=yt(jt(e,{renderCoordsHelper:t,spatialReference:i},r),t,i);return!e.position.hasZ&&o(s)&&(s.zmin=null,s.zmax=null),s}function yt(e,t,r){if(n(e))return null;const i=e.origin,o=z.get(),s=z.get(),a=z.get(),c=z.get();let l,u,d,m,p,g;I(o,i,e.basis1),I(o,o,e.basis2),I(s,i,e.basis1),M(s,s,e.basis2),M(a,i,e.basis1),M(a,a,e.basis2),M(c,i,e.basis1),I(c,c,e.basis2);for(const f of[o,s,a,c]){const e=t.fromRenderCoords(f,f,r);if(n(e))return null;l=null==l?e[0]:Math.min(l,e[0]),u=null==u?e[0]:Math.max(u,e[0]),d=null==d?e[1]:Math.min(d,e[1]),m=null==m?e[1]:Math.max(m,e[1]),p=null==p?e[2]:Math.min(p,e[2]),g=null==g?e[2]:Math.max(g,e[2])}return new ze({xmin:l,xmax:u,ymin:d,ymax:m,zmin:p,zmax:g,spatialReference:r})}function wt(e,t){return D(t,e.basis2,e.basis1)+_t}function It(e,t,r){return D(e.basis1,r,t)-_t}function Et(e,t,r,n,o,s,a=V()){return s.toRenderCoords(e,a.origin)?(s.worldBasisAtPosition(a.origin,_.X,a.basis1),s.worldBasisAtPosition(a.origin,_.Y,a.basis2),F(a.basis2,a.basis1,a.origin,a.plane),N(a,-i(t),S(a),a),N(a,i(r),a.basis1,a),h(a.basis1,a.basis1,n/2),h(a.basis2,a.basis2,o/2),G(a),a):(Xe.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}function Rt(e,t){if(n(e)||n(e.position))return null;const r=je(e.position,t.spatialReference,t.elevationProvider);if(n(r))return null;const i=ke.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),o=e.width*i,s=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:o,renderHeight:s}}function jt(e,t,r,i=V()){const o=Rt(e,t);return n(o)?null:At(o,t,r,i)}function At(e,t,r,i=V()){if(n(e))return null;const s=Et(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return!r.tiltEnabled&&o(s)&&Be(s,t.renderCoordsHelper,s),s}!function(e){e[e.POSITIVE_X=0]=\"POSITIVE_X\",e[e.POSITIVE_Y=1]=\"POSITIVE_Y\",e[e.NEGATIVE_X=2]=\"NEGATIVE_X\",e[e.NEGATIVE_Y=3]=\"NEGATIVE_Y\"}(nt||(nt={}));const Mt=He.Custom1;var Lt,Pt;!function(e){e[e.HEADING=1]=\"HEADING\",e[e.TILT=2]=\"TILT\"}(Lt||(Lt={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]=\"HORIZONTAL_OR_VERTICAL\",e[e.HORIZONTAL=1]=\"HORIZONTAL\",e[e.VERTICAL=2]=\"VERTICAL\",e[e.TILTED=3]=\"TILTED\"}(Pt||(Pt={}));const kt=He.Custom2,Ct=H(),_t=Math.PI/2,Nt=He.Custom1,vt=He.Custom2;var Ut;function Vt(e){const t=\"building-scene-3d\"===e.type?e:null;return o(t)}!function(e){e[e.CENTER_ON_CALLOUT=0]=\"CENTER_ON_CALLOUT\",e[e.CENTER_ON_ARROW=1]=\"CENTER_ON_ARROW\"}(Ut||(Ut={}));export{Mt as DidPointerMoveRecentlyFlag,kt as IsShiftEdgeOnScreenFlag,Ut as OffsetMode,Lt as RotationAxis,Pt as SliceOrientation,ht as addArrowTips,Je as calculateBoundedPlaneTranslateRotate,ct as calculateDiagonalResizeHandleScale,qe as calculatePlaneHalfSize,at as calculateResizeHandlePadding,st as calculateScreenSpaceBasisLength2,ft as createArrowGeometry,pt as createGridVisualElement,mt as createOutlineVisualElement,Ye as createPlane,gt as createResizeManipulator,dt as createRotateManipulator,Ke as createRotatePlane,ut as createShiftManipulator,$e as createShiftPlane,Be as forceHorizontalOrVertical,lt as isDiagonalResizeHandle,Vt as isIBuildingSceneLayerView3D,Ze as normalToBases,yt as planeToExtent,Tt as planeToShape,Rt as projectAndElevationAlignShape,At as projectedShapeToPlane,Nt as resizeNormal,vt as resizeOutlineOnly,We as resizePlane,Ot as shapeToExtent,jt as shapeToPlane,tt as updateResizeHandle,rt as updateRotateHeadingHandle,it as updateRotateTiltHandle,Qe as updateShiftRestartHandle};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}