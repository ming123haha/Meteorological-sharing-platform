{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"../core/Logger.js\";\nimport { isSome as r } from \"../core/maybe.js\";\nimport { throwIfAborted as o } from \"../core/promiseUtils.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { enumeration as l } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport p from \"../portal/Portal.js\";\nimport { r as a, w as c } from \"../chunks/persistableUrlUtils.js\";\nimport m from \"./Symbol.js\";\nimport { Thumbnail as n } from \"./support/Thumbnail.js\";\nvar y;\nlet h = y = class extends m {\n  constructor(t) {\n    super(t), this.styleName = null, this.portal = null, this.styleUrl = null, this.thumbnail = null, this.name = null, this.type = \"web-style\";\n  }\n\n  get _fetchCacheKey() {\n    const t = r(this.portal) ? this.portal : p.getDefault(),\n          e = t.user ? t.user.username : null;\n    return `${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`;\n  }\n\n  read(t, e) {\n    this.portal = e ? e.portal : void 0, super.read(t, e);\n  }\n\n  clone() {\n    return new y({\n      name: this.name,\n      styleUrl: this.styleUrl,\n      styleName: this.styleName,\n      portal: this.portal\n    });\n  }\n\n  fetchSymbol(t) {\n    return this._fetchSymbol(\"webRef\", t);\n  }\n\n  fetchCIMSymbol(t) {\n    return this._fetchSymbol(\"cimRef\", t);\n  }\n\n  async _fetchSymbol(t, s) {\n    const l = r(s) ? s.cache : null,\n          i = l ? this._fetchCacheKey : null;\n\n    if (r(l)) {\n      const t = i && l.get(i);\n      if (t) return t.clone();\n    }\n\n    const p = await u();\n    o(s);\n    const a = p.resolveWebStyleSymbol(this, {\n      portal: this.portal\n    }, t, s);\n    a.catch(t => {\n      e.getLogger(this.declaredClass).error(\"#fetchSymbol()\", \"Failed to create symbol from style\", t);\n    });\n    const c = await a;\n    return \"webRef\" === t && \"point-3d\" === c.type || \"cimRef\" === t && \"cim\" === c.type ? (r(l) && l.set(i, c.clone()), c) : null;\n  }\n\n};\n\nfunction u() {\n  return import(\"./support/webStyleSymbolUtils.js\");\n}\n\nt([s({\n  json: {\n    write: !1\n  }\n})], h.prototype, \"color\", void 0), t([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], h.prototype, \"styleName\", void 0), t([s({\n  type: p,\n  json: {\n    write: !1\n  }\n})], h.prototype, \"portal\", void 0), t([s({\n  type: String,\n  json: {\n    read: a,\n    write: c\n  }\n})], h.prototype, \"styleUrl\", void 0), t([s({\n  type: n,\n  json: {\n    read: !1\n  }\n})], h.prototype, \"thumbnail\", void 0), t([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], h.prototype, \"name\", void 0), t([l({\n  styleSymbolReference: \"web-style\"\n}, {\n  readOnly: !0\n})], h.prototype, \"type\", void 0), t([s()], h.prototype, \"_fetchCacheKey\", null), h = y = t([i(\"esri.symbols.WebStyleSymbol\")], h);\nconst f = h;\nexport { f as default };","map":{"version":3,"names":["_","t","e","isSome","r","throwIfAborted","o","property","s","enumeration","l","subclass","i","p","a","w","c","m","Thumbnail","n","y","h","constructor","styleName","portal","styleUrl","thumbnail","name","type","_fetchCacheKey","getDefault","user","username","url","read","clone","fetchSymbol","_fetchSymbol","fetchCIMSymbol","cache","get","u","resolveWebStyleSymbol","catch","getLogger","declaredClass","error","set","json","write","prototype","String","styleSymbolReference","readOnly","f","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/WebStyleSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Logger.js\";import{isSome as r}from\"../core/maybe.js\";import{throwIfAborted as o}from\"../core/promiseUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{enumeration as l}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"../portal/Portal.js\";import{r as a,w as c}from\"../chunks/persistableUrlUtils.js\";import m from\"./Symbol.js\";import{Thumbnail as n}from\"./support/Thumbnail.js\";var y;let h=y=class extends m{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type=\"web-style\"}get _fetchCacheKey(){const t=r(this.portal)?this.portal:p.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?e.portal:void 0,super.read(t,e)}clone(){return new y({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(\"webRef\",t)}fetchCIMSymbol(t){return this._fetchSymbol(\"cimRef\",t)}async _fetchSymbol(t,s){const l=r(s)?s.cache:null,i=l?this._fetchCacheKey:null;if(r(l)){const t=i&&l.get(i);if(t)return t.clone()}const p=await u();o(s);const a=p.resolveWebStyleSymbol(this,{portal:this.portal},t,s);a.catch((t=>{e.getLogger(this.declaredClass).error(\"#fetchSymbol()\",\"Failed to create symbol from style\",t)}));const c=await a;return\"webRef\"===t&&\"point-3d\"===c.type||\"cimRef\"===t&&\"cim\"===c.type?(r(l)&&l.set(i,c.clone()),c):null}};function u(){return import(\"./support/webStyleSymbolUtils.js\")}t([s({json:{write:!1}})],h.prototype,\"color\",void 0),t([s({type:String,json:{write:!0}})],h.prototype,\"styleName\",void 0),t([s({type:p,json:{write:!1}})],h.prototype,\"portal\",void 0),t([s({type:String,json:{read:a,write:c}})],h.prototype,\"styleUrl\",void 0),t([s({type:n,json:{read:!1}})],h.prototype,\"thumbnail\",void 0),t([s({type:String,json:{write:!0}})],h.prototype,\"name\",void 0),t([l({styleSymbolReference:\"web-style\"},{readOnly:!0})],h.prototype,\"type\",void 0),t([s()],h.prototype,\"_fetchCacheKey\",null),h=y=t([i(\"esri.symbols.WebStyleSymbol\")],h);const f=h;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}