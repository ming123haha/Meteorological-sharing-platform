{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { bytesToUTF8 as e } from \"../rasterDatasets/byteStreamUtils.js\";\nimport { J as t } from \"../../../chunks/Jpg.js\";\nimport { load as n, decode as a } from \"./Lerc.js\";\nimport { decode as i } from \"./Lzw.js\";\nimport s from \"./TiffTags.js\";\nimport { isPlatformLittleEndian as r } from \"./utils.js\";\nimport { Z as l } from \"../../../chunks/Zlib.js\";\nconst o = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8, -1, -1, -1, 8, 8, 8],\n      f = 4294967296,\n      c = new Set([1, 5, 6, 7, 8, 34712, 34887]);\n\nfunction u(e, t) {\n  let n = \"unknown\";\n  return 3 === e ? n = \"f32\" : 1 === e ? 1 === t ? n = \"u1\" : 2 === t ? n = \"u2\" : 4 === t ? n = \"u4\" : t <= 8 ? n = \"u8\" : t <= 16 ? n = \"u16\" : t <= 32 && (n = \"u32\") : 2 === e && (t <= 8 ? n = \"s8\" : t <= 16 ? n = \"s16\" : t <= 32 && (n = \"s32\")), n;\n}\n\nfunction h(e) {\n  let t = null;\n\n  switch (e ? e.toLowerCase() : \"f32\") {\n    case \"u1\":\n    case \"u2\":\n    case \"u4\":\n    case \"u8\":\n      t = Uint8Array;\n      break;\n\n    case \"u16\":\n      t = Uint16Array;\n      break;\n\n    case \"u32\":\n      t = Uint32Array;\n      break;\n\n    case \"s8\":\n      t = Int8Array;\n      break;\n\n    case \"s16\":\n      t = Int16Array;\n      break;\n\n    case \"s32\":\n      t = Int32Array;\n      break;\n\n    default:\n      t = Float32Array;\n  }\n\n  return t;\n}\n\nfunction g(e, t) {\n  return {\n    x: t[0] * e.x + t[1] * e.y + t[2],\n    y: t[3] * e.x + t[4] * e.y + t[5]\n  };\n}\n\nfunction w(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction p(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction d(e, t) {\n  return e.get(t)?.values[0];\n}\n\nfunction I(e, t) {\n  return e.get(t)?.values[0];\n}\n\nfunction T(e, t, n, a = 0, i = s.TIFF_TAGS, r = 4) {\n  const l = 8 === r,\n        o = l ? U(new DataView(e, n, 8), 0, t) : new DataView(e, n, 2).getUint16(0, t),\n        f = 4 + 2 * r,\n        c = l ? 8 : 2,\n        u = c + o * f;\n  if (n + u > e.byteLength) return {\n    success: !1,\n    ifd: null,\n    nextIFD: null,\n    requiredBufferSize: u\n  };\n  const h = n + u + 4 <= e.byteLength ? P(new DataView(e, n + u, 8 === r ? 8 : 4), 0, t, 8 === r) : null,\n        g = n + c,\n        w = new Map();\n  let p, d, I, T, E, y, m;\n\n  for (let A = 0; A < o; A++) {\n    d = new DataView(e, g + f * A, f), I = d.getUint16(0, t), E = d.getUint16(2, t), T = s.getTagName(I, i);\n    const n = [];\n    2 === r ? (y = d.getUint16(4, t), m = d.getUint16(6, t)) : 4 === r ? (y = d.getUint32(4, t), m = d.getUint32(8, t)) : 8 === r && (y = P(d, 4, t, !0), m = P(d, 12, t, !0), n.push(d.getUint32(12, t)), n.push(d.getUint32(16, t))), p = {\n      id: I,\n      type: E,\n      valueCount: y,\n      valueOffset: m,\n      valueOffsets: n,\n      values: null\n    }, x(e, t, p, a, !1, r), w.set(T, p);\n  }\n\n  return {\n    success: !0,\n    ifd: w,\n    nextIFD: h,\n    requiredBufferSize: u\n  };\n}\n\nconst E = (e, t) => a(e, {\n  inputOffset: t\n}).pixels[0];\n\nasync function y(e, a, s, o, f) {\n  const c = r === a,\n        g = I(s, \"BITSPERSAMPLE\"),\n        w = u(I(s, \"SAMPLEFORMAT\") ?? 1, g),\n        p = I(s, \"COMPRESSION\") ?? 1,\n        d = h(w);\n  let T, y, m, A, S, M, x;\n  if (34887 === p) return await n(), E(e, o);\n  if (1 === p) m = e.slice(o, o + f), A = new Uint8Array(m);else if (8 === p || 32946 === p) A = new Uint8Array(e, o, f), M = new l(A), x = M.getBytes(), m = new ArrayBuffer(x.length), A = new Uint8Array(m), A.set(x);else if (6 === p) {\n    A = new Uint8Array(e, o, f);\n    const n = new t();\n    n.parse(A);\n    const a = n.getData(n.width, n.height, !0);\n    m = new ArrayBuffer(a.length), A = new Uint8Array(m), A.set(a);\n  } else if (7 === p) {\n    const n = s.get(\"JPEGTABLES\").values,\n          a = n.length - 2;\n    A = new Uint8Array(a + f - 2);\n\n    for (let e = 0; e < a; e++) A[e] = n[e];\n\n    const i = new Uint8Array(e, o + 2, f - 2);\n\n    for (let e = 0; e < i.length; e++) A[a + e] = i[e];\n\n    const r = new t();\n    r.parse(A);\n    const l = r.getData(r.width, r.height, !0);\n    m = new ArrayBuffer(l.length), A = new Uint8Array(m), A.set(l);\n  } else 5 === p && (A = i(e, o, f, a), m = A.buffer);\n  if (\"u8\" === w || \"s8\" === w || c) y = new d(m);else {\n    switch (m = new ArrayBuffer(A.length), S = new Uint8Array(m), w) {\n      case \"u16\":\n      case \"s16\":\n        for (T = 0; T < A.length; T += 2) S[T] = A[T + 1], S[T + 1] = A[T];\n\n        break;\n\n      case \"u32\":\n      case \"s32\":\n      case \"f32\":\n        for (T = 0; T < A.length; T += 4) S[T] = A[T + 3], S[T + 1] = A[T + 2], S[T + 2] = A[T + 1], S[T + 3] = A[T];\n\n    }\n\n    y = new d(m);\n  }\n  return y;\n}\n\nasync function m(e, t, n) {\n  const a = p(n, \"TILEOFFSETS\");\n  if (void 0 === a) return null;\n  const i = p(n, \"TILEBYTECOUNTS\"),\n        {\n    width: s,\n    height: r,\n    pixelType: l,\n    tileWidth: o,\n    tileHeight: f\n  } = b([n]),\n        c = D(n, t),\n        u = t.planes,\n        g = s * r,\n        w = I(n, \"BITSPERSAMPLE\"),\n        d = 34887 === (I(n, \"COMPRESSION\") ?? 1),\n        T = h(l),\n        E = [];\n\n  for (let h = 0; h < u; h++) E.push(new T(g));\n\n  let m, A, S, M, x, O, U, L, P, N, k, G, R;\n  const C = Math.ceil(s / o);\n  if (w % 8 == 0) if (d && c && u > 1) {\n    const l = Math.round(a.length / u);\n\n    for (m = 0; m < l; m++) {\n      O = Math.floor(m / C) * f, U = m % C * o, L = O * s + U;\n\n      for (let l = 0; l < u; l++) {\n        const c = m * u + l;\n        if (0 !== i[c]) for (S = await y(e, t.littleEndian, n, a[c], i[c]), N = 0, P = L, G = Math.min(o, s - U), k = Math.min(f, r - O), R = E[l], M = 0; M < k; M++) for (P = L + M * s, N = M * o, x = 0; x < G; x++, P++, N++) R[P] = S[N];\n      }\n    }\n  } else for (m = 0; m < a.length; m++) if (0 !== i[m]) for (O = Math.floor(m / C) * f, U = m % C * o, L = O * s + U, S = await y(e, t.littleEndian, n, a[m], i[m]), N = 0, P = L, G = Math.min(o, s - U), k = Math.min(f, r - O), A = 0; A < u; A++) if (R = E[A], c || d) for (M = 0; M < k; M++) for (P = L + M * s, N = o * f * A + M * o, x = 0; x < G; x++, P++, N++) R[P] = S[N];else for (M = 0; M < k; M++) for (P = L + M * s, N = M * o * u + A, x = 0; x < G; x++, P++, N += u) R[P] = S[N];\n  return {\n    width: s,\n    height: r,\n    pixelType: l,\n    pixels: E\n  };\n}\n\nconst A = (e, n, a) => {\n  const s = r === n.littleEndian,\n        o = p(a, \"STRIPOFFSETS\");\n  if (void 0 === o) return null;\n  const {\n    width: f,\n    height: c,\n    pixelType: u\n  } = b([a]),\n        g = n.planes,\n        w = f * c,\n        d = I(a, \"BITSPERSAMPLE\"),\n        T = h(u),\n        E = new T(w * g),\n        y = p(a, \"STRIPBYTECOUNTS\"),\n        m = I(a, \"ROWSPERSTRIP\"),\n        A = I(a, \"COMPRESSION\") ?? 1;\n  let S,\n      M,\n      x,\n      D,\n      O,\n      U,\n      L,\n      P,\n      N,\n      k,\n      G,\n      R = m;\n  if (d % 8 == 0) for (S = 0; S < o.length; S++) {\n    if (O = S * (m * f) * g, R = (S + 1) * m > c ? c - S * m : m, \"u8\" === u || \"s8\" === u || s) {\n      if (8 === A || 32946 === A) L = new Uint8Array(e, o[S], y[S]), k = new l(L), G = k.getBytes(), U = new ArrayBuffer(G.length), L = new Uint8Array(U), L.set(G), L.length !== R * f * g * d / 8 && console.log(\"strip byte counts is different than expected\");else if (6 === A) {\n        L = new Uint8Array(e, o[S], y[S]);\n        const n = new t();\n        n.parse(L);\n        const a = n.getData(n.width, n.height, !0);\n        U = new ArrayBuffer(a.length), L = new Uint8Array(U), L.set(a);\n      } else 5 === A ? (L = i(e, o[S], y[S], n.littleEndian), U = L.buffer) : 1 === A && (y[S] !== R * f * g * d / 8 && console.log(\"strip byte counts is different than expected\"), U = e.slice(o[S], o[S] + y[S]));\n      D = new T(U);\n    } else {\n      switch (6 === A || 8 === A || 32946 === A ? (L = new Uint8Array(e, o[S], y[S]), k = new l(L), L = k.getBytes(), U = new ArrayBuffer(L.length), P = new Uint8Array(U), L.length !== R * f * g * d / 8 && console.log(\"strip byte counts is different than expected\")) : 1 === A && (y[S] !== R * f * g * d / 8 && console.log(\"strip byte counts is different than expected\"), U = new ArrayBuffer(y[S]), L = new Uint8Array(e, o[S], y[S]), P = new Uint8Array(U)), u) {\n        case \"u16\":\n        case \"s16\":\n          for (x = 0; x < L.length; x += 2) P[x] = L[x + 1], P[x + 1] = L[x];\n\n          break;\n\n        case \"u32\":\n        case \"s32\":\n        case \"f32\":\n          for (x = 0; x < L.length; x += 4) P[x] = L[x + 3], P[x + 1] = L[x + 2], P[x + 2] = L[x + 1], P[x + 3] = L[x];\n\n      }\n\n      D = new T(U);\n    }\n\n    E.set(D, O);\n  }\n  const C = [];\n  if (1 === g) C.push(E);else for (S = 0; S < g; S++) {\n    for (N = new T(w), M = 0; M < w; M++) N[M] = E[M * g + S];\n\n    C.push(N);\n  }\n  return {\n    width: f,\n    height: c,\n    pixelType: u,\n    pixels: C\n  };\n},\n      S = (e, t, n) => {\n  if (!(e && e.length > 0 && t && n)) return null;\n  let a, i, s;\n  const r = e[0].length,\n        l = e.length,\n        o = new Uint8Array(r);\n\n  for (let f = 0; f < l; f++) if (a = e[f], i = t[f], s = n[f], 0 === f) for (let e = 0; e < r; e++) o[e] = a[e] < i || a[e] > s ? 0 : 1;else for (let e = 0; e < r; e++) o[e] && (o[e] = a[e] < i || a[e] > s ? 0 : 1);\n\n  return o;\n},\n      M = e => {\n  if (!e) return null;\n  const t = e.match(/<Item(.*?)Item>/gi);\n  if (!t || 0 === t.length) return null;\n  const n = new Map();\n  let a, i, s, r, l;\n\n  for (let I = 0; I < t.length; I++) a = t[I], i = a.slice(\"<Item \".length, a.indexOf(\">\")), r = a.indexOf(\"sample=\"), r > -1 && (l = a.slice(r + 'sample=\"'.length, a.indexOf('\"', r + 'sample=\"'.length))), r = a.indexOf(\"name=\"), r > -1 && (i = a.slice(r + 'name=\"'.length, a.indexOf('\"', r + 'name=\"'.length))), i && (s = a.slice(a.indexOf(\">\") + 1, a.indexOf(\"</Item>\")).trim(), null != l ? n.has(i) ? n.get(i)[l] = s : n.set(i, [s]) : n.set(i, s)), l = null;\n\n  const o = n.get(\"STATISTICS_MINIMUM\"),\n        f = n.get(\"STATISTICS_MAXIMUM\"),\n        c = n.get(\"STATISTICS_MEAN\"),\n        u = n.get(\"STATISTICS_STDDEV\");\n  let h = null;\n\n  if (o && f) {\n    h = [];\n\n    for (let e = 0; e < o.length; e++) h.push({\n      min: parseFloat(o[e]),\n      max: parseFloat(f[e]),\n      avg: c && parseFloat(c[e]),\n      stddev: u && parseFloat(u[e])\n    });\n  }\n\n  const g = n.get(\"BandName\"),\n        w = n.get(\"WavelengthMin\"),\n        p = n.get(\"WavelengthMax\");\n  let d = null;\n\n  if (g) {\n    d = [];\n\n    for (let e = 0; e < g.length; e++) d.push({\n      BandName: g[e],\n      WavelengthMin: w && parseFloat(w[e]),\n      WavelengthMax: p && parseFloat(p[e])\n    });\n  }\n\n  return {\n    statistics: h,\n    bandProperties: d,\n    dataType: n.get(\"DataType\"),\n    rawMetadata: n\n  };\n};\n\nfunction x(e, t, n, a = 0, i = !1, s = 4) {\n  if (n.values) return !0;\n  const r = n.type,\n        l = n.valueCount;\n  let c = n.valueOffset,\n      u = [];\n  const h = o[r],\n        g = 8 * h,\n        w = l * h,\n        p = l * o[r] * 8;\n  let d, I;\n  const T = 8 === s ? 64 : 32,\n        E = n.valueOffsets;\n\n  if (p > T) {\n    if (w > (i ? e.byteLength : e ? e.byteLength - c + a : 0)) return n.offlineOffsetSize = [c, w], n.values = null, !1;\n  }\n\n  if (p <= T) {\n    if (!t) if (T <= 32) c >>>= 32 - p;else {\n      const e = E?.length ? E[0] : c >>> 0,\n            t = E?.length ? E[1] : Math.round((c - e) / f);\n      p <= 32 ? (c = e >>> 32 - p, E[0] = c) : (c = e * 2 ** (32 - p) + (t >>> 32 - p), E[0] = e, E[1] = t >>> 32 - p);\n    }\n    if (1 === l && g === T) u = [c];else if (64 === T) {\n      const e = E?.length ? E[0] : c >>> 0,\n            t = E?.length ? E[1] : Math.round((c - e) / f);\n      let n = e,\n          a = 32;\n\n      for (I = 1; I <= l; I++) {\n        const e = 32 - g * I % 32;\n\n        if (a < g) {\n          const i = n << e >>> 32 - a,\n                s = t << 32 - a >>> 32 - a;\n          n = t, u.push(i + s * 2 ** (g - a)), a -= 32 - (g - a);\n        } else u.push(n << e >>> 32 - g), a -= g;\n\n        0 === a && (a = 32, n = t);\n      }\n    } else for (I = 1; I <= l; I++) {\n      const e = 32 - g * I;\n      u.push(c << e >>> 32 - g);\n    }\n  } else {\n    c -= a, i && (c = 0);\n\n    for (let n = c; n < c + w; n += h) {\n      switch (r) {\n        case 1:\n        case 2:\n        case 7:\n          d = new DataView(e, n, 1).getUint8(0);\n          break;\n\n        case 3:\n          d = new DataView(e, n, 2).getUint16(0, t);\n          break;\n\n        case 4:\n        case 13:\n          d = new DataView(e, n, 4).getUint32(0, t);\n          break;\n\n        case 5:\n          d = new DataView(e, n, 4).getUint32(0, t) / new DataView(e, n + 4, 4).getUint32(0, t);\n          break;\n\n        case 6:\n          d = new DataView(e, n, 1).getInt8(0);\n          break;\n\n        case 8:\n          d = new DataView(e, n, 2).getInt16(0, t);\n          break;\n\n        case 9:\n          d = new DataView(e, n, 4).getInt32(0, t);\n          break;\n\n        case 10:\n          d = new DataView(e, n, 4).getInt32(0, t) / new DataView(e, n + 4, 4).getInt32(0, t);\n          break;\n\n        case 11:\n          d = new DataView(e, n, 4).getFloat32(0, t);\n          break;\n\n        case 12:\n          d = new DataView(e, n, 8).getFloat64(0, t);\n          break;\n\n        case 16:\n        case 18:\n          d = U(new DataView(e, n, 8), 0, t);\n          break;\n\n        case 17:\n          d = L(new DataView(e, n, 8), 0, t);\n          break;\n\n        default:\n          d = null;\n      }\n\n      u.push(d);\n    }\n  }\n\n  if (2 === r) {\n    let e = \"\";\n    const t = u;\n\n    for (u = [], I = 0; I < t.length; I++) 0 === t[I] && \"\" !== e ? (u.push(e), e = \"\") : e += String.fromCharCode(t[I]);\n\n    \"\" === e && 0 !== u.length || u.push(e);\n  }\n\n  return n.values = u, !0;\n}\n\nfunction b(e) {\n  const t = e[0],\n        n = I(t, \"TILEWIDTH\"),\n        a = I(t, \"TILELENGTH\"),\n        i = I(t, \"IMAGEWIDTH\"),\n        s = I(t, \"IMAGELENGTH\"),\n        r = I(t, \"BITSPERSAMPLE\"),\n        l = I(t, \"SAMPLESPERPIXEL\"),\n        o = I(t, \"SAMPLEFORMAT\") ?? 1,\n        f = u(o, r),\n        h = D(t),\n        T = w(t, \"GDAL_NODATA\");\n  let E;\n  T?.length && (E = T.map(e => parseFloat(e)), E.some(e => isNaN(e)) && (E = null));\n  const y = I(t, \"COMPRESSION\") ?? 1;\n  let m;\n\n  switch (y) {\n    case 1:\n      m = \"NONE\";\n      break;\n\n    case 2:\n    case 3:\n    case 4:\n    case 32771:\n      m = \"CCITT\";\n      break;\n\n    case 5:\n      m = \"LZW\";\n      break;\n\n    case 6:\n    case 7:\n      m = \"JPEG\";\n      break;\n\n    case 32773:\n      m = \"PACKBITS\";\n      break;\n\n    case 8:\n    case 32946:\n      m = \"DEFLATE\";\n      break;\n\n    case 34712:\n      m = \"JPEG2000\";\n      break;\n\n    case 34887:\n      m = \"LERC\";\n      break;\n\n    default:\n      m = String(y);\n  }\n\n  let A = !0,\n      S = \"\";\n  c.has(y) || (A = !1, S += \"unsupported tag compression \" + y), o > 3 && (A = !1, S += \"unsupported tag sampleFormat \" + o), r % 8 != 0 && (A = !1, S += \"unsupported tag bitsPerSample \" + r);\n  const x = d(t, \"GEOASCIIPARAMS\");\n  let b;\n\n  if (x) {\n    const e = x.split(\"|\").find(e => e.includes(\"ESRI PE String = \")),\n          t = e ? e.replace(\"ESRI PE String = \", \"\") : \"\";\n    b = t.startsWith(\"COMPD_CS\") || t.startsWith(\"PROJCS\") || t.startsWith(\"GEOGCS\") ? {\n      wkid: null,\n      wkt: t\n    } : null;\n  }\n\n  const O = p(t, \"GEOTIEPOINTS\"),\n        U = p(t, \"GEOPIXELSCALE\"),\n        L = p(t, \"GEOTRANSMATRIX\"),\n        P = t.has(\"GEOKEYDIRECTORY\") ? t.get(\"GEOKEYDIRECTORY\").data : null;\n  let N,\n      k,\n      R = !1;\n\n  if (P) {\n    R = 2 === I(P, \"GTRasterTypeGeoKey\");\n    const e = I(P, \"GTModelTypeGeoKey\");\n\n    if (2 === e) {\n      const e = I(P, \"GeographicTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (b = {\n        wkid: e\n      });\n    } else if (1 === e) {\n      const e = I(P, \"ProjectedCSTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (b = {\n        wkid: e\n      });\n    }\n  }\n\n  if (U && O && O.length >= 6 ? (N = [U[0], 0, O[3] - O[0] * U[0], 0, -Math.abs(U[1]), O[4] - O[1] * U[1]], R && (N[2] -= .5 * N[0] + .5 * N[1], N[5] -= .5 * N[3] + .5 * N[4])) : L && 16 === L.length && (N = R ? [L[0], L[1], L[3] - .5 * L[0], L[4], L[5], L[7] - .5 * L[5]] : [L[0], L[1], L[3], L[4], L[5], L[7]]), N) {\n    const e = [{\n      x: 0,\n      y: s\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: i,\n      y: s\n    }, {\n      x: i,\n      y: 0\n    }];\n    let t,\n        n = Number.POSITIVE_INFINITY,\n        a = Number.POSITIVE_INFINITY,\n        r = Number.NEGATIVE_INFINITY,\n        l = Number.NEGATIVE_INFINITY;\n\n    for (let i = 0; i < e.length; i++) t = g(e[i], N), n = t.x > n ? n : t.x, r = t.x < r ? r : t.x, a = t.y > a ? a : t.y, l = t.y < l ? l : t.y;\n\n    k = {\n      xmin: n,\n      xmax: r,\n      ymin: a,\n      ymax: l,\n      spatialReference: b\n    };\n  } else k = {\n    xmin: -.5,\n    ymin: .5 - s,\n    xmax: i - .5,\n    ymax: .5,\n    spatialReference: b\n  };\n\n  const C = e.filter(e => 1 === d(e, \"NEWSUBFILETYPE\"));\n  let v, F, B, V, W;\n\n  if (C.length > 0) {\n    v = Math.round(Math.log(i / I(C[0], \"IMAGEWIDTH\")) / Math.LN2);\n    const e = C[C.length - 1];\n    F = Math.round(Math.log(i / I(e, \"IMAGEWIDTH\")) / Math.LN2), B = I(e, \"TILEWIDTH\"), V = I(e, \"TILELENGTH\");\n  }\n\n  B = F > 0 ? B || n : null, V = F > 0 ? V || a : null, n && (W = [{\n    maxCol: Math.ceil(i / n) - 1,\n    maxRow: Math.ceil(s / a) - 1,\n    minRow: 0,\n    minCol: 0\n  }], C.forEach(e => {\n    W.push({\n      maxCol: Math.ceil(I(e, \"IMAGEWIDTH\") / I(e, \"TILEWIDTH\")) - 1,\n      maxRow: Math.ceil(I(e, \"IMAGELENGTH\") / I(e, \"TILELENGTH\")) - 1,\n      minRow: 0,\n      minCol: 0\n    });\n  }));\n  const H = d(e[0], \"GDAL_METADATA\"),\n        Y = M(H);\n  return S += \" \" + G({\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    ifds: e\n  }), {\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    isBSQ: h,\n    pixelType: f,\n    compression: m,\n    noData: E,\n    isSupported: A,\n    message: S,\n    extent: k,\n    affine: U ? null : N,\n    firstPyramidLevel: v,\n    maximumPyramidLevel: F,\n    pyramidBlockWidth: B,\n    pyramidBlockHeight: V,\n    tileBoundary: W,\n    metadata: Y\n  };\n}\n\nfunction D(e, t) {\n  const n = w(e, \"PLANARCONFIGURATION\");\n  return n ? 2 === n[0] : !!t && t.isBSQ;\n}\n\nfunction O(e) {\n  const {\n    littleEndian: t,\n    isBigTiff: n,\n    firstIFD: a\n  } = N(e);\n  let i = a;\n  const r = [];\n\n  do {\n    const a = k(e, t, i, 0, s.TIFF_TAGS, n ? 8 : 4);\n    if (!a.success) break;\n    r.push(a.ifd), i = a.nextIFD;\n  } while (i > 0);\n\n  return { ...b(r),\n    littleEndian: t,\n    isBigTiff: n,\n    ifds: r\n  };\n}\n\nfunction U(e, t, n) {\n  const a = e.getUint32(t, n),\n        i = e.getUint32(t + 4, n);\n  return n ? i * f + a : a * f + i;\n}\n\nfunction L(e, t, n) {\n  let a = n ? e.getInt32(t, n) : e.getUint32(t, n),\n      i = n ? e.getUint32(t + 4, n) : e.getInt32(t + 4, n);\n  const s = (n ? a : i) >= 0 ? 1 : -1;\n  n ? a *= s : i *= s;\n  return s * (n ? i * f + a : a * f + i);\n}\n\nfunction P(e, t, n, a) {\n  return a ? U(e, t, n) : e.getUint32(t, n);\n}\n\nfunction N(e) {\n  const t = new DataView(e, 0, 16),\n        n = t.getUint16(0, !1);\n  let a = null;\n  if (18761 === n) a = !0;else {\n    if (19789 !== n) throw \"unexpected endianess byte\";\n    a = !1;\n  }\n  const i = t.getUint16(2, a);\n  if (42 !== i && 43 !== i) throw \"unexpected tiff identifier\";\n  let s = 4;\n  const r = 43 === i;\n\n  if (r) {\n    const e = t.getUint16(s, a);\n    if (s += 2, 8 !== e) throw \"unsupported bigtiff version\";\n    if (0 !== t.getUint16(s, a)) throw \"unsupported bigtiff version\";\n    s += 2;\n  }\n\n  return {\n    littleEndian: a,\n    isBigTiff: r,\n    firstIFD: P(t, s, a, r)\n  };\n}\n\nfunction k(t, n, a, i = 0, r = s.TIFF_TAGS, l = 4) {\n  const o = T(t, n, a, i, r, l);\n  let f;\n  const c = o.ifd;\n\n  if (c) {\n    if (s.ifdTags.forEach((e, a) => {\n      c.has(a) && (f = c.get(a), f.data = T(t, n, f.valueOffset - i, i, e).ifd);\n    }), c.has(\"GEOKEYDIRECTORY\")) {\n      f = c.get(\"GEOKEYDIRECTORY\");\n      const e = f.values;\n\n      if (e && e.length > 4) {\n        const a = e[0] + \".\" + e[1] + \".\" + e[2];\n        f.data = T(t, n, f.valueOffset + 6 - i, i, s.GEO_KEYS, 2).ifd, f.data && f.data.set(\"GEOTIFFVersion\", {\n          id: 0,\n          type: 2,\n          valueCount: 1,\n          valueOffset: null,\n          values: [a]\n        });\n      }\n    }\n\n    if (c.has(\"XMP\")) {\n      f = c.get(\"XMP\");\n      const t = f.values;\n      \"number\" == typeof t[0] && 7 === f.type && (f.values = [e(new Uint8Array(t))]);\n    }\n  }\n\n  return o;\n}\n\nfunction G(e) {\n  const {\n    width: t,\n    height: n,\n    tileHeight: a,\n    tileWidth: i\n  } = e,\n        s = e.planes,\n        r = i ? i * a : t * n,\n        l = I(e.ifds[0], \"BITSPERSAMPLE\");\n  let o = \"\";\n  return r * s > 2 ** 30 / (l > 8 ? l / 8 : 1) && (o = i ? \"tiled tiff exceeding 1 gigabits per tile is not supported\" : \"scanline tiff exceeding 1 gigabits is not supported\"), o;\n}\n\nasync function R(e, t) {\n  const {\n    headerInfo: n,\n    ifd: a,\n    offsets: i,\n    sizes: s\n  } = t,\n        r = [];\n\n  for (let h = 0; h < i.length; h++) {\n    const t = await y(e, n.littleEndian, a, i[h], s[h] || e.byteLength);\n    r.push(t);\n  }\n\n  const l = D(a, n),\n        {\n    pixelType: o,\n    planes: f\n  } = n,\n        c = h(o),\n        u = I(a, \"TILEWIDTH\"),\n        g = I(a, \"TILELENGTH\"),\n        w = I(a, \"COMPRESSION\") ?? 1,\n        p = u * g;\n  let d;\n  const T = [];\n  let E = r[0];\n  const m = 34887 === w;\n\n  for (let h = 0; h < f; h++) {\n    if (d = new c(p), l && m) {\n      if (E = r[h], E.length) for (let e = 0; e < p; e++) d[e] = E[h][e + h];\n    } else if (E.length) if (l || m && !l) d = E.slice(p * h, p * (h + 1));else for (let e = 0; e < p; e++) d[e] = E[e * f + h];\n\n    T.push(d);\n  }\n\n  const A = n.noData ? n.noData[0] : t.noDataValue,\n        M = n.metadata ? n.metadata.statistics : null,\n        x = M ? M.map(e => e.min) : null,\n        b = M ? M.map(e => e.max) : null;\n  let O, U;\n  if (null != A) {\n    if (O = new Uint8Array(p), Math.abs(A) > 1e24) for (U = 0; U < p; U++) Math.abs((T[0][U] - A) / A) < 1e-6 ? O[U] = 0 : O[U] = 1;else for (U = 0; U < p; U++) T[0][U] === A ? O[U] = 0 : O[U] = 1;\n  } else x && b && t.applyMinMaxConstraint && (O = S(T, x, b));\n  return {\n    pixelType: o,\n    width: u,\n    height: g,\n    pixels: T,\n    mask: O,\n    noDataValue: A\n  };\n}\n\nasync function C(e, t = {}) {\n  const n = t.pyramidLevel || 0,\n        a = t.headerInfo || O(e),\n        {\n    ifds: i,\n    noData: s\n  } = a;\n  if (0 === i.length) throw \"no valid image file directory\";\n  const r = G(a);\n  if (r) throw r;\n  let l, o;\n  const f = -1 === n ? i[i.length - 1] : i[n],\n        c = s ? s[0] : t.noDataValue;\n\n  if (o = a.tileWidth ? await m(e, a, f) : await A(e, a, f), null !== c) {\n    if (o.mask = new Uint8Array(o.width * o.height), Math.abs(c) > 1e24) for (l = 0; l < o.width * o.height; l++) Math.abs((o.pixels[0][l] - c) / c) < 1e-6 ? o.mask[l] = 0 : o.mask[l] = 1;else for (l = 0; l < o.width * o.height; l++) o.pixels[0][l] === c ? o.mask[l] = 0 : o.mask[l] = 1;\n    o.noDataValue = c;\n  }\n\n  return o;\n}\n\nexport { C as decode, R as decodeTileOrStrip, b as getImageInfo, D as isBSQConfig, x as parseFieldValues, O as parseHeader, k as parseIFD, N as parseSignature };","map":{"version":3,"names":["bytesToUTF8","e","J","t","load","n","decode","a","i","s","isPlatformLittleEndian","r","Z","l","o","f","c","Set","u","h","toLowerCase","Uint8Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","g","x","y","w","get","values","p","d","I","T","TIFF_TAGS","U","DataView","getUint16","byteLength","success","ifd","nextIFD","requiredBufferSize","P","Map","E","m","A","getTagName","getUint32","push","id","type","valueCount","valueOffset","valueOffsets","set","inputOffset","pixels","S","M","slice","getBytes","ArrayBuffer","length","parse","getData","width","height","buffer","pixelType","tileWidth","tileHeight","b","D","planes","O","L","N","k","G","R","C","Math","ceil","round","floor","littleEndian","min","console","log","match","indexOf","trim","has","parseFloat","max","avg","stddev","BandName","WavelengthMin","WavelengthMax","statistics","bandProperties","dataType","rawMetadata","offlineOffsetSize","getUint8","getInt8","getInt16","getInt32","getFloat32","getFloat64","String","fromCharCode","map","some","isNaN","split","find","includes","replace","startsWith","wkid","wkt","data","abs","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","xmin","xmax","ymin","ymax","spatialReference","filter","v","F","B","V","W","LN2","maxCol","maxRow","minRow","minCol","forEach","H","Y","ifds","isBSQ","compression","noData","isSupported","message","extent","affine","firstPyramidLevel","maximumPyramidLevel","pyramidBlockWidth","pyramidBlockHeight","tileBoundary","metadata","isBigTiff","firstIFD","ifdTags","GEO_KEYS","headerInfo","offsets","sizes","noDataValue","applyMinMaxConstraint","mask","pyramidLevel","decodeTileOrStrip","getImageInfo","isBSQConfig","parseFieldValues","parseHeader","parseIFD","parseSignature"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"../rasterDatasets/byteStreamUtils.js\";import{J as t}from\"../../../chunks/Jpg.js\";import{load as n,decode as a}from\"./Lerc.js\";import{decode as i}from\"./Lzw.js\";import s from\"./TiffTags.js\";import{isPlatformLittleEndian as r}from\"./utils.js\";import{Z as l}from\"../../../chunks/Zlib.js\";const o=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],f=4294967296,c=new Set([1,5,6,7,8,34712,34887]);function u(e,t){let n=\"unknown\";return 3===e?n=\"f32\":1===e?1===t?n=\"u1\":2===t?n=\"u2\":4===t?n=\"u4\":t<=8?n=\"u8\":t<=16?n=\"u16\":t<=32&&(n=\"u32\"):2===e&&(t<=8?n=\"s8\":t<=16?n=\"s16\":t<=32&&(n=\"s32\")),n}function h(e){let t=null;switch(e?e.toLowerCase():\"f32\"){case\"u1\":case\"u2\":case\"u4\":case\"u8\":t=Uint8Array;break;case\"u16\":t=Uint16Array;break;case\"u32\":t=Uint32Array;break;case\"s8\":t=Int8Array;break;case\"s16\":t=Int16Array;break;case\"s32\":t=Int32Array;break;default:t=Float32Array}return t}function g(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function w(e,t){return e.get(t)?.values}function p(e,t){return e.get(t)?.values}function d(e,t){return e.get(t)?.values[0]}function I(e,t){return e.get(t)?.values[0]}function T(e,t,n,a=0,i=s.TIFF_TAGS,r=4){const l=8===r,o=l?U(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),f=4+2*r,c=l?8:2,u=c+o*f;if(n+u>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:u};const h=n+u+4<=e.byteLength?P(new DataView(e,n+u,8===r?8:4),0,t,8===r):null,g=n+c,w=new Map;let p,d,I,T,E,y,m;for(let A=0;A<o;A++){d=new DataView(e,g+f*A,f),I=d.getUint16(0,t),E=d.getUint16(2,t),T=s.getTagName(I,i);const n=[];2===r?(y=d.getUint16(4,t),m=d.getUint16(6,t)):4===r?(y=d.getUint32(4,t),m=d.getUint32(8,t)):8===r&&(y=P(d,4,t,!0),m=P(d,12,t,!0),n.push(d.getUint32(12,t)),n.push(d.getUint32(16,t))),p={id:I,type:E,valueCount:y,valueOffset:m,valueOffsets:n,values:null},x(e,t,p,a,!1,r),w.set(T,p)}return{success:!0,ifd:w,nextIFD:h,requiredBufferSize:u}}const E=(e,t)=>a(e,{inputOffset:t}).pixels[0];async function y(e,a,s,o,f){const c=r===a,g=I(s,\"BITSPERSAMPLE\"),w=u(I(s,\"SAMPLEFORMAT\")??1,g),p=I(s,\"COMPRESSION\")??1,d=h(w);let T,y,m,A,S,M,x;if(34887===p)return await n(),E(e,o);if(1===p)m=e.slice(o,o+f),A=new Uint8Array(m);else if(8===p||32946===p)A=new Uint8Array(e,o,f),M=new l(A),x=M.getBytes(),m=new ArrayBuffer(x.length),A=new Uint8Array(m),A.set(x);else if(6===p){A=new Uint8Array(e,o,f);const n=new t;n.parse(A);const a=n.getData(n.width,n.height,!0);m=new ArrayBuffer(a.length),A=new Uint8Array(m),A.set(a)}else if(7===p){const n=s.get(\"JPEGTABLES\").values,a=n.length-2;A=new Uint8Array(a+f-2);for(let e=0;e<a;e++)A[e]=n[e];const i=new Uint8Array(e,o+2,f-2);for(let e=0;e<i.length;e++)A[a+e]=i[e];const r=new t;r.parse(A);const l=r.getData(r.width,r.height,!0);m=new ArrayBuffer(l.length),A=new Uint8Array(m),A.set(l)}else 5===p&&(A=i(e,o,f,a),m=A.buffer);if(\"u8\"===w||\"s8\"===w||c)y=new d(m);else{switch(m=new ArrayBuffer(A.length),S=new Uint8Array(m),w){case\"u16\":case\"s16\":for(T=0;T<A.length;T+=2)S[T]=A[T+1],S[T+1]=A[T];break;case\"u32\":case\"s32\":case\"f32\":for(T=0;T<A.length;T+=4)S[T]=A[T+3],S[T+1]=A[T+2],S[T+2]=A[T+1],S[T+3]=A[T]}y=new d(m)}return y}async function m(e,t,n){const a=p(n,\"TILEOFFSETS\");if(void 0===a)return null;const i=p(n,\"TILEBYTECOUNTS\"),{width:s,height:r,pixelType:l,tileWidth:o,tileHeight:f}=b([n]),c=D(n,t),u=t.planes,g=s*r,w=I(n,\"BITSPERSAMPLE\"),d=34887===(I(n,\"COMPRESSION\")??1),T=h(l),E=[];for(let h=0;h<u;h++)E.push(new T(g));let m,A,S,M,x,O,U,L,P,N,k,G,R;const C=Math.ceil(s/o);if(w%8==0)if(d&&c&&u>1){const l=Math.round(a.length/u);for(m=0;m<l;m++){O=Math.floor(m/C)*f,U=m%C*o,L=O*s+U;for(let l=0;l<u;l++){const c=m*u+l;if(0!==i[c])for(S=await y(e,t.littleEndian,n,a[c],i[c]),N=0,P=L,G=Math.min(o,s-U),k=Math.min(f,r-O),R=E[l],M=0;M<k;M++)for(P=L+M*s,N=M*o,x=0;x<G;x++,P++,N++)R[P]=S[N]}}}else for(m=0;m<a.length;m++)if(0!==i[m])for(O=Math.floor(m/C)*f,U=m%C*o,L=O*s+U,S=await y(e,t.littleEndian,n,a[m],i[m]),N=0,P=L,G=Math.min(o,s-U),k=Math.min(f,r-O),A=0;A<u;A++)if(R=E[A],c||d)for(M=0;M<k;M++)for(P=L+M*s,N=o*f*A+M*o,x=0;x<G;x++,P++,N++)R[P]=S[N];else for(M=0;M<k;M++)for(P=L+M*s,N=M*o*u+A,x=0;x<G;x++,P++,N+=u)R[P]=S[N];return{width:s,height:r,pixelType:l,pixels:E}}const A=(e,n,a)=>{const s=r===n.littleEndian,o=p(a,\"STRIPOFFSETS\");if(void 0===o)return null;const{width:f,height:c,pixelType:u}=b([a]),g=n.planes,w=f*c,d=I(a,\"BITSPERSAMPLE\"),T=h(u),E=new T(w*g),y=p(a,\"STRIPBYTECOUNTS\"),m=I(a,\"ROWSPERSTRIP\"),A=I(a,\"COMPRESSION\")??1;let S,M,x,D,O,U,L,P,N,k,G,R=m;if(d%8==0)for(S=0;S<o.length;S++){if(O=S*(m*f)*g,R=(S+1)*m>c?c-S*m:m,\"u8\"===u||\"s8\"===u||s){if(8===A||32946===A)L=new Uint8Array(e,o[S],y[S]),k=new l(L),G=k.getBytes(),U=new ArrayBuffer(G.length),L=new Uint8Array(U),L.set(G),L.length!==R*f*g*d/8&&console.log(\"strip byte counts is different than expected\");else if(6===A){L=new Uint8Array(e,o[S],y[S]);const n=new t;n.parse(L);const a=n.getData(n.width,n.height,!0);U=new ArrayBuffer(a.length),L=new Uint8Array(U),L.set(a)}else 5===A?(L=i(e,o[S],y[S],n.littleEndian),U=L.buffer):1===A&&(y[S]!==R*f*g*d/8&&console.log(\"strip byte counts is different than expected\"),U=e.slice(o[S],o[S]+y[S]));D=new T(U)}else{switch(6===A||8===A||32946===A?(L=new Uint8Array(e,o[S],y[S]),k=new l(L),L=k.getBytes(),U=new ArrayBuffer(L.length),P=new Uint8Array(U),L.length!==R*f*g*d/8&&console.log(\"strip byte counts is different than expected\")):1===A&&(y[S]!==R*f*g*d/8&&console.log(\"strip byte counts is different than expected\"),U=new ArrayBuffer(y[S]),L=new Uint8Array(e,o[S],y[S]),P=new Uint8Array(U)),u){case\"u16\":case\"s16\":for(x=0;x<L.length;x+=2)P[x]=L[x+1],P[x+1]=L[x];break;case\"u32\":case\"s32\":case\"f32\":for(x=0;x<L.length;x+=4)P[x]=L[x+3],P[x+1]=L[x+2],P[x+2]=L[x+1],P[x+3]=L[x]}D=new T(U)}E.set(D,O)}const C=[];if(1===g)C.push(E);else for(S=0;S<g;S++){for(N=new T(w),M=0;M<w;M++)N[M]=E[M*g+S];C.push(N)}return{width:f,height:c,pixelType:u,pixels:C}},S=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let a,i,s;const r=e[0].length,l=e.length,o=new Uint8Array(r);for(let f=0;f<l;f++)if(a=e[f],i=t[f],s=n[f],0===f)for(let e=0;e<r;e++)o[e]=a[e]<i||a[e]>s?0:1;else for(let e=0;e<r;e++)o[e]&&(o[e]=a[e]<i||a[e]>s?0:1);return o},M=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let a,i,s,r,l;for(let I=0;I<t.length;I++)a=t[I],i=a.slice(\"<Item \".length,a.indexOf(\">\")),r=a.indexOf(\"sample=\"),r>-1&&(l=a.slice(r+'sample=\"'.length,a.indexOf('\"',r+'sample=\"'.length))),r=a.indexOf(\"name=\"),r>-1&&(i=a.slice(r+'name=\"'.length,a.indexOf('\"',r+'name=\"'.length))),i&&(s=a.slice(a.indexOf(\">\")+1,a.indexOf(\"</Item>\")).trim(),null!=l?n.has(i)?n.get(i)[l]=s:n.set(i,[s]):n.set(i,s)),l=null;const o=n.get(\"STATISTICS_MINIMUM\"),f=n.get(\"STATISTICS_MAXIMUM\"),c=n.get(\"STATISTICS_MEAN\"),u=n.get(\"STATISTICS_STDDEV\");let h=null;if(o&&f){h=[];for(let e=0;e<o.length;e++)h.push({min:parseFloat(o[e]),max:parseFloat(f[e]),avg:c&&parseFloat(c[e]),stddev:u&&parseFloat(u[e])})}const g=n.get(\"BandName\"),w=n.get(\"WavelengthMin\"),p=n.get(\"WavelengthMax\");let d=null;if(g){d=[];for(let e=0;e<g.length;e++)d.push({BandName:g[e],WavelengthMin:w&&parseFloat(w[e]),WavelengthMax:p&&parseFloat(p[e])})}return{statistics:h,bandProperties:d,dataType:n.get(\"DataType\"),rawMetadata:n}};function x(e,t,n,a=0,i=!1,s=4){if(n.values)return!0;const r=n.type,l=n.valueCount;let c=n.valueOffset,u=[];const h=o[r],g=8*h,w=l*h,p=l*o[r]*8;let d,I;const T=8===s?64:32,E=n.valueOffsets;if(p>T){if(w>(i?e.byteLength:e?e.byteLength-c+a:0))return n.offlineOffsetSize=[c,w],n.values=null,!1}if(p<=T){if(!t)if(T<=32)c>>>=32-p;else{const e=E?.length?E[0]:c>>>0,t=E?.length?E[1]:Math.round((c-e)/f);p<=32?(c=e>>>32-p,E[0]=c):(c=e*2**(32-p)+(t>>>32-p),E[0]=e,E[1]=t>>>32-p)}if(1===l&&g===T)u=[c];else if(64===T){const e=E?.length?E[0]:c>>>0,t=E?.length?E[1]:Math.round((c-e)/f);let n=e,a=32;for(I=1;I<=l;I++){const e=32-g*I%32;if(a<g){const i=n<<e>>>32-a,s=t<<32-a>>>32-a;n=t,u.push(i+s*2**(g-a)),a-=32-(g-a)}else u.push(n<<e>>>32-g),a-=g;0===a&&(a=32,n=t)}}else for(I=1;I<=l;I++){const e=32-g*I;u.push(c<<e>>>32-g)}}else{c-=a,i&&(c=0);for(let n=c;n<c+w;n+=h){switch(r){case 1:case 2:case 7:d=new DataView(e,n,1).getUint8(0);break;case 3:d=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:d=new DataView(e,n,4).getUint32(0,t);break;case 5:d=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:d=new DataView(e,n,1).getInt8(0);break;case 8:d=new DataView(e,n,2).getInt16(0,t);break;case 9:d=new DataView(e,n,4).getInt32(0,t);break;case 10:d=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:d=new DataView(e,n,4).getFloat32(0,t);break;case 12:d=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:d=U(new DataView(e,n,8),0,t);break;case 17:d=L(new DataView(e,n,8),0,t);break;default:d=null}u.push(d)}}if(2===r){let e=\"\";const t=u;for(u=[],I=0;I<t.length;I++)0===t[I]&&\"\"!==e?(u.push(e),e=\"\"):e+=String.fromCharCode(t[I]);\"\"===e&&0!==u.length||u.push(e)}return n.values=u,!0}function b(e){const t=e[0],n=I(t,\"TILEWIDTH\"),a=I(t,\"TILELENGTH\"),i=I(t,\"IMAGEWIDTH\"),s=I(t,\"IMAGELENGTH\"),r=I(t,\"BITSPERSAMPLE\"),l=I(t,\"SAMPLESPERPIXEL\"),o=I(t,\"SAMPLEFORMAT\")??1,f=u(o,r),h=D(t),T=w(t,\"GDAL_NODATA\");let E;T?.length&&(E=T.map((e=>parseFloat(e))),E.some((e=>isNaN(e)))&&(E=null));const y=I(t,\"COMPRESSION\")??1;let m;switch(y){case 1:m=\"NONE\";break;case 2:case 3:case 4:case 32771:m=\"CCITT\";break;case 5:m=\"LZW\";break;case 6:case 7:m=\"JPEG\";break;case 32773:m=\"PACKBITS\";break;case 8:case 32946:m=\"DEFLATE\";break;case 34712:m=\"JPEG2000\";break;case 34887:m=\"LERC\";break;default:m=String(y)}let A=!0,S=\"\";c.has(y)||(A=!1,S+=\"unsupported tag compression \"+y),o>3&&(A=!1,S+=\"unsupported tag sampleFormat \"+o),r%8!=0&&(A=!1,S+=\"unsupported tag bitsPerSample \"+r);const x=d(t,\"GEOASCIIPARAMS\");let b;if(x){const e=x.split(\"|\").find((e=>e.includes(\"ESRI PE String = \"))),t=e?e.replace(\"ESRI PE String = \",\"\"):\"\";b=t.startsWith(\"COMPD_CS\")||t.startsWith(\"PROJCS\")||t.startsWith(\"GEOGCS\")?{wkid:null,wkt:t}:null}const O=p(t,\"GEOTIEPOINTS\"),U=p(t,\"GEOPIXELSCALE\"),L=p(t,\"GEOTRANSMATRIX\"),P=t.has(\"GEOKEYDIRECTORY\")?t.get(\"GEOKEYDIRECTORY\").data:null;let N,k,R=!1;if(P){R=2===I(P,\"GTRasterTypeGeoKey\");const e=I(P,\"GTModelTypeGeoKey\");if(2===e){const e=I(P,\"GeographicTypeGeoKey\");e>=1024&&e<=32766&&(b={wkid:e})}else if(1===e){const e=I(P,\"ProjectedCSTypeGeoKey\");e>=1024&&e<=32766&&(b={wkid:e})}}if(U&&O&&O.length>=6?(N=[U[0],0,O[3]-O[0]*U[0],0,-Math.abs(U[1]),O[4]-O[1]*U[1]],R&&(N[2]-=.5*N[0]+.5*N[1],N[5]-=.5*N[3]+.5*N[4])):L&&16===L.length&&(N=R?[L[0],L[1],L[3]-.5*L[0],L[4],L[5],L[7]-.5*L[5]]:[L[0],L[1],L[3],L[4],L[5],L[7]]),N){const e=[{x:0,y:s},{x:0,y:0},{x:i,y:s},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=g(e[i],N),n=t.x>n?n:t.x,r=t.x<r?r:t.x,a=t.y>a?a:t.y,l=t.y<l?l:t.y;k={xmin:n,xmax:r,ymin:a,ymax:l,spatialReference:b}}else k={xmin:-.5,ymin:.5-s,xmax:i-.5,ymax:.5,spatialReference:b};const C=e.filter((e=>1===d(e,\"NEWSUBFILETYPE\")));let v,F,B,V,W;if(C.length>0){v=Math.round(Math.log(i/I(C[0],\"IMAGEWIDTH\"))/Math.LN2);const e=C[C.length-1];F=Math.round(Math.log(i/I(e,\"IMAGEWIDTH\"))/Math.LN2),B=I(e,\"TILEWIDTH\"),V=I(e,\"TILELENGTH\")}B=F>0?B||n:null,V=F>0?V||a:null,n&&(W=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(s/a)-1,minRow:0,minCol:0}],C.forEach((e=>{W.push({maxCol:Math.ceil(I(e,\"IMAGEWIDTH\")/I(e,\"TILEWIDTH\"))-1,maxRow:Math.ceil(I(e,\"IMAGELENGTH\")/I(e,\"TILELENGTH\"))-1,minRow:0,minCol:0})})));const H=d(e[0],\"GDAL_METADATA\"),Y=M(H);return S+=\" \"+G({width:i,height:s,tileWidth:n,tileHeight:a,planes:l,ifds:e}),{width:i,height:s,tileWidth:n,tileHeight:a,planes:l,isBSQ:h,pixelType:f,compression:m,noData:E,isSupported:A,message:S,extent:k,affine:U?null:N,firstPyramidLevel:v,maximumPyramidLevel:F,pyramidBlockWidth:B,pyramidBlockHeight:V,tileBoundary:W,metadata:Y}}function D(e,t){const n=w(e,\"PLANARCONFIGURATION\");return n?2===n[0]:!!t&&t.isBSQ}function O(e){const{littleEndian:t,isBigTiff:n,firstIFD:a}=N(e);let i=a;const r=[];do{const a=k(e,t,i,0,s.TIFF_TAGS,n?8:4);if(!a.success)break;r.push(a.ifd),i=a.nextIFD}while(i>0);return{...b(r),littleEndian:t,isBigTiff:n,ifds:r}}function U(e,t,n){const a=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*f+a:a*f+i}function L(e,t,n){let a=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const s=(n?a:i)>=0?1:-1;n?a*=s:i*=s;return s*(n?i*f+a:a*f+i)}function P(e,t,n,a){return a?U(e,t,n):e.getUint32(t,n)}function N(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let a=null;if(18761===n)a=!0;else{if(19789!==n)throw\"unexpected endianess byte\";a=!1}const i=t.getUint16(2,a);if(42!==i&&43!==i)throw\"unexpected tiff identifier\";let s=4;const r=43===i;if(r){const e=t.getUint16(s,a);if(s+=2,8!==e)throw\"unsupported bigtiff version\";if(0!==t.getUint16(s,a))throw\"unsupported bigtiff version\";s+=2}return{littleEndian:a,isBigTiff:r,firstIFD:P(t,s,a,r)}}function k(t,n,a,i=0,r=s.TIFF_TAGS,l=4){const o=T(t,n,a,i,r,l);let f;const c=o.ifd;if(c){if(s.ifdTags.forEach(((e,a)=>{c.has(a)&&(f=c.get(a),f.data=T(t,n,f.valueOffset-i,i,e).ifd)})),c.has(\"GEOKEYDIRECTORY\")){f=c.get(\"GEOKEYDIRECTORY\");const e=f.values;if(e&&e.length>4){const a=e[0]+\".\"+e[1]+\".\"+e[2];f.data=T(t,n,f.valueOffset+6-i,i,s.GEO_KEYS,2).ifd,f.data&&f.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}if(c.has(\"XMP\")){f=c.get(\"XMP\");const t=f.values;\"number\"==typeof t[0]&&7===f.type&&(f.values=[e(new Uint8Array(t))])}}return o}function G(e){const{width:t,height:n,tileHeight:a,tileWidth:i}=e,s=e.planes,r=i?i*a:t*n,l=I(e.ifds[0],\"BITSPERSAMPLE\");let o=\"\";return r*s>2**30/(l>8?l/8:1)&&(o=i?\"tiled tiff exceeding 1 gigabits per tile is not supported\":\"scanline tiff exceeding 1 gigabits is not supported\"),o}async function R(e,t){const{headerInfo:n,ifd:a,offsets:i,sizes:s}=t,r=[];for(let h=0;h<i.length;h++){const t=await y(e,n.littleEndian,a,i[h],s[h]||e.byteLength);r.push(t)}const l=D(a,n),{pixelType:o,planes:f}=n,c=h(o),u=I(a,\"TILEWIDTH\"),g=I(a,\"TILELENGTH\"),w=I(a,\"COMPRESSION\")??1,p=u*g;let d;const T=[];let E=r[0];const m=34887===w;for(let h=0;h<f;h++){if(d=new c(p),l&&m){if(E=r[h],E.length)for(let e=0;e<p;e++)d[e]=E[h][e+h]}else if(E.length)if(l||m&&!l)d=E.slice(p*h,p*(h+1));else for(let e=0;e<p;e++)d[e]=E[e*f+h];T.push(d)}const A=n.noData?n.noData[0]:t.noDataValue,M=n.metadata?n.metadata.statistics:null,x=M?M.map((e=>e.min)):null,b=M?M.map((e=>e.max)):null;let O,U;if(null!=A)if(O=new Uint8Array(p),Math.abs(A)>1e24)for(U=0;U<p;U++)Math.abs((T[0][U]-A)/A)<1e-6?O[U]=0:O[U]=1;else for(U=0;U<p;U++)T[0][U]===A?O[U]=0:O[U]=1;else x&&b&&t.applyMinMaxConstraint&&(O=S(T,x,b));return{pixelType:o,width:u,height:g,pixels:T,mask:O,noDataValue:A}}async function C(e,t={}){const n=t.pyramidLevel||0,a=t.headerInfo||O(e),{ifds:i,noData:s}=a;if(0===i.length)throw\"no valid image file directory\";const r=G(a);if(r)throw r;let l,o;const f=-1===n?i[i.length-1]:i[n],c=s?s[0]:t.noDataValue;if(o=a.tileWidth?await m(e,a,f):await A(e,a,f),null!==c){if(o.mask=new Uint8Array(o.width*o.height),Math.abs(c)>1e24)for(l=0;l<o.width*o.height;l++)Math.abs((o.pixels[0][l]-c)/c)<1e-6?o.mask[l]=0:o.mask[l]=1;else for(l=0;l<o.width*o.height;l++)o.pixels[0][l]===c?o.mask[l]=0:o.mask[l]=1;o.noDataValue=c}return o}export{C as decode,R as decodeTileOrStrip,b as getImageInfo,D as isBSQConfig,x as parseFieldValues,O as parseHeader,k as parseIFD,N as parseSignature};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}