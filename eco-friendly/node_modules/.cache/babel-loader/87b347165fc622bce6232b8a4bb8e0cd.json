{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ViewingMode as e } from \"../../../ViewingMode.js\";\nimport { a as i } from \"../../../../chunks/Terrain.glsl.js\";\nimport { ReloadableShaderModule as r } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { StencilBits as n } from \"../lib/basicInterfaces.js\";\nimport { Default3D as l } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as s } from \"../lib/Program.js\";\nimport { renderWhenBitIsNotSet as o } from \"../lib/StencilUtils.js\";\nimport { BlendFactor as a, CompareFunction as c } from \"../../../webgl/enums.js\";\nimport { makePipelineState as d, simpleBlendingParams as u, backFaceCullingParams as p, defaultDepthWriteParams as m, defaultColorWriteParams as h } from \"../../../webgl/renderState.js\";\n\nclass g extends t {\n  constructor() {\n    super(...arguments), this.useStencil = !1;\n  }\n\n  initializeConfiguration(i, r) {\n    r.spherical = i.viewingMode === e.Global;\n  }\n\n  initializeProgram(e) {\n    const i = g.shader.get().build(this.configuration);\n    return new s(e.rctx, i, l);\n  }\n\n  initializePipeline() {\n    return this._stencilPipelineState = this._createPipeline(!0), this._createPipeline(!1);\n  }\n\n  _createPipeline(e) {\n    const i = this.configuration,\n          r = i.backfaceCullingEnabled && !i.renderOccluded;\n    return d({\n      blending: i.renderOccluded ? u(a.ONE, a.ONE_MINUS_SRC_ALPHA) : null,\n      culling: r && p,\n      depthTest: !i.renderOccluded && {\n        func: c.LESS\n      },\n      depthWrite: !i.renderOccluded && m,\n      colorWrite: h,\n      stencilTest: e ? o(n.IntegratedMeshMaskExcluded) : null\n    });\n  }\n\n  getPipelineState(e, i) {\n    return this.useStencil ? this._stencilPipelineState : super.getPipelineState(e, i);\n  }\n\n}\n\ng.shader = new r(i, () => import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\"));\nexport { g as TerrainTechnique };","map":{"version":3,"names":["ViewingMode","e","a","i","ReloadableShaderModule","r","ShaderTechnique","t","StencilBits","n","Default3D","l","Program","s","renderWhenBitIsNotSet","o","BlendFactor","CompareFunction","c","makePipelineState","d","simpleBlendingParams","u","backFaceCullingParams","p","defaultDepthWriteParams","m","defaultColorWriteParams","h","g","constructor","arguments","useStencil","initializeConfiguration","spherical","viewingMode","Global","initializeProgram","shader","get","build","configuration","rctx","initializePipeline","_stencilPipelineState","_createPipeline","backfaceCullingEnabled","renderOccluded","blending","ONE","ONE_MINUS_SRC_ALPHA","culling","depthTest","func","LESS","depthWrite","colorWrite","stencilTest","IntegratedMeshMaskExcluded","getPipelineState","TerrainTechnique"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{a as i}from\"../../../../chunks/Terrain.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{StencilBits as n}from\"../lib/basicInterfaces.js\";import{Default3D as l}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{renderWhenBitIsNotSet as o}from\"../lib/StencilUtils.js\";import{BlendFactor as a,CompareFunction as c}from\"../../../webgl/enums.js\";import{makePipelineState as d,simpleBlendingParams as u,backFaceCullingParams as p,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(){super(...arguments),this.useStencil=!1}initializeConfiguration(i,r){r.spherical=i.viewingMode===e.Global}initializeProgram(e){const i=g.shader.get().build(this.configuration);return new s(e.rctx,i,l)}initializePipeline(){return this._stencilPipelineState=this._createPipeline(!0),this._createPipeline(!1)}_createPipeline(e){const i=this.configuration,r=i.backfaceCullingEnabled&&!i.renderOccluded;return d({blending:i.renderOccluded?u(a.ONE,a.ONE_MINUS_SRC_ALPHA):null,culling:r&&p,depthTest:!i.renderOccluded&&{func:c.LESS},depthWrite:!i.renderOccluded&&m,colorWrite:h,stencilTest:e?o(n.IntegratedMeshMaskExcluded):null})}getPipelineState(e,i){return this.useStencil?this._stencilPipelineState:super.getPipelineState(e,i)}}g.shader=new r(i,(()=>import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\")));export{g as TerrainTechnique};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,WAAW,IAAIC,CAAtB,QAA4B,yBAA5B;AAAsD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,oCAAlB;AAAuD,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,mDAAvC;AAA2F,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,4CAAhC;AAA6E,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,2BAA5B;AAAwD,SAAOC,SAAS,IAAIC,CAApB,QAA0B,2CAA1B;AAAsE,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,mBAAxB;AAA4C,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,wBAAtC;AAA+D,SAAOC,WAAW,IAAId,CAAtB,EAAwBe,eAAe,IAAIC,CAA3C,QAAiD,yBAAjD;AAA2E,SAAOC,iBAAiB,IAAIC,CAA5B,EAA8BC,oBAAoB,IAAIC,CAAtD,EAAwDC,qBAAqB,IAAIC,CAAjF,EAAmFC,uBAAuB,IAAIC,CAA9G,EAAgHC,uBAAuB,IAAIC,CAA3I,QAAiJ,+BAAjJ;;AAAiL,MAAMC,CAAN,SAAgBtB,CAAhB,CAAiB;EAACuB,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKC,UAAL,GAAgB,CAAC,CAArC;EAAuC;;EAAAC,uBAAuB,CAAC9B,CAAD,EAAGE,CAAH,EAAK;IAACA,CAAC,CAAC6B,SAAF,GAAY/B,CAAC,CAACgC,WAAF,KAAgBlC,CAAC,CAACmC,MAA9B;EAAqC;;EAAAC,iBAAiB,CAACpC,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC0B,CAAC,CAACS,MAAF,CAASC,GAAT,GAAeC,KAAf,CAAqB,KAAKC,aAA1B,CAAR;IAAiD,OAAO,IAAI5B,CAAJ,CAAMZ,CAAC,CAACyC,IAAR,EAAavC,CAAb,EAAeQ,CAAf,CAAP;EAAyB;;EAAAgC,kBAAkB,GAAE;IAAC,OAAO,KAAKC,qBAAL,GAA2B,KAAKC,eAAL,CAAqB,CAAC,CAAtB,CAA3B,EAAoD,KAAKA,eAAL,CAAqB,CAAC,CAAtB,CAA3D;EAAoF;;EAAAA,eAAe,CAAC5C,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKsC,aAAb;IAAA,MAA2BpC,CAAC,GAACF,CAAC,CAAC2C,sBAAF,IAA0B,CAAC3C,CAAC,CAAC4C,cAA1D;IAAyE,OAAO3B,CAAC,CAAC;MAAC4B,QAAQ,EAAC7C,CAAC,CAAC4C,cAAF,GAAiBzB,CAAC,CAACpB,CAAC,CAAC+C,GAAH,EAAO/C,CAAC,CAACgD,mBAAT,CAAlB,GAAgD,IAA1D;MAA+DC,OAAO,EAAC9C,CAAC,IAAEmB,CAA1E;MAA4E4B,SAAS,EAAC,CAACjD,CAAC,CAAC4C,cAAH,IAAmB;QAACM,IAAI,EAACnC,CAAC,CAACoC;MAAR,CAAzG;MAAuHC,UAAU,EAAC,CAACpD,CAAC,CAAC4C,cAAH,IAAmBrB,CAArJ;MAAuJ8B,UAAU,EAAC5B,CAAlK;MAAoK6B,WAAW,EAACxD,CAAC,GAACc,CAAC,CAACN,CAAC,CAACiD,0BAAH,CAAF,GAAiC;IAAlN,CAAD,CAAR;EAAkO;;EAAAC,gBAAgB,CAAC1D,CAAD,EAAGE,CAAH,EAAK;IAAC,OAAO,KAAK6B,UAAL,GAAgB,KAAKY,qBAArB,GAA2C,MAAMe,gBAAN,CAAuB1D,CAAvB,EAAyBE,CAAzB,CAAlD;EAA8E;;AAAluB;;AAAmuB0B,CAAC,CAACS,MAAF,GAAS,IAAIjC,CAAJ,CAAMF,CAAN,EAAS,MAAI,OAAO,+CAAP,CAAb,CAAT;AAAgF,SAAO0B,CAAC,IAAI+B,gBAAZ"},"metadata":{},"sourceType":"module"}