{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as t, unwrapOr as e } from \"../../../../../core/maybe.js\";\nimport { WGLGeometryType as o, WGLSymbologyType as a } from \"../enums.js\";\nimport { createProgramDescriptor as r } from \"../Utils.js\";\nimport i from \"./WGLGeometryBrush.js\";\nimport { MarkerMaterialKey as n } from \"../materialKey/MaterialKey.js\";\nimport { getTechniqueFromMaterialKey as s } from \"../techniques/utils.js\";\nimport { DataType as m, PrimitiveType as l } from \"../../../../webgl/enums.js\";\nconst u = {\n  shader: \"materials/icon\",\n  vertexLayout: {\n    geometry: [{\n      location: 0,\n      name: \"a_pos\",\n      count: 2,\n      type: m.SHORT\n    }, {\n      location: 1,\n      name: \"a_vertexOffset\",\n      count: 2,\n      type: m.SHORT\n    }, {\n      location: 2,\n      name: \"a_texCoords\",\n      count: 2,\n      type: m.UNSIGNED_SHORT\n    }, {\n      location: 3,\n      name: \"a_bitSetAndDistRatio\",\n      count: 2,\n      type: m.UNSIGNED_SHORT\n    }, {\n      location: 4,\n      name: \"a_id\",\n      count: 4,\n      type: m.UNSIGNED_BYTE\n    }, {\n      location: 5,\n      name: \"a_color\",\n      count: 4,\n      type: m.UNSIGNED_BYTE,\n      normalized: !0\n    }, {\n      location: 6,\n      name: \"a_outlineColor\",\n      count: 4,\n      type: m.UNSIGNED_BYTE,\n      normalized: !0\n    }, {\n      location: 7,\n      name: \"a_sizeAndOutlineWidth\",\n      count: 4,\n      type: m.UNSIGNED_BYTE\n    }, {\n      location: 8,\n      name: \"a_zoomRange\",\n      count: 2,\n      type: m.UNSIGNED_SHORT\n    }]\n  },\n  hittestAttributes: [\"a_vertexOffset\", \"a_texCoords\"]\n};\n\nclass d extends i {\n  dispose() {}\n\n  getGeometryType() {\n    return o.MARKER;\n  }\n\n  supportsSymbology(t) {\n    return t !== a.HEATMAP && t !== a.PIE_CHART;\n  }\n\n  drawGeometry(o, a, i, m) {\n    const {\n      context: d,\n      painter: c,\n      rendererInfo: p,\n      state: y,\n      passOptions: _,\n      requestRender: f\n    } = o,\n          E = n.load(i.materialKey),\n          S = s(E.data),\n          N = t(_) && \"hittest\" === _.type,\n          {\n      shader: T,\n      vertexLayout: g,\n      hittestAttributes: x\n    } = e(S.programSpec, u);\n\n    let h = l.TRIANGLES,\n        R = r(E.data, g);\n    N && (R = this._getTriangleDesc(i.materialKey, R, x), h = l.POINTS);\n    const {\n      attributes: U,\n      bufferLayouts: A\n    } = R,\n          O = c.materialManager.getMaterialProgram(o, E, T, U, m);\n    if (t(f) && !N && !O.isCompiled) return void f();\n    d.useProgram(O), E.textureBinding && c.textureManager.bindTextures(d, O, E, !0), this._setSharedUniforms(O, o, a);\n    const G = E.vvRotation ? y.displayViewMat3 : y.displayMat3;\n    O.setUniformMatrix3fv(\"u_displayMat3\", G), this._setSizeVVUniforms(E, O, p, a), this._setColorAndOpacityVVUniforms(E, O, p), this._setRotationVVUniforms(E, O, p);\n    const I = i.target.getVAO(d, A, U, N);\n    let M = i.indexCount,\n        b = i.indexFrom * Uint32Array.BYTES_PER_ELEMENT;\n    N && (M /= 3, b /= 3), d.bindVAO(I), this._drawMarkers(o, a, O, h, M, b, N), d.bindVAO(null);\n  }\n\n  _drawMarkers(t, e, o, a, r, i, n) {\n    t.context.drawElements(a, r, m.UNSIGNED_INT, i);\n  }\n\n}\n\nexport { d as default };","map":{"version":3,"names":["isSome","t","unwrapOr","e","WGLGeometryType","o","WGLSymbologyType","a","createProgramDescriptor","r","i","MarkerMaterialKey","n","getTechniqueFromMaterialKey","s","DataType","m","PrimitiveType","l","u","shader","vertexLayout","geometry","location","name","count","type","SHORT","UNSIGNED_SHORT","UNSIGNED_BYTE","normalized","hittestAttributes","d","dispose","getGeometryType","MARKER","supportsSymbology","HEATMAP","PIE_CHART","drawGeometry","context","painter","c","rendererInfo","p","state","y","passOptions","_","requestRender","f","E","load","materialKey","S","data","N","T","g","x","programSpec","h","TRIANGLES","R","_getTriangleDesc","POINTS","attributes","U","bufferLayouts","A","O","materialManager","getMaterialProgram","isCompiled","useProgram","textureBinding","textureManager","bindTextures","_setSharedUniforms","G","vvRotation","displayViewMat3","displayMat3","setUniformMatrix3fv","_setSizeVVUniforms","_setColorAndOpacityVVUniforms","_setRotationVVUniforms","I","target","getVAO","M","indexCount","b","indexFrom","Uint32Array","BYTES_PER_ELEMENT","bindVAO","_drawMarkers","drawElements","UNSIGNED_INT","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLGeometryBrushMarker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrapOr as e}from\"../../../../../core/maybe.js\";import{WGLGeometryType as o,WGLSymbologyType as a}from\"../enums.js\";import{createProgramDescriptor as r}from\"../Utils.js\";import i from\"./WGLGeometryBrush.js\";import{MarkerMaterialKey as n}from\"../materialKey/MaterialKey.js\";import{getTechniqueFromMaterialKey as s}from\"../techniques/utils.js\";import{DataType as m,PrimitiveType as l}from\"../../../../webgl/enums.js\";const u={shader:\"materials/icon\",vertexLayout:{geometry:[{location:0,name:\"a_pos\",count:2,type:m.SHORT},{location:1,name:\"a_vertexOffset\",count:2,type:m.SHORT},{location:2,name:\"a_texCoords\",count:2,type:m.UNSIGNED_SHORT},{location:3,name:\"a_bitSetAndDistRatio\",count:2,type:m.UNSIGNED_SHORT},{location:4,name:\"a_id\",count:4,type:m.UNSIGNED_BYTE},{location:5,name:\"a_color\",count:4,type:m.UNSIGNED_BYTE,normalized:!0},{location:6,name:\"a_outlineColor\",count:4,type:m.UNSIGNED_BYTE,normalized:!0},{location:7,name:\"a_sizeAndOutlineWidth\",count:4,type:m.UNSIGNED_BYTE},{location:8,name:\"a_zoomRange\",count:2,type:m.UNSIGNED_SHORT}]},hittestAttributes:[\"a_vertexOffset\",\"a_texCoords\"]};class d extends i{dispose(){}getGeometryType(){return o.MARKER}supportsSymbology(t){return t!==a.HEATMAP&&t!==a.PIE_CHART}drawGeometry(o,a,i,m){const{context:d,painter:c,rendererInfo:p,state:y,passOptions:_,requestRender:f}=o,E=n.load(i.materialKey),S=s(E.data),N=t(_)&&\"hittest\"===_.type,{shader:T,vertexLayout:g,hittestAttributes:x}=e(S.programSpec,u);let h=l.TRIANGLES,R=r(E.data,g);N&&(R=this._getTriangleDesc(i.materialKey,R,x),h=l.POINTS);const{attributes:U,bufferLayouts:A}=R,O=c.materialManager.getMaterialProgram(o,E,T,U,m);if(t(f)&&!N&&!O.isCompiled)return void f();d.useProgram(O),E.textureBinding&&c.textureManager.bindTextures(d,O,E,!0),this._setSharedUniforms(O,o,a);const G=E.vvRotation?y.displayViewMat3:y.displayMat3;O.setUniformMatrix3fv(\"u_displayMat3\",G),this._setSizeVVUniforms(E,O,p,a),this._setColorAndOpacityVVUniforms(E,O,p),this._setRotationVVUniforms(E,O,p);const I=i.target.getVAO(d,A,U,N);let M=i.indexCount,b=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;N&&(M/=3,b/=3),d.bindVAO(I),this._drawMarkers(o,a,O,h,M,b,N),d.bindVAO(null)}_drawMarkers(t,e,o,a,r,i,n){t.context.drawElements(a,r,m.UNSIGNED_INT,i)}}export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}