{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Logger.js\";\nimport { isAbortError as i } from \"../../../core/promiseUtils.js\";\nimport { watch as s } from \"../../../core/reactiveUtils.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { equals as l } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { BitmapTileLayerView2D as o } from \"./BitmapTileLayerView2D.js\";\nimport { LayerView2DMixin as h } from \"./LayerView2D.js\";\nimport { createBlankImage as n, resampleImage as c } from \"./support/imageUtils.js\";\nimport p from \"../tiling/TileInfoView.js\";\nimport u from \"../tiling/TileKey.js\";\nimport f from \"../tiling/TileQueue.js\";\nimport m from \"../tiling/TileStrategy.js\";\nimport y from \"../../layers/LayerView.js\";\nimport d from \"../../layers/RefreshableLayerView.js\";\nimport g from \"../../layers/TileLayerView.js\";\nimport { createQueryGeometry as w } from \"../../support/drapedUtils.js\";\nconst _ = [0, 0];\nlet I = class extends g(d(o(h(y)))) {\n  constructor() {\n    super(...arguments), this._tileStrategy = null, this._fetchQueue = null, this.layer = null;\n  }\n\n  get resampling() {\n    return !(\"resampling\" in this.layer) || !1 !== this.layer.resampling;\n  }\n\n  update(e) {\n    this._fetchQueue.pause(), this._fetchQueue.state = e.state, this._tileStrategy.update(e), this._fetchQueue.resume();\n  }\n\n  attach() {\n    const e = \"tileServers\" in this.layer ? this.layer.tileServers : null;\n    this._tileInfoView = new p(this.layer.tileInfo, this.layer.fullExtent), this._fetchQueue = new f({\n      tileInfoView: this._tileInfoView,\n      concurrency: e && 10 * e.length || 10,\n      process: (e, t) => this.fetchTile(e, t)\n    }), this._tileStrategy = new m({\n      cachePolicy: \"keep\",\n      resampling: this.resampling,\n      acquireTile: e => this.acquireTile(e),\n      releaseTile: e => this.releaseTile(e),\n      tileInfoView: this._tileInfoView\n    }), this.requestUpdate(), this.handles.add(s(() => this.resampling, () => {\n      this.doRefresh();\n    })), super.attach();\n  }\n\n  detach() {\n    super.detach(), this._tileStrategy.destroy(), this._fetchQueue.clear(), this.container.removeAllChildren(), this._fetchQueue = this._tileStrategy = this._tileInfoView = null;\n  }\n\n  moveStart() {\n    this.requestUpdate();\n  }\n\n  viewChange() {\n    this.requestUpdate();\n  }\n\n  moveEnd() {\n    this.requestUpdate();\n  }\n\n  supportsSpatialReference(e) {\n    return l(this.layer.tileInfo?.spatialReference, e);\n  }\n\n  createFetchPopupFeaturesQueryGeometry(e, t) {\n    return w(e, t, this.view);\n  }\n\n  async doRefresh() {\n    !this.attached || this.updateRequested || this.suspended || (this._fetchQueue.reset(), this._tileStrategy.tiles.forEach(e => this._enqueueTileFetch(e)));\n  }\n\n  isUpdating() {\n    return this._fetchQueue?.updating ?? !1;\n  }\n\n  acquireTile(e) {\n    const t = this._bitmapView.createTile(e),\n          i = t.bitmap;\n\n    return [i.x, i.y] = this._tileInfoView.getTileCoords(_, t.key), i.resolution = this._tileInfoView.getTileResolution(t.key), [i.width, i.height] = this._tileInfoView.tileInfo.size, this._enqueueTileFetch(t), this._bitmapView.addChild(t), this.requestUpdate(), t;\n  }\n\n  releaseTile(e) {\n    this._fetchQueue.abort(e.key.id), this._bitmapView.removeChild(e), e.once(\"detach\", () => e.destroy()), this.requestUpdate();\n  }\n\n  async fetchTile(e, t = {}) {\n    const s = \"tilemapCache\" in this.layer ? this.layer.tilemapCache : null,\n          {\n      signal: r,\n      resamplingLevel: a = 0\n    } = t;\n    if (!s) try {\n      return await this._fetchImage(e, r);\n    } catch (h) {\n      if (!i(h) && !this.resampling) return n(this._tileInfoView.tileInfo.size);\n\n      if (a < 3) {\n        const i = this._tileInfoView.getTileParentId(e.id);\n\n        if (i) {\n          const s = new u(i),\n                r = await this.fetchTile(s, { ...t,\n            resamplingLevel: a + 1\n          });\n          return c(this._tileInfoView, r, s, e);\n        }\n      }\n\n      throw h;\n    }\n    const l = new u(0, 0, 0, 0);\n    let o;\n\n    try {\n      if (await s.fetchAvailabilityUpsample(e.level, e.row, e.col, l, {\n        signal: r\n      }), l.level !== e.level && !this.resampling) return n(this._tileInfoView.tileInfo.size);\n      o = await this._fetchImage(l, r);\n    } catch (h) {\n      if (i(h)) throw h;\n      o = await this._fetchImage(e, r);\n    }\n\n    return this.resampling ? c(this._tileInfoView, o, l, e) : o;\n  }\n\n  async _enqueueTileFetch(e) {\n    if (!this._fetchQueue.has(e.key.id)) {\n      try {\n        const t = await this._fetchQueue.push(e.key);\n        e.bitmap.source = t, e.bitmap.width = this._tileInfoView.tileInfo.size[0], e.bitmap.height = this._tileInfoView.tileInfo.size[1], e.once(\"attach\", () => this.requestUpdate());\n      } catch (s) {\n        i(s) || t.getLogger(this.declaredClass).error(s);\n      }\n\n      this.requestUpdate();\n    }\n  }\n\n  async _fetchImage(e, t) {\n    return this.layer.fetchImageBitmapTile(e.level, e.row, e.col, {\n      signal: t\n    });\n  }\n\n};\ne([r()], I.prototype, \"_fetchQueue\", void 0), e([r()], I.prototype, \"resampling\", null), I = e([a(\"esri.views.2d.layers.TileLayerView2D\")], I);\nconst V = I;\nexport { V as default };","map":{"version":3,"names":["_","e","t","isAbortError","i","watch","s","property","r","subclass","a","equals","l","BitmapTileLayerView2D","o","LayerView2DMixin","h","createBlankImage","n","resampleImage","c","p","u","f","m","y","d","g","createQueryGeometry","w","I","constructor","arguments","_tileStrategy","_fetchQueue","layer","resampling","update","pause","state","resume","attach","tileServers","_tileInfoView","tileInfo","fullExtent","tileInfoView","concurrency","length","process","fetchTile","cachePolicy","acquireTile","releaseTile","requestUpdate","handles","add","doRefresh","detach","destroy","clear","container","removeAllChildren","moveStart","viewChange","moveEnd","supportsSpatialReference","spatialReference","createFetchPopupFeaturesQueryGeometry","view","attached","updateRequested","suspended","reset","tiles","forEach","_enqueueTileFetch","isUpdating","updating","_bitmapView","createTile","bitmap","x","getTileCoords","key","resolution","getTileResolution","width","height","size","addChild","abort","id","removeChild","once","tilemapCache","signal","resamplingLevel","_fetchImage","getTileParentId","fetchAvailabilityUpsample","level","row","col","has","push","source","getLogger","declaredClass","error","fetchImageBitmapTile","prototype","V","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/TileLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{BitmapTileLayerView2D as o}from\"./BitmapTileLayerView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import{createBlankImage as n,resampleImage as c}from\"./support/imageUtils.js\";import p from\"../tiling/TileInfoView.js\";import u from\"../tiling/TileKey.js\";import f from\"../tiling/TileQueue.js\";import m from\"../tiling/TileStrategy.js\";import y from\"../../layers/LayerView.js\";import d from\"../../layers/RefreshableLayerView.js\";import g from\"../../layers/TileLayerView.js\";import{createQueryGeometry as w}from\"../../support/drapedUtils.js\";const _=[0,0];let I=class extends(g(d(o(h(y))))){constructor(){super(...arguments),this._tileStrategy=null,this._fetchQueue=null,this.layer=null}get resampling(){return!(\"resampling\"in this.layer)||!1!==this.layer.resampling}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume()}attach(){const e=\"tileServers\"in this.layer?this.layer.tileServers:null;this._tileInfoView=new p(this.layer.tileInfo,this.layer.fullExtent),this._fetchQueue=new f({tileInfoView:this._tileInfoView,concurrency:e&&10*e.length||10,process:(e,t)=>this.fetchTile(e,t)}),this._tileStrategy=new m({cachePolicy:\"keep\",resampling:this.resampling,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView}),this.requestUpdate(),this.handles.add(s((()=>this.resampling),(()=>{this.doRefresh()}))),super.attach()}detach(){super.detach(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}supportsSpatialReference(e){return l(this.layer.tileInfo?.spatialReference,e)}createFetchPopupFeaturesQueryGeometry(e,t){return w(e,t,this.view)}async doRefresh(){!this.attached||this.updateRequested||this.suspended||(this._fetchQueue.reset(),this._tileStrategy.tiles.forEach((e=>this._enqueueTileFetch(e))))}isUpdating(){return this._fetchQueue?.updating??!1}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(_,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this._bitmapView.addChild(t),this.requestUpdate(),t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>e.destroy())),this.requestUpdate()}async fetchTile(e,t={}){const s=\"tilemapCache\"in this.layer?this.layer.tilemapCache:null,{signal:r,resamplingLevel:a=0}=t;if(!s)try{return await this._fetchImage(e,r)}catch(h){if(!i(h)&&!this.resampling)return n(this._tileInfoView.tileInfo.size);if(a<3){const i=this._tileInfoView.getTileParentId(e.id);if(i){const s=new u(i),r=await this.fetchTile(s,{...t,resamplingLevel:a+1});return c(this._tileInfoView,r,s,e)}}throw h}const l=new u(0,0,0,0);let o;try{if(await s.fetchAvailabilityUpsample(e.level,e.row,e.col,l,{signal:r}),l.level!==e.level&&!this.resampling)return n(this._tileInfoView.tileInfo.size);o=await this._fetchImage(l,r)}catch(h){if(i(h))throw h;o=await this._fetchImage(e,r)}return this.resampling?c(this._tileInfoView,o,l,e):o}async _enqueueTileFetch(e){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);e.bitmap.source=t,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.once(\"attach\",(()=>this.requestUpdate()))}catch(s){i(s)||t.getLogger(this.declaredClass).error(s)}this.requestUpdate()}}async _fetchImage(e,t){return this.layer.fetchImageBitmapTile(e.level,e.row,e.col,{signal:t})}};e([r()],I.prototype,\"_fetchQueue\",void 0),e([r()],I.prototype,\"resampling\",null),I=e([a(\"esri.views.2d.layers.TileLayerView2D\")],I);const V=I;export{V as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}