{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { glLayout as r } from \"../../../support/buffer/glUtil.js\";\nimport { Default3D as e } from \"../DefaultVertexAttributeLocations.js\";\nimport { GLMaterials as t } from \"../GLMaterials.js\";\nimport { newIntersectorResult as s } from \"../Intersector.js\";\nimport { IntersectorType as o, StoreResults as i } from \"../IntersectorInterfaces.js\";\nimport { BufferObject as a } from \"../../../../webgl/BufferObject.js\";\nimport { Usage as n } from \"../../../../webgl/enums.js\";\nimport { VertexArrayObject as l } from \"../../../../webgl/VertexArrayObject.js\";\n\nclass m {\n  constructor(s, o) {\n    const i = s.renderContext.rctx,\n          {\n      geometry: m,\n      material: u\n    } = o;\n    this._materialRepository = s.materialRep, u.setParameters({\n      instancedDoublePrecision: !0\n    });\n    const f = u.createBufferWriter(),\n          d = f.vertexBufferLayout,\n          p = f.elementCount(m),\n          c = f.allocate(p);\n    f.write({}, m, c, 0), this.geometry = m, this.material = u, this.glMaterials = new t(u, this._materialRepository), this.vertexBufferLayout = d, this.vbo = a.createVertex(i, n.STATIC_DRAW, c.buffer), this.vao = new l(i, e, {\n      geometry: r(d)\n    }, {\n      geometry: this.vbo\n    }), this.vertexCount = p;\n  }\n\n  destroy() {\n    this.glMaterials.destroy(), this.vbo.dispose(), this.vao.dispose();\n  }\n\n  get boundingInfo() {\n    return this.geometry.boundingInfo;\n  }\n\n  get triangleCount() {\n    return this.vertexCount / 3;\n  }\n\n  intersect(r, e, t, a, n, l, m, u) {\n    const f = this.geometry.id;\n    this.material.intersect(this.geometry, null, r.transform.transform, r, t, a, (t, a, d, p, c) => {\n      if (t >= 0) {\n        if (null != e && !e(r.rayBegin, r.rayEnd, t)) return;\n        const p = {\n          layerUid: l.layerUid,\n          graphicUid: l.graphicUid(n),\n          geometryId: f,\n          triangleNr: d,\n          baseBoundingSphere: m,\n          numLodLevels: u\n        };\n\n        if ((null == r.results.min.drapedLayerOrder || c >= r.results.min.drapedLayerOrder) && (null == r.results.min.dist || t < r.results.min.dist) && r.results.min.set(o.LOD, p, t, a, r.transform.transform, c), r.options.store !== i.MIN && (null == r.results.max.drapedLayerOrder || c >= r.results.max.drapedLayerOrder) && (null == r.results.max.dist || t > r.results.max.dist) && r.results.max.set(o.LOD, p, t, a, r.transform.transform, c), r.options.store === i.ALL) {\n          const e = s(r.results.min.ray);\n          e.set(o.LOD, p, t, a, r.transform.transform, c), r.results.all.push(e);\n        }\n      }\n    });\n  }\n\n}\n\nexport { m as LodComponentData };","map":{"version":3,"names":["glLayout","r","Default3D","e","GLMaterials","t","newIntersectorResult","s","IntersectorType","o","StoreResults","i","BufferObject","a","Usage","n","VertexArrayObject","l","m","constructor","renderContext","rctx","geometry","material","u","_materialRepository","materialRep","setParameters","instancedDoublePrecision","f","createBufferWriter","d","vertexBufferLayout","p","elementCount","c","allocate","write","glMaterials","vbo","createVertex","STATIC_DRAW","buffer","vao","vertexCount","destroy","dispose","boundingInfo","triangleCount","intersect","id","transform","rayBegin","rayEnd","layerUid","graphicUid","geometryId","triangleNr","baseBoundingSphere","numLodLevels","results","min","drapedLayerOrder","dist","set","LOD","options","store","MIN","max","ALL","ray","all","push","LodComponentData"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{glLayout as r}from\"../../../support/buffer/glUtil.js\";import{Default3D as e}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as t}from\"../GLMaterials.js\";import{newIntersectorResult as s}from\"../Intersector.js\";import{IntersectorType as o,StoreResults as i}from\"../IntersectorInterfaces.js\";import{BufferObject as a}from\"../../../../webgl/BufferObject.js\";import{Usage as n}from\"../../../../webgl/enums.js\";import{VertexArrayObject as l}from\"../../../../webgl/VertexArrayObject.js\";class m{constructor(s,o){const i=s.renderContext.rctx,{geometry:m,material:u}=o;this._materialRepository=s.materialRep,u.setParameters({instancedDoublePrecision:!0});const f=u.createBufferWriter(),d=f.vertexBufferLayout,p=f.elementCount(m),c=f.allocate(p);f.write({},m,c,0),this.geometry=m,this.material=u,this.glMaterials=new t(u,this._materialRepository),this.vertexBufferLayout=d,this.vbo=a.createVertex(i,n.STATIC_DRAW,c.buffer),this.vao=new l(i,e,{geometry:r(d)},{geometry:this.vbo}),this.vertexCount=p}destroy(){this.glMaterials.destroy(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(r,e,t,a,n,l,m,u){const f=this.geometry.id;this.material.intersect(this.geometry,null,r.transform.transform,r,t,a,((t,a,d,p,c)=>{if(t>=0){if(null!=e&&!e(r.rayBegin,r.rayEnd,t))return;const p={layerUid:l.layerUid,graphicUid:l.graphicUid(n),geometryId:f,triangleNr:d,baseBoundingSphere:m,numLodLevels:u};if((null==r.results.min.drapedLayerOrder||c>=r.results.min.drapedLayerOrder)&&(null==r.results.min.dist||t<r.results.min.dist)&&r.results.min.set(o.LOD,p,t,a,r.transform.transform,c),r.options.store!==i.MIN&&(null==r.results.max.drapedLayerOrder||c>=r.results.max.drapedLayerOrder)&&(null==r.results.max.dist||t>r.results.max.dist)&&r.results.max.set(o.LOD,p,t,a,r.transform.transform,c),r.options.store===i.ALL){const e=s(r.results.min.ray);e.set(o.LOD,p,t,a,r.transform.transform,c),r.results.all.push(e)}}}))}}export{m as LodComponentData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}