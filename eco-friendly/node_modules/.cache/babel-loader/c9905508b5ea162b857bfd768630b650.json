{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t } from \"../../../core/maybe.js\";\nimport { s as r, b as s } from \"../../../chunks/vec3.js\";\nimport { c as i } from \"../../../chunks/vec3f64.js\";\nimport { glLayout as o } from \"./buffer/glUtil.js\";\nimport { newLayout as n } from \"./buffer/InterleavedLayout.js\";\nimport { VertexAttribute as f } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { LaserlinePathTechnique as u } from \"../webgl-engine/shaders/LaserlinePathTechnique.js\";\nimport { BufferObject as a } from \"../../webgl/BufferObject.js\";\nimport { PrimitiveType as c, Usage as h } from \"../../webgl/enums.js\";\nimport { VertexArrayObject as l } from \"../../webgl/VertexArrayObject.js\";\n\nclass _ {\n  constructor(e) {\n    this._renderCoordsHelper = e, this._buffers = null, this._origin = i(), this._dirty = !1, this._count = 0, this._vao = null;\n  }\n\n  set vertices(e) {\n    const t = new Float64Array(3 * e.length);\n    let r = 0;\n\n    for (const s of e) t[r++] = s[0], t[r++] = s[1], t[r++] = s[2];\n\n    this.buffers = [t];\n  }\n\n  set buffers(e) {\n    if (this._buffers = e, this._buffers.length > 0) {\n      const e = this._buffers[0],\n            t = 3 * Math.floor(e.length / 3 / 2);\n      r(this._origin, e[t + 0], e[t + 1], e[t + 2]);\n    } else r(this._origin, 0, 0, 0);\n\n    this._dirty = !0;\n  }\n\n  get origin() {\n    return this._origin;\n  }\n\n  draw(t) {\n    const r = this._ensureVAO(t);\n\n    e(r) && (t.bindVAO(r), t.drawArrays(c.TRIANGLES, 0, this._count));\n  }\n\n  dispose() {\n    e(this._vao) && this._vao.dispose();\n  }\n\n  _ensureVAO(e) {\n    return t(this._buffers) ? null : (t(this._vao) && (this._vao = this._createVAO(e, this._buffers)), this._ensureVertexData(this._vao, this._buffers), this._vao);\n  }\n\n  _createVAO(e, t) {\n    const r = this._createDataBuffer(t);\n\n    return this._dirty = !1, new l(e, u.attributeLocations, {\n      data: o(V)\n    }, {\n      data: a.createVertex(e, h.STATIC_DRAW, r)\n    });\n  }\n\n  _ensureVertexData(e, t) {\n    if (!this._dirty) return;\n\n    const r = this._createDataBuffer(t);\n\n    e.vertexBuffers.data.setData(r), this._dirty = !1;\n  }\n\n  _numberOfRenderVertices(e) {\n    return 3 * (2 * (e.length / 3 - 1));\n  }\n\n  _createDataBuffer(e) {\n    const t = e.reduce((e, t) => e + this._numberOfRenderVertices(t), 0);\n    this._count = t;\n    const i = V.createBuffer(t),\n          o = this._origin;\n    let n = 0,\n        f = 0;\n\n    for (const u of e) {\n      for (let e = 0; e < u.length; e += 3) {\n        const t = r(b, u[e + 0], u[e + 1], u[e + 2]);\n        0 === e ? f = this._renderCoordsHelper.getAltitude(t) : this._renderCoordsHelper.setAltitude(t, f);\n\n        const a = this._renderCoordsHelper.worldUpAtPosition(t, d),\n              c = n + 2 * e,\n              h = s(b, t, o);\n\n        if (e < u.length - 3) {\n          i.up.setVec(c, a), i.up.setVec(c + 3, a), i.up.setVec(c + 5, a);\n\n          for (let e = 0; e < 6; e++) i.start.setVec(c + e, h);\n\n          i.extrude.setValues(c + 0, 0, -1), i.extrude.setValues(c + 1, 1, -1), i.extrude.setValues(c + 2, 1, 1), i.extrude.setValues(c + 3, 0, -1), i.extrude.setValues(c + 4, 1, 1), i.extrude.setValues(c + 5, 0, 1);\n        }\n\n        if (e > 0) {\n          i.up.setVec(c - 2, a), i.up.setVec(c - 4, a), i.up.setVec(c - 5, a);\n\n          for (let e = -6; e < 0; e++) i.end.setVec(c + e, h);\n        }\n      }\n\n      n += this._numberOfRenderVertices(u);\n    }\n\n    return i.buffer;\n  }\n\n}\n\nconst d = i(),\n      b = i(),\n      V = n().vec3f(f.START).vec3f(f.END).vec3f(f.UP).vec2f(f.EXTRUDE);\nexport { _ as LaserlinePathData };","map":{"version":3,"names":["isSome","e","isNone","t","s","r","b","c","i","glLayout","o","newLayout","n","VertexAttribute","f","LaserlinePathTechnique","u","BufferObject","a","PrimitiveType","Usage","h","VertexArrayObject","l","_","constructor","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","vertices","Float64Array","length","buffers","Math","floor","origin","draw","_ensureVAO","bindVAO","drawArrays","TRIANGLES","dispose","_createVAO","_ensureVertexData","_createDataBuffer","attributeLocations","data","V","createVertex","STATIC_DRAW","vertexBuffers","setData","_numberOfRenderVertices","reduce","createBuffer","getAltitude","setAltitude","worldUpAtPosition","d","up","setVec","start","extrude","setValues","end","buffer","vec3f","START","END","UP","vec2f","EXTRUDE","LaserlinePathData"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{s as r,b as s}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{glLayout as o}from\"./buffer/glUtil.js\";import{newLayout as n}from\"./buffer/InterleavedLayout.js\";import{VertexAttribute as f}from\"../webgl-engine/lib/VertexAttribute.js\";import{LaserlinePathTechnique as u}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{BufferObject as a}from\"../../webgl/BufferObject.js\";import{PrimitiveType as c,Usage as h}from\"../../webgl/enums.js\";import{VertexArrayObject as l}from\"../../webgl/VertexArrayObject.js\";class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=i(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);r(this._origin,e[t+0],e[t+1],e[t+2])}else r(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this._ensureVAO(t);e(r)&&(t.bindVAO(r),t.drawArrays(c.TRIANGLES,0,this._count))}dispose(){e(this._vao)&&this._vao.dispose()}_ensureVAO(e){return t(this._buffers)?null:(t(this._vao)&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new l(e,u.attributeLocations,{data:o(V)},{data:a.createVertex(e,h.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(e){const t=e.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=t;const i=V.createBuffer(t),o=this._origin;let n=0,f=0;for(const u of e){for(let e=0;e<u.length;e+=3){const t=r(b,u[e+0],u[e+1],u[e+2]);0===e?f=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,f);const a=this._renderCoordsHelper.worldUpAtPosition(t,d),c=n+2*e,h=s(b,t,o);if(e<u.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,h);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,h)}}n+=this._numberOfRenderVertices(u)}return i.buffer}}const d=i(),b=i(),V=n().vec3f(f.START).vec3f(f.END).vec3f(f.UP).vec2f(f.EXTRUDE);export{_ as LaserlinePathData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}