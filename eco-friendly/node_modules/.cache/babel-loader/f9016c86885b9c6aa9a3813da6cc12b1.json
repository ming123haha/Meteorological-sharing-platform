{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { forEach as s, result as l } from \"../../../../core/asyncUtils.js\";\nimport i from \"../../../../core/Handles.js\";\nimport a from \"../../../../core/Logger.js\";\nimport { someMap as r } from \"../../../../core/MapUtils.js\";\nimport { destroyMaybe as o, disposeMaybe as n, isSome as c, isNone as h, unwrap as b } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as d, isAbortError as p } from \"../../../../core/promiseUtils.js\";\nimport { watch as u } from \"../../../../core/reactiveUtils.js\";\nimport { property as g } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as y } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { hydrateGraphic as f } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { createLabelFunction as m } from \"../../../../layers/support/labelFormatUtils.js\";\nimport { areLabelsVisible as _ } from \"../../../../layers/support/layerUtils.js\";\nimport { hasCalloutSupport as x } from \"../../../../symbols/callouts/calloutUtils.js\";\nimport { VisibilityFlag as C, VisibilityGroup as v } from \"./enums.js\";\nimport { make as L } from \"./Graphics3DCalloutSymbolLayerFactory.js\";\nimport T from \"./Graphics3DGraphicCreationContext.js\";\nimport { getGraphics3DSymbol as G } from \"./graphicSymbolUtils.js\";\nimport { get as D } from \"./labelPlacement.js\";\nimport { horizontalPlacementFromAnchor as R, verticalPlacementFromAnchor as A, textRenderAlignmentFromHorizontalPlacement as w } from \"./placementUtils.js\";\nimport S from \"../../support/debugFlags.js\";\nimport { MaterialCollection as I } from \"../../webgl-engine/lib/MaterialCollection.js\";\nimport { TextRenderer as O } from \"../../webgl-engine/lib/TextRenderer.js\";\nimport { TextRenderParameters as P } from \"../../webgl-engine/lib/TextRenderParameters.js\";\nimport { TextTextureAtlas as j } from \"../../webgl-engine/lib/TextTextureAtlas.js\";\nimport { WebGLLayer as E } from \"../../webgl-engine/lib/WebGLLayer.js\";\nimport { TaskPriority as U } from \"../../../support/Scheduler.js\";\nconst V = a.getLogger(\"esri.views.3d.layers.graphics.Labeler\");\nlet F = class extends t {\n  constructor() {\n    super(...arguments), this._dirty = !1, this._labels = new Map(), this._labelsToAdd = new Map(), this._labelsToRemove = new Map(), this._labelingContexts = new Array();\n  }\n\n  setup() {\n    this.dispose(), this._handles = new i(), this._handles.add([u(() => this.view.state?.camera, () => this.setDirty()), u(() => this.view.state?.pixelRatio, () => this._resetAllLabels()), this.view.resourceController.scheduler.registerTask(U.LABELER, this)]), this._textTextureAtlas = new j({\n      view: this.view\n    }), this._hudMaterialCollection = new I(this.view._stage), this._calloutMaterialCollection = new I(this.view._stage);\n  }\n\n  dispose() {\n    this._handles = o(this._handles), this._textTextureAtlas = n(this._textTextureAtlas), this._hudMaterialCollection = n(this._hudMaterialCollection), this._calloutMaterialCollection = n(this._calloutMaterialCollection), this._labelingContexts.length = 0, this._labels.clear(), this._labelsToAdd.clear(), this._labelsToRemove.clear();\n  }\n\n  _activateLabelingContext(e) {\n    e.labels.forEach((e, t) => {\n      this._labels.set(t, e), e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING, !0, v.LABEL);\n    }), e.active = !0;\n  }\n\n  _deactivateLabelingContext(e) {\n    e.labels.forEach((e, t) => {\n      e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING, !1, v.LABEL), this.setLabelGraphicVisibility(e.graphics3DGraphic, !1), this._labels.delete(t);\n    }), e.active = !1;\n  }\n\n  _addLabelTextureToAtlas(e) {\n    for (const t of e.graphics3DGraphic.labelGraphics) {\n      if (!t._labelClass) continue;\n      const s = e.textTextureResources.textRenderers[t._labelIndex];\n      c(s) && this._textTextureAtlas.addTextTexture(s, t.stageObject);\n    }\n\n    e.rendered = !0;\n  }\n\n  _removeLabelTextureFromAtlas(e) {\n    for (const t of e.graphics3DGraphic.labelGraphics) {\n      if (!t._labelClass) continue;\n      const s = e.textTextureResources.textRenderers[t._labelIndex];\n      c(s) && this._textTextureAtlas.removeTextTexture(s, t.stageObject);\n    }\n\n    e.rendered = !1;\n  }\n\n  get running() {\n    return this.view.ready && (this._dirty || this._textTextureAtlas?.updating || this.deconflictor.running);\n  }\n\n  runTask(e) {\n    this._updateLabels(e), !this._dirty && this.deconflictor.running && this.deconflictor.runTask(e);\n  }\n\n  _updateLabels(e) {\n    if (this._dirty) {\n      this._dirty = !1;\n\n      for (const t of this._labelingContexts) if (M(t)) {\n        if (!B(t)) {\n          if (k(t)) {\n            this._deactivateLabelingContext(t);\n\n            continue;\n          }\n\n          if (this._createLabelClassContext(t), z(t)) {\n            this._dirty = !0;\n            continue;\n          }\n\n          if (!B(t)) continue;\n        }\n\n        r(t.labelsToInitialize, (s, l) => (this._ensureGraphics3DResources(s) && (this._labels.set(l, s), this.deconflictor.setDirty(), e.madeProgress()), (s.visible && s.textTextureResources.initialized || !s.visible && s.hasGraphics3DResources) && (t.labelsToInitialize.delete(l), e.madeProgress()), e.done)) && (this._dirty = !0);\n      }\n\n      this._labelsToRemove.forEach(e => this._removeLabelTextureFromAtlas(e)), this._labelsToAdd.forEach(e => this._addLabelTextureToAtlas(e)), this._labelsToRemove.clear(), this._labelsToAdd.clear(), this._dirty || this.notifyChange(\"updating\");\n    }\n  }\n\n  async _createLabelClassContextAsync(e) {\n    const t = e.labelClassAbortController.signal;\n    await e.layer.when(), d(t), e.scaleVisibility && e.scaleVisibility.updateScaleRangeActive();\n    const i = e.graphics3DCore,\n          a = i.layer,\n          r = a.labelingInfo && a.labelingInfo.filter(e => !!e.symbol);\n    if (!r || 0 === r.length) return;\n    const o = new Array(r.length);\n    let n = !1;\n    await s(r, async (s, a) => {\n      const r = s.symbol,\n            c = G(i.getOrCreateGraphics3DSymbol(r));\n      if (h(c)) return void V.error(\"Failed to create Graphics3DSymbol for label\");\n      await c.load(), d(t);\n      let b = null;\n      x(r) && r.hasVisibleCallout() && (b = L(r, i.symbolCreationContext), await b.load(), d(t));\n      const p = await l(m(s, e.layer.fieldsIndex, this.view.spatialReference));\n\n      if (d(t), !0 === p.ok) {\n        const e = await this._createTextRenderParameters(c.symbol);\n        d(t), o[a] = {\n          labelClass: s,\n          labelFunction: p.value,\n          graphics3DSymbol: c,\n          graphics3DCalloutSymbolLayer: b,\n          calloutSymbolLayerIndex: 0,\n          textRenderParameters: e\n        };\n      } else V.error(`Label expression failed to evaluate: ${p.error}`), n = !0;\n    }), d(t), n || (e.labelClassContexts = o);\n  }\n\n  async _createLabelClassContext(e) {\n    return e.labelClassPromise || (e.labelClassPromise = this._createLabelClassContextAsync(e).catch(t => {\n      if (p(t)) throw t;\n      e.labelClassContexts = null;\n    }).then(() => {\n      e.labelClassAbortController = null, this.notifyChange(\"updating\");\n    }).catch(() => {}), this.notifyChange(\"updating\")), e.labelClassPromise;\n  }\n\n  async _createTextRenderParameters(e) {\n    const t = e.symbolLayers.getItemAt(0);\n    return t && \"text\" === t.type ? P.fromSymbol(t, this.view.state.pixelRatio) : null;\n  }\n\n  _destroyLabelClassContext(e) {\n    for (const s of e.labelClassContexts) --s.graphics3DSymbol.referenced, s.graphics3DSymbol = null;\n\n    const t = e.labelClassAbortController;\n    e.labelClassAbortController = new AbortController(), t && t.abort(), e.labelClassContexts = [], e.labelClassPromise = null, this.notifyChange(\"updating\");\n  }\n\n  _createTextSymbolGraphic(e, t, s, l, i) {\n    const a = {\n      text: e.text,\n      centerOffset: s.centerOffset,\n      translation: s.translation,\n      elevationOffset: s.elevationOffset,\n      screenOffset: s.screenOffset,\n      centerOffsetUnits: s.centerOffsetUnits,\n      horizontalPlacement: R(s.anchor),\n      verticalPlacement: A(s.anchor),\n      verticalOffset: s.verticalOffset,\n      debugDrawLabelBorder: S.LABELS_SHOW_BORDER,\n      displayWidth: e.displayWidth,\n      displayHeight: e.displayHeight\n    };\n    return N.graphic = t, N.renderingInfo = null, N.layer = l, i.createLabel(N, a, this._hudMaterialCollection, this._textTextureAtlas);\n  }\n\n  _createLineCalloutGraphic(e, t, s, l, i) {\n    const a = {\n      symbol: t,\n      translation: l.translation,\n      elevationOffset: l.elevationOffset,\n      screenOffset: l.screenOffset,\n      centerOffset: l.centerOffset,\n      centerOffsetUnits: l.centerOffsetUnits,\n      materialCollection: this._calloutMaterialCollection\n    };\n    return N.graphic = e, N.renderingInfo = a, N.layer = i, s.createGraphics3DGraphic(N);\n  }\n\n  _ensureGraphics3DResources(e) {\n    if (e.hasGraphics3DResources) return !1;\n    const t = e.graphics3DGraphic;\n    if (t.destroyed) return !1;\n\n    this._ensureTextTextureResources(e);\n\n    const {\n      textTextureResources: s\n    } = e,\n          l = e.labelingContext,\n          i = l.labelClassContexts;\n    if (!i || 0 === i.length || !l.emptySymbolLabelSupported && 0 === t.graphics.length) return !1;\n    let a = !1;\n\n    const r = t.graphic,\n          o = l.layer,\n          n = _(l.layer),\n          b = this.view._stage;\n\n    for (let d = 0; d < i.length; d++) {\n      const e = s.textRenderers[d],\n            p = s.labelPlacements[d];\n      if (h(e) || h(p)) continue;\n      const u = i[d],\n            g = u.graphics3DSymbol,\n            y = g.symbol && \"label-3d\" === g.symbol.type ? g.symbol : null,\n            f = g.symbolLayers[0];\n      if (!f) continue;\n      f.setElevationInfoOverride(l.elevationInfoOverride);\n\n      const m = this._createTextSymbolGraphic(e, r, p, o, f);\n\n      if (!m) return !1;\n      m._labelClass = u.labelClass, m._labelIndex = d, t.addLabelGraphic(m, b, l.stageLayer), t.setVisibilityFlag(C.USER_SETTING, n, v.LABEL), t.clearVisibilityFlag(C.SCALE_RANGE, v.LABEL), t.setVisibilityFlag(C.DECONFLICTION, !1, v.LABEL), a = !0;\n      const _ = u.graphics3DCalloutSymbolLayer;\n\n      if (_ && p.hasLabelVerticalOffset) {\n        _.setElevationInfoOverride(l.elevationInfoOverride);\n\n        const e = this._createLineCalloutGraphic(r, y, _, p, o);\n\n        c(e) && (u.calloutSymbolLayerIndex = t.labelGraphics.length, t.addLabelGraphic(e, b, l.stageLayer));\n      }\n\n      break;\n    }\n\n    return l.scaleVisibility && a && l.scaleVisibility.updateGraphicLabelScaleVisibility(t), e.hasGraphics3DResources = !0, !0;\n  }\n\n  _destroyGraphics3DResources(e) {\n    const t = e.labelingContext.labelClassContexts;\n\n    for (const s of e.graphics3DGraphic.labelGraphics) {\n      if (null == s._labelClass) continue;\n      const e = t[s._labelIndex].graphics3DSymbol.symbolLayers[0];\n      null != e && e.onRemoveGraphic(s);\n    }\n\n    e.graphics3DGraphic.clearLabelGraphics(), e.hasGraphics3DResources = !1;\n  }\n\n  _ensureTextTextureResources(e) {\n    const {\n      textTextureResources: t\n    } = e;\n    if (t.initialized) return;\n    const s = e.labelingContext,\n          l = s.labelClassContexts;\n    if (!l || 0 === l.length) return;\n    const i = e.graphics3DGraphic.graphic;\n\n    for (let r = 0; r < l.length; r++) {\n      const o = l[r];\n      if (t.textRenderers[r] = null, t.labelPlacements[r] = null, !o.textRenderParameters) continue;\n      const n = o.labelFunction;\n      let c;\n      if (\"arcade\" === n.type) try {\n        const e = n.needsHydrationToEvaluate() ? f(i, s.layer) : i;\n        c = n.evaluate(e);\n      } catch (a) {\n        c = null;\n      } else c = n.evaluate(i);\n      if (h(c) || \"\" === c || /^\\s+$/.test(c)) continue;\n      const b = o.graphics3DSymbol,\n            d = b.symbol && \"label-3d\" === b.symbol.type ? b.symbol : null;\n      if (!b.symbolLayers[0]) continue;\n      const p = e.graphics3DGraphic,\n            u = o.labelClass,\n            g = s.disablePlacement,\n            y = D({\n        graphics3DGraphic: p,\n        labelSymbol: d,\n        labelClass: u,\n        disablePlacement: g\n      });\n      if (h(y)) continue;\n\n      const m = R(y.anchor),\n            _ = w(m);\n\n      t.textRenderers[r] = new O(c, _, o.textRenderParameters), t.labelPlacements[r] = y;\n    }\n\n    t.initialized = !0;\n  }\n\n  _destroyTextTextureResources(e) {\n    const {\n      textTextureResources: t\n    } = e;\n    t.initialized = !1, t.textRenderers = [], t.labelPlacements = [];\n  }\n\n  _addGraphic(e, t) {\n    const s = {\n      hasGraphics3DResources: !1,\n      visible: !1,\n      rendered: !1,\n      labelingContext: e,\n      graphics3DGraphic: t,\n      textTextureResources: {\n        initialized: !1,\n        textRenderers: [],\n        labelPlacements: []\n      }\n    },\n          l = t.graphic.uid;\n    e.labels.set(l, s), e.labelsToInitialize.set(l, s), this.setDirty(), this.deconflictor.setDirty();\n  }\n\n  _removeGraphic(e, t) {\n    const s = t.graphic.uid,\n          l = e.labels.get(s);\n    l && (this._destroyGraphic(l, s), e.labels.delete(s), e.labelsToInitialize.delete(s), this.setDirty(), this.deconflictor.setDirty());\n  }\n\n  _destroyGraphic(e, t) {\n    this._labels.has(t) && (this._labels.delete(t), this._labelsToAdd.delete(t), this._labelsToRemove.delete(t)), e.textTextureResources.initialized && (this._removeLabelTextureFromAtlas(e), this._destroyTextTextureResources(e)), e.hasGraphics3DResources && this._destroyGraphics3DResources(e);\n  }\n\n  async _labelingInfoChange(e, t) {\n    if (!t) return this._visibilityInfoChange(e), this._resetLabels(e), this._createLabelClassContext(e);\n\n    for (const s of t) {\n      const t = e.labels.get(s);\n      t && (this._removeGraphic(e, t.graphics3DGraphic), this._addGraphic(e, t.graphics3DGraphic));\n    }\n  }\n\n  _globalPropertyChanged(e, t) {\n    for (const s of t.labelClassContexts) {\n      const l = new Map();\n      t.labels.forEach(e => {\n        const t = e.graphics3DGraphic;\n        l.set(t.graphic.uid, t);\n      });\n\n      const i = e => e.labelGraphics[0];\n\n      if (b(s.graphics3DSymbol.symbolLayers[0]).globalPropertyChanged(e, l, i), s.graphics3DCalloutSymbolLayer) {\n        const t = e => e.labelGraphics[s.calloutSymbolLayerIndex];\n\n        s.graphics3DCalloutSymbolLayer.globalPropertyChanged(e, l, t);\n      }\n    }\n  }\n\n  _visibilityInfoChange(e) {\n    const t = e.layer.labelsVisible;\n    t && !e.active && this._activateLabelingContext(e), !t && e.active && this._deactivateLabelingContext(e), this.setDirty();\n  }\n\n  _resetAllLabels() {\n    for (const e of this._labelingContexts) this._resetLabels(e);\n  }\n\n  _resetLabels(e) {\n    e.labels.forEach((t, s) => {\n      this._destroyGraphic(t, s), t.visible = !1, t.rendered = !1, e.labelsToInitialize.set(s, t);\n    }), this._destroyLabelClassContext(e), this.setDirty(), this.deconflictor.setDirty();\n  }\n\n  _findLabelingContext(e) {\n    for (const t of this._labelingContexts) if (t.graphics3DCore === e) return t;\n\n    return null;\n  }\n\n  addGraphicsOwner(e, t, s) {\n    const l = s && s.emptySymbolLabelSupported || !1,\n          i = s && s.elevationInfoOverride || null,\n          a = s && s.disablePlacement || null;\n    if (this._findLabelingContext(e)) return;\n    const r = e.layer,\n          o = {\n      graphics3DCore: e,\n      layer: r,\n      scaleVisibility: t,\n      emptySymbolLabelSupported: l,\n      elevationInfoOverride: i,\n      disablePlacement: a,\n      active: r.labelsVisible,\n      labelClassPromise: null,\n      labelClassAbortController: new AbortController(),\n      labelClassContexts: [],\n      labels: new Map(),\n      labelsToInitialize: new Map(),\n      stageLayer: new E({\n        isPickable: !0\n      }, r.uid)\n    };\n    return this.view._stage.add(o.stageLayer), this._labelingContexts.push(o), this.setDirty(), {\n      addGraphic: e => this._addGraphic(o, e),\n      removeGraphic: e => this._removeGraphic(o, e),\n      featureReductionChange: () => {},\n      layerLabelsEnabled: () => _(o.layer),\n      labelingInfoChange: e => this._labelingInfoChange(o, e),\n      elevationInfoChange: () => this._globalPropertyChanged(\"elevationInfo\", o),\n      slicePlaneEnabledChange: () => this._globalPropertyChanged(\"slicePlaneEnabled\", o),\n      visibilityInfoChange: () => this._visibilityInfoChange(o),\n      reset: () => this._resetLabels(o),\n      clear: () => {}\n    };\n  }\n\n  removeGraphicsOwner(e) {\n    const t = this._findLabelingContext(e);\n\n    if (!t) return;\n\n    const s = this._labelingContexts.indexOf(t);\n\n    this._labelingContexts.splice(s, 1), t.labels.forEach(e => this._removeGraphic(t, e.graphics3DGraphic)), this.view._stage.remove(t.stageLayer), t.stageLayer = null, this.setDirty();\n  }\n\n  setLabelGraphicVisibility(e, t) {\n    const s = e.graphic.uid,\n          l = this._labels.get(s);\n\n    l && l.visible !== t && (t && !l.rendered ? (this._labelsToAdd.set(s, l), this._labelsToRemove.delete(s), l.textTextureResources.initialized || l.labelingContext.labelsToInitialize.set(s, l)) : !t && l.rendered && (this._labelsToRemove.set(s, l), this._labelsToAdd.delete(s)), l.visible = t, this.setDirty());\n  }\n\n  setDirty() {\n    !this._dirty && this._labelingContexts.length > 0 && (this._dirty = !0, this.notifyChange(\"updating\"));\n  }\n\n  get updating() {\n    return this._dirty || this._textTextureAtlas?.updating || this.deconflictor.updating || this._labelingContexts.some(e => z(e));\n  }\n\n  get updatingProgress() {\n    if (!this.updating || !this._textTextureAtlas) return 1;\n    const e = this._labelingContexts.length > 0 ? this._labelingContexts.reduce((e, t) => e + (z(t) ? 0 : 1), 0) / this._labelingContexts.length : 1;\n    return (this._dirty ? 0 : .3) + (this._textTextureAtlas.updating ? 0 : .1) + .1 * e + .5 * this.deconflictor.updatingProgress;\n  }\n\n  get test() {\n    return {\n      textTextureAtlas: this._textTextureAtlas,\n      resetAllLabels: () => this._resetAllLabels()\n    };\n  }\n\n};\n\nfunction M(e) {\n  return e.active && _(e.layer);\n}\n\nfunction z(e) {\n  return e.labelClassPromise && !!e.labelClassAbortController;\n}\n\nfunction B(e) {\n  return e.labelClassContexts && e.labelClassContexts.length;\n}\n\nfunction k(e) {\n  return null === e.labelClassContexts;\n}\n\ne([g({\n  constructOnly: !0\n})], F.prototype, \"view\", void 0), e([g({\n  constructOnly: !0\n})], F.prototype, \"deconflictor\", void 0), e([g()], F.prototype, \"_textTextureAtlas\", void 0), e([g({\n  type: Boolean,\n  readOnly: !0\n})], F.prototype, \"updating\", null), F = e([y(\"esri.views.3d.layers.graphics.Labeler\")], F);\nconst N = new T(null, null, null);\nexport { F as Labeler };","map":{"version":3,"names":["_","e","t","forEach","s","result","l","i","a","someMap","r","destroyMaybe","o","disposeMaybe","n","isSome","c","isNone","h","unwrap","b","throwIfAborted","d","isAbortError","p","watch","u","property","g","subclass","y","hydrateGraphic","f","createLabelFunction","m","areLabelsVisible","hasCalloutSupport","x","VisibilityFlag","C","VisibilityGroup","v","make","L","T","getGraphics3DSymbol","G","get","D","horizontalPlacementFromAnchor","R","verticalPlacementFromAnchor","A","textRenderAlignmentFromHorizontalPlacement","w","S","MaterialCollection","I","TextRenderer","O","TextRenderParameters","P","TextTextureAtlas","j","WebGLLayer","E","TaskPriority","U","V","getLogger","F","constructor","arguments","_dirty","_labels","Map","_labelsToAdd","_labelsToRemove","_labelingContexts","Array","setup","dispose","_handles","add","view","state","camera","setDirty","pixelRatio","_resetAllLabels","resourceController","scheduler","registerTask","LABELER","_textTextureAtlas","_hudMaterialCollection","_stage","_calloutMaterialCollection","length","clear","_activateLabelingContext","labels","set","graphics3DGraphic","setVisibilityFlag","USER_SETTING","LABEL","active","_deactivateLabelingContext","setLabelGraphicVisibility","delete","_addLabelTextureToAtlas","labelGraphics","_labelClass","textTextureResources","textRenderers","_labelIndex","addTextTexture","stageObject","rendered","_removeLabelTextureFromAtlas","removeTextTexture","running","ready","updating","deconflictor","runTask","_updateLabels","M","B","k","_createLabelClassContext","z","labelsToInitialize","_ensureGraphics3DResources","madeProgress","visible","initialized","hasGraphics3DResources","done","notifyChange","_createLabelClassContextAsync","labelClassAbortController","signal","layer","when","scaleVisibility","updateScaleRangeActive","graphics3DCore","labelingInfo","filter","symbol","getOrCreateGraphics3DSymbol","error","load","hasVisibleCallout","symbolCreationContext","fieldsIndex","spatialReference","ok","_createTextRenderParameters","labelClass","labelFunction","value","graphics3DSymbol","graphics3DCalloutSymbolLayer","calloutSymbolLayerIndex","textRenderParameters","labelClassContexts","labelClassPromise","catch","then","symbolLayers","getItemAt","type","fromSymbol","_destroyLabelClassContext","referenced","AbortController","abort","_createTextSymbolGraphic","text","centerOffset","translation","elevationOffset","screenOffset","centerOffsetUnits","horizontalPlacement","anchor","verticalPlacement","verticalOffset","debugDrawLabelBorder","LABELS_SHOW_BORDER","displayWidth","displayHeight","N","graphic","renderingInfo","createLabel","_createLineCalloutGraphic","materialCollection","createGraphics3DGraphic","destroyed","_ensureTextTextureResources","labelingContext","emptySymbolLabelSupported","graphics","labelPlacements","setElevationInfoOverride","elevationInfoOverride","addLabelGraphic","stageLayer","clearVisibilityFlag","SCALE_RANGE","DECONFLICTION","hasLabelVerticalOffset","updateGraphicLabelScaleVisibility","_destroyGraphics3DResources","onRemoveGraphic","clearLabelGraphics","needsHydrationToEvaluate","evaluate","test","disablePlacement","labelSymbol","_destroyTextTextureResources","_addGraphic","uid","_removeGraphic","_destroyGraphic","has","_labelingInfoChange","_visibilityInfoChange","_resetLabels","_globalPropertyChanged","globalPropertyChanged","labelsVisible","_findLabelingContext","addGraphicsOwner","isPickable","push","addGraphic","removeGraphic","featureReductionChange","layerLabelsEnabled","labelingInfoChange","elevationInfoChange","slicePlaneEnabledChange","visibilityInfoChange","reset","removeGraphicsOwner","indexOf","splice","remove","some","updatingProgress","reduce","textTextureAtlas","resetAllLabels","constructOnly","prototype","Boolean","readOnly","Labeler"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/graphics/Labeler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{forEach as s,result as l}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Handles.js\";import a from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{destroyMaybe as o,disposeMaybe as n,isSome as c,isNone as h,unwrap as b}from\"../../../../core/maybe.js\";import{throwIfAborted as d,isAbortError as p}from\"../../../../core/promiseUtils.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as f}from\"../../../../layers/graphics/hydratedFeatures.js\";import{createLabelFunction as m}from\"../../../../layers/support/labelFormatUtils.js\";import{areLabelsVisible as _}from\"../../../../layers/support/layerUtils.js\";import{hasCalloutSupport as x}from\"../../../../symbols/callouts/calloutUtils.js\";import{VisibilityFlag as C,VisibilityGroup as v}from\"./enums.js\";import{make as L}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import T from\"./Graphics3DGraphicCreationContext.js\";import{getGraphics3DSymbol as G}from\"./graphicSymbolUtils.js\";import{get as D}from\"./labelPlacement.js\";import{horizontalPlacementFromAnchor as R,verticalPlacementFromAnchor as A,textRenderAlignmentFromHorizontalPlacement as w}from\"./placementUtils.js\";import S from\"../../support/debugFlags.js\";import{MaterialCollection as I}from\"../../webgl-engine/lib/MaterialCollection.js\";import{TextRenderer as O}from\"../../webgl-engine/lib/TextRenderer.js\";import{TextRenderParameters as P}from\"../../webgl-engine/lib/TextRenderParameters.js\";import{TextTextureAtlas as j}from\"../../webgl-engine/lib/TextTextureAtlas.js\";import{WebGLLayer as E}from\"../../webgl-engine/lib/WebGLLayer.js\";import{TaskPriority as U}from\"../../../support/Scheduler.js\";const V=a.getLogger(\"esri.views.3d.layers.graphics.Labeler\");let F=class extends t{constructor(){super(...arguments),this._dirty=!1,this._labels=new Map,this._labelsToAdd=new Map,this._labelsToRemove=new Map,this._labelingContexts=new Array}setup(){this.dispose(),this._handles=new i,this._handles.add([u((()=>this.view.state?.camera),(()=>this.setDirty())),u((()=>this.view.state?.pixelRatio),(()=>this._resetAllLabels())),this.view.resourceController.scheduler.registerTask(U.LABELER,this)]),this._textTextureAtlas=new j({view:this.view}),this._hudMaterialCollection=new I(this.view._stage),this._calloutMaterialCollection=new I(this.view._stage)}dispose(){this._handles=o(this._handles),this._textTextureAtlas=n(this._textTextureAtlas),this._hudMaterialCollection=n(this._hudMaterialCollection),this._calloutMaterialCollection=n(this._calloutMaterialCollection),this._labelingContexts.length=0,this._labels.clear(),this._labelsToAdd.clear(),this._labelsToRemove.clear()}_activateLabelingContext(e){e.labels.forEach(((e,t)=>{this._labels.set(t,e),e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING,!0,v.LABEL)})),e.active=!0}_deactivateLabelingContext(e){e.labels.forEach(((e,t)=>{e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING,!1,v.LABEL),this.setLabelGraphicVisibility(e.graphics3DGraphic,!1),this._labels.delete(t)})),e.active=!1}_addLabelTextureToAtlas(e){for(const t of e.graphics3DGraphic.labelGraphics){if(!t._labelClass)continue;const s=e.textTextureResources.textRenderers[t._labelIndex];c(s)&&this._textTextureAtlas.addTextTexture(s,t.stageObject)}e.rendered=!0}_removeLabelTextureFromAtlas(e){for(const t of e.graphics3DGraphic.labelGraphics){if(!t._labelClass)continue;const s=e.textTextureResources.textRenderers[t._labelIndex];c(s)&&this._textTextureAtlas.removeTextTexture(s,t.stageObject)}e.rendered=!1}get running(){return this.view.ready&&(this._dirty||this._textTextureAtlas?.updating||this.deconflictor.running)}runTask(e){this._updateLabels(e),!this._dirty&&this.deconflictor.running&&this.deconflictor.runTask(e)}_updateLabels(e){if(this._dirty){this._dirty=!1;for(const t of this._labelingContexts)if(M(t)){if(!B(t)){if(k(t)){this._deactivateLabelingContext(t);continue}if(this._createLabelClassContext(t),z(t)){this._dirty=!0;continue}if(!B(t))continue}r(t.labelsToInitialize,((s,l)=>(this._ensureGraphics3DResources(s)&&(this._labels.set(l,s),this.deconflictor.setDirty(),e.madeProgress()),(s.visible&&s.textTextureResources.initialized||!s.visible&&s.hasGraphics3DResources)&&(t.labelsToInitialize.delete(l),e.madeProgress()),e.done)))&&(this._dirty=!0)}this._labelsToRemove.forEach((e=>this._removeLabelTextureFromAtlas(e))),this._labelsToAdd.forEach((e=>this._addLabelTextureToAtlas(e))),this._labelsToRemove.clear(),this._labelsToAdd.clear(),this._dirty||this.notifyChange(\"updating\")}}async _createLabelClassContextAsync(e){const t=e.labelClassAbortController.signal;await e.layer.when(),d(t),e.scaleVisibility&&e.scaleVisibility.updateScaleRangeActive();const i=e.graphics3DCore,a=i.layer,r=a.labelingInfo&&a.labelingInfo.filter((e=>!!e.symbol));if(!r||0===r.length)return;const o=new Array(r.length);let n=!1;await s(r,(async(s,a)=>{const r=s.symbol,c=G(i.getOrCreateGraphics3DSymbol(r));if(h(c))return void V.error(\"Failed to create Graphics3DSymbol for label\");await c.load(),d(t);let b=null;x(r)&&r.hasVisibleCallout()&&(b=L(r,i.symbolCreationContext),await b.load(),d(t));const p=await l(m(s,e.layer.fieldsIndex,this.view.spatialReference));if(d(t),!0===p.ok){const e=await this._createTextRenderParameters(c.symbol);d(t),o[a]={labelClass:s,labelFunction:p.value,graphics3DSymbol:c,graphics3DCalloutSymbolLayer:b,calloutSymbolLayerIndex:0,textRenderParameters:e}}else V.error(`Label expression failed to evaluate: ${p.error}`),n=!0})),d(t),n||(e.labelClassContexts=o)}async _createLabelClassContext(e){return e.labelClassPromise||(e.labelClassPromise=this._createLabelClassContextAsync(e).catch((t=>{if(p(t))throw t;e.labelClassContexts=null})).then((()=>{e.labelClassAbortController=null,this.notifyChange(\"updating\")})).catch((()=>{})),this.notifyChange(\"updating\")),e.labelClassPromise}async _createTextRenderParameters(e){const t=e.symbolLayers.getItemAt(0);return t&&\"text\"===t.type?P.fromSymbol(t,this.view.state.pixelRatio):null}_destroyLabelClassContext(e){for(const s of e.labelClassContexts)--s.graphics3DSymbol.referenced,s.graphics3DSymbol=null;const t=e.labelClassAbortController;e.labelClassAbortController=new AbortController,t&&t.abort(),e.labelClassContexts=[],e.labelClassPromise=null,this.notifyChange(\"updating\")}_createTextSymbolGraphic(e,t,s,l,i){const a={text:e.text,centerOffset:s.centerOffset,translation:s.translation,elevationOffset:s.elevationOffset,screenOffset:s.screenOffset,centerOffsetUnits:s.centerOffsetUnits,horizontalPlacement:R(s.anchor),verticalPlacement:A(s.anchor),verticalOffset:s.verticalOffset,debugDrawLabelBorder:S.LABELS_SHOW_BORDER,displayWidth:e.displayWidth,displayHeight:e.displayHeight};return N.graphic=t,N.renderingInfo=null,N.layer=l,i.createLabel(N,a,this._hudMaterialCollection,this._textTextureAtlas)}_createLineCalloutGraphic(e,t,s,l,i){const a={symbol:t,translation:l.translation,elevationOffset:l.elevationOffset,screenOffset:l.screenOffset,centerOffset:l.centerOffset,centerOffsetUnits:l.centerOffsetUnits,materialCollection:this._calloutMaterialCollection};return N.graphic=e,N.renderingInfo=a,N.layer=i,s.createGraphics3DGraphic(N)}_ensureGraphics3DResources(e){if(e.hasGraphics3DResources)return!1;const t=e.graphics3DGraphic;if(t.destroyed)return!1;this._ensureTextTextureResources(e);const{textTextureResources:s}=e,l=e.labelingContext,i=l.labelClassContexts;if(!i||0===i.length||!l.emptySymbolLabelSupported&&0===t.graphics.length)return!1;let a=!1;const r=t.graphic,o=l.layer,n=_(l.layer),b=this.view._stage;for(let d=0;d<i.length;d++){const e=s.textRenderers[d],p=s.labelPlacements[d];if(h(e)||h(p))continue;const u=i[d],g=u.graphics3DSymbol,y=g.symbol&&\"label-3d\"===g.symbol.type?g.symbol:null,f=g.symbolLayers[0];if(!f)continue;f.setElevationInfoOverride(l.elevationInfoOverride);const m=this._createTextSymbolGraphic(e,r,p,o,f);if(!m)return!1;m._labelClass=u.labelClass,m._labelIndex=d,t.addLabelGraphic(m,b,l.stageLayer),t.setVisibilityFlag(C.USER_SETTING,n,v.LABEL),t.clearVisibilityFlag(C.SCALE_RANGE,v.LABEL),t.setVisibilityFlag(C.DECONFLICTION,!1,v.LABEL),a=!0;const _=u.graphics3DCalloutSymbolLayer;if(_&&p.hasLabelVerticalOffset){_.setElevationInfoOverride(l.elevationInfoOverride);const e=this._createLineCalloutGraphic(r,y,_,p,o);c(e)&&(u.calloutSymbolLayerIndex=t.labelGraphics.length,t.addLabelGraphic(e,b,l.stageLayer))}break}return l.scaleVisibility&&a&&l.scaleVisibility.updateGraphicLabelScaleVisibility(t),e.hasGraphics3DResources=!0,!0}_destroyGraphics3DResources(e){const t=e.labelingContext.labelClassContexts;for(const s of e.graphics3DGraphic.labelGraphics){if(null==s._labelClass)continue;const e=t[s._labelIndex].graphics3DSymbol.symbolLayers[0];null!=e&&e.onRemoveGraphic(s)}e.graphics3DGraphic.clearLabelGraphics(),e.hasGraphics3DResources=!1}_ensureTextTextureResources(e){const{textTextureResources:t}=e;if(t.initialized)return;const s=e.labelingContext,l=s.labelClassContexts;if(!l||0===l.length)return;const i=e.graphics3DGraphic.graphic;for(let r=0;r<l.length;r++){const o=l[r];if(t.textRenderers[r]=null,t.labelPlacements[r]=null,!o.textRenderParameters)continue;const n=o.labelFunction;let c;if(\"arcade\"===n.type)try{const e=n.needsHydrationToEvaluate()?f(i,s.layer):i;c=n.evaluate(e)}catch(a){c=null}else c=n.evaluate(i);if(h(c)||\"\"===c||/^\\s+$/.test(c))continue;const b=o.graphics3DSymbol,d=b.symbol&&\"label-3d\"===b.symbol.type?b.symbol:null;if(!b.symbolLayers[0])continue;const p=e.graphics3DGraphic,u=o.labelClass,g=s.disablePlacement,y=D({graphics3DGraphic:p,labelSymbol:d,labelClass:u,disablePlacement:g});if(h(y))continue;const m=R(y.anchor),_=w(m);t.textRenderers[r]=new O(c,_,o.textRenderParameters),t.labelPlacements[r]=y}t.initialized=!0}_destroyTextTextureResources(e){const{textTextureResources:t}=e;t.initialized=!1,t.textRenderers=[],t.labelPlacements=[]}_addGraphic(e,t){const s={hasGraphics3DResources:!1,visible:!1,rendered:!1,labelingContext:e,graphics3DGraphic:t,textTextureResources:{initialized:!1,textRenderers:[],labelPlacements:[]}},l=t.graphic.uid;e.labels.set(l,s),e.labelsToInitialize.set(l,s),this.setDirty(),this.deconflictor.setDirty()}_removeGraphic(e,t){const s=t.graphic.uid,l=e.labels.get(s);l&&(this._destroyGraphic(l,s),e.labels.delete(s),e.labelsToInitialize.delete(s),this.setDirty(),this.deconflictor.setDirty())}_destroyGraphic(e,t){this._labels.has(t)&&(this._labels.delete(t),this._labelsToAdd.delete(t),this._labelsToRemove.delete(t)),e.textTextureResources.initialized&&(this._removeLabelTextureFromAtlas(e),this._destroyTextTextureResources(e)),e.hasGraphics3DResources&&this._destroyGraphics3DResources(e)}async _labelingInfoChange(e,t){if(!t)return this._visibilityInfoChange(e),this._resetLabels(e),this._createLabelClassContext(e);for(const s of t){const t=e.labels.get(s);t&&(this._removeGraphic(e,t.graphics3DGraphic),this._addGraphic(e,t.graphics3DGraphic))}}_globalPropertyChanged(e,t){for(const s of t.labelClassContexts){const l=new Map;t.labels.forEach((e=>{const t=e.graphics3DGraphic;l.set(t.graphic.uid,t)}));const i=e=>e.labelGraphics[0];if(b(s.graphics3DSymbol.symbolLayers[0]).globalPropertyChanged(e,l,i),s.graphics3DCalloutSymbolLayer){const t=e=>e.labelGraphics[s.calloutSymbolLayerIndex];s.graphics3DCalloutSymbolLayer.globalPropertyChanged(e,l,t)}}}_visibilityInfoChange(e){const t=e.layer.labelsVisible;t&&!e.active&&this._activateLabelingContext(e),!t&&e.active&&this._deactivateLabelingContext(e),this.setDirty()}_resetAllLabels(){for(const e of this._labelingContexts)this._resetLabels(e)}_resetLabels(e){e.labels.forEach(((t,s)=>{this._destroyGraphic(t,s),t.visible=!1,t.rendered=!1,e.labelsToInitialize.set(s,t)})),this._destroyLabelClassContext(e),this.setDirty(),this.deconflictor.setDirty()}_findLabelingContext(e){for(const t of this._labelingContexts)if(t.graphics3DCore===e)return t;return null}addGraphicsOwner(e,t,s){const l=s&&s.emptySymbolLabelSupported||!1,i=s&&s.elevationInfoOverride||null,a=s&&s.disablePlacement||null;if(this._findLabelingContext(e))return;const r=e.layer,o={graphics3DCore:e,layer:r,scaleVisibility:t,emptySymbolLabelSupported:l,elevationInfoOverride:i,disablePlacement:a,active:r.labelsVisible,labelClassPromise:null,labelClassAbortController:new AbortController,labelClassContexts:[],labels:new Map,labelsToInitialize:new Map,stageLayer:new E({isPickable:!0},r.uid)};return this.view._stage.add(o.stageLayer),this._labelingContexts.push(o),this.setDirty(),{addGraphic:e=>this._addGraphic(o,e),removeGraphic:e=>this._removeGraphic(o,e),featureReductionChange:()=>{},layerLabelsEnabled:()=>_(o.layer),labelingInfoChange:e=>this._labelingInfoChange(o,e),elevationInfoChange:()=>this._globalPropertyChanged(\"elevationInfo\",o),slicePlaneEnabledChange:()=>this._globalPropertyChanged(\"slicePlaneEnabled\",o),visibilityInfoChange:()=>this._visibilityInfoChange(o),reset:()=>this._resetLabels(o),clear:()=>{}}}removeGraphicsOwner(e){const t=this._findLabelingContext(e);if(!t)return;const s=this._labelingContexts.indexOf(t);this._labelingContexts.splice(s,1),t.labels.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),this.view._stage.remove(t.stageLayer),t.stageLayer=null,this.setDirty()}setLabelGraphicVisibility(e,t){const s=e.graphic.uid,l=this._labels.get(s);l&&l.visible!==t&&(t&&!l.rendered?(this._labelsToAdd.set(s,l),this._labelsToRemove.delete(s),l.textTextureResources.initialized||l.labelingContext.labelsToInitialize.set(s,l)):!t&&l.rendered&&(this._labelsToRemove.set(s,l),this._labelsToAdd.delete(s)),l.visible=t,this.setDirty())}setDirty(){!this._dirty&&this._labelingContexts.length>0&&(this._dirty=!0,this.notifyChange(\"updating\"))}get updating(){return this._dirty||this._textTextureAtlas?.updating||this.deconflictor.updating||this._labelingContexts.some((e=>z(e)))}get updatingProgress(){if(!this.updating||!this._textTextureAtlas)return 1;const e=this._labelingContexts.length>0?this._labelingContexts.reduce(((e,t)=>e+(z(t)?0:1)),0)/this._labelingContexts.length:1;return(this._dirty?0:.3)+(this._textTextureAtlas.updating?0:.1)+.1*e+.5*this.deconflictor.updatingProgress}get test(){return{textTextureAtlas:this._textTextureAtlas,resetAllLabels:()=>this._resetAllLabels()}}};function M(e){return e.active&&_(e.layer)}function z(e){return e.labelClassPromise&&!!e.labelClassAbortController}function B(e){return e.labelClassContexts&&e.labelClassContexts.length}function k(e){return null===e.labelClassContexts}e([g({constructOnly:!0})],F.prototype,\"view\",void 0),e([g({constructOnly:!0})],F.prototype,\"deconflictor\",void 0),e([g()],F.prototype,\"_textTextureAtlas\",void 0),e([g({type:Boolean,readOnly:!0})],F.prototype,\"updating\",null),F=e([y(\"esri.views.3d.layers.graphics.Labeler\")],F);const N=new T(null,null,null);export{F as Labeler};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}