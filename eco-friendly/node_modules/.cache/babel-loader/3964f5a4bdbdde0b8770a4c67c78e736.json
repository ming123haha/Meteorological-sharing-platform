{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../Graphic.js\";\nimport { cloneGeometry as t } from \"../../kernel.js\";\nimport { SqlError as r, SqlErrorCodes as s, FeatureSetError as a, FeatureSetErrorCodes as i } from \"../support/errorsupport.js\";\nimport l from \"../support/FeatureSet.js\";\nimport n from \"../support/IdSet.js\";\nimport { cloneField as o, FeatureServiceDatabaseType as h, layerGeometryEsriConstants as u } from \"../support/shared.js\";\nimport { reformulateWithoutField as c, toWhereClause as d, translateFunctionToDatabaseSpecific as p, makeToday as f, makeDateString as g, convertIntervalToSql as N, combine as _, scanForField as S } from \"../support/sqlUtils.js\";\nimport { unwrapOrThrow as w, assertIsSome as m } from \"../../../core/maybe.js\";\nimport { WhereClause as v } from \"../../../core/sql/WhereClause.js\";\nimport C from \"../../../geometry/SpatialReference.js\";\n\nclass T {\n  constructor(e) {\n    this.field = e, this.sqlRewritable = !1;\n  }\n\n  postInitialization(e, t) {}\n\n}\n\nclass F extends T {\n  constructor(e) {\n    super(e), this.sqlRewritable = !0;\n  }\n\n  extractValue(e) {\n    return e.attributes[this.field.name];\n  }\n\n  rewriteSql(e) {\n    return {\n      rewritten: this.sqlRewritable,\n      where: e\n    };\n  }\n\n}\n\nclass W extends T {\n  constructor(e, t, r) {\n    super(o(e)), this.originalField = e, this.sqlRewritable = !0, this.field.name = t, this.field.alias = r;\n  }\n\n  rewriteSql(e, t) {\n    return {\n      rewritten: this.sqlRewritable,\n      where: c(e, this.field.name, this.originalField.name, t.getFieldsIndex())\n    };\n  }\n\n  extractValue(e) {\n    return e.attributes[this.originalField.name];\n  }\n\n}\n\nclass E extends T {\n  constructor(e, t, r) {\n    super(e), this.codefield = t, this.lkp = r, this.reverseLkp = {};\n\n    for (const s in r) this.reverseLkp[r[s]] = s;\n\n    this.sqlRewritable = !0;\n  }\n\n  rewriteSql(e, t) {\n    const r = this.evaluateNodeToWhereClause(e.parseTree, h.Standardised, this.field.name, this.codefield instanceof v ? d(this.codefield, h.Standardised) : this.codefield, e.parameters);\n    return r.includes(E.BADNESS) ? {\n      rewritten: !1,\n      where: e\n    } : {\n      rewritten: this.sqlRewritable,\n      where: v.create(r, w(t._parent).getFieldsIndex())\n    };\n  }\n\n  evaluateNodeToWhereClause(e, t, a = null, i = null, l) {\n    let n, o, h, u;\n\n    switch (e.type) {\n      case \"interval\":\n        return N(this.evaluateNodeToWhereClause(e.value, t, a, i, l), e.qualifier, e.op);\n\n      case \"case-expression\":\n        {\n          let r = \" CASE \";\n          \"simple\" === e.format && (r += this.evaluateNodeToWhereClause(e.operand, t, a, E.BADNESS, l));\n\n          for (let s = 0; s < e.clauses.length; s++) r += \" WHEN \" + this.evaluateNodeToWhereClause(e.clauses[s].operand, t, a, E.BADNESS, l) + \" THEN \" + this.evaluateNodeToWhereClause(e.clauses[s].value, t, a, E.BADNESS, l);\n\n          return null !== e.else && (r += \" ELSE \" + this.evaluateNodeToWhereClause(e.else, t, a, E.BADNESS, l)), r += \" END \", r;\n        }\n\n      case \"parameter\":\n        {\n          const r = l[e.value.toLowerCase()];\n\n          if (\"string\" == typeof r) {\n            return \"'\" + l[e.value.toLowerCase()].toString().replace(/'/g, \"''\") + \"'\";\n          }\n\n          if (r instanceof Date) return g(r, t);\n\n          if (r instanceof Array) {\n            const e = [];\n\n            for (let s = 0; s < r.length; s++) \"string\" == typeof r[s] ? e.push(\"'\" + r[s].toString().replace(/'/g, \"''\") + \"'\") : r[s] instanceof Date ? e.push(g(r[s], t)) : e.push(r[s].toString());\n\n            return e;\n          }\n\n          return r.toString();\n        }\n\n      case \"expression-list\":\n        o = [];\n\n        for (const r of e.value) o.push(this.evaluateNodeToWhereClause(r, t, a, i, l));\n\n        return o;\n\n      case \"unary-expression\":\n        return \" ( NOT \" + this.evaluateNodeToWhereClause(e.expr, t, a, E.BADNESS, l) + \" ) \";\n\n      case \"binary-expression\":\n        switch (e.operator) {\n          case \"AND\":\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" AND \" + this.evaluateNodeToWhereClause(e.right, t, a, i, l) + \") \";\n\n          case \"OR\":\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" OR \" + this.evaluateNodeToWhereClause(e.right, t, a, i, l) + \") \";\n\n          case \"IS\":\n            if (\"null\" !== e.right.type) throw new r(s.UnsupportedIsRhs);\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IS NULL )\";\n\n          case \"ISNOT\":\n            if (\"null\" !== e.right.type) throw new r(s.UnsupportedIsRhs);\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IS NOT NULL )\";\n\n          case \"IN\":\n            if (n = [], \"expression-list\" === e.right.type) {\n              if (\"column-reference\" === e.left.type && e.left.column.toUpperCase() === this.field.name.toUpperCase()) {\n                const r = [];\n                let s = !0;\n\n                for (const t of e.right.value) {\n                  if (\"string\" !== t.type) {\n                    s = !1;\n                    break;\n                  }\n\n                  if (void 0 === this.lkp[t.value]) {\n                    s = !1;\n                    break;\n                  }\n\n                  r.push(this.lkp[t.value].toString());\n                }\n\n                if (s) return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IN (\" + r.join(\",\") + \")) \";\n              }\n\n              return n = this.evaluateNodeToWhereClause(e.right, t, a, i, l), \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IN (\" + n.join(\",\") + \")) \";\n            }\n\n            return u = this.evaluateNodeToWhereClause(e.right, t, a, i, l), u instanceof Array ? \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IN (\" + u.join(\",\") + \")) \" : \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" IN (\" + u + \")) \";\n\n          case \"NOT IN\":\n            if (n = [], \"expression-list\" === e.right.type) {\n              if (\"column-reference\" === e.left.type && e.left.column.toUpperCase() === this.field.name.toUpperCase()) {\n                const r = [];\n                let s = !0;\n\n                for (const t of e.right.value) {\n                  if (\"string\" !== t.type) {\n                    s = !1;\n                    break;\n                  }\n\n                  if (void 0 === this.lkp[t.value]) {\n                    s = !1;\n                    break;\n                  }\n\n                  r.push(this.lkp[t.value].toString());\n                }\n\n                if (s) return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" NOT IN (\" + r.join(\",\") + \")) \";\n              }\n\n              return n = this.evaluateNodeToWhereClause(e.right, t, a, i, l), \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" NOT IN (\" + n.join(\",\") + \")) \";\n            }\n\n            return u = this.evaluateNodeToWhereClause(e.right, t, a, i, l), u instanceof Array ? \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" NOT IN (\" + u.join(\",\") + \")) \" : \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, i, l) + \" NOT IN (\" + u + \")) \";\n\n          case \"BETWEEN\":\n            return h = this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l), \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" BETWEEN \" + h[0] + \" AND \" + h[1] + \" ) \";\n\n          case \"NOTBETWEEN\":\n            return h = this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l), \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" NOT BETWEEN \" + h[0] + \" AND \" + h[1] + \" ) \";\n\n          case \"LIKE\":\n            return \"\" !== e.escape ? \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" LIKE \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" LIKE \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \") \";\n\n          case \"NOT LIKE\":\n            return \"\" !== e.escape ? \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" NOT LIKE \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" NOT LIKE \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \") \";\n\n          case \"<>\":\n          case \"=\":\n            if (\"column-reference\" === e.left.type && \"string\" === e.right.type) {\n              if (e.left.column.toUpperCase() === this.field.name.toUpperCase() && void 0 !== this.lkp[e.right.value.toString()]) return \" (\" + i + \" \" + e.operator + \" \" + this.lkp[e.right.value.toString()].toString() + \") \";\n            } else if (\"column-reference\" === e.right.type && \"string\" === e.left.type && e.right.column.toUpperCase() === this.field.name.toUpperCase()) return \" (\" + this.lkp[e.right.value.toString()].toString() + \" \" + e.operator + \" \" + i + \") \";\n\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" \" + e.operator + \" \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \") \";\n\n          case \"<\":\n          case \">\":\n          case \">=\":\n          case \"<=\":\n          case \"*\":\n          case \"-\":\n          case \"+\":\n          case \"/\":\n            return \" (\" + this.evaluateNodeToWhereClause(e.left, t, a, E.BADNESS, l) + \" \" + e.operator + \" \" + this.evaluateNodeToWhereClause(e.right, t, a, E.BADNESS, l) + \") \";\n        }\n\n      case \"null\":\n        return \"null\";\n\n      case \"boolean\":\n        return !0 === e.value ? \"1\" : \"0\";\n\n      case \"string\":\n        return \"'\" + e.value.toString().replace(/'/g, \"''\") + \"'\";\n\n      case \"timestamp\":\n      case \"date\":\n        return g(e.value, t);\n\n      case \"number\":\n        return e.value.toString();\n\n      case \"current-time\":\n        return f(\"date\" === e.mode, t);\n\n      case \"column-reference\":\n        return a && a.toLowerCase() === e.column.toLowerCase() ? \"(\" + i + \")\" : e.column;\n\n      case \"function\":\n        {\n          const r = this.evaluateNodeToWhereClause(e.args, t, a, E.BADNESS, l);\n          return p(e.name, r, t);\n        }\n    }\n\n    throw new r(s.UnsupportedSyntax, {\n      node: e.type\n    });\n  }\n\n  extractValue(e) {\n    return this.codefield instanceof v ? this.reverseLkp[this.codefield.calculateValueCompiled(e)] : this.reverseLkp[e.attributes[this.codefield]];\n  }\n\n}\n\nE.BADNESS = \"_!!!_BAD_LKP_!!!!\";\n\nclass x extends T {\n  constructor(e, t) {\n    super(e), this._sql = t;\n  }\n\n  rewriteSql(e, t) {\n    return {\n      rewritten: !0,\n      where: c(e, this.field.name, d(this._sql, h.Standardised), t.getFieldsIndex())\n    };\n  }\n\n  extractValue(e) {\n    return this._sql.calculateValueCompiled(e);\n  }\n\n}\n\nclass A extends l {\n  constructor(e) {\n    super(e), this._calcFunc = null, this.declaredClass = \"esri.arcade.featureset.actions.Adapted\", this.adaptedFields = [], this._extraFilter = null, this._extraFilter = e.extraFilter, this._parent = e.parentfeatureset, this._maxProcessing = 30, this.adaptedFields = e.adaptedFields;\n  }\n\n  static findField(e, t) {\n    for (const r of e) if (r.name.toLowerCase() === t.toString().toLowerCase()) return r;\n\n    return null;\n  }\n\n  _initialiseFeatureSet() {\n    null !== this._parent ? (this.geometryType = this._parent.geometryType, this.objectIdField = this._parent.objectIdField, this.globalIdField = this._parent.globalIdField, this.spatialReference = this._parent.spatialReference, this.hasM = this._parent.hasM, this.hasZ = this._parent.hasZ, this.typeIdField = this._parent.typeIdField, this.types = this._parent.types) : (this.spatialReference = new C({\n      wkid: 4326\n    }), this.objectIdField = \"\", this.globalIdField = \"\", this.geometryType = u.point, this.typeIdField = \"\", this.types = null), this.fields = [];\n\n    for (const e of this.adaptedFields) e.postInitialization(this, this._parent), this.fields.push(e.field);\n  }\n\n  async _getSet(e) {\n    if (null === this._wset) {\n      await this._ensureLoaded();\n      let t = null;\n      return t = this._extraFilter ? await this._getFilteredSet(\"\", null, null, null, e) : await this._parent?._getSet(e), this._checkCancelled(e), m(t), this._wset = new n(t._candidates.slice(0), t._known.slice(0), t._ordered, this._clonePageDefinition(t.pagesDefinition)), this._wset;\n    }\n\n    return this._wset;\n  }\n\n  _isInFeatureSet(e) {\n    return w(this._parent)._isInFeatureSet(e);\n  }\n\n  async _getFeatures(r, s, a, i) {\n    const l = [];\n    -1 !== s && void 0 === this._featureCache[s] && l.push(s);\n\n    const o = this._maxQueryRate();\n\n    if (!0 === this._checkIfNeedToExpandKnownPage(r, o)) return await this._expandPagedSet(r, o, 0, 0, i), this._getFeatures(r, s, a, i);\n    let h = 0;\n\n    for (let e = r._lastFetchedIndex; e < r._known.length && (h++, h <= a && (r._lastFetchedIndex += 1), !(void 0 === this._featureCache[r._known[e]] && (r._known[e] !== s && l.push(r._known[e]), l.length >= o))); e++);\n\n    if (0 === l.length) return \"success\";\n    r = new n([], l, r._ordered, null);\n    const u = Math.min(l.length, a);\n    await this._parent?._getFeatures(r, -1, u, i), this._checkCancelled(i);\n    const c = [];\n\n    for (let e = 0; e < u; e++) {\n      const t = this._parent?._featureFromCache(l[e]);\n      void 0 !== t && c.push({\n        geometry: t.geometry,\n        attributes: t.attributes,\n        id: l[e]\n      });\n    }\n\n    for (const n of c) {\n      const r = [];\n\n      for (const e of this.adaptedFields) r[e.field.name] = e.extractValue(n);\n\n      this._featureCache[n.id] = new e({\n        attributes: r,\n        geometry: t(n.geometry)\n      });\n    }\n\n    return \"success\";\n  }\n\n  async _fetchAndRefineFeatures() {\n    throw new a(i.NeverReach);\n  }\n\n  async _getFilteredSet(e, t, r, s, a) {\n    let i = !1;\n\n    const l = this._reformulateWithoutAdaptions(r);\n\n    i = l.cannot, r = l.where;\n    let o = !1;\n\n    if (null !== s) {\n      o = !0;\n      const e = [];\n\n      for (const t of this.adaptedFields) if (!(t instanceof F) && !0 === s.scanForField(t.field.name)) {\n        if (!(t instanceof W)) {\n          s = null, o = !1;\n          break;\n        }\n\n        e.push({\n          field: t.field.name,\n          newfield: t.originalField.name\n        });\n      }\n\n      s && e.length > 0 && (s = s.replaceFields(e));\n    }\n\n    null !== r ? null !== this._extraFilter && (r = _(this._extraFilter, r)) : r = this._extraFilter, await this._ensureLoaded();\n    const h = await w(this._parent)._getFilteredSet(e, t, r, s, a);\n    let u;\n    return this._checkCancelled(a), u = !0 === i ? new n(h._candidates.slice(0).concat(h._known.slice(0)), [], !0 === o && h._ordered, this._clonePageDefinition(h.pagesDefinition)) : new n(h._candidates.slice(0), h._known.slice(0), !0 === o && h._ordered, this._clonePageDefinition(h.pagesDefinition)), u;\n  }\n\n  _reformulateWithoutAdaptions(e) {\n    const t = {\n      cannot: !1,\n      where: e\n    };\n    if (null !== e) for (const r of this.adaptedFields) if (!0 === S(e, r.field.name)) {\n      const s = r.rewriteSql(e, this);\n\n      if (!0 !== s.rewritten) {\n        t.cannot = !0, t.where = null;\n        break;\n      }\n\n      t.where = s.where;\n    }\n    return t;\n  }\n\n  async _stat(e, t, r, s, a, i, l) {\n    let n = !1,\n        o = this._reformulateWithoutAdaptions(t);\n\n    if (n = o.cannot, t = o.where, o = this._reformulateWithoutAdaptions(a), n = n || o.cannot, null !== (a = o.where) ? null !== this._extraFilter && (a = _(this._extraFilter, a)) : a = this._extraFilter, !0 === n) return null === a && \"\" === r && null === s ? this._manualStat(e, t, i, l) : {\n      calculated: !1\n    };\n    const h = await w(this._parent)._stat(e, t, r, s, a, i, l);\n    return !1 === h.calculated ? null === a && \"\" === r && null === s ? this._manualStat(e, t, i, l) : {\n      calculated: !1\n    } : h;\n  }\n\n  async _canDoAggregates(e, t, r, s, a) {\n    if (null === this._parent) return !1;\n\n    for (let n = 0; n < e.length; n++) for (const t of this.adaptedFields) if (e[n].toLowerCase() === t.field.name.toLowerCase() && !(t instanceof F)) return !1;\n\n    const i = [];\n\n    for (let n = 0; n < t.length; n++) {\n      const e = t[n];\n\n      if (null !== e.workingexpr) {\n        const t = this._reformulateWithoutAdaptions(e.workingexpr);\n\n        if (t.cannot) return !1;\n        const r = e.clone();\n        r.workingexpr = t.where, i.push(r);\n      } else i.push(e);\n    }\n\n    const l = this._reformulateWithoutAdaptions(a);\n\n    return !l.cannot && (null !== (a = l.where) ? null !== this._extraFilter && (a = _(this._extraFilter, a)) : a = this._extraFilter, this._parent._canDoAggregates(e, i, r, s, a));\n  }\n\n  async _getAggregatePagesDataSourceDefinition(e, t, r, s, l, n, o) {\n    if (null === this._parent) throw new a(i.NeverReach);\n    const h = [];\n\n    for (let c = 0; c < t.length; c++) {\n      const e = t[c];\n\n      if (null !== e.workingexpr) {\n        const t = this._reformulateWithoutAdaptions(e.workingexpr);\n\n        if (t.cannot) throw new a(i.NeverReach);\n        const r = e.clone();\n        r.workingexpr = t.where, h.push(r);\n      } else h.push(e);\n    }\n\n    const u = this._reformulateWithoutAdaptions(l);\n\n    if (u.cannot) throw new a(i.NeverReach);\n    return null !== (l = u.where) ? null !== this._extraFilter && (l = _(this._extraFilter, l)) : l = this._extraFilter, this._parent._getAggregatePagesDataSourceDefinition(e, h, r, s, l, n, o);\n  }\n\n}\n\nexport { A as AdaptedFeatureSet, T as AdaptedField, W as FieldRename, F as OriginalField, x as SqlExpressionAdapted, E as StringToCodeAdapted };","map":{"version":3,"names":["e","cloneGeometry","t","SqlError","r","SqlErrorCodes","s","FeatureSetError","a","FeatureSetErrorCodes","i","l","n","cloneField","o","FeatureServiceDatabaseType","h","layerGeometryEsriConstants","u","reformulateWithoutField","c","toWhereClause","d","translateFunctionToDatabaseSpecific","p","makeToday","f","makeDateString","g","convertIntervalToSql","N","combine","_","scanForField","S","unwrapOrThrow","w","assertIsSome","m","WhereClause","v","C","T","constructor","field","sqlRewritable","postInitialization","F","extractValue","attributes","name","rewriteSql","rewritten","where","W","originalField","alias","getFieldsIndex","E","codefield","lkp","reverseLkp","evaluateNodeToWhereClause","parseTree","Standardised","parameters","includes","BADNESS","create","_parent","type","value","qualifier","op","format","operand","clauses","length","else","toLowerCase","toString","replace","Date","Array","push","expr","operator","left","right","UnsupportedIsRhs","column","toUpperCase","join","escape","mode","args","UnsupportedSyntax","node","calculateValueCompiled","x","_sql","A","_calcFunc","declaredClass","adaptedFields","_extraFilter","extraFilter","parentfeatureset","_maxProcessing","findField","_initialiseFeatureSet","geometryType","objectIdField","globalIdField","spatialReference","hasM","hasZ","typeIdField","types","wkid","point","fields","_getSet","_wset","_ensureLoaded","_getFilteredSet","_checkCancelled","_candidates","slice","_known","_ordered","_clonePageDefinition","pagesDefinition","_isInFeatureSet","_getFeatures","_featureCache","_maxQueryRate","_checkIfNeedToExpandKnownPage","_expandPagedSet","_lastFetchedIndex","Math","min","_featureFromCache","geometry","id","_fetchAndRefineFeatures","NeverReach","_reformulateWithoutAdaptions","cannot","newfield","replaceFields","concat","_stat","_manualStat","calculated","_canDoAggregates","workingexpr","clone","_getAggregatePagesDataSourceDefinition","AdaptedFeatureSet","AdaptedField","FieldRename","OriginalField","SqlExpressionAdapted","StringToCodeAdapted"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/featureset/actions/Adapted.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{cloneGeometry as t}from\"../../kernel.js\";import{SqlError as r,SqlErrorCodes as s,FeatureSetError as a,FeatureSetErrorCodes as i}from\"../support/errorsupport.js\";import l from\"../support/FeatureSet.js\";import n from\"../support/IdSet.js\";import{cloneField as o,FeatureServiceDatabaseType as h,layerGeometryEsriConstants as u}from\"../support/shared.js\";import{reformulateWithoutField as c,toWhereClause as d,translateFunctionToDatabaseSpecific as p,makeToday as f,makeDateString as g,convertIntervalToSql as N,combine as _,scanForField as S}from\"../support/sqlUtils.js\";import{unwrapOrThrow as w,assertIsSome as m}from\"../../../core/maybe.js\";import{WhereClause as v}from\"../../../core/sql/WhereClause.js\";import C from\"../../../geometry/SpatialReference.js\";class T{constructor(e){this.field=e,this.sqlRewritable=!1}postInitialization(e,t){}}class F extends T{constructor(e){super(e),this.sqlRewritable=!0}extractValue(e){return e.attributes[this.field.name]}rewriteSql(e){return{rewritten:this.sqlRewritable,where:e}}}class W extends T{constructor(e,t,r){super(o(e)),this.originalField=e,this.sqlRewritable=!0,this.field.name=t,this.field.alias=r}rewriteSql(e,t){return{rewritten:this.sqlRewritable,where:c(e,this.field.name,this.originalField.name,t.getFieldsIndex())}}extractValue(e){return e.attributes[this.originalField.name]}}class E extends T{constructor(e,t,r){super(e),this.codefield=t,this.lkp=r,this.reverseLkp={};for(const s in r)this.reverseLkp[r[s]]=s;this.sqlRewritable=!0}rewriteSql(e,t){const r=this.evaluateNodeToWhereClause(e.parseTree,h.Standardised,this.field.name,this.codefield instanceof v?d(this.codefield,h.Standardised):this.codefield,e.parameters);return r.includes(E.BADNESS)?{rewritten:!1,where:e}:{rewritten:this.sqlRewritable,where:v.create(r,w(t._parent).getFieldsIndex())}}evaluateNodeToWhereClause(e,t,a=null,i=null,l){let n,o,h,u;switch(e.type){case\"interval\":return N(this.evaluateNodeToWhereClause(e.value,t,a,i,l),e.qualifier,e.op);case\"case-expression\":{let r=\" CASE \";\"simple\"===e.format&&(r+=this.evaluateNodeToWhereClause(e.operand,t,a,E.BADNESS,l));for(let s=0;s<e.clauses.length;s++)r+=\" WHEN \"+this.evaluateNodeToWhereClause(e.clauses[s].operand,t,a,E.BADNESS,l)+\" THEN \"+this.evaluateNodeToWhereClause(e.clauses[s].value,t,a,E.BADNESS,l);return null!==e.else&&(r+=\" ELSE \"+this.evaluateNodeToWhereClause(e.else,t,a,E.BADNESS,l)),r+=\" END \",r}case\"parameter\":{const r=l[e.value.toLowerCase()];if(\"string\"==typeof r){return\"'\"+l[e.value.toLowerCase()].toString().replace(/'/g,\"''\")+\"'\"}if(r instanceof Date)return g(r,t);if(r instanceof Array){const e=[];for(let s=0;s<r.length;s++)\"string\"==typeof r[s]?e.push(\"'\"+r[s].toString().replace(/'/g,\"''\")+\"'\"):r[s]instanceof Date?e.push(g(r[s],t)):e.push(r[s].toString());return e}return r.toString()}case\"expression-list\":o=[];for(const r of e.value)o.push(this.evaluateNodeToWhereClause(r,t,a,i,l));return o;case\"unary-expression\":return\" ( NOT \"+this.evaluateNodeToWhereClause(e.expr,t,a,E.BADNESS,l)+\" ) \";case\"binary-expression\":switch(e.operator){case\"AND\":return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" AND \"+this.evaluateNodeToWhereClause(e.right,t,a,i,l)+\") \";case\"OR\":return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" OR \"+this.evaluateNodeToWhereClause(e.right,t,a,i,l)+\") \";case\"IS\":if(\"null\"!==e.right.type)throw new r(s.UnsupportedIsRhs);return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IS NULL )\";case\"ISNOT\":if(\"null\"!==e.right.type)throw new r(s.UnsupportedIsRhs);return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IS NOT NULL )\";case\"IN\":if(n=[],\"expression-list\"===e.right.type){if(\"column-reference\"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const r=[];let s=!0;for(const t of e.right.value){if(\"string\"!==t.type){s=!1;break}if(void 0===this.lkp[t.value]){s=!1;break}r.push(this.lkp[t.value].toString())}if(s)return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IN (\"+r.join(\",\")+\")) \"}return n=this.evaluateNodeToWhereClause(e.right,t,a,i,l),\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IN (\"+n.join(\",\")+\")) \"}return u=this.evaluateNodeToWhereClause(e.right,t,a,i,l),u instanceof Array?\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IN (\"+u.join(\",\")+\")) \":\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" IN (\"+u+\")) \";case\"NOT IN\":if(n=[],\"expression-list\"===e.right.type){if(\"column-reference\"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const r=[];let s=!0;for(const t of e.right.value){if(\"string\"!==t.type){s=!1;break}if(void 0===this.lkp[t.value]){s=!1;break}r.push(this.lkp[t.value].toString())}if(s)return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" NOT IN (\"+r.join(\",\")+\")) \"}return n=this.evaluateNodeToWhereClause(e.right,t,a,i,l),\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" NOT IN (\"+n.join(\",\")+\")) \"}return u=this.evaluateNodeToWhereClause(e.right,t,a,i,l),u instanceof Array?\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" NOT IN (\"+u.join(\",\")+\")) \":\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,i,l)+\" NOT IN (\"+u+\")) \";case\"BETWEEN\":return h=this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l),\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" BETWEEN \"+h[0]+\" AND \"+h[1]+\" ) \";case\"NOTBETWEEN\":return h=this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l),\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" NOT BETWEEN \"+h[0]+\" AND \"+h[1]+\" ) \";case\"LIKE\":return\"\"!==e.escape?\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" LIKE \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" LIKE \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\") \";case\"NOT LIKE\":return\"\"!==e.escape?\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" NOT LIKE \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" NOT LIKE \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\") \";case\"<>\":case\"=\":if(\"column-reference\"===e.left.type&&\"string\"===e.right.type){if(e.left.column.toUpperCase()===this.field.name.toUpperCase()&&void 0!==this.lkp[e.right.value.toString()])return\" (\"+i+\" \"+e.operator+\" \"+this.lkp[e.right.value.toString()].toString()+\") \"}else if(\"column-reference\"===e.right.type&&\"string\"===e.left.type&&e.right.column.toUpperCase()===this.field.name.toUpperCase())return\" (\"+this.lkp[e.right.value.toString()].toString()+\" \"+e.operator+\" \"+i+\") \";return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" \"+e.operator+\" \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\") \";case\"<\":case\">\":case\">=\":case\"<=\":case\"*\":case\"-\":case\"+\":case\"/\":return\" (\"+this.evaluateNodeToWhereClause(e.left,t,a,E.BADNESS,l)+\" \"+e.operator+\" \"+this.evaluateNodeToWhereClause(e.right,t,a,E.BADNESS,l)+\") \"}case\"null\":return\"null\";case\"boolean\":return!0===e.value?\"1\":\"0\";case\"string\":return\"'\"+e.value.toString().replace(/'/g,\"''\")+\"'\";case\"timestamp\":case\"date\":return g(e.value,t);case\"number\":return e.value.toString();case\"current-time\":return f(\"date\"===e.mode,t);case\"column-reference\":return a&&a.toLowerCase()===e.column.toLowerCase()?\"(\"+i+\")\":e.column;case\"function\":{const r=this.evaluateNodeToWhereClause(e.args,t,a,E.BADNESS,l);return p(e.name,r,t)}}throw new r(s.UnsupportedSyntax,{node:e.type})}extractValue(e){return this.codefield instanceof v?this.reverseLkp[this.codefield.calculateValueCompiled(e)]:this.reverseLkp[e.attributes[this.codefield]]}}E.BADNESS=\"_!!!_BAD_LKP_!!!!\";class x extends T{constructor(e,t){super(e),this._sql=t}rewriteSql(e,t){return{rewritten:!0,where:c(e,this.field.name,d(this._sql,h.Standardised),t.getFieldsIndex())}}extractValue(e){return this._sql.calculateValueCompiled(e)}}class A extends l{constructor(e){super(e),this._calcFunc=null,this.declaredClass=\"esri.arcade.featureset.actions.Adapted\",this.adaptedFields=[],this._extraFilter=null,this._extraFilter=e.extraFilter,this._parent=e.parentfeatureset,this._maxProcessing=30,this.adaptedFields=e.adaptedFields}static findField(e,t){for(const r of e)if(r.name.toLowerCase()===t.toString().toLowerCase())return r;return null}_initialiseFeatureSet(){null!==this._parent?(this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.spatialReference=new C({wkid:4326}),this.objectIdField=\"\",this.globalIdField=\"\",this.geometryType=u.point,this.typeIdField=\"\",this.types=null),this.fields=[];for(const e of this.adaptedFields)e.postInitialization(this,this._parent),this.fields.push(e.field)}async _getSet(e){if(null===this._wset){await this._ensureLoaded();let t=null;return t=this._extraFilter?await this._getFilteredSet(\"\",null,null,null,e):await(this._parent?._getSet(e)),this._checkCancelled(e),m(t),this._wset=new n(t._candidates.slice(0),t._known.slice(0),t._ordered,this._clonePageDefinition(t.pagesDefinition)),this._wset}return this._wset}_isInFeatureSet(e){return w(this._parent)._isInFeatureSet(e)}async _getFeatures(r,s,a,i){const l=[];-1!==s&&void 0===this._featureCache[s]&&l.push(s);const o=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(r,o))return await this._expandPagedSet(r,o,0,0,i),this._getFeatures(r,s,a,i);let h=0;for(let e=r._lastFetchedIndex;e<r._known.length&&(h++,h<=a&&(r._lastFetchedIndex+=1),!(void 0===this._featureCache[r._known[e]]&&(r._known[e]!==s&&l.push(r._known[e]),l.length>=o)));e++);if(0===l.length)return\"success\";r=new n([],l,r._ordered,null);const u=Math.min(l.length,a);await(this._parent?._getFeatures(r,-1,u,i)),this._checkCancelled(i);const c=[];for(let e=0;e<u;e++){const t=this._parent?._featureFromCache(l[e]);void 0!==t&&c.push({geometry:t.geometry,attributes:t.attributes,id:l[e]})}for(const n of c){const r=[];for(const e of this.adaptedFields)r[e.field.name]=e.extractValue(n);this._featureCache[n.id]=new e({attributes:r,geometry:t(n.geometry)})}return\"success\"}async _fetchAndRefineFeatures(){throw new a(i.NeverReach)}async _getFilteredSet(e,t,r,s,a){let i=!1;const l=this._reformulateWithoutAdaptions(r);i=l.cannot,r=l.where;let o=!1;if(null!==s){o=!0;const e=[];for(const t of this.adaptedFields)if(!(t instanceof F)&&!0===s.scanForField(t.field.name)){if(!(t instanceof W)){s=null,o=!1;break}e.push({field:t.field.name,newfield:t.originalField.name})}s&&e.length>0&&(s=s.replaceFields(e))}null!==r?null!==this._extraFilter&&(r=_(this._extraFilter,r)):r=this._extraFilter,await this._ensureLoaded();const h=await w(this._parent)._getFilteredSet(e,t,r,s,a);let u;return this._checkCancelled(a),u=!0===i?new n(h._candidates.slice(0).concat(h._known.slice(0)),[],!0===o&&h._ordered,this._clonePageDefinition(h.pagesDefinition)):new n(h._candidates.slice(0),h._known.slice(0),!0===o&&h._ordered,this._clonePageDefinition(h.pagesDefinition)),u}_reformulateWithoutAdaptions(e){const t={cannot:!1,where:e};if(null!==e)for(const r of this.adaptedFields)if(!0===S(e,r.field.name)){const s=r.rewriteSql(e,this);if(!0!==s.rewritten){t.cannot=!0,t.where=null;break}t.where=s.where}return t}async _stat(e,t,r,s,a,i,l){let n=!1,o=this._reformulateWithoutAdaptions(t);if(n=o.cannot,t=o.where,o=this._reformulateWithoutAdaptions(a),n=n||o.cannot,null!==(a=o.where)?null!==this._extraFilter&&(a=_(this._extraFilter,a)):a=this._extraFilter,!0===n)return null===a&&\"\"===r&&null===s?this._manualStat(e,t,i,l):{calculated:!1};const h=await w(this._parent)._stat(e,t,r,s,a,i,l);return!1===h.calculated?null===a&&\"\"===r&&null===s?this._manualStat(e,t,i,l):{calculated:!1}:h}async _canDoAggregates(e,t,r,s,a){if(null===this._parent)return!1;for(let n=0;n<e.length;n++)for(const t of this.adaptedFields)if(e[n].toLowerCase()===t.field.name.toLowerCase()&&!(t instanceof F))return!1;const i=[];for(let n=0;n<t.length;n++){const e=t[n];if(null!==e.workingexpr){const t=this._reformulateWithoutAdaptions(e.workingexpr);if(t.cannot)return!1;const r=e.clone();r.workingexpr=t.where,i.push(r)}else i.push(e)}const l=this._reformulateWithoutAdaptions(a);return!l.cannot&&(null!==(a=l.where)?null!==this._extraFilter&&(a=_(this._extraFilter,a)):a=this._extraFilter,this._parent._canDoAggregates(e,i,r,s,a))}async _getAggregatePagesDataSourceDefinition(e,t,r,s,l,n,o){if(null===this._parent)throw new a(i.NeverReach);const h=[];for(let c=0;c<t.length;c++){const e=t[c];if(null!==e.workingexpr){const t=this._reformulateWithoutAdaptions(e.workingexpr);if(t.cannot)throw new a(i.NeverReach);const r=e.clone();r.workingexpr=t.where,h.push(r)}else h.push(e)}const u=this._reformulateWithoutAdaptions(l);if(u.cannot)throw new a(i.NeverReach);return null!==(l=u.where)?null!==this._extraFilter&&(l=_(this._extraFilter,l)):l=this._extraFilter,this._parent._getAggregatePagesDataSourceDefinition(e,h,r,s,l,n,o)}}export{A as AdaptedFeatureSet,T as AdaptedField,W as FieldRename,F as OriginalField,x as SqlExpressionAdapted,E as StringToCodeAdapted};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}