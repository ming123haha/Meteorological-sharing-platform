{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { dom as e } from \"../maquette/dom.js\";\nimport \"../maquette/projector.js\";\nimport { defaultAdvancedProjectorOptions as t } from \"./advanced-projector-options.js\";\nimport { applyDefaultProjectionOptions as r } from \"./utils.js\";\n\nconst o = (e, t) => {\n  const r = [];\n\n  for (; e && e !== t;) r.push(e), e = e.parentNode;\n\n  return r;\n},\n      n = (e, t) => e.find(t),\n      d = (e, t, r = !1) => {\n  let o = e;\n  return t.forEach((e, d) => {\n    const s = o?.children ? n(o.children, t => t.domNode === e) : void 0;\n    r && !s && d !== t.length - 1 || (o = s);\n  }), o;\n},\n      s = n => {\n  let s;\n  const i = { ...t,\n    ...n\n  },\n        c = r(i),\n        a = c.performanceLogger;\n  let m,\n      p = !0,\n      l = !1;\n\n  const f = [],\n        u = [],\n        h = (e, t, r) => {\n    let n;\n    c.eventHandlerInterceptor = (e, t, r, c) => function (e) {\n      let t;\n      a(\"domEvent\", e);\n      const r = o(e.currentTarget, n.domNode),\n            c = r.some(e => customElements.get(e?.tagName?.toLowerCase()));\n      if (e.eventPhase === Event.CAPTURING_PHASE || !c) r.reverse(), t = d(n.getLastRender(), r);else {\n        const r = e.composedPath(),\n              o = r.slice(r.indexOf(e.currentTarget), r.indexOf(n.domNode)).filter(e => e.getRootNode() === e.ownerDocument).reverse();\n        t = d(n.getLastRender(), o, !0);\n      }\n      let m;\n      return t && (m = i.handleInterceptedEvent(s, t, this, e)), a(\"domEventProcessed\", e), m;\n    }, i.postProcessProjectionOptions?.(c);\n    const m = r();\n    n = e(t, m, c), f.push(n), u.push(r), i.afterFirstVNodeRendered && i.afterFirstVNodeRendered(n, m);\n  };\n\n  let v = () => {\n    if (m = void 0, p) {\n      p = !1, a(\"renderStart\", void 0);\n\n      for (let e = 0; e < f.length; e++) {\n        const t = u[e]();\n        a(\"rendered\", void 0), f[e].update(t), a(\"patched\", void 0);\n      }\n\n      a(\"renderDone\", void 0), p = !0;\n    }\n  };\n\n  return i.modifyDoRenderImplementation && (v = i.modifyDoRenderImplementation(v, f, u)), s = {\n    renderNow: v,\n    scheduleRender: () => {\n      m || l || (m = requestAnimationFrame(v));\n    },\n    stop: () => {\n      m && (cancelAnimationFrame(m), m = void 0), l = !0;\n    },\n    resume: () => {\n      l = !1, p = !0, s.scheduleRender();\n    },\n    append: (t, r) => {\n      h(e.append, t, r);\n    },\n    insertBefore: (t, r) => {\n      h(e.insertBefore, t, r);\n    },\n    merge: (t, r) => {\n      h(e.merge, t, r);\n    },\n    replace: (t, r) => {\n      h(e.replace, t, r);\n    },\n    detach: e => {\n      for (let t = 0; t < u.length; t++) if (u[t] === e) return u.splice(t, 1), f.splice(t, 1)[0];\n\n      throw new Error(\"renderFunction was not found\");\n    }\n  }, s;\n};\n\nexport { s as createAdvancedProjector };","map":{"version":3,"names":["dom","e","defaultAdvancedProjectorOptions","t","applyDefaultProjectionOptions","r","o","push","parentNode","n","find","d","forEach","s","children","domNode","length","i","c","a","performanceLogger","m","p","l","f","u","h","eventHandlerInterceptor","currentTarget","some","customElements","get","tagName","toLowerCase","eventPhase","Event","CAPTURING_PHASE","reverse","getLastRender","composedPath","slice","indexOf","filter","getRootNode","ownerDocument","handleInterceptedEvent","postProcessProjectionOptions","afterFirstVNodeRendered","v","update","modifyDoRenderImplementation","renderNow","scheduleRender","requestAnimationFrame","stop","cancelAnimationFrame","resume","append","insertBefore","merge","replace","detach","splice","Error","createAdvancedProjector"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{dom as e}from\"../maquette/dom.js\";import\"../maquette/projector.js\";import{defaultAdvancedProjectorOptions as t}from\"./advanced-projector-options.js\";import{applyDefaultProjectionOptions as r}from\"./utils.js\";const o=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},n=(e,t)=>e.find(t),d=(e,t,r=!1)=>{let o=e;return t.forEach(((e,d)=>{const s=o?.children?n(o.children,(t=>t.domNode===e)):void 0;r&&!s&&d!==t.length-1||(o=s)})),o},s=n=>{let s;const i={...t,...n},c=r(i),a=c.performanceLogger;let m,p=!0,l=!1;const f=[],u=[],h=(e,t,r)=>{let n;c.eventHandlerInterceptor=(e,t,r,c)=>function(e){let t;a(\"domEvent\",e);const r=o(e.currentTarget,n.domNode),c=r.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase===Event.CAPTURING_PHASE||!c)r.reverse(),t=d(n.getLastRender(),r);else{const r=e.composedPath(),o=r.slice(r.indexOf(e.currentTarget),r.indexOf(n.domNode)).filter((e=>e.getRootNode()===e.ownerDocument)).reverse();t=d(n.getLastRender(),o,!0)}let m;return t&&(m=i.handleInterceptedEvent(s,t,this,e)),a(\"domEventProcessed\",e),m},i.postProcessProjectionOptions?.(c);const m=r();n=e(t,m,c),f.push(n),u.push(r),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(n,m)};let v=()=>{if(m=void 0,p){p=!1,a(\"renderStart\",void 0);for(let e=0;e<f.length;e++){const t=u[e]();a(\"rendered\",void 0),f[e].update(t),a(\"patched\",void 0)}a(\"renderDone\",void 0),p=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,f,u)),s={renderNow:v,scheduleRender:()=>{m||l||(m=requestAnimationFrame(v))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0),l=!0},resume:()=>{l=!1,p=!0,s.scheduleRender()},append:(t,r)=>{h(e.append,t,r)},insertBefore:(t,r)=>{h(e.insertBefore,t,r)},merge:(t,r)=>{h(e.merge,t,r)},replace:(t,r)=>{h(e.replace,t,r)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),f.splice(t,1)[0];throw new Error(\"renderFunction was not found\")}},s};export{s as createAdvancedProjector};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}