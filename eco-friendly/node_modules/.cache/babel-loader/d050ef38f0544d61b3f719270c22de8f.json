{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/ObjectPool.js\";\nimport t from \"../../../core/PooledArray.js\";\nimport { c as s } from \"../../../chunks/vec4.js\";\nimport { c as i } from \"../../../chunks/vec4f64.js\";\n\nclass r {\n  constructor() {\n    this.extent = i(), this.minLevel = 0, this.maxLevel = 0, this.callback = null;\n  }\n\n}\n\nclass u {\n  constructor() {\n    this._queries = new t({\n      initialSize: 10\n    }), this._queriesInvPtr = 0, this._queryQueue = new t({\n      initialSize: 30\n    }), this._queryPool = new e(r);\n  }\n\n  queryVisibleLevelRange(e, t, i, r) {\n    const u = this._queryPool.acquire();\n\n    s(u.extent, e), u.minLevel = t || -Number.MAX_VALUE, u.maxLevel = null != i ? i : Number.MAX_VALUE, u.callback = r, this._queryQueue.push(u);\n  }\n\n  hasPendingQueries() {\n    return 0 !== this._queryQueue.length;\n  }\n\n  prepareQueries() {\n    for (; this._queries.length < this._queries.data.length && this._queryQueue.length > 0;) {\n      const e = this._queryQueue.pop();\n\n      this._queries.push(e);\n    }\n\n    this._queriesInvPtr = this._queries.length;\n  }\n\n  processQueries() {\n    for (let e = 0; e < this._queries.length; e++) {\n      const t = this._queries.data[e];\n      this._queryPool.release(t), t.callback(e >= this._queriesInvPtr), t.callback = null;\n    }\n\n    this._queries.clear();\n  }\n\n  scaleQueriesForTile(e) {\n    const t = e.level;\n    let s = 0;\n\n    for (; s < this._queriesInvPtr;) {\n      const i = this._queries.data[s],\n            r = i.extent;\n      t >= i.minLevel && t <= i.maxLevel && r[0] <= e.extent[2] && r[2] >= e.extent[0] && r[1] <= e.extent[3] && r[3] >= e.extent[1] ? (this._queries.swapElements(s, this._queriesInvPtr - 1), this._queriesInvPtr--) : s++;\n    }\n  }\n\n}\n\nexport { u as ScaleRangeQueries };","map":{"version":3,"names":["e","t","c","s","i","r","constructor","extent","minLevel","maxLevel","callback","u","_queries","initialSize","_queriesInvPtr","_queryQueue","_queryPool","queryVisibleLevelRange","acquire","Number","MAX_VALUE","push","hasPendingQueries","length","prepareQueries","data","pop","processQueries","release","clear","scaleQueriesForTile","level","swapElements","ScaleRangeQueries"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/ScaleRangeQueries.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/ObjectPool.js\";import t from\"../../../core/PooledArray.js\";import{c as s}from\"../../../chunks/vec4.js\";import{c as i}from\"../../../chunks/vec4f64.js\";class r{constructor(){this.extent=i(),this.minLevel=0,this.maxLevel=0,this.callback=null}}class u{constructor(){this._queries=new t({initialSize:10}),this._queriesInvPtr=0,this._queryQueue=new t({initialSize:30}),this._queryPool=new e(r)}queryVisibleLevelRange(e,t,i,r){const u=this._queryPool.acquire();s(u.extent,e),u.minLevel=t||-Number.MAX_VALUE,u.maxLevel=null!=i?i:Number.MAX_VALUE,u.callback=r,this._queryQueue.push(u)}hasPendingQueries(){return 0!==this._queryQueue.length}prepareQueries(){for(;this._queries.length<this._queries.data.length&&this._queryQueue.length>0;){const e=this._queryQueue.pop();this._queries.push(e)}this._queriesInvPtr=this._queries.length}processQueries(){for(let e=0;e<this._queries.length;e++){const t=this._queries.data[e];this._queryPool.release(t),t.callback(e>=this._queriesInvPtr),t.callback=null}this._queries.clear()}scaleQueriesForTile(e){const t=e.level;let s=0;for(;s<this._queriesInvPtr;){const i=this._queries.data[s],r=i.extent;t>=i.minLevel&&t<=i.maxLevel&&r[0]<=e.extent[2]&&r[2]>=e.extent[0]&&r[1]<=e.extent[3]&&r[3]>=e.extent[1]?(this._queries.swapElements(s,this._queriesInvPtr-1),this._queriesInvPtr--):s++}}}export{u as ScaleRangeQueries};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}