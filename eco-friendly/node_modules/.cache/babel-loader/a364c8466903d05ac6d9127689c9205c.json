{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";\nimport { SliceDraw as i } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { OutputHighlight as o } from \"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";\nimport { RgbaFloatEncoding as r } from \"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";\nimport { Float2PassUniform as t } from \"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";\nimport { Float2Uniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Float2Uniform.js\";\nimport { Float3Uniform as a } from \"../views/3d/webgl-engine/core/shaderModules/Float3Uniform.js\";\nimport { glsl as s } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { Matrix4PassUniform as d } from \"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";\nimport { Matrix4Uniform as l } from \"../views/3d/webgl-engine/core/shaderModules/Matrix4Uniform.js\";\nimport { ShaderBuilder as c } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as p } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction m(m) {\n  const f = new c(),\n        g = m.output === e.Color,\n        u = m.output === e.Depth,\n        v = m.output === e.Highlight,\n        {\n    vertex: w,\n    fragment: S\n  } = f;\n  return f.extensions.add(\"GL_OES_standard_derivatives\"), f.include(i, m), f.attributes.add(p.POSITION, \"vec3\"), f.attributes.add(p.COLOR, \"vec3\"), w.uniforms.add(new l(\"modelView\")), w.uniforms.add(new d(\"proj\", (e, i) => i.camera.projectionMatrix)), w.uniforms.add(new n(\"screenMinMaxSize\")), w.uniforms.add(new n(\"pointScale\")), w.uniforms.add(new a(\"clipMin\")), w.uniforms.add(new a(\"clipMax\")), u ? (w.uniforms.add(new t(\"nearFar\", (e, i) => i.camera.nearFar)), f.varyings.add(\"depth\", \"float\")) : m.output !== e.Highlight && f.varyings.add(\"vColor\", \"vec3\"), w.code.add(s`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${m.drawScreenSize ? s`\n      float clampedScreenSize = pointSize;` : s`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${u ? s`depth = (-camera.z - nearFar[0]) / (nearFar[1] - nearFar[0]);` : \"\"}\n     ${g ? s`vColor = color;` : \"\"}\n    }\n  `), S.include(r, m), v && f.include(o), S.code.add(s`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${u ? s`gl_FragColor = float2rgba(depth);` : \"\"}\n      ${v ? s`outputHighlight();` : \"\"}\n      ${g ? s`gl_FragColor = vec4(vColor, 1.0);` : \"\"}\n    }\n  `), f;\n}\n\nconst f = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: m\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { f as P, m as b };","map":{"version":3,"names":["ShaderOutput","e","SliceDraw","i","OutputHighlight","o","RgbaFloatEncoding","r","Float2PassUniform","t","Float2Uniform","n","Float3Uniform","a","glsl","s","Matrix4PassUniform","d","Matrix4Uniform","l","ShaderBuilder","c","VertexAttribute","p","m","f","g","output","Color","u","Depth","v","Highlight","vertex","w","fragment","S","extensions","add","include","attributes","POSITION","COLOR","uniforms","camera","projectionMatrix","nearFar","varyings","code","drawScreenSize","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","P","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/PointRenderer.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float2Uniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2Uniform.js\";import{Float3Uniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Float3Uniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{Matrix4Uniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4Uniform.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function m(m){const f=new c,g=m.output===e.Color,u=m.output===e.Depth,v=m.output===e.Highlight,{vertex:w,fragment:S}=f;return f.extensions.add(\"GL_OES_standard_derivatives\"),f.include(i,m),f.attributes.add(p.POSITION,\"vec3\"),f.attributes.add(p.COLOR,\"vec3\"),w.uniforms.add(new l(\"modelView\")),w.uniforms.add(new d(\"proj\",((e,i)=>i.camera.projectionMatrix))),w.uniforms.add(new n(\"screenMinMaxSize\")),w.uniforms.add(new n(\"pointScale\")),w.uniforms.add(new a(\"clipMin\")),w.uniforms.add(new a(\"clipMax\")),u?(w.uniforms.add(new t(\"nearFar\",((e,i)=>i.camera.nearFar))),f.varyings.add(\"depth\",\"float\")):m.output!==e.Highlight&&f.varyings.add(\"vColor\",\"vec3\"),w.code.add(s`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${m.drawScreenSize?s`\n      float clampedScreenSize = pointSize;`:s`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${u?s`depth = (-camera.z - nearFar[0]) / (nearFar[1] - nearFar[0]);`:\"\"}\n     ${g?s`vColor = color;`:\"\"}\n    }\n  `),S.include(r,m),v&&f.include(o),S.code.add(s`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${u?s`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${v?s`outputHighlight();`:\"\"}\n      ${g?s`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:\"Module\"}));export{f as P,m as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}