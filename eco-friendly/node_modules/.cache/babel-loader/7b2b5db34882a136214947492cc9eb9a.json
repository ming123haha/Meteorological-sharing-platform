{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clamp as e } from \"../../../../core/mathUtils.js\";\nimport { isSome as t, unwrapOr as s } from \"../../../../core/maybe.js\";\nimport { f as i } from \"../../../../chunks/mat3.js\";\nimport { c as r } from \"../../../../chunks/mat3f64.js\";\nimport { a as n } from \"../../../../chunks/mat4.js\";\nimport { c as a } from \"../../../../chunks/mat4f64.js\";\nimport { c as o } from \"../../../../chunks/vec2.js\";\nimport { a as c, f as l } from \"../../../../chunks/vec2f64.js\";\nimport { s as f, m as h, n as u, b as p, g as m, c as d, l as g, i as O, t as S, e as v, a as A } from \"../../../../chunks/vec3.js\";\nimport { c as P, f as b } from \"../../../../chunks/vec3f64.js\";\nimport { c as x } from \"../../../../chunks/vec4f64.js\";\nimport { isMat4 as C } from \"../../../../core/libs/gl-matrix-2/types/mat4.js\";\nimport { create as y } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { newLayout as I } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as z } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { HUDSpace as T } from \"../core/shaderLibrary/hud/HUD.glsl.js\";\nimport { computeAttachmentOriginPoints as _ } from \"../lib/geometryDataUtils.js\";\nimport { GLTextureMaterial as M, GLTextureMaterialBindParameters as j } from \"../lib/GLTextureMaterial.js\";\nimport { Material as U, RenderOccludedFlag as q } from \"../lib/Material.js\";\nimport { RenderSlot as w } from \"../lib/RenderSlot.js\";\nimport { applyScaleFactor as D, applyPrecomputedScaleFactor as L, precomputeScaleFactor as E } from \"../lib/screenSizePerspectiveUtils.js\";\nimport { assert as R } from \"../lib/Util.js\";\nimport { VertexAttribute as V } from \"../lib/VertexAttribute.js\";\nimport { writePosition as N, writeNormal as G, writeColor as H, writeBufferVec4 as B } from \"./internal/bufferWriterUtils.js\";\nimport { verticalOffsetAtDistance as X } from \"./internal/MaterialUtil.js\";\nimport { isInstanceHidden as k } from \"./renderers/utils.js\";\nimport { c as F } from \"../../../../chunks/HUDMaterial.glsl.js\";\nimport { HUDMaterialTechnique as W } from \"../shaders/HUDMaterialTechnique.js\";\nimport { HUDMaterialTechniqueConfiguration as Z } from \"../shaders/HUDMaterialTechniqueConfiguration.js\";\n\nclass J extends U {\n  constructor(e) {\n    super(e, new Se()), this.techniqueConfig = new Z();\n  }\n\n  getConfiguration(e, t) {\n    return this.techniqueConfig.output = e, this.techniqueConfig.hasSlicePlane = this.parameters.hasSlicePlane, this.techniqueConfig.hasVerticalOffset = !!this.parameters.verticalOffset, this.techniqueConfig.hasScreenSizePerspective = !!this.parameters.screenSizePerspective, this.techniqueConfig.screenCenterOffsetUnitsEnabled = \"screen\" === this.parameters.centerOffsetUnits ? T.Screen : T.World, this.techniqueConfig.hasPolygonOffset = this.parameters.polygonOffset, this.techniqueConfig.isDraped = this.parameters.isDraped, this.techniqueConfig.occlusionTestEnabled = this.parameters.occlusionTest, this.techniqueConfig.pixelSnappingEnabled = this.parameters.pixelSnappingEnabled, this.techniqueConfig.signedDistanceFieldEnabled = this.parameters.textureIsSignedDistanceField, this.techniqueConfig.vvSize = !!this.parameters.vvSizeEnabled, this.techniqueConfig.vvColor = !!this.parameters.vvColorEnabled, e === z.Color && (this.techniqueConfig.debugDrawLabelBorder = !!this.parameters.debugDrawLabelBorder), e === z.Highlight && (this.techniqueConfig.binaryHighlightOcclusionEnabled = this.parameters.binaryHighlightOcclusion), this.techniqueConfig.depthEnabled = this.parameters.depthEnabled, this.techniqueConfig.transparencyPassType = t.transparencyPassType, this.techniqueConfig.hasMultipassGeometry = t.multipassGeometry.enabled, this.techniqueConfig.hasMultipassTerrain = t.multipassTerrain.enabled, this.techniqueConfig.cullAboveGround = t.multipassTerrain.cullAboveGround, this.techniqueConfig;\n  }\n\n  intersect(e, s, i, r, n, a, o, c, l) {\n    t(l) ? this._intersectDrapedHudGeometry(e, a, o, c, l) : this._intersectHudGeometry(e, s, i, r, o, c);\n  }\n\n  _intersectDrapedHudGeometry(e, s, i, r, n) {\n    const a = e.vertexAttributes.get(V.POSITION),\n          o = e.vertexAttributes.get(V.SIZE),\n          c = this.parameters,\n          l = F(c);\n    let f = 1,\n        h = 1;\n\n    if (t(r)) {\n      const e = r(pe);\n      f = e[0], h = e[5];\n    }\n\n    f *= e.screenToWorldRatio, h *= e.screenToWorldRatio;\n    const u = de * e.screenToWorldRatio;\n\n    for (let t = 0; t < a.data.length / a.size; t++) {\n      const r = t * a.size,\n            p = a.data[r],\n            m = a.data[r + 1],\n            d = t * o.size;\n      let g;\n      ge[0] = o.data[d] * f, ge[1] = o.data[d + 1] * h, c.textureIsSignedDistanceField && (g = c.outlineSize * e.screenToWorldRatio / 2), ee(s, p, m, ge, u, g, c, l) && i(n.dist, n.normal, -1, !1);\n    }\n  }\n\n  _intersectHudGeometry(e, s, r, a, o, c) {\n    if (!a.options.selectionMode || !a.options.hud || k(s)) return;\n    const l = this.parameters;\n    let S = 1,\n        v = 1;\n\n    if (i(ce, r), t(c)) {\n      const e = c(pe);\n      S = e[0], v = e[5], $(ce);\n    }\n\n    const A = e.vertexAttributes.get(V.POSITION),\n          b = e.vertexAttributes.get(V.SIZE),\n          x = e.vertexAttributes.get(V.NORMAL),\n          C = e.vertexAttributes.get(V.AUXPOS1);\n    R(A.size >= 3);\n    const y = a.point,\n          I = a.camera,\n          z = F(l);\n    S *= I.pixelRatio, v *= I.pixelRatio;\n    const T = \"screen\" === this.parameters.centerOffsetUnits;\n\n    for (let t = 0; t < A.data.length / A.size; t++) {\n      const e = t * A.size;\n      f(ie, A.data[e], A.data[e + 1], A.data[e + 2]), h(ie, ie, r);\n      const s = t * b.size;\n      ge[0] = b.data[s] * S, ge[1] = b.data[s + 1] * v, h(ie, ie, I.viewMatrix);\n      const i = t * C.size;\n\n      if (f(he, C.data[i + 0], C.data[i + 1], C.data[i + 2]), !T && (ie[0] += he[0], ie[1] += he[1], 0 !== he[2])) {\n        const e = he[2];\n        u(he, ie), p(ie, ie, m(he, he, e));\n      }\n\n      const c = t * x.size;\n\n      if (f(re, x.data[c], x.data[c + 1], x.data[c + 2]), this._normalAndViewAngle(re, ce, I, ue), this._applyVerticalOffsetTransformationView(ie, ue, I, te), I.applyProjection(ie, ne), ne[0] > -1) {\n        ne[0] = Math.floor(ne[0]), ne[1] = Math.floor(ne[1]), T && (he[0] || he[1]) && (ne[0] += he[0], 0 !== he[1] && (ne[1] += D(he[1], te.factorAlignment)), I.unapplyProjection(ne, ie)), ne[0] += this.parameters.screenOffset[0], ne[1] += this.parameters.screenOffset[1], L(ge, te.factor, ge);\n        const e = me * I.pixelRatio;\n        let t;\n\n        if (l.textureIsSignedDistanceField && (t = l.outlineSize * I.pixelRatio / 2), ee(y, ne[0], ne[1], ge, e, t, l, z)) {\n          const e = a.ray;\n\n          if (h(oe, ie, n(fe, I.viewMatrix)), ne[0] = y[0], ne[1] = y[1], I.unprojectFromRenderScreen(ne, ie)) {\n            const t = P();\n            d(t, e.direction);\n            const s = 1 / g(t);\n            m(t, t, s);\n            o(O(e.origin, ie) * s, t, -1, !0, 1, oe);\n          }\n        }\n      }\n    }\n  }\n\n  computeAttachmentOrigin(e, t) {\n    const s = e.vertexAttributes;\n    if (!s) return !1;\n    const i = s.get(V.POSITION),\n          r = e.indices.get(V.POSITION);\n    return _(i, r, t);\n  }\n\n  createBufferWriter() {\n    return new Ae(this);\n  }\n\n  _normalAndViewAngle(e, t, s, r) {\n    return C(t) && (t = i(le, t)), S(r.normal, e, t), h(r.normal, r.normal, s.viewInverseTransposeMatrix), r.cosAngle = v(ae, Oe), r;\n  }\n\n  _updateScaleInfo(e, s, i) {\n    const r = this.parameters;\n    t(r.screenSizePerspective) ? E(i, s, r.screenSizePerspective, e.factor) : (e.factor.scale = 1, e.factor.factor = 0, e.factor.minPixelSize = 0, e.factor.paddingPixels = 0), t(r.screenSizePerspectiveAlignment) ? E(i, s, r.screenSizePerspectiveAlignment, e.factorAlignment) : (e.factorAlignment.factor = e.factor.factor, e.factorAlignment.scale = e.factor.scale, e.factorAlignment.minPixelSize = e.factor.minPixelSize, e.factorAlignment.paddingPixels = e.factor.paddingPixels);\n  }\n\n  applyShaderOffsetsView(e, t, s, i, r, n, a) {\n    const o = this._normalAndViewAngle(t, s, r, ue);\n\n    return this._applyVerticalGroundOffsetView(e, o, r, a), this._applyVerticalOffsetTransformationView(a, o, r, n), this._applyPolygonOffsetView(a, o, i[3], r, a), this._applyCenterOffsetView(a, i, a), a;\n  }\n\n  applyShaderOffsetsNDC(e, s, i, r, n) {\n    return this._applyCenterOffsetNDC(e, s, i, r), t(n) && d(n, r), this._applyPolygonOffsetNDC(r, s, i, r), r;\n  }\n\n  _applyPolygonOffsetView(t, s, i, r, n) {\n    const a = r.aboveGround ? 1 : -1;\n    let o = Math.sign(i);\n    0 === o && (o = a);\n    const c = a * o;\n    if (this.parameters.shaderPolygonOffset <= 0) return d(n, t);\n    const l = e(Math.abs(s.cosAngle), .01, 1),\n          f = 1 - Math.sqrt(1 - l * l) / l / r.viewport[2];\n    return m(n, t, c > 0 ? f : 1 / f), n;\n  }\n\n  _applyVerticalGroundOffsetView(e, t, s, i) {\n    const r = g(e),\n          n = s.aboveGround ? 1 : -1,\n          a = .5 * s.computeRenderPixelSizeAtDist(r),\n          o = m(ie, t.normal, n * a);\n    return A(i, e, o), i;\n  }\n\n  _applyVerticalOffsetTransformationView(e, t, i, r) {\n    const n = this.parameters;\n\n    if (!n.verticalOffset || !n.verticalOffset.screenLength) {\n      if (n.screenSizePerspective || n.screenSizePerspectiveAlignment) {\n        const s = g(e);\n\n        this._updateScaleInfo(r, s, t.cosAngle);\n      } else r.factor.scale = 1, r.factorAlignment.scale = 1;\n\n      return e;\n    }\n\n    const a = g(e),\n          o = s(n.screenSizePerspectiveAlignment, n.screenSizePerspective),\n          c = X(i, a, n.verticalOffset, t.cosAngle, o);\n    return this._updateScaleInfo(r, a, t.cosAngle), m(t.normal, t.normal, c), A(e, e, t.normal);\n  }\n\n  _applyCenterOffsetView(e, t, s) {\n    const i = \"screen\" !== this.parameters.centerOffsetUnits;\n    return s !== e && d(s, e), i && (s[0] += t[0], s[1] += t[1], t[2] && (u(re, s), A(s, s, m(re, re, t[2])))), s;\n  }\n\n  _applyCenterOffsetNDC(e, t, s, i) {\n    const r = \"screen\" !== this.parameters.centerOffsetUnits;\n    return i !== e && d(i, e), r || (i[0] += t[0] / s.fullWidth * 2, i[1] += t[1] / s.fullHeight * 2), i;\n  }\n\n  _applyPolygonOffsetNDC(e, t, s, i) {\n    const r = this.parameters.shaderPolygonOffset;\n\n    if (e !== i && d(i, e), r) {\n      const e = s.aboveGround ? 1 : -1,\n            n = e * Math.sign(t[3]);\n      i[2] -= (n || e) * r;\n    }\n\n    return i;\n  }\n\n  requiresSlot(e) {\n    if (e === w.DRAPED_MATERIAL) return !0;\n    const {\n      drawInSecondSlot: t,\n      occlusionTest: s\n    } = this.parameters;\n    return e === (t ? w.LABEL_MATERIAL : w.HUD_MATERIAL) || s && e === w.OCCLUSION_PIXELS;\n  }\n\n  createGLMaterial(e) {\n    return e.output === z.Color || e.output === z.Alpha ? new Q(e) : e.output === z.Highlight ? new K(e) : null;\n  }\n\n  calculateRelativeScreenBounds(e, t, s = y()) {\n    return Y(this.parameters, e, t, s), s[2] = s[0] + e[0], s[3] = s[1] + e[1], s;\n  }\n\n}\n\nclass K extends M {\n  constructor(e) {\n    super({ ...e,\n      ...e.material.parameters\n    });\n  }\n\n  selectProgram(e) {\n    return this.ensureTechnique(W, e);\n  }\n\n  beginSlot(e) {\n    return this.updateTexture(this._material.parameters.textureId), this._material.setParameters(this.textureBindParameters), this.selectProgram(e);\n  }\n\n}\n\nclass Q extends K {\n  _isOcclusionSlot(e) {\n    return e.slot === w.OCCLUSION_PIXELS && this._material.parameters.occlusionTest && (this._output === z.Color || this._output === z.Alpha);\n  }\n\n  selectProgram(e) {\n    return this.ensureTechnique(W, e, this._isOcclusionSlot(e) ? z.Occlusion : this._output);\n  }\n\n}\n\nfunction Y(e, t, s, i = se) {\n  return o(i, e.anchorPosition), i[0] *= -t[0], i[1] *= -t[1], i[0] += e.screenOffset[0] * s, i[1] += e.screenOffset[1] * s, i;\n}\n\nfunction $(e) {\n  const t = e[0],\n        s = e[1],\n        i = e[2],\n        r = e[3],\n        n = e[4],\n        a = e[5],\n        o = e[6],\n        c = e[7],\n        l = e[8],\n        f = 1 / Math.sqrt(t * t + s * s + i * i),\n        h = 1 / Math.sqrt(r * r + n * n + a * a),\n        u = 1 / Math.sqrt(o * o + c * c + l * l);\n  return e[0] = t * f, e[1] = s * f, e[2] = i * f, e[3] = r * h, e[4] = n * h, e[5] = a * h, e[6] = o * u, e[7] = c * u, e[8] = l * u, e;\n}\n\nfunction ee(e, s, i, r, n, a, o, c) {\n  let l = s - n - (c[0] > 0 ? r[0] * c[0] : 0),\n      f = l + r[0] + 2 * n,\n      h = i - n - (c[1] > 0 ? r[1] * c[1] : 0),\n      u = h + r[1] + 2 * n;\n  const p = o.distanceFieldBoundingBox;\n  return o.textureIsSignedDistanceField && t(p) && (l += r[0] * p[0], h += r[1] * p[1], f -= r[0] * (1 - p[2]), u -= r[1] * (1 - p[3]), l -= a, f += a, h -= a, u += a), e[0] > l && e[0] < f && e[1] > h && e[1] < u;\n}\n\nconst te = {\n  factor: {\n    scale: 0,\n    factor: 0,\n    minPixelSize: 0,\n    paddingPixels: 0\n  },\n  factorAlignment: {\n    scale: 0,\n    factor: 0,\n    minPixelSize: 0,\n    paddingPixels: 0\n  }\n},\n      se = c(),\n      ie = P(),\n      re = P(),\n      ne = x(),\n      ae = P(),\n      oe = P(),\n      ce = r(),\n      le = r(),\n      fe = a(),\n      he = P(),\n      ue = {\n  normal: ae,\n  cosAngle: 0\n},\n      pe = a(),\n      me = 1,\n      de = 2,\n      ge = [0, 0],\n      Oe = b(0, 0, 1);\n\nclass Se extends j {\n  constructor() {\n    super(...arguments), this.renderOccluded = q.Occlude, this.color = [1, 1, 1, 1], this.texCoordScale = [1, 1], this.polygonOffset = !1, this.anchorPosition = l(.5, .5), this.screenOffset = [0, 0], this.shaderPolygonOffset = 1e-5, this.textureIsSignedDistanceField = !1, this.outlineColor = [1, 1, 1, 1], this.outlineSize = 0, this.vvSizeEnabled = !1, this.vvSizeMinSize = [1, 1, 1], this.vvSizeMaxSize = [100, 100, 100], this.vvSizeOffset = [0, 0, 0], this.vvSizeFactor = [1, 1, 1], this.vvColorEnabled = !1, this.vvColorValues = [0, 0, 0, 0, 0, 0, 0, 0], this.vvColorColors = [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0], this.hasSlicePlane = !1, this.pixelSnappingEnabled = !0, this.occlusionTest = !0, this.binaryHighlightOcclusion = !0, this.debugDrawLabelBorder = !1, this.centerOffsetUnits = \"world\", this.drawInSecondSlot = !1, this.depthEnabled = !0, this.isDraped = !1;\n  }\n\n}\n\nconst ve = I().vec3f(V.POSITION).vec3f(V.NORMAL).vec2f(V.UV0).vec4u8(V.COLOR).vec2f(V.SIZE).vec4f(V.AUXPOS1).vec4f(V.AUXPOS2);\n\nclass Ae {\n  constructor(e) {\n    this.material = e, this.vertexBufferLayout = ve;\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    return 6 * e.indices.get(V.POSITION).length;\n  }\n\n  write(e, t, s, i) {\n    N(t.indices.get(V.POSITION), t.vertexAttributes.get(V.POSITION).data, e.transformation, s.position, i, 6), G(t.indices.get(V.NORMAL), t.vertexAttributes.get(V.NORMAL).data, e.invTranspTransformation, s.normal, i, 6);\n    {\n      const e = t.vertexAttributes.get(V.UV0).data;\n      let r, n, a, o;\n\n      if (null == e || e.length < 4) {\n        const e = this.material.parameters;\n        r = 0, n = 0, a = e.texCoordScale[0], o = e.texCoordScale[1];\n      } else r = e[0], n = e[1], a = e[2], o = e[3];\n\n      a = Math.min(1.99999, a + 1), o = Math.min(1.99999, o + 1);\n      const c = t.indices.get(V.POSITION).length,\n            l = s.uv0;\n      let f = i;\n\n      for (let t = 0; t < c; ++t) l.set(f, 0, r), l.set(f, 1, n), f += 1, l.set(f, 0, a), l.set(f, 1, n), f += 1, l.set(f, 0, a), l.set(f, 1, o), f += 1, l.set(f, 0, a), l.set(f, 1, o), f += 1, l.set(f, 0, r), l.set(f, 1, o), f += 1, l.set(f, 0, r), l.set(f, 1, n), f += 1;\n    }\n    H(t.indices.get(V.COLOR), t.vertexAttributes.get(V.COLOR).data, 4, s.color, i, 6);\n    {\n      const e = t.indices.get(V.SIZE),\n            r = t.vertexAttributes.get(V.SIZE).data,\n            n = e.length,\n            a = s.size;\n      let o = i;\n\n      for (let t = 0; t < n; ++t) {\n        const s = r[2 * e[t]],\n              i = r[2 * e[t] + 1];\n\n        for (let e = 0; e < 6; ++e) a.set(o, 0, s), a.set(o, 1, i), o += 1;\n      }\n    }\n    t.indices.get(V.AUXPOS1) && t.vertexAttributes.get(V.AUXPOS1) && B(t.indices.get(V.AUXPOS1), t.vertexAttributes.get(V.AUXPOS1).data, s.auxpos1, i, 6), t.indices.get(V.AUXPOS2) && t.vertexAttributes.get(V.AUXPOS2) && B(t.indices.get(V.AUXPOS2), t.vertexAttributes.get(V.AUXPOS2).data, s.auxpos2, i, 6);\n  }\n\n}\n\nexport { J as HUDMaterial, Se as Parameters };","map":{"version":3,"names":["clamp","e","isSome","t","unwrapOr","s","f","i","c","r","a","n","o","l","m","h","u","b","p","g","d","O","S","v","A","P","x","isMat4","C","create","y","newLayout","I","ShaderOutput","z","HUDSpace","T","computeAttachmentOriginPoints","_","GLTextureMaterial","M","GLTextureMaterialBindParameters","j","Material","U","RenderOccludedFlag","q","RenderSlot","w","applyScaleFactor","D","applyPrecomputedScaleFactor","L","precomputeScaleFactor","E","assert","R","VertexAttribute","V","writePosition","N","writeNormal","G","writeColor","H","writeBufferVec4","B","verticalOffsetAtDistance","X","isInstanceHidden","k","F","HUDMaterialTechnique","W","HUDMaterialTechniqueConfiguration","Z","J","constructor","Se","techniqueConfig","getConfiguration","output","hasSlicePlane","parameters","hasVerticalOffset","verticalOffset","hasScreenSizePerspective","screenSizePerspective","screenCenterOffsetUnitsEnabled","centerOffsetUnits","Screen","World","hasPolygonOffset","polygonOffset","isDraped","occlusionTestEnabled","occlusionTest","pixelSnappingEnabled","signedDistanceFieldEnabled","textureIsSignedDistanceField","vvSize","vvSizeEnabled","vvColor","vvColorEnabled","Color","debugDrawLabelBorder","Highlight","binaryHighlightOcclusionEnabled","binaryHighlightOcclusion","depthEnabled","transparencyPassType","hasMultipassGeometry","multipassGeometry","enabled","hasMultipassTerrain","multipassTerrain","cullAboveGround","intersect","_intersectDrapedHudGeometry","_intersectHudGeometry","vertexAttributes","get","POSITION","SIZE","pe","screenToWorldRatio","de","data","length","size","ge","outlineSize","ee","dist","normal","options","selectionMode","hud","ce","$","NORMAL","AUXPOS1","point","camera","pixelRatio","ie","viewMatrix","he","re","_normalAndViewAngle","ue","_applyVerticalOffsetTransformationView","te","applyProjection","ne","Math","floor","factorAlignment","unapplyProjection","screenOffset","factor","me","ray","oe","fe","unprojectFromRenderScreen","direction","origin","computeAttachmentOrigin","indices","createBufferWriter","Ae","le","viewInverseTransposeMatrix","cosAngle","ae","Oe","_updateScaleInfo","scale","minPixelSize","paddingPixels","screenSizePerspectiveAlignment","applyShaderOffsetsView","_applyVerticalGroundOffsetView","_applyPolygonOffsetView","_applyCenterOffsetView","applyShaderOffsetsNDC","_applyCenterOffsetNDC","_applyPolygonOffsetNDC","aboveGround","sign","shaderPolygonOffset","abs","sqrt","viewport","computeRenderPixelSizeAtDist","screenLength","fullWidth","fullHeight","requiresSlot","DRAPED_MATERIAL","drawInSecondSlot","LABEL_MATERIAL","HUD_MATERIAL","OCCLUSION_PIXELS","createGLMaterial","Alpha","Q","K","calculateRelativeScreenBounds","Y","material","selectProgram","ensureTechnique","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","_isOcclusionSlot","slot","_output","Occlusion","se","anchorPosition","distanceFieldBoundingBox","arguments","renderOccluded","Occlude","color","texCoordScale","outlineColor","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorValues","vvColorColors","ve","vec3f","vec2f","UV0","vec4u8","COLOR","vec4f","AUXPOS2","vertexBufferLayout","allocate","createBuffer","elementCount","write","transformation","position","invTranspTransformation","min","uv0","set","auxpos1","auxpos2","HUDMaterial","Parameters"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{isSome as t,unwrapOr as s}from\"../../../../core/maybe.js\";import{f as i}from\"../../../../chunks/mat3.js\";import{c as r}from\"../../../../chunks/mat3f64.js\";import{a as n}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{c as o}from\"../../../../chunks/vec2.js\";import{a as c,f as l}from\"../../../../chunks/vec2f64.js\";import{s as f,m as h,n as u,b as p,g as m,c as d,l as g,i as O,t as S,e as v,a as A}from\"../../../../chunks/vec3.js\";import{c as P,f as b}from\"../../../../chunks/vec3f64.js\";import{c as x}from\"../../../../chunks/vec4f64.js\";import{isMat4 as C}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{newLayout as I}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as z}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{HUDSpace as T}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{computeAttachmentOriginPoints as _}from\"../lib/geometryDataUtils.js\";import{GLTextureMaterial as M,GLTextureMaterialBindParameters as j}from\"../lib/GLTextureMaterial.js\";import{Material as U,RenderOccludedFlag as q}from\"../lib/Material.js\";import{RenderSlot as w}from\"../lib/RenderSlot.js\";import{applyScaleFactor as D,applyPrecomputedScaleFactor as L,precomputeScaleFactor as E}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as R}from\"../lib/Util.js\";import{VertexAttribute as V}from\"../lib/VertexAttribute.js\";import{writePosition as N,writeNormal as G,writeColor as H,writeBufferVec4 as B}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as X}from\"./internal/MaterialUtil.js\";import{isInstanceHidden as k}from\"./renderers/utils.js\";import{c as F}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechnique as W}from\"../shaders/HUDMaterialTechnique.js\";import{HUDMaterialTechniqueConfiguration as Z}from\"../shaders/HUDMaterialTechniqueConfiguration.js\";class J extends U{constructor(e){super(e,new Se),this.techniqueConfig=new Z}getConfiguration(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.hasVerticalOffset=!!this.parameters.verticalOffset,this.techniqueConfig.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits?T.Screen:T.World,this.techniqueConfig.hasPolygonOffset=this.parameters.polygonOffset,this.techniqueConfig.isDraped=this.parameters.isDraped,this.techniqueConfig.occlusionTestEnabled=this.parameters.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this.techniqueConfig.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.parameters.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.parameters.vvColorEnabled,e===z.Color&&(this.techniqueConfig.debugDrawLabelBorder=!!this.parameters.debugDrawLabelBorder),e===z.Highlight&&(this.techniqueConfig.binaryHighlightOcclusionEnabled=this.parameters.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.parameters.depthEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.hasMultipassGeometry=t.multipassGeometry.enabled,this.techniqueConfig.hasMultipassTerrain=t.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=t.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(e,s,i,r,n,a,o,c,l){t(l)?this._intersectDrapedHudGeometry(e,a,o,c,l):this._intersectHudGeometry(e,s,i,r,o,c)}_intersectDrapedHudGeometry(e,s,i,r,n){const a=e.vertexAttributes.get(V.POSITION),o=e.vertexAttributes.get(V.SIZE),c=this.parameters,l=F(c);let f=1,h=1;if(t(r)){const e=r(pe);f=e[0],h=e[5]}f*=e.screenToWorldRatio,h*=e.screenToWorldRatio;const u=de*e.screenToWorldRatio;for(let t=0;t<a.data.length/a.size;t++){const r=t*a.size,p=a.data[r],m=a.data[r+1],d=t*o.size;let g;ge[0]=o.data[d]*f,ge[1]=o.data[d+1]*h,c.textureIsSignedDistanceField&&(g=c.outlineSize*e.screenToWorldRatio/2),ee(s,p,m,ge,u,g,c,l)&&i(n.dist,n.normal,-1,!1)}}_intersectHudGeometry(e,s,r,a,o,c){if(!a.options.selectionMode||!a.options.hud||k(s))return;const l=this.parameters;let S=1,v=1;if(i(ce,r),t(c)){const e=c(pe);S=e[0],v=e[5],$(ce)}const A=e.vertexAttributes.get(V.POSITION),b=e.vertexAttributes.get(V.SIZE),x=e.vertexAttributes.get(V.NORMAL),C=e.vertexAttributes.get(V.AUXPOS1);R(A.size>=3);const y=a.point,I=a.camera,z=F(l);S*=I.pixelRatio,v*=I.pixelRatio;const T=\"screen\"===this.parameters.centerOffsetUnits;for(let t=0;t<A.data.length/A.size;t++){const e=t*A.size;f(ie,A.data[e],A.data[e+1],A.data[e+2]),h(ie,ie,r);const s=t*b.size;ge[0]=b.data[s]*S,ge[1]=b.data[s+1]*v,h(ie,ie,I.viewMatrix);const i=t*C.size;if(f(he,C.data[i+0],C.data[i+1],C.data[i+2]),!T&&(ie[0]+=he[0],ie[1]+=he[1],0!==he[2])){const e=he[2];u(he,ie),p(ie,ie,m(he,he,e))}const c=t*x.size;if(f(re,x.data[c],x.data[c+1],x.data[c+2]),this._normalAndViewAngle(re,ce,I,ue),this._applyVerticalOffsetTransformationView(ie,ue,I,te),I.applyProjection(ie,ne),ne[0]>-1){ne[0]=Math.floor(ne[0]),ne[1]=Math.floor(ne[1]),T&&(he[0]||he[1])&&(ne[0]+=he[0],0!==he[1]&&(ne[1]+=D(he[1],te.factorAlignment)),I.unapplyProjection(ne,ie)),ne[0]+=this.parameters.screenOffset[0],ne[1]+=this.parameters.screenOffset[1],L(ge,te.factor,ge);const e=me*I.pixelRatio;let t;if(l.textureIsSignedDistanceField&&(t=l.outlineSize*I.pixelRatio/2),ee(y,ne[0],ne[1],ge,e,t,l,z)){const e=a.ray;if(h(oe,ie,n(fe,I.viewMatrix)),ne[0]=y[0],ne[1]=y[1],I.unprojectFromRenderScreen(ne,ie)){const t=P();d(t,e.direction);const s=1/g(t);m(t,t,s);o(O(e.origin,ie)*s,t,-1,!0,1,oe)}}}}}computeAttachmentOrigin(e,t){const s=e.vertexAttributes;if(!s)return!1;const i=s.get(V.POSITION),r=e.indices.get(V.POSITION);return _(i,r,t)}createBufferWriter(){return new Ae(this)}_normalAndViewAngle(e,t,s,r){return C(t)&&(t=i(le,t)),S(r.normal,e,t),h(r.normal,r.normal,s.viewInverseTransposeMatrix),r.cosAngle=v(ae,Oe),r}_updateScaleInfo(e,s,i){const r=this.parameters;t(r.screenSizePerspective)?E(i,s,r.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),t(r.screenSizePerspectiveAlignment)?E(i,s,r.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}applyShaderOffsetsView(e,t,s,i,r,n,a){const o=this._normalAndViewAngle(t,s,r,ue);return this._applyVerticalGroundOffsetView(e,o,r,a),this._applyVerticalOffsetTransformationView(a,o,r,n),this._applyPolygonOffsetView(a,o,i[3],r,a),this._applyCenterOffsetView(a,i,a),a}applyShaderOffsetsNDC(e,s,i,r,n){return this._applyCenterOffsetNDC(e,s,i,r),t(n)&&d(n,r),this._applyPolygonOffsetNDC(r,s,i,r),r}_applyPolygonOffsetView(t,s,i,r,n){const a=r.aboveGround?1:-1;let o=Math.sign(i);0===o&&(o=a);const c=a*o;if(this.parameters.shaderPolygonOffset<=0)return d(n,t);const l=e(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-l*l)/l/r.viewport[2];return m(n,t,c>0?f:1/f),n}_applyVerticalGroundOffsetView(e,t,s,i){const r=g(e),n=s.aboveGround?1:-1,a=.5*s.computeRenderPixelSizeAtDist(r),o=m(ie,t.normal,n*a);return A(i,e,o),i}_applyVerticalOffsetTransformationView(e,t,i,r){const n=this.parameters;if(!n.verticalOffset||!n.verticalOffset.screenLength){if(n.screenSizePerspective||n.screenSizePerspectiveAlignment){const s=g(e);this._updateScaleInfo(r,s,t.cosAngle)}else r.factor.scale=1,r.factorAlignment.scale=1;return e}const a=g(e),o=s(n.screenSizePerspectiveAlignment,n.screenSizePerspective),c=X(i,a,n.verticalOffset,t.cosAngle,o);return this._updateScaleInfo(r,a,t.cosAngle),m(t.normal,t.normal,c),A(e,e,t.normal)}_applyCenterOffsetView(e,t,s){const i=\"screen\"!==this.parameters.centerOffsetUnits;return s!==e&&d(s,e),i&&(s[0]+=t[0],s[1]+=t[1],t[2]&&(u(re,s),A(s,s,m(re,re,t[2])))),s}_applyCenterOffsetNDC(e,t,s,i){const r=\"screen\"!==this.parameters.centerOffsetUnits;return i!==e&&d(i,e),r||(i[0]+=t[0]/s.fullWidth*2,i[1]+=t[1]/s.fullHeight*2),i}_applyPolygonOffsetNDC(e,t,s,i){const r=this.parameters.shaderPolygonOffset;if(e!==i&&d(i,e),r){const e=s.aboveGround?1:-1,n=e*Math.sign(t[3]);i[2]-=(n||e)*r}return i}requiresSlot(e){if(e===w.DRAPED_MATERIAL)return!0;const{drawInSecondSlot:t,occlusionTest:s}=this.parameters;return e===(t?w.LABEL_MATERIAL:w.HUD_MATERIAL)||s&&e===w.OCCLUSION_PIXELS}createGLMaterial(e){return e.output===z.Color||e.output===z.Alpha?new Q(e):e.output===z.Highlight?new K(e):null}calculateRelativeScreenBounds(e,t,s=y()){return Y(this.parameters,e,t,s),s[2]=s[0]+e[0],s[3]=s[1]+e[1],s}}class K extends M{constructor(e){super({...e,...e.material.parameters})}selectProgram(e){return this.ensureTechnique(W,e)}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.selectProgram(e)}}class Q extends K{_isOcclusionSlot(e){return e.slot===w.OCCLUSION_PIXELS&&this._material.parameters.occlusionTest&&(this._output===z.Color||this._output===z.Alpha)}selectProgram(e){return this.ensureTechnique(W,e,this._isOcclusionSlot(e)?z.Occlusion:this._output)}}function Y(e,t,s,i=se){return o(i,e.anchorPosition),i[0]*=-t[0],i[1]*=-t[1],i[0]+=e.screenOffset[0]*s,i[1]+=e.screenOffset[1]*s,i}function $(e){const t=e[0],s=e[1],i=e[2],r=e[3],n=e[4],a=e[5],o=e[6],c=e[7],l=e[8],f=1/Math.sqrt(t*t+s*s+i*i),h=1/Math.sqrt(r*r+n*n+a*a),u=1/Math.sqrt(o*o+c*c+l*l);return e[0]=t*f,e[1]=s*f,e[2]=i*f,e[3]=r*h,e[4]=n*h,e[5]=a*h,e[6]=o*u,e[7]=c*u,e[8]=l*u,e}function ee(e,s,i,r,n,a,o,c){let l=s-n-(c[0]>0?r[0]*c[0]:0),f=l+r[0]+2*n,h=i-n-(c[1]>0?r[1]*c[1]:0),u=h+r[1]+2*n;const p=o.distanceFieldBoundingBox;return o.textureIsSignedDistanceField&&t(p)&&(l+=r[0]*p[0],h+=r[1]*p[1],f-=r[0]*(1-p[2]),u-=r[1]*(1-p[3]),l-=a,f+=a,h-=a,u+=a),e[0]>l&&e[0]<f&&e[1]>h&&e[1]<u}const te={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},se=c(),ie=P(),re=P(),ne=x(),ae=P(),oe=P(),ce=r(),le=r(),fe=a(),he=P(),ue={normal:ae,cosAngle:0},pe=a(),me=1,de=2,ge=[0,0],Oe=b(0,0,1);class Se extends j{constructor(){super(...arguments),this.renderOccluded=q.Occlude,this.color=[1,1,1,1],this.texCoordScale=[1,1],this.polygonOffset=!1,this.anchorPosition=l(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.outlineColor=[1,1,1,1],this.outlineSize=0,this.vvSizeEnabled=!1,this.vvSizeMinSize=[1,1,1],this.vvSizeMaxSize=[100,100,100],this.vvSizeOffset=[0,0,0],this.vvSizeFactor=[1,1,1],this.vvColorEnabled=!1,this.vvColorValues=[0,0,0,0,0,0,0,0],this.vvColorColors=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.binaryHighlightOcclusion=!0,this.debugDrawLabelBorder=!1,this.centerOffsetUnits=\"world\",this.drawInSecondSlot=!1,this.depthEnabled=!0,this.isDraped=!1}}const ve=I().vec3f(V.POSITION).vec3f(V.NORMAL).vec2f(V.UV0).vec4u8(V.COLOR).vec2f(V.SIZE).vec4f(V.AUXPOS1).vec4f(V.AUXPOS2);class Ae{constructor(e){this.material=e,this.vertexBufferLayout=ve}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(V.POSITION).length}write(e,t,s,i){N(t.indices.get(V.POSITION),t.vertexAttributes.get(V.POSITION).data,e.transformation,s.position,i,6),G(t.indices.get(V.NORMAL),t.vertexAttributes.get(V.NORMAL).data,e.invTranspTransformation,s.normal,i,6);{const e=t.vertexAttributes.get(V.UV0).data;let r,n,a,o;if(null==e||e.length<4){const e=this.material.parameters;r=0,n=0,a=e.texCoordScale[0],o=e.texCoordScale[1]}else r=e[0],n=e[1],a=e[2],o=e[3];a=Math.min(1.99999,a+1),o=Math.min(1.99999,o+1);const c=t.indices.get(V.POSITION).length,l=s.uv0;let f=i;for(let t=0;t<c;++t)l.set(f,0,r),l.set(f,1,n),f+=1,l.set(f,0,a),l.set(f,1,n),f+=1,l.set(f,0,a),l.set(f,1,o),f+=1,l.set(f,0,a),l.set(f,1,o),f+=1,l.set(f,0,r),l.set(f,1,o),f+=1,l.set(f,0,r),l.set(f,1,n),f+=1}H(t.indices.get(V.COLOR),t.vertexAttributes.get(V.COLOR).data,4,s.color,i,6);{const e=t.indices.get(V.SIZE),r=t.vertexAttributes.get(V.SIZE).data,n=e.length,a=s.size;let o=i;for(let t=0;t<n;++t){const s=r[2*e[t]],i=r[2*e[t]+1];for(let e=0;e<6;++e)a.set(o,0,s),a.set(o,1,i),o+=1}}t.indices.get(V.AUXPOS1)&&t.vertexAttributes.get(V.AUXPOS1)&&B(t.indices.get(V.AUXPOS1),t.vertexAttributes.get(V.AUXPOS1).data,s.auxpos1,i,6),t.indices.get(V.AUXPOS2)&&t.vertexAttributes.get(V.AUXPOS2)&&B(t.indices.get(V.AUXPOS2),t.vertexAttributes.get(V.AUXPOS2).data,s.auxpos2,i,6)}}export{J as HUDMaterial,Se as Parameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}