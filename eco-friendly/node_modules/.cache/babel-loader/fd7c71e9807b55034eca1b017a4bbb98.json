{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Evented.js\";\nimport { isNone as t } from \"../../../core/maybe.js\";\nimport { EditGeometry as r } from \"./EditGeometry.js\";\nimport { AccumulationBehaviour as o } from \"./interfaces.js\";\nimport { AppendVertex as s } from \"./operations/AppendVertex.js\";\nimport { UpdateVertices as i, AccumulationType as n } from \"./operations/UpdateVertices.js\";\nimport { RemoveVertices as a } from \"./operations/RemoveVertices.js\";\nimport { SplitEdge as p } from \"./operations/SplitEdge.js\";\nimport { SetVertexPosition as d } from \"./operations/SetVertexPosition.js\";\nimport { CloseComponent as c } from \"./operations/CloseComponent.js\";\nimport { MoveVertex as h } from \"./operations/MoveVertex.js\";\nimport { OffsetEdgeVertex as u } from \"./operations/OffsetEdgeVertex.js\";\nimport { RotateVertex as m } from \"./operations/RotateVertex.js\";\nimport { ScaleVertex as l } from \"./operations/ScaleVertex.js\";\nimport { UndoGroup as V } from \"./operations/UndoGroup.js\";\n\nclass S extends e {\n  constructor(e) {\n    super(), this.data = e, this.undoStack = [], this.redoStack = [], this.listener = this.data.on(\"change\", e => {\n      e.addedVertices && this.emit(\"vertex-add\", {\n        type: \"vertex-add\",\n        vertices: e.addedVertices,\n        operation: e.operation\n      }), e.removedVertices && this.emit(\"vertex-remove\", {\n        type: \"vertex-remove\",\n        vertices: e.removedVertices,\n        operation: e.operation\n      }), e.updatedVertices && this.emit(\"vertex-update\", {\n        type: \"vertex-update\",\n        vertices: e.updatedVertices,\n        operation: e.operation\n      });\n    });\n  }\n\n  destroy() {\n    this.listener.remove();\n  }\n\n  splitEdge(e, t) {\n    return this._apply(new p(this.data, e, t));\n  }\n\n  updateVertices(e, t, r = o.ACCUMULATE_STEPS) {\n    return this._apply(new i(this.data, e, t), r);\n  }\n\n  moveVertices(e, t, r, s, i = o.ACCUMULATE_STEPS) {\n    return this.updateVertices(e, new h(this.data.coordinateHelper, t, r, s), i);\n  }\n\n  scaleVertices(e, t, r, s, i, a = o.ACCUMULATE_STEPS, p = n.CUMULATIVE) {\n    return this.updateVertices(e, new l(t, r, s, i, p), a);\n  }\n\n  rotateVertices(e, t, r, s = o.ACCUMULATE_STEPS, i = n.CUMULATIVE) {\n    return this.updateVertices(e, new m(t, r, i), s);\n  }\n\n  removeVertices(e) {\n    return this._apply(new a(this.data, e, this._minNumVerticesPerType));\n  }\n\n  appendVertex(e) {\n    return 0 === this.data.components.length ? null : this._apply(new s(this.data, this.data.components[0], e));\n  }\n\n  setVertexPosition(e, t) {\n    return this._apply(new d(this.data, e, t));\n  }\n\n  offsetEdge(e, t, r, s = o.ACCUMULATE_STEPS) {\n    return this.updateVertices([t.leftVertex, t.rightVertex], new u(this.data.coordinateHelper, e, t, r), s);\n  }\n\n  closeComponent(e) {\n    return this.data.components.includes(e) ? this._apply(new c(this.data, e)) : null;\n  }\n\n  canRemoveVertex() {\n    return this.data.components[0].vertices.length > this._minNumVerticesPerType;\n  }\n\n  createUndoGroup() {\n    const e = new V();\n    return this._apply(e), {\n      remove: () => e.close()\n    };\n  }\n\n  undo() {\n    if (this.undoStack.length > 0) {\n      const e = this.undoStack.pop();\n      return e.undo(), this.redoStack.push(e), e;\n    }\n\n    return null;\n  }\n\n  redo() {\n    if (this.redoStack.length > 0) {\n      const e = this.redoStack.pop();\n      return e.apply(), this.undoStack.push(e), e;\n    }\n\n    return null;\n  }\n\n  get canUndo() {\n    return this.undoStack.length > 0;\n  }\n\n  get canRedo() {\n    return this.redoStack.length > 0;\n  }\n\n  get lastOperation() {\n    return this.undoStack.length > 0 ? this.undoStack[this.undoStack.length - 1] : null;\n  }\n\n  get _minNumVerticesPerType() {\n    switch (this.data.type) {\n      case \"point\":\n        return 1;\n\n      case \"polyline\":\n        return 2;\n\n      case \"polygon\":\n        return 3;\n\n      default:\n        return 0;\n    }\n  }\n\n  _apply(e, r = o.ACCUMULATE_STEPS) {\n    return r !== o.NEW_STEP && !t(this.lastOperation) && this.lastOperation.accumulate(e) || (e.apply(), this.undoStack.push(e), this.redoStack = []), e;\n  }\n\n  static fromGeometry(e, t) {\n    return new S(r.fromGeometry(e, t));\n  }\n\n}\n\nexport { S as EditGeometryOperations };","map":{"version":3,"names":["e","isNone","t","EditGeometry","r","AccumulationBehaviour","o","AppendVertex","s","UpdateVertices","i","AccumulationType","n","RemoveVertices","a","SplitEdge","p","SetVertexPosition","d","CloseComponent","c","MoveVertex","h","OffsetEdgeVertex","u","RotateVertex","m","ScaleVertex","l","UndoGroup","V","S","constructor","data","undoStack","redoStack","listener","on","addedVertices","emit","type","vertices","operation","removedVertices","updatedVertices","destroy","remove","splitEdge","_apply","updateVertices","ACCUMULATE_STEPS","moveVertices","coordinateHelper","scaleVertices","CUMULATIVE","rotateVertices","removeVertices","_minNumVerticesPerType","appendVertex","components","length","setVertexPosition","offsetEdge","leftVertex","rightVertex","closeComponent","includes","canRemoveVertex","createUndoGroup","close","undo","pop","push","redo","apply","canUndo","canRedo","lastOperation","NEW_STEP","accumulate","fromGeometry","EditGeometryOperations"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{isNone as t}from\"../../../core/maybe.js\";import{EditGeometry as r}from\"./EditGeometry.js\";import{AccumulationBehaviour as o}from\"./interfaces.js\";import{AppendVertex as s}from\"./operations/AppendVertex.js\";import{UpdateVertices as i,AccumulationType as n}from\"./operations/UpdateVertices.js\";import{RemoveVertices as a}from\"./operations/RemoveVertices.js\";import{SplitEdge as p}from\"./operations/SplitEdge.js\";import{SetVertexPosition as d}from\"./operations/SetVertexPosition.js\";import{CloseComponent as c}from\"./operations/CloseComponent.js\";import{MoveVertex as h}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as u}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as m}from\"./operations/RotateVertex.js\";import{ScaleVertex as l}from\"./operations/ScaleVertex.js\";import{UndoGroup as V}from\"./operations/UndoGroup.js\";class S extends e{constructor(e){super(),this.data=e,this.undoStack=[],this.redoStack=[],this.listener=this.data.on(\"change\",(e=>{e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this.listener.remove()}splitEdge(e,t){return this._apply(new p(this.data,e,t))}updateVertices(e,t,r=o.ACCUMULATE_STEPS){return this._apply(new i(this.data,e,t),r)}moveVertices(e,t,r,s,i=o.ACCUMULATE_STEPS){return this.updateVertices(e,new h(this.data.coordinateHelper,t,r,s),i)}scaleVertices(e,t,r,s,i,a=o.ACCUMULATE_STEPS,p=n.CUMULATIVE){return this.updateVertices(e,new l(t,r,s,i,p),a)}rotateVertices(e,t,r,s=o.ACCUMULATE_STEPS,i=n.CUMULATIVE){return this.updateVertices(e,new m(t,r,i),s)}removeVertices(e){return this._apply(new a(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this._apply(new s(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this._apply(new d(this.data,e,t))}offsetEdge(e,t,r,s=o.ACCUMULATE_STEPS){return this.updateVertices([t.leftVertex,t.rightVertex],new u(this.data.coordinateHelper,e,t,r),s)}closeComponent(e){return this.data.components.includes(e)?this._apply(new c(this.data,e)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new V;return this._apply(e),{remove:()=>e.close()}}undo(){if(this.undoStack.length>0){const e=this.undoStack.pop();return e.undo(),this.redoStack.push(e),e}return null}redo(){if(this.redoStack.length>0){const e=this.redoStack.pop();return e.apply(),this.undoStack.push(e),e}return null}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}_apply(e,r=o.ACCUMULATE_STEPS){return r!==o.NEW_STEP&&!t(this.lastOperation)&&this.lastOperation.accumulate(e)||(e.apply(),this.undoStack.push(e),this.redoStack=[]),e}static fromGeometry(e,t){return new S(r.fromGeometry(e,t))}}export{S as EditGeometryOperations};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}