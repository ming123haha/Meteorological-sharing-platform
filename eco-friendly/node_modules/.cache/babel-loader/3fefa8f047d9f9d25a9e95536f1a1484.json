{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { ReloadableShaderModule as t } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as i } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { TransparencyPassType as r } from \"../lib/basicInterfaces.js\";\nimport { blendingDefault as n, oitBlending as l, oitDepthTest as s, oitDepthWrite as o } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as c } from \"../lib/Program.js\";\nimport { RenderSlot as a } from \"../lib/RenderSlot.js\";\nimport { stencilWriteMaskOn as p, stencilToolMaskBaseParams as u, stencilBaseAllZerosParams as d, depthCompareAlways as h, stencilToolTransparentOccluderParams as T, stencilWriteMaskOff as m, stencilToolMaskOccluderParams as f, depthCompareLess as P } from \"../lib/StencilUtils.js\";\nimport { VertexAttribute as g } from \"../lib/VertexAttribute.js\";\nimport { L as O } from \"../../../../chunks/LineMarker.glsl.js\";\nimport { makePipelineState as S, defaultDepthWriteParams as E, defaultColorWriteParams as b } from \"../../../webgl/renderState.js\";\nconst A = new Map([[g.POSITION, 0], [g.UV0, 2], [g.AUXPOS1, 3], [g.SIZE, 6], [g.SIZEFEATUREATTRIBUTE, 6], [g.COLOR, 5], [g.COLORFEATUREATTRIBUTE, 5], [g.OPACITYFEATUREATTRIBUTE, 7]]);\n\nclass R extends i {\n  initializeProgram(e) {\n    const t = R.shader.get().build(this.configuration);\n    return new c(e.rctx, t, A);\n  }\n\n  _makePipelineState(t, i) {\n    const c = this.configuration,\n          a = t === r.NONE;\n    return S({\n      blending: c.output === e.Color || c.output === e.Alpha ? a ? n : l(t) : null,\n      depthTest: {\n        func: s(t)\n      },\n      depthWrite: a ? c.writeDepth && E : o(t),\n      colorWrite: b,\n      stencilWrite: c.hasOccludees ? p : null,\n      stencilTest: c.hasOccludees ? i ? u : d : null,\n      polygonOffset: {\n        factor: 0,\n        units: -10\n      }\n    });\n  }\n\n  initializePipeline() {\n    return this.configuration.occluder && (this._occluderPipelineTransparent = S({\n      blending: n,\n      depthTest: h,\n      depthWrite: null,\n      colorWrite: b,\n      stencilWrite: null,\n      stencilTest: T\n    }), this._occluderPipelineOpaque = S({\n      blending: n,\n      depthTest: h,\n      depthWrite: null,\n      colorWrite: b,\n      stencilWrite: m,\n      stencilTest: f\n    }), this._occluderPipelineMaskWrite = S({\n      blending: null,\n      depthTest: P,\n      depthWrite: null,\n      colorWrite: null,\n      stencilWrite: p,\n      stencilTest: u\n    })), this._occludeePipelineState = this._makePipelineState(this.configuration.transparencyPassType, !0), this._makePipelineState(this.configuration.transparencyPassType, !1);\n  }\n\n  getPipelineState(e, t) {\n    return t ? this._occludeePipelineState : this.configuration.occluder ? e === a.TRANSPARENT_OCCLUDER_MATERIAL ? this._occluderPipelineTransparent : e === a.OCCLUDER_MATERIAL ? this._occluderPipelineOpaque : this._occluderPipelineMaskWrite : super.getPipelineState(e, t);\n  }\n\n}\n\nR.shader = new t(O, () => import(\"./LineMarker.glsl.js\"));\nexport { R as LineMarkerTechnique, A as markerVertexAttributeLocations };","map":{"version":3,"names":["ShaderOutput","e","ReloadableShaderModule","t","ShaderTechnique","i","TransparencyPassType","r","blendingDefault","n","oitBlending","l","oitDepthTest","s","oitDepthWrite","o","Program","c","RenderSlot","a","stencilWriteMaskOn","p","stencilToolMaskBaseParams","u","stencilBaseAllZerosParams","d","depthCompareAlways","h","stencilToolTransparentOccluderParams","T","stencilWriteMaskOff","m","stencilToolMaskOccluderParams","f","depthCompareLess","P","VertexAttribute","g","L","O","makePipelineState","S","defaultDepthWriteParams","E","defaultColorWriteParams","b","A","Map","POSITION","UV0","AUXPOS1","SIZE","SIZEFEATUREATTRIBUTE","COLOR","COLORFEATUREATTRIBUTE","OPACITYFEATUREATTRIBUTE","R","initializeProgram","shader","get","build","configuration","rctx","_makePipelineState","NONE","blending","output","Color","Alpha","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","factor","units","initializePipeline","occluder","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipelineState","transparencyPassType","getPipelineState","TRANSPARENT_OCCLUDER_MATERIAL","OCCLUDER_MATERIAL","LineMarkerTechnique","markerVertexAttributeLocations"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{TransparencyPassType as r}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as l,oitDepthTest as s,oitDepthWrite as o}from\"../lib/OrderIndependentTransparency.js\";import{Program as c}from\"../lib/Program.js\";import{RenderSlot as a}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as d,depthCompareAlways as h,stencilToolTransparentOccluderParams as T,stencilWriteMaskOff as m,stencilToolMaskOccluderParams as f,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{L as O}from\"../../../../chunks/LineMarker.glsl.js\";import{makePipelineState as S,defaultDepthWriteParams as E,defaultColorWriteParams as b}from\"../../../webgl/renderState.js\";const A=new Map([[g.POSITION,0],[g.UV0,2],[g.AUXPOS1,3],[g.SIZE,6],[g.SIZEFEATUREATTRIBUTE,6],[g.COLOR,5],[g.COLORFEATUREATTRIBUTE,5],[g.OPACITYFEATUREATTRIBUTE,7]]);class R extends i{initializeProgram(e){const t=R.shader.get().build(this.configuration);return new c(e.rctx,t,A)}_makePipelineState(t,i){const c=this.configuration,a=t===r.NONE;return S({blending:c.output===e.Color||c.output===e.Alpha?a?n:l(t):null,depthTest:{func:s(t)},depthWrite:a?c.writeDepth&&E:o(t),colorWrite:b,stencilWrite:c.hasOccludees?p:null,stencilTest:c.hasOccludees?i?u:d:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(){return this.configuration.occluder&&(this._occluderPipelineTransparent=S({blending:n,depthTest:h,depthWrite:null,colorWrite:b,stencilWrite:null,stencilTest:T}),this._occluderPipelineOpaque=S({blending:n,depthTest:h,depthWrite:null,colorWrite:b,stencilWrite:m,stencilTest:f}),this._occluderPipelineMaskWrite=S({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:p,stencilTest:u})),this._occludeePipelineState=this._makePipelineState(this.configuration.transparencyPassType,!0),this._makePipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:this.configuration.occluder?e===a.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent:e===a.OCCLUDER_MATERIAL?this._occluderPipelineOpaque:this._occluderPipelineMaskWrite:super.getPipelineState(e,t)}}R.shader=new t(O,(()=>import(\"./LineMarker.glsl.js\")));export{R as LineMarkerTechnique,A as markerVertexAttributeLocations};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}