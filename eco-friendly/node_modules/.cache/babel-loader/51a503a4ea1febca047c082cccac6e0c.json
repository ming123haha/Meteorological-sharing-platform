{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { unwrap as e } from \"../../../core/maybe.js\";\nimport { l as t, j as o } from \"../../../chunks/vec2.js\";\nimport { a as r } from \"../../../chunks/vec2f64.js\";\nimport { SnappingAlgorithm as s } from \"./SnappingAlgorithm.js\";\nimport { squareDistance as i } from \"./snappingUtils.js\";\nimport { RightAngleTriangleSnappingCandidate as n } from \"./candidates/RightAngleTriangleSnappingCandidate.js\";\nimport { anyMapPointToScreenPoint as p } from \"../support/viewUtils.js\";\nimport { projectPointToCircle as a } from \"../../support/geometry2dUtils.js\";\n\nclass d extends s {\n  snapNewVertex(e, t) {\n    const o = t.editGeometryOperations.data.components[0],\n          r = [],\n          s = o.vertices.length;\n    if (\"polygon\" !== t.editGeometryOperations.data.type || s < 2) return r;\n    const i = o.vertices[0],\n          n = o.vertices[s - 1];\n    return this._processCandidateProposal(i.pos, n.pos, e, t, r), r;\n  }\n\n  snapExistingVertex(t, o) {\n    const r = [],\n          s = e(o.vertexHandle),\n          i = s.component;\n    return i.edges.length < 2 ? r : \"polyline\" !== o.editGeometryOperations.data.type || 0 !== s.index && s.index !== i.vertices.length - 1 ? (this._processCandidateProposal(s.leftEdge.leftVertex.pos, s.rightEdge.rightVertex.pos, t, o, r), r) : r;\n  }\n\n  _processCandidateProposal(e, s, d, l, m) {\n    if (!this.exceedsShortLineThreshold(e, s, l)) return;\n    const c = t(r(), e, s, .5),\n          g = .5 * o(e, s),\n          h = a(r(), d, c, g),\n          {\n      coordinateHelper: f,\n      elevationInfo: v,\n      pointer: x\n    } = l,\n          u = f.fromXYZ(h, f.getZ(d, 0)),\n          y = p(d, f, v, this.view);\n    i(y, p(u, f, v, this.view)) < this.squaredProximityTreshold(x) && m.push(new n({\n      coordinateHelper: f,\n      targetPoint: u,\n      point1: e,\n      point2: s,\n      elevationInfo: v\n    }));\n  }\n\n}\n\nexport { d as RightAngleTriangleSnapper };","map":{"version":3,"names":["unwrap","e","l","t","j","o","a","r","SnappingAlgorithm","s","squareDistance","i","RightAngleTriangleSnappingCandidate","n","anyMapPointToScreenPoint","p","projectPointToCircle","d","snapNewVertex","editGeometryOperations","data","components","vertices","length","type","_processCandidateProposal","pos","snapExistingVertex","vertexHandle","component","edges","index","leftEdge","leftVertex","rightEdge","rightVertex","m","exceedsShortLineThreshold","c","g","h","coordinateHelper","f","elevationInfo","v","pointer","x","u","fromXYZ","getZ","y","view","squaredProximityTreshold","push","targetPoint","point1","point2","RightAngleTriangleSnapper"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{l as t,j as o}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as s}from\"./SnappingAlgorithm.js\";import{squareDistance as i}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as n}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{anyMapPointToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToCircle as a}from\"../../support/geometry2dUtils.js\";class d extends s{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=[],s=o.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const i=o.vertices[0],n=o.vertices[s-1];return this._processCandidateProposal(i.pos,n.pos,e,t,r),r}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),i=s.component;return i.edges.length<2?r:\"polyline\"!==o.editGeometryOperations.data.type||0!==s.index&&s.index!==i.vertices.length-1?(this._processCandidateProposal(s.leftEdge.leftVertex.pos,s.rightEdge.rightVertex.pos,t,o,r),r):r}_processCandidateProposal(e,s,d,l,m){if(!this.exceedsShortLineThreshold(e,s,l))return;const c=t(r(),e,s,.5),g=.5*o(e,s),h=a(r(),d,c,g),{coordinateHelper:f,elevationInfo:v,pointer:x}=l,u=f.fromXYZ(h,f.getZ(d,0)),y=p(d,f,v,this.view);i(y,p(u,f,v,this.view))<this.squaredProximityTreshold(x)&&m.push(new n({coordinateHelper:f,targetPoint:u,point1:e,point2:s,elevationInfo:v}))}}export{d as RightAngleTriangleSnapper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}