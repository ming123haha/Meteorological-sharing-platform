{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e, isSome as t, isNone as o } from \"../../../../../core/maybe.js\";\nimport r from \"../../../../../core/RandomLCG.js\";\nimport { TEXTURE_BINDING_RENDERER_0 as s, TEXTURE_BINDING_RENDERER_1 as i, TILE_SIZE as n } from \"../definitions.js\";\nimport { WGLGeometryType as d, WGLSymbologyType as a } from \"../enums.js\";\nimport l from \"./WGLGeometryBrushFill.js\";\nimport { assertRendererSchema as _ } from \"../techniques/utils.js\";\nimport { BufferObject as u } from \"../../../../webgl/BufferObject.js\";\nimport { DataType as m, PrimitiveType as h, TextureType as c, PixelFormat as f, PixelType as T, TextureSamplingMode as p, TextureWrapMode as x, TargetType as w, DepthStencilTargetType as D, RenderbufferFormat as y, Usage as g } from \"../../../../webgl/enums.js\";\nimport { FramebufferObject as S } from \"../../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as E } from \"../../../../webgl/Renderbuffer.js\";\nimport { Texture as b } from \"../../../../webgl/Texture.js\";\nimport { VertexArrayObject as F } from \"../../../../webgl/VertexArrayObject.js\";\n\nclass O extends l {\n  constructor() {\n    super(...arguments), this._dotTextureSize = 0, this._dotTextures = null, this._dotSamplers = new Int32Array([s, i]), this._dotVAO = null, this._dotDesc = {\n      vsPath: \"dot/dot\",\n      fsPath: \"dot/dot\",\n      attributes: new Map([[\"a_pos\", 0]])\n    };\n  }\n\n  dispose() {\n    super.dispose(), this._disposeTextures(), this._dotFBO = e(this._dotFBO), this._dotVAO = e(this._dotVAO);\n  }\n\n  getGeometryType() {\n    return d.FILL;\n  }\n\n  supportsSymbology(e) {\n    return e === a.DOT_DENSITY;\n  }\n\n  _drawFills(e, o, r, s, i, n) {\n    const {\n      passOptions: d\n    } = e;\n    if (t(d) && \"hittest\" === d.type) super._drawFills(e, o, r, s, i, n);else {\n      const t = this._drawDotLocations(e, o, r, i, n);\n\n      this._drawDotDensity(e, o, t);\n    }\n  }\n\n  _drawDotDensity(e, o, r) {\n    const {\n      context: s,\n      painter: i,\n      rendererInfo: n,\n      requestRender: d,\n      allowDelayedRender: a\n    } = e,\n          l = i.materialManager.getProgram(this._dotDesc);\n    if (a && t(d) && !l.isCompiled) return void d();\n    const {\n      rendererSchema: u\n    } = n;\n\n    _(u, \"dot-density\");\n\n    const c = this._createDotDensityMesh(s, this._dotDesc.attributes, {\n      geometry: [{\n        name: \"a_pos\",\n        count: 2,\n        type: m.SHORT,\n        divisor: 0,\n        normalized: !1,\n        offset: 0,\n        stride: 4\n      }]\n    });\n\n    s.setStencilTestEnabled(!0), s.useProgram(l), l.setUniform1f(\"u_tileZoomFactor\", 1), l.setUniform1i(\"u_texture\", this._dotSamplers[0]), l.setUniform1f(\"u_dotSize\", Math.max(u.dotSize, 1)), l.setUniform1f(\"u_pixelRatio\", window.devicePixelRatio), this._setSharedUniforms(l, e, o), s.bindTexture(r, this._dotSamplers[0]), s.bindVAO(c), s.drawArrays(h.POINTS, 0, 262144);\n  }\n\n  _drawDotLocations(e, t, o, r, s) {\n    const {\n      context: i,\n      rendererInfo: d,\n      requiredLevel: a\n    } = e,\n          l = i.getViewport(),\n          {\n      rendererSchema: u\n    } = d;\n\n    _(u, \"dot-density\");\n\n    const {\n      dotScale: c,\n      colors: f,\n      activeDots: T,\n      backgroundColor: p,\n      dotValue: x\n    } = u;\n    i.setViewport(0, 0, 512, 512);\n\n    const w = i.getBoundFramebufferObject(),\n          D = this._createFBO(i);\n\n    i.bindFramebuffer(D), i.setClearColor(0, 0, 0, 0), i.clear(i.gl.COLOR_BUFFER_BIT | i.gl.STENCIL_BUFFER_BIT), i.setStencilTestEnabled(!1);\n    const y = 1 / 2 ** (a - t.key.level),\n          g = n,\n          S = g * window.devicePixelRatio * g * window.devicePixelRatio,\n          E = 1 / y * (1 / y),\n          b = c ? e.state.scale / c : 1;\n    return o.setUniform1f(\"u_tileZoomFactor\", y), o.setUniform1f(\"u_tileDotsOverArea\", S / (n * window.devicePixelRatio * n * window.devicePixelRatio)), o.setUniformMatrix4fv(\"u_dotColors\", f), o.setUniform4fv(\"u_isActive\", T), o.setUniform4fv(\"u_dotBackgroundColor\", p), o.setUniform1f(\"u_dotValue\", Math.max(1, x * b * E)), this._bindDotDensityTextures(i, o, d, g), i.drawElements(h.TRIANGLES, r, m.UNSIGNED_INT, s), i.setViewport(l.x, l.y, l.width, l.height), i.bindFramebuffer(w), D.colorTexture;\n  }\n\n  _createFBO(e) {\n    if (o(this._dotFBO)) {\n      const t = 512,\n            o = 512,\n            r = {\n        target: c.TEXTURE_2D,\n        pixelFormat: f.RGBA,\n        dataType: T.UNSIGNED_BYTE,\n        samplingMode: p.NEAREST,\n        wrapMode: x.CLAMP_TO_EDGE,\n        width: t,\n        height: o\n      },\n            s = {\n        colorTarget: w.TEXTURE,\n        depthStencilTarget: D.DEPTH_STENCIL_RENDER_BUFFER\n      },\n            i = new E(e, {\n        width: t,\n        height: o,\n        internalFormat: y.DEPTH_STENCIL\n      });\n      this._dotFBO = new S(e, s, r, i);\n    }\n\n    return this._dotFBO;\n  }\n\n  _disposeTextures() {\n    if (this._dotTextures) {\n      for (let e = 0; e < this._dotTextures.length; e++) this._dotTextures[e].dispose();\n\n      this._dotTextures = null;\n    }\n  }\n\n  _bindDotDensityTextures(e, t, o, r) {\n    const {\n      rendererSchema: s\n    } = o;\n\n    _(s, \"dot-density\");\n\n    const i = this._createDotDensityTextures(e, r, s.seed);\n\n    t.setUniform1iv(\"u_dotTextures\", this._dotSamplers);\n\n    for (let n = 0; n < i.length; n++) e.bindTexture(i[n], this._dotSamplers[n]);\n  }\n\n  _createDotDensityMesh(e, t, r) {\n    if (o(this._dotVAO)) {\n      const o = 2,\n            s = new Int16Array(262144 * o);\n\n      for (let e = 0; e < 512; e++) for (let t = 0; t < 512; t++) s[o * (t + 512 * e)] = t, s[o * (t + 512 * e) + 1] = e;\n\n      const i = u.createVertex(e, g.STATIC_DRAW, s);\n      this._dotVAO = new F(e, t, r, {\n        geometry: i\n      }, null);\n    }\n\n    return this._dotVAO;\n  }\n\n  _createDotDensityTextures(e, t, o) {\n    if (this._dotTextureSize === t && this._seed === o || (this._disposeTextures(), this._dotTextureSize = t, this._seed = o), null === this._dotTextures) {\n      const s = new r(o);\n      this._dotTextures = [this._allocDotDensityTexture(e, t, s), this._allocDotDensityTexture(e, t, s)];\n    }\n\n    return this._dotTextures;\n  }\n\n  _allocDotDensityTexture(e, t, o) {\n    const r = new Float32Array(t * t * 4);\n\n    for (let s = 0; s < r.length; s++) r[s] = o.getFloat();\n\n    return new b(e, {\n      wrapMode: x.REPEAT,\n      pixelFormat: f.RGBA,\n      dataType: T.FLOAT,\n      samplingMode: p.NEAREST,\n      width: t,\n      height: t\n    }, r);\n  }\n\n}\n\nexport { O as default };","map":{"version":3,"names":["disposeMaybe","e","isSome","t","isNone","o","r","TEXTURE_BINDING_RENDERER_0","s","TEXTURE_BINDING_RENDERER_1","i","TILE_SIZE","n","WGLGeometryType","d","WGLSymbologyType","a","l","assertRendererSchema","_","BufferObject","u","DataType","m","PrimitiveType","h","TextureType","c","PixelFormat","f","PixelType","T","TextureSamplingMode","p","TextureWrapMode","x","TargetType","w","DepthStencilTargetType","D","RenderbufferFormat","y","Usage","g","FramebufferObject","S","Renderbuffer","E","Texture","b","VertexArrayObject","F","O","constructor","arguments","_dotTextureSize","_dotTextures","_dotSamplers","Int32Array","_dotVAO","_dotDesc","vsPath","fsPath","attributes","Map","dispose","_disposeTextures","_dotFBO","getGeometryType","FILL","supportsSymbology","DOT_DENSITY","_drawFills","passOptions","type","_drawDotLocations","_drawDotDensity","context","painter","rendererInfo","requestRender","allowDelayedRender","materialManager","getProgram","isCompiled","rendererSchema","_createDotDensityMesh","geometry","name","count","SHORT","divisor","normalized","offset","stride","setStencilTestEnabled","useProgram","setUniform1f","setUniform1i","Math","max","dotSize","window","devicePixelRatio","_setSharedUniforms","bindTexture","bindVAO","drawArrays","POINTS","requiredLevel","getViewport","dotScale","colors","activeDots","backgroundColor","dotValue","setViewport","getBoundFramebufferObject","_createFBO","bindFramebuffer","setClearColor","clear","gl","COLOR_BUFFER_BIT","STENCIL_BUFFER_BIT","key","level","state","scale","setUniformMatrix4fv","setUniform4fv","_bindDotDensityTextures","drawElements","TRIANGLES","UNSIGNED_INT","width","height","colorTexture","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","NEAREST","wrapMode","CLAMP_TO_EDGE","colorTarget","TEXTURE","depthStencilTarget","DEPTH_STENCIL_RENDER_BUFFER","internalFormat","DEPTH_STENCIL","length","_createDotDensityTextures","seed","setUniform1iv","Int16Array","createVertex","STATIC_DRAW","_seed","_allocDotDensityTexture","Float32Array","getFloat","REPEAT","FLOAT","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushDotDensity.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,isSome as t,isNone as o}from\"../../../../../core/maybe.js\";import r from\"../../../../../core/RandomLCG.js\";import{TEXTURE_BINDING_RENDERER_0 as s,TEXTURE_BINDING_RENDERER_1 as i,TILE_SIZE as n}from\"../definitions.js\";import{WGLGeometryType as d,WGLSymbologyType as a}from\"../enums.js\";import l from\"./WGLGeometryBrushFill.js\";import{assertRendererSchema as _}from\"../techniques/utils.js\";import{BufferObject as u}from\"../../../../webgl/BufferObject.js\";import{DataType as m,PrimitiveType as h,TextureType as c,PixelFormat as f,PixelType as T,TextureSamplingMode as p,TextureWrapMode as x,TargetType as w,DepthStencilTargetType as D,RenderbufferFormat as y,Usage as g}from\"../../../../webgl/enums.js\";import{FramebufferObject as S}from\"../../../../webgl/FramebufferObject.js\";import{Renderbuffer as E}from\"../../../../webgl/Renderbuffer.js\";import{Texture as b}from\"../../../../webgl/Texture.js\";import{VertexArrayObject as F}from\"../../../../webgl/VertexArrayObject.js\";class O extends l{constructor(){super(...arguments),this._dotTextureSize=0,this._dotTextures=null,this._dotSamplers=new Int32Array([s,i]),this._dotVAO=null,this._dotDesc={vsPath:\"dot/dot\",fsPath:\"dot/dot\",attributes:new Map([[\"a_pos\",0]])}}dispose(){super.dispose(),this._disposeTextures(),this._dotFBO=e(this._dotFBO),this._dotVAO=e(this._dotVAO)}getGeometryType(){return d.FILL}supportsSymbology(e){return e===a.DOT_DENSITY}_drawFills(e,o,r,s,i,n){const{passOptions:d}=e;if(t(d)&&\"hittest\"===d.type)super._drawFills(e,o,r,s,i,n);else{const t=this._drawDotLocations(e,o,r,i,n);this._drawDotDensity(e,o,t)}}_drawDotDensity(e,o,r){const{context:s,painter:i,rendererInfo:n,requestRender:d,allowDelayedRender:a}=e,l=i.materialManager.getProgram(this._dotDesc);if(a&&t(d)&&!l.isCompiled)return void d();const{rendererSchema:u}=n;_(u,\"dot-density\");const c=this._createDotDensityMesh(s,this._dotDesc.attributes,{geometry:[{name:\"a_pos\",count:2,type:m.SHORT,divisor:0,normalized:!1,offset:0,stride:4}]});s.setStencilTestEnabled(!0),s.useProgram(l),l.setUniform1f(\"u_tileZoomFactor\",1),l.setUniform1i(\"u_texture\",this._dotSamplers[0]),l.setUniform1f(\"u_dotSize\",Math.max(u.dotSize,1)),l.setUniform1f(\"u_pixelRatio\",window.devicePixelRatio),this._setSharedUniforms(l,e,o),s.bindTexture(r,this._dotSamplers[0]),s.bindVAO(c),s.drawArrays(h.POINTS,0,262144)}_drawDotLocations(e,t,o,r,s){const{context:i,rendererInfo:d,requiredLevel:a}=e,l=i.getViewport(),{rendererSchema:u}=d;_(u,\"dot-density\");const{dotScale:c,colors:f,activeDots:T,backgroundColor:p,dotValue:x}=u;i.setViewport(0,0,512,512);const w=i.getBoundFramebufferObject(),D=this._createFBO(i);i.bindFramebuffer(D),i.setClearColor(0,0,0,0),i.clear(i.gl.COLOR_BUFFER_BIT|i.gl.STENCIL_BUFFER_BIT),i.setStencilTestEnabled(!1);const y=1/2**(a-t.key.level),g=n,S=g*window.devicePixelRatio*g*window.devicePixelRatio,E=1/y*(1/y),b=c?e.state.scale/c:1;return o.setUniform1f(\"u_tileZoomFactor\",y),o.setUniform1f(\"u_tileDotsOverArea\",S/(n*window.devicePixelRatio*n*window.devicePixelRatio)),o.setUniformMatrix4fv(\"u_dotColors\",f),o.setUniform4fv(\"u_isActive\",T),o.setUniform4fv(\"u_dotBackgroundColor\",p),o.setUniform1f(\"u_dotValue\",Math.max(1,x*b*E)),this._bindDotDensityTextures(i,o,d,g),i.drawElements(h.TRIANGLES,r,m.UNSIGNED_INT,s),i.setViewport(l.x,l.y,l.width,l.height),i.bindFramebuffer(w),D.colorTexture}_createFBO(e){if(o(this._dotFBO)){const t=512,o=512,r={target:c.TEXTURE_2D,pixelFormat:f.RGBA,dataType:T.UNSIGNED_BYTE,samplingMode:p.NEAREST,wrapMode:x.CLAMP_TO_EDGE,width:t,height:o},s={colorTarget:w.TEXTURE,depthStencilTarget:D.DEPTH_STENCIL_RENDER_BUFFER},i=new E(e,{width:t,height:o,internalFormat:y.DEPTH_STENCIL});this._dotFBO=new S(e,s,r,i)}return this._dotFBO}_disposeTextures(){if(this._dotTextures){for(let e=0;e<this._dotTextures.length;e++)this._dotTextures[e].dispose();this._dotTextures=null}}_bindDotDensityTextures(e,t,o,r){const{rendererSchema:s}=o;_(s,\"dot-density\");const i=this._createDotDensityTextures(e,r,s.seed);t.setUniform1iv(\"u_dotTextures\",this._dotSamplers);for(let n=0;n<i.length;n++)e.bindTexture(i[n],this._dotSamplers[n])}_createDotDensityMesh(e,t,r){if(o(this._dotVAO)){const o=2,s=new Int16Array(262144*o);for(let e=0;e<512;e++)for(let t=0;t<512;t++)s[o*(t+512*e)]=t,s[o*(t+512*e)+1]=e;const i=u.createVertex(e,g.STATIC_DRAW,s);this._dotVAO=new F(e,t,r,{geometry:i},null)}return this._dotVAO}_createDotDensityTextures(e,t,o){if(this._dotTextureSize===t&&this._seed===o||(this._disposeTextures(),this._dotTextureSize=t,this._seed=o),null===this._dotTextures){const s=new r(o);this._dotTextures=[this._allocDotDensityTexture(e,t,s),this._allocDotDensityTexture(e,t,s)]}return this._dotTextures}_allocDotDensityTexture(e,t,o){const r=new Float32Array(t*t*4);for(let s=0;s<r.length;s++)r[s]=o.getFloat();return new b(e,{wrapMode:x.REPEAT,pixelFormat:f.RGBA,dataType:T.FLOAT,samplingMode:p.NEAREST,width:t,height:t},r)}}export{O as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}