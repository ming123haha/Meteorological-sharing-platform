{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../chunks/tslib.es6.js\";\nimport { isNone as e } from \"../core/maybe.js\";\nimport { after as t } from \"../core/promiseUtils.js\";\nimport { watch as s } from \"../core/reactiveUtils.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as r } from \"../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./Widget.js\";\nimport l from \"./Spinner/SpinnerViewModel.js\";\nimport \"./support/widgetUtils.js\";\nimport { tsx as a } from \"./support/jsxFactory.js\";\nconst p = {\n  base: \"esri-spinner\",\n  spinnerStart: \"esri-spinner--start\",\n  spinnerFinish: \"esri-spinner--finish\"\n};\nlet c = class extends n {\n  constructor(i, e) {\n    super(i, e), this._animationDelay = 500, this._animationPromise = null, this.viewModel = new l();\n  }\n\n  initialize() {\n    this.addHandles(s(() => this.visible, i => this._visibleChange(i)));\n  }\n\n  destroy() {\n    this._animationPromise = null;\n  }\n\n  get location() {\n    return this.viewModel.location;\n  }\n\n  set location(i) {\n    this.viewModel.location = i;\n  }\n\n  get view() {\n    return this.viewModel.view;\n  }\n\n  set view(i) {\n    this.viewModel.view = i;\n  }\n\n  get visible() {\n    return this.viewModel.visible;\n  }\n\n  set visible(i) {\n    this.viewModel.visible = i;\n  }\n\n  show(i) {\n    const {\n      location: e,\n      promise: t\n    } = i;\n    e && (this.viewModel.location = e), this.visible = !0;\n\n    const s = () => this.hide();\n\n    t && t.catch(() => {}).then(s);\n  }\n\n  hide() {\n    this.visible = !1;\n  }\n\n  render() {\n    const {\n      visible: i\n    } = this,\n          {\n      screenLocation: e\n    } = this.viewModel,\n          t = !!e,\n          s = i && t,\n          o = !i && t,\n          r = {\n      [p.spinnerStart]: s,\n      [p.spinnerFinish]: o\n    },\n          n = this._getPositionStyles();\n\n    return a(\"div\", {\n      class: this.classes(p.base, r),\n      styles: n\n    });\n  }\n\n  _visibleChange(i) {\n    if (i) return void (this.viewModel.screenLocationEnabled = !0);\n    const e = t(this._animationDelay);\n    this._animationPromise = e, e.catch(() => {}).then(() => {\n      this._animationPromise === e && (this.viewModel.screenLocationEnabled = !1, this._animationPromise = null);\n    });\n  }\n\n  _getPositionStyles() {\n    const {\n      screenLocation: i,\n      view: t\n    } = this.viewModel;\n    if (e(t) || e(i)) return {};\n    const {\n      padding: s\n    } = t;\n    return {\n      left: i.x - s.left + \"px\",\n      top: i.y - s.top + \"px\"\n    };\n  }\n\n};\ni([o()], c.prototype, \"location\", null), i([o()], c.prototype, \"view\", null), i([o({\n  type: l\n})], c.prototype, \"viewModel\", void 0), i([o()], c.prototype, \"visible\", null), c = i([r(\"esri.widgets.Spinner\")], c);\nconst h = c;\nexport { h as default };","map":{"version":3,"names":["_","i","isNone","e","after","t","watch","s","property","o","subclass","r","n","l","tsx","a","p","base","spinnerStart","spinnerFinish","c","constructor","_animationDelay","_animationPromise","viewModel","initialize","addHandles","visible","_visibleChange","destroy","location","view","show","promise","hide","catch","then","render","screenLocation","_getPositionStyles","class","classes","styles","screenLocationEnabled","padding","left","x","top","y","prototype","type","h","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Spinner.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{isNone as e}from\"../core/maybe.js\";import{after as t}from\"../core/promiseUtils.js\";import{watch as s}from\"../core/reactiveUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"./Widget.js\";import l from\"./Spinner/SpinnerViewModel.js\";import\"./support/widgetUtils.js\";import{tsx as a}from\"./support/jsxFactory.js\";const p={base:\"esri-spinner\",spinnerStart:\"esri-spinner--start\",spinnerFinish:\"esri-spinner--finish\"};let c=class extends n{constructor(i,e){super(i,e),this._animationDelay=500,this._animationPromise=null,this.viewModel=new l}initialize(){this.addHandles(s((()=>this.visible),(i=>this._visibleChange(i))))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(i){this.viewModel.location=i}get view(){return this.viewModel.view}set view(i){this.viewModel.view=i}get visible(){return this.viewModel.visible}set visible(i){this.viewModel.visible=i}show(i){const{location:e,promise:t}=i;e&&(this.viewModel.location=e),this.visible=!0;const s=()=>this.hide();t&&t.catch((()=>{})).then(s)}hide(){this.visible=!1}render(){const{visible:i}=this,{screenLocation:e}=this.viewModel,t=!!e,s=i&&t,o=!i&&t,r={[p.spinnerStart]:s,[p.spinnerFinish]:o},n=this._getPositionStyles();return a(\"div\",{class:this.classes(p.base,r),styles:n})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);const e=t(this._animationDelay);this._animationPromise=e,e.catch((()=>{})).then((()=>{this._animationPromise===e&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)}))}_getPositionStyles(){const{screenLocation:i,view:t}=this.viewModel;if(e(t)||e(i))return{};const{padding:s}=t;return{left:i.x-s.left+\"px\",top:i.y-s.top+\"px\"}}};i([o()],c.prototype,\"location\",null),i([o()],c.prototype,\"view\",null),i([o({type:l})],c.prototype,\"viewModel\",void 0),i([o()],c.prototype,\"visible\",null),c=i([r(\"esri.widgets.Spinner\")],c);const h=c;export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}