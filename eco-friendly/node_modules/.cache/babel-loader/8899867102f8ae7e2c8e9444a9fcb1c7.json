{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../request.js\";\nimport { createTask as r } from \"../../../core/asyncUtils.js\";\nimport s from \"../../../core/Handles.js\";\nimport { clamp as t } from \"../../../core/mathUtils.js\";\nimport { isNone as i, isSome as a, disposeMaybe as o } from \"../../../core/maybe.js\";\nimport { watch as n, initial as l } from \"../../../core/reactiveUtils.js\";\nimport { isSVG as h } from \"../../../core/urlUtils.js\";\nimport { c as m } from \"../../../chunks/mat3f32.js\";\nimport { DisplayObject as u } from \"../engine/DisplayObject.js\";\nimport { Pos2us as c } from \"../engine/webgl/DefaultVertexAttributeLayouts.js\";\nimport { WGLDrawPhase as d } from \"../engine/webgl/enums.js\";\nimport { createMagnifierProgram as _, magnifierProgramTemplate as p } from \"../engine/webgl/shaders/MagnifierPrograms.js\";\nimport { loadMagnifierResources as f } from \"../../magnifier/resources.js\";\nimport { BufferObject as g } from \"../../webgl/BufferObject.js\";\nimport { PrimitiveType as T, Usage as b, TextureType as x, PixelFormat as R, PixelType as y, TextureWrapMode as k, TextureSamplingMode as A } from \"../../webgl/enums.js\";\nimport { Texture as v } from \"../../webgl/Texture.js\";\nimport { VertexArrayObject as E } from \"../../webgl/VertexArrayObject.js\";\n\nclass j extends u {\n  constructor() {\n    super(), this._handles = new s(), this._resourcePixelRatio = 1, this.visible = !1;\n  }\n\n  destroy() {\n    this._handles.destroy(), this._handles = null, this._disposeRenderResources(), this._resourcesTask && (this._resourcesTask.abort(), this._resourcesTask = null);\n  }\n\n  get background() {\n    return this._background;\n  }\n\n  set background(e) {\n    this._background = e, this.requestRender();\n  }\n\n  get magnifier() {\n    return this._magnifier;\n  }\n\n  set magnifier(e) {\n    this._magnifier = e, this._handles.removeAll(), this._handles.add([n(() => e.version, () => {\n      this.visible = e.visible && a(e.position) && e.size > 0, this.requestRender();\n    }, l), n(() => [e.maskUrl, e.overlayUrl], () => this._reloadResources()), n(() => e.size, () => {\n      this._disposeRenderResources(), this.requestRender();\n    })]);\n  }\n\n  _createTransforms() {\n    return {\n      dvs: m()\n    };\n  }\n\n  doRender(e) {\n    const r = e.context;\n    if (!this._resourcesTask) return void this._reloadResources();\n    if (e.drawPhase !== d.MAP || !this._canRender()) return;\n\n    this._updateResources(e);\n\n    const s = this._magnifier;\n    if (i(s.position)) return;\n    const a = e.pixelRatio,\n          o = s.size * a,\n          n = 1 / s.factor,\n          l = Math.ceil(n * o);\n\n    this._readbackTexture.resize(l, l);\n\n    const {\n      size: h\n    } = e.state,\n          m = a * h[0],\n          u = a * h[1],\n          c = .5 * l,\n          _ = .5 * l,\n          p = t(a * s.position.x, c, m - c - 1),\n          f = t(u - a * s.position.y, _, u - _ - 1);\n\n    r.setBlendingEnabled(!0);\n    const g = p - c,\n          b = f - _,\n          x = this._readbackTexture;\n    r.bindTexture(x, 0), r.gl.copyTexImage2D(x.descriptor.target, 0, x.descriptor.pixelFormat, g, b, l, l, 0);\n    const R = this.background?.color,\n          y = R ? [R.a * R.r / 255, R.a * R.g / 255, R.a * R.b / 255, R.a] : [1, 1, 1, 1],\n          k = (p + s.offset.x * a) / m * 2 - 1,\n          A = (f - s.offset.y * a) / u * 2 - 1,\n          v = o / m * 2,\n          E = o / u * 2,\n          j = this._program;\n    r.bindVAO(this._vertexArrayObject), r.bindTexture(this._overlayTexture, 6), r.bindTexture(this._maskTexture, 7), r.useProgram(j), j.setUniform4fv(\"u_background\", y), j.setUniform1i(\"u_readbackTexture\", 0), j.setUniform1i(\"u_overlayTexture\", 6), j.setUniform1i(\"u_maskTexture\", 7), j.setUniform4f(\"u_drawPos\", k, A, v, E), j.setUniform1i(\"u_maskEnabled\", s.maskEnabled ? 1 : 0), j.setUniform1i(\"u_overlayEnabled\", s.overlayEnabled ? 1 : 0), r.setStencilTestEnabled(!1), r.setColorMask(!0, !0, !0, !0), r.drawArrays(T.TRIANGLE_STRIP, 0, 4), r.bindVAO();\n  }\n\n  _canRender() {\n    return this.mask && this.overlay && null != this._magnifier;\n  }\n\n  _reloadResources() {\n    this._resourcesTask && this._resourcesTask.abort();\n    const s = a(this._magnifier) ? this._magnifier.maskUrl : null,\n          t = a(this._magnifier) ? this._magnifier.overlayUrl : null;\n    this._resourcesTask = r(async r => {\n      const o = i(s) || i(t) ? f(r) : null,\n            n = a(s) ? e(s, {\n        responseType: \"image\",\n        signal: r\n      }).then(e => e.data) : o.then(e => e.mask),\n            l = a(t) ? e(t, {\n        responseType: \"image\",\n        signal: r\n      }).then(e => e.data) : o.then(e => e.overlay),\n            [h, m] = await Promise.all([n, l]);\n      this.mask = h, this.overlay = m, this._disposeRenderResources(), this.requestRender();\n    });\n  }\n\n  _disposeRenderResources() {\n    this._readbackTexture = o(this._readbackTexture), this._overlayTexture = o(this._overlayTexture), this._maskTexture = o(this._maskTexture), this._vertexArrayObject = o(this._vertexArrayObject), this._program = o(this._program);\n  }\n\n  _updateResources(e) {\n    if (e.pixelRatio !== this._resourcePixelRatio && this._disposeRenderResources(), this._readbackTexture) return;\n    const r = e.context;\n    this._resourcePixelRatio = e.pixelRatio;\n    const s = Math.ceil(this._magnifier.size * e.pixelRatio);\n    this._program = _(r);\n    const t = new Uint16Array([0, 1, 0, 0, 1, 1, 1, 0]),\n          i = p.attributes;\n    this._vertexArrayObject = new E(r, i, c, {\n      geometry: g.createVertex(r, b.STATIC_DRAW, t)\n    }), this.overlay.width = s, this.overlay.height = s, this._overlayTexture = new v(r, {\n      target: x.TEXTURE_2D,\n      pixelFormat: R.RGBA,\n      internalFormat: R.RGBA,\n      dataType: y.UNSIGNED_BYTE,\n      wrapMode: k.CLAMP_TO_EDGE,\n      samplingMode: A.NEAREST,\n      flipped: !0,\n      preMultiplyAlpha: !h(this.overlay.src) || !e.context.driverTest.svgAlwaysPremultipliesAlpha\n    }, this.overlay), this.mask.width = s, this.mask.height = s, this._maskTexture = new v(r, {\n      target: x.TEXTURE_2D,\n      pixelFormat: R.ALPHA,\n      internalFormat: R.ALPHA,\n      dataType: y.UNSIGNED_BYTE,\n      wrapMode: k.CLAMP_TO_EDGE,\n      samplingMode: A.NEAREST,\n      flipped: !0\n    }, this.mask);\n    const a = 1 / this._magnifier.factor;\n    this._readbackTexture = new v(r, {\n      target: x.TEXTURE_2D,\n      pixelFormat: R.RGBA,\n      internalFormat: R.RGBA,\n      dataType: y.UNSIGNED_BYTE,\n      wrapMode: k.CLAMP_TO_EDGE,\n      samplingMode: A.LINEAR,\n      flipped: !1,\n      width: Math.ceil(a * s),\n      height: Math.ceil(a * s)\n    });\n  }\n\n}\n\nexport { j as default };","map":{"version":3,"names":["e","createTask","r","s","clamp","t","isNone","i","isSome","a","disposeMaybe","o","watch","n","initial","l","isSVG","h","c","m","DisplayObject","u","Pos2us","WGLDrawPhase","d","createMagnifierProgram","_","magnifierProgramTemplate","p","loadMagnifierResources","f","BufferObject","g","PrimitiveType","T","Usage","b","TextureType","x","PixelFormat","R","PixelType","y","TextureWrapMode","k","TextureSamplingMode","A","Texture","v","VertexArrayObject","E","j","constructor","_handles","_resourcePixelRatio","visible","destroy","_disposeRenderResources","_resourcesTask","abort","background","_background","requestRender","magnifier","_magnifier","removeAll","add","version","position","size","maskUrl","overlayUrl","_reloadResources","_createTransforms","dvs","doRender","context","drawPhase","MAP","_canRender","_updateResources","pixelRatio","factor","Math","ceil","_readbackTexture","resize","state","setBlendingEnabled","bindTexture","gl","copyTexImage2D","descriptor","target","pixelFormat","color","offset","_program","bindVAO","_vertexArrayObject","_overlayTexture","_maskTexture","useProgram","setUniform4fv","setUniform1i","setUniform4f","maskEnabled","overlayEnabled","setStencilTestEnabled","setColorMask","drawArrays","TRIANGLE_STRIP","mask","overlay","responseType","signal","then","data","Promise","all","Uint16Array","attributes","geometry","createVertex","STATIC_DRAW","width","height","TEXTURE_2D","RGBA","internalFormat","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","NEAREST","flipped","preMultiplyAlpha","src","driverTest","svgAlwaysPremultipliesAlpha","ALPHA","LINEAR","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/magnifier/MagnifierView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{createTask as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Handles.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{isNone as i,isSome as a,disposeMaybe as o}from\"../../../core/maybe.js\";import{watch as n,initial as l}from\"../../../core/reactiveUtils.js\";import{isSVG as h}from\"../../../core/urlUtils.js\";import{c as m}from\"../../../chunks/mat3f32.js\";import{DisplayObject as u}from\"../engine/DisplayObject.js\";import{Pos2us as c}from\"../engine/webgl/DefaultVertexAttributeLayouts.js\";import{WGLDrawPhase as d}from\"../engine/webgl/enums.js\";import{createMagnifierProgram as _,magnifierProgramTemplate as p}from\"../engine/webgl/shaders/MagnifierPrograms.js\";import{loadMagnifierResources as f}from\"../../magnifier/resources.js\";import{BufferObject as g}from\"../../webgl/BufferObject.js\";import{PrimitiveType as T,Usage as b,TextureType as x,PixelFormat as R,PixelType as y,TextureWrapMode as k,TextureSamplingMode as A}from\"../../webgl/enums.js\";import{Texture as v}from\"../../webgl/Texture.js\";import{VertexArrayObject as E}from\"../../webgl/VertexArrayObject.js\";class j extends u{constructor(){super(),this._handles=new s,this._resourcePixelRatio=1,this.visible=!1}destroy(){this._handles.destroy(),this._handles=null,this._disposeRenderResources(),this._resourcesTask&&(this._resourcesTask.abort(),this._resourcesTask=null)}get background(){return this._background}set background(e){this._background=e,this.requestRender()}get magnifier(){return this._magnifier}set magnifier(e){this._magnifier=e,this._handles.removeAll(),this._handles.add([n((()=>e.version),(()=>{this.visible=e.visible&&a(e.position)&&e.size>0,this.requestRender()}),l),n((()=>[e.maskUrl,e.overlayUrl]),(()=>this._reloadResources())),n((()=>e.size),(()=>{this._disposeRenderResources(),this.requestRender()}))])}_createTransforms(){return{dvs:m()}}doRender(e){const r=e.context;if(!this._resourcesTask)return void this._reloadResources();if(e.drawPhase!==d.MAP||!this._canRender())return;this._updateResources(e);const s=this._magnifier;if(i(s.position))return;const a=e.pixelRatio,o=s.size*a,n=1/s.factor,l=Math.ceil(n*o);this._readbackTexture.resize(l,l);const{size:h}=e.state,m=a*h[0],u=a*h[1],c=.5*l,_=.5*l,p=t(a*s.position.x,c,m-c-1),f=t(u-a*s.position.y,_,u-_-1);r.setBlendingEnabled(!0);const g=p-c,b=f-_,x=this._readbackTexture;r.bindTexture(x,0),r.gl.copyTexImage2D(x.descriptor.target,0,x.descriptor.pixelFormat,g,b,l,l,0);const R=this.background?.color,y=R?[R.a*R.r/255,R.a*R.g/255,R.a*R.b/255,R.a]:[1,1,1,1],k=(p+s.offset.x*a)/m*2-1,A=(f-s.offset.y*a)/u*2-1,v=o/m*2,E=o/u*2,j=this._program;r.bindVAO(this._vertexArrayObject),r.bindTexture(this._overlayTexture,6),r.bindTexture(this._maskTexture,7),r.useProgram(j),j.setUniform4fv(\"u_background\",y),j.setUniform1i(\"u_readbackTexture\",0),j.setUniform1i(\"u_overlayTexture\",6),j.setUniform1i(\"u_maskTexture\",7),j.setUniform4f(\"u_drawPos\",k,A,v,E),j.setUniform1i(\"u_maskEnabled\",s.maskEnabled?1:0),j.setUniform1i(\"u_overlayEnabled\",s.overlayEnabled?1:0),r.setStencilTestEnabled(!1),r.setColorMask(!0,!0,!0,!0),r.drawArrays(T.TRIANGLE_STRIP,0,4),r.bindVAO()}_canRender(){return this.mask&&this.overlay&&null!=this._magnifier}_reloadResources(){this._resourcesTask&&this._resourcesTask.abort();const s=a(this._magnifier)?this._magnifier.maskUrl:null,t=a(this._magnifier)?this._magnifier.overlayUrl:null;this._resourcesTask=r((async r=>{const o=i(s)||i(t)?f(r):null,n=a(s)?e(s,{responseType:\"image\",signal:r}).then((e=>e.data)):o.then((e=>e.mask)),l=a(t)?e(t,{responseType:\"image\",signal:r}).then((e=>e.data)):o.then((e=>e.overlay)),[h,m]=await Promise.all([n,l]);this.mask=h,this.overlay=m,this._disposeRenderResources(),this.requestRender()}))}_disposeRenderResources(){this._readbackTexture=o(this._readbackTexture),this._overlayTexture=o(this._overlayTexture),this._maskTexture=o(this._maskTexture),this._vertexArrayObject=o(this._vertexArrayObject),this._program=o(this._program)}_updateResources(e){if(e.pixelRatio!==this._resourcePixelRatio&&this._disposeRenderResources(),this._readbackTexture)return;const r=e.context;this._resourcePixelRatio=e.pixelRatio;const s=Math.ceil(this._magnifier.size*e.pixelRatio);this._program=_(r);const t=new Uint16Array([0,1,0,0,1,1,1,0]),i=p.attributes;this._vertexArrayObject=new E(r,i,c,{geometry:g.createVertex(r,b.STATIC_DRAW,t)}),this.overlay.width=s,this.overlay.height=s,this._overlayTexture=new v(r,{target:x.TEXTURE_2D,pixelFormat:R.RGBA,internalFormat:R.RGBA,dataType:y.UNSIGNED_BYTE,wrapMode:k.CLAMP_TO_EDGE,samplingMode:A.NEAREST,flipped:!0,preMultiplyAlpha:!h(this.overlay.src)||!e.context.driverTest.svgAlwaysPremultipliesAlpha},this.overlay),this.mask.width=s,this.mask.height=s,this._maskTexture=new v(r,{target:x.TEXTURE_2D,pixelFormat:R.ALPHA,internalFormat:R.ALPHA,dataType:y.UNSIGNED_BYTE,wrapMode:k.CLAMP_TO_EDGE,samplingMode:A.NEAREST,flipped:!0},this.mask);const a=1/this._magnifier.factor;this._readbackTexture=new v(r,{target:x.TEXTURE_2D,pixelFormat:R.RGBA,internalFormat:R.RGBA,dataType:y.UNSIGNED_BYTE,wrapMode:k.CLAMP_TO_EDGE,samplingMode:A.LINEAR,flipped:!1,width:Math.ceil(a*s),height:Math.ceil(a*s)})}}export{j as default};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,qBAAb;AAAmC,SAAOC,UAAU,IAAIC,CAArB,QAA2B,6BAA3B;AAAyD,OAAOC,CAAP,MAAa,0BAAb;AAAwC,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,4BAAtB;AAAmD,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,EAA+BC,YAAY,IAAIC,CAA/C,QAAqD,wBAArD;AAA8E,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,OAAO,IAAIC,CAA7B,QAAmC,gCAAnC;AAAoE,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,2BAAtB;AAAkD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,4BAA9B;AAA2D,SAAOC,MAAM,IAAIJ,CAAjB,QAAuB,kDAAvB;AAA0E,SAAOK,YAAY,IAAIC,CAAvB,QAA6B,0BAA7B;AAAwD,SAAOC,sBAAsB,IAAIC,CAAjC,EAAmCC,wBAAwB,IAAIC,CAA/D,QAAqE,8CAArE;AAAoH,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,8BAAvC;AAAsE,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,6BAA7B;AAA2D,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,KAAK,IAAIC,CAAnC,EAAqCC,WAAW,IAAIC,CAApD,EAAsDC,WAAW,IAAIC,CAArE,EAAuEC,SAAS,IAAIC,CAApF,EAAsFC,eAAe,IAAIC,CAAzG,EAA2GC,mBAAmB,IAAIC,CAAlI,QAAwI,sBAAxI;AAA+J,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,wBAAxB;AAAiD,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,kCAAlC;;AAAqE,MAAMC,CAAN,SAAgB9B,CAAhB,CAAiB;EAAC+B,WAAW,GAAE;IAAC,SAAQ,KAAKC,QAAL,GAAc,IAAIlD,CAAJ,EAAtB,EAA4B,KAAKmD,mBAAL,GAAyB,CAArD,EAAuD,KAAKC,OAAL,GAAa,CAAC,CAArE;EAAuE;;EAAAC,OAAO,GAAE;IAAC,KAAKH,QAAL,CAAcG,OAAd,IAAwB,KAAKH,QAAL,GAAc,IAAtC,EAA2C,KAAKI,uBAAL,EAA3C,EAA0E,KAAKC,cAAL,KAAsB,KAAKA,cAAL,CAAoBC,KAApB,IAA4B,KAAKD,cAAL,GAAoB,IAAtE,CAA1E;EAAsJ;;EAAc,IAAVE,UAAU,GAAE;IAAC,OAAO,KAAKC,WAAZ;EAAwB;;EAAc,IAAVD,UAAU,CAAC5D,CAAD,EAAG;IAAC,KAAK6D,WAAL,GAAiB7D,CAAjB,EAAmB,KAAK8D,aAAL,EAAnB;EAAwC;;EAAa,IAATC,SAAS,GAAE;IAAC,OAAO,KAAKC,UAAZ;EAAuB;;EAAa,IAATD,SAAS,CAAC/D,CAAD,EAAG;IAAC,KAAKgE,UAAL,GAAgBhE,CAAhB,EAAkB,KAAKqD,QAAL,CAAcY,SAAd,EAAlB,EAA4C,KAAKZ,QAAL,CAAca,GAAd,CAAkB,CAACrD,CAAC,CAAE,MAAIb,CAAC,CAACmE,OAAR,EAAkB,MAAI;MAAC,KAAKZ,OAAL,GAAavD,CAAC,CAACuD,OAAF,IAAW9C,CAAC,CAACT,CAAC,CAACoE,QAAH,CAAZ,IAA0BpE,CAAC,CAACqE,IAAF,GAAO,CAA9C,EAAgD,KAAKP,aAAL,EAAhD;IAAqE,CAA5F,EAA8F/C,CAA9F,CAAF,EAAmGF,CAAC,CAAE,MAAI,CAACb,CAAC,CAACsE,OAAH,EAAWtE,CAAC,CAACuE,UAAb,CAAN,EAAiC,MAAI,KAAKC,gBAAL,EAArC,CAApG,EAAmK3D,CAAC,CAAE,MAAIb,CAAC,CAACqE,IAAR,EAAe,MAAI;MAAC,KAAKZ,uBAAL,IAA+B,KAAKK,aAAL,EAA/B;IAAoD,CAAxE,CAApK,CAAlB,CAA5C;EAA+S;;EAAAW,iBAAiB,GAAE;IAAC,OAAM;MAACC,GAAG,EAACvD,CAAC;IAAN,CAAN;EAAgB;;EAAAwD,QAAQ,CAAC3E,CAAD,EAAG;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC4E,OAAV;IAAkB,IAAG,CAAC,KAAKlB,cAAT,EAAwB,OAAO,KAAK,KAAKc,gBAAL,EAAZ;IAAoC,IAAGxE,CAAC,CAAC6E,SAAF,KAAcrD,CAAC,CAACsD,GAAhB,IAAqB,CAAC,KAAKC,UAAL,EAAzB,EAA2C;;IAAO,KAAKC,gBAAL,CAAsBhF,CAAtB;;IAAyB,MAAMG,CAAC,GAAC,KAAK6D,UAAb;IAAwB,IAAGzD,CAAC,CAACJ,CAAC,CAACiE,QAAH,CAAJ,EAAiB;IAAO,MAAM3D,CAAC,GAACT,CAAC,CAACiF,UAAV;IAAA,MAAqBtE,CAAC,GAACR,CAAC,CAACkE,IAAF,GAAO5D,CAA9B;IAAA,MAAgCI,CAAC,GAAC,IAAEV,CAAC,CAAC+E,MAAtC;IAAA,MAA6CnE,CAAC,GAACoE,IAAI,CAACC,IAAL,CAAUvE,CAAC,GAACF,CAAZ,CAA/C;;IAA8D,KAAK0E,gBAAL,CAAsBC,MAAtB,CAA6BvE,CAA7B,EAA+BA,CAA/B;;IAAkC,MAAK;MAACsD,IAAI,EAACpD;IAAN,IAASjB,CAAC,CAACuF,KAAhB;IAAA,MAAsBpE,CAAC,GAACV,CAAC,GAACQ,CAAC,CAAC,CAAD,CAA3B;IAAA,MAA+BI,CAAC,GAACZ,CAAC,GAACQ,CAAC,CAAC,CAAD,CAApC;IAAA,MAAwCC,CAAC,GAAC,KAAGH,CAA7C;IAAA,MAA+CW,CAAC,GAAC,KAAGX,CAApD;IAAA,MAAsDa,CAAC,GAACvB,CAAC,CAACI,CAAC,GAACN,CAAC,CAACiE,QAAF,CAAW9B,CAAd,EAAgBpB,CAAhB,EAAkBC,CAAC,GAACD,CAAF,GAAI,CAAtB,CAAzD;IAAA,MAAkFY,CAAC,GAACzB,CAAC,CAACgB,CAAC,GAACZ,CAAC,GAACN,CAAC,CAACiE,QAAF,CAAW1B,CAAhB,EAAkBhB,CAAlB,EAAoBL,CAAC,GAACK,CAAF,GAAI,CAAxB,CAArF;;IAAgHxB,CAAC,CAACsF,kBAAF,CAAqB,CAAC,CAAtB;IAAyB,MAAMxD,CAAC,GAACJ,CAAC,GAACV,CAAV;IAAA,MAAYkB,CAAC,GAACN,CAAC,GAACJ,CAAhB;IAAA,MAAkBY,CAAC,GAAC,KAAK+C,gBAAzB;IAA0CnF,CAAC,CAACuF,WAAF,CAAcnD,CAAd,EAAgB,CAAhB,GAAmBpC,CAAC,CAACwF,EAAF,CAAKC,cAAL,CAAoBrD,CAAC,CAACsD,UAAF,CAAaC,MAAjC,EAAwC,CAAxC,EAA0CvD,CAAC,CAACsD,UAAF,CAAaE,WAAvD,EAAmE9D,CAAnE,EAAqEI,CAArE,EAAuErB,CAAvE,EAAyEA,CAAzE,EAA2E,CAA3E,CAAnB;IAAiG,MAAMyB,CAAC,GAAC,KAAKoB,UAAL,EAAiBmC,KAAzB;IAAA,MAA+BrD,CAAC,GAACF,CAAC,GAAC,CAACA,CAAC,CAAC/B,CAAF,GAAI+B,CAAC,CAACtC,CAAN,GAAQ,GAAT,EAAasC,CAAC,CAAC/B,CAAF,GAAI+B,CAAC,CAACR,CAAN,GAAQ,GAArB,EAAyBQ,CAAC,CAAC/B,CAAF,GAAI+B,CAAC,CAACJ,CAAN,GAAQ,GAAjC,EAAqCI,CAAC,CAAC/B,CAAvC,CAAD,GAA2C,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAA7E;IAAA,MAAuFmC,CAAC,GAAC,CAAChB,CAAC,GAACzB,CAAC,CAAC6F,MAAF,CAAS1D,CAAT,GAAW7B,CAAd,IAAiBU,CAAjB,GAAmB,CAAnB,GAAqB,CAA9G;IAAA,MAAgH2B,CAAC,GAAC,CAAChB,CAAC,GAAC3B,CAAC,CAAC6F,MAAF,CAAStD,CAAT,GAAWjC,CAAd,IAAiBY,CAAjB,GAAmB,CAAnB,GAAqB,CAAvI;IAAA,MAAyI2B,CAAC,GAACrC,CAAC,GAACQ,CAAF,GAAI,CAA/I;IAAA,MAAiJ+B,CAAC,GAACvC,CAAC,GAACU,CAAF,GAAI,CAAvJ;IAAA,MAAyJ8B,CAAC,GAAC,KAAK8C,QAAhK;IAAyK/F,CAAC,CAACgG,OAAF,CAAU,KAAKC,kBAAf,GAAmCjG,CAAC,CAACuF,WAAF,CAAc,KAAKW,eAAnB,EAAmC,CAAnC,CAAnC,EAAyElG,CAAC,CAACuF,WAAF,CAAc,KAAKY,YAAnB,EAAgC,CAAhC,CAAzE,EAA4GnG,CAAC,CAACoG,UAAF,CAAanD,CAAb,CAA5G,EAA4HA,CAAC,CAACoD,aAAF,CAAgB,cAAhB,EAA+B7D,CAA/B,CAA5H,EAA8JS,CAAC,CAACqD,YAAF,CAAe,mBAAf,EAAmC,CAAnC,CAA9J,EAAoMrD,CAAC,CAACqD,YAAF,CAAe,kBAAf,EAAkC,CAAlC,CAApM,EAAyOrD,CAAC,CAACqD,YAAF,CAAe,eAAf,EAA+B,CAA/B,CAAzO,EAA2QrD,CAAC,CAACsD,YAAF,CAAe,WAAf,EAA2B7D,CAA3B,EAA6BE,CAA7B,EAA+BE,CAA/B,EAAiCE,CAAjC,CAA3Q,EAA+SC,CAAC,CAACqD,YAAF,CAAe,eAAf,EAA+BrG,CAAC,CAACuG,WAAF,GAAc,CAAd,GAAgB,CAA/C,CAA/S,EAAiWvD,CAAC,CAACqD,YAAF,CAAe,kBAAf,EAAkCrG,CAAC,CAACwG,cAAF,GAAiB,CAAjB,GAAmB,CAArD,CAAjW,EAAyZzG,CAAC,CAAC0G,qBAAF,CAAwB,CAAC,CAAzB,CAAzZ,EAAqb1G,CAAC,CAAC2G,YAAF,CAAe,CAAC,CAAhB,EAAkB,CAAC,CAAnB,EAAqB,CAAC,CAAtB,EAAwB,CAAC,CAAzB,CAArb,EAAid3G,CAAC,CAAC4G,UAAF,CAAa5E,CAAC,CAAC6E,cAAf,EAA8B,CAA9B,EAAgC,CAAhC,CAAjd,EAAof7G,CAAC,CAACgG,OAAF,EAApf;EAAggB;;EAAAnB,UAAU,GAAE;IAAC,OAAO,KAAKiC,IAAL,IAAW,KAAKC,OAAhB,IAAyB,QAAM,KAAKjD,UAA3C;EAAsD;;EAAAQ,gBAAgB,GAAE;IAAC,KAAKd,cAAL,IAAqB,KAAKA,cAAL,CAAoBC,KAApB,EAArB;IAAiD,MAAMxD,CAAC,GAACM,CAAC,CAAC,KAAKuD,UAAN,CAAD,GAAmB,KAAKA,UAAL,CAAgBM,OAAnC,GAA2C,IAAnD;IAAA,MAAwDjE,CAAC,GAACI,CAAC,CAAC,KAAKuD,UAAN,CAAD,GAAmB,KAAKA,UAAL,CAAgBO,UAAnC,GAA8C,IAAxG;IAA6G,KAAKb,cAAL,GAAoBxD,CAAC,CAAE,MAAMA,CAAN,IAAS;MAAC,MAAMS,CAAC,GAACJ,CAAC,CAACJ,CAAD,CAAD,IAAMI,CAAC,CAACF,CAAD,CAAP,GAAWyB,CAAC,CAAC5B,CAAD,CAAZ,GAAgB,IAAxB;MAAA,MAA6BW,CAAC,GAACJ,CAAC,CAACN,CAAD,CAAD,GAAKH,CAAC,CAACG,CAAD,EAAG;QAAC+G,YAAY,EAAC,OAAd;QAAsBC,MAAM,EAACjH;MAA7B,CAAH,CAAD,CAAqCkH,IAArC,CAA2CpH,CAAC,IAAEA,CAAC,CAACqH,IAAhD,CAAL,GAA4D1G,CAAC,CAACyG,IAAF,CAAQpH,CAAC,IAAEA,CAAC,CAACgH,IAAb,CAA3F;MAAA,MAA+GjG,CAAC,GAACN,CAAC,CAACJ,CAAD,CAAD,GAAKL,CAAC,CAACK,CAAD,EAAG;QAAC6G,YAAY,EAAC,OAAd;QAAsBC,MAAM,EAACjH;MAA7B,CAAH,CAAD,CAAqCkH,IAArC,CAA2CpH,CAAC,IAAEA,CAAC,CAACqH,IAAhD,CAAL,GAA4D1G,CAAC,CAACyG,IAAF,CAAQpH,CAAC,IAAEA,CAAC,CAACiH,OAAb,CAA7K;MAAA,MAAoM,CAAChG,CAAD,EAAGE,CAAH,IAAM,MAAMmG,OAAO,CAACC,GAAR,CAAY,CAAC1G,CAAD,EAAGE,CAAH,CAAZ,CAAhN;MAAmO,KAAKiG,IAAL,GAAU/F,CAAV,EAAY,KAAKgG,OAAL,GAAa9F,CAAzB,EAA2B,KAAKsC,uBAAL,EAA3B,EAA0D,KAAKK,aAAL,EAA1D;IAA+E,CAA9T,CAArB;EAAsV;;EAAAL,uBAAuB,GAAE;IAAC,KAAK4B,gBAAL,GAAsB1E,CAAC,CAAC,KAAK0E,gBAAN,CAAvB,EAA+C,KAAKe,eAAL,GAAqBzF,CAAC,CAAC,KAAKyF,eAAN,CAArE,EAA4F,KAAKC,YAAL,GAAkB1F,CAAC,CAAC,KAAK0F,YAAN,CAA/G,EAAmI,KAAKF,kBAAL,GAAwBxF,CAAC,CAAC,KAAKwF,kBAAN,CAA5J,EAAsL,KAAKF,QAAL,GAActF,CAAC,CAAC,KAAKsF,QAAN,CAArM;EAAqN;;EAAAjB,gBAAgB,CAAChF,CAAD,EAAG;IAAC,IAAGA,CAAC,CAACiF,UAAF,KAAe,KAAK3B,mBAApB,IAAyC,KAAKG,uBAAL,EAAzC,EAAwE,KAAK4B,gBAAhF,EAAiG;IAAO,MAAMnF,CAAC,GAACF,CAAC,CAAC4E,OAAV;IAAkB,KAAKtB,mBAAL,GAAyBtD,CAAC,CAACiF,UAA3B;IAAsC,MAAM9E,CAAC,GAACgF,IAAI,CAACC,IAAL,CAAU,KAAKpB,UAAL,CAAgBK,IAAhB,GAAqBrE,CAAC,CAACiF,UAAjC,CAAR;IAAqD,KAAKgB,QAAL,GAAcvE,CAAC,CAACxB,CAAD,CAAf;IAAmB,MAAMG,CAAC,GAAC,IAAImH,WAAJ,CAAgB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,CAAhB,CAAR;IAAA,MAA2CjH,CAAC,GAACqB,CAAC,CAAC6F,UAA/C;IAA0D,KAAKtB,kBAAL,GAAwB,IAAIjD,CAAJ,CAAMhD,CAAN,EAAQK,CAAR,EAAUW,CAAV,EAAY;MAACwG,QAAQ,EAAC1F,CAAC,CAAC2F,YAAF,CAAezH,CAAf,EAAiBkC,CAAC,CAACwF,WAAnB,EAA+BvH,CAA/B;IAAV,CAAZ,CAAxB,EAAkF,KAAK4G,OAAL,CAAaY,KAAb,GAAmB1H,CAArG,EAAuG,KAAK8G,OAAL,CAAaa,MAAb,GAAoB3H,CAA3H,EAA6H,KAAKiG,eAAL,GAAqB,IAAIpD,CAAJ,CAAM9C,CAAN,EAAQ;MAAC2F,MAAM,EAACvD,CAAC,CAACyF,UAAV;MAAqBjC,WAAW,EAACtD,CAAC,CAACwF,IAAnC;MAAwCC,cAAc,EAACzF,CAAC,CAACwF,IAAzD;MAA8DE,QAAQ,EAACxF,CAAC,CAACyF,aAAzE;MAAuFC,QAAQ,EAACxF,CAAC,CAACyF,aAAlG;MAAgHC,YAAY,EAACxF,CAAC,CAACyF,OAA/H;MAAuIC,OAAO,EAAC,CAAC,CAAhJ;MAAkJC,gBAAgB,EAAC,CAACxH,CAAC,CAAC,KAAKgG,OAAL,CAAayB,GAAd,CAAF,IAAsB,CAAC1I,CAAC,CAAC4E,OAAF,CAAU+D,UAAV,CAAqBC;IAA/M,CAAR,EAAoP,KAAK3B,OAAzP,CAAlJ,EAAoZ,KAAKD,IAAL,CAAUa,KAAV,GAAgB1H,CAApa,EAAsa,KAAK6G,IAAL,CAAUc,MAAV,GAAiB3H,CAAvb,EAAyb,KAAKkG,YAAL,GAAkB,IAAIrD,CAAJ,CAAM9C,CAAN,EAAQ;MAAC2F,MAAM,EAACvD,CAAC,CAACyF,UAAV;MAAqBjC,WAAW,EAACtD,CAAC,CAACqG,KAAnC;MAAyCZ,cAAc,EAACzF,CAAC,CAACqG,KAA1D;MAAgEX,QAAQ,EAACxF,CAAC,CAACyF,aAA3E;MAAyFC,QAAQ,EAACxF,CAAC,CAACyF,aAApG;MAAkHC,YAAY,EAACxF,CAAC,CAACyF,OAAjI;MAAyIC,OAAO,EAAC,CAAC;IAAlJ,CAAR,EAA6J,KAAKxB,IAAlK,CAA3c;IAAmnB,MAAMvG,CAAC,GAAC,IAAE,KAAKuD,UAAL,CAAgBkB,MAA1B;IAAiC,KAAKG,gBAAL,GAAsB,IAAIrC,CAAJ,CAAM9C,CAAN,EAAQ;MAAC2F,MAAM,EAACvD,CAAC,CAACyF,UAAV;MAAqBjC,WAAW,EAACtD,CAAC,CAACwF,IAAnC;MAAwCC,cAAc,EAACzF,CAAC,CAACwF,IAAzD;MAA8DE,QAAQ,EAACxF,CAAC,CAACyF,aAAzE;MAAuFC,QAAQ,EAACxF,CAAC,CAACyF,aAAlG;MAAgHC,YAAY,EAACxF,CAAC,CAACgG,MAA/H;MAAsIN,OAAO,EAAC,CAAC,CAA/I;MAAiJX,KAAK,EAAC1C,IAAI,CAACC,IAAL,CAAU3E,CAAC,GAACN,CAAZ,CAAvJ;MAAsK2H,MAAM,EAAC3C,IAAI,CAACC,IAAL,CAAU3E,CAAC,GAACN,CAAZ;IAA7K,CAAR,CAAtB;EAA4N;;AAAr7H;;AAAs7H,SAAOgD,CAAC,IAAI4F,OAAZ"},"metadata":{},"sourceType":"module"}