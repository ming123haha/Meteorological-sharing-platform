{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { s as e } from \"./vec4.js\";\nimport { c as o } from \"./vec4f64.js\";\nimport { Float4PassUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { glsl as t } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as l } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as r } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { VertexAttribute as n } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nconst a = 8.6,\n      s = .4;\n\nfunction u() {\n  const o = new l(),\n        {\n    vertex: u,\n    fragment: c\n  } = o,\n        f = u.code,\n        g = c.code;\n  return o.attributes.add(n.POSITION, \"vec2\"), o.varyings.add(\"uv\", \"vec2\"), o.attributes.add(n.UV0, \"vec2\"), u.uniforms.add(new r(\"coverageTex\", e => e.coverageTexture)), f.add(t`void main() {\nvec4 cov = texture2D(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`), c.uniforms.add(new r(\"tex\", e => e.blurColorTexture)), c.uniforms.add(new r(\"origin\", e => e.highlightColorTexture)), c.uniforms.add(new i(\"uColor\", e => e.color)), c.uniforms.add(new i(\"haloColor\", e => e.haloColor)), c.uniforms.add(new i(\"opacities\", o => e(d, o.haloOpacity, o.haloOpacityOccluded, o.fillOpacity, o.fillOpacityOccluded))), c.constants.add(\"outlineSize\", \"float\", a), c.constants.add(\"blurSize\", \"float\", s), g.add(t`void main() {\nvec4 blurredHighlightValue = texture2D(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture2D(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\ngl_FragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`), o;\n}\n\nconst d = o(),\n      c = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: u\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { c as H, u as b };","map":{"version":3,"names":["s","e","c","o","Float4PassUniform","i","glsl","t","ShaderBuilder","l","Texture2DPassUniform","r","VertexAttribute","n","a","u","vertex","fragment","f","code","g","attributes","add","POSITION","varyings","UV0","uniforms","coverageTexture","blurColorTexture","highlightColorTexture","color","haloColor","d","haloOpacity","haloOpacityOccluded","fillOpacity","fillOpacityOccluded","constants","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","H","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/HighlightApply.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as e}from\"./vec4.js\";import{c as o}from\"./vec4f64.js\";import{Float4PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";const a=8.6,s=.4;function u(){const o=new l,{vertex:u,fragment:c}=o,f=u.code,g=c.code;return o.attributes.add(n.POSITION,\"vec2\"),o.varyings.add(\"uv\",\"vec2\"),o.attributes.add(n.UV0,\"vec2\"),u.uniforms.add(new r(\"coverageTex\",(e=>e.coverageTexture))),f.add(t`void main() {\nvec4 cov = texture2D(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`),c.uniforms.add(new r(\"tex\",(e=>e.blurColorTexture))),c.uniforms.add(new r(\"origin\",(e=>e.highlightColorTexture))),c.uniforms.add(new i(\"uColor\",(e=>e.color))),c.uniforms.add(new i(\"haloColor\",(e=>e.haloColor))),c.uniforms.add(new i(\"opacities\",(o=>e(d,o.haloOpacity,o.haloOpacityOccluded,o.fillOpacity,o.fillOpacityOccluded)))),c.constants.add(\"outlineSize\",\"float\",a),c.constants.add(\"blurSize\",\"float\",s),g.add(t`void main() {\nvec4 blurredHighlightValue = texture2D(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture2D(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\ngl_FragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`),o}const d=o(),c=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:\"Module\"}));export{c as H,u as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}