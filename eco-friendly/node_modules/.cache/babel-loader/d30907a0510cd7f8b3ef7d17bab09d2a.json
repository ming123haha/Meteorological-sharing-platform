{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { a as t } from \"../../chunks/vec2f64.js\";\nimport { p as e, n as i, c as s } from \"../../chunks/vec3.js\";\nimport { c as a } from \"../../chunks/vec3f64.js\";\nimport { rotationAngleAndAxisDirectRotation as h, rotationAnglesAndAxesHeadingPreserving as n } from \"../3d/state/utils/navigationUtils.js\";\nimport { FilteredFiniteDifference as l } from \"./FilteredFiniteDifference.js\";\nimport { FilteredValue as r } from \"./FilteredValue.js\";\nimport { Momentum as m } from \"./Momentum.js\";\nconst u = 1e-5;\n\nclass c extends m {\n  constructor(t, e, i, s, a, h = 0, n) {\n    super(t, e, i), this.angularVelocity1 = s, this.axis1 = a, this.angularVelocity2 = h, this.axis2 = n;\n  }\n\n  value1(t) {\n    return super.valueFromInitialVelocity(this.angularVelocity1, t);\n  }\n\n  value2(t) {\n    return super.valueFromInitialVelocity(this.angularVelocity2, t);\n  }\n\n}\n\nclass o {\n  constructor(e = 300, i = 12, s = .84) {\n    this.minimumInitialVelocity = e, this.stopVelocity = i, this.friction = s, this.enabled = !0, this.tmpAxis1 = a(), this.tmpAxis2 = a(), this.tmpAngles = t(), this.time = new l(.3), this.screen = [new l(.4), new l(.4)], this.angle1 = new r(.6), this.angle2 = new r(.6), this.axis1 = a(), this.axis2 = a(), this.lastScene = a();\n  }\n\n  addMomentumDirectRotation(t, a, n, l, r, m) {\n    if (this.enabled) {\n      if (this.time.hasLastValue) {\n        if (this.time.computeDelta(n) < .01) return;\n        let t = h(this.lastScene, a, this.tmpAxis2, l, r, m);\n        this.angle2.update(0), e(this.tmpAxis2) < u ? t = 0 : i(this.axis1, this.tmpAxis2), this.angle1.update(t), s(this.lastScene, a);\n      }\n\n      this.screen[0].update(t[0]), this.screen[1].update(t[1]), this.time.update(n);\n    }\n  }\n\n  addMomentumPreserveHeading(t, a, h, l, r, m, c) {\n    if (this.enabled) {\n      if (this.time.hasLastValue) {\n        if (this.time.computeDelta(h) < .01) return;\n        n(this.lastScene, a, this.tmpAxis2, this.tmpAxis1, this.tmpAngles, l, r, m, c, !1), e(this.tmpAxis2) < u ? (this.angle1.update(0), this.angle2.update(0)) : (this.angle1.update(this.tmpAngles[1]), this.angle2.update(this.tmpAngles[0]), i(this.axis1, this.tmpAxis1), i(this.axis2, this.tmpAxis2)), s(this.lastScene, a);\n      }\n\n      this.screen[0].update(t[0]), this.screen[1].update(t[1]), this.time.update(h);\n    }\n  }\n\n  reset() {\n    this.screen[0].reset(), this.screen[1].reset(), this.angle1.reset(), this.angle2.reset(), this.time.reset();\n  }\n\n  evaluateMomentum() {\n    if (!this.enabled || !this.screen[0].hasFilteredDelta) return null;\n    const t = this.screen[0].filteredDelta,\n          e = this.screen[1].filteredDelta,\n          i = Math.sqrt(t * t + e * e) / this.time.filteredDelta;\n    return Math.abs(i) < this.minimumInitialVelocity ? null : this.createMomentum(i, this.stopVelocity, this.friction);\n  }\n\n  createMomentum(t, e, i) {\n    const s = this.angle1.filteredValue / this.time.filteredDelta,\n          a = this.angle2.filteredValue / this.time.filteredDelta;\n    return new c(t, e, i, s, this.axis1, a, this.axis2);\n  }\n\n}\n\nexport { c as PanSphericalMomentum, o as PanSphericalMomentumEstimator };","map":{"version":3,"names":["a","t","p","e","n","i","c","s","rotationAngleAndAxisDirectRotation","h","rotationAnglesAndAxesHeadingPreserving","FilteredFiniteDifference","l","FilteredValue","r","Momentum","m","u","constructor","angularVelocity1","axis1","angularVelocity2","axis2","value1","valueFromInitialVelocity","value2","o","minimumInitialVelocity","stopVelocity","friction","enabled","tmpAxis1","tmpAxis2","tmpAngles","time","screen","angle1","angle2","lastScene","addMomentumDirectRotation","hasLastValue","computeDelta","update","addMomentumPreserveHeading","reset","evaluateMomentum","hasFilteredDelta","filteredDelta","Math","sqrt","abs","createMomentum","filteredValue","PanSphericalMomentum","PanSphericalMomentumEstimator"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../chunks/vec2f64.js\";import{p as e,n as i,c as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{rotationAngleAndAxisDirectRotation as h,rotationAnglesAndAxesHeadingPreserving as n}from\"../3d/state/utils/navigationUtils.js\";import{FilteredFiniteDifference as l}from\"./FilteredFiniteDifference.js\";import{FilteredValue as r}from\"./FilteredValue.js\";import{Momentum as m}from\"./Momentum.js\";const u=1e-5;class c extends m{constructor(t,e,i,s,a,h=0,n){super(t,e,i),this.angularVelocity1=s,this.axis1=a,this.angularVelocity2=h,this.axis2=n}value1(t){return super.valueFromInitialVelocity(this.angularVelocity1,t)}value2(t){return super.valueFromInitialVelocity(this.angularVelocity2,t)}}class o{constructor(e=300,i=12,s=.84){this.minimumInitialVelocity=e,this.stopVelocity=i,this.friction=s,this.enabled=!0,this.tmpAxis1=a(),this.tmpAxis2=a(),this.tmpAngles=t(),this.time=new l(.3),this.screen=[new l(.4),new l(.4)],this.angle1=new r(.6),this.angle2=new r(.6),this.axis1=a(),this.axis2=a(),this.lastScene=a()}addMomentumDirectRotation(t,a,n,l,r,m){if(this.enabled){if(this.time.hasLastValue){if(this.time.computeDelta(n)<.01)return;let t=h(this.lastScene,a,this.tmpAxis2,l,r,m);this.angle2.update(0),e(this.tmpAxis2)<u?t=0:i(this.axis1,this.tmpAxis2),this.angle1.update(t),s(this.lastScene,a)}this.screen[0].update(t[0]),this.screen[1].update(t[1]),this.time.update(n)}}addMomentumPreserveHeading(t,a,h,l,r,m,c){if(this.enabled){if(this.time.hasLastValue){if(this.time.computeDelta(h)<.01)return;n(this.lastScene,a,this.tmpAxis2,this.tmpAxis1,this.tmpAngles,l,r,m,c,!1),e(this.tmpAxis2)<u?(this.angle1.update(0),this.angle2.update(0)):(this.angle1.update(this.tmpAngles[1]),this.angle2.update(this.tmpAngles[0]),i(this.axis1,this.tmpAxis1),i(this.axis2,this.tmpAxis2)),s(this.lastScene,a)}this.screen[0].update(t[0]),this.screen[1].update(t[1]),this.time.update(h)}}reset(){this.screen[0].reset(),this.screen[1].reset(),this.angle1.reset(),this.angle2.reset(),this.time.reset()}evaluateMomentum(){if(!this.enabled||!this.screen[0].hasFilteredDelta)return null;const t=this.screen[0].filteredDelta,e=this.screen[1].filteredDelta,i=Math.sqrt(t*t+e*e)/this.time.filteredDelta;return Math.abs(i)<this.minimumInitialVelocity?null:this.createMomentum(i,this.stopVelocity,this.friction)}createMomentum(t,e,i){const s=this.angle1.filteredValue/this.time.filteredDelta,a=this.angle2.filteredValue/this.time.filteredDelta;return new c(t,e,i,s,this.axis1,a,this.axis2)}}export{c as PanSphericalMomentum,o as PanSphericalMomentumEstimator};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}