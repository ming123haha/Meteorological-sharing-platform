{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Graphic.js\";\nimport t from \"../../../../geometry/Polygon.js\";\nimport i from \"../../../../symbols/FillSymbol3DLayer.js\";\nimport s from \"../../../../symbols/PointSymbol3D.js\";\nimport a from \"../../../../symbols/PolygonSymbol3D.js\";\nimport o from \"../../../../symbols/TextSymbol3DLayer.js\";\nimport { TilingScheme as r } from \"../../terrain/TilingScheme.js\";\nconst h = [[0, 179, 255], [117, 62, 128], [0, 104, 255], [215, 189, 166], [32, 0, 193], [98, 162, 206], [102, 112, 129], [52, 125, 0], [142, 118, 246], [138, 83, 0], [92, 122, 255], [122, 55, 83], [0, 142, 255], [81, 40, 179], [0, 200, 244], [13, 24, 127], [0, 170, 147], [19, 58, 241], [22, 44, 35]];\n\nclass l {\n  constructor(e, t, s) {\n    this.loadingGraphics = new Map(), this.loadedGraphics = new Map(), this.pendingGraphics = new Map(), this._enabled = !0, this.tileFetcher = e, this.view = s, this.tilingScheme = new r(t), this.loadedSymbols = h.map(e => new a(new i({\n      material: {\n        color: [e[0], e[1], e[2], .6]\n      },\n      outline: {\n        color: \"black\",\n        size: 1\n      }\n    }))), this.loadingSymbols = [new a(new i({\n      material: {\n        color: [200, 200, 200, .4]\n      },\n      outline: {\n        color: [30, 30, 30],\n        size: 1\n      }\n    }))], this.pendingSymbols = [new a(new i({\n      material: {\n        color: [100, 100, 100, .4]\n      },\n      outline: {\n        color: [30, 30, 30],\n        size: 1\n      }\n    }))], this.dataExtentSymbol = new a(new i({\n      material: {\n        color: [0, 0, 0, 0]\n      },\n      outline: {\n        color: \"green\",\n        size: 4\n      }\n    }));\n  }\n\n  destroy() {\n    this.enabled = !1;\n  }\n\n  get enabled() {\n    return this._enabled;\n  }\n\n  set enabled(e) {\n    this._enabled = e, this.update();\n  }\n\n  update() {\n    this._enabled ? (this._synchronizeMaps(this.loadingGraphics, {\n      filter: e => e.isFetching,\n      symbols: this.loadingSymbols\n    }), this._synchronizeMaps(this.loadedGraphics, {\n      filter: e => !e.isFetching,\n      symbols: this.loadedSymbols\n    }), this._synchronizeMaps(this.pendingGraphics, {\n      filter: e => !e.isFetching,\n      symbols: this.pendingSymbols\n    }), this.showDataExtent(this.tileFetcher.filterExtent)) : (this.loadingGraphics.forEach(e => {\n      this.view.graphics.removeMany(e);\n    }), this.loadingGraphics.clear(), this.loadedGraphics.forEach(e => {\n      this.view.graphics.removeMany(e);\n    }), this.loadedGraphics.clear(), this.pendingGraphics.forEach(e => {\n      this.view.graphics.removeMany(e);\n    }), this.pendingGraphics.clear(), this.dataExtentGraphic && (this.view.graphics.remove(this.dataExtentGraphic), this.dataExtentGraphic = null));\n  }\n\n  showDataExtent(i) {\n    if (this.dataExtentGraphic && (this.view.graphics.remove(this.dataExtentGraphic), this.dataExtentGraphic = null), !i) return;\n    const s = t.fromExtent(i);\n    this.dataExtentGraphic = new e({\n      geometry: s,\n      symbol: this.dataExtentSymbol\n    }), this.view.graphics.add(this.dataExtentGraphic);\n  }\n\n  _synchronizeMaps(t, i) {\n    const a = [];\n    t.forEach((e, t) => {\n      const s = this.tileFetcher.test.getFeatureTileById(t);\n      s && i.filter(s) || (this.view.graphics.removeMany(e), a.push(t));\n    }), a.forEach(e => t.delete(e)), this.tileFetcher.test.forEachFeatureTile(a => {\n      if (i.filter(a) && !t.has(a.id)) {\n        const [r, h, l] = a.descriptor.lij;\n        this.tilingScheme.ensureMaxLod(r);\n        const n = this.tilingScheme.getExtentGeometry(r, h, l),\n              c = [new e({\n          geometry: n,\n          symbol: i.symbols[r % i.symbols.length]\n        }), new e({\n          geometry: n.center,\n          symbol: new s({\n            verticalOffset: {\n              screenLength: 40 / .75\n            },\n            callout: {\n              type: \"line\",\n              color: \"white\",\n              border: {\n                color: \"black\"\n              }\n            },\n            symbolLayers: [new o({\n              text: `${r}/${h}/${l}`,\n              halo: {\n                color: \"white\",\n                size: 1 / .75\n              },\n              material: {\n                color: \"black\"\n              },\n              size: 16\n            })]\n          })\n        })];\n        t.set(a.id, c), this.view.graphics.addMany(c);\n      }\n    });\n  }\n\n}\n\nexport { l as FeatureTileFetcher3DDebugger };","map":{"version":3,"names":["e","t","i","s","a","o","TilingScheme","r","h","l","constructor","loadingGraphics","Map","loadedGraphics","pendingGraphics","_enabled","tileFetcher","view","tilingScheme","loadedSymbols","map","material","color","outline","size","loadingSymbols","pendingSymbols","dataExtentSymbol","destroy","enabled","update","_synchronizeMaps","filter","isFetching","symbols","showDataExtent","filterExtent","forEach","graphics","removeMany","clear","dataExtentGraphic","remove","fromExtent","geometry","symbol","add","test","getFeatureTileById","push","delete","forEachFeatureTile","has","id","descriptor","lij","ensureMaxLod","n","getExtentGeometry","c","length","center","verticalOffset","screenLength","callout","type","border","symbolLayers","text","halo","set","addMany","FeatureTileFetcher3DDebugger"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import{TilingScheme as r}from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this.loadingGraphics=new Map,this.loadedGraphics=new Map,this.pendingGraphics=new Map,this._enabled=!0,this.tileFetcher=e,this.view=s,this.tilingScheme=new r(t),this.loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this.loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this.pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this.dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this.loadingGraphics,{filter:e=>e.isFetching,symbols:this.loadingSymbols}),this._synchronizeMaps(this.loadedGraphics,{filter:e=>!e.isFetching,symbols:this.loadedSymbols}),this._synchronizeMaps(this.pendingGraphics,{filter:e=>!e.isFetching,symbols:this.pendingSymbols}),this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadingGraphics.clear(),this.loadedGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadedGraphics.clear(),this.pendingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))}showDataExtent(i){if(this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this.dataExtentGraphic=new e({geometry:s,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic)}_synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this.tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this.view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this.tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this.tilingScheme.ensureMaxLod(r);const n=this.tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this.view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}