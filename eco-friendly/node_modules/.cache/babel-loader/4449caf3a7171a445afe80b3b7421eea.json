{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { PositionHint as e, indexOf as t } from \"../../../core/arrayUtils.js\";\nimport i from \"../../../core/Error.js\";\nimport { clone as s } from \"../../../core/lang.js\";\nimport { removeMaybe as r, destroyMaybe as a, isNone as n, isSome as o } from \"../../../core/maybe.js\";\nimport { MemCacheStorage as u, MemCache as c } from \"../../../core/MemCache.js\";\nimport { getMetersPerUnitForSR as h } from \"../../../core/unitUtils.js\";\nimport { create as l, set as m, NEGATIVE_INFINITY as p, expandWithAABB as f } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { fromValues as d, create as y } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as g } from \"../../../geometry/support/boundsUtils.js\";\nimport { fromJSON as x, isExtent as _, isPolygon as w } from \"../../../geometry/support/jsonUtils.js\";\nimport { normalizeCentralMeridian as S } from \"../../../geometry/support/normalizeUtils.js\";\nimport { equals as F, isValid as R } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { convertFromGeometry as Q } from \"../featureConversionUtils.js\";\nimport { getWhereClause as I, validateFields as j, validateWhere as E, validateHaving as b, hasInvalidFieldType as A } from \"./attributeSupport.js\";\nimport { project as T, checkProjectionSupport as k, projectMany as C } from \"./projectionSupport.js\";\nimport { queryCapabilities as B } from \"./QueryEngineCapabilities.js\";\nimport { QueryEngineResult as q, SnappingTypes as v } from \"./QueryEngineResult.js\";\nimport { getSpatialQueryOperator as z, canQueryWithRBush as O, checkSpatialQuerySupport as G } from \"./spatialQuerySupport.js\";\nimport { getTimeExtent as M, getTimeOperator as P } from \"./timeSupport.js\";\nimport { cleanFromGeometryEngine as U, QUERY_ENGINE_EMPTY_RESULT as Z, normalizeQuery as N, getGeometry as D } from \"./utils.js\";\nimport H from \"../../support/FieldsIndex.js\";\nimport { loadArcade as L } from \"../../../support/arcadeOnDemand.js\";\nimport { noBudget as J } from \"../../../views/support/Scheduler.js\";\n\nfunction V(e) {\n  return e.every(e => \"exceedslimit\" !== e.statisticType);\n}\n\nconst W = \"feature-store:unsupported-query\";\n\nclass $ {\n  constructor(e, t = null, i, s, r) {\n    this.attributes = e, this.geometry = i, this.centroid = s, this.filterFlags = r, this.groupId = -1, this.displayId = t;\n  }\n\n}\n\nconst K = new u(2e6);\nlet X = 0;\n\nclass Y {\n  constructor(e) {\n    this.capabilities = {\n      query: B\n    }, this.geometryType = e.geometryType, this.hasM = e.hasM, this.hasZ = e.hasZ, this.objectIdField = e.objectIdField, this.spatialReference = e.spatialReference, this.definitionExpression = e.definitionExpression, this.featureStore = e.featureStore, this.aggregateAdapter = e.aggregateAdapter, this._changeHandle = this.featureStore.events.on(\"changed\", () => this.clearCache()), this.timeInfo = e.timeInfo, e.cacheSpatialQueries && (this._geometryQueryCache = new c(X++ + \"$$\", K)), this.fieldsIndex = new H(e.fields), e.scheduler && e.priority && (this._frameTask = e.scheduler.registerTask(e.priority));\n  }\n\n  destroy() {\n    this._frameTask = r(this._frameTask), this.clearCache(), a(this._geometryQueryCache), this._changeHandle = r(this._changeHandle), a(this.fieldsIndex);\n  }\n\n  get featureAdapter() {\n    return this.featureStore.featureAdapter;\n  }\n\n  get fullExtent() {\n    const e = this.featureStore.fullBounds;\n    return n(e) ? null : {\n      xmin: e[0],\n      ymin: e[1],\n      xmax: e[2],\n      ymax: e[3],\n      spatialReference: U(this.spatialReference)\n    };\n  }\n\n  get timeExtent() {\n    return this.timeInfo ? (this._timeExtent || (this._timeExtent = M(this.timeInfo, this.featureStore)), this._timeExtent) : null;\n  }\n\n  clearCache() {\n    this._geometryQueryCache?.clear(), this._allItems = null, this._timeExtent = null;\n  }\n\n  async executeQuery(e, t) {\n    try {\n      return (await this._executeQuery(e, {}, t)).createQueryResponse();\n    } catch (i) {\n      if (i !== Z) throw i;\n      return new q([], e, this).createQueryResponse();\n    }\n  }\n\n  async executeQueryForCount(e = {}, t) {\n    try {\n      return (await this._executeQuery(e, {\n        returnGeometry: !1,\n        returnCentroid: !1,\n        outSR: null\n      }, t)).createQueryResponseForCount();\n    } catch (i) {\n      if (i !== Z) throw i;\n      return 0;\n    }\n  }\n\n  async executeQueryForExtent(e, t) {\n    const i = e.outSR;\n\n    try {\n      const s = await this._executeQuery(e, {\n        returnGeometry: !0,\n        returnCentroid: !1,\n        outSR: null\n      }, t),\n            r = s.size;\n      if (!r) return {\n        count: 0,\n        extent: null\n      };\n      m(te, p), this.featureStore.forEachBounds(s.items, e => f(te, e), ee);\n      const a = {\n        xmin: te[0],\n        ymin: te[1],\n        xmax: te[3],\n        ymax: te[4],\n        spatialReference: U(this.spatialReference)\n      };\n      this.hasZ && isFinite(te[2]) && isFinite(te[5]) && (a.zmin = te[2], a.zmax = te[5]);\n      const n = T(a, s.spatialReference, i);\n\n      if (n.spatialReference = U(i || this.spatialReference), n.xmax - n.xmin == 0) {\n        const e = h(n.spatialReference);\n        n.xmin -= e, n.xmax += e;\n      }\n\n      if (n.ymax - n.ymin == 0) {\n        const e = h(n.spatialReference);\n        n.ymin -= e, n.ymax += e;\n      }\n\n      if (this.hasZ && null != n.zmin && null != n.zmax && n.zmax - n.zmin == 0) {\n        const e = h(n.spatialReference);\n        n.zmin -= e, n.zmax += e;\n      }\n\n      return {\n        count: r,\n        extent: n\n      };\n    } catch (s) {\n      if (s === Z) return {\n        count: 0,\n        extent: null\n      };\n      throw s;\n    }\n  }\n\n  async executeQueryForIds(e, t) {\n    return this.executeQueryForIdSet(e, t).then(e => Array.from(e));\n  }\n\n  async executeQueryForIdSet(e, t) {\n    try {\n      const i = await this._executeQuery(e, {\n        returnGeometry: !0,\n        returnCentroid: !1,\n        outSR: null\n      }, t),\n            s = i.items,\n            r = new Set();\n      return await this._reschedule(() => {\n        for (const e of s) r.add(i.featureAdapter.getObjectId(e));\n      }, t), r;\n    } catch (i) {\n      if (i === Z) return new Set();\n      throw i;\n    }\n  }\n\n  async executeQueryForSnapping(e, t) {\n    const {\n      point: i,\n      distance: s,\n      types: r\n    } = e;\n    if (r === v.NONE) return {\n      candidates: []\n    };\n    const a = await this._reschedule(() => this._checkQuerySupport(e.query), t),\n          o = !F(i.spatialReference, this.spatialReference);\n    o && (await k(i.spatialReference, this.spatialReference));\n    const u = \"number\" == typeof s ? s : s.x,\n          c = \"number\" == typeof s ? s : s.y,\n          h = {\n      xmin: i.x - u,\n      xmax: i.x + u,\n      ymin: i.y - c,\n      ymax: i.y + c,\n      spatialReference: i.spatialReference\n    },\n          l = o ? T(h, this.spatialReference) : h;\n    if (!l) return {\n      candidates: []\n    };\n    const m = (await S(x(i), null, {\n      signal: t\n    }))[0],\n          p = (await S(x(l), null, {\n      signal: t\n    }))[0];\n    if (n(m) || n(p)) return {\n      candidates: []\n    };\n    const f = new q(this._searchFeatures(this._getQueryBBoxes(p.toJSON())), a, this);\n    await this._reschedule(() => this._executeObjectIdsQuery(f), t), await this._reschedule(() => this._executeTimeQuery(f), t), await this._reschedule(() => this._executeAttributesQuery(f), t);\n    const d = m.toJSON(),\n          y = o ? T(d, this.spatialReference) : d,\n          g = o ? Math.max(l.xmax - l.xmin, l.ymax - l.ymin) / 2 : s;\n    return f.createSnappingResponse({ ...e,\n      point: y,\n      distance: g\n    }, i.spatialReference);\n  }\n\n  async executeQueryForLatestObservations(e, t) {\n    if (!this.timeInfo || !this.timeInfo.trackIdField) throw new i(W, \"Missing timeInfo or timeInfo.trackIdField\", {\n      query: e,\n      timeInfo: this.timeInfo\n    });\n\n    try {\n      const i = await this._executeQuery(e, {}, t);\n      return await this._reschedule(() => this._filterLatest(i), t), i.createQueryResponse();\n    } catch (s) {\n      if (s !== Z) throw s;\n      return new q([], e, this).createQueryResponse();\n    }\n  }\n\n  async executeQueryForSummaryStatistics(e = {}, t, i) {\n    const {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    } = t;\n    return (await this._getQueryEngineResultForStats(e, {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    }, i)).createSummaryStatisticsResponse(t);\n  }\n\n  async executeQueryForUniqueValues(e = {}, t, i) {\n    const {\n      field: s,\n      valueExpression: r\n    } = t;\n    return (await this._getQueryEngineResultForStats(e, {\n      field: s,\n      valueExpression: r\n    }, i)).createUniqueValuesResponse(t);\n  }\n\n  async executeQueryForClassBreaks(e = {}, t, i) {\n    const {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    } = t;\n    return (await this._getQueryEngineResultForStats(e, {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    }, i)).createClassBreaksResponse(t);\n  }\n\n  async executeQueryForHistogram(e = {}, t, i) {\n    const {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    } = t;\n    return (await this._getQueryEngineResultForStats(e, {\n      field: s,\n      normalizationField: r,\n      valueExpression: a\n    }, i)).createHistogramResponse(t);\n  }\n\n  async _schedule(e, t) {\n    return o(this._frameTask) ? this._frameTask.schedule(e, t) : e(J);\n  }\n\n  async _reschedule(e, t) {\n    return o(this._frameTask) ? this._frameTask.reschedule(e, t) : e(J);\n  }\n\n  _getAll(e) {\n    return n(this._allItems) && (this._allItems = this.featureStore.toArray()), new q(this._allItems, e, this);\n  }\n\n  async _executeQuery(e, t, i) {\n    e = s(e), e = await this._schedule(() => N(e, this.definitionExpression, this.spatialReference), i), e = await this._reschedule(() => this._checkQuerySupport(e), i), e = { ...e,\n      ...t\n    };\n    const r = await this._reschedule(() => this._executeSceneFilterQuery(e, i), i),\n          a = await this._reschedule(() => this._executeGeometryQuery(e, r, i), i);\n    return await this._reschedule(() => this._executeAggregateIdsQuery(a), i), await this._reschedule(() => this._executeObjectIdsQuery(a), i), await this._reschedule(() => this._executeTimeQuery(a), i), await this._reschedule(() => this._executeAttributesQuery(a), i), a;\n  }\n\n  async _executeSceneFilterQuery(e, t) {\n    if (n(e.sceneFilter)) return null;\n    const {\n      outSR: i,\n      returnGeometry: s,\n      returnCentroid: r\n    } = e,\n          a = this.featureStore.featureSpatialReference,\n          o = e.sceneFilter.geometry,\n          u = n(a) || F(a, o.spatialReference) ? o : T(o, a);\n    if (!u) return null;\n\n    const c = s || r,\n          h = R(i) && !F(this.spatialReference, i) && c ? async e => this._project(e, i) : e => e,\n          l = this.featureAdapter,\n          m = this._searchFeatures(this._getQueryBBoxes(u));\n\n    if (\"disjoint\" === e.sceneFilter.spatialRelationship) {\n      if (!m.length) return null;\n      const i = new Set();\n\n      for (const e of m) i.add(l.getObjectId(e));\n\n      const s = await this._reschedule(() => this.featureStore.toArray(), t),\n            r = await this._reschedule(async () => {\n        const r = await z(\"esriSpatialRelDisjoint\", u, this.geometryType, this.hasZ, this.hasM),\n              a = e => !i.has(l.getObjectId(e)) || r(l.getGeometry(e)),\n              n = await this._runSpatialFilter(s, a, t);\n\n        return new q(n, e, this);\n      }, t);\n      return h(r);\n    }\n\n    if (!m.length) return new q([], e, this);\n    if (this._canExecuteSinglePass(u, e)) return h(new q(m, e, this));\n    const p = await z(\"esriSpatialRelContains\", u, this.geometryType, this.hasZ, this.hasM),\n          f = await this._runSpatialFilter(m, e => p(l.getGeometry(e)), t);\n    return h(new q(f, e, this));\n  }\n\n  async _executeGeometryQuery(i, s, r) {\n    if (o(s) && 0 === s.items.length) return s;\n    i = o(s) ? s.query : i;\n    const {\n      geometry: a,\n      outSR: u,\n      spatialRel: c,\n      returnGeometry: h,\n      returnCentroid: l\n    } = i,\n          m = this.featureStore.featureSpatialReference,\n          p = !a || n(m) || F(m, a.spatialReference) ? a : T(a, m),\n          f = h || l,\n          d = R(u) && !F(this.spatialReference, u),\n          y = this._geometryQueryCache && n(s) ? d && f ? JSON.stringify({\n      originalFilterGeometry: a,\n      spatialRelationship: c,\n      outSpatialReference: u\n    }) : JSON.stringify({\n      originalFilterGeometry: a,\n      spatialRelationship: c\n    }) : null,\n          g = y ? this._geometryQueryCache.get(y) : null;\n    if (o(g)) return new q(g, i, this);\n\n    const x = async e => (d && f && (await this._project(e, u)), y && this._geometryQueryCache.put(y, e.items, e.items.length + 1), e);\n\n    if (!p) return x(o(s) ? s : this._getAll(i));\n    const _ = this.featureAdapter;\n\n    let w = this._searchFeatures(this._getQueryBBoxes(a));\n\n    if (\"esriSpatialRelDisjoint\" === c) {\n      if (!w.length) return x(o(s) ? s : this._getAll(i));\n      const e = new Set();\n\n      for (const i of w) e.add(_.getObjectId(i));\n\n      const t = o(s) ? s.items : await this._reschedule(() => this.featureStore.toArray(), r),\n            a = await this._reschedule(async () => {\n        const s = await z(c, p, this.geometryType, this.hasZ, this.hasM),\n              a = t => !e.has(_.getObjectId(t)) || s(_.getGeometry(t)),\n              n = await this._runSpatialFilter(t, a, r);\n\n        return new q(n, i, this);\n      }, r);\n      return x(a);\n    }\n\n    if (o(s)) {\n      const i = new e();\n      w = w.filter(e => t(s.items, e, s.items.length, i) >= 0);\n    }\n\n    if (!w.length) {\n      const e = new q([], i, this);\n      return y && this._geometryQueryCache.put(y, e.items, 1), e;\n    }\n\n    if (this._canExecuteSinglePass(p, i)) return x(new q(w, i, this));\n    const S = await z(c, p, this.geometryType, this.hasZ, this.hasM),\n          Q = await this._runSpatialFilter(w, e => S(_.getGeometry(e)), r);\n    return x(new q(Q, i, this));\n  }\n\n  _executeAggregateIdsQuery(e) {\n    if (0 === e.items.length || !e.query.aggregateIds || !e.query.aggregateIds.length || n(this.aggregateAdapter)) return;\n    const t = new Set();\n\n    for (const s of e.query.aggregateIds) {\n      this.aggregateAdapter.getFeatureObjectIds(s).forEach(e => t.add(e));\n    }\n\n    const i = this.featureAdapter.getObjectId;\n    e.items = e.items.filter(e => t.has(i(e)));\n  }\n\n  _executeObjectIdsQuery(e) {\n    if (0 === e.items.length || !e.query.objectIds || !e.query.objectIds.length) return;\n    const t = new Set(e.query.objectIds),\n          i = this.featureAdapter.getObjectId;\n    e.items = e.items.filter(e => t.has(i(e)));\n  }\n\n  _executeTimeQuery(e) {\n    if (0 === e.items.length) return;\n    const t = P(this.timeInfo, e.query.timeExtent, this.featureAdapter);\n    n(t) || (e.items = e.items.filter(t));\n  }\n\n  _executeAttributesQuery(e) {\n    if (0 === e.items.length) return;\n    const t = I(e.query.where, this.fieldsIndex);\n\n    if (t) {\n      if (!t.isStandardized) throw new TypeError(\"Where clause is not standardized\");\n      e.items = e.items.filter(e => t.testFeature(e, this.featureAdapter));\n    }\n  }\n\n  async _runSpatialFilter(e, t, i) {\n    if (!t) return e;\n    if (n(this._frameTask)) return e.filter(e => t(e));\n    let s = 0;\n\n    const r = new Array(),\n          a = async n => {\n      for (; s < e.length;) {\n        const o = e[s++];\n        t(o) && (r.push(o), n.madeProgress()), n.done && (await this._reschedule(e => a(e), i));\n      }\n    };\n\n    return this._reschedule(e => a(e), i).then(() => r);\n  }\n\n  _filterLatest(e) {\n    const {\n      trackIdField: t,\n      startTimeField: i,\n      endTimeField: s\n    } = this.timeInfo,\n          r = s || i,\n          a = new Map(),\n          n = this.featureAdapter.getAttribute;\n\n    for (const o of e.items) {\n      const e = n(o, t),\n            i = n(o, r),\n            s = a.get(e);\n      (!s || i > n(s, r)) && a.set(e, o);\n    }\n\n    e.items = Array.from(a.values());\n  }\n\n  _canExecuteSinglePass(e, t) {\n    const {\n      spatialRel: i\n    } = t;\n    return O(e) && (\"esriSpatialRelEnvelopeIntersects\" === i || \"esriGeometryPoint\" === this.geometryType && (\"esriSpatialRelIntersects\" === i || \"esriSpatialRelContains\" === i || \"esriSpatialRelWithin\" === i));\n  }\n\n  async _project(e, t) {\n    if (!t || F(this.spatialReference, t)) return e;\n    const i = this.featureAdapter,\n          s = await C(e.items.map(e => D(this.geometryType, this.hasZ, this.hasM, i.getGeometry(e))), this.spatialReference, t);\n    return e.items = s.map((t, s) => i.cloneWithGeometry(e.items[s], Q(t, this.hasZ, this.hasM))), e;\n  }\n\n  _getQueryBBoxes(e) {\n    if (O(e)) {\n      if (_(e)) return [d(e.xmin, e.ymin, e.xmax, e.ymax)];\n      if (w(e)) return e.rings.map(e => d(Math.min(e[0][0], e[2][0]), Math.min(e[0][1], e[2][1]), Math.max(e[0][0], e[2][0]), Math.max(e[0][1], e[2][1])));\n    }\n\n    return [g(y(), e)];\n  }\n\n  _searchFeatures(e) {\n    for (const i of e) this.featureStore.forEachInBounds(i, e => ie.add(e));\n\n    const t = Array.from(ie.values());\n    return ie.clear(), t;\n  }\n\n  async _checkStatisticsSupport(e, t) {\n    if (e.distance < 0 || null != e.geometryPrecision || e.multipatchOption || e.pixelSize || e.relationParam || e.text || e.outStatistics || e.groupByFieldsForStatistics || e.having || e.orderByFields) throw new i(W, \"Unsupported query options\", {\n      query: e\n    });\n    return this._checkAttributesQuerySupport(e), Promise.all([this._checkStatisticsParamsSupport(t), G(e, this.geometryType, this.spatialReference), k(this.spatialReference, e.outSR)]).then(() => e);\n  }\n\n  async _checkStatisticsParamsSupport(e) {\n    let t = [];\n\n    if (e.valueExpression) {\n      const {\n        arcadeUtils: i\n      } = await L();\n      t = i.extractFieldNames(e.valueExpression);\n    }\n\n    if (e.field && t.push(e.field), e.normalizationField && t.push(e.normalizationField), !t.length) throw new i(W, \"params should have at least a field or valueExpression\", {\n      params: e\n    });\n    j(this.fieldsIndex, t, \"params contains missing fields\");\n  }\n\n  async _checkQuerySupport(e) {\n    if (e.distance < 0 || null != e.geometryPrecision || e.multipatchOption || e.pixelSize || e.relationParam || e.text) throw new i(W, \"Unsupported query options\", {\n      query: e\n    });\n    return this._checkAttributesQuerySupport(e), this._checkStatisticsQuerySupport(e), Promise.all([G(e, this.geometryType, this.spatialReference), k(this.spatialReference, e.outSR)]).then(() => e);\n  }\n\n  _checkAttributesQuerySupport(e) {\n    const {\n      outFields: t,\n      orderByFields: s,\n      returnDistinctValues: r,\n      outStatistics: a\n    } = e,\n          n = a ? a.map(e => e.outStatisticFieldName && e.outStatisticFieldName.toLowerCase()).filter(Boolean) : [];\n\n    if (s && s.length > 0) {\n      const e = \" asc\",\n            t = \" desc\",\n            i = s.map(i => {\n        const s = i.toLowerCase();\n        return s.includes(e) ? s.split(e)[0] : s.includes(t) ? s.split(t)[0] : i;\n      }).filter(e => !n.includes(e));\n      j(this.fieldsIndex, i, \"orderByFields contains missing fields\");\n    }\n\n    if (t && t.length > 0) j(this.fieldsIndex, t, \"outFields contains missing fields\");else if (r) throw new i(W, \"outFields should be specified for returnDistinctValues\", {\n      query: e\n    });\n    E(this.fieldsIndex, e.where);\n  }\n\n  _checkStatisticsQuerySupport(e) {\n    const {\n      outStatistics: t,\n      groupByFieldsForStatistics: s,\n      having: r\n    } = e,\n          a = s && s.length,\n          n = t && t.length;\n\n    if (r) {\n      if (!a || !n) throw new i(W, \"outStatistics and groupByFieldsForStatistics should be specified with having\", {\n        query: e\n      });\n      b(this.fieldsIndex, r, t);\n    }\n\n    if (n) {\n      if (!V(t)) return;\n      const r = t.map(e => e.onStatisticField).filter(Boolean);\n      j(this.fieldsIndex, r, \"onStatisticFields contains missing fields\"), a && j(this.fieldsIndex, s, \"groupByFieldsForStatistics contains missing fields\");\n\n      for (const s of t) {\n        const {\n          onStatisticField: t,\n          statisticType: r\n        } = s;\n\n        if ((\"percentile_disc\" === r || \"percentile_cont\" === r) && \"statisticParameters\" in s) {\n          const {\n            statisticParameters: t\n          } = s;\n          if (!t) throw new i(W, \"statisticParamters should be set for percentile type\", {\n            definition: s,\n            query: e\n          });\n        } else if (\"count\" !== r && t && A(t, this.fieldsIndex)) throw new i(W, \"outStatistics contains non-numeric fields\", {\n          definition: s,\n          query: e\n        });\n      }\n    }\n  }\n\n  async _getQueryEngineResultForStats(e, t, i) {\n    e = s(e);\n\n    try {\n      e = await this._schedule(() => N(e, this.definitionExpression, this.spatialReference), i), e = await this._reschedule(() => this._checkStatisticsSupport(e, t), i);\n      const s = await this._reschedule(() => this._executeSceneFilterQuery(e, i), i),\n            r = await this._reschedule(() => this._executeGeometryQuery(e, s, i), i);\n      return await this._reschedule(() => this._executeAggregateIdsQuery(r), i), await this._reschedule(() => this._executeObjectIdsQuery(r), i), await this._reschedule(() => this._executeTimeQuery(r), i), await this._reschedule(() => this._executeAttributesQuery(r), i), r;\n    } catch (r) {\n      if (r !== Z) throw r;\n      return new q([], e, this);\n    }\n  }\n\n}\n\nconst ee = l(),\n      te = l(),\n      ie = new Set();\nexport { $ as Feature, Y as QueryEngine };","map":{"version":3,"names":["PositionHint","e","indexOf","t","i","clone","s","removeMaybe","r","destroyMaybe","a","isNone","n","isSome","o","MemCacheStorage","u","MemCache","c","getMetersPerUnitForSR","h","create","l","set","m","NEGATIVE_INFINITY","p","expandWithAABB","f","fromValues","d","y","getBoundsXY","g","fromJSON","x","isExtent","_","isPolygon","w","normalizeCentralMeridian","S","equals","F","isValid","R","convertFromGeometry","Q","getWhereClause","I","validateFields","j","validateWhere","E","validateHaving","b","hasInvalidFieldType","A","project","T","checkProjectionSupport","k","projectMany","C","queryCapabilities","B","QueryEngineResult","q","SnappingTypes","v","getSpatialQueryOperator","z","canQueryWithRBush","O","checkSpatialQuerySupport","G","getTimeExtent","M","getTimeOperator","P","cleanFromGeometryEngine","U","QUERY_ENGINE_EMPTY_RESULT","Z","normalizeQuery","N","getGeometry","D","H","loadArcade","L","noBudget","J","V","every","statisticType","W","$","constructor","attributes","geometry","centroid","filterFlags","groupId","displayId","K","X","Y","capabilities","query","geometryType","hasM","hasZ","objectIdField","spatialReference","definitionExpression","featureStore","aggregateAdapter","_changeHandle","events","on","clearCache","timeInfo","cacheSpatialQueries","_geometryQueryCache","fieldsIndex","fields","scheduler","priority","_frameTask","registerTask","destroy","featureAdapter","fullExtent","fullBounds","xmin","ymin","xmax","ymax","timeExtent","_timeExtent","clear","_allItems","executeQuery","_executeQuery","createQueryResponse","executeQueryForCount","returnGeometry","returnCentroid","outSR","createQueryResponseForCount","executeQueryForExtent","size","count","extent","te","forEachBounds","items","ee","isFinite","zmin","zmax","executeQueryForIds","executeQueryForIdSet","then","Array","from","Set","_reschedule","add","getObjectId","executeQueryForSnapping","point","distance","types","NONE","candidates","_checkQuerySupport","signal","_searchFeatures","_getQueryBBoxes","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","Math","max","createSnappingResponse","executeQueryForLatestObservations","trackIdField","_filterLatest","executeQueryForSummaryStatistics","field","normalizationField","valueExpression","_getQueryEngineResultForStats","createSummaryStatisticsResponse","executeQueryForUniqueValues","createUniqueValuesResponse","executeQueryForClassBreaks","createClassBreaksResponse","executeQueryForHistogram","createHistogramResponse","_schedule","schedule","reschedule","_getAll","toArray","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","_project","spatialRelationship","length","has","_runSpatialFilter","_canExecuteSinglePass","spatialRel","JSON","stringify","originalFilterGeometry","outSpatialReference","get","put","filter","aggregateIds","getFeatureObjectIds","forEach","objectIds","where","isStandardized","TypeError","testFeature","push","madeProgress","done","startTimeField","endTimeField","Map","getAttribute","values","map","cloneWithGeometry","rings","min","forEachInBounds","ie","_checkStatisticsSupport","geometryPrecision","multipatchOption","pixelSize","relationParam","text","outStatistics","groupByFieldsForStatistics","having","orderByFields","_checkAttributesQuerySupport","Promise","all","_checkStatisticsParamsSupport","arcadeUtils","extractFieldNames","params","_checkStatisticsQuerySupport","outFields","returnDistinctValues","outStatisticFieldName","toLowerCase","Boolean","includes","split","onStatisticField","statisticParameters","definition","Feature","QueryEngine"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PositionHint as e,indexOf as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{clone as s}from\"../../../core/lang.js\";import{removeMaybe as r,destroyMaybe as a,isNone as n,isSome as o}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as c}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as h}from\"../../../core/unitUtils.js\";import{create as l,set as m,NEGATIVE_INFINITY as p,expandWithAABB as f}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as d,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as g}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as w}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as S}from\"../../../geometry/support/normalizeUtils.js\";import{equals as F,isValid as R}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as Q}from\"../featureConversionUtils.js\";import{getWhereClause as I,validateFields as j,validateWhere as E,validateHaving as b,hasInvalidFieldType as A}from\"./attributeSupport.js\";import{project as T,checkProjectionSupport as k,projectMany as C}from\"./projectionSupport.js\";import{queryCapabilities as B}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as q,SnappingTypes as v}from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as O,checkSpatialQuerySupport as G}from\"./spatialQuerySupport.js\";import{getTimeExtent as M,getTimeOperator as P}from\"./timeSupport.js\";import{cleanFromGeometryEngine as U,QUERY_ENGINE_EMPTY_RESULT as Z,normalizeQuery as N,getGeometry as D}from\"./utils.js\";import H from\"../../support/FieldsIndex.js\";import{loadArcade as L}from\"../../../support/arcadeOnDemand.js\";import{noBudget as J}from\"../../../views/support/Scheduler.js\";function V(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const W=\"feature-store:unsupported-query\";class ${constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const K=new u(2e6);let X=0;class Y{constructor(e){this.capabilities={query:B},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new c(X+++\"$$\",K)),this.fieldsIndex=new H(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=r(this._frameTask),this.clearCache(),a(this._geometryQueryCache),this._changeHandle=r(this._changeHandle),a(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return n(e)?null:{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:U(this.spatialReference)}}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=M(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache?.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e,t){try{return(await this._executeQuery(e,{},t)).createQueryResponse()}catch(i){if(i!==Z)throw i;return new q([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},t)).createQueryResponseForCount()}catch(i){if(i!==Z)throw i;return 0}}async executeQueryForExtent(e,t){const i=e.outSR;try{const s=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),r=s.size;if(!r)return{count:0,extent:null};m(te,p),this.featureStore.forEachBounds(s.items,(e=>f(te,e)),ee);const a={xmin:te[0],ymin:te[1],xmax:te[3],ymax:te[4],spatialReference:U(this.spatialReference)};this.hasZ&&isFinite(te[2])&&isFinite(te[5])&&(a.zmin=te[2],a.zmax=te[5]);const n=T(a,s.spatialReference,i);if(n.spatialReference=U(i||this.spatialReference),n.xmax-n.xmin==0){const e=h(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=h(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=h(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:r,extent:n}}catch(s){if(s===Z)return{count:0,extent:null};throw s}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){try{const i=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),s=i.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(i.featureAdapter.getObjectId(e))}),t),r}catch(i){if(i===Z)return new Set;throw i}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:r}=e;if(r===v.NONE)return{candidates:[]};const a=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),o=!F(i.spatialReference,this.spatialReference);o&&await k(i.spatialReference,this.spatialReference);const u=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-u,xmax:i.x+u,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=o?T(h,this.spatialReference):h;if(!l)return{candidates:[]};const m=(await S(x(i),null,{signal:t}))[0],p=(await S(x(l),null,{signal:t}))[0];if(n(m)||n(p))return{candidates:[]};const f=new q(this._searchFeatures(this._getQueryBBoxes(p.toJSON())),a,this);await this._reschedule((()=>this._executeObjectIdsQuery(f)),t),await this._reschedule((()=>this._executeTimeQuery(f)),t),await this._reschedule((()=>this._executeAttributesQuery(f)),t);const d=m.toJSON(),y=o?T(d,this.spatialReference):d,g=o?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return f.createSnappingResponse({...e,point:y,distance:g},i.spatialReference)}async executeQueryForLatestObservations(e,t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new i(W,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const i=await this._executeQuery(e,{},t);return await this._reschedule((()=>this._filterLatest(i)),t),i.createQueryResponse()}catch(s){if(s!==Z)throw s;return new q([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(t)}async _schedule(e,t){return o(this._frameTask)?this._frameTask.schedule(e,t):e(J)}async _reschedule(e,t){return o(this._frameTask)?this._frameTask.reschedule(e,t):e(J)}_getAll(e){return n(this._allItems)&&(this._allItems=this.featureStore.toArray()),new q(this._allItems,e,this)}async _executeQuery(e,t,i){e=s(e),e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkQuerySupport(e)),i),e={...e,...t};const r=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,r,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(n(e.sceneFilter))return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,o=e.sceneFilter.geometry,u=n(a)||F(a,o.spatialReference)?o:T(o,a);if(!u)return null;const c=s||r,h=R(i)&&!F(this.spatialReference,i)&&c?async e=>this._project(e,i):e=>e,l=this.featureAdapter,m=this._searchFeatures(this._getQueryBBoxes(u));if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!m.length)return null;const i=new Set;for(const e of m)i.add(l.getObjectId(e));const s=await this._reschedule((()=>this.featureStore.toArray()),t),r=await this._reschedule((async()=>{const r=await z(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(l.getObjectId(e))||r(l.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new q(n,e,this)}),t);return h(r)}if(!m.length)return new q([],e,this);if(this._canExecuteSinglePass(u,e))return h(new q(m,e,this));const p=await z(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),f=await this._runSpatialFilter(m,(e=>p(l.getGeometry(e))),t);return h(new q(f,e,this))}async _executeGeometryQuery(i,s,r){if(o(s)&&0===s.items.length)return s;i=o(s)?s.query:i;const{geometry:a,outSR:u,spatialRel:c,returnGeometry:h,returnCentroid:l}=i,m=this.featureStore.featureSpatialReference,p=!a||n(m)||F(m,a.spatialReference)?a:T(a,m),f=h||l,d=R(u)&&!F(this.spatialReference,u),y=this._geometryQueryCache&&n(s)?d&&f?JSON.stringify({originalFilterGeometry:a,spatialRelationship:c,outSpatialReference:u}):JSON.stringify({originalFilterGeometry:a,spatialRelationship:c}):null,g=y?this._geometryQueryCache.get(y):null;if(o(g))return new q(g,i,this);const x=async e=>(d&&f&&await this._project(e,u),y&&this._geometryQueryCache.put(y,e.items,e.items.length+1),e);if(!p)return x(o(s)?s:this._getAll(i));const _=this.featureAdapter;let w=this._searchFeatures(this._getQueryBBoxes(a));if(\"esriSpatialRelDisjoint\"===c){if(!w.length)return x(o(s)?s:this._getAll(i));const e=new Set;for(const i of w)e.add(_.getObjectId(i));const t=o(s)?s.items:await this._reschedule((()=>this.featureStore.toArray()),r),a=await this._reschedule((async()=>{const s=await z(c,p,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(_.getObjectId(t))||s(_.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new q(n,i,this)}),r);return x(a)}if(o(s)){const i=new e;w=w.filter((e=>t(s.items,e,s.items.length,i)>=0))}if(!w.length){const e=new q([],i,this);return y&&this._geometryQueryCache.put(y,e.items,1),e}if(this._canExecuteSinglePass(p,i))return x(new q(w,i,this));const S=await z(c,p,this.geometryType,this.hasZ,this.hasM),Q=await this._runSpatialFilter(w,(e=>S(_.getGeometry(e))),r);return x(new q(Q,i,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds||!e.query.aggregateIds.length||n(this.aggregateAdapter))return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds||!e.query.objectIds.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=P(this.timeInfo,e.query.timeExtent,this.featureAdapter);n(t)||(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=I(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(n(this._frameTask))return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const o=e[s++];t(o)&&(r.push(o),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const o of e.items){const e=n(o,t),i=n(o,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,o)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return O(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}async _project(e,t){if(!t||F(this.spatialReference,t))return e;const i=this.featureAdapter,s=await C(e.items.map((e=>D(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t);return e.items=s.map(((t,s)=>i.cloneWithGeometry(e.items[s],Q(t,this.hasZ,this.hasM)))),e}_getQueryBBoxes(e){if(O(e)){if(_(e))return[d(e.xmin,e.ymin,e.xmax,e.ymax)];if(w(e))return e.rings.map((e=>d(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[g(y(),e)]}_searchFeatures(e){for(const i of e)this.featureStore.forEachInBounds(i,(e=>ie.add(e)));const t=Array.from(ie.values());return ie.clear(),t}async _checkStatisticsSupport(e,t){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text||e.outStatistics||e.groupByFieldsForStatistics||e.having||e.orderByFields)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),Promise.all([this._checkStatisticsParamsSupport(t),G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}async _checkStatisticsParamsSupport(e){let t=[];if(e.valueExpression){const{arcadeUtils:i}=await L();t=i.extractFieldNames(e.valueExpression)}if(e.field&&t.push(e.field),e.normalizationField&&t.push(e.normalizationField),!t.length)throw new i(W,\"params should have at least a field or valueExpression\",{params:e});j(this.fieldsIndex,t,\"params contains missing fields\")}async _checkQuerySupport(e){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Promise.all([G(e,this.geometryType,this.spatialReference),k(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:s,returnDistinctValues:r,outStatistics:a}=e,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(t)?s.split(t)[0]:i})).filter((e=>!n.includes(e)));j(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(t&&t.length>0)j(this.fieldsIndex,t,\"outFields contains missing fields\");else if(r)throw new i(W,\"outFields should be specified for returnDistinctValues\",{query:e});E(this.fieldsIndex,e.where)}_checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:s,having:r}=e,a=s&&s.length,n=t&&t.length;if(r){if(!a||!n)throw new i(W,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});b(this.fieldsIndex,r,t)}if(n){if(!V(t))return;const r=t.map((e=>e.onStatisticField)).filter(Boolean);j(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&j(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of t){const{onStatisticField:t,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:t}=s;if(!t)throw new i(W,\"statisticParamters should be set for percentile type\",{definition:s,query:e})}else if(\"count\"!==r&&t&&A(t,this.fieldsIndex))throw new i(W,\"outStatistics contains non-numeric fields\",{definition:s,query:e})}}}async _getQueryEngineResultForStats(e,t,i){e=s(e);try{e=await this._schedule((()=>N(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkStatisticsSupport(e,t)),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(r){if(r!==Z)throw r;return new q([],e,this)}}}const ee=l(),te=l(),ie=new Set;export{$ as Feature,Y as QueryEngine};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}