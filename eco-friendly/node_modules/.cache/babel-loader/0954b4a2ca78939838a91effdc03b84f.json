{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as t } from \"../../../../../core/maybe.js\";\nimport { pt2px as i } from \"../../../../../core/screenUtils.js\";\nimport { FILTER_FLAG_0 as o, EFFECT_FLAG_0 as r } from \"../definitions.js\";\nimport { CollisionBitsetGrid as n, NONE as s, HAS_COLLISION as a, OUTSIDE_EXTENT as l } from \"./CollisionGrid.js\";\nimport { getSizeForValueSimple as d } from \"./visualVariableSimpleUtils.js\";\nconst c = 254,\n      u = 255,\n      f = 0;\n\nfunction b(e, i) {\n  const o = [];\n  e.forEachTile(e => o.push(e)), o.sort((e, t) => e.instanceId - t.instanceId), o.forEach(e => {\n    t(e.labelMetrics) && e.isReady && i(e, e.labelMetrics.getCursor());\n  });\n}\n\nfunction p(e) {\n  return e.layer && (\"feature\" === e.layer.type || \"csv\" === e.layer.type || \"geojson\" === e.layer.type || \"ogc-feature\" === e.layer.type || \"stream\" === e.layer.type || \"subtype-group\" === e.layer.type || \"wfs\" === e.layer.type);\n}\n\nfunction y(e) {\n  return t => i(d(t, e));\n}\n\nfunction m(e) {\n  const t = \"visualVariables\" in e && e.visualVariables;\n  if (!t) return null;\n\n  for (const i of t) if (\"size\" === i.type) return y(i);\n\n  return null;\n}\n\nfunction h(e) {\n  for (const t of e) {\n    const e = \"featureReduction\" in t && t.featureReduction && \"labelingInfo\" in t.featureReduction && t.featureReduction,\n          i = [...(t.labelingInfo || []), ...(e?.labelingInfo || [])];\n    if (!t.labelsVisible || !i.length) continue;\n    if (i.some(e => \"none\" === e.deconflictionStrategy)) return !0;\n  }\n\n  return !1;\n}\n\nfunction M(t, i) {\n  if (!p(i)) return;\n  const o = \"subtype-group\" === i.layer.type ? i.layer.sublayers.items : [i.layer],\n        r = i.layer.geometryType,\n        n = !h(o),\n        s = {};\n\n  if (\"subtype-group\" !== i.layer.type) {\n    if (\"heatmap\" === i.tileRenderer?.type) return;\n    const e = m(i.layer.renderer);\n    s[0] = e;\n  }\n\n  const a = i.tileRenderer;\n  if (e(a)) return;\n  const l = i.layer.visible && !i.suspended;\n  t.push({\n    tileRenderer: a,\n    vvEvaluators: s,\n    deconflictionEnabled: n,\n    geometryType: r,\n    visible: l\n  });\n}\n\nclass g {\n  run(e, t, i) {\n    const o = [];\n\n    for (let r = e.length - 1; r >= 0; r--) {\n      M(o, e[r]);\n    }\n\n    this._transformMetrics(o, t), this._runCollision(o, t, i);\n  }\n\n  _runCollision(e, t, i) {\n    const [o, r] = t.state.size,\n          s = new n(o * t.pixelRatio, r * t.pixelRatio);\n\n    for (const {\n      tileRenderer: n,\n      deconflictionEnabled: a,\n      visible: l\n    } of e) {\n      const e = n.featuresView.attributeView;\n      a ? l ? (this._prepare(n), this._collideVisible(s, n, i), this._collideInvisible(s, n)) : b(n, (t, i) => {\n        for (; i.nextId();) e.setLabelMinZoom(i.id, u);\n      }) : b(n, (t, i) => {\n        for (; i.nextId();) e.setLabelMinZoom(i.id, f);\n      });\n    }\n  }\n\n  _isFiltered(t, i, n) {\n    const s = i.getFilterFlags(t),\n          a = !n.hasFilter || !!(s & o),\n          l = e(n.featureEffect) || n.featureEffect.excludedLabelsVisible || !!(s & r);\n    return !(a && l);\n  }\n\n  _prepare(e) {\n    const t = e.featuresView.attributeView,\n          i = new Set();\n    b(e, (o, r) => {\n      for (; r.nextId();) {\n        if (i.has(r.id)) continue;\n\n        if (i.add(r.id), this._isFiltered(r.id, t, e.layerView)) {\n          t.setLabelMinZoom(r.id, c);\n          continue;\n        }\n\n        t.getLabelMinZoom(r.id) !== f ? t.setLabelMinZoom(r.id, u) : t.setLabelMinZoom(r.id, f);\n      }\n    });\n  }\n\n  _collideVisible(e, t, i) {\n    const o = t.featuresView.attributeView,\n          r = new Set();\n    b(t, (t, n) => {\n      for (; n.nextId();) if (!r.has(n.id)) if (t.key.level === i) {\n        if (0 === o.getLabelMinZoom(n.id)) {\n          switch (e.insertMetrics(n)) {\n            case l:\n              break;\n\n            case a:\n              o.setLabelMinZoom(n.id, c), r.add(n.id);\n              break;\n\n            case s:\n              o.setLabelMinZoom(n.id, f), r.add(n.id);\n          }\n        }\n      } else o.setLabelMinZoom(n.id, c);\n    });\n  }\n\n  _collideInvisible(e, t) {\n    const i = t.featuresView.attributeView,\n          o = new Set();\n    b(t, (t, r) => {\n      for (; r.nextId();) if (!o.has(r.id) && i.getLabelMinZoom(r.id) === u) {\n        switch (e.insertMetrics(r)) {\n          case l:\n            break;\n\n          case a:\n            i.setLabelMinZoom(r.id, u), o.add(r.id);\n            break;\n\n          case s:\n            i.setLabelMinZoom(r.id, f), o.add(r.id);\n        }\n      }\n    });\n  }\n\n  _transformMetrics(e, i) {\n    for (const {\n      tileRenderer: o,\n      geometryType: r,\n      vvEvaluators: n\n    } of e) b(o, (e, s) => {\n      const a = o.featuresView.attributeView,\n            l = e.transforms.labelMat2d;\n      l[4] = Math.round(l[4]), l[5] = Math.round(l[5]);\n      const d = l[4],\n            c = l[5],\n            u = \"polyline\" === r;\n\n      for (; s.next();) {\n        const e = s.boundsCount,\n              o = s.anchorX,\n              r = s.anchorY;\n        let f = s.size;\n        const b = n[0];\n\n        if (t(b)) {\n          const e = b(a.getVVSize(s.id));\n          f = isNaN(e) || null == e || e === 1 / 0 ? f : e;\n        }\n\n        const p = s.directionX * (f / 2),\n              y = s.directionY * (f / 2);\n\n        for (let t = 0; t < e; t++) {\n          let e = o,\n              n = s.anchorY;\n\n          if (u) {\n            let o = e + s.boundsX(t) + p,\n                r = n + s.boundsY(t) + y;\n            i.state.rotation ? (o = l[0] * o + l[2] * r + l[4], r = l[1] * o + l[3] * r + l[5]) : (o += d, r += c), s.setBoundsComputedAnchorX(t, Math.floor(o)), s.setBoundsComputedAnchorY(t, Math.floor(r));\n          } else {\n            i.state.rotation ? (e = l[0] * o + l[2] * r + l[4], n = l[1] * o + l[3] * r + l[5]) : (e += d, n += c);\n            const a = e + s.boundsX(t) + p,\n                  u = n + s.boundsY(t) + y;\n            s.setBoundsComputedAnchorX(t, a), s.setBoundsComputedAnchorY(t, u);\n          }\n        }\n      }\n    });\n  }\n\n}\n\nexport { g as CollisionEngine };","map":{"version":3,"names":["isNone","e","isSome","t","pt2px","i","FILTER_FLAG_0","o","EFFECT_FLAG_0","r","CollisionBitsetGrid","n","NONE","s","HAS_COLLISION","a","OUTSIDE_EXTENT","l","getSizeForValueSimple","d","c","u","f","b","forEachTile","push","sort","instanceId","forEach","labelMetrics","isReady","getCursor","p","layer","type","y","m","visualVariables","h","featureReduction","labelingInfo","labelsVisible","length","some","deconflictionStrategy","M","sublayers","items","geometryType","tileRenderer","renderer","visible","suspended","vvEvaluators","deconflictionEnabled","g","run","_transformMetrics","_runCollision","state","size","pixelRatio","featuresView","attributeView","_prepare","_collideVisible","_collideInvisible","nextId","setLabelMinZoom","id","_isFiltered","getFilterFlags","hasFilter","featureEffect","excludedLabelsVisible","Set","has","add","layerView","getLabelMinZoom","key","level","insertMetrics","transforms","labelMat2d","Math","round","next","boundsCount","anchorX","anchorY","getVVSize","isNaN","directionX","directionY","boundsX","boundsY","rotation","setBoundsComputedAnchorX","floor","setBoundsComputedAnchorY","CollisionEngine"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/collisions/CollisionEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{pt2px as i}from\"../../../../../core/screenUtils.js\";import{FILTER_FLAG_0 as o,EFFECT_FLAG_0 as r}from\"../definitions.js\";import{CollisionBitsetGrid as n,NONE as s,HAS_COLLISION as a,OUTSIDE_EXTENT as l}from\"./CollisionGrid.js\";import{getSizeForValueSimple as d}from\"./visualVariableSimpleUtils.js\";const c=254,u=255,f=0;function b(e,i){const o=[];e.forEachTile((e=>o.push(e))),o.sort(((e,t)=>e.instanceId-t.instanceId)),o.forEach((e=>{t(e.labelMetrics)&&e.isReady&&i(e,e.labelMetrics.getCursor())}))}function p(e){return e.layer&&(\"feature\"===e.layer.type||\"csv\"===e.layer.type||\"geojson\"===e.layer.type||\"ogc-feature\"===e.layer.type||\"stream\"===e.layer.type||\"subtype-group\"===e.layer.type||\"wfs\"===e.layer.type)}function y(e){return t=>i(d(t,e))}function m(e){const t=\"visualVariables\"in e&&e.visualVariables;if(!t)return null;for(const i of t)if(\"size\"===i.type)return y(i);return null}function h(e){for(const t of e){const e=\"featureReduction\"in t&&t.featureReduction&&\"labelingInfo\"in t.featureReduction&&t.featureReduction,i=[...t.labelingInfo||[],...e?.labelingInfo||[]];if(!t.labelsVisible||!i.length)continue;if(i.some((e=>\"none\"===e.deconflictionStrategy)))return!0}return!1}function M(t,i){if(!p(i))return;const o=\"subtype-group\"===i.layer.type?i.layer.sublayers.items:[i.layer],r=i.layer.geometryType,n=!h(o),s={};if(\"subtype-group\"!==i.layer.type){if(\"heatmap\"===i.tileRenderer?.type)return;const e=m(i.layer.renderer);s[0]=e}const a=i.tileRenderer;if(e(a))return;const l=i.layer.visible&&!i.suspended;t.push({tileRenderer:a,vvEvaluators:s,deconflictionEnabled:n,geometryType:r,visible:l})}class g{run(e,t,i){const o=[];for(let r=e.length-1;r>=0;r--){M(o,e[r])}this._transformMetrics(o,t),this._runCollision(o,t,i)}_runCollision(e,t,i){const[o,r]=t.state.size,s=new n(o*t.pixelRatio,r*t.pixelRatio);for(const{tileRenderer:n,deconflictionEnabled:a,visible:l}of e){const e=n.featuresView.attributeView;a?l?(this._prepare(n),this._collideVisible(s,n,i),this._collideInvisible(s,n)):b(n,((t,i)=>{for(;i.nextId();)e.setLabelMinZoom(i.id,u)})):b(n,((t,i)=>{for(;i.nextId();)e.setLabelMinZoom(i.id,f)}))}}_isFiltered(t,i,n){const s=i.getFilterFlags(t),a=!n.hasFilter||!!(s&o),l=e(n.featureEffect)||n.featureEffect.excludedLabelsVisible||!!(s&r);return!(a&&l)}_prepare(e){const t=e.featuresView.attributeView,i=new Set;b(e,((o,r)=>{for(;r.nextId();){if(i.has(r.id))continue;if(i.add(r.id),this._isFiltered(r.id,t,e.layerView)){t.setLabelMinZoom(r.id,c);continue}t.getLabelMinZoom(r.id)!==f?t.setLabelMinZoom(r.id,u):t.setLabelMinZoom(r.id,f)}}))}_collideVisible(e,t,i){const o=t.featuresView.attributeView,r=new Set;b(t,((t,n)=>{for(;n.nextId();)if(!r.has(n.id))if(t.key.level===i){if(0===o.getLabelMinZoom(n.id)){switch(e.insertMetrics(n)){case l:break;case a:o.setLabelMinZoom(n.id,c),r.add(n.id);break;case s:o.setLabelMinZoom(n.id,f),r.add(n.id)}}}else o.setLabelMinZoom(n.id,c)}))}_collideInvisible(e,t){const i=t.featuresView.attributeView,o=new Set;b(t,((t,r)=>{for(;r.nextId();)if(!o.has(r.id)&&i.getLabelMinZoom(r.id)===u){switch(e.insertMetrics(r)){case l:break;case a:i.setLabelMinZoom(r.id,u),o.add(r.id);break;case s:i.setLabelMinZoom(r.id,f),o.add(r.id)}}}))}_transformMetrics(e,i){for(const{tileRenderer:o,geometryType:r,vvEvaluators:n}of e)b(o,((e,s)=>{const a=o.featuresView.attributeView,l=e.transforms.labelMat2d;l[4]=Math.round(l[4]),l[5]=Math.round(l[5]);const d=l[4],c=l[5],u=\"polyline\"===r;for(;s.next();){const e=s.boundsCount,o=s.anchorX,r=s.anchorY;let f=s.size;const b=n[0];if(t(b)){const e=b(a.getVVSize(s.id));f=isNaN(e)||null==e||e===1/0?f:e}const p=s.directionX*(f/2),y=s.directionY*(f/2);for(let t=0;t<e;t++){let e=o,n=s.anchorY;if(u){let o=e+s.boundsX(t)+p,r=n+s.boundsY(t)+y;i.state.rotation?(o=l[0]*o+l[2]*r+l[4],r=l[1]*o+l[3]*r+l[5]):(o+=d,r+=c),s.setBoundsComputedAnchorX(t,Math.floor(o)),s.setBoundsComputedAnchorY(t,Math.floor(r))}else{i.state.rotation?(e=l[0]*o+l[2]*r+l[4],n=l[1]*o+l[3]*r+l[5]):(e+=d,n+=c);const a=e+s.boundsX(t)+p,u=n+s.boundsY(t)+y;s.setBoundsComputedAnchorX(t,a),s.setBoundsComputedAnchorY(t,u)}}}}))}}export{g as CollisionEngine};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,8BAAnC;AAAkE,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,oCAAtB;AAA2D,SAAOC,aAAa,IAAIC,CAAxB,EAA0BC,aAAa,IAAIC,CAA3C,QAAiD,mBAAjD;AAAqE,SAAOC,mBAAmB,IAAIC,CAA9B,EAAgCC,IAAI,IAAIC,CAAxC,EAA0CC,aAAa,IAAIC,CAA3D,EAA6DC,cAAc,IAAIC,CAA/E,QAAqF,oBAArF;AAA0G,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,gCAAtC;AAAuE,MAAMC,CAAC,GAAC,GAAR;AAAA,MAAYC,CAAC,GAAC,GAAd;AAAA,MAAkBC,CAAC,GAAC,CAApB;;AAAsB,SAASC,CAAT,CAAWtB,CAAX,EAAaI,CAAb,EAAe;EAAC,MAAME,CAAC,GAAC,EAAR;EAAWN,CAAC,CAACuB,WAAF,CAAevB,CAAC,IAAEM,CAAC,CAACkB,IAAF,CAAOxB,CAAP,CAAlB,GAA8BM,CAAC,CAACmB,IAAF,CAAQ,CAACzB,CAAD,EAAGE,CAAH,KAAOF,CAAC,CAAC0B,UAAF,GAAaxB,CAAC,CAACwB,UAA9B,CAA9B,EAAyEpB,CAAC,CAACqB,OAAF,CAAW3B,CAAC,IAAE;IAACE,CAAC,CAACF,CAAC,CAAC4B,YAAH,CAAD,IAAmB5B,CAAC,CAAC6B,OAArB,IAA8BzB,CAAC,CAACJ,CAAD,EAAGA,CAAC,CAAC4B,YAAF,CAAeE,SAAf,EAAH,CAA/B;EAA8D,CAA7E,CAAzE;AAAyJ;;AAAA,SAASC,CAAT,CAAW/B,CAAX,EAAa;EAAC,OAAOA,CAAC,CAACgC,KAAF,KAAU,cAAYhC,CAAC,CAACgC,KAAF,CAAQC,IAApB,IAA0B,UAAQjC,CAAC,CAACgC,KAAF,CAAQC,IAA1C,IAAgD,cAAYjC,CAAC,CAACgC,KAAF,CAAQC,IAApE,IAA0E,kBAAgBjC,CAAC,CAACgC,KAAF,CAAQC,IAAlG,IAAwG,aAAWjC,CAAC,CAACgC,KAAF,CAAQC,IAA3H,IAAiI,oBAAkBjC,CAAC,CAACgC,KAAF,CAAQC,IAA3J,IAAiK,UAAQjC,CAAC,CAACgC,KAAF,CAAQC,IAA3L,CAAP;AAAwM;;AAAA,SAASC,CAAT,CAAWlC,CAAX,EAAa;EAAC,OAAOE,CAAC,IAAEE,CAAC,CAACc,CAAC,CAAChB,CAAD,EAAGF,CAAH,CAAF,CAAX;AAAoB;;AAAA,SAASmC,CAAT,CAAWnC,CAAX,EAAa;EAAC,MAAME,CAAC,GAAC,qBAAoBF,CAApB,IAAuBA,CAAC,CAACoC,eAAjC;EAAiD,IAAG,CAAClC,CAAJ,EAAM,OAAO,IAAP;;EAAY,KAAI,MAAME,CAAV,IAAeF,CAAf,EAAiB,IAAG,WAASE,CAAC,CAAC6B,IAAd,EAAmB,OAAOC,CAAC,CAAC9B,CAAD,CAAR;;EAAY,OAAO,IAAP;AAAY;;AAAA,SAASiC,CAAT,CAAWrC,CAAX,EAAa;EAAC,KAAI,MAAME,CAAV,IAAeF,CAAf,EAAiB;IAAC,MAAMA,CAAC,GAAC,sBAAqBE,CAArB,IAAwBA,CAAC,CAACoC,gBAA1B,IAA4C,kBAAiBpC,CAAC,CAACoC,gBAA/D,IAAiFpC,CAAC,CAACoC,gBAA3F;IAAA,MAA4GlC,CAAC,GAAC,CAAC,IAAGF,CAAC,CAACqC,YAAF,IAAgB,EAAnB,CAAD,EAAuB,IAAGvC,CAAC,EAAEuC,YAAH,IAAiB,EAApB,CAAvB,CAA9G;IAA6J,IAAG,CAACrC,CAAC,CAACsC,aAAH,IAAkB,CAACpC,CAAC,CAACqC,MAAxB,EAA+B;IAAS,IAAGrC,CAAC,CAACsC,IAAF,CAAQ1C,CAAC,IAAE,WAASA,CAAC,CAAC2C,qBAAtB,CAAH,EAAiD,OAAM,CAAC,CAAP;EAAS;;EAAA,OAAM,CAAC,CAAP;AAAS;;AAAA,SAASC,CAAT,CAAW1C,CAAX,EAAaE,CAAb,EAAe;EAAC,IAAG,CAAC2B,CAAC,CAAC3B,CAAD,CAAL,EAAS;EAAO,MAAME,CAAC,GAAC,oBAAkBF,CAAC,CAAC4B,KAAF,CAAQC,IAA1B,GAA+B7B,CAAC,CAAC4B,KAAF,CAAQa,SAAR,CAAkBC,KAAjD,GAAuD,CAAC1C,CAAC,CAAC4B,KAAH,CAA/D;EAAA,MAAyExB,CAAC,GAACJ,CAAC,CAAC4B,KAAF,CAAQe,YAAnF;EAAA,MAAgGrC,CAAC,GAAC,CAAC2B,CAAC,CAAC/B,CAAD,CAApG;EAAA,MAAwGM,CAAC,GAAC,EAA1G;;EAA6G,IAAG,oBAAkBR,CAAC,CAAC4B,KAAF,CAAQC,IAA7B,EAAkC;IAAC,IAAG,cAAY7B,CAAC,CAAC4C,YAAF,EAAgBf,IAA/B,EAAoC;IAAO,MAAMjC,CAAC,GAACmC,CAAC,CAAC/B,CAAC,CAAC4B,KAAF,CAAQiB,QAAT,CAAT;IAA4BrC,CAAC,CAAC,CAAD,CAAD,GAAKZ,CAAL;EAAO;;EAAA,MAAMc,CAAC,GAACV,CAAC,CAAC4C,YAAV;EAAuB,IAAGhD,CAAC,CAACc,CAAD,CAAJ,EAAQ;EAAO,MAAME,CAAC,GAACZ,CAAC,CAAC4B,KAAF,CAAQkB,OAAR,IAAiB,CAAC9C,CAAC,CAAC+C,SAA5B;EAAsCjD,CAAC,CAACsB,IAAF,CAAO;IAACwB,YAAY,EAAClC,CAAd;IAAgBsC,YAAY,EAACxC,CAA7B;IAA+ByC,oBAAoB,EAAC3C,CAApD;IAAsDqC,YAAY,EAACvC,CAAnE;IAAqE0C,OAAO,EAAClC;EAA7E,CAAP;AAAwF;;AAAA,MAAMsC,CAAN,CAAO;EAACC,GAAG,CAACvD,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAAC,EAAR;;IAAW,KAAI,IAAIE,CAAC,GAACR,CAAC,CAACyC,MAAF,GAAS,CAAnB,EAAqBjC,CAAC,IAAE,CAAxB,EAA0BA,CAAC,EAA3B,EAA8B;MAACoC,CAAC,CAACtC,CAAD,EAAGN,CAAC,CAACQ,CAAD,CAAJ,CAAD;IAAU;;IAAA,KAAKgD,iBAAL,CAAuBlD,CAAvB,EAAyBJ,CAAzB,GAA4B,KAAKuD,aAAL,CAAmBnD,CAAnB,EAAqBJ,CAArB,EAAuBE,CAAvB,CAA5B;EAAsD;;EAAAqD,aAAa,CAACzD,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAK,CAACE,CAAD,EAAGE,CAAH,IAAMN,CAAC,CAACwD,KAAF,CAAQC,IAAnB;IAAA,MAAwB/C,CAAC,GAAC,IAAIF,CAAJ,CAAMJ,CAAC,GAACJ,CAAC,CAAC0D,UAAV,EAAqBpD,CAAC,GAACN,CAAC,CAAC0D,UAAzB,CAA1B;;IAA+D,KAAI,MAAK;MAACZ,YAAY,EAACtC,CAAd;MAAgB2C,oBAAoB,EAACvC,CAArC;MAAuCoC,OAAO,EAAClC;IAA/C,CAAT,IAA6DhB,CAA7D,EAA+D;MAAC,MAAMA,CAAC,GAACU,CAAC,CAACmD,YAAF,CAAeC,aAAvB;MAAqChD,CAAC,GAACE,CAAC,IAAE,KAAK+C,QAAL,CAAcrD,CAAd,GAAiB,KAAKsD,eAAL,CAAqBpD,CAArB,EAAuBF,CAAvB,EAAyBN,CAAzB,CAAjB,EAA6C,KAAK6D,iBAAL,CAAuBrD,CAAvB,EAAyBF,CAAzB,CAA/C,IAA4EY,CAAC,CAACZ,CAAD,EAAI,CAACR,CAAD,EAAGE,CAAH,KAAO;QAAC,OAAKA,CAAC,CAAC8D,MAAF,EAAL,GAAiBlE,CAAC,CAACmE,eAAF,CAAkB/D,CAAC,CAACgE,EAApB,EAAuBhD,CAAvB;MAA0B,CAAvD,CAA/E,GAAyIE,CAAC,CAACZ,CAAD,EAAI,CAACR,CAAD,EAAGE,CAAH,KAAO;QAAC,OAAKA,CAAC,CAAC8D,MAAF,EAAL,GAAiBlE,CAAC,CAACmE,eAAF,CAAkB/D,CAAC,CAACgE,EAApB,EAAuB/C,CAAvB;MAA0B,CAAvD,CAA3I;IAAqM;EAAC;;EAAAgD,WAAW,CAACnE,CAAD,EAAGE,CAAH,EAAKM,CAAL,EAAO;IAAC,MAAME,CAAC,GAACR,CAAC,CAACkE,cAAF,CAAiBpE,CAAjB,CAAR;IAAA,MAA4BY,CAAC,GAAC,CAACJ,CAAC,CAAC6D,SAAH,IAAc,CAAC,EAAE3D,CAAC,GAACN,CAAJ,CAA7C;IAAA,MAAoDU,CAAC,GAAChB,CAAC,CAACU,CAAC,CAAC8D,aAAH,CAAD,IAAoB9D,CAAC,CAAC8D,aAAF,CAAgBC,qBAApC,IAA2D,CAAC,EAAE7D,CAAC,GAACJ,CAAJ,CAAlH;IAAyH,OAAM,EAAEM,CAAC,IAAEE,CAAL,CAAN;EAAc;;EAAA+C,QAAQ,CAAC/D,CAAD,EAAG;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC6D,YAAF,CAAeC,aAAvB;IAAA,MAAqC1D,CAAC,GAAC,IAAIsE,GAAJ,EAAvC;IAA+CpD,CAAC,CAACtB,CAAD,EAAI,CAACM,CAAD,EAAGE,CAAH,KAAO;MAAC,OAAKA,CAAC,CAAC0D,MAAF,EAAL,GAAiB;QAAC,IAAG9D,CAAC,CAACuE,GAAF,CAAMnE,CAAC,CAAC4D,EAAR,CAAH,EAAe;;QAAS,IAAGhE,CAAC,CAACwE,GAAF,CAAMpE,CAAC,CAAC4D,EAAR,GAAY,KAAKC,WAAL,CAAiB7D,CAAC,CAAC4D,EAAnB,EAAsBlE,CAAtB,EAAwBF,CAAC,CAAC6E,SAA1B,CAAf,EAAoD;UAAC3E,CAAC,CAACiE,eAAF,CAAkB3D,CAAC,CAAC4D,EAApB,EAAuBjD,CAAvB;UAA0B;QAAS;;QAAAjB,CAAC,CAAC4E,eAAF,CAAkBtE,CAAC,CAAC4D,EAApB,MAA0B/C,CAA1B,GAA4BnB,CAAC,CAACiE,eAAF,CAAkB3D,CAAC,CAAC4D,EAApB,EAAuBhD,CAAvB,CAA5B,GAAsDlB,CAAC,CAACiE,eAAF,CAAkB3D,CAAC,CAAC4D,EAApB,EAAuB/C,CAAvB,CAAtD;MAAgF;IAAC,CAA/N,CAAD;EAAmO;;EAAA2C,eAAe,CAAChE,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,MAAME,CAAC,GAACJ,CAAC,CAAC2D,YAAF,CAAeC,aAAvB;IAAA,MAAqCtD,CAAC,GAAC,IAAIkE,GAAJ,EAAvC;IAA+CpD,CAAC,CAACpB,CAAD,EAAI,CAACA,CAAD,EAAGQ,CAAH,KAAO;MAAC,OAAKA,CAAC,CAACwD,MAAF,EAAL,GAAiB,IAAG,CAAC1D,CAAC,CAACmE,GAAF,CAAMjE,CAAC,CAAC0D,EAAR,CAAJ,EAAgB,IAAGlE,CAAC,CAAC6E,GAAF,CAAMC,KAAN,KAAc5E,CAAjB,EAAmB;QAAC,IAAG,MAAIE,CAAC,CAACwE,eAAF,CAAkBpE,CAAC,CAAC0D,EAApB,CAAP,EAA+B;UAAC,QAAOpE,CAAC,CAACiF,aAAF,CAAgBvE,CAAhB,CAAP;YAA2B,KAAKM,CAAL;cAAO;;YAAM,KAAKF,CAAL;cAAOR,CAAC,CAAC6D,eAAF,CAAkBzD,CAAC,CAAC0D,EAApB,EAAuBjD,CAAvB,GAA0BX,CAAC,CAACoE,GAAF,CAAMlE,CAAC,CAAC0D,EAAR,CAA1B;cAAsC;;YAAM,KAAKxD,CAAL;cAAON,CAAC,CAAC6D,eAAF,CAAkBzD,CAAC,CAAC0D,EAApB,EAAuB/C,CAAvB,GAA0Bb,CAAC,CAACoE,GAAF,CAAMlE,CAAC,CAAC0D,EAAR,CAA1B;UAAlG;QAAyI;MAAC,CAA9L,MAAmM9D,CAAC,CAAC6D,eAAF,CAAkBzD,CAAC,CAAC0D,EAApB,EAAuBjD,CAAvB;IAA0B,CAA1Q,CAAD;EAA8Q;;EAAA8C,iBAAiB,CAACjE,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAACF,CAAC,CAAC2D,YAAF,CAAeC,aAAvB;IAAA,MAAqCxD,CAAC,GAAC,IAAIoE,GAAJ,EAAvC;IAA+CpD,CAAC,CAACpB,CAAD,EAAI,CAACA,CAAD,EAAGM,CAAH,KAAO;MAAC,OAAKA,CAAC,CAAC0D,MAAF,EAAL,GAAiB,IAAG,CAAC5D,CAAC,CAACqE,GAAF,CAAMnE,CAAC,CAAC4D,EAAR,CAAD,IAAchE,CAAC,CAAC0E,eAAF,CAAkBtE,CAAC,CAAC4D,EAApB,MAA0BhD,CAA3C,EAA6C;QAAC,QAAOpB,CAAC,CAACiF,aAAF,CAAgBzE,CAAhB,CAAP;UAA2B,KAAKQ,CAAL;YAAO;;UAAM,KAAKF,CAAL;YAAOV,CAAC,CAAC+D,eAAF,CAAkB3D,CAAC,CAAC4D,EAApB,EAAuBhD,CAAvB,GAA0Bd,CAAC,CAACsE,GAAF,CAAMpE,CAAC,CAAC4D,EAAR,CAA1B;YAAsC;;UAAM,KAAKxD,CAAL;YAAOR,CAAC,CAAC+D,eAAF,CAAkB3D,CAAC,CAAC4D,EAApB,EAAuB/C,CAAvB,GAA0Bf,CAAC,CAACsE,GAAF,CAAMpE,CAAC,CAAC4D,EAAR,CAA1B;QAAlG;MAAyI;IAAC,CAArN,CAAD;EAAyN;;EAAAZ,iBAAiB,CAACxD,CAAD,EAAGI,CAAH,EAAK;IAAC,KAAI,MAAK;MAAC4C,YAAY,EAAC1C,CAAd;MAAgByC,YAAY,EAACvC,CAA7B;MAA+B4C,YAAY,EAAC1C;IAA5C,CAAT,IAA0DV,CAA1D,EAA4DsB,CAAC,CAAChB,CAAD,EAAI,CAACN,CAAD,EAAGY,CAAH,KAAO;MAAC,MAAME,CAAC,GAACR,CAAC,CAACuD,YAAF,CAAeC,aAAvB;MAAA,MAAqC9C,CAAC,GAAChB,CAAC,CAACkF,UAAF,CAAaC,UAApD;MAA+DnE,CAAC,CAAC,CAAD,CAAD,GAAKoE,IAAI,CAACC,KAAL,CAAWrE,CAAC,CAAC,CAAD,CAAZ,CAAL,EAAsBA,CAAC,CAAC,CAAD,CAAD,GAAKoE,IAAI,CAACC,KAAL,CAAWrE,CAAC,CAAC,CAAD,CAAZ,CAA3B;MAA4C,MAAME,CAAC,GAACF,CAAC,CAAC,CAAD,CAAT;MAAA,MAAaG,CAAC,GAACH,CAAC,CAAC,CAAD,CAAhB;MAAA,MAAoBI,CAAC,GAAC,eAAaZ,CAAnC;;MAAqC,OAAKI,CAAC,CAAC0E,IAAF,EAAL,GAAe;QAAC,MAAMtF,CAAC,GAACY,CAAC,CAAC2E,WAAV;QAAA,MAAsBjF,CAAC,GAACM,CAAC,CAAC4E,OAA1B;QAAA,MAAkChF,CAAC,GAACI,CAAC,CAAC6E,OAAtC;QAA8C,IAAIpE,CAAC,GAACT,CAAC,CAAC+C,IAAR;QAAa,MAAMrC,CAAC,GAACZ,CAAC,CAAC,CAAD,CAAT;;QAAa,IAAGR,CAAC,CAACoB,CAAD,CAAJ,EAAQ;UAAC,MAAMtB,CAAC,GAACsB,CAAC,CAACR,CAAC,CAAC4E,SAAF,CAAY9E,CAAC,CAACwD,EAAd,CAAD,CAAT;UAA6B/C,CAAC,GAACsE,KAAK,CAAC3F,CAAD,CAAL,IAAU,QAAMA,CAAhB,IAAmBA,CAAC,KAAG,IAAE,CAAzB,GAA2BqB,CAA3B,GAA6BrB,CAA/B;QAAiC;;QAAA,MAAM+B,CAAC,GAACnB,CAAC,CAACgF,UAAF,IAAcvE,CAAC,GAAC,CAAhB,CAAR;QAAA,MAA2Ba,CAAC,GAACtB,CAAC,CAACiF,UAAF,IAAcxE,CAAC,GAAC,CAAhB,CAA7B;;QAAgD,KAAI,IAAInB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,CAAd,EAAgBE,CAAC,EAAjB,EAAoB;UAAC,IAAIF,CAAC,GAACM,CAAN;UAAA,IAAQI,CAAC,GAACE,CAAC,CAAC6E,OAAZ;;UAAoB,IAAGrE,CAAH,EAAK;YAAC,IAAId,CAAC,GAACN,CAAC,GAACY,CAAC,CAACkF,OAAF,CAAU5F,CAAV,CAAF,GAAe6B,CAArB;YAAA,IAAuBvB,CAAC,GAACE,CAAC,GAACE,CAAC,CAACmF,OAAF,CAAU7F,CAAV,CAAF,GAAegC,CAAxC;YAA0C9B,CAAC,CAACsD,KAAF,CAAQsC,QAAR,IAAkB1F,CAAC,GAACU,CAAC,CAAC,CAAD,CAAD,GAAKV,CAAL,GAAOU,CAAC,CAAC,CAAD,CAAD,GAAKR,CAAZ,GAAcQ,CAAC,CAAC,CAAD,CAAjB,EAAqBR,CAAC,GAACQ,CAAC,CAAC,CAAD,CAAD,GAAKV,CAAL,GAAOU,CAAC,CAAC,CAAD,CAAD,GAAKR,CAAZ,GAAcQ,CAAC,CAAC,CAAD,CAAxD,KAA8DV,CAAC,IAAEY,CAAH,EAAKV,CAAC,IAAEW,CAAtE,GAAyEP,CAAC,CAACqF,wBAAF,CAA2B/F,CAA3B,EAA6BkF,IAAI,CAACc,KAAL,CAAW5F,CAAX,CAA7B,CAAzE,EAAqHM,CAAC,CAACuF,wBAAF,CAA2BjG,CAA3B,EAA6BkF,IAAI,CAACc,KAAL,CAAW1F,CAAX,CAA7B,CAArH;UAAiK,CAAjN,MAAqN;YAACJ,CAAC,CAACsD,KAAF,CAAQsC,QAAR,IAAkBhG,CAAC,GAACgB,CAAC,CAAC,CAAD,CAAD,GAAKV,CAAL,GAAOU,CAAC,CAAC,CAAD,CAAD,GAAKR,CAAZ,GAAcQ,CAAC,CAAC,CAAD,CAAjB,EAAqBN,CAAC,GAACM,CAAC,CAAC,CAAD,CAAD,GAAKV,CAAL,GAAOU,CAAC,CAAC,CAAD,CAAD,GAAKR,CAAZ,GAAcQ,CAAC,CAAC,CAAD,CAAxD,KAA8DhB,CAAC,IAAEkB,CAAH,EAAKR,CAAC,IAAES,CAAtE;YAAyE,MAAML,CAAC,GAACd,CAAC,GAACY,CAAC,CAACkF,OAAF,CAAU5F,CAAV,CAAF,GAAe6B,CAAvB;YAAA,MAAyBX,CAAC,GAACV,CAAC,GAACE,CAAC,CAACmF,OAAF,CAAU7F,CAAV,CAAF,GAAegC,CAA1C;YAA4CtB,CAAC,CAACqF,wBAAF,CAA2B/F,CAA3B,EAA6BY,CAA7B,GAAgCF,CAAC,CAACuF,wBAAF,CAA2BjG,CAA3B,EAA6BkB,CAA7B,CAAhC;UAAgE;QAAC;MAAC;IAAC,CAAlyB,CAAD;EAAsyB;;AAAz5E;;AAA05E,SAAOkC,CAAC,IAAI8C,eAAZ"},"metadata":{},"sourceType":"module"}