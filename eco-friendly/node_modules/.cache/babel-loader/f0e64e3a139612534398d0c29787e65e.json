{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from \"../../Color.js\";\nimport { isSome as r } from \"../../core/maybe.js\";\n\nasync function n(r) {\n  await r.whenReady();\n  const n = r.basemapView.baseLayerViews.map(t => t.layer);\n\n  if (!n.length) {\n    const n = getComputedStyle(r.container).backgroundColor,\n          a = n && new t(n);\n    return r.get(\"background.color\") || (a && 0 !== a.a ? a : null) || null;\n  }\n\n  const a = (await r.takeScreenshot({\n    format: \"png\",\n    layers: n.toArray()\n  })).data.data,\n        o = a.length;\n  let e = 0,\n      u = 0,\n      l = 0,\n      c = 0,\n      s = 0,\n      i = 0;\n\n  for (let t = 0; t < o; t += 4) {\n    const r = a[t],\n          n = a[t + 1],\n          o = a[t + 2],\n          h = a[t + 3],\n          d = h / 255;\n    e += r * r * d, u += n * n * d, l += o * o * d, s += d, h && (c += h, i++);\n  }\n\n  e = Math.round(Math.sqrt(e / s)), u = Math.round(Math.sqrt(u / s)), l = Math.round(Math.sqrt(l / s));\n  return new t([e, u, l, c / i / 255]);\n}\n\nasync function a(t) {\n  if (!t) return null;\n  const a = await n(t);\n  return r(a) ? o(a) : null;\n}\n\nfunction o(t) {\n  return e(t).isBright ? \"light\" : \"dark\";\n}\n\nfunction e(r) {\n  let {\n    r: n,\n    g: a,\n    b: o,\n    a: e\n  } = r;\n  return e < 1 && (n = Math.round(e * n + 255 * (1 - e)), a = Math.round(e * a + 255 * (1 - e)), o = Math.round(e * o + 255 * (1 - e))), new t({\n    r: n,\n    g: a,\n    b: o\n  });\n}\n\nfunction u(t) {\n  const {\n    r,\n    g: n,\n    b: a\n  } = e(t);\n  return .2126 * r + .7152 * n + .0722 * a;\n}\n\nexport { n as getBackgroundColor, a as getBackgroundColorTheme, u as getColorLuminance, o as getColorTheme };","map":{"version":3,"names":["t","isSome","r","n","whenReady","basemapView","baseLayerViews","map","layer","length","getComputedStyle","container","backgroundColor","a","get","takeScreenshot","format","layers","toArray","data","o","e","u","l","c","s","i","h","d","Math","round","sqrt","isBright","g","b","getBackgroundColor","getBackgroundColorTheme","getColorLuminance","getColorTheme"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/support/colorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}