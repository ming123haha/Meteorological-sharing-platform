{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Accessor.js\";\nimport { isSome as s, abortMaybe as o, removeMaybe as e, isNone as i } from \"../../../core/maybe.js\";\nimport { debounce as a } from \"../../../core/promiseUtils.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as p } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { TaskPriority as l, ImmediateTask as c } from \"../../support/Scheduler.js\";\nlet h = class extends r {\n  constructor(t) {\n    super(t), this.stagedPoint = null, this._abortController = null, this._snap = a(async (t, r, s, o) => {\n      const e = await this._frameTask.schedule(() => r.snap(t, s, o), o);\n      e.valid && (await this._frameTask.schedule(() => {\n        this.stagedPoint = e.apply(), t !== this._snapMapPoint && (this.stagedPoint = r.update(this._snapMapPoint, s));\n      }, o));\n    });\n  }\n\n  initialize() {\n    const t = \"3d\" === this.view.type ? this.view?.resourceController?.scheduler : null;\n    this._frameTask = s(t) ? t.registerTask(l.SNAPPING) : c;\n  }\n\n  destroy() {\n    this._abortController = o(this._abortController), this._frameTask = e(this._frameTask);\n  }\n\n  async snap(t, r, s) {\n    return this.stagedPoint = r.update(t, s), this._snapMapPoint = t, i(this._abortController) && (this._abortController = new AbortController()), this._snap(t, r, s, this._abortController.signal);\n  }\n\n  abort() {\n    this._abortController = o(this._abortController);\n  }\n\n};\nt([n({\n  constructOnly: !0\n})], h.prototype, \"view\", void 0), t([n()], h.prototype, \"stagedPoint\", void 0), h = t([p(\"esri.views.interactive.snapping.SnappingOperation\")], h);\nexport { h as SnappingOperation };","map":{"version":3,"names":["_","t","r","isSome","s","abortMaybe","o","removeMaybe","e","isNone","i","debounce","a","property","n","subclass","p","TaskPriority","l","ImmediateTask","c","h","constructor","stagedPoint","_abortController","_snap","_frameTask","schedule","snap","valid","apply","_snapMapPoint","update","initialize","view","type","resourceController","scheduler","registerTask","SNAPPING","destroy","AbortController","signal","abort","constructOnly","prototype","SnappingOperation"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{isSome as s,abortMaybe as o,removeMaybe as e,isNone as i}from\"../../../core/maybe.js\";import{debounce as a}from\"../../../core/promiseUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as l,ImmediateTask as c}from\"../../support/Scheduler.js\";let h=class extends r{constructor(t){super(t),this.stagedPoint=null,this._abortController=null,this._snap=a((async(t,r,s,o)=>{const e=await this._frameTask.schedule((()=>r.snap(t,s,o)),o);e.valid&&await this._frameTask.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapMapPoint&&(this.stagedPoint=r.update(this._snapMapPoint,s))}),o)}))}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=s(t)?t.registerTask(l.SNAPPING):c}destroy(){this._abortController=o(this._abortController),this._frameTask=e(this._frameTask)}async snap(t,r,s){return this.stagedPoint=r.update(t,s),this._snapMapPoint=t,i(this._abortController)&&(this._abortController=new AbortController),this._snap(t,r,s,this._abortController.signal)}abort(){this._abortController=o(this._abortController)}};t([n({constructOnly:!0})],h.prototype,\"view\",void 0),t([n()],h.prototype,\"stagedPoint\",void 0),h=t([p(\"esri.views.interactive.snapping.SnappingOperation\")],h);export{h as SnappingOperation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}