{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { neverReached as o } from \"../../../../../../../core/compilerUtils.js\";\nimport { packFloatRGBA as e } from \"../../../../../../../core/floatRGBA.js\";\nimport { DecodeSymbolColor as r } from \"./DecodeSymbolColor.glsl.js\";\nimport { RgbaFloatEncoding as n } from \"../../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";\nimport { Float2Uniform as t } from \"../../../../core/shaderModules/Float2Uniform.js\";\nimport { Float4DrawUniform as l } from \"../../../../core/shaderModules/Float4DrawUniform.js\";\nimport { IntegerDrawUniform as a } from \"../../../../core/shaderModules/IntegerDrawUniform.js\";\nimport { glsl as d } from \"../../../../core/shaderModules/interfaces.js\";\nimport { Texture2DUniform as i } from \"../../../../core/shaderModules/Texture2DUniform.js\";\nimport { VertexAttribute as c } from \"../../../../lib/VertexAttribute.js\";\nvar m;\n!function (o) {\n  o[o.Uniform = 0] = \"Uniform\", o[o.Varying = 1] = \"Varying\", o[o.COUNT = 2] = \"COUNT\";\n}(m || (m = {}));\nconst x = 429496.7296;\n\nfunction s(o, r) {\n  e(o / x * .5 + .5, r);\n}\n\nfunction C(e, r) {\n  switch (r.componentData) {\n    case m.Varying:\n      return f(e);\n\n    case m.Uniform:\n      return v(e);\n\n    case m.COUNT:\n      return;\n\n    default:\n      o(r.componentData);\n  }\n}\n\nfunction f(o) {\n  const {\n    vertex: e,\n    fragment: l\n  } = o;\n  e.include(n), e.uniforms.add([new i(\"componentColorTex\"), new t(\"componentColorTexInvDim\")]), o.attributes.add(c.COMPONENTINDEX, \"float\"), o.varyings.add(\"vExternalColorMixMode\", \"mediump float\"), o.varyings.add(\"vExternalColor\", \"vec4\"), o.include(r), e.constants.add(\"elevationScale\", \"float\", 2 * x), e.code.add(d`vec4 _readComponentColor() {\nfloat normalizedIndex = (componentIndex * 2.0 + 0.5) * componentColorTexInvDim.x;\nvec2 indexCoord = vec2(\nmod(normalizedIndex, 1.0),\n(floor(normalizedIndex) + 0.5) * componentColorTexInvDim.y\n);\nreturn texture2D(componentColorTex, indexCoord);\n}\nfloat readElevationOffset() {\nfloat normalizedIndex = (componentIndex * 2.0 + 1.5) * componentColorTexInvDim.x;\nvec2 indexCoord = vec2(\nmod(normalizedIndex, 1.0),\n(floor(normalizedIndex) + 0.5) * componentColorTexInvDim.y\n);\nreturn (rgba2float(texture2D(componentColorTex, indexCoord)) - 0.5) * elevationScale;\n}\nvec4 forwardExternalColor(out bool castShadows) {\nvec4 componentColor = _readComponentColor() * 255.0;\nfloat shadowFlag = mod(componentColor.b * 255.0, 2.0);\ncomponentColor.b -= shadowFlag;\ncastShadows = shadowFlag >= 1.0;\nint decodedColorMixMode;\nvExternalColor = decodeSymbolColor(componentColor, decodedColorMixMode) * 0.003921568627451;\nvExternalColorMixMode = float(decodedColorMixMode) + 0.5;\nreturn vExternalColor;\n}`), l.code.add(d`void readExternalColor(out vec4 externalColor, out int externalColorMixMode) {\nexternalColor = vExternalColor;\nexternalColorMixMode = int(vExternalColorMixMode);\n}`);\n}\n\nfunction v(o) {\n  const {\n    vertex: e,\n    fragment: r\n  } = o;\n  e.uniforms.add(new l(\"externalColor\", o => o.componentParameters.externalColor)), r.uniforms.add(new a(\"externalColorMixMode\", o => o.componentParameters.externalColorMixMode)), o.varyings.add(\"vExternalColor\", \"vec4\"), e.code.add(d`float readElevationOffset() {\nreturn 0.0;\n}\nvec4 forwardExternalColor(out bool castShadows) {\nvExternalColor = externalColor;\ncastShadows = true;\nreturn externalColor;\n}`), r.code.add(d`void readExternalColor(out vec4 color, out int colorMixMode) {\ncolor = vExternalColor;\ncolorMixMode = externalColorMixMode;\n}`);\n}\n\nexport { C as ComponentData, m as ComponentDataType, x as MAX_ELEVATION_OFFSET, s as encodeElevationOffset };","map":{"version":3,"names":["neverReached","o","packFloatRGBA","e","DecodeSymbolColor","r","RgbaFloatEncoding","n","Float2Uniform","t","Float4DrawUniform","l","IntegerDrawUniform","a","glsl","d","Texture2DUniform","i","VertexAttribute","c","m","Uniform","Varying","COUNT","x","s","C","componentData","f","v","vertex","fragment","include","uniforms","add","attributes","COMPONENTINDEX","varyings","constants","code","componentParameters","externalColor","externalColorMixMode","ComponentData","ComponentDataType","MAX_ELEVATION_OFFSET","encodeElevationOffset"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/ComponentData.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as o}from\"../../../../../../../core/compilerUtils.js\";import{packFloatRGBA as e}from\"../../../../../../../core/floatRGBA.js\";import{DecodeSymbolColor as r}from\"./DecodeSymbolColor.glsl.js\";import{RgbaFloatEncoding as n}from\"../../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2Uniform as t}from\"../../../../core/shaderModules/Float2Uniform.js\";import{Float4DrawUniform as l}from\"../../../../core/shaderModules/Float4DrawUniform.js\";import{IntegerDrawUniform as a}from\"../../../../core/shaderModules/IntegerDrawUniform.js\";import{glsl as d}from\"../../../../core/shaderModules/interfaces.js\";import{Texture2DUniform as i}from\"../../../../core/shaderModules/Texture2DUniform.js\";import{VertexAttribute as c}from\"../../../../lib/VertexAttribute.js\";var m;!function(o){o[o.Uniform=0]=\"Uniform\",o[o.Varying=1]=\"Varying\",o[o.COUNT=2]=\"COUNT\"}(m||(m={}));const x=429496.7296;function s(o,r){e(o/x*.5+.5,r)}function C(e,r){switch(r.componentData){case m.Varying:return f(e);case m.Uniform:return v(e);case m.COUNT:return;default:o(r.componentData)}}function f(o){const{vertex:e,fragment:l}=o;e.include(n),e.uniforms.add([new i(\"componentColorTex\"),new t(\"componentColorTexInvDim\")]),o.attributes.add(c.COMPONENTINDEX,\"float\"),o.varyings.add(\"vExternalColorMixMode\",\"mediump float\"),o.varyings.add(\"vExternalColor\",\"vec4\"),o.include(r),e.constants.add(\"elevationScale\",\"float\",2*x),e.code.add(d`vec4 _readComponentColor() {\nfloat normalizedIndex = (componentIndex * 2.0 + 0.5) * componentColorTexInvDim.x;\nvec2 indexCoord = vec2(\nmod(normalizedIndex, 1.0),\n(floor(normalizedIndex) + 0.5) * componentColorTexInvDim.y\n);\nreturn texture2D(componentColorTex, indexCoord);\n}\nfloat readElevationOffset() {\nfloat normalizedIndex = (componentIndex * 2.0 + 1.5) * componentColorTexInvDim.x;\nvec2 indexCoord = vec2(\nmod(normalizedIndex, 1.0),\n(floor(normalizedIndex) + 0.5) * componentColorTexInvDim.y\n);\nreturn (rgba2float(texture2D(componentColorTex, indexCoord)) - 0.5) * elevationScale;\n}\nvec4 forwardExternalColor(out bool castShadows) {\nvec4 componentColor = _readComponentColor() * 255.0;\nfloat shadowFlag = mod(componentColor.b * 255.0, 2.0);\ncomponentColor.b -= shadowFlag;\ncastShadows = shadowFlag >= 1.0;\nint decodedColorMixMode;\nvExternalColor = decodeSymbolColor(componentColor, decodedColorMixMode) * 0.003921568627451;\nvExternalColorMixMode = float(decodedColorMixMode) + 0.5;\nreturn vExternalColor;\n}`),l.code.add(d`void readExternalColor(out vec4 externalColor, out int externalColorMixMode) {\nexternalColor = vExternalColor;\nexternalColorMixMode = int(vExternalColorMixMode);\n}`)}function v(o){const{vertex:e,fragment:r}=o;e.uniforms.add(new l(\"externalColor\",(o=>o.componentParameters.externalColor))),r.uniforms.add(new a(\"externalColorMixMode\",(o=>o.componentParameters.externalColorMixMode))),o.varyings.add(\"vExternalColor\",\"vec4\"),e.code.add(d`float readElevationOffset() {\nreturn 0.0;\n}\nvec4 forwardExternalColor(out bool castShadows) {\nvExternalColor = externalColor;\ncastShadows = true;\nreturn externalColor;\n}`),r.code.add(d`void readExternalColor(out vec4 color, out int colorMixMode) {\ncolor = vExternalColor;\ncolorMixMode = externalColorMixMode;\n}`)}export{C as ComponentData,m as ComponentDataType,x as MAX_ELEVATION_OFFSET,s as encodeElevationOffset};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}