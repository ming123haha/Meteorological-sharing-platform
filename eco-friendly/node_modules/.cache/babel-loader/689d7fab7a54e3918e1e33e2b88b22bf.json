{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Camera.js\";\nimport i from \"../../../Viewpoint.js\";\nimport r from \"../../../core/Accessor.js\";\nimport a from \"../../../core/Handles.js\";\nimport s from \"../../../core/Logger.js\";\nimport { isNone as o, isSome as n } from \"../../../core/maybe.js\";\nimport { watch as h, on as p, when as l } from \"../../../core/reactiveUtils.js\";\nimport { addFrameTask as c } from \"../../../core/scheduling.js\";\nimport { createScreenPoint as m } from \"../../../core/screenUtils.js\";\nimport { property as d } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as v } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { d as u } from \"../../../chunks/vec3.js\";\nimport { d as w } from \"../../../chunks/vec3f64.js\";\nimport { s as y } from \"../../../chunks/vec4.js\";\nimport { c as C } from \"../../../chunks/vec4f64.js\";\nimport f from \"../../../geometry/Extent.js\";\nimport g from \"../../../geometry/Point.js\";\nimport { canProject as _ } from \"../../../geometry/support/webMercatorUtils.js\";\nimport { ViewingMode as x } from \"../../ViewingMode.js\";\nimport { applyAll as R } from \"../camera/constraintUtils.js\";\nimport { cameraOnContentAlongViewDirection as P, surfaceElevationBelowRenderLocation as O } from \"../camera/intersectionUtils.js\";\nimport { ConstraintsManager as T } from \"./ConstraintsManager.js\";\nimport { Frustum as b } from \"./Frustum.js\";\nimport { GoToOperation as S } from \"./GoToOperation.js\";\nimport { SurfaceCollisionCorrectionController as j } from \"./controllers/SurfaceCollisionCorrectionController.js\";\nimport { internalToExternal as M, externalToInternal as I, toExtent as B, distanceToScale as U, scaleToZoom as k, fromExtent as z, OrientationMode as E, getObserverForPointAtDistance as V, scaleToDistance as A, zoomToScale as D } from \"../support/cameraUtils.js\";\nimport { PropertiesPool as H } from \"../support/PropertiesPool.js\";\nimport { fromCamera as N, toCamera as F } from \"../support/viewpointUtils.js\";\nimport { Camera as G, PaddingSide as L } from \"../webgl-engine/lib/Camera.js\";\nconst q = s.getLogger(\"esri.views.3d.state.ViewStateManager\");\nlet W = class extends r {\n  constructor(e) {\n    super(e), this.propertiesPool = new H({\n      frustum: b\n    }, this), this.handles = new a(), this.cameraSetByUser = !1, this.gotoOperation = null, this.ready = !1, this._windowDevicePixelRatio = 1, this._devicePixelRatioOverride = null, this._maximumPixelRatioOverride = null, this.test = {\n      contentCameraResetState: new Map(),\n      setDevicePixelRatio: e => this._devicePixelRatioOverride = e,\n      setMaximumPixelRatio: e => this._maximumPixelRatioOverride = e\n    };\n  }\n\n  get camera() {\n    const e = this._get(\"camera\");\n\n    if (!this.ready) return e;\n    const t = M(this.view, this.view.state.camera);\n    return t && e && t.equals(e) ? e : t;\n  }\n\n  set camera(e) {\n    this._updatePropertyBeforeReady(\"camera\", e) || (this.view.elevationProvider.enableElevationCache(!0), this.setStateCamera(I(this.view, e), {\n      applyConstraints: !1\n    }) || q.error(\"#camera=\", \"Invalid camera\", e), this.view.elevationProvider.enableElevationCache(!1));\n  }\n\n  get contentCamera() {\n    const e = this._get(\"contentCamera\");\n\n    if (!this.ready) return e;\n    const t = M(this.view, this.view.state.contentCamera);\n    return t && e && t.equals(e) ? e : t;\n  }\n\n  set contentCamera(e) {\n    if (this._updatePropertyBeforeReady(\"contentCamera\", e)) return;\n    const t = I(this.view, e);\n    o(t) ? this.view.state.contentCamera = null : (this._updateElevation(t), this.view.state.contentCamera = t);\n  }\n\n  installContentCameraReset(e) {\n    if (this.handles.remove(\"contentCameraReset\"), this.test.contentCameraResetState.clear(), !this.view.state.fixedContentCamera) return !1;\n    const t = this.zoom,\n          i = this.view.state.camera.distance ** 2,\n          r = w(this.view.state.camera.center),\n          a = e.sticky ? this.contentCamera.clone() : null;\n    return this.handles.add([h(() => this.contentCamera, () => {\n      e.sticky || (this.handles.remove(\"contentCameraReset\"), this.test.contentCameraResetState.clear());\n    }), h(() => this.zoom, e => {\n      this.test.contentCameraResetState.set(\"view.zoom\", Math.abs(e - t) / 2), Math.abs(e - t) > 2 ? this.contentCamera = null : this.view.state.fixedContentCamera || (this.contentCamera = a);\n    }), h(() => this.view.state.camera, e => {\n      const t = u(r, e.center);\n      this.test.contentCameraResetState.set(\"camera.center\", t / i), t > i ? this.contentCamera = null : this.view.state.fixedContentCamera || (this.contentCamera = a);\n    })], \"contentCameraReset\"), !0;\n  }\n\n  get center() {\n    return this.ready ? this.view.pointsOfInterest.centerOnContent.location : this._get(\"center\");\n  }\n\n  set center(e) {\n    this._updatePropertyBeforeReady(\"center\", e) || (e ? this.isCompatible(e) ? this.setStateCamera(this._centerToCamera(e), {\n      applyConstraints: !0\n    }) ? this.view.pointsOfInterest.centerOnContent.runTask() : q.error(\"#center=\", \"Invalid center\", e) : q.error(\"#center=\", \"Center has an incompatible spatial reference (center: \" + (e.spatialReference ? e.spatialReference.wkid : \"none\") + \", view: \" + this.view.spatialReference.wkid + \")\", e) : q.error(\"#center=\", \"Center may not be null or undefined\"));\n  }\n\n  get extent() {\n    if (!this.ready) return this._get(\"extent\");\n    const e = this.view,\n          t = B(e, e.state.camera, e.pointsOfInterest.centerOnContent.renderLocation);\n    return n(t) ? t : this._get(\"extent\");\n  }\n\n  set extent(e) {\n    this._updatePropertyBeforeReady(\"extent\", e) || (e ? this.isCompatible(e) ? this.setStateCamera(this._extentToCamera(e), {\n      applyConstraints: !0\n    }) || q.error(\"#extent=\", \"Invalid extent\", e) : q.error(\"#extent=\", \"Extent has an incompatible spatial reference (extent: \" + (e.spatialReference ? e.spatialReference.wkid : \"none\") + \", view: \" + this.view.spatialReference.wkid + \")\", e) : q.error(\"#extent=\", \"Extent may not be null or undefined\"));\n  }\n\n  get frustum() {\n    const e = this.propertiesPool.get(\"frustum\");\n    return e.renderCoordsHelper = this.view.renderCoordsHelper, e.update(this.view.state.camera), e;\n  }\n\n  get hasInitialView() {\n    return !!this.view.get(\"map.initialViewProperties.viewpoint\");\n  }\n\n  get scale() {\n    if (this.ready) {\n      const e = this.view.pointsOfInterest.centerOnContent;\n      return U(this.view, e.distance, e.location.latitude);\n    }\n\n    return this._get(\"scale\");\n  }\n\n  set scale(e) {\n    this._updatePropertyBeforeReady(\"scale\", e) || this.setStateCamera(this._scaleToCamera(e), {\n      applyConstraints: !0\n    }) || q.error(\"#scale=\", \"Invalid scale\", e);\n  }\n\n  get padding() {\n    if (!this.ready) return this._get(\"padding\");\n\n    const e = this.view.state.camera,\n          t = e.padding,\n          i = e.pixelRatio,\n          r = this._get(\"padding\"),\n          a = Math.round(t[L.TOP] / i),\n          s = Math.round(t[L.RIGHT] / i),\n          o = Math.round(t[L.BOTTOM] / i),\n          n = Math.round(t[L.LEFT] / i);\n\n    return null != r && r.top === a && r.right === s && r.bottom === o && r.left === n ? r : {\n      top: a,\n      right: s,\n      bottom: o,\n      left: n\n    };\n  }\n\n  set padding(e) {\n    this._updatePropertyBeforeReady(\"padding\", e) || (this._paddingToArray(e, this.view.state.camera.pixelRatio, $), this.view.state.updateCamera(e => e.padding = $));\n  }\n\n  _paddingToArray(e, t, i) {\n    e ? y(i, e.top || 0, e.right || 0, e.bottom || 0, e.left || 0) : y(i, 0, 0, 0, 0);\n\n    for (let r = 0; r < 4; r++) i[r] = Math.round(i[r] * t);\n  }\n\n  get screenCenter() {\n    const e = this.padding;\n    return m((this.view.width - (e.left + e.right)) / 2 + e.left, (this.view.height - (e.top + e.bottom)) / 2 + e.top);\n  }\n\n  get viewpoint() {\n    return this.ready ? N(this.view, this.camera) : this._get(\"viewpoint\");\n  }\n\n  set viewpoint(e) {\n    if (!this._updatePropertyBeforeReady(\"viewpoint\", e)) if (e) {\n      if (this.isCompatible(e)) this.setStateCamera(this._viewpointToCamera(e), {\n        applyConstraints: !e.camera\n      }) || q.error(\"#viewpoint=\", \"Invalid viewpoint\", e);else {\n        const t = n(e.camera) ? e.camera.position : e.targetGeometry,\n              i = n(t) && t.spatialReference;\n        q.error(\"#viewpoint=\", \"Viewpoint has an incompatible spatial reference (viewpoint: \" + (i ? i.wkid : \"none\") + \", view: \" + this.view.spatialReference.wkid + \")\", e);\n      }\n    } else q.error(\"#viewpoint=\", \"Viewpoint may not be null or undefined\");\n  }\n\n  get zoom() {\n    return this.ready ? k(this.view, this.scale) : this._get(\"zoom\");\n  }\n\n  set zoom(e) {\n    this._updatePropertyBeforeReady(\"zoom\", e) || this.setStateCamera(this._zoomToCamera(e), {\n      applyConstraints: !0\n    }) || q.error(\"#zoom=\", \"Invalid zoom\", e);\n  }\n\n  get maximumPixelRatio() {\n    if (n(this._maximumPixelRatioOverride)) return this._maximumPixelRatioOverride;\n    let e = 1 / 0;\n    const {\n      maximumPixelRatio: t,\n      maximumRenderResolution: i\n    } = this.view.qualitySettings;\n\n    if (null != t && (e = Math.min(e, t)), null != i) {\n      const t = i / Math.max(this.view.width, this.view.height);\n      e = Math.min(e, t);\n    }\n\n    return e;\n  }\n\n  get _devicePixelRatio() {\n    return o(this._devicePixelRatioOverride) ? Math.min(this._windowDevicePixelRatio, this.maximumPixelRatio) : this._devicePixelRatioOverride;\n  }\n\n  initialize() {\n    this.handles.add([p(() => this.view.state.events, \"before-camera-change\", e => this._updateElevation(e.camera))]), h(() => this.view.state.camera, e => this._updateElevation(e), {\n      once: !0,\n      sync: !0\n    }), this.handles.add(c({\n      prepare: () => this._prepareFrame()\n    })), this.handles.add(h(() => this.view.state.cameraController, () => {\n      this.cameraSetByUser = !0, this.handles.remove(ee);\n    })), this.handles.add(p(() => this.view.state.events, \"camera-projection-changed\", () => this.notifyChange(\"scale\")));\n  }\n\n  destroy() {\n    this.deinit(), this.handles && (this.handles.destroy(), this.handles = null), this.propertiesPool && (this.propertiesPool.destroy(), this.propertiesPool = null);\n  }\n\n  init() {\n    this.constraintsManager = new T({\n      view: this.view\n    }), this._prepareFrame();\n\n    const e = this._getInitialProperties();\n\n    this.cameraSetByUser = !1, this._set(\"ready\", !0);\n\n    for (const t of e) this.set(t.name, t.value);\n\n    if (!this.cameraSetByUser) {\n      const e = this.view.get(\"map.initialViewProperties.viewpoint\") || this.view.initialExtent;\n      e && this.isCompatible(e) ? this._setInitialView(e) : this.view.state.viewingMode === x.Local && this.handles.add(l(() => this.view.basemapTerrain.ready, () => {\n        this.handles.remove(ee), this._setInitialView(this.view.dataExtent);\n      }, {\n        once: !0,\n        initial: !0\n      }), ee);\n    }\n  }\n\n  deinit() {\n    this._cancelGoToOperation(), this.ready && (this._override(\"padding\", this.padding), this._set(\"ready\", !1), this._clearOverride(\"hasInitialView\"), this.cameraSetByUser = !1, this.handles.remove(ee), this.constraintsManager && (this.constraintsManager.destroy(), this.constraintsManager = null));\n  }\n\n  async goTo(e, t) {\n    const i = {\n      animate: !0,\n      ...t\n    };\n    return n(this.gotoOperation) && this.gotoOperation.abort(i.animate), this.gotoOperation = new S(e, i, this.view), this.view.resourceController.scheduler.stopFrame(), this.gotoOperation;\n  }\n\n  debugSetCameraOnContent() {\n    this.setStateCamera(P(this.view), {\n      applyConstraints: !1\n    });\n  }\n\n  step(e) {\n    const t = this.view.state,\n          i = t && this.view.state.cameraController;\n    i && (t.updateCamera(t => {\n      i.stepController(e, t);\n    }), i.steppingFinished && i.finishController());\n  }\n\n  _cancelGoToOperation() {\n    n(this.gotoOperation) && (this.gotoOperation.abort(), this.gotoOperation = null);\n  }\n\n  _getInitialProperties() {\n    const e = new Set(),\n          t = [];\n\n    for (const {\n      propertyName: i,\n      overrides: r\n    } of Q) {\n      const a = e.has(i),\n            s = this._isOverridden(i);\n\n      !a && s && t.push({\n        name: i,\n        value: this._get(i)\n      }), this._clearOverride(i), (a || s) && r.forEach(t => e.add(t));\n    }\n\n    return t;\n  }\n\n  _setInitialView(e) {\n    if (o(e) || this.cameraSetByUser) return;\n    if (e instanceof t) return void this.setStateCamera(I(this.view, e), {\n      applyConstraints: !1\n    });\n\n    if (e instanceof i) {\n      if (e.targetGeometry instanceof f) {\n        const t = z(this.view, e.targetGeometry, 0, .5, E.LOCKED);\n        return void (n(t) && this.setStateCamera(I(this.view, t), {\n          applyConstraints: !0\n        }));\n      }\n\n      const t = {\n        applyConstraints: !e.camera\n      },\n            i = this._viewpointToCamera(e);\n\n      return void this.setStateCamera(i, t);\n    }\n\n    const r = z(this.view, e, 0, .5, E.LOCKED);\n    n(r) && this.setStateCamera(I(this.view, r), {\n      applyConstraints: !0\n    });\n  }\n\n  _updatePropertyBeforeReady(e, t) {\n    return !this.ready && (this._override(e, t), t && K.includes(e) && this._override(\"hasInitialView\", !0), !0);\n  }\n\n  isCompatible(e) {\n    return !o(e) && (e instanceof i ? e.camera ? this.isCompatible(e.camera) : this.isCompatible(e.targetGeometry) : e instanceof t ? this.isCompatible(e.position) : e.spatialReference && _(e.spatialReference, this.view.spatialReference));\n  }\n\n  _getPreservingHeadingTilt(e = X) {\n    return this.cameraSetByUser ? (e.heading = this.camera.heading, e.tilt = this.camera.tilt) : (e.heading = 0, e.tilt = .5), e;\n  }\n\n  _centerPointAtDistanceToCamera(e, t, i = Z) {\n    const {\n      heading: r,\n      tilt: a\n    } = this._getPreservingHeadingTilt(),\n          s = V(this.view, r, a, e, t, E.ADJUST);\n\n    return o(s) ? null : (i.copyFrom(this.view.state.camera), i.eye = s.eye, i.center = s.center, i.up = s.up, i);\n  }\n\n  _centerToCamera(e) {\n    const t = this.view.pointsOfInterest.centerOnContent;\n    t.runTask();\n    const i = t.distance;\n    return this._centerPointAtDistanceToCamera(e, i);\n  }\n\n  _extentToCamera(e) {\n    const {\n      heading: t,\n      tilt: i\n    } = this._getPreservingHeadingTilt(),\n          r = z(this.view, e, t, i, E.ADJUST, Y);\n\n    return n(r) ? I(this.view, r) : null;\n  }\n\n  _scaleToCamera(e) {\n    if (null == e) return null;\n    const t = this.view.pointsOfInterest.centerOnContent;\n    t.runTask();\n    const i = t.renderLocation,\n          r = t.location.latitude,\n          a = A(this.view, e, r);\n    return this._centerPointAtDistanceToCamera(i, a);\n  }\n\n  _zoomToCamera(e) {\n    return this._scaleToCamera(D(this.view, e));\n  }\n\n  _viewpointToCamera(e) {\n    return I(this.view, F(this.view, e));\n  }\n\n  setStateCamera(e, t) {\n    return !(o(e) || !this.view.state.stopActiveCameraController()) && (this.cameraSetByUser = !0, t.doNotCancelGoToOperation || this._cancelGoToOperation(), this.view.state.updateCamera(i => {\n      t.positionAndOrientationOnly ? (i.eye = e.eye, i.center = e.center, i.up = e.up) : i.copyFrom(e), t.applyConstraints && R(this.view, i);\n    }), t.applyConstraints || (this.view.state.cameraController = new j({\n      view: this.view,\n      desiredCamera: e\n    })), !0);\n  }\n\n  _prepareFrame() {\n    const {\n      surface: e,\n      canvas: t\n    } = this.view;\n    if (!e || !t) return;\n    this._windowDevicePixelRatio = window.devicePixelRatio;\n    const i = this._devicePixelRatio,\n          r = Math.round(e.clientWidth * i),\n          a = Math.round(e.clientHeight * i);\n\n    if (0 !== r && 0 !== a && (t.width === r && t.height === a || (t.width = r, t.height = a), this.view.state)) {\n      const e = this.view.state.camera;\n      e.fullWidth === r && e.fullHeight === a && e.pixelRatio === i || (Z.copyFrom(e), Z.pixelRatio !== i && (this._paddingToArray(this.padding, i, $), Z.padding = $), Z.fullWidth = r, Z.fullHeight = a, Z.pixelRatio = i, this.view.state.camera = Z);\n    }\n  }\n\n  _updateElevation(e) {\n    const t = this.view.basemapTerrain && this.view.basemapTerrain.spatialReference,\n          i = this.view.renderCoordsHelper.getAltitude(e.eye),\n          r = t ? O(this.view, e.eye) : 0;\n    e.relativeElevation = i - r;\n  }\n\n};\ne([d({\n  type: t,\n  dependsOn: [\"view.state.camera\", \"ready\"]\n})], W.prototype, \"camera\", null), e([d({\n  type: t,\n  dependsOn: [\"view.state.contentCamera\", \"ready\"]\n})], W.prototype, \"contentCamera\", null), e([d({\n  type: g\n})], W.prototype, \"center\", null), e([d({\n  type: f\n})], W.prototype, \"extent\", null), e([d({\n  readOnly: !0\n})], W.prototype, \"frustum\", null), e([d({\n  readOnly: !0\n})], W.prototype, \"hasInitialView\", null), e([d({\n  readOnly: !0,\n  type: Boolean\n})], W.prototype, \"ready\", void 0), e([d({\n  type: Number\n})], W.prototype, \"scale\", null), e([d()], W.prototype, \"padding\", null), e([d({\n  readOnly: !0\n})], W.prototype, \"screenCenter\", null), e([d({\n  constructOnly: !0\n})], W.prototype, \"view\", void 0), e([d({\n  type: i\n})], W.prototype, \"viewpoint\", null), e([d({\n  type: Number\n})], W.prototype, \"zoom\", null), e([d()], W.prototype, \"maximumPixelRatio\", null), e([d()], W.prototype, \"_devicePixelRatio\", null), e([d()], W.prototype, \"_windowDevicePixelRatio\", void 0), e([d()], W.prototype, \"_devicePixelRatioOverride\", void 0), e([d()], W.prototype, \"_maximumPixelRatioOverride\", void 0), W = e([v(\"esri.views.3d.state.ViewStateManager\")], W);\nconst J = W,\n      K = [\"camera\", \"viewpoint\", \"extent\", \"scale\", \"center\", \"zoom\"],\n      Q = [{\n  propertyName: \"camera\",\n  overrides: [\"viewpoint\"]\n}, {\n  propertyName: \"viewpoint\",\n  overrides: [\"extent\"]\n}, {\n  propertyName: \"extent\",\n  overrides: [\"center\", \"scale\"]\n}, {\n  propertyName: \"center\",\n  overrides: []\n}, {\n  propertyName: \"scale\",\n  overrides: [\"zoom\"]\n}, {\n  propertyName: \"zoom\",\n  overrides: []\n}, {\n  propertyName: \"padding\",\n  overrides: []\n}],\n      X = {\n  heading: 0,\n  tilt: 0\n},\n      Y = new t(),\n      Z = new G(),\n      $ = C(),\n      ee = \"pending-initial-view\";\nexport { J as default };","map":{"version":3,"names":["_","e","t","i","r","a","s","isNone","o","isSome","n","watch","h","on","p","when","l","addFrameTask","c","createScreenPoint","m","property","d","subclass","v","u","w","y","C","f","g","canProject","ViewingMode","x","applyAll","R","cameraOnContentAlongViewDirection","P","surfaceElevationBelowRenderLocation","O","ConstraintsManager","T","Frustum","b","GoToOperation","S","SurfaceCollisionCorrectionController","j","internalToExternal","M","externalToInternal","I","toExtent","B","distanceToScale","U","scaleToZoom","k","fromExtent","z","OrientationMode","E","getObserverForPointAtDistance","V","scaleToDistance","A","zoomToScale","D","PropertiesPool","H","fromCamera","N","toCamera","F","Camera","G","PaddingSide","L","q","getLogger","W","constructor","propertiesPool","frustum","handles","cameraSetByUser","gotoOperation","ready","_windowDevicePixelRatio","_devicePixelRatioOverride","_maximumPixelRatioOverride","test","contentCameraResetState","Map","setDevicePixelRatio","setMaximumPixelRatio","camera","_get","view","state","equals","_updatePropertyBeforeReady","elevationProvider","enableElevationCache","setStateCamera","applyConstraints","error","contentCamera","_updateElevation","installContentCameraReset","remove","clear","fixedContentCamera","zoom","distance","center","sticky","clone","add","set","Math","abs","pointsOfInterest","centerOnContent","location","isCompatible","_centerToCamera","runTask","spatialReference","wkid","extent","renderLocation","_extentToCamera","get","renderCoordsHelper","update","hasInitialView","scale","latitude","_scaleToCamera","padding","pixelRatio","round","TOP","RIGHT","BOTTOM","LEFT","top","right","bottom","left","_paddingToArray","$","updateCamera","screenCenter","width","height","viewpoint","_viewpointToCamera","position","targetGeometry","_zoomToCamera","maximumPixelRatio","maximumRenderResolution","qualitySettings","min","max","_devicePixelRatio","initialize","events","once","sync","prepare","_prepareFrame","cameraController","ee","notifyChange","destroy","deinit","init","constraintsManager","_getInitialProperties","_set","name","value","initialExtent","_setInitialView","viewingMode","Local","basemapTerrain","dataExtent","initial","_cancelGoToOperation","_override","_clearOverride","goTo","animate","abort","resourceController","scheduler","stopFrame","debugSetCameraOnContent","step","stepController","steppingFinished","finishController","Set","propertyName","overrides","Q","has","_isOverridden","push","forEach","LOCKED","K","includes","_getPreservingHeadingTilt","X","heading","tilt","_centerPointAtDistanceToCamera","Z","ADJUST","copyFrom","eye","up","Y","stopActiveCameraController","doNotCancelGoToOperation","positionAndOrientationOnly","desiredCamera","surface","canvas","window","devicePixelRatio","clientWidth","clientHeight","fullWidth","fullHeight","getAltitude","relativeElevation","type","dependsOn","prototype","readOnly","Boolean","Number","constructOnly","J","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/state/ViewStateManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import r from\"../../../core/Accessor.js\";import a from\"../../../core/Handles.js\";import s from\"../../../core/Logger.js\";import{isNone as o,isSome as n}from\"../../../core/maybe.js\";import{watch as h,on as p,when as l}from\"../../../core/reactiveUtils.js\";import{addFrameTask as c}from\"../../../core/scheduling.js\";import{createScreenPoint as m}from\"../../../core/screenUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as u}from\"../../../chunks/vec3.js\";import{d as w}from\"../../../chunks/vec3f64.js\";import{s as y}from\"../../../chunks/vec4.js\";import{c as C}from\"../../../chunks/vec4f64.js\";import f from\"../../../geometry/Extent.js\";import g from\"../../../geometry/Point.js\";import{canProject as _}from\"../../../geometry/support/webMercatorUtils.js\";import{ViewingMode as x}from\"../../ViewingMode.js\";import{applyAll as R}from\"../camera/constraintUtils.js\";import{cameraOnContentAlongViewDirection as P,surfaceElevationBelowRenderLocation as O}from\"../camera/intersectionUtils.js\";import{ConstraintsManager as T}from\"./ConstraintsManager.js\";import{Frustum as b}from\"./Frustum.js\";import{GoToOperation as S}from\"./GoToOperation.js\";import{SurfaceCollisionCorrectionController as j}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{internalToExternal as M,externalToInternal as I,toExtent as B,distanceToScale as U,scaleToZoom as k,fromExtent as z,OrientationMode as E,getObserverForPointAtDistance as V,scaleToDistance as A,zoomToScale as D}from\"../support/cameraUtils.js\";import{PropertiesPool as H}from\"../support/PropertiesPool.js\";import{fromCamera as N,toCamera as F}from\"../support/viewpointUtils.js\";import{Camera as G,PaddingSide as L}from\"../webgl-engine/lib/Camera.js\";const q=s.getLogger(\"esri.views.3d.state.ViewStateManager\");let W=class extends r{constructor(e){super(e),this.propertiesPool=new H({frustum:b},this),this.handles=new a,this.cameraSetByUser=!1,this.gotoOperation=null,this.ready=!1,this._windowDevicePixelRatio=1,this._devicePixelRatioOverride=null,this._maximumPixelRatioOverride=null,this.test={contentCameraResetState:new Map,setDevicePixelRatio:e=>this._devicePixelRatioOverride=e,setMaximumPixelRatio:e=>this._maximumPixelRatioOverride=e}}get camera(){const e=this._get(\"camera\");if(!this.ready)return e;const t=M(this.view,this.view.state.camera);return t&&e&&t.equals(e)?e:t}set camera(e){this._updatePropertyBeforeReady(\"camera\",e)||(this.view.elevationProvider.enableElevationCache(!0),this.setStateCamera(I(this.view,e),{applyConstraints:!1})||q.error(\"#camera=\",\"Invalid camera\",e),this.view.elevationProvider.enableElevationCache(!1))}get contentCamera(){const e=this._get(\"contentCamera\");if(!this.ready)return e;const t=M(this.view,this.view.state.contentCamera);return t&&e&&t.equals(e)?e:t}set contentCamera(e){if(this._updatePropertyBeforeReady(\"contentCamera\",e))return;const t=I(this.view,e);o(t)?this.view.state.contentCamera=null:(this._updateElevation(t),this.view.state.contentCamera=t)}installContentCameraReset(e){if(this.handles.remove(\"contentCameraReset\"),this.test.contentCameraResetState.clear(),!this.view.state.fixedContentCamera)return!1;const t=this.zoom,i=this.view.state.camera.distance**2,r=w(this.view.state.camera.center),a=e.sticky?this.contentCamera.clone():null;return this.handles.add([h((()=>this.contentCamera),(()=>{e.sticky||(this.handles.remove(\"contentCameraReset\"),this.test.contentCameraResetState.clear())})),h((()=>this.zoom),(e=>{this.test.contentCameraResetState.set(\"view.zoom\",Math.abs(e-t)/2),Math.abs(e-t)>2?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a)})),h((()=>this.view.state.camera),(e=>{const t=u(r,e.center);this.test.contentCameraResetState.set(\"camera.center\",t/i),t>i?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a)}))],\"contentCameraReset\"),!0}get center(){return this.ready?this.view.pointsOfInterest.centerOnContent.location:this._get(\"center\")}set center(e){this._updatePropertyBeforeReady(\"center\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._centerToCamera(e),{applyConstraints:!0})?this.view.pointsOfInterest.centerOnContent.runTask():q.error(\"#center=\",\"Invalid center\",e):q.error(\"#center=\",\"Center has an incompatible spatial reference (center: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e):q.error(\"#center=\",\"Center may not be null or undefined\"))}get extent(){if(!this.ready)return this._get(\"extent\");const e=this.view,t=B(e,e.state.camera,e.pointsOfInterest.centerOnContent.renderLocation);return n(t)?t:this._get(\"extent\")}set extent(e){this._updatePropertyBeforeReady(\"extent\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._extentToCamera(e),{applyConstraints:!0})||q.error(\"#extent=\",\"Invalid extent\",e):q.error(\"#extent=\",\"Extent has an incompatible spatial reference (extent: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e):q.error(\"#extent=\",\"Extent may not be null or undefined\"))}get frustum(){const e=this.propertiesPool.get(\"frustum\");return e.renderCoordsHelper=this.view.renderCoordsHelper,e.update(this.view.state.camera),e}get hasInitialView(){return!!this.view.get(\"map.initialViewProperties.viewpoint\")}get scale(){if(this.ready){const e=this.view.pointsOfInterest.centerOnContent;return U(this.view,e.distance,e.location.latitude)}return this._get(\"scale\")}set scale(e){this._updatePropertyBeforeReady(\"scale\",e)||this.setStateCamera(this._scaleToCamera(e),{applyConstraints:!0})||q.error(\"#scale=\",\"Invalid scale\",e)}get padding(){if(!this.ready)return this._get(\"padding\");const e=this.view.state.camera,t=e.padding,i=e.pixelRatio,r=this._get(\"padding\"),a=Math.round(t[L.TOP]/i),s=Math.round(t[L.RIGHT]/i),o=Math.round(t[L.BOTTOM]/i),n=Math.round(t[L.LEFT]/i);return null!=r&&r.top===a&&r.right===s&&r.bottom===o&&r.left===n?r:{top:a,right:s,bottom:o,left:n}}set padding(e){this._updatePropertyBeforeReady(\"padding\",e)||(this._paddingToArray(e,this.view.state.camera.pixelRatio,$),this.view.state.updateCamera((e=>e.padding=$)))}_paddingToArray(e,t,i){e?y(i,e.top||0,e.right||0,e.bottom||0,e.left||0):y(i,0,0,0,0);for(let r=0;r<4;r++)i[r]=Math.round(i[r]*t)}get screenCenter(){const e=this.padding;return m((this.view.width-(e.left+e.right))/2+e.left,(this.view.height-(e.top+e.bottom))/2+e.top)}get viewpoint(){return this.ready?N(this.view,this.camera):this._get(\"viewpoint\")}set viewpoint(e){if(!this._updatePropertyBeforeReady(\"viewpoint\",e))if(e)if(this.isCompatible(e))this.setStateCamera(this._viewpointToCamera(e),{applyConstraints:!e.camera})||q.error(\"#viewpoint=\",\"Invalid viewpoint\",e);else{const t=n(e.camera)?e.camera.position:e.targetGeometry,i=n(t)&&t.spatialReference;q.error(\"#viewpoint=\",\"Viewpoint has an incompatible spatial reference (viewpoint: \"+(i?i.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e)}else q.error(\"#viewpoint=\",\"Viewpoint may not be null or undefined\")}get zoom(){return this.ready?k(this.view,this.scale):this._get(\"zoom\")}set zoom(e){this._updatePropertyBeforeReady(\"zoom\",e)||this.setStateCamera(this._zoomToCamera(e),{applyConstraints:!0})||q.error(\"#zoom=\",\"Invalid zoom\",e)}get maximumPixelRatio(){if(n(this._maximumPixelRatioOverride))return this._maximumPixelRatioOverride;let e=1/0;const{maximumPixelRatio:t,maximumRenderResolution:i}=this.view.qualitySettings;if(null!=t&&(e=Math.min(e,t)),null!=i){const t=i/Math.max(this.view.width,this.view.height);e=Math.min(e,t)}return e}get _devicePixelRatio(){return o(this._devicePixelRatioOverride)?Math.min(this._windowDevicePixelRatio,this.maximumPixelRatio):this._devicePixelRatioOverride}initialize(){this.handles.add([p((()=>this.view.state.events),\"before-camera-change\",(e=>this._updateElevation(e.camera)))]),h((()=>this.view.state.camera),(e=>this._updateElevation(e)),{once:!0,sync:!0}),this.handles.add(c({prepare:()=>this._prepareFrame()})),this.handles.add(h((()=>this.view.state.cameraController),(()=>{this.cameraSetByUser=!0,this.handles.remove(ee)}))),this.handles.add(p((()=>this.view.state.events),\"camera-projection-changed\",(()=>this.notifyChange(\"scale\"))))}destroy(){this.deinit(),this.handles&&(this.handles.destroy(),this.handles=null),this.propertiesPool&&(this.propertiesPool.destroy(),this.propertiesPool=null)}init(){this.constraintsManager=new T({view:this.view}),this._prepareFrame();const e=this._getInitialProperties();this.cameraSetByUser=!1,this._set(\"ready\",!0);for(const t of e)this.set(t.name,t.value);if(!this.cameraSetByUser){const e=this.view.get(\"map.initialViewProperties.viewpoint\")||this.view.initialExtent;e&&this.isCompatible(e)?this._setInitialView(e):this.view.state.viewingMode===x.Local&&this.handles.add(l((()=>this.view.basemapTerrain.ready),(()=>{this.handles.remove(ee),this._setInitialView(this.view.dataExtent)}),{once:!0,initial:!0}),ee)}}deinit(){this._cancelGoToOperation(),this.ready&&(this._override(\"padding\",this.padding),this._set(\"ready\",!1),this._clearOverride(\"hasInitialView\"),this.cameraSetByUser=!1,this.handles.remove(ee),this.constraintsManager&&(this.constraintsManager.destroy(),this.constraintsManager=null))}async goTo(e,t){const i={animate:!0,...t};return n(this.gotoOperation)&&this.gotoOperation.abort(i.animate),this.gotoOperation=new S(e,i,this.view),this.view.resourceController.scheduler.stopFrame(),this.gotoOperation}debugSetCameraOnContent(){this.setStateCamera(P(this.view),{applyConstraints:!1})}step(e){const t=this.view.state,i=t&&this.view.state.cameraController;i&&(t.updateCamera((t=>{i.stepController(e,t)})),i.steppingFinished&&i.finishController())}_cancelGoToOperation(){n(this.gotoOperation)&&(this.gotoOperation.abort(),this.gotoOperation=null)}_getInitialProperties(){const e=new Set,t=[];for(const{propertyName:i,overrides:r}of Q){const a=e.has(i),s=this._isOverridden(i);!a&&s&&t.push({name:i,value:this._get(i)}),this._clearOverride(i),(a||s)&&r.forEach((t=>e.add(t)))}return t}_setInitialView(e){if(o(e)||this.cameraSetByUser)return;if(e instanceof t)return void this.setStateCamera(I(this.view,e),{applyConstraints:!1});if(e instanceof i){if(e.targetGeometry instanceof f){const t=z(this.view,e.targetGeometry,0,.5,E.LOCKED);return void(n(t)&&this.setStateCamera(I(this.view,t),{applyConstraints:!0}))}const t={applyConstraints:!e.camera},i=this._viewpointToCamera(e);return void this.setStateCamera(i,t)}const r=z(this.view,e,0,.5,E.LOCKED);n(r)&&this.setStateCamera(I(this.view,r),{applyConstraints:!0})}_updatePropertyBeforeReady(e,t){return!this.ready&&(this._override(e,t),t&&K.includes(e)&&this._override(\"hasInitialView\",!0),!0)}isCompatible(e){return!o(e)&&(e instanceof i?e.camera?this.isCompatible(e.camera):this.isCompatible(e.targetGeometry):e instanceof t?this.isCompatible(e.position):e.spatialReference&&_(e.spatialReference,this.view.spatialReference))}_getPreservingHeadingTilt(e=X){return this.cameraSetByUser?(e.heading=this.camera.heading,e.tilt=this.camera.tilt):(e.heading=0,e.tilt=.5),e}_centerPointAtDistanceToCamera(e,t,i=Z){const{heading:r,tilt:a}=this._getPreservingHeadingTilt(),s=V(this.view,r,a,e,t,E.ADJUST);return o(s)?null:(i.copyFrom(this.view.state.camera),i.eye=s.eye,i.center=s.center,i.up=s.up,i)}_centerToCamera(e){const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.distance;return this._centerPointAtDistanceToCamera(e,i)}_extentToCamera(e){const{heading:t,tilt:i}=this._getPreservingHeadingTilt(),r=z(this.view,e,t,i,E.ADJUST,Y);return n(r)?I(this.view,r):null}_scaleToCamera(e){if(null==e)return null;const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.renderLocation,r=t.location.latitude,a=A(this.view,e,r);return this._centerPointAtDistanceToCamera(i,a)}_zoomToCamera(e){return this._scaleToCamera(D(this.view,e))}_viewpointToCamera(e){return I(this.view,F(this.view,e))}setStateCamera(e,t){return!(o(e)||!this.view.state.stopActiveCameraController())&&(this.cameraSetByUser=!0,t.doNotCancelGoToOperation||this._cancelGoToOperation(),this.view.state.updateCamera((i=>{t.positionAndOrientationOnly?(i.eye=e.eye,i.center=e.center,i.up=e.up):i.copyFrom(e),t.applyConstraints&&R(this.view,i)})),t.applyConstraints||(this.view.state.cameraController=new j({view:this.view,desiredCamera:e})),!0)}_prepareFrame(){const{surface:e,canvas:t}=this.view;if(!e||!t)return;this._windowDevicePixelRatio=window.devicePixelRatio;const i=this._devicePixelRatio,r=Math.round(e.clientWidth*i),a=Math.round(e.clientHeight*i);if(0!==r&&0!==a&&(t.width===r&&t.height===a||(t.width=r,t.height=a),this.view.state)){const e=this.view.state.camera;e.fullWidth===r&&e.fullHeight===a&&e.pixelRatio===i||(Z.copyFrom(e),Z.pixelRatio!==i&&(this._paddingToArray(this.padding,i,$),Z.padding=$),Z.fullWidth=r,Z.fullHeight=a,Z.pixelRatio=i,this.view.state.camera=Z)}}_updateElevation(e){const t=this.view.basemapTerrain&&this.view.basemapTerrain.spatialReference,i=this.view.renderCoordsHelper.getAltitude(e.eye),r=t?O(this.view,e.eye):0;e.relativeElevation=i-r}};e([d({type:t,dependsOn:[\"view.state.camera\",\"ready\"]})],W.prototype,\"camera\",null),e([d({type:t,dependsOn:[\"view.state.contentCamera\",\"ready\"]})],W.prototype,\"contentCamera\",null),e([d({type:g})],W.prototype,\"center\",null),e([d({type:f})],W.prototype,\"extent\",null),e([d({readOnly:!0})],W.prototype,\"frustum\",null),e([d({readOnly:!0})],W.prototype,\"hasInitialView\",null),e([d({readOnly:!0,type:Boolean})],W.prototype,\"ready\",void 0),e([d({type:Number})],W.prototype,\"scale\",null),e([d()],W.prototype,\"padding\",null),e([d({readOnly:!0})],W.prototype,\"screenCenter\",null),e([d({constructOnly:!0})],W.prototype,\"view\",void 0),e([d({type:i})],W.prototype,\"viewpoint\",null),e([d({type:Number})],W.prototype,\"zoom\",null),e([d()],W.prototype,\"maximumPixelRatio\",null),e([d()],W.prototype,\"_devicePixelRatio\",null),e([d()],W.prototype,\"_windowDevicePixelRatio\",void 0),e([d()],W.prototype,\"_devicePixelRatioOverride\",void 0),e([d()],W.prototype,\"_maximumPixelRatioOverride\",void 0),W=e([v(\"esri.views.3d.state.ViewStateManager\")],W);const J=W,K=[\"camera\",\"viewpoint\",\"extent\",\"scale\",\"center\",\"zoom\"],Q=[{propertyName:\"camera\",overrides:[\"viewpoint\"]},{propertyName:\"viewpoint\",overrides:[\"extent\"]},{propertyName:\"extent\",overrides:[\"center\",\"scale\"]},{propertyName:\"center\",overrides:[]},{propertyName:\"scale\",overrides:[\"zoom\"]},{propertyName:\"zoom\",overrides:[]},{propertyName:\"padding\",overrides:[]}],X={heading:0,tilt:0},Y=new t,Z=new G,$=C(),ee=\"pending-initial-view\";export{J as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}