{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../../../core/Error.js\";\nimport { SPRITE_PADDING as e } from \"./definitions.js\";\nimport { log2 as i } from \"./GeometryUtils.js\";\nimport s from \"./Rect.js\";\nimport a from \"./RectangleBinPack.js\";\nimport { PixelFormat as r, PixelType as o, TextureSamplingMode as h, TextureWrapMode as c } from \"../../../webgl/enums.js\";\nimport { Texture as n } from \"../../../webgl/Texture.js\";\n\nfunction g(t) {\n  return t && \"static\" === t.type;\n}\n\nclass p {\n  constructor(t, e, i = 0) {\n    this._mosaicPages = [], this._maxItemSize = 0, this._currentPage = 0, this._pageWidth = 0, this._pageHeight = 0, this._mosaicRects = new Map(), this._spriteCopyQueue = [], this.pixelRatio = 1, (t <= 0 || e <= 0) && console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"), this._pageWidth = t, this._pageHeight = e, i > 0 && (this._maxItemSize = i), this.pixelRatio = window.devicePixelRatio || 1, this._binPack = new a(this._pageWidth, this._pageHeight);\n    const s = Math.floor(this._pageWidth),\n          r = Math.floor(this._pageHeight);\n\n    this._mosaicPages.push({\n      mosaicsData: {\n        type: \"static\",\n        data: new Uint32Array(s * r)\n      },\n      size: [this._pageWidth, this._pageHeight],\n      dirty: !0,\n      texture: void 0\n    });\n  }\n\n  getWidth(t) {\n    return t >= this._mosaicPages.length ? -1 : this._mosaicPages[t].size[0];\n  }\n\n  getHeight(t) {\n    return t >= this._mosaicPages.length ? -1 : this._mosaicPages[t].size[1];\n  }\n\n  getPageTexture(t) {\n    return t < this._mosaicPages.length ? this._mosaicPages[t].texture : null;\n  }\n\n  has(t) {\n    return this._mosaicRects.has(t);\n  }\n\n  get itemCount() {\n    return this._mosaicRects.size;\n  }\n\n  getSpriteItem(t) {\n    return this._mosaicRects.get(t);\n  }\n\n  addSpriteItem(t, i, a, r, o, h, c = 1) {\n    if (this._mosaicRects.has(t)) return this._mosaicRects.get(t);\n    let n, p, m;\n    if (g(a)) [n, p, m] = this._allocateImage(i[0], i[1]);else {\n      n = new s(0, 0, i[0], i[1]), p = this._mosaicPages.length;\n      const t = void 0;\n\n      this._mosaicPages.push({\n        mosaicsData: a,\n        size: [i[0] + 2 * e, i[1] + 2 * e],\n        dirty: !0,\n        texture: t\n      });\n    }\n    if (n.width <= 0 || n.height <= 0) return null;\n    const _ = {\n      rect: n,\n      width: i[0],\n      height: i[1],\n      sdf: o,\n      simplePattern: h,\n      pixelRatio: c,\n      page: p\n    };\n    return this._mosaicRects.set(t, _), g(a) && this._copy({\n      rect: n,\n      spriteSize: i,\n      spriteData: a.data,\n      page: p,\n      pageSize: m,\n      repeat: r,\n      sdf: o\n    }), _;\n  }\n\n  hasItemsToProcess() {\n    return 0 !== this._spriteCopyQueue.length;\n  }\n\n  processNextItem() {\n    const t = this._spriteCopyQueue.pop();\n\n    t && this._copy(t);\n  }\n\n  getSpriteItems(t) {\n    const e = {};\n\n    for (const i of t) e[i] = this.getSpriteItem(i);\n\n    return e;\n  }\n\n  getMosaicItemPosition(t) {\n    const i = this.getSpriteItem(t),\n          s = i && i.rect;\n    if (!s) return null;\n    s.width = i.width, s.height = i.height;\n    const a = i.width,\n          r = i.height,\n          o = e,\n          h = this._mosaicPages[i.page];\n    return {\n      size: [i.width, i.height],\n      tl: [(s.x + o) / h[0], (s.y + o) / h[1]],\n      br: [(s.x + o + a) / h[0], (s.y + o + r) / h[1]],\n      page: i.page\n    };\n  }\n\n  bind(t, e, i = 0, s = 0) {\n    const a = this._mosaicPages[i],\n          r = a.mosaicsData;\n    let o = a.texture;\n    if (o || (o = m(t, r, a.size), a.texture = o), o.setSamplingMode(e), g(r)) t.bindTexture(o, s), a.dirty && (o.setData(new Uint8Array(r.data.buffer)), o.generateMipmap());else {\n      r.data.bindFrame(t, o, s);\n    }\n    a.dirty = !1;\n  }\n\n  static _copyBits(t, e, i, s, a, r, o, h, c, n, g) {\n    let p = s * e + i,\n        m = h * r + o;\n\n    if (g) {\n      m -= r;\n\n      for (let o = -1; o <= n; o++, p = ((o + n) % n + s) * e + i, m += r) for (let e = -1; e <= c; e++) a[m + e] = t[p + (e + c) % c];\n    } else for (let _ = 0; _ < n; _++) {\n      for (let e = 0; e < c; e++) a[m + e] = t[p + e];\n\n      p += e, m += r;\n    }\n  }\n\n  _copy(i) {\n    if (i.page >= this._mosaicPages.length) return;\n    const s = this._mosaicPages[i.page],\n          a = s.mosaicsData;\n    if (!g(s.mosaicsData)) throw new t(\"mapview-invalid-resource\", \"unsuitable data type!\");\n    const r = i.spriteData,\n          o = a.data;\n    o && r || console.error(\"Source or target images are uninitialized!\"), p._copyBits(r, i.spriteSize[0], 0, 0, o, i.pageSize[0], i.rect.x + e, i.rect.y + e, i.spriteSize[0], i.spriteSize[1], i.repeat), s.dirty = !0;\n  }\n\n  _allocateImage(t, r) {\n    t += 2 * e, r += 2 * e;\n    const o = Math.max(t, r);\n\n    if (this._maxItemSize && this._maxItemSize < o) {\n      const e = 2 ** Math.ceil(i(t)),\n            a = 2 ** Math.ceil(i(r)),\n            o = new s(0, 0, t, r);\n      return this._mosaicPages.push({\n        mosaicsData: {\n          type: \"static\",\n          data: new Uint32Array(e * a)\n        },\n        size: [e, a],\n        dirty: !0,\n        texture: void 0\n      }), [o, this._mosaicPages.length - 1, [e, a]];\n    }\n\n    const h = this._binPack.allocate(t, r);\n\n    if (h.width <= 0) {\n      const e = this._mosaicPages[this._currentPage];\n      return !e.dirty && g(e.mosaicsData) && (e.mosaicsData.data = null), this._currentPage = this._mosaicPages.length, this._mosaicPages.push({\n        mosaicsData: {\n          type: \"static\",\n          data: new Uint32Array(this._pageWidth * this._pageHeight)\n        },\n        size: [this._pageWidth, this._pageHeight],\n        dirty: !0,\n        texture: void 0\n      }), this._binPack = new a(this._pageWidth, this._pageHeight), this._allocateImage(t, r);\n    }\n\n    return [h, this._currentPage, [this._pageWidth, this._pageHeight]];\n  }\n\n  dispose() {\n    this._binPack = null;\n\n    for (const t of this._mosaicPages) {\n      const e = t.texture;\n      e && e.dispose();\n      const i = t.mosaicsData;\n\n      if (!g(i)) {\n        i.data.destroy();\n      }\n    }\n\n    this._mosaicPages = null, this._mosaicRects.clear();\n  }\n\n}\n\nfunction m(t, e, i) {\n  return g(e) ? new n(t, {\n    pixelFormat: r.RGBA,\n    dataType: o.UNSIGNED_BYTE,\n    width: i[0],\n    height: i[1]\n  }, new Uint8Array(e.data.buffer)) : new n(t, {\n    pixelFormat: r.RGBA,\n    dataType: o.UNSIGNED_BYTE,\n    samplingMode: h.LINEAR,\n    wrapMode: c.CLAMP_TO_EDGE,\n    width: i[0],\n    height: i[1]\n  }, null);\n}\n\nexport { p as default };","map":{"version":3,"names":["t","SPRITE_PADDING","e","log2","i","s","a","PixelFormat","r","PixelType","o","TextureSamplingMode","h","TextureWrapMode","c","Texture","n","g","type","p","constructor","_mosaicPages","_maxItemSize","_currentPage","_pageWidth","_pageHeight","_mosaicRects","Map","_spriteCopyQueue","pixelRatio","console","error","window","devicePixelRatio","_binPack","Math","floor","push","mosaicsData","data","Uint32Array","size","dirty","texture","getWidth","length","getHeight","getPageTexture","has","itemCount","getSpriteItem","get","addSpriteItem","m","_allocateImage","width","height","_","rect","sdf","simplePattern","page","set","_copy","spriteSize","spriteData","pageSize","repeat","hasItemsToProcess","processNextItem","pop","getSpriteItems","getMosaicItemPosition","tl","x","y","br","bind","setSamplingMode","bindTexture","setData","Uint8Array","buffer","generateMipmap","bindFrame","_copyBits","max","ceil","allocate","dispose","destroy","clear","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","LINEAR","wrapMode","CLAMP_TO_EDGE","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/SpriteMosaic.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import{SPRITE_PADDING as e}from\"./definitions.js\";import{log2 as i}from\"./GeometryUtils.js\";import s from\"./Rect.js\";import a from\"./RectangleBinPack.js\";import{PixelFormat as r,PixelType as o,TextureSamplingMode as h,TextureWrapMode as c}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";function g(t){return t&&\"static\"===t.type}class p{constructor(t,e,i=0){this._mosaicPages=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects=new Map,this._spriteCopyQueue=[],this.pixelRatio=1,(t<=0||e<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=e,i>0&&(this._maxItemSize=i),this.pixelRatio=window.devicePixelRatio||1,this._binPack=new a(this._pageWidth,this._pageHeight);const s=Math.floor(this._pageWidth),r=Math.floor(this._pageHeight);this._mosaicPages.push({mosaicsData:{type:\"static\",data:new Uint32Array(s*r)},size:[this._pageWidth,this._pageHeight],dirty:!0,texture:void 0})}getWidth(t){return t>=this._mosaicPages.length?-1:this._mosaicPages[t].size[0]}getHeight(t){return t>=this._mosaicPages.length?-1:this._mosaicPages[t].size[1]}getPageTexture(t){return t<this._mosaicPages.length?this._mosaicPages[t].texture:null}has(t){return this._mosaicRects.has(t)}get itemCount(){return this._mosaicRects.size}getSpriteItem(t){return this._mosaicRects.get(t)}addSpriteItem(t,i,a,r,o,h,c=1){if(this._mosaicRects.has(t))return this._mosaicRects.get(t);let n,p,m;if(g(a))[n,p,m]=this._allocateImage(i[0],i[1]);else{n=new s(0,0,i[0],i[1]),p=this._mosaicPages.length;const t=void 0;this._mosaicPages.push({mosaicsData:a,size:[i[0]+2*e,i[1]+2*e],dirty:!0,texture:t})}if(n.width<=0||n.height<=0)return null;const _={rect:n,width:i[0],height:i[1],sdf:o,simplePattern:h,pixelRatio:c,page:p};return this._mosaicRects.set(t,_),g(a)&&this._copy({rect:n,spriteSize:i,spriteData:a.data,page:p,pageSize:m,repeat:r,sdf:o}),_}hasItemsToProcess(){return 0!==this._spriteCopyQueue.length}processNextItem(){const t=this._spriteCopyQueue.pop();t&&this._copy(t)}getSpriteItems(t){const e={};for(const i of t)e[i]=this.getSpriteItem(i);return e}getMosaicItemPosition(t){const i=this.getSpriteItem(t),s=i&&i.rect;if(!s)return null;s.width=i.width,s.height=i.height;const a=i.width,r=i.height,o=e,h=this._mosaicPages[i.page];return{size:[i.width,i.height],tl:[(s.x+o)/h[0],(s.y+o)/h[1]],br:[(s.x+o+a)/h[0],(s.y+o+r)/h[1]],page:i.page}}bind(t,e,i=0,s=0){const a=this._mosaicPages[i],r=a.mosaicsData;let o=a.texture;if(o||(o=m(t,r,a.size),a.texture=o),o.setSamplingMode(e),g(r))t.bindTexture(o,s),a.dirty&&(o.setData(new Uint8Array(r.data.buffer)),o.generateMipmap());else{r.data.bindFrame(t,o,s)}a.dirty=!1}static _copyBits(t,e,i,s,a,r,o,h,c,n,g){let p=s*e+i,m=h*r+o;if(g){m-=r;for(let o=-1;o<=n;o++,p=((o+n)%n+s)*e+i,m+=r)for(let e=-1;e<=c;e++)a[m+e]=t[p+(e+c)%c]}else for(let _=0;_<n;_++){for(let e=0;e<c;e++)a[m+e]=t[p+e];p+=e,m+=r}}_copy(i){if(i.page>=this._mosaicPages.length)return;const s=this._mosaicPages[i.page],a=s.mosaicsData;if(!g(s.mosaicsData))throw new t(\"mapview-invalid-resource\",\"unsuitable data type!\");const r=i.spriteData,o=a.data;o&&r||console.error(\"Source or target images are uninitialized!\"),p._copyBits(r,i.spriteSize[0],0,0,o,i.pageSize[0],i.rect.x+e,i.rect.y+e,i.spriteSize[0],i.spriteSize[1],i.repeat),s.dirty=!0}_allocateImage(t,r){t+=2*e,r+=2*e;const o=Math.max(t,r);if(this._maxItemSize&&this._maxItemSize<o){const e=2**Math.ceil(i(t)),a=2**Math.ceil(i(r)),o=new s(0,0,t,r);return this._mosaicPages.push({mosaicsData:{type:\"static\",data:new Uint32Array(e*a)},size:[e,a],dirty:!0,texture:void 0}),[o,this._mosaicPages.length-1,[e,a]]}const h=this._binPack.allocate(t,r);if(h.width<=0){const e=this._mosaicPages[this._currentPage];return!e.dirty&&g(e.mosaicsData)&&(e.mosaicsData.data=null),this._currentPage=this._mosaicPages.length,this._mosaicPages.push({mosaicsData:{type:\"static\",data:new Uint32Array(this._pageWidth*this._pageHeight)},size:[this._pageWidth,this._pageHeight],dirty:!0,texture:void 0}),this._binPack=new a(this._pageWidth,this._pageHeight),this._allocateImage(t,r)}return[h,this._currentPage,[this._pageWidth,this._pageHeight]]}dispose(){this._binPack=null;for(const t of this._mosaicPages){const e=t.texture;e&&e.dispose();const i=t.mosaicsData;if(!g(i)){i.data.destroy()}}this._mosaicPages=null,this._mosaicRects.clear()}}function m(t,e,i){return g(e)?new n(t,{pixelFormat:r.RGBA,dataType:o.UNSIGNED_BYTE,width:i[0],height:i[1]},new Uint8Array(e.data.buffer)):new n(t,{pixelFormat:r.RGBA,dataType:o.UNSIGNED_BYTE,samplingMode:h.LINEAR,wrapMode:c.CLAMP_TO_EDGE,width:i[0],height:i[1]},null)}export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}