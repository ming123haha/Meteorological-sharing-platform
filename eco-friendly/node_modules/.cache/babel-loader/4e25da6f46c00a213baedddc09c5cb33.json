{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isNone as t } from \"../../../../../core/maybe.js\";\n\nclass a {\n  constructor(t) {\n    if (this.next = null, !Array.isArray(t)) return void (this.data = t);\n    this.data = t[0];\n    let e = this;\n\n    for (let n = 1; n < t.length; n++) e.next = new a([t[n]]), e = e.next;\n  }\n\n  *values() {\n    let t = this;\n\n    for (; t;) yield t.data, t = t.next;\n  }\n\n  forEach(t) {\n    let a = this;\n\n    for (; a;) t(a.data), a = a.next;\n  }\n\n  find(t) {\n    return t(this.data) ? this : this.next?.find(t);\n  }\n\n  max(t, a = this) {\n    const e = t(this.data) > t(a.data) ? this : a;\n    return this.next ? this.next.max(t, e) : e;\n  }\n\n  remove(t, a = null) {\n    return this === t ? a ? (a.next = this.next, a) : this.next : this.next?.remove(t, this) ?? null;\n  }\n\n  get last() {\n    return this.next ? this.next.last : this;\n  }\n\n}\n\nclass e {\n  constructor(e) {\n    this._head = null, t(e) || (this._head = new a(e));\n  }\n\n  get head() {\n    return this._head;\n  }\n\n  maxAvailableSpace() {\n    if (t(this._head)) return 0;\n\n    const a = this._head.max(t => t.end - t.start);\n\n    return a.data.end - a.data.start;\n  }\n\n  firstFit(a) {\n    if (t(this._head)) return null;\n    let e = null,\n        n = this._head;\n\n    for (; n;) {\n      const t = n.data.end - n.data.start;\n      if (t === a) return e ? e.next = n.next : this._head = n.next, n.data.start;\n\n      if (t > a) {\n        const t = n.data.start;\n        return n.data.start += a, t;\n      }\n\n      e = n, n = n.next;\n    }\n\n    return null;\n  }\n\n  free(e, n) {\n    const r = e + n;\n\n    if (t(this._head)) {\n      const t = new a({\n        start: e,\n        end: r\n      });\n      return void (this._head = t);\n    }\n\n    if (r <= this._head.data.start) {\n      if (r === this._head.data.start) return void (this._head.data.start -= n);\n      const t = new a({\n        start: e,\n        end: r\n      });\n      return t.next = this._head, void (this._head = t);\n    }\n\n    let s = this._head,\n        d = s.next;\n\n    for (; d;) {\n      if (d.data.start >= r) {\n        if (s.data.end === e) {\n          if (s.data.end += n, s.data.end === d.data.start) {\n            const t = d.data.end - d.data.start;\n            return s.data.end += t, void (s.next = d.next);\n          }\n\n          return;\n        }\n\n        if (d.data.start === r) return void (d.data.start -= n);\n        const t = new a({\n          start: e,\n          end: r\n        });\n        return t.next = s.next, void (s.next = t);\n      }\n\n      s = d, d = d.next;\n    }\n\n    if (e === s.data.end) return void (s.data.end += n);\n    const i = new a({\n      start: e,\n      end: r\n    });\n    s.next = i;\n  }\n\n}\n\nexport { e as FreeList, a as List };","map":{"version":3,"names":["isNone","t","a","constructor","next","Array","isArray","data","e","n","length","values","forEach","find","max","remove","last","_head","head","maxAvailableSpace","end","start","firstFit","free","r","s","d","i","FreeList","List"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";class a{constructor(t){if(this.next=null,!Array.isArray(t))return void(this.data=t);this.data=t[0];let e=this;for(let n=1;n<t.length;n++)e.next=new a([t[n]]),e=e.next}*values(){let t=this;for(;t;)yield t.data,t=t.next}forEach(t){let a=this;for(;a;)t(a.data),a=a.next}find(t){return t(this.data)?this:this.next?.find(t)}max(t,a=this){const e=t(this.data)>t(a.data)?this:a;return this.next?this.next.max(t,e):e}remove(t,a=null){return this===t?a?(a.next=this.next,a):this.next:this.next?.remove(t,this)??null}get last(){return this.next?this.next.last:this}}class e{constructor(e){this._head=null,t(e)||(this._head=new a(e))}get head(){return this._head}maxAvailableSpace(){if(t(this._head))return 0;const a=this._head.max((t=>t.end-t.start));return a.data.end-a.data.start}firstFit(a){if(t(this._head))return null;let e=null,n=this._head;for(;n;){const t=n.data.end-n.data.start;if(t===a)return e?e.next=n.next:this._head=n.next,n.data.start;if(t>a){const t=n.data.start;return n.data.start+=a,t}e=n,n=n.next}return null}free(e,n){const r=e+n;if(t(this._head)){const t=new a({start:e,end:r});return void(this._head=t)}if(r<=this._head.data.start){if(r===this._head.data.start)return void(this._head.data.start-=n);const t=new a({start:e,end:r});return t.next=this._head,void(this._head=t)}let s=this._head,d=s.next;for(;d;){if(d.data.start>=r){if(s.data.end===e){if(s.data.end+=n,s.data.end===d.data.start){const t=d.data.end-d.data.start;return s.data.end+=t,void(s.next=d.next)}return}if(d.data.start===r)return void(d.data.start-=n);const t=new a({start:e,end:r});return t.next=s.next,void(s.next=t)}s=d,d=d.next}if(e===s.data.end)return void(s.data.end+=n);const i=new a({start:e,end:r});s.next=i}}export{e as FreeList,a as List};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}