{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Evented.js\";\nimport { HandleOwner as i } from \"../../../core/HandleOwner.js\";\nimport { isSome as n } from \"../../../core/maybe.js\";\nimport { isAborted as s } from \"../../../core/promiseUtils.js\";\nimport { watch as r, sync as o, syncAndInitial as a } from \"../../../core/reactiveUtils.js\";\nimport { property as d } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as c } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { s as h } from \"../../../chunks/vec2.js\";\nimport { defaultSnappingEnginesFactory as p } from \"./snappingFactory.js\";\nimport l from \"./SnappingOptions.js\";\nimport { squareDistance as u, sortCandidatesInPlace as f } from \"./snappingUtils.js\";\nimport { IntersectionSnappingCandidate as v } from \"./candidates/IntersectionSnappingCandidate.js\";\nimport { anyMapPointToScreenPoint as g } from \"../support/viewUtils.js\";\n\nlet _ = class extends e.EventedMixin(i) {\n  constructor(t) {\n    super(t), this.options = new l(), this.snappingEnginesFactory = p, this._engines = [], this._currentMainCandidate = null, this._currentOtherActiveCandidates = [];\n  }\n\n  initialize() {\n    this.handles.add([r(() => {\n      const {\n        effectiveFeatureEnabled: t,\n        effectiveSelfEnabled: e,\n        touchSensitivityMultiplier: i,\n        distance: n\n      } = this.options;\n      return {\n        effectiveFeatureEnabled: t,\n        effectiveSelfEnabled: e,\n        touchSensitivityMultiplier: i,\n        distance: n\n      };\n    }, () => {\n      this.doneSnapping(), this.emit(\"changed\");\n    }, o), r(() => this.options, t => {\n      for (const e of this._engines) e.options = t;\n    }, o), r(() => ({\n      viewReady: this.view.ready,\n      viewSpatialReference: this.view.spatialReference,\n      snappingEnginesFactory: this.snappingEnginesFactory\n    }), ({\n      viewReady: t,\n      snappingEnginesFactory: e\n    }) => this._recreateEngines(t, e), a)]);\n  }\n\n  destroy() {\n    this._destroyEngines();\n  }\n\n  get updating() {\n    return this._engines.some(t => t.updating);\n  }\n\n  _recreateEngines(t, e) {\n    if (this._destroyEngines(), !t) return;\n    const {\n      view: i,\n      options: n\n    } = this;\n    this._engines = e(i, n);\n  }\n\n  _destroyEngines() {\n    for (const t of this._engines) t.destroy();\n\n    this._engines = [];\n  }\n\n  get squaredMouseProximityTreshold() {\n    return this.options.distance * this.options.distance;\n  }\n\n  get squaredTouchProximityThreshold() {\n    const {\n      distance: t,\n      touchSensitivityMultiplier: e\n    } = this.options,\n          i = t * e;\n    return i * i;\n  }\n\n  async snap(t, e, i) {\n    const r = e.coordinateHelper.pointToVector(t),\n          o = await this._fetchCandidates(r, e, i);\n    return {\n      get valid() {\n        return !s(i);\n      },\n\n      apply: () => {\n        const {\n          snappedPoint: t,\n          hints: i\n        } = this._processCandidates(r, o, e);\n\n        return this._removeVisualization(), n(e.visualizer) && this.handles.add(e.visualizer.draw(i, {\n          coordinateHelper: e.coordinateHelper,\n          elevationInfo: e.elevationInfo,\n          view: this.view\n        }), m), t;\n      }\n    };\n  }\n\n  update(t, e) {\n    this._removeVisualization();\n\n    let i = t;\n    const s = [];\n\n    if (n(this._currentMainCandidate)) {\n      const n = e.coordinateHelper,\n            r = n.pointToVector(t),\n            o = this._currentMainCandidate.constraint.closestTo(r);\n\n      if (u(g(r, n, e.elevationInfo, this.view), g(o, n, e.elevationInfo, this.view)) < this._squaredPointProximityThreshold(e.pointer)) {\n        i = n.vectorToDehydratedPoint(o), this._currentMainCandidate.targetPoint = o, s.push(...this._currentMainCandidate.hints);\n\n        for (const t of this._currentOtherActiveCandidates) t.targetPoint = o, s.push(...t.hints);\n      } else this._currentMainCandidate = null, this._currentOtherActiveCandidates = [];\n    }\n\n    return n(e.visualizer) && this.handles.add(e.visualizer.draw(s, {\n      coordinateHelper: e.coordinateHelper,\n      elevationInfo: e.elevationInfo,\n      view: this.view\n    }), m), i;\n  }\n\n  doneSnapping() {\n    this._removeVisualization(), this._currentMainCandidate = null, this._currentOtherActiveCandidates = [];\n  }\n\n  _removeVisualization() {\n    this.handles.remove(m);\n  }\n\n  async _fetchCandidates(t, e, i) {\n    return (await Promise.all(this._engines.map(n => n.fetchCandidates(t, e, i)))).flat();\n  }\n\n  _processCandidates(t, e, i) {\n    if (e.length < 1) return this.doneSnapping(), {\n      snappedPoint: i.coordinateHelper.vectorToDehydratedPoint(t),\n      hints: []\n    };\n    f(t, e);\n    const s = this._currentMainCandidate;\n\n    if (n(s)) {\n      const n = this._findOldConstraintInNewCandidates(s, e);\n\n      if (n >= 0) {\n        if (!(e[n] instanceof v)) return this._intersectWithOtherCandidates(n, e, t, i);\n        if (h(t, s.targetPoint) < this._squaredPointProximityThreshold(i.pointer)) return this._updateSnappingCandidate(s, e, i);\n      }\n    }\n\n    return this._intersectWithOtherCandidates(0, e, t, i);\n  }\n\n  _findOldConstraintInNewCandidates(t, e) {\n    return t instanceof v ? this._findOldCandidateIndex(e, t.first) >= 0 && this._findOldCandidateIndex(e, t.second) >= 0 ? 0 : -1 : this._findOldCandidateIndex(e, t);\n  }\n\n  _intersectWithOtherCandidates(t, e, i, n) {\n    const s = e[t],\n          r = [],\n          o = n.coordinateHelper;\n\n    for (let a = 0; a < e.length; ++a) {\n      if (a === t) continue;\n      const d = e[a];\n\n      for (const t of s.constraint.intersect(d.constraint)) {\n        const e = o.fromXYZ(t.intersection, s.targetPoint[2]);\n        r.push([new v(o, e, s, d, d.elevationInfo), u(g(i, n.coordinateHelper, n.elevationInfo, this.view), g(e, n.coordinateHelper, n.elevationInfo, this.view))]);\n      }\n    }\n\n    return r.length > 0 && (r.sort((t, e) => t[1] - e[1]), r[0][1] < this._squaredPointProximityThreshold(n.pointer)) ? this._updateSnappingCandidate(r[0][0], e, n) : this._updateSnappingCandidate(s, e, n);\n  }\n\n  _updateSnappingCandidate(t, e, i) {\n    this.doneSnapping(), this._currentMainCandidate = t;\n    const n = this._currentMainCandidate.targetPoint,\n          s = [];\n    s.push(...t.hints);\n\n    for (const r of e) {\n      if (t instanceof v) {\n        if (r.constraint.objectEqual(t.first.constraint) || r.constraint.objectEqual(t.second.constraint)) continue;\n      } else if (r.constraint.objectEqual(t.constraint)) continue;\n\n      r.constraint.check(n) && (r.targetPoint = n, this._currentOtherActiveCandidates.push(r), s.push(...r.hints));\n    }\n\n    return {\n      snappedPoint: i.coordinateHelper.vectorToDehydratedPoint(n),\n      hints: s\n    };\n  }\n\n  _squaredPointProximityThreshold(t) {\n    return \"touch\" === t ? this.squaredTouchProximityThreshold : this.squaredMouseProximityTreshold;\n  }\n\n  _findOldCandidateIndex(t, e) {\n    let i = -1;\n\n    for (let n = 0; n < t.length; ++n) if (e.constraint.objectEqual(t[n].constraint)) {\n      i = n;\n      break;\n    }\n\n    return i;\n  }\n\n  get test() {\n    return {\n      visualizationsActive: this.handles.has(m),\n      engines: this._engines\n    };\n  }\n\n};\n\nt([d({\n  constructOnly: !0\n})], _.prototype, \"view\", void 0), t([d()], _.prototype, \"options\", void 0), t([d({\n  readOnly: !0\n})], _.prototype, \"updating\", null), t([d()], _.prototype, \"snappingEnginesFactory\", void 0), t([d()], _.prototype, \"_engines\", void 0), t([d()], _.prototype, \"squaredMouseProximityTreshold\", null), t([d()], _.prototype, \"squaredTouchProximityThreshold\", null), _ = t([c(\"esri.views.interactive.snapping.SnappingManager\")], _);\nconst m = \"visualization-handle\";\nexport { _ as SnappingManager };","map":{"version":3,"names":["_","t","e","HandleOwner","i","isSome","n","isAborted","s","watch","r","sync","o","syncAndInitial","a","property","d","subclass","c","h","defaultSnappingEnginesFactory","p","l","squareDistance","u","sortCandidatesInPlace","f","IntersectionSnappingCandidate","v","anyMapPointToScreenPoint","g","EventedMixin","constructor","options","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","initialize","handles","add","effectiveFeatureEnabled","effectiveSelfEnabled","touchSensitivityMultiplier","distance","doneSnapping","emit","viewReady","view","ready","viewSpatialReference","spatialReference","_recreateEngines","destroy","_destroyEngines","updating","some","squaredMouseProximityTreshold","squaredTouchProximityThreshold","snap","coordinateHelper","pointToVector","_fetchCandidates","valid","apply","snappedPoint","hints","_processCandidates","_removeVisualization","visualizer","draw","elevationInfo","m","update","constraint","closestTo","_squaredPointProximityThreshold","pointer","vectorToDehydratedPoint","targetPoint","push","remove","Promise","all","map","fetchCandidates","flat","length","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","first","second","intersect","fromXYZ","intersection","sort","objectEqual","check","test","visualizationsActive","has","engines","constructOnly","prototype","readOnly","SnappingManager"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Evented.js\";import{HandleOwner as i}from\"../../../core/HandleOwner.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isAborted as s}from\"../../../core/promiseUtils.js\";import{watch as r,sync as o,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as h}from\"../../../chunks/vec2.js\";import{defaultSnappingEnginesFactory as p}from\"./snappingFactory.js\";import l from\"./SnappingOptions.js\";import{squareDistance as u,sortCandidatesInPlace as f}from\"./snappingUtils.js\";import{IntersectionSnappingCandidate as v}from\"./candidates/IntersectionSnappingCandidate.js\";import{anyMapPointToScreenPoint as g}from\"../support/viewUtils.js\";let _=class extends(e.EventedMixin(i)){constructor(t){super(t),this.options=new l,this.snappingEnginesFactory=p,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}initialize(){this.handles.add([r((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),o),r((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),o),r((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:i,options:n}=this;this._engines=e(i,n)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,i=t*e;return i*i}async snap(t,e,i){const r=e.coordinateHelper.pointToVector(t),o=await this._fetchCandidates(r,e,i);return{get valid(){return!s(i)},apply:()=>{const{snappedPoint:t,hints:i}=this._processCandidates(r,o,e);return this._removeVisualization(),n(e.visualizer)&&this.handles.add(e.visualizer.draw(i,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),t}}}update(t,e){this._removeVisualization();let i=t;const s=[];if(n(this._currentMainCandidate)){const n=e.coordinateHelper,r=n.pointToVector(t),o=this._currentMainCandidate.constraint.closestTo(r);if(u(g(r,n,e.elevationInfo,this.view),g(o,n,e.elevationInfo,this.view))<this._squaredPointProximityThreshold(e.pointer)){i=n.vectorToDehydratedPoint(o),this._currentMainCandidate.targetPoint=o,s.push(...this._currentMainCandidate.hints);for(const t of this._currentOtherActiveCandidates)t.targetPoint=o,s.push(...t.hints)}else this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}return n(e.visualizer)&&this.handles.add(e.visualizer.draw(s,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),i}doneSnapping(){this._removeVisualization(),this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}_removeVisualization(){this.handles.remove(m)}async _fetchCandidates(t,e,i){return(await Promise.all(this._engines.map((n=>n.fetchCandidates(t,e,i))))).flat()}_processCandidates(t,e,i){if(e.length<1)return this.doneSnapping(),{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(t),hints:[]};f(t,e);const s=this._currentMainCandidate;if(n(s)){const n=this._findOldConstraintInNewCandidates(s,e);if(n>=0){if(!(e[n]instanceof v))return this._intersectWithOtherCandidates(n,e,t,i);if(h(t,s.targetPoint)<this._squaredPointProximityThreshold(i.pointer))return this._updateSnappingCandidate(s,e,i)}}return this._intersectWithOtherCandidates(0,e,t,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof v?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,i,n){const s=e[t],r=[],o=n.coordinateHelper;for(let a=0;a<e.length;++a){if(a===t)continue;const d=e[a];for(const t of s.constraint.intersect(d.constraint)){const e=o.fromXYZ(t.intersection,s.targetPoint[2]);r.push([new v(o,e,s,d,d.elevationInfo),u(g(i,n.coordinateHelper,n.elevationInfo,this.view),g(e,n.coordinateHelper,n.elevationInfo,this.view))])}}return r.length>0&&(r.sort(((t,e)=>t[1]-e[1])),r[0][1]<this._squaredPointProximityThreshold(n.pointer))?this._updateSnappingCandidate(r[0][0],e,n):this._updateSnappingCandidate(s,e,n)}_updateSnappingCandidate(t,e,i){this.doneSnapping(),this._currentMainCandidate=t;const n=this._currentMainCandidate.targetPoint,s=[];s.push(...t.hints);for(const r of e){if(t instanceof v){if(r.constraint.objectEqual(t.first.constraint)||r.constraint.objectEqual(t.second.constraint))continue}else if(r.constraint.objectEqual(t.constraint))continue;r.constraint.check(n)&&(r.targetPoint=n,this._currentOtherActiveCandidates.push(r),s.push(...r.hints))}return{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(n),hints:s}}_squaredPointProximityThreshold(t){return\"touch\"===t?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}_findOldCandidateIndex(t,e){let i=-1;for(let n=0;n<t.length;++n)if(e.constraint.objectEqual(t[n].constraint)){i=n;break}return i}get test(){return{visualizationsActive:this.handles.has(m),engines:this._engines}}};t([d({constructOnly:!0})],_.prototype,\"view\",void 0),t([d()],_.prototype,\"options\",void 0),t([d({readOnly:!0})],_.prototype,\"updating\",null),t([d()],_.prototype,\"snappingEnginesFactory\",void 0),t([d()],_.prototype,\"_engines\",void 0),t([d()],_.prototype,\"squaredMouseProximityTreshold\",null),t([d()],_.prototype,\"squaredTouchProximityThreshold\",null),_=t([c(\"esri.views.interactive.snapping.SnappingManager\")],_);const m=\"visualization-handle\";export{_ as SnappingManager};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}