{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../../../chunks/tslib.es6.js\";\nimport i from \"../../../core/Error.js\";\nimport { isSome as e, destroyMaybe as a, abortMaybe as t, isNone as r } from \"../../../core/maybe.js\";\nimport { createTask as n, isAborted as o } from \"../../../core/promiseUtils.js\";\nimport { watch as l, syncAndInitial as y } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as w } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { LayerView3D as c } from \"./LayerView3D.js\";\nimport p from \"../../layers/LayerView.js\";\nconst d = \"analysis-view-handles\";\nlet V = class extends c(p) {\n  constructor(s) {\n    super(s), this.type = \"line-of-sight-3d\", this._analysisModules = {\n      \"line-of-sight\": null\n    };\n  }\n\n  initialize() {\n    this.handles.add(l(() => this.layer.analysis, s => {\n      this._destroyAnalysisView(), e(s) && this._createAnalysisView(s);\n    }, y), d);\n  }\n\n  destroy() {\n    this.handles.remove(d), this._destroyAnalysisView();\n  }\n\n  async whenAnalysisView() {\n    if (e(this.analysisView)) return this.analysisView;\n    if (e(this._createAnalysisViewTask)) return this._createAnalysisViewTask.promise;\n    throw new i(\"layerview:no-analysisview-for-analysis\", \"The analysis has not been set on the LineOfSightLayer of this layer view\");\n  }\n\n  isUpdating() {\n    return e(this._createAnalysisViewTask) || e(this.analysisView) && this.analysisView.updating;\n  }\n\n  _createAnalysisView(s) {\n    const i = n(async e => (this.analysisView = await this._createAnalysisViewPromise(s, e), this._createAnalysisViewTask === i && (this._createAnalysisViewTask = null), this.analysisView));\n    this._createAnalysisViewTask = i;\n  }\n\n  _destroyAnalysisView() {\n    this.analysisView = a(this.analysisView), this._createAnalysisViewTask = t(this._createAnalysisViewTask);\n  }\n\n  async _createAnalysisViewPromise(s, e) {\n    const a = s.type;\n    let t = this._analysisModules[a];\n\n    if (r(t)) {\n      const s = await this._loadAnalysisModule(a);\n      this._analysisModules[a] = s, t = s;\n    }\n\n    const n = new t.default({\n      analysis: s,\n      view: this.view,\n      parent: this\n    });\n    if (await n.when(), o(e)) throw n.destroy(), new i(\"layerview:no-analysisview-for-analysis\", \"The analysis has not been added to the LineOfSightLayer of this layer view\", {\n      analysis: s\n    });\n    return n;\n  }\n\n  _loadAnalysisModule(s) {\n    return \"line-of-sight\" === s ? import(\"../analysis/LineOfSightAnalysisView3D.js\") : null;\n  }\n\n};\ns([h()], V.prototype, \"type\", void 0), s([h()], V.prototype, \"layer\", void 0), s([h()], V.prototype, \"analysisView\", void 0), s([h()], V.prototype, \"_createAnalysisViewTask\", void 0), V = s([w(\"esri.views.3d.layers.LineOfSightLayerView3D\")], V);\nconst f = V;\nexport { f as default };","map":{"version":3,"names":["_","s","i","isSome","e","destroyMaybe","a","abortMaybe","t","isNone","r","createTask","n","isAborted","o","watch","l","syncAndInitial","y","property","h","subclass","w","LayerView3D","c","p","d","V","constructor","type","_analysisModules","initialize","handles","add","layer","analysis","_destroyAnalysisView","_createAnalysisView","destroy","remove","whenAnalysisView","analysisView","_createAnalysisViewTask","promise","isUpdating","updating","_createAnalysisViewPromise","_loadAnalysisModule","default","view","parent","when","prototype","f"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Error.js\";import{isSome as e,destroyMaybe as a,abortMaybe as t,isNone as r}from\"../../../core/maybe.js\";import{createTask as n,isAborted as o}from\"../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as c}from\"./LayerView3D.js\";import p from\"../../layers/LayerView.js\";const d=\"analysis-view-handles\";let V=class extends(c(p)){constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisModules={\"line-of-sight\":null}}initialize(){this.handles.add(l((()=>this.layer.analysis),(s=>{this._destroyAnalysisView(),e(s)&&this._createAnalysisView(s)}),y),d)}destroy(){this.handles.remove(d),this._destroyAnalysisView()}async whenAnalysisView(){if(e(this.analysisView))return this.analysisView;if(e(this._createAnalysisViewTask))return this._createAnalysisViewTask.promise;throw new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the LineOfSightLayer of this layer view\")}isUpdating(){return e(this._createAnalysisViewTask)||e(this.analysisView)&&this.analysisView.updating}_createAnalysisView(s){const i=n((async e=>(this.analysisView=await this._createAnalysisViewPromise(s,e),this._createAnalysisViewTask===i&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=i}_destroyAnalysisView(){this.analysisView=a(this.analysisView),this._createAnalysisViewTask=t(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,e){const a=s.type;let t=this._analysisModules[a];if(r(t)){const s=await this._loadAnalysisModule(a);this._analysisModules[a]=s,t=s}const n=new t.default({analysis:s,view:this.view,parent:this});if(await n.when(),o(e))throw n.destroy(),new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the LineOfSightLayer of this layer view\",{analysis:s});return n}_loadAnalysisModule(s){return\"line-of-sight\"===s?import(\"../analysis/LineOfSightAnalysisView3D.js\"):null}};s([h()],V.prototype,\"type\",void 0),s([h()],V.prototype,\"layer\",void 0),s([h()],V.prototype,\"analysisView\",void 0),s([h()],V.prototype,\"_createAnalysisViewTask\",void 0),V=s([w(\"esri.views.3d.layers.LineOfSightLayerView3D\")],V);const f=V;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}