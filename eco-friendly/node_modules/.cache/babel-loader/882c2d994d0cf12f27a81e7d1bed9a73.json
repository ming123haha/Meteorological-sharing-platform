{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { ensureType as t } from \"../symbols.js\";\nimport i from \"../core/Error.js\";\nimport { clone as r } from \"../core/lang.js\";\nimport s from \"../core/Logger.js\";\nimport { isNone as l, unwrapOr as o, unwrap as n } from \"../core/maybe.js\";\nimport { deepMerge as a } from \"../core/object.js\";\nimport { property as u } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as p } from \"../core/accessorSupport/decorators/cast.js\";\nimport { enumeration as f } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { reader as d } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as c } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as y } from \"../core/accessorSupport/decorators/writer.js\";\nimport { diff as m } from \"../core/accessorSupport/diffUtils.js\";\nimport { ensureType as h, ensureString as b } from \"../core/accessorSupport/ensureType.js\";\nimport { collectArcadeFieldNames as g, collectField as v } from \"../layers/support/fieldUtils.js\";\nimport S from \"../portal/Portal.js\";\nimport V from \"./Renderer.js\";\nimport { VisualVariablesMixin as q } from \"./mixins/VisualVariablesMixin.js\";\nimport { rendererBackgroundFillSymbolProperty as I, rendererSymbolProperty as j } from \"./support/commonProperties.js\";\nimport { LegendOptions as _ } from \"./support/LegendOptions.js\";\nimport w from \"./support/UniqueValueInfo.js\";\nimport { loadArcade as U } from \"../support/arcadeOnDemand.js\";\nimport { f as O, t as F } from \"../chunks/persistableUrlUtils.js\";\nimport { fetchStyle as x } from \"../symbols/support/styleUtils.js\";\nimport D from \"../symbols/WebStyleSymbol.js\";\nvar E;\nconst M = s.getLogger(\"esri.renderers.UniqueValueRenderer\"),\n      N = h(w);\nlet R = E = class extends q(V) {\n  constructor(e) {\n    super(e), this._valueInfoMap = {}, this._isDefaultSymbolDerived = !1, this.type = \"unique-value\", this.backgroundFillSymbol = null, this.field = null, this.field2 = null, this.field3 = null, this.valueExpression = null, this.valueExpressionTitle = null, this.legendOptions = null, this.defaultLabel = null, this.fieldDelimiter = null, this.portal = null, this.styleOrigin = null, this.diff = {\n      uniqueValueInfos(e, t) {\n        if (!e && !t) return;\n        if (!e || !t) return {\n          type: \"complete\",\n          oldValue: e,\n          newValue: t\n        };\n        let i = !1;\n        const r = {\n          type: \"collection\",\n          added: [],\n          removed: [],\n          changed: [],\n          unchanged: []\n        };\n\n        for (let s = 0; s < t.length; s++) {\n          const l = e.find(e => e.value === t[s].value);\n          l ? m(l, t[s]) ? (r.changed.push({\n            type: \"complete\",\n            oldValue: l,\n            newValue: t[s]\n          }), i = !0) : r.unchanged.push({\n            oldValue: l,\n            newValue: t[s]\n          }) : (r.added.push(t[s]), i = !0);\n        }\n\n        for (let s = 0; s < e.length; s++) {\n          t.find(t => t.value === e[s].value) || (r.removed.push(e[s]), i = !0);\n        }\n\n        return i ? r : void 0;\n      }\n\n    }, this._set(\"uniqueValueInfos\", []);\n  }\n\n  get _cache() {\n    return {\n      compiledFunc: null\n    };\n  }\n\n  castField(e) {\n    return null == e || \"function\" == typeof e ? e : b(e);\n  }\n\n  writeField(e, t, r, s) {\n    \"string\" == typeof e ? t[r] = e : s && s.messages ? s.messages.push(new i(\"property:unsupported\", \"UniqueValueRenderer.field set to a function cannot be written to JSON\")) : M.error(\".field: cannot write field to JSON since it's not a string value\");\n  }\n\n  set defaultSymbol(e) {\n    this._isDefaultSymbolDerived = !1, this._set(\"defaultSymbol\", e);\n  }\n\n  readPortal(e, t, i) {\n    return i.portal || S.getDefault();\n  }\n\n  readStyleOrigin(e, t, i) {\n    if (t.styleName) return Object.freeze({\n      styleName: t.styleName\n    });\n\n    if (t.styleUrl) {\n      const e = O(t.styleUrl, i);\n      return Object.freeze({\n        styleUrl: e\n      });\n    }\n  }\n\n  writeStyleOrigin(e, t, i, r) {\n    e.styleName ? t.styleName = e.styleName : e.styleUrl && (t.styleUrl = F(e.styleUrl, r));\n  }\n\n  set uniqueValueInfos(e) {\n    this.styleOrigin ? M.error(\"#uniqueValueInfos=\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\") : (this._set(\"uniqueValueInfos\", e), this._updateValueInfoMap());\n  }\n\n  addUniqueValueInfo(e, i) {\n    if (this.styleOrigin) return void M.error(\"#addUniqueValueInfo()\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");\n    let r;\n    r = \"object\" == typeof e ? N(e) : new w({\n      value: e,\n      symbol: t(i)\n    }), this.uniqueValueInfos.push(r), this._valueInfoMap[r.value] = r;\n  }\n\n  removeUniqueValueInfo(e) {\n    if (this.styleOrigin) M.error(\"#removeUniqueValueInfo()\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");else for (let t = 0; t < this.uniqueValueInfos.length; t++) {\n      if (this.uniqueValueInfos[t].value === e + \"\") {\n        delete this._valueInfoMap[e], this.uniqueValueInfos.splice(t, 1);\n        break;\n      }\n    }\n  }\n\n  async getUniqueValueInfo(e, t) {\n    let i = t;\n    return this.valueExpression && (l(t) || l(t.arcade)) && (i = { ...i,\n      arcade: await U()\n    }), this._getUniqueValueInfo(e, i);\n  }\n\n  getSymbol(e, t) {\n    if (this.valueExpression && (l(t) || l(t.arcade))) return void M.error(\"#getSymbol()\", \"Please use getSymbolAsync if valueExpression is used\");\n\n    const i = this._getUniqueValueInfo(e, t);\n\n    return i && i.symbol || this.defaultSymbol;\n  }\n\n  async getSymbolAsync(e, t) {\n    let i = t;\n\n    if (this.valueExpression && (l(i) || l(i.arcade))) {\n      const e = await U(),\n            {\n        arcadeUtils: t\n      } = e;\n      t.hasGeometryOperations(this.valueExpression) && (await t.enableGeometryOperations()), i = { ...i,\n        arcade: e\n      };\n    }\n\n    const r = this._getUniqueValueInfo(e, i);\n\n    return r && r.symbol || this.defaultSymbol;\n  }\n\n  getSymbols() {\n    const e = [];\n\n    for (const t of this.uniqueValueInfos) t.symbol && e.push(t.symbol);\n\n    return this.defaultSymbol && e.push(this.defaultSymbol), e;\n  }\n\n  getAttributeHash() {\n    return this.visualVariables && this.visualVariables.reduce((e, t) => e + t.getAttributeHash(), \"\");\n  }\n\n  getMeshHash() {\n    return `${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e, t) => e + t.getMeshHash(), \"\")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`;\n  }\n\n  clone() {\n    const e = new E({\n      field: this.field,\n      field2: this.field2,\n      field3: this.field3,\n      defaultLabel: this.defaultLabel,\n      defaultSymbol: r(this.defaultSymbol),\n      valueExpression: this.valueExpression,\n      valueExpressionTitle: this.valueExpressionTitle,\n      fieldDelimiter: this.fieldDelimiter,\n      visualVariables: r(this.visualVariables),\n      legendOptions: r(this.legendOptions),\n      authoringInfo: this.authoringInfo && this.authoringInfo.clone(),\n      backgroundFillSymbol: r(this.backgroundFillSymbol)\n    });\n    this._isDefaultSymbolDerived && (e._isDefaultSymbolDerived = !0), e._set(\"portal\", this.portal);\n    const t = r(this.uniqueValueInfos);\n    return this.styleOrigin && (e._set(\"styleOrigin\", Object.freeze(r(this.styleOrigin))), Object.freeze(t)), e._set(\"uniqueValueInfos\", t), e._updateValueInfoMap(), e;\n  }\n\n  get arcadeRequired() {\n    return this.arcadeRequiredForVisualVariables || !!this.valueExpression;\n  }\n\n  async collectRequiredFields(e, t) {\n    const i = [this.collectVVRequiredFields(e, t), this.collectSymbolFields(e, t)];\n    await Promise.all(i);\n  }\n\n  async collectSymbolFields(e, t) {\n    const i = [...this.getSymbols().map(i => i.collectRequiredFields(e, t)), g(e, t, this.valueExpression)];\n    v(e, t, this.field), v(e, t, this.field2), v(e, t, this.field3), await Promise.all(i);\n  }\n\n  populateFromStyle() {\n    return x(this.styleOrigin, {\n      portal: this.portal\n    }).then(e => {\n      const t = [];\n      return this._valueInfoMap = {}, e && e.data && Array.isArray(e.data.items) && e.data.items.forEach(i => {\n        const r = new D({\n          styleUrl: e.styleUrl,\n          styleName: e.styleName,\n          portal: this.portal,\n          name: i.name\n        });\n        this.defaultSymbol || i.name !== e.data.defaultItem || (this.defaultSymbol = r, this._isDefaultSymbolDerived = !0);\n        const s = new w({\n          value: i.name,\n          symbol: r\n        });\n        t.push(s), this._valueInfoMap[i.name] = s;\n      }), this._set(\"uniqueValueInfos\", Object.freeze(t)), !this.defaultSymbol && this.uniqueValueInfos.length && (this.defaultSymbol = this.uniqueValueInfos[0].symbol, this._isDefaultSymbolDerived = !0), this;\n    });\n  }\n\n  _updateValueInfoMap() {\n    this._valueInfoMap = {}, this.uniqueValueInfos.forEach(e => this._valueInfoMap[e.value + \"\"] = e);\n  }\n\n  _getUniqueValueInfo(e, t) {\n    return this.valueExpression ? this._getUnqiueValueInfoForExpression(e, t) : this._getUnqiueValueInfoForFields(e);\n  }\n\n  _getUnqiueValueInfoForExpression(e, t) {\n    const {\n      viewingMode: i,\n      scale: r,\n      spatialReference: s,\n      arcade: l\n    } = o(t, {});\n    let a = this._cache.compiledFunc;\n    const u = n(l).arcadeUtils;\n\n    if (!a) {\n      const e = u.createSyntaxTree(this.valueExpression);\n      a = u.createFunction(e), this._cache.compiledFunc = a;\n    }\n\n    const p = u.executeFunction(a, u.createExecContext(e, u.getViewInfo({\n      viewingMode: i,\n      scale: r,\n      spatialReference: s\n    })));\n    return this._valueInfoMap[p + \"\"];\n  }\n\n  _getUnqiueValueInfoForFields(e) {\n    const t = this.field,\n          i = e.attributes;\n    let r;\n\n    if (\"function\" != typeof t && this.field2) {\n      const e = this.field2,\n            s = this.field3,\n            l = [];\n      t && l.push(i[t]), e && l.push(i[e]), s && l.push(i[s]), r = l.join(this.fieldDelimiter || \"\");\n    } else \"function\" == typeof t ? r = t(e) : t && (r = i[t]);\n\n    return this._valueInfoMap[r + \"\"];\n  }\n\n  static fromPortalStyle(e, t) {\n    const i = new E(t && t.properties);\n    i._set(\"styleOrigin\", Object.freeze({\n      styleName: e\n    })), i._set(\"portal\", t && t.portal || S.getDefault());\n    const r = i.populateFromStyle();\n    return r.catch(t => {\n      M.error(`#fromPortalStyle('${e}'[, ...])`, \"Failed to create unique value renderer from style name\", t);\n    }), r;\n  }\n\n  static fromStyleUrl(e, t) {\n    const i = new E(t && t.properties);\n\n    i._set(\"styleOrigin\", Object.freeze({\n      styleUrl: e\n    }));\n\n    const r = i.populateFromStyle();\n    return r.catch(t => {\n      M.error(`#fromStyleUrl('${e}'[, ...])`, \"Failed to create unique value renderer from style URL\", t);\n    }), r;\n  }\n\n};\ne([u({\n  readOnly: !0\n})], R.prototype, \"_cache\", null), e([f({\n  uniqueValue: \"unique-value\"\n})], R.prototype, \"type\", void 0), e([u(I)], R.prototype, \"backgroundFillSymbol\", void 0), e([u({\n  json: {\n    type: String,\n    read: {\n      source: \"field1\"\n    },\n    write: {\n      target: \"field1\"\n    }\n  }\n})], R.prototype, \"field\", void 0), e([p(\"field\")], R.prototype, \"castField\", null), e([y(\"field\")], R.prototype, \"writeField\", null), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"field2\", void 0), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"field3\", void 0), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"valueExpression\", void 0), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"valueExpressionTitle\", void 0), e([u({\n  type: _,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"legendOptions\", void 0), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"defaultLabel\", void 0), e([u(a({ ...j\n}, {\n  json: {\n    write: {\n      overridePolicy() {\n        return {\n          enabled: !this._isDefaultSymbolDerived\n        };\n      }\n\n    },\n    origins: {\n      \"web-scene\": {\n        write: {\n          overridePolicy() {\n            return {\n              enabled: !this._isDefaultSymbolDerived\n            };\n          }\n\n        }\n      }\n    }\n  }\n}))], R.prototype, \"defaultSymbol\", null), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], R.prototype, \"fieldDelimiter\", void 0), e([u({\n  type: S,\n  readOnly: !0\n})], R.prototype, \"portal\", void 0), e([d(\"portal\", [\"styleName\"])], R.prototype, \"readPortal\", null), e([u({\n  readOnly: !0,\n  json: {\n    write: {\n      enabled: !1,\n      overridePolicy: () => ({\n        enabled: !0\n      })\n    }\n  }\n})], R.prototype, \"styleOrigin\", void 0), e([d(\"styleOrigin\", [\"styleName\", \"styleUrl\"])], R.prototype, \"readStyleOrigin\", null), e([y(\"styleOrigin\", {\n  styleName: {\n    type: String\n  },\n  styleUrl: {\n    type: String\n  }\n})], R.prototype, \"writeStyleOrigin\", null), e([u({\n  type: [w],\n  json: {\n    write: {\n      overridePolicy() {\n        return this.styleOrigin ? {\n          enabled: !1\n        } : {\n          enabled: !0\n        };\n      }\n\n    }\n  }\n})], R.prototype, \"uniqueValueInfos\", null), R = E = e([c(\"esri.renderers.UniqueValueRenderer\")], R);\nconst P = R;\nexport { P as default };","map":{"version":3,"names":["_","e","ensureType","t","i","clone","r","s","isNone","l","unwrapOr","o","unwrap","n","deepMerge","a","property","u","cast","p","enumeration","f","reader","d","subclass","c","writer","y","diff","m","h","ensureString","b","collectArcadeFieldNames","g","collectField","v","S","V","VisualVariablesMixin","q","rendererBackgroundFillSymbolProperty","I","rendererSymbolProperty","j","LegendOptions","w","loadArcade","U","O","F","fetchStyle","x","D","E","M","getLogger","N","R","constructor","_valueInfoMap","_isDefaultSymbolDerived","type","backgroundFillSymbol","field","field2","field3","valueExpression","valueExpressionTitle","legendOptions","defaultLabel","fieldDelimiter","portal","styleOrigin","uniqueValueInfos","oldValue","newValue","added","removed","changed","unchanged","length","find","value","push","_set","_cache","compiledFunc","castField","writeField","messages","error","defaultSymbol","readPortal","getDefault","readStyleOrigin","styleName","Object","freeze","styleUrl","writeStyleOrigin","_updateValueInfoMap","addUniqueValueInfo","symbol","removeUniqueValueInfo","splice","getUniqueValueInfo","arcade","_getUniqueValueInfo","getSymbol","getSymbolAsync","arcadeUtils","hasGeometryOperations","enableGeometryOperations","getSymbols","getAttributeHash","visualVariables","reduce","getMeshHash","JSON","stringify","authoringInfo","arcadeRequired","arcadeRequiredForVisualVariables","collectRequiredFields","collectVVRequiredFields","collectSymbolFields","Promise","all","map","populateFromStyle","then","data","Array","isArray","items","forEach","name","defaultItem","_getUnqiueValueInfoForExpression","_getUnqiueValueInfoForFields","viewingMode","scale","spatialReference","createSyntaxTree","createFunction","executeFunction","createExecContext","getViewInfo","attributes","join","fromPortalStyle","properties","catch","fromStyleUrl","readOnly","prototype","uniqueValue","json","String","read","source","write","target","overridePolicy","enabled","origins","P","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/UniqueValueRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ensureType as t}from\"../symbols.js\";import i from\"../core/Error.js\";import{clone as r}from\"../core/lang.js\";import s from\"../core/Logger.js\";import{isNone as l,unwrapOr as o,unwrap as n}from\"../core/maybe.js\";import{deepMerge as a}from\"../core/object.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{enumeration as f}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as d}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../core/accessorSupport/decorators/writer.js\";import{diff as m}from\"../core/accessorSupport/diffUtils.js\";import{ensureType as h,ensureString as b}from\"../core/accessorSupport/ensureType.js\";import{collectArcadeFieldNames as g,collectField as v}from\"../layers/support/fieldUtils.js\";import S from\"../portal/Portal.js\";import V from\"./Renderer.js\";import{VisualVariablesMixin as q}from\"./mixins/VisualVariablesMixin.js\";import{rendererBackgroundFillSymbolProperty as I,rendererSymbolProperty as j}from\"./support/commonProperties.js\";import{LegendOptions as _}from\"./support/LegendOptions.js\";import w from\"./support/UniqueValueInfo.js\";import{loadArcade as U}from\"../support/arcadeOnDemand.js\";import{f as O,t as F}from\"../chunks/persistableUrlUtils.js\";import{fetchStyle as x}from\"../symbols/support/styleUtils.js\";import D from\"../symbols/WebStyleSymbol.js\";var E;const M=s.getLogger(\"esri.renderers.UniqueValueRenderer\"),N=h(w);let R=E=class extends(q(V)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type=\"unique-value\",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:\"complete\",oldValue:e,newValue:t};let i=!1;const r={type:\"collection\",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<t.length;s++){const l=e.find((e=>e.value===t[s].value));l?m(l,t[s])?(r.changed.push({type:\"complete\",oldValue:l,newValue:t[s]}),i=!0):r.unchanged.push({oldValue:l,newValue:t[s]}):(r.added.push(t[s]),i=!0)}for(let s=0;s<e.length;s++){t.find((t=>t.value===e[s].value))||(r.removed.push(e[s]),i=!0)}return i?r:void 0}},this._set(\"uniqueValueInfos\",[])}get _cache(){return{compiledFunc:null}}castField(e){return null==e||\"function\"==typeof e?e:b(e)}writeField(e,t,r,s){\"string\"==typeof e?t[r]=e:s&&s.messages?s.messages.push(new i(\"property:unsupported\",\"UniqueValueRenderer.field set to a function cannot be written to JSON\")):M.error(\".field: cannot write field to JSON since it's not a string value\")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set(\"defaultSymbol\",e)}readPortal(e,t,i){return i.portal||S.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=O(t.styleUrl,i);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=F(e.styleUrl,r))}set uniqueValueInfos(e){this.styleOrigin?M.error(\"#uniqueValueInfos=\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\"):(this._set(\"uniqueValueInfos\",e),this._updateValueInfoMap())}addUniqueValueInfo(e,i){if(this.styleOrigin)return void M.error(\"#addUniqueValueInfo()\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");let r;r=\"object\"==typeof e?N(e):new w({value:e,symbol:t(i)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)M.error(\"#removeUniqueValueInfo()\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");else for(let t=0;t<this.uniqueValueInfos.length;t++){if(this.uniqueValueInfos[t].value===e+\"\"){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(l(t)||l(t.arcade))&&(i={...i,arcade:await U()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(l(t)||l(t.arcade)))return void M.error(\"#getSymbol()\",\"Please use getSymbolAsync if valueExpression is used\");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(l(i)||l(i.arcade))){const e=await U(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const r=this._getUniqueValueInfo(e,i);return r&&r.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce(((e,t)=>e+t.getMeshHash()),\"\")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new E({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:r(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:r(this.visualVariables),legendOptions:r(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:r(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set(\"portal\",this.portal);const t=r(this.uniqueValueInfos);return this.styleOrigin&&(e._set(\"styleOrigin\",Object.freeze(r(this.styleOrigin))),Object.freeze(t)),e._set(\"uniqueValueInfos\",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(e,t))),g(e,t,this.valueExpression)];v(e,t,this.field),v(e,t,this.field2),v(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return x(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((i=>{const r=new D({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const s=new w({value:i.name,symbol:r});t.push(s),this._valueInfoMap[i.name]=s})),this._set(\"uniqueValueInfos\",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach((e=>this._valueInfoMap[e.value+\"\"]=e))}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:s,arcade:l}=o(t,{});let a=this._cache.compiledFunc;const u=n(l).arcadeUtils;if(!a){const e=u.createSyntaxTree(this.valueExpression);a=u.createFunction(e),this._cache.compiledFunc=a}const p=u.executeFunction(a,u.createExecContext(e,u.getViewInfo({viewingMode:i,scale:r,spatialReference:s})));return this._valueInfoMap[p+\"\"]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(\"function\"!=typeof t&&this.field2){const e=this.field2,s=this.field3,l=[];t&&l.push(i[t]),e&&l.push(i[e]),s&&l.push(i[s]),r=l.join(this.fieldDelimiter||\"\")}else\"function\"==typeof t?r=t(e):t&&(r=i[t]);return this._valueInfoMap[r+\"\"]}static fromPortalStyle(e,t){const i=new E(t&&t.properties);i._set(\"styleOrigin\",Object.freeze({styleName:e})),i._set(\"portal\",t&&t.portal||S.getDefault());const r=i.populateFromStyle();return r.catch((t=>{M.error(`#fromPortalStyle('${e}'[, ...])`,\"Failed to create unique value renderer from style name\",t)})),r}static fromStyleUrl(e,t){const i=new E(t&&t.properties);i._set(\"styleOrigin\",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch((t=>{M.error(`#fromStyleUrl('${e}'[, ...])`,\"Failed to create unique value renderer from style URL\",t)})),r}};e([u({readOnly:!0})],R.prototype,\"_cache\",null),e([f({uniqueValue:\"unique-value\"})],R.prototype,\"type\",void 0),e([u(I)],R.prototype,\"backgroundFillSymbol\",void 0),e([u({json:{type:String,read:{source:\"field1\"},write:{target:\"field1\"}}})],R.prototype,\"field\",void 0),e([p(\"field\")],R.prototype,\"castField\",null),e([y(\"field\")],R.prototype,\"writeField\",null),e([u({type:String,json:{write:!0}})],R.prototype,\"field2\",void 0),e([u({type:String,json:{write:!0}})],R.prototype,\"field3\",void 0),e([u({type:String,json:{write:!0}})],R.prototype,\"valueExpression\",void 0),e([u({type:String,json:{write:!0}})],R.prototype,\"valueExpressionTitle\",void 0),e([u({type:_,json:{write:!0}})],R.prototype,\"legendOptions\",void 0),e([u({type:String,json:{write:!0}})],R.prototype,\"defaultLabel\",void 0),e([u(a({...j},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{\"web-scene\":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],R.prototype,\"defaultSymbol\",null),e([u({type:String,json:{write:!0}})],R.prototype,\"fieldDelimiter\",void 0),e([u({type:S,readOnly:!0})],R.prototype,\"portal\",void 0),e([d(\"portal\",[\"styleName\"])],R.prototype,\"readPortal\",null),e([u({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],R.prototype,\"styleOrigin\",void 0),e([d(\"styleOrigin\",[\"styleName\",\"styleUrl\"])],R.prototype,\"readStyleOrigin\",null),e([y(\"styleOrigin\",{styleName:{type:String},styleUrl:{type:String}})],R.prototype,\"writeStyleOrigin\",null),e([u({type:[w],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],R.prototype,\"uniqueValueInfos\",null),R=E=e([c(\"esri.renderers.UniqueValueRenderer\")],R);const P=R;export{P as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}