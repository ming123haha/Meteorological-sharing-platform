{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { addProjViewLocalOrigin as e } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float4PassUniform as o } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { FloatPassUniform as t } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as r } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as i } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as d } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction n(n) {\n  const s = new i();\n  e(s, n), s.vertex.uniforms.add(new t(\"width\", e => e.width)), s.attributes.add(d.POSITION, \"vec3\"), s.attributes.add(d.NORMAL, \"vec3\"), s.attributes.add(d.UV0, \"vec2\"), s.attributes.add(d.AUXPOS1, \"float\"), s.varyings.add(\"vtc\", \"vec2\"), s.varyings.add(\"vlength\", \"float\"), s.varyings.add(\"vradius\", \"float\"), s.vertex.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`), s.fragment.uniforms.add([new t(\"outlineSize\", e => e.outlineSize), new o(\"outlineColor\", e => e.outlineColor), new t(\"stripeLength\", e => e.stripeLength), new o(\"stripeEvenColor\", e => e.stripeEvenColor), new o(\"stripeOddColor\", e => e.stripeOddColor)]);\n  const a = 1 / Math.sqrt(2);\n  return s.fragment.code.add(r`\n    const float INV_SQRT2 = ${r.float(a)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `), s;\n}\n\nconst s = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: n\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { s as M, n as b };","map":{"version":3,"names":["addProjViewLocalOrigin","e","Float4PassUniform","o","FloatPassUniform","t","glsl","r","ShaderBuilder","i","VertexAttribute","d","n","s","vertex","uniforms","add","width","attributes","POSITION","NORMAL","UV0","AUXPOS1","varyings","code","fragment","outlineSize","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","a","Math","sqrt","float","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","M","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as d}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function n(n){const s=new i;e(s,n),s.vertex.uniforms.add(new t(\"width\",(e=>e.width))),s.attributes.add(d.POSITION,\"vec3\"),s.attributes.add(d.NORMAL,\"vec3\"),s.attributes.add(d.UV0,\"vec2\"),s.attributes.add(d.AUXPOS1,\"float\"),s.varyings.add(\"vtc\",\"vec2\"),s.varyings.add(\"vlength\",\"float\"),s.varyings.add(\"vradius\",\"float\"),s.vertex.code.add(r`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),s.fragment.uniforms.add([new t(\"outlineSize\",(e=>e.outlineSize)),new o(\"outlineColor\",(e=>e.outlineColor)),new t(\"stripeLength\",(e=>e.stripeLength)),new o(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new o(\"stripeOddColor\",(e=>e.stripeOddColor))]);const a=1/Math.sqrt(2);return s.fragment.code.add(r`\n    const float INV_SQRT2 = ${r.float(a)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:n},Symbol.toStringTag,{value:\"Module\"}));export{s as M,n as b};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,sBAAsB,IAAIC,CAAjC,QAAuC,+DAAvC;AAAuG,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,kEAAlC;AAAqG,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,iEAAjC;AAAmG,SAAOC,IAAI,IAAIC,CAAf,QAAqB,2DAArB;AAAiF,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,8DAA9B;AAA6F,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,iDAAhC;;AAAkF,SAASC,CAAT,CAAWA,CAAX,EAAa;EAAC,MAAMC,CAAC,GAAC,IAAIJ,CAAJ,EAAR;EAAcR,CAAC,CAACY,CAAD,EAAGD,CAAH,CAAD,EAAOC,CAAC,CAACC,MAAF,CAASC,QAAT,CAAkBC,GAAlB,CAAsB,IAAIX,CAAJ,CAAM,OAAN,EAAeJ,CAAC,IAAEA,CAAC,CAACgB,KAApB,CAAtB,CAAP,EAA0DJ,CAAC,CAACK,UAAF,CAAaF,GAAb,CAAiBL,CAAC,CAACQ,QAAnB,EAA4B,MAA5B,CAA1D,EAA8FN,CAAC,CAACK,UAAF,CAAaF,GAAb,CAAiBL,CAAC,CAACS,MAAnB,EAA0B,MAA1B,CAA9F,EAAgIP,CAAC,CAACK,UAAF,CAAaF,GAAb,CAAiBL,CAAC,CAACU,GAAnB,EAAuB,MAAvB,CAAhI,EAA+JR,CAAC,CAACK,UAAF,CAAaF,GAAb,CAAiBL,CAAC,CAACW,OAAnB,EAA2B,OAA3B,CAA/J,EAAmMT,CAAC,CAACU,QAAF,CAAWP,GAAX,CAAe,KAAf,EAAqB,MAArB,CAAnM,EAAgOH,CAAC,CAACU,QAAF,CAAWP,GAAX,CAAe,SAAf,EAAyB,OAAzB,CAAhO,EAAkQH,CAAC,CAACU,QAAF,CAAWP,GAAX,CAAe,SAAf,EAAyB,OAAzB,CAAlQ,EAAoSH,CAAC,CAACC,MAAF,CAASU,IAAT,CAAcR,GAAd,CAAkBT,CAAE;AACn4B;AACA;AACA;AACA;AACA;AACA;AACA,EAP+2B,CAApS,EAOvkBM,CAAC,CAACY,QAAF,CAAWV,QAAX,CAAoBC,GAApB,CAAwB,CAAC,IAAIX,CAAJ,CAAM,aAAN,EAAqBJ,CAAC,IAAEA,CAAC,CAACyB,WAA1B,CAAD,EAAyC,IAAIvB,CAAJ,CAAM,cAAN,EAAsBF,CAAC,IAAEA,CAAC,CAAC0B,YAA3B,CAAzC,EAAmF,IAAItB,CAAJ,CAAM,cAAN,EAAsBJ,CAAC,IAAEA,CAAC,CAAC2B,YAA3B,CAAnF,EAA6H,IAAIzB,CAAJ,CAAM,iBAAN,EAAyBF,CAAC,IAAEA,CAAC,CAAC4B,eAA9B,CAA7H,EAA6K,IAAI1B,CAAJ,CAAM,gBAAN,EAAwBF,CAAC,IAAEA,CAAC,CAAC6B,cAA7B,CAA7K,CAAxB,CAPukB;EAOlV,MAAMC,CAAC,GAAC,IAAEC,IAAI,CAACC,IAAL,CAAU,CAAV,CAAV;EAAuB,OAAOpB,CAAC,CAACY,QAAF,CAAWD,IAAX,CAAgBR,GAAhB,CAAoBT,CAAE;AAC7S,8BAA8BA,CAAC,CAAC2B,KAAF,CAAQH,CAAR,CAAW;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAzBuR,GAyBlRlB,CAzB2Q;AAyBzQ;;AAAA,MAAMA,CAAC,GAACsB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,cAAP,CAAsB;EAACC,SAAS,EAAC,IAAX;EAAgBC,KAAK,EAAC3B;AAAtB,CAAtB,EAA+C4B,MAAM,CAACC,WAAtD,EAAkE;EAACC,KAAK,EAAC;AAAP,CAAlE,CAAd,CAAR;AAA2G,SAAO7B,CAAC,IAAI8B,CAAZ,EAAc/B,CAAC,IAAIgC,CAAnB"},"metadata":{},"sourceType":"module"}