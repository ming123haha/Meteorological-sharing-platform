{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Collection.js\";\nimport { on as i, eventKey as a } from \"../core/events.js\";\nimport { clone as n } from \"../core/lang.js\";\nimport s from \"../core/Logger.js\";\nimport { watch as o, initial as l } from \"../core/reactiveUtils.js\";\nimport { addProxy as r, hasSameOrigin as p } from \"../core/urlUtils.js\";\nimport { property as d } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as c } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { getToken as u } from \"../rest/utils.js\";\nimport h from \"./Widget.js\";\nimport m from \"./Print/FileLink.js\";\nimport _ from \"./Print/PrintViewModel.js\";\nimport b from \"./Print/TemplateOptions.js\";\nimport { Heading as g } from \"./support/Heading.js\";\nimport v from \"./support/Popover.js\";\nimport { isActivationKey as y, keepMenuItemWithinView as f } from \"./support/widgetUtils.js\";\nimport { messageBundle as T } from \"./support/decorators/messageBundle.js\";\nimport { tsx as w } from \"./support/jsxFactory.js\";\nconst O = t.ofType(m),\n      x = \"MAP_ONLY\";\nvar C;\n!function (e) {\n  e.layout = \"layoutTab\", e.mapOnly = \"mapOnlyTab\";\n}(C || (C = {}));\nconst L = {\n  base: \"esri-print\",\n  headerTitle: \"esri-print__header-title\",\n  inputText: \"esri-print__input-text\",\n  layoutTabList: \"esri-print__layout-tab-list\",\n  layoutTab: \"esri-print__layout-tab\",\n  layoutSection: \"esri-print__layout-section\",\n  mapOnlySection: \"esri-print__map-only-section\",\n  scaleInput: \"esri-print__scale-input\",\n  templateList: \"esri-print__template-list\",\n  templateListScroller: \"esri-print__template-list-scroller\",\n  templateListFooter: \"esri-print__template-list-footer\",\n  loader: \"esri-print__loader\",\n  advancedOptionsButton: \"esri-print__advanced-options-button\",\n  advancedOptionsButtonContainer: \"esri-print__advanced-options-button-container\",\n  advancedOptionsButtonTitle: \"esri-print__advanced-options-button-title\",\n  advancedOptionsButtonIconOpened: \"esri-print__advanced-options-button-icon--opened\",\n  advancedOptionsButtonIconClosed: \"esri-print__advanced-options-button-icon--closed\",\n  advancedOptionsButtonIconClosed_RTL: \"esri-print__advanced-options-button-icon--closed-rtl\",\n  refreshButton: \"esri-print__refresh-button\",\n  swapButton: \"esri-print__swap-button\",\n  linkButton: \"esri-print__link-button\",\n  printButton: \"esri-print__export-button\",\n  templateButton: \"esri-print__template-button\",\n  formSectionContainer: \"esri-print__form-section-container\",\n  advancedOptionsSection: \"esri-print__advanced-options-section\",\n  advancedOptionsContainer: \"esri-print__advanced-options-container\",\n  authorInfoContainer: \"esri-print__author-info-container\",\n  copyrightInfoContainer: \"esri-print__copyright-info-container\",\n  exportedFilesContainer: \"esri-print__export-panel-container\",\n  exportedFilesTitle: \"esri-print__export-title\",\n  exportedFile: \"esri-print__exported-file\",\n  exportedFileLink: \"esri-widget__anchor esri-print__exported-file-link\",\n  exportedFileLinkTitle: \"esri-print__exported-file-link-title\",\n  heightContainer: \"esri-print__height-container\",\n  legendInfoContainer: \"esri-print__legend-info-container\",\n  printWidgetContainer: \"esri-print__container\",\n  panelContainer: \"esri-print__panel-container\",\n  scaleInfoContainer: \"esri-print__scale-info-container\",\n  scaleInputContainer: \"esri-print__scale-input-container\",\n  sizeContainer: \"esri-print__size-container\",\n  widthContainer: \"esri-print__width-container\",\n  widget: \"esri-widget\",\n  panel: \"esri-widget--panel\",\n  widgetButton: \"esri-widget--button\",\n  button: \"esri-button\",\n  buttonSecondary: \"esri-button--secondary\",\n  buttonTertiary: \"esri-button--tertiary\",\n  select: \"esri-select\",\n  input: \"esri-input\",\n  disabled: \"esri-disabled\",\n  anchorDisabled: \"esri-widget__anchor--disabled\",\n  buttonDisabled: \"esri-button--disabled\",\n  panelError: \"esri-print__panel--error\",\n  exportedFileError: \"esri-print__exported-file--error\",\n  hide: \"esri-hidden\",\n  rotate: \"esri-rotating\",\n  anchor: \"esri-widget__anchor\",\n  menu: \"esri-menu\",\n  menuList: \"esri-menu__list\",\n  menuItem: \"esri-menu__list-item\",\n  menuItemFocus: \"esri-menu__list-item--focus\",\n  menuHeader: \"esri-menu__header\",\n  iconCheckMark: \"esri-icon-check-mark\",\n  iconDownload: \"esri-icon-download\",\n  iconLaunchLink: \"esri-icon-launch-link-external\",\n  iconError: \"esri-icon-error\",\n  iconPrinter: \"esri-icon-printer\",\n  iconRightTriangleArrow: \"esri-icon-right-triangle-arrow\",\n  iconLeftTriangleArrow: \"esri-icon-left-triangle-arrow\",\n  iconDownArrow: \"esri-icon-down-arrow\",\n  iconRefresh: \"esri-icon-refresh\",\n  iconSpinner: \"esri-icon-loading-indicator\",\n  iconSwap: \"esri-icon-swap\",\n  iconLinked: \"esri-icon-link-horizontal\",\n  iconUnlinked: \"esri-icon-unlocked-link-horizontal\",\n  widgetIcon: \"esri-icon-printer\"\n},\n      k = \"User sets an invalid layout, resetting it to the default valid one...\",\n      I = \"User sets an invalid format, resetting it to the default valid one...\";\n\nfunction S(e) {\n  const t = 8.3333,\n        i = 11.4583;\n  return {\n    width: Math.round(e * t),\n    height: Math.round(e * i)\n  };\n}\n\nfunction M(e) {\n  return !isNaN(e) && e > 0;\n}\n\nfunction F(e) {\n  return e?.toUpperCase() === x;\n}\n\nlet E = class extends h {\n  constructor(e, t) {\n    super(e, t), this._activeTabFocusRequested = !1, this._advancedOptionsVisibleForLayout = !1, this._advancedOptionsVisibleForMapOnly = !1, this._awaitingServerResponse = !1, this._exportedFileNameMap = {}, this._focusedTemplateIndex = 0, this._layoutTabSelected = !0, this._pendingExportScroll = !1, this._rootNode = null, this._selectTemplateNode = null, this._templateListPopover = new v({\n      owner: this,\n      placement: \"top\",\n      offset: [0, -100],\n      anchorElement: () => this._selectTemplateNode,\n      renderContentFunction: this.renderTemplateList\n    }), this.exportedLinks = new O(), this.headingLevel = 3, this.iconClass = L.widgetIcon, this.templateOptions = new b(), this.viewModel = new _(), this.handleTemplateListCreation = e => e.focus(), this.handleTemplateChildBlur = e => {\n      const t = e.relatedTarget?.closest(`.${L.templateList}`);\n      t || this.handleCloseTemplateSelection();\n    }, this.handleCloseTemplateSelection = () => {\n      this._focusedTemplateIndex = 0, this._templateListPopover.open = !1, this._selectTemplateNode.focus();\n    }, this.handleSelectTemplateClick = () => {\n      this._focusedTemplateIndex = 0, this._templateListPopover.open = !0;\n    }, this.handleTemplateListClick = e => {\n      const t = e.target;\n      this.applyTemplate(t[\"data-template\"]);\n    }, this.handleTemplateListKeyDown = e => {\n      if (y(e.key)) return this.applyTemplate(this.viewModel.defaultTemplates.getItemAt(this._focusedTemplateIndex)), void e.preventDefault();\n\n      if (\"ArrowDown\" === e.key || \"ArrowUp\" === e.key) {\n        const {\n          defaultTemplates: t\n        } = this.viewModel,\n              i = \"ArrowDown\" === e.key ? 1 : -1,\n              a = (this._focusedTemplateIndex + i) % t.length;\n        this._focusedTemplateIndex = a < 0 ? t.length - 1 : a;\n        const n = e.currentTarget;\n        f(n.querySelectorAll(`.${L.menuItem}`)[this._focusedTemplateIndex], n.parentElement), e.preventDefault();\n      }\n\n      \"Escape\" === e.key && this.handleCloseTemplateSelection();\n    }, this._removeLink = e => {\n      const t = e.currentTarget[\"data-item\"];\n      t && \"error\" === t.state && this.exportedLinks.remove(t);\n    }, this._handleLinkClick = e => {\n      const t = e.currentTarget,\n            {\n        href: i\n      } = t,\n            a = u(this.viewModel.effectivePrintServiceUrl);\n      if (!a) return;\n      if (!e.isTrusted) return void e.stopPropagation();\n      e.preventDefault();\n      const n = new URL(i);\n      n.searchParams.set(\"token\", a), t.href = n.href, t.click(), t.href = i;\n    }, this._focusOnTabChange = this._focusOnTabChange.bind(this);\n  }\n\n  initialize() {\n    this.addHandles([o(() => this.viewModel?.templatesInfo, e => {\n      const {\n        format: t,\n        layout: i\n      } = this.templateOptions;\n\n      if (e) {\n        const a = i === e.layout.defaultValue || F(i) || e.layout.choiceList && e.layout.choiceList.includes(i),\n              n = t === e.format.defaultValue || e.format.choiceList && e.format.choiceList.includes(t);\n        a || (i && s.getLogger(this.declaredClass).warn(k), this.templateOptions.layout = e.layout.defaultValue), n || (t && s.getLogger(this.declaredClass).warn(I), this.templateOptions.format = e.format.defaultValue), F(i) && (this._layoutTabSelected = !1);\n      }\n    }, l), o(() => this.templateOptions?.format, e => {\n      const {\n        viewModel: {\n          templatesInfo: t\n        }\n      } = this;\n\n      if (t && e) {\n        let i = !1;\n        t.format.choiceList && t.format.choiceList.forEach(t => {\n          t.toUpperCase() === e.toUpperCase() && (this.templateOptions.format = t, i = !0);\n        }), i || (this.templateOptions.format = t.format.defaultValue, s.getLogger(this.declaredClass).warn(I)), this.scheduleRender();\n      }\n    }, l), o(() => this.templateOptions?.layout, e => {\n      const {\n        viewModel: {\n          templatesInfo: t\n        }\n      } = this;\n\n      if (t && e) {\n        this._layoutTabSelected = !F(e);\n        let i = !this._layoutTabSelected;\n        i || t.layout.choiceList && t.layout.choiceList.forEach(t => {\n          t.toUpperCase() === e.toUpperCase() && (this.templateOptions.layout = t, i = !0);\n        }), i || (this.templateOptions.layout = t.layout.defaultValue, s.getLogger(this.declaredClass).warn(k));\n        const a = this.viewModel.effectiveTemplateCustomTextElements[this.templateOptions.layout];\n        this.templateOptions.customTextElements = a ? n(a) : null, this.scheduleRender();\n      }\n    }, l), o(() => this.templateOptions?.dpi, e => {\n      e <= 0 ? this.templateOptions.dpi = 1 : this.scheduleRender();\n    }, l), o(() => this.viewModel?.view?.scale, e => {\n      const {\n        scale: t,\n        scaleEnabled: i\n      } = this.templateOptions;\n      i && t || (this.templateOptions.scale = e);\n    }, l)]);\n    const {\n      height: e,\n      width: t\n    } = this.templateOptions;\n    this.templateOptions.width = t || 800, this.templateOptions.height = e || 1100;\n    const i = setTimeout(() => {\n      this._awaitingServerResponse = !0, this.scheduleRender();\n    }, 500);\n    this.viewModel.load().then(() => clearTimeout(i));\n  }\n\n  get allowedFormats() {\n    return this.viewModel.allowedFormats;\n  }\n\n  set allowedFormats(e) {\n    this.viewModel.allowedFormats = e;\n  }\n\n  get allowedLayouts() {\n    return this.viewModel.allowedLayouts;\n  }\n\n  set allowedLayouts(e) {\n    this.viewModel.allowedLayouts = e;\n  }\n\n  get error() {\n    return this.viewModel.error;\n  }\n\n  get extraParameters() {\n    return this.viewModel.extraParameters;\n  }\n\n  set extraParameters(e) {\n    this.viewModel.extraParameters = e;\n  }\n\n  get includeDefaultTemplates() {\n    return this.viewModel.includeDefaultTemplates;\n  }\n\n  set includeDefaultTemplates(e) {\n    this.viewModel.includeDefaultTemplates = e;\n  }\n\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n\n  get portal() {\n    return this.viewModel.portal;\n  }\n\n  set portal(e) {\n    this.viewModel.portal = e;\n  }\n\n  get printServiceUrl() {\n    return this.viewModel.printServiceUrl;\n  }\n\n  set printServiceUrl(e) {\n    this.viewModel.printServiceUrl = e;\n  }\n\n  get templateCustomTextElements() {\n    return this.viewModel.templateCustomTextElements;\n  }\n\n  set templateCustomTextElements(e) {\n    this.viewModel.templateCustomTextElements = e;\n  }\n\n  get view() {\n    return this.viewModel.view;\n  }\n\n  set view(e) {\n    this.viewModel.view = e;\n  }\n\n  render() {\n    const {\n      attributionEnabled: e,\n      author: t,\n      copyright: i,\n      dpi: a,\n      format: n,\n      height: s,\n      layout: o,\n      legendEnabled: l,\n      northArrowEnabled: r,\n      scaleEnabled: p,\n      scale: d,\n      width: c\n    } = this.templateOptions,\n          u = \"ready\" !== this.get(\"viewModel.state\"),\n          h = this.renderTitleOrFileNameSection(),\n          {\n      includeDefaultTemplates: m,\n      messages: _,\n      viewModel: b\n    } = this,\n          v = this.get(\"viewModel.templatesInfo.format.choiceList\") || [],\n          y = v.length > 0 ? v.map(e => w(\"option\", {\n      key: e,\n      selected: e === n,\n      value: e\n    }, e.toUpperCase())) : w(\"option\", {\n      key: \"format-default-option\"\n    }, _.formatDefaultOption),\n          f = w(\"div\", {\n      class: L.formSectionContainer\n    }, w(\"label\", null, _.fileFormatTitle, w(\"select\", {\n      class: L.select,\n      onchange: this._updateFromOption,\n      \"data-target-property\": \"format\",\n      bind: this\n    }, y))),\n          T = this.get(\"viewModel.templatesInfo.layout.choiceList\") || [],\n          O = T.length > 0 ? T.map(e => {\n      const t = e === o,\n            i = _[e] || e;\n      return w(\"option\", {\n        key: e,\n        selected: t,\n        value: e\n      }, i);\n    }) : w(\"option\", {\n      key: \"layout-default-option\"\n    }, _.layoutDefaultOption),\n          x = w(\"div\", {\n      class: L.formSectionContainer\n    }, w(\"label\", null, _.layoutTitle, w(\"select\", {\n      class: L.select,\n      onchange: this._updateFromOption,\n      \"data-target-property\": \"layout\",\n      bind: this\n    }, O))),\n          k = w(\"div\", {\n      class: L.formSectionContainer\n    }, w(\"label\", null, _.dpi, w(\"input\", {\n      type: \"number\",\n      class: this.classes(L.inputText, L.input),\n      \"data-input-name\": \"dpi\",\n      onchange: this._handleDPIChange,\n      value: `${a}`,\n      min: \"1\",\n      tabIndex: 0,\n      bind: this\n    }))),\n          I = w(\"div\", {\n      class: this.classes(L.scaleInfoContainer, L.formSectionContainer)\n    }, w(\"label\", null, w(\"input\", {\n      \"data-option-name\": \"scaleEnabled\",\n      checked: p,\n      type: \"checkbox\",\n      tabIndex: 0,\n      onchange: this._toggleInputValue,\n      bind: this\n    }), _.scale), w(\"div\", {\n      class: L.scaleInputContainer\n    }, w(\"input\", {\n      \"aria-label\": _.scaleLabel,\n      \"aria-valuenow\": `${d}`,\n      role: \"spinbutton\",\n      type: \"number\",\n      class: this.classes(L.inputText, L.input, L.scaleInput),\n      tabIndex: 0,\n      \"data-input-name\": \"scale\",\n      onchange: this._updateInputValue,\n      disabled: !p,\n      value: `${d}`,\n      bind: this\n    }), w(\"button\", {\n      type: \"button\",\n      \"aria-label\": _.reset,\n      class: this.classes(L.widgetButton, L.refreshButton, L.iconRefresh),\n      tabIndex: 0,\n      onclick: this._resetToCurrentScale,\n      bind: this\n    }))),\n          S = this._advancedOptionsVisibleForLayout ? w(\"div\", {\n      \"aria-labelledby\": `${this.id}__advancedOptionsForLayout`,\n      class: L.advancedOptionsContainer\n    }, I, w(\"div\", {\n      class: this.classes(L.authorInfoContainer, L.formSectionContainer)\n    }, w(\"label\", null, _.author, w(\"input\", {\n      type: \"text\",\n      value: t,\n      class: this.classes(L.inputText, L.input),\n      tabIndex: 0,\n      \"data-input-name\": \"author\",\n      onchange: this._updateInputValue,\n      bind: this\n    }))), w(\"div\", {\n      class: this.classes(L.copyrightInfoContainer, L.formSectionContainer)\n    }, w(\"label\", null, _.copyright, w(\"input\", {\n      type: \"text\",\n      class: this.classes(L.inputText, L.input),\n      tabIndex: 0,\n      value: i,\n      \"data-input-name\": \"copyright\",\n      onchange: this._updateInputValue,\n      bind: this\n    }))), k, w(\"div\", {\n      class: this.classes(L.legendInfoContainer, L.formSectionContainer)\n    }, w(\"label\", null, w(\"input\", {\n      type: \"checkbox\",\n      \"data-option-name\": \"legendEnabled\",\n      tabIndex: 0,\n      checked: l,\n      onchange: this._toggleInputValue,\n      bind: this\n    }), _.legend)), this.viewModel.templateToNorthArrowInfo[o] ? w(\"div\", {\n      class: this.classes(L.legendInfoContainer, L.formSectionContainer),\n      key: \"north-arrow\"\n    }, w(\"label\", null, w(\"input\", {\n      type: \"checkbox\",\n      \"data-option-name\": \"northArrowEnabled\",\n      tabIndex: 0,\n      checked: r,\n      onchange: this._toggleInputValue,\n      bind: this\n    }), _.northArrow)) : null, this.renderCustomTextElementSection()) : null,\n          M = this._advancedOptionsVisibleForMapOnly ? w(\"div\", {\n      \"aria-labelledby\": `${this.id}__advancedOptionsForMapOnly`,\n      class: L.advancedOptionsContainer\n    }, I, k, w(\"div\", {\n      class: L.formSectionContainer\n    }, w(\"label\", null, w(\"input\", {\n      \"data-option-name\": \"attributionEnabled\",\n      type: \"checkbox\",\n      onchange: this._toggleInputValue,\n      tabIndex: 0,\n      checked: e,\n      bind: this\n    }), _.attribution)), this.renderCustomTextElementSection()) : null,\n          F = this._layoutTabSelected ? w(\"section\", {\n      key: \"esri-print__layoutContent\",\n      id: `${this.id}__layoutContent`,\n      \"aria-labelledby\": `${this.id}__layoutTab`,\n      class: L.layoutSection,\n      role: \"tabpanel\",\n      \"aria-selected\": this._layoutTabSelected.toString()\n    }, w(\"div\", {\n      class: L.panelContainer\n    }, h, x, this._layoutTabSelected ? f : null), w(\"div\", {\n      class: this.classes(L.panelContainer, L.advancedOptionsSection)\n    }, w(\"button\", {\n      \"aria-label\": _.advancedOptions,\n      \"aria-expanded\": this._advancedOptionsVisibleForLayout ? \"true\" : \"false\",\n      class: L.advancedOptionsButton,\n      onclick: this._showAdvancedOptions,\n      bind: this,\n      type: \"button\"\n    }, w(\"div\", {\n      class: L.advancedOptionsButtonContainer\n    }, w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconRightTriangleArrow, L.advancedOptionsButtonIconClosed)\n    }), w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconLeftTriangleArrow, L.advancedOptionsButtonIconClosed_RTL)\n    }), w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconDownArrow, L.advancedOptionsButtonIconOpened)\n    }), w(\"span\", {\n      class: L.advancedOptionsButtonTitle\n    }, _.advancedOptions))), S)) : w(\"section\", {\n      key: \"esri-print__mapOnlyContent\",\n      id: `${this.id}__mapOnlyContent`,\n      \"aria-selected\": (!this._layoutTabSelected).toString(),\n      \"aria-labelledby\": `${this.id}__mapOnlyTab`,\n      class: L.mapOnlySection,\n      role: \"tabpanel\"\n    }, w(\"div\", {\n      class: L.panelContainer\n    }, h, this._layoutTabSelected ? null : f, w(\"div\", {\n      class: this.classes(L.sizeContainer, L.formSectionContainer)\n    }, w(\"div\", {\n      class: L.widthContainer\n    }, w(\"label\", null, _.width, w(\"input\", {\n      type: \"number\",\n      class: this.classes(L.inputText, L.input),\n      \"data-input-name\": \"width\",\n      onchange: this._updateInputValue,\n      value: `${c}`,\n      tabIndex: 0,\n      bind: this\n    }))), w(\"div\", {\n      class: L.heightContainer\n    }, w(\"label\", null, _.height, w(\"input\", {\n      type: \"number\",\n      class: this.classes(L.inputText, L.input),\n      \"data-input-name\": \"height\",\n      onchange: this._updateInputValue,\n      value: `${s}`,\n      tabIndex: 0,\n      bind: this\n    }))), w(\"button\", {\n      type: \"button\",\n      \"aria-label\": _.swap,\n      class: this.classes(L.widgetButton, L.swapButton, L.iconSwap),\n      onclick: this._switchInput,\n      tabIndex: 0,\n      bind: this\n    })), w(\"div\", {\n      class: this.classes(L.panelContainer, L.advancedOptionsSection)\n    }, w(\"button\", {\n      \"aria-label\": _.advancedOptions,\n      \"aria-expanded\": this._advancedOptionsVisibleForMapOnly ? \"true\" : \"false\",\n      type: \"button\",\n      class: L.advancedOptionsButton,\n      onclick: this._showAdvancedOptions,\n      bind: this\n    }, w(\"div\", {\n      class: L.advancedOptionsButtonContainer\n    }, w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconRightTriangleArrow, L.advancedOptionsButtonIconClosed)\n    }), w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconLeftTriangleArrow, L.advancedOptionsButtonIconClosed_RTL)\n    }), w(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(L.iconDownArrow, L.advancedOptionsButtonIconOpened)\n    }), w(\"span\", {\n      class: L.advancedOptionsButtonTitle\n    }, _.advancedOptions))), M))),\n          E = this.exportedLinks.toArray(),\n          A = this._renderExportedLink(E),\n          P = {\n      [L.buttonDisabled]: u || !o && !n\n    },\n          V = null != this.get(\"view\") && \"2d\" !== this.get(\"view.type\"),\n          B = w(\"div\", {\n      class: L.panelError\n    }, V ? _.sceneViewError : _.serviceError),\n          D = w(\"div\", null, w(\"ul\", {\n      class: L.layoutTabList,\n      role: \"tablist\",\n      onclick: this._toggleLayoutPanel,\n      onkeydown: this._handleLayoutPanelKeyDown,\n      bind: this\n    }, w(\"li\", {\n      afterCreate: this._focusOnTabChange,\n      afterUpdate: this._focusOnTabChange,\n      id: `${this.id}__layoutTab`,\n      \"data-tab-id\": C.layout,\n      class: L.layoutTab,\n      role: \"tab\",\n      tabIndex: 0,\n      \"aria-selected\": `${this._layoutTabSelected}`\n    }, _.layoutTab), w(\"li\", {\n      afterCreate: this._focusOnTabChange,\n      afterUpdate: this._focusOnTabChange,\n      id: `${this.id}__mapOnlyTab`,\n      \"data-tab-id\": C.mapOnly,\n      class: L.layoutTab,\n      role: \"tab\",\n      tabIndex: 0,\n      \"aria-selected\": `${!this._layoutTabSelected}`\n    }, _.mapOnlyTab)), F, w(\"button\", {\n      \"aria-label\": _.exportDescription,\n      type: \"button\",\n      class: this.classes(L.printButton, L.button, P),\n      disabled: u,\n      tabIndex: 0,\n      onclick: this._handlePrintMap,\n      bind: this\n    }, _.export), m && b.defaultTemplates.length > 0 ? this.renderTemplateSectionTrigger() : null, w(\"div\", {\n      class: L.exportedFilesContainer,\n      afterUpdate: this._scrollExportIntoView,\n      bind: this\n    }, w(g, {\n      class: L.exportedFilesTitle,\n      level: this.headingLevel\n    }, _.exportText), E.length > 0 ? null : w(\"div\", null, w(\"div\", null, _.exportHint)), A)),\n          N = w(\"div\", {\n      class: L.printWidgetContainer\n    }, w(\"header\", {\n      class: L.headerTitle\n    }, _.export), this.error || V || !this.view ? B : D),\n          $ = \"initializing\" === this.get(\"viewModel.state\") ? this._renderLoader() : N;\n\n    return w(\"div\", {\n      afterCreate: this._handleRootAfterCreate,\n      bind: this,\n      class: this.classes(L.base, L.widget, L.panel)\n    }, $);\n  }\n\n  renderTemplateSectionTrigger() {\n    const {\n      messages: e,\n      _templateListPopover: t\n    } = this,\n          i = t.open;\n    return w(\"button\", {\n      afterCreate: e => this._selectTemplateNode = e,\n      \"aria-controls\": i ? `${this.id}__template-selection` : \"\",\n      \"aria-label\": e.selectTemplateDescription,\n      \"aria-pressed\": i.toString(),\n      class: this.classes(L.button, L.buttonTertiary, L.templateButton),\n      onclick: this.handleSelectTemplateClick,\n      title: e.selectTemplateDescription,\n      type: \"button\"\n    }, e.selectTemplate);\n  }\n\n  renderCustomTextElementSection() {\n    const {\n      templateOptions: {\n        customTextElements: e\n      }\n    } = this;\n    return e ? w(\"div\", {\n      class: L.formSectionContainer,\n      key: \"custom-text-elements\"\n    }, e.map(e => {\n      const [t, i] = Object.entries(e)[0];\n      return \"date\" === t ? null : w(\"label\", {\n        key: t\n      }, t, w(\"input\", {\n        bind: this,\n        class: this.classes(L.inputText, L.input),\n        \"data-input-custom\": !0,\n        \"data-input-name\": t,\n        onchange: this._updateInputValue,\n        type: \"text\",\n        value: i\n      }));\n    })) : null;\n  }\n\n  renderTemplateList() {\n    const {\n      messages: e,\n      messagesCommon: t,\n      viewModel: i\n    } = this,\n          {\n      defaultTemplates: a\n    } = i,\n          n = e.selectTemplateDescription,\n          s = `${this.id}__template-selection`;\n    return w(\"div\", {\n      class: this.classes(L.templateList, L.widget, L.panel),\n      id: s\n    }, w(g, {\n      class: L.menuHeader,\n      level: this.headingLevel\n    }, e.selectTemplate), w(\"div\", {\n      class: L.templateListScroller\n    }, w(\"ul\", {\n      afterCreate: this.handleTemplateListCreation,\n      \"aria-activedescendant\": `${this.id}__template-item--${this._focusedTemplateIndex}`,\n      \"aria-label\": n,\n      class: L.menuList,\n      key: \"templates\",\n      onblur: this.handleTemplateChildBlur,\n      onclick: this.handleTemplateListClick,\n      onkeydown: this.handleTemplateListKeyDown,\n      role: \"listbox\",\n      tabIndex: 0,\n      title: n\n    }, a.toArray().map((t, i) => {\n      const {\n        description: a\n      } = t,\n            n = i === this._focusedTemplateIndex,\n            s = t.label;\n      return w(\"li\", {\n        \"aria-label\": a,\n        class: this.classes(L.menuItem, {\n          [L.menuItemFocus]: n\n        }),\n        \"data-template\": t,\n        id: `${this.id}__template-item--${i}`,\n        key: s,\n        title: a\n      }, F(s) ? e.mapOnlyTab : s);\n    }))), w(\"div\", {\n      class: L.templateListFooter\n    }, w(\"button\", {\n      type: \"button\",\n      class: this.classes(L.button, L.buttonSecondary),\n      onblur: this.handleTemplateChildBlur,\n      onclick: this.handleCloseTemplateSelection\n    }, t.done)));\n  }\n\n  applyTemplate(e) {\n    const {\n      format: t,\n      layout: i,\n      layoutOptions: a\n    } = e,\n          {\n      templateOptions: n\n    } = this;\n    this._templateListPopover.open = !1, this._toggleTab(\"map-only\" === i ? C.mapOnly : C.layout, !1), t && (n.format = t), i && (n.layout = i), this._focusedTemplateIndex = null, n.legendEnabled = a?.legend ?? n.legendEnabled, this.handleCloseTemplateSelection();\n  }\n\n  renderTitleOrFileNameSection() {\n    const {\n      templateOptions: e,\n      messages: t\n    } = this;\n    let i, a, n, s;\n    return this._layoutTabSelected ? (i = t.title, a = t.titlePlaceHolder, n = e.title, s = \"title\") : (i = t.fileName, a = t.fileNamePlaceHolder, n = e.fileName, s = \"fileName\"), w(\"div\", {\n      class: L.formSectionContainer,\n      key: s\n    }, w(\"label\", null, i, w(\"input\", {\n      type: \"text\",\n      tabIndex: 0,\n      placeholder: a,\n      class: this.classes(L.inputText, L.input),\n      value: n,\n      \"data-input-name\": s,\n      onchange: this._updateInputValue,\n      bind: this\n    })));\n  }\n\n  _handleRootAfterCreate(e) {\n    this._rootNode = e, this.addHandles(i(e, \"scroll\", () => {\n      this._templateListPopover.open && this.handleCloseTemplateSelection();\n    }));\n  }\n\n  _focusOnTabChange(e) {\n    if (!this._activeTabFocusRequested) return;\n    const t = e.getAttribute(\"data-tab-id\");\n    (\"layoutTab\" === t && this._layoutTabSelected || \"mapOnlyTab\" === t && !this._layoutTabSelected) && (e.focus(), this._activeTabFocusRequested = !1);\n  }\n\n  _renderLoader() {\n    const e = {\n      [L.loader]: this._awaitingServerResponse\n    };\n    return w(\"div\", {\n      class: this.classes(e),\n      key: \"loader\"\n    });\n  }\n\n  _createFileLink(e, t) {\n    const i = t || this.messages.untitled,\n          a = e.format.toLowerCase(),\n          n = a.includes(\"png\") ? \"png\" : a,\n          s = i + n;\n    return void 0 !== this._exportedFileNameMap[s] ? this._exportedFileNameMap[s]++ : this._exportedFileNameMap[s] = 0, new m({\n      name: i,\n      extension: n,\n      count: this._exportedFileNameMap[s]\n    });\n  }\n\n  _resetToCurrentScale() {\n    this.templateOptions.scale = this.viewModel.view.scale;\n  }\n\n  _updateCustomTextElementValue(e, t, i) {\n    e.find(e => {\n      const [i] = Object.entries(e)[0];\n      return i === t;\n    })[t] = i;\n  }\n\n  _updateInputValue(e) {\n    const t = e.target,\n          i = t.getAttribute(\"data-input-name\"),\n          a = !!t[\"data-input-custom\"],\n          {\n      templateOptions: n\n    } = this;\n    if (a) return void this._updateCustomTextElementValue(n.customTextElements, i, t.value);\n    let s;\n\n    if (\"number\" === t.type) {\n      if (!M(t.valueAsNumber)) {\n        const e = n[i];\n        return void (t.value = `${e}`);\n      }\n\n      s = t.valueAsNumber;\n    } else s = t.value;\n\n    n[i] = s;\n  }\n\n  _handleDPIChange(e) {\n    this._updateInputValue(e);\n\n    const t = e.currentTarget.valueAsNumber,\n          {\n      height: i,\n      width: a\n    } = S(t),\n          {\n      templateOptions: n\n    } = this;\n    n.height = i, n.width = a;\n  }\n\n  _handlePrintMap() {\n    this._pendingExportScroll = !0;\n\n    const {\n      templateOptions: e\n    } = this,\n          t = this.viewModel.toPrintTemplate(e),\n          i = this._layoutTabSelected ? t.layoutOptions.titleText : e.fileName,\n          a = this._createFileLink(t, i);\n\n    this.exportedLinks.add(a), this.emit(\"submit\", {\n      link: a\n    }), this.viewModel.print(t).then(e => {\n      a.set({\n        url: e && e.url,\n        state: \"ready\"\n      });\n    }).catch(e => {\n      a.set({\n        error: e,\n        state: \"error\"\n      });\n    }).then(() => {\n      this.emit(\"complete\", {\n        link: a\n      }), this.scheduleRender();\n    });\n  }\n\n  _updateFromOption(e) {\n    const t = e.target,\n          i = t.selectedOptions ? t.selectedOptions.item(0).value : t.options[t.selectedIndex].value,\n          a = t.getAttribute(\"data-target-property\");\n    this.templateOptions[a] = i;\n  }\n\n  _switchInput() {\n    [this.templateOptions.width, this.templateOptions.height] = [this.templateOptions.height, this.templateOptions.width];\n  }\n\n  _showAdvancedOptions() {\n    this._layoutTabSelected ? this._advancedOptionsVisibleForLayout = !this._advancedOptionsVisibleForLayout : this._advancedOptionsVisibleForMapOnly = !this._advancedOptionsVisibleForMapOnly;\n  }\n\n  _scrollExportIntoView() {\n    if (this._pendingExportScroll) {\n      this._pendingExportScroll = !1;\n      const {\n        _rootNode: e,\n        _rootNode: {\n          clientHeight: t,\n          scrollHeight: i\n        }\n      } = this,\n            a = i - t;\n      a > 0 && (e.scrollTop = a);\n    }\n  }\n\n  _toggleInputValue(e) {\n    const t = e.target,\n          i = t.getAttribute(\"data-option-name\");\n    this.templateOptions[i] = t.checked, \"scaleEnabled\" === i && (this.templateOptions[i] || this._resetToCurrentScale());\n  }\n\n  _renderExportedLink(e) {\n    const t = this.messages;\n    return e.map(e => {\n      const {\n        error: i,\n        url: a,\n        formattedName: n,\n        state: s\n      } = e,\n            o = \"error\" === s,\n            l = \"pending\" === s,\n            d = \"ready\" === s,\n            c = {\n        [L.anchorDisabled]: l || o\n      };\n      let u = a || null;\n      u && (u = r(u));\n      const h = p(a, location.href),\n            m = {\n        [L.iconSpinner]: l,\n        [L.rotate]: l,\n        [L.iconDownload]: h && d,\n        [L.iconLaunchLink]: !h && d,\n        [L.iconError]: o,\n        [L.exportedFileError]: o\n      },\n            _ = {\n        [L.exportedFileError]: o\n      };\n      let b;\n      b = l ? t.pending : d ? t.ready : t.errorMessage;\n      const g = o ? \"print-task:cim-symbol-unsupported\" === i.name ? t.exportWebMapCIMError : t.exportWebMapError : \"\";\n      return w(\"div\", {\n        \"aria-label\": b,\n        class: L.exportedFile,\n        \"data-item\": e,\n        key: n,\n        onclick: this._removeLink,\n        title: g\n      }, w(\"a\", {\n        \"aria-label\": `${n}. ${t.linkReady}`,\n        download: n,\n        href: u,\n        rel: \"noreferrer\",\n        tabIndex: 0,\n        target: \"_blank\",\n        class: this.classes(L.exportedFileLink, c),\n        onclick: this._handleLinkClick\n      }, w(\"span\", {\n        class: this.classes(m)\n      }), w(\"span\", {\n        class: this.classes(L.exportedFileLinkTitle, _)\n      }, n)));\n    });\n  }\n\n  _toggleLayoutPanel(e) {\n    const t = e.target;\n\n    this._toggleTab(t.getAttribute(\"data-tab-id\"));\n  }\n\n  _toggleTab(e, t = !0) {\n    if (this._layoutTabSelected = e === C.layout, this._layoutTabSelected) {\n      const e = this.get(\"viewModel.templatesInfo.layout.choiceList\");\n      this.templateOptions.layout = e && e[0];\n    } else this.templateOptions.layout = x;\n\n    t && (this._activeTabFocusRequested = !0);\n  }\n\n  _handleLayoutPanelKeyDown(e) {\n    const t = a(e),\n          i = e.target.getAttribute(\"data-tab-id\");\n    if (y(t)) return this._toggleTab(i), e.preventDefault(), void e.stopPropagation();\n    \"ArrowLeft\" !== t && \"ArrowRight\" !== t || (this._toggleTab(i === C.layout ? C.mapOnly : C.layout), e.preventDefault(), e.stopPropagation());\n  }\n\n};\ne([d()], E.prototype, \"allowedFormats\", null), e([d()], E.prototype, \"allowedLayouts\", null), e([d()], E.prototype, \"error\", null), e([d({\n  type: O\n})], E.prototype, \"exportedLinks\", void 0), e([d()], E.prototype, \"extraParameters\", null), e([d()], E.prototype, \"headingLevel\", void 0), e([d()], E.prototype, \"iconClass\", void 0), e([d()], E.prototype, \"includeDefaultTemplates\", null), e([d()], E.prototype, \"label\", null), e([d(), T(\"esri/widgets/Print/t9n/Print\")], E.prototype, \"messages\", void 0), e([d(), T(\"esri/t9n/common\")], E.prototype, \"messagesCommon\", void 0), e([d()], E.prototype, \"portal\", null), e([d()], E.prototype, \"printServiceUrl\", null), e([d()], E.prototype, \"templateCustomTextElements\", null), e([d({\n  type: b\n})], E.prototype, \"templateOptions\", void 0), e([d()], E.prototype, \"view\", null), e([d({\n  type: _\n})], E.prototype, \"viewModel\", void 0), E = e([c(\"esri.widgets.Print\")], E);\nconst A = E;\nexport { A as default };","map":{"version":3,"names":["_","e","t","on","i","eventKey","a","clone","n","s","watch","o","initial","l","addProxy","r","hasSameOrigin","p","property","d","subclass","c","getToken","u","h","m","b","Heading","g","v","isActivationKey","y","keepMenuItemWithinView","f","messageBundle","T","tsx","w","O","ofType","x","C","layout","mapOnly","L","base","headerTitle","inputText","layoutTabList","layoutTab","layoutSection","mapOnlySection","scaleInput","templateList","templateListScroller","templateListFooter","loader","advancedOptionsButton","advancedOptionsButtonContainer","advancedOptionsButtonTitle","advancedOptionsButtonIconOpened","advancedOptionsButtonIconClosed","advancedOptionsButtonIconClosed_RTL","refreshButton","swapButton","linkButton","printButton","templateButton","formSectionContainer","advancedOptionsSection","advancedOptionsContainer","authorInfoContainer","copyrightInfoContainer","exportedFilesContainer","exportedFilesTitle","exportedFile","exportedFileLink","exportedFileLinkTitle","heightContainer","legendInfoContainer","printWidgetContainer","panelContainer","scaleInfoContainer","scaleInputContainer","sizeContainer","widthContainer","widget","panel","widgetButton","button","buttonSecondary","buttonTertiary","select","input","disabled","anchorDisabled","buttonDisabled","panelError","exportedFileError","hide","rotate","anchor","menu","menuList","menuItem","menuItemFocus","menuHeader","iconCheckMark","iconDownload","iconLaunchLink","iconError","iconPrinter","iconRightTriangleArrow","iconLeftTriangleArrow","iconDownArrow","iconRefresh","iconSpinner","iconSwap","iconLinked","iconUnlinked","widgetIcon","k","I","S","width","Math","round","height","M","isNaN","F","toUpperCase","E","constructor","_activeTabFocusRequested","_advancedOptionsVisibleForLayout","_advancedOptionsVisibleForMapOnly","_awaitingServerResponse","_exportedFileNameMap","_focusedTemplateIndex","_layoutTabSelected","_pendingExportScroll","_rootNode","_selectTemplateNode","_templateListPopover","owner","placement","offset","anchorElement","renderContentFunction","renderTemplateList","exportedLinks","headingLevel","iconClass","templateOptions","viewModel","handleTemplateListCreation","focus","handleTemplateChildBlur","relatedTarget","closest","handleCloseTemplateSelection","open","handleSelectTemplateClick","handleTemplateListClick","target","applyTemplate","handleTemplateListKeyDown","key","defaultTemplates","getItemAt","preventDefault","length","currentTarget","querySelectorAll","parentElement","_removeLink","state","remove","_handleLinkClick","href","effectivePrintServiceUrl","isTrusted","stopPropagation","URL","searchParams","set","click","_focusOnTabChange","bind","initialize","addHandles","templatesInfo","format","defaultValue","choiceList","includes","getLogger","declaredClass","warn","forEach","scheduleRender","effectiveTemplateCustomTextElements","customTextElements","dpi","view","scale","scaleEnabled","setTimeout","load","then","clearTimeout","allowedFormats","allowedLayouts","error","extraParameters","includeDefaultTemplates","label","messages","widgetLabel","_overrideIfSome","portal","printServiceUrl","templateCustomTextElements","render","attributionEnabled","author","copyright","legendEnabled","northArrowEnabled","get","renderTitleOrFileNameSection","map","selected","value","formatDefaultOption","class","fileFormatTitle","onchange","_updateFromOption","layoutDefaultOption","layoutTitle","type","classes","_handleDPIChange","min","tabIndex","checked","_toggleInputValue","scaleLabel","role","_updateInputValue","reset","onclick","_resetToCurrentScale","id","legend","templateToNorthArrowInfo","northArrow","renderCustomTextElementSection","attribution","toString","advancedOptions","_showAdvancedOptions","swap","_switchInput","toArray","A","_renderExportedLink","P","V","B","sceneViewError","serviceError","D","_toggleLayoutPanel","onkeydown","_handleLayoutPanelKeyDown","afterCreate","afterUpdate","mapOnlyTab","exportDescription","_handlePrintMap","export","renderTemplateSectionTrigger","_scrollExportIntoView","level","exportText","exportHint","N","$","_renderLoader","_handleRootAfterCreate","selectTemplateDescription","title","selectTemplate","Object","entries","messagesCommon","onblur","description","done","layoutOptions","_toggleTab","titlePlaceHolder","fileName","fileNamePlaceHolder","placeholder","getAttribute","_createFileLink","untitled","toLowerCase","name","extension","count","_updateCustomTextElementValue","find","valueAsNumber","toPrintTemplate","titleText","add","emit","link","print","url","catch","selectedOptions","item","options","selectedIndex","clientHeight","scrollHeight","scrollTop","formattedName","location","pending","ready","errorMessage","exportWebMapCIMError","exportWebMapError","linkReady","download","rel","prototype","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Print.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import{on as i,eventKey as a}from\"../core/events.js\";import{clone as n}from\"../core/lang.js\";import s from\"../core/Logger.js\";import{watch as o,initial as l}from\"../core/reactiveUtils.js\";import{addProxy as r,hasSameOrigin as p}from\"../core/urlUtils.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{getToken as u}from\"../rest/utils.js\";import h from\"./Widget.js\";import m from\"./Print/FileLink.js\";import _ from\"./Print/PrintViewModel.js\";import b from\"./Print/TemplateOptions.js\";import{Heading as g}from\"./support/Heading.js\";import v from\"./support/Popover.js\";import{isActivationKey as y,keepMenuItemWithinView as f}from\"./support/widgetUtils.js\";import{messageBundle as T}from\"./support/decorators/messageBundle.js\";import{tsx as w}from\"./support/jsxFactory.js\";const O=t.ofType(m),x=\"MAP_ONLY\";var C;!function(e){e.layout=\"layoutTab\",e.mapOnly=\"mapOnlyTab\"}(C||(C={}));const L={base:\"esri-print\",headerTitle:\"esri-print__header-title\",inputText:\"esri-print__input-text\",layoutTabList:\"esri-print__layout-tab-list\",layoutTab:\"esri-print__layout-tab\",layoutSection:\"esri-print__layout-section\",mapOnlySection:\"esri-print__map-only-section\",scaleInput:\"esri-print__scale-input\",templateList:\"esri-print__template-list\",templateListScroller:\"esri-print__template-list-scroller\",templateListFooter:\"esri-print__template-list-footer\",loader:\"esri-print__loader\",advancedOptionsButton:\"esri-print__advanced-options-button\",advancedOptionsButtonContainer:\"esri-print__advanced-options-button-container\",advancedOptionsButtonTitle:\"esri-print__advanced-options-button-title\",advancedOptionsButtonIconOpened:\"esri-print__advanced-options-button-icon--opened\",advancedOptionsButtonIconClosed:\"esri-print__advanced-options-button-icon--closed\",advancedOptionsButtonIconClosed_RTL:\"esri-print__advanced-options-button-icon--closed-rtl\",refreshButton:\"esri-print__refresh-button\",swapButton:\"esri-print__swap-button\",linkButton:\"esri-print__link-button\",printButton:\"esri-print__export-button\",templateButton:\"esri-print__template-button\",formSectionContainer:\"esri-print__form-section-container\",advancedOptionsSection:\"esri-print__advanced-options-section\",advancedOptionsContainer:\"esri-print__advanced-options-container\",authorInfoContainer:\"esri-print__author-info-container\",copyrightInfoContainer:\"esri-print__copyright-info-container\",exportedFilesContainer:\"esri-print__export-panel-container\",exportedFilesTitle:\"esri-print__export-title\",exportedFile:\"esri-print__exported-file\",exportedFileLink:\"esri-widget__anchor esri-print__exported-file-link\",exportedFileLinkTitle:\"esri-print__exported-file-link-title\",heightContainer:\"esri-print__height-container\",legendInfoContainer:\"esri-print__legend-info-container\",printWidgetContainer:\"esri-print__container\",panelContainer:\"esri-print__panel-container\",scaleInfoContainer:\"esri-print__scale-info-container\",scaleInputContainer:\"esri-print__scale-input-container\",sizeContainer:\"esri-print__size-container\",widthContainer:\"esri-print__width-container\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetButton:\"esri-widget--button\",button:\"esri-button\",buttonSecondary:\"esri-button--secondary\",buttonTertiary:\"esri-button--tertiary\",select:\"esri-select\",input:\"esri-input\",disabled:\"esri-disabled\",anchorDisabled:\"esri-widget__anchor--disabled\",buttonDisabled:\"esri-button--disabled\",panelError:\"esri-print__panel--error\",exportedFileError:\"esri-print__exported-file--error\",hide:\"esri-hidden\",rotate:\"esri-rotating\",anchor:\"esri-widget__anchor\",menu:\"esri-menu\",menuList:\"esri-menu__list\",menuItem:\"esri-menu__list-item\",menuItemFocus:\"esri-menu__list-item--focus\",menuHeader:\"esri-menu__header\",iconCheckMark:\"esri-icon-check-mark\",iconDownload:\"esri-icon-download\",iconLaunchLink:\"esri-icon-launch-link-external\",iconError:\"esri-icon-error\",iconPrinter:\"esri-icon-printer\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\",iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconDownArrow:\"esri-icon-down-arrow\",iconRefresh:\"esri-icon-refresh\",iconSpinner:\"esri-icon-loading-indicator\",iconSwap:\"esri-icon-swap\",iconLinked:\"esri-icon-link-horizontal\",iconUnlinked:\"esri-icon-unlocked-link-horizontal\",widgetIcon:\"esri-icon-printer\"},k=\"User sets an invalid layout, resetting it to the default valid one...\",I=\"User sets an invalid format, resetting it to the default valid one...\";function S(e){const t=8.3333,i=11.4583;return{width:Math.round(e*t),height:Math.round(e*i)}}function M(e){return!isNaN(e)&&e>0}function F(e){return e?.toUpperCase()===x}let E=class extends h{constructor(e,t){super(e,t),this._activeTabFocusRequested=!1,this._advancedOptionsVisibleForLayout=!1,this._advancedOptionsVisibleForMapOnly=!1,this._awaitingServerResponse=!1,this._exportedFileNameMap={},this._focusedTemplateIndex=0,this._layoutTabSelected=!0,this._pendingExportScroll=!1,this._rootNode=null,this._selectTemplateNode=null,this._templateListPopover=new v({owner:this,placement:\"top\",offset:[0,-100],anchorElement:()=>this._selectTemplateNode,renderContentFunction:this.renderTemplateList}),this.exportedLinks=new O,this.headingLevel=3,this.iconClass=L.widgetIcon,this.templateOptions=new b,this.viewModel=new _,this.handleTemplateListCreation=e=>e.focus(),this.handleTemplateChildBlur=e=>{const t=e.relatedTarget?.closest(`.${L.templateList}`);t||this.handleCloseTemplateSelection()},this.handleCloseTemplateSelection=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!1,this._selectTemplateNode.focus()},this.handleSelectTemplateClick=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!0},this.handleTemplateListClick=e=>{const t=e.target;this.applyTemplate(t[\"data-template\"])},this.handleTemplateListKeyDown=e=>{if(y(e.key))return this.applyTemplate(this.viewModel.defaultTemplates.getItemAt(this._focusedTemplateIndex)),void e.preventDefault();if(\"ArrowDown\"===e.key||\"ArrowUp\"===e.key){const{defaultTemplates:t}=this.viewModel,i=\"ArrowDown\"===e.key?1:-1,a=(this._focusedTemplateIndex+i)%t.length;this._focusedTemplateIndex=a<0?t.length-1:a;const n=e.currentTarget;f(n.querySelectorAll(`.${L.menuItem}`)[this._focusedTemplateIndex],n.parentElement),e.preventDefault()}\"Escape\"===e.key&&this.handleCloseTemplateSelection()},this._removeLink=e=>{const t=e.currentTarget[\"data-item\"];t&&\"error\"===t.state&&this.exportedLinks.remove(t)},this._handleLinkClick=e=>{const t=e.currentTarget,{href:i}=t,a=u(this.viewModel.effectivePrintServiceUrl);if(!a)return;if(!e.isTrusted)return void e.stopPropagation();e.preventDefault();const n=new URL(i);n.searchParams.set(\"token\",a),t.href=n.href,t.click(),t.href=i},this._focusOnTabChange=this._focusOnTabChange.bind(this)}initialize(){this.addHandles([o((()=>this.viewModel?.templatesInfo),(e=>{const{format:t,layout:i}=this.templateOptions;if(e){const a=i===e.layout.defaultValue||F(i)||e.layout.choiceList&&e.layout.choiceList.includes(i),n=t===e.format.defaultValue||e.format.choiceList&&e.format.choiceList.includes(t);a||(i&&s.getLogger(this.declaredClass).warn(k),this.templateOptions.layout=e.layout.defaultValue),n||(t&&s.getLogger(this.declaredClass).warn(I),this.templateOptions.format=e.format.defaultValue),F(i)&&(this._layoutTabSelected=!1)}}),l),o((()=>this.templateOptions?.format),(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){let i=!1;t.format.choiceList&&t.format.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.format=t,i=!0)})),i||(this.templateOptions.format=t.format.defaultValue,s.getLogger(this.declaredClass).warn(I)),this.scheduleRender()}}),l),o((()=>this.templateOptions?.layout),(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){this._layoutTabSelected=!F(e);let i=!this._layoutTabSelected;i||t.layout.choiceList&&t.layout.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.layout=t,i=!0)})),i||(this.templateOptions.layout=t.layout.defaultValue,s.getLogger(this.declaredClass).warn(k));const a=this.viewModel.effectiveTemplateCustomTextElements[this.templateOptions.layout];this.templateOptions.customTextElements=a?n(a):null,this.scheduleRender()}}),l),o((()=>this.templateOptions?.dpi),(e=>{e<=0?this.templateOptions.dpi=1:this.scheduleRender()}),l),o((()=>this.viewModel?.view?.scale),(e=>{const{scale:t,scaleEnabled:i}=this.templateOptions;i&&t||(this.templateOptions.scale=e)}),l)]);const{height:e,width:t}=this.templateOptions;this.templateOptions.width=t||800,this.templateOptions.height=e||1100;const i=setTimeout((()=>{this._awaitingServerResponse=!0,this.scheduleRender()}),500);this.viewModel.load().then((()=>clearTimeout(i)))}get allowedFormats(){return this.viewModel.allowedFormats}set allowedFormats(e){this.viewModel.allowedFormats=e}get allowedLayouts(){return this.viewModel.allowedLayouts}set allowedLayouts(e){this.viewModel.allowedLayouts=e}get error(){return this.viewModel.error}get extraParameters(){return this.viewModel.extraParameters}set extraParameters(e){this.viewModel.extraParameters=e}get includeDefaultTemplates(){return this.viewModel.includeDefaultTemplates}set includeDefaultTemplates(e){this.viewModel.includeDefaultTemplates=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get portal(){return this.viewModel.portal}set portal(e){this.viewModel.portal=e}get printServiceUrl(){return this.viewModel.printServiceUrl}set printServiceUrl(e){this.viewModel.printServiceUrl=e}get templateCustomTextElements(){return this.viewModel.templateCustomTextElements}set templateCustomTextElements(e){this.viewModel.templateCustomTextElements=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{attributionEnabled:e,author:t,copyright:i,dpi:a,format:n,height:s,layout:o,legendEnabled:l,northArrowEnabled:r,scaleEnabled:p,scale:d,width:c}=this.templateOptions,u=\"ready\"!==this.get(\"viewModel.state\"),h=this.renderTitleOrFileNameSection(),{includeDefaultTemplates:m,messages:_,viewModel:b}=this,v=this.get(\"viewModel.templatesInfo.format.choiceList\")||[],y=v.length>0?v.map((e=>w(\"option\",{key:e,selected:e===n,value:e},e.toUpperCase()))):w(\"option\",{key:\"format-default-option\"},_.formatDefaultOption),f=w(\"div\",{class:L.formSectionContainer},w(\"label\",null,_.fileFormatTitle,w(\"select\",{class:L.select,onchange:this._updateFromOption,\"data-target-property\":\"format\",bind:this},y))),T=this.get(\"viewModel.templatesInfo.layout.choiceList\")||[],O=T.length>0?T.map((e=>{const t=e===o,i=_[e]||e;return w(\"option\",{key:e,selected:t,value:e},i)})):w(\"option\",{key:\"layout-default-option\"},_.layoutDefaultOption),x=w(\"div\",{class:L.formSectionContainer},w(\"label\",null,_.layoutTitle,w(\"select\",{class:L.select,onchange:this._updateFromOption,\"data-target-property\":\"layout\",bind:this},O))),k=w(\"div\",{class:L.formSectionContainer},w(\"label\",null,_.dpi,w(\"input\",{type:\"number\",class:this.classes(L.inputText,L.input),\"data-input-name\":\"dpi\",onchange:this._handleDPIChange,value:`${a}`,min:\"1\",tabIndex:0,bind:this}))),I=w(\"div\",{class:this.classes(L.scaleInfoContainer,L.formSectionContainer)},w(\"label\",null,w(\"input\",{\"data-option-name\":\"scaleEnabled\",checked:p,type:\"checkbox\",tabIndex:0,onchange:this._toggleInputValue,bind:this}),_.scale),w(\"div\",{class:L.scaleInputContainer},w(\"input\",{\"aria-label\":_.scaleLabel,\"aria-valuenow\":`${d}`,role:\"spinbutton\",type:\"number\",class:this.classes(L.inputText,L.input,L.scaleInput),tabIndex:0,\"data-input-name\":\"scale\",onchange:this._updateInputValue,disabled:!p,value:`${d}`,bind:this}),w(\"button\",{type:\"button\",\"aria-label\":_.reset,class:this.classes(L.widgetButton,L.refreshButton,L.iconRefresh),tabIndex:0,onclick:this._resetToCurrentScale,bind:this}))),S=this._advancedOptionsVisibleForLayout?w(\"div\",{\"aria-labelledby\":`${this.id}__advancedOptionsForLayout`,class:L.advancedOptionsContainer},I,w(\"div\",{class:this.classes(L.authorInfoContainer,L.formSectionContainer)},w(\"label\",null,_.author,w(\"input\",{type:\"text\",value:t,class:this.classes(L.inputText,L.input),tabIndex:0,\"data-input-name\":\"author\",onchange:this._updateInputValue,bind:this}))),w(\"div\",{class:this.classes(L.copyrightInfoContainer,L.formSectionContainer)},w(\"label\",null,_.copyright,w(\"input\",{type:\"text\",class:this.classes(L.inputText,L.input),tabIndex:0,value:i,\"data-input-name\":\"copyright\",onchange:this._updateInputValue,bind:this}))),k,w(\"div\",{class:this.classes(L.legendInfoContainer,L.formSectionContainer)},w(\"label\",null,w(\"input\",{type:\"checkbox\",\"data-option-name\":\"legendEnabled\",tabIndex:0,checked:l,onchange:this._toggleInputValue,bind:this}),_.legend)),this.viewModel.templateToNorthArrowInfo[o]?w(\"div\",{class:this.classes(L.legendInfoContainer,L.formSectionContainer),key:\"north-arrow\"},w(\"label\",null,w(\"input\",{type:\"checkbox\",\"data-option-name\":\"northArrowEnabled\",tabIndex:0,checked:r,onchange:this._toggleInputValue,bind:this}),_.northArrow)):null,this.renderCustomTextElementSection()):null,M=this._advancedOptionsVisibleForMapOnly?w(\"div\",{\"aria-labelledby\":`${this.id}__advancedOptionsForMapOnly`,class:L.advancedOptionsContainer},I,k,w(\"div\",{class:L.formSectionContainer},w(\"label\",null,w(\"input\",{\"data-option-name\":\"attributionEnabled\",type:\"checkbox\",onchange:this._toggleInputValue,tabIndex:0,checked:e,bind:this}),_.attribution)),this.renderCustomTextElementSection()):null,F=this._layoutTabSelected?w(\"section\",{key:\"esri-print__layoutContent\",id:`${this.id}__layoutContent`,\"aria-labelledby\":`${this.id}__layoutTab`,class:L.layoutSection,role:\"tabpanel\",\"aria-selected\":this._layoutTabSelected.toString()},w(\"div\",{class:L.panelContainer},h,x,this._layoutTabSelected?f:null),w(\"div\",{class:this.classes(L.panelContainer,L.advancedOptionsSection)},w(\"button\",{\"aria-label\":_.advancedOptions,\"aria-expanded\":this._advancedOptionsVisibleForLayout?\"true\":\"false\",class:L.advancedOptionsButton,onclick:this._showAdvancedOptions,bind:this,type:\"button\"},w(\"div\",{class:L.advancedOptionsButtonContainer},w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconRightTriangleArrow,L.advancedOptionsButtonIconClosed)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconLeftTriangleArrow,L.advancedOptionsButtonIconClosed_RTL)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconDownArrow,L.advancedOptionsButtonIconOpened)}),w(\"span\",{class:L.advancedOptionsButtonTitle},_.advancedOptions))),S)):w(\"section\",{key:\"esri-print__mapOnlyContent\",id:`${this.id}__mapOnlyContent`,\"aria-selected\":(!this._layoutTabSelected).toString(),\"aria-labelledby\":`${this.id}__mapOnlyTab`,class:L.mapOnlySection,role:\"tabpanel\"},w(\"div\",{class:L.panelContainer},h,this._layoutTabSelected?null:f,w(\"div\",{class:this.classes(L.sizeContainer,L.formSectionContainer)},w(\"div\",{class:L.widthContainer},w(\"label\",null,_.width,w(\"input\",{type:\"number\",class:this.classes(L.inputText,L.input),\"data-input-name\":\"width\",onchange:this._updateInputValue,value:`${c}`,tabIndex:0,bind:this}))),w(\"div\",{class:L.heightContainer},w(\"label\",null,_.height,w(\"input\",{type:\"number\",class:this.classes(L.inputText,L.input),\"data-input-name\":\"height\",onchange:this._updateInputValue,value:`${s}`,tabIndex:0,bind:this}))),w(\"button\",{type:\"button\",\"aria-label\":_.swap,class:this.classes(L.widgetButton,L.swapButton,L.iconSwap),onclick:this._switchInput,tabIndex:0,bind:this})),w(\"div\",{class:this.classes(L.panelContainer,L.advancedOptionsSection)},w(\"button\",{\"aria-label\":_.advancedOptions,\"aria-expanded\":this._advancedOptionsVisibleForMapOnly?\"true\":\"false\",type:\"button\",class:L.advancedOptionsButton,onclick:this._showAdvancedOptions,bind:this},w(\"div\",{class:L.advancedOptionsButtonContainer},w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconRightTriangleArrow,L.advancedOptionsButtonIconClosed)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconLeftTriangleArrow,L.advancedOptionsButtonIconClosed_RTL)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(L.iconDownArrow,L.advancedOptionsButtonIconOpened)}),w(\"span\",{class:L.advancedOptionsButtonTitle},_.advancedOptions))),M))),E=this.exportedLinks.toArray(),A=this._renderExportedLink(E),P={[L.buttonDisabled]:u||!o&&!n},V=null!=this.get(\"view\")&&\"2d\"!==this.get(\"view.type\"),B=w(\"div\",{class:L.panelError},V?_.sceneViewError:_.serviceError),D=w(\"div\",null,w(\"ul\",{class:L.layoutTabList,role:\"tablist\",onclick:this._toggleLayoutPanel,onkeydown:this._handleLayoutPanelKeyDown,bind:this},w(\"li\",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__layoutTab`,\"data-tab-id\":C.layout,class:L.layoutTab,role:\"tab\",tabIndex:0,\"aria-selected\":`${this._layoutTabSelected}`},_.layoutTab),w(\"li\",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__mapOnlyTab`,\"data-tab-id\":C.mapOnly,class:L.layoutTab,role:\"tab\",tabIndex:0,\"aria-selected\":`${!this._layoutTabSelected}`},_.mapOnlyTab)),F,w(\"button\",{\"aria-label\":_.exportDescription,type:\"button\",class:this.classes(L.printButton,L.button,P),disabled:u,tabIndex:0,onclick:this._handlePrintMap,bind:this},_.export),m&&b.defaultTemplates.length>0?this.renderTemplateSectionTrigger():null,w(\"div\",{class:L.exportedFilesContainer,afterUpdate:this._scrollExportIntoView,bind:this},w(g,{class:L.exportedFilesTitle,level:this.headingLevel},_.exportText),E.length>0?null:w(\"div\",null,w(\"div\",null,_.exportHint)),A)),N=w(\"div\",{class:L.printWidgetContainer},w(\"header\",{class:L.headerTitle},_.export),this.error||V||!this.view?B:D),$=\"initializing\"===this.get(\"viewModel.state\")?this._renderLoader():N;return w(\"div\",{afterCreate:this._handleRootAfterCreate,bind:this,class:this.classes(L.base,L.widget,L.panel)},$)}renderTemplateSectionTrigger(){const{messages:e,_templateListPopover:t}=this,i=t.open;return w(\"button\",{afterCreate:e=>this._selectTemplateNode=e,\"aria-controls\":i?`${this.id}__template-selection`:\"\",\"aria-label\":e.selectTemplateDescription,\"aria-pressed\":i.toString(),class:this.classes(L.button,L.buttonTertiary,L.templateButton),onclick:this.handleSelectTemplateClick,title:e.selectTemplateDescription,type:\"button\"},e.selectTemplate)}renderCustomTextElementSection(){const{templateOptions:{customTextElements:e}}=this;return e?w(\"div\",{class:L.formSectionContainer,key:\"custom-text-elements\"},e.map((e=>{const[t,i]=Object.entries(e)[0];return\"date\"===t?null:w(\"label\",{key:t},t,w(\"input\",{bind:this,class:this.classes(L.inputText,L.input),\"data-input-custom\":!0,\"data-input-name\":t,onchange:this._updateInputValue,type:\"text\",value:i}))}))):null}renderTemplateList(){const{messages:e,messagesCommon:t,viewModel:i}=this,{defaultTemplates:a}=i,n=e.selectTemplateDescription,s=`${this.id}__template-selection`;return w(\"div\",{class:this.classes(L.templateList,L.widget,L.panel),id:s},w(g,{class:L.menuHeader,level:this.headingLevel},e.selectTemplate),w(\"div\",{class:L.templateListScroller},w(\"ul\",{afterCreate:this.handleTemplateListCreation,\"aria-activedescendant\":`${this.id}__template-item--${this._focusedTemplateIndex}`,\"aria-label\":n,class:L.menuList,key:\"templates\",onblur:this.handleTemplateChildBlur,onclick:this.handleTemplateListClick,onkeydown:this.handleTemplateListKeyDown,role:\"listbox\",tabIndex:0,title:n},a.toArray().map(((t,i)=>{const{description:a}=t,n=i===this._focusedTemplateIndex,s=t.label;return w(\"li\",{\"aria-label\":a,class:this.classes(L.menuItem,{[L.menuItemFocus]:n}),\"data-template\":t,id:`${this.id}__template-item--${i}`,key:s,title:a},F(s)?e.mapOnlyTab:s)})))),w(\"div\",{class:L.templateListFooter},w(\"button\",{type:\"button\",class:this.classes(L.button,L.buttonSecondary),onblur:this.handleTemplateChildBlur,onclick:this.handleCloseTemplateSelection},t.done)))}applyTemplate(e){const{format:t,layout:i,layoutOptions:a}=e,{templateOptions:n}=this;this._templateListPopover.open=!1,this._toggleTab(\"map-only\"===i?C.mapOnly:C.layout,!1),t&&(n.format=t),i&&(n.layout=i),this._focusedTemplateIndex=null,n.legendEnabled=a?.legend??n.legendEnabled,this.handleCloseTemplateSelection()}renderTitleOrFileNameSection(){const{templateOptions:e,messages:t}=this;let i,a,n,s;return this._layoutTabSelected?(i=t.title,a=t.titlePlaceHolder,n=e.title,s=\"title\"):(i=t.fileName,a=t.fileNamePlaceHolder,n=e.fileName,s=\"fileName\"),w(\"div\",{class:L.formSectionContainer,key:s},w(\"label\",null,i,w(\"input\",{type:\"text\",tabIndex:0,placeholder:a,class:this.classes(L.inputText,L.input),value:n,\"data-input-name\":s,onchange:this._updateInputValue,bind:this})))}_handleRootAfterCreate(e){this._rootNode=e,this.addHandles(i(e,\"scroll\",(()=>{this._templateListPopover.open&&this.handleCloseTemplateSelection()})))}_focusOnTabChange(e){if(!this._activeTabFocusRequested)return;const t=e.getAttribute(\"data-tab-id\");(\"layoutTab\"===t&&this._layoutTabSelected||\"mapOnlyTab\"===t&&!this._layoutTabSelected)&&(e.focus(),this._activeTabFocusRequested=!1)}_renderLoader(){const e={[L.loader]:this._awaitingServerResponse};return w(\"div\",{class:this.classes(e),key:\"loader\"})}_createFileLink(e,t){const i=t||this.messages.untitled,a=e.format.toLowerCase(),n=a.includes(\"png\")?\"png\":a,s=i+n;return void 0!==this._exportedFileNameMap[s]?this._exportedFileNameMap[s]++:this._exportedFileNameMap[s]=0,new m({name:i,extension:n,count:this._exportedFileNameMap[s]})}_resetToCurrentScale(){this.templateOptions.scale=this.viewModel.view.scale}_updateCustomTextElementValue(e,t,i){e.find((e=>{const[i]=Object.entries(e)[0];return i===t}))[t]=i}_updateInputValue(e){const t=e.target,i=t.getAttribute(\"data-input-name\"),a=!!t[\"data-input-custom\"],{templateOptions:n}=this;if(a)return void this._updateCustomTextElementValue(n.customTextElements,i,t.value);let s;if(\"number\"===t.type){if(!M(t.valueAsNumber)){const e=n[i];return void(t.value=`${e}`)}s=t.valueAsNumber}else s=t.value;n[i]=s}_handleDPIChange(e){this._updateInputValue(e);const t=e.currentTarget.valueAsNumber,{height:i,width:a}=S(t),{templateOptions:n}=this;n.height=i,n.width=a}_handlePrintMap(){this._pendingExportScroll=!0;const{templateOptions:e}=this,t=this.viewModel.toPrintTemplate(e),i=this._layoutTabSelected?t.layoutOptions.titleText:e.fileName,a=this._createFileLink(t,i);this.exportedLinks.add(a),this.emit(\"submit\",{link:a}),this.viewModel.print(t).then((e=>{a.set({url:e&&e.url,state:\"ready\"})})).catch((e=>{a.set({error:e,state:\"error\"})})).then((()=>{this.emit(\"complete\",{link:a}),this.scheduleRender()}))}_updateFromOption(e){const t=e.target,i=t.selectedOptions?t.selectedOptions.item(0).value:t.options[t.selectedIndex].value,a=t.getAttribute(\"data-target-property\");this.templateOptions[a]=i}_switchInput(){[this.templateOptions.width,this.templateOptions.height]=[this.templateOptions.height,this.templateOptions.width]}_showAdvancedOptions(){this._layoutTabSelected?this._advancedOptionsVisibleForLayout=!this._advancedOptionsVisibleForLayout:this._advancedOptionsVisibleForMapOnly=!this._advancedOptionsVisibleForMapOnly}_scrollExportIntoView(){if(this._pendingExportScroll){this._pendingExportScroll=!1;const{_rootNode:e,_rootNode:{clientHeight:t,scrollHeight:i}}=this,a=i-t;a>0&&(e.scrollTop=a)}}_toggleInputValue(e){const t=e.target,i=t.getAttribute(\"data-option-name\");this.templateOptions[i]=t.checked,\"scaleEnabled\"===i&&(this.templateOptions[i]||this._resetToCurrentScale())}_renderExportedLink(e){const t=this.messages;return e.map((e=>{const{error:i,url:a,formattedName:n,state:s}=e,o=\"error\"===s,l=\"pending\"===s,d=\"ready\"===s,c={[L.anchorDisabled]:l||o};let u=a||null;u&&(u=r(u));const h=p(a,location.href),m={[L.iconSpinner]:l,[L.rotate]:l,[L.iconDownload]:h&&d,[L.iconLaunchLink]:!h&&d,[L.iconError]:o,[L.exportedFileError]:o},_={[L.exportedFileError]:o};let b;b=l?t.pending:d?t.ready:t.errorMessage;const g=o?\"print-task:cim-symbol-unsupported\"===i.name?t.exportWebMapCIMError:t.exportWebMapError:\"\";return w(\"div\",{\"aria-label\":b,class:L.exportedFile,\"data-item\":e,key:n,onclick:this._removeLink,title:g},w(\"a\",{\"aria-label\":`${n}. ${t.linkReady}`,download:n,href:u,rel:\"noreferrer\",tabIndex:0,target:\"_blank\",class:this.classes(L.exportedFileLink,c),onclick:this._handleLinkClick},w(\"span\",{class:this.classes(m)}),w(\"span\",{class:this.classes(L.exportedFileLinkTitle,_)},n)))}))}_toggleLayoutPanel(e){const t=e.target;this._toggleTab(t.getAttribute(\"data-tab-id\"))}_toggleTab(e,t=!0){if(this._layoutTabSelected=e===C.layout,this._layoutTabSelected){const e=this.get(\"viewModel.templatesInfo.layout.choiceList\");this.templateOptions.layout=e&&e[0]}else this.templateOptions.layout=x;t&&(this._activeTabFocusRequested=!0)}_handleLayoutPanelKeyDown(e){const t=a(e),i=e.target.getAttribute(\"data-tab-id\");if(y(t))return this._toggleTab(i),e.preventDefault(),void e.stopPropagation();\"ArrowLeft\"!==t&&\"ArrowRight\"!==t||(this._toggleTab(i===C.layout?C.mapOnly:C.layout),e.preventDefault(),e.stopPropagation())}};e([d()],E.prototype,\"allowedFormats\",null),e([d()],E.prototype,\"allowedLayouts\",null),e([d()],E.prototype,\"error\",null),e([d({type:O})],E.prototype,\"exportedLinks\",void 0),e([d()],E.prototype,\"extraParameters\",null),e([d()],E.prototype,\"headingLevel\",void 0),e([d()],E.prototype,\"iconClass\",void 0),e([d()],E.prototype,\"includeDefaultTemplates\",null),e([d()],E.prototype,\"label\",null),e([d(),T(\"esri/widgets/Print/t9n/Print\")],E.prototype,\"messages\",void 0),e([d(),T(\"esri/t9n/common\")],E.prototype,\"messagesCommon\",void 0),e([d()],E.prototype,\"portal\",null),e([d()],E.prototype,\"printServiceUrl\",null),e([d()],E.prototype,\"templateCustomTextElements\",null),e([d({type:b})],E.prototype,\"templateOptions\",void 0),e([d()],E.prototype,\"view\",null),e([d({type:_})],E.prototype,\"viewModel\",void 0),E=e([c(\"esri.widgets.Print\")],E);const A=E;export{A as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}