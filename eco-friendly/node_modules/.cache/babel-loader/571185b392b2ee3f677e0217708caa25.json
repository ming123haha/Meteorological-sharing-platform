{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Logger.js\";\nimport { disposeMaybe as t, isNone as r } from \"../../../../../core/maybe.js\";\nimport { WGLSymbologyType as a } from \"../enums.js\";\nimport i from \"../VertexStream.js\";\nimport s from \"./WGLGeometryBrushMarker.js\";\nimport { assertRendererSchema as o } from \"../techniques/utils.js\";\nimport { ContextType as u } from \"../../../../webgl/context-util.js\";\nimport { DataType as n, BlendFactor as l, ClearBufferBit as m, TextureType as d, PixelFormat as h, PixelType as c, SizedPixelFormat as f, TextureWrapMode as _, TextureSamplingMode as p } from \"../../../../webgl/enums.js\";\nimport { FramebufferObject as g } from \"../../../../webgl/FramebufferObject.js\";\nimport { Texture as T } from \"../../../../webgl/Texture.js\";\nconst x = e.getLogger(\"esri.views.2d.engine.webgl.brushes.WGLBrushHeatmap\"),\n      F = {\n  vsPath: \"heatmap/heatmapResolve\",\n  fsPath: \"heatmap/heatmapResolve\",\n  attributes: new Map([[\"a_position\", 0]])\n};\n\nclass b extends s {\n  supportsSymbology(e) {\n    return e === a.HEATMAP;\n  }\n\n  dispose() {\n    super.dispose(), this._accumulateOutputTexture = t(this._accumulateOutputTexture), this._accumulateFramebuffer = t(this._accumulateFramebuffer), this._resolveGradientTexture = t(this._resolveGradientTexture), this._tileQuad = t(this._tileQuad);\n  }\n\n  drawGeometry(e, t, r, a) {\n    const {\n      defines: i\n    } = this._loadQualityProfile(e.context);\n\n    super.drawGeometry(e, t, r, a ? [...a, ...i] : i);\n  }\n\n  _drawMarkers(e, t, r, a, i, s, o) {\n    const {\n      context: u\n    } = e,\n          l = u.getBoundFramebufferObject(),\n          m = u.getViewport();\n    this._prepareAccumulatePass(e, t, r, o), u.drawElements(a, i, n.UNSIGNED_INT, s), o || this._drawResolvePass(e, t, l, m);\n  }\n\n  _prepareAccumulatePass(e, t, r, a) {\n    const {\n      context: i,\n      rendererInfo: s,\n      state: u,\n      displayLevel: n\n    } = e,\n          {\n      rendererSchema: d\n    } = s;\n    o(d, \"heatmap\");\n    const {\n      referenceScale: h,\n      radius: c,\n      isFieldActive: f\n    } = d;\n    this._loadResources(i), this._updateResources(d);\n\n    const _ = c * (0 !== h ? h / u.scale : 1) * 2 ** (t.key.level - n);\n\n    r.setUniform1f(\"u_radius\", _), a || (i.bindFramebuffer(this._accumulateFramebuffer), r.setUniform1f(\"u_isFieldActive\", f), i.setViewport(0, 0, this._accumulateFramebuffer.width, this._accumulateFramebuffer.height), i.setBlendingEnabled(!0), i.setBlendFunction(l.ONE, l.ONE), i.setClearColor(0, 0, 0, 0), i.clear(m.COLOR_BUFFER_BIT));\n  }\n\n  _drawResolvePass(e, t, r, a) {\n    const {\n      context: i,\n      painter: s,\n      rendererInfo: u\n    } = e,\n          {\n      rendererSchema: n\n    } = u;\n    o(n, \"heatmap\");\n\n    const {\n      radius: m,\n      minDensity: d,\n      densityRange: h\n    } = n,\n          {\n      defines: c\n    } = this._loadQualityProfile(i),\n          f = s.materialManager.getProgram(F, c);\n\n    i.useProgram(f), this._setSharedUniforms(f, e, t), i.bindFramebuffer(r), i.setViewport(0, 0, a.width, a.height), i.setBlendFunction(l.ONE, l.ONE_MINUS_SRC_ALPHA), i.bindTexture(this._accumulateOutputTexture, 8), i.bindTexture(this._resolveGradientTexture, 9), f.setUniform1i(\"u_texture\", 8), f.setUniform1i(\"u_gradient\", 9), f.setUniform2f(\"u_densityMinAndInvRange\", d, 1 / h), f.setUniform1f(\"u_densityNormalization\", 3 / (m * m * Math.PI)), this._tileQuad.draw();\n  }\n\n  _loadResources(e) {\n    const t = e.type === u.WEBGL2,\n          {\n      dataType: r,\n      samplingMode: a,\n      shadingRate: s\n    } = this._loadQualityProfile(e);\n\n    this._accumulateOutputTexture ?? (this._accumulateOutputTexture = new T(e, {\n      target: d.TEXTURE_2D,\n      pixelFormat: t ? h.RED : h.RGBA,\n      internalFormat: t ? r === c.FLOAT ? f.R32F : f.R16F : h.RGBA,\n      dataType: r,\n      samplingMode: a,\n      wrapMode: _.CLAMP_TO_EDGE,\n      width: Math.round(512 * s),\n      height: Math.round(512 * s)\n    })), this._accumulateFramebuffer ?? (this._accumulateFramebuffer = new g(e, {}, this._accumulateOutputTexture)), this._resolveGradientTexture ?? (this._resolveGradientTexture = new T(e, {\n      target: d.TEXTURE_2D,\n      pixelFormat: h.RGBA,\n      dataType: c.UNSIGNED_BYTE,\n      samplingMode: p.LINEAR,\n      wrapMode: _.CLAMP_TO_EDGE\n    })), this._tileQuad ?? (this._tileQuad = new i(e, [0, 0, 1, 0, 0, 1, 1, 1]));\n  }\n\n  _updateResources(e) {\n    const {\n      gradientHash: t,\n      gradient: r\n    } = e;\n    this._prevGradientHash !== t && (this._resolveGradientTexture.resize(r.length / 4, 1), this._resolveGradientTexture.setData(r), this._prevGradientHash = t);\n  }\n\n  _loadQualityProfile(e) {\n    if (r(this._qualityProfile)) {\n      const {\n        textureFloat: t,\n        colorBufferFloat: r\n      } = e.capabilities,\n            {\n        textureFloat: a,\n        textureFloatLinear: i,\n        textureHalfFloat: s,\n        textureHalfFloatLinear: o,\n        HALF_FLOAT: u\n      } = t,\n            {\n        textureFloat: n,\n        textureHalfFloat: l,\n        floatBlend: m\n      } = r;\n      let d, h;\n\n      const f = a && n && m,\n            _ = s && l;\n\n      f && i ? (d = c.FLOAT, h = p.LINEAR) : _ && o ? (d = u, h = p.LINEAR) : f ? (d = c.FLOAT, h = p.NEAREST) : _ ? (d = u, h = p.NEAREST) : x.error(\"Missing webgl extensions for heatmap!\"), h === p.NEAREST && x.warnOnce(\"Missing linear filtering webgl extension(s). Heatmap quality may be reduced.\"), this._qualityProfile = {\n        dataType: d,\n        samplingMode: h,\n        shadingRate: .5,\n        defines: d === u ? [\"heatmapPrecisionHalfFloat\"] : []\n      };\n    }\n\n    return this._qualityProfile;\n  }\n\n}\n\nexport { b as default };","map":{"version":3,"names":["e","disposeMaybe","t","isNone","r","WGLSymbologyType","a","i","s","assertRendererSchema","o","ContextType","u","DataType","n","BlendFactor","l","ClearBufferBit","m","TextureType","d","PixelFormat","h","PixelType","c","SizedPixelFormat","f","TextureWrapMode","_","TextureSamplingMode","p","FramebufferObject","g","Texture","T","x","getLogger","F","vsPath","fsPath","attributes","Map","b","supportsSymbology","HEATMAP","dispose","_accumulateOutputTexture","_accumulateFramebuffer","_resolveGradientTexture","_tileQuad","drawGeometry","defines","_loadQualityProfile","context","_drawMarkers","getBoundFramebufferObject","getViewport","_prepareAccumulatePass","drawElements","UNSIGNED_INT","_drawResolvePass","rendererInfo","state","displayLevel","rendererSchema","referenceScale","radius","isFieldActive","_loadResources","_updateResources","scale","key","level","setUniform1f","bindFramebuffer","setViewport","width","height","setBlendingEnabled","setBlendFunction","ONE","setClearColor","clear","COLOR_BUFFER_BIT","painter","minDensity","densityRange","materialManager","getProgram","useProgram","_setSharedUniforms","ONE_MINUS_SRC_ALPHA","bindTexture","setUniform1i","setUniform2f","Math","PI","draw","type","WEBGL2","dataType","samplingMode","shadingRate","target","TEXTURE_2D","pixelFormat","RED","RGBA","internalFormat","FLOAT","R32F","R16F","wrapMode","CLAMP_TO_EDGE","round","UNSIGNED_BYTE","LINEAR","gradientHash","gradient","_prevGradientHash","resize","length","setData","_qualityProfile","textureFloat","colorBufferFloat","capabilities","textureFloatLinear","textureHalfFloat","textureHalfFloatLinear","HALF_FLOAT","floatBlend","NEAREST","error","warnOnce","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushHeatmap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{disposeMaybe as t,isNone as r}from\"../../../../../core/maybe.js\";import{WGLSymbologyType as a}from\"../enums.js\";import i from\"../VertexStream.js\";import s from\"./WGLGeometryBrushMarker.js\";import{assertRendererSchema as o}from\"../techniques/utils.js\";import{ContextType as u}from\"../../../../webgl/context-util.js\";import{DataType as n,BlendFactor as l,ClearBufferBit as m,TextureType as d,PixelFormat as h,PixelType as c,SizedPixelFormat as f,TextureWrapMode as _,TextureSamplingMode as p}from\"../../../../webgl/enums.js\";import{FramebufferObject as g}from\"../../../../webgl/FramebufferObject.js\";import{Texture as T}from\"../../../../webgl/Texture.js\";const x=e.getLogger(\"esri.views.2d.engine.webgl.brushes.WGLBrushHeatmap\"),F={vsPath:\"heatmap/heatmapResolve\",fsPath:\"heatmap/heatmapResolve\",attributes:new Map([[\"a_position\",0]])};class b extends s{supportsSymbology(e){return e===a.HEATMAP}dispose(){super.dispose(),this._accumulateOutputTexture=t(this._accumulateOutputTexture),this._accumulateFramebuffer=t(this._accumulateFramebuffer),this._resolveGradientTexture=t(this._resolveGradientTexture),this._tileQuad=t(this._tileQuad)}drawGeometry(e,t,r,a){const{defines:i}=this._loadQualityProfile(e.context);super.drawGeometry(e,t,r,a?[...a,...i]:i)}_drawMarkers(e,t,r,a,i,s,o){const{context:u}=e,l=u.getBoundFramebufferObject(),m=u.getViewport();this._prepareAccumulatePass(e,t,r,o),u.drawElements(a,i,n.UNSIGNED_INT,s),o||this._drawResolvePass(e,t,l,m)}_prepareAccumulatePass(e,t,r,a){const{context:i,rendererInfo:s,state:u,displayLevel:n}=e,{rendererSchema:d}=s;o(d,\"heatmap\");const{referenceScale:h,radius:c,isFieldActive:f}=d;this._loadResources(i),this._updateResources(d);const _=c*(0!==h?h/u.scale:1)*2**(t.key.level-n);r.setUniform1f(\"u_radius\",_),a||(i.bindFramebuffer(this._accumulateFramebuffer),r.setUniform1f(\"u_isFieldActive\",f),i.setViewport(0,0,this._accumulateFramebuffer.width,this._accumulateFramebuffer.height),i.setBlendingEnabled(!0),i.setBlendFunction(l.ONE,l.ONE),i.setClearColor(0,0,0,0),i.clear(m.COLOR_BUFFER_BIT))}_drawResolvePass(e,t,r,a){const{context:i,painter:s,rendererInfo:u}=e,{rendererSchema:n}=u;o(n,\"heatmap\");const{radius:m,minDensity:d,densityRange:h}=n,{defines:c}=this._loadQualityProfile(i),f=s.materialManager.getProgram(F,c);i.useProgram(f),this._setSharedUniforms(f,e,t),i.bindFramebuffer(r),i.setViewport(0,0,a.width,a.height),i.setBlendFunction(l.ONE,l.ONE_MINUS_SRC_ALPHA),i.bindTexture(this._accumulateOutputTexture,8),i.bindTexture(this._resolveGradientTexture,9),f.setUniform1i(\"u_texture\",8),f.setUniform1i(\"u_gradient\",9),f.setUniform2f(\"u_densityMinAndInvRange\",d,1/h),f.setUniform1f(\"u_densityNormalization\",3/(m*m*Math.PI)),this._tileQuad.draw()}_loadResources(e){const t=e.type===u.WEBGL2,{dataType:r,samplingMode:a,shadingRate:s}=this._loadQualityProfile(e);this._accumulateOutputTexture??(this._accumulateOutputTexture=new T(e,{target:d.TEXTURE_2D,pixelFormat:t?h.RED:h.RGBA,internalFormat:t?r===c.FLOAT?f.R32F:f.R16F:h.RGBA,dataType:r,samplingMode:a,wrapMode:_.CLAMP_TO_EDGE,width:Math.round(512*s),height:Math.round(512*s)})),this._accumulateFramebuffer??(this._accumulateFramebuffer=new g(e,{},this._accumulateOutputTexture)),this._resolveGradientTexture??(this._resolveGradientTexture=new T(e,{target:d.TEXTURE_2D,pixelFormat:h.RGBA,dataType:c.UNSIGNED_BYTE,samplingMode:p.LINEAR,wrapMode:_.CLAMP_TO_EDGE})),this._tileQuad??(this._tileQuad=new i(e,[0,0,1,0,0,1,1,1]))}_updateResources(e){const{gradientHash:t,gradient:r}=e;this._prevGradientHash!==t&&(this._resolveGradientTexture.resize(r.length/4,1),this._resolveGradientTexture.setData(r),this._prevGradientHash=t)}_loadQualityProfile(e){if(r(this._qualityProfile)){const{textureFloat:t,colorBufferFloat:r}=e.capabilities,{textureFloat:a,textureFloatLinear:i,textureHalfFloat:s,textureHalfFloatLinear:o,HALF_FLOAT:u}=t,{textureFloat:n,textureHalfFloat:l,floatBlend:m}=r;let d,h;const f=a&&n&&m,_=s&&l;f&&i?(d=c.FLOAT,h=p.LINEAR):_&&o?(d=u,h=p.LINEAR):f?(d=c.FLOAT,h=p.NEAREST):_?(d=u,h=p.NEAREST):x.error(\"Missing webgl extensions for heatmap!\"),h===p.NEAREST&&x.warnOnce(\"Missing linear filtering webgl extension(s). Heatmap quality may be reduced.\"),this._qualityProfile={dataType:d,samplingMode:h,shadingRate:.5,defines:d===u?[\"heatmapPrecisionHalfFloat\"]:[]}}return this._qualityProfile}}export{b as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}