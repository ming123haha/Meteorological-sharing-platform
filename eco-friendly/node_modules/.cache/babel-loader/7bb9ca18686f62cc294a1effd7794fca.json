{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport a from \"../../../../core/Handles.js\";\nimport { watch as e, initial as t } from \"../../../../core/reactiveUtils.js\";\nimport { GamepadKeyboardController as r } from \"../../state/controllers/GamepadKeyboardController.js\";\nimport { InputHandler as i } from \"../../../input/InputHandler.js\";\n\nclass l extends i {\n  constructor(e) {\n    super(!0), this.view = e, this.watchHandles = new a(), this.handle = this.registerIncoming(\"gamepad\", a => this._handleEventGamepad(a)), this.handle.pause();\n  }\n\n  onInstall(a) {\n    super.onInstall(a), this.watchHandles.add([e(() => this.view.navigation.gamepad.enabled, a => {\n      a ? this.handle.resume() : (this.handle.pause(), this.cameraControllerGamepad && (this.cameraControllerGamepad.finishController(), this.cameraControllerGamepad = null));\n    }, t), e(() => this.view.navigation.gamepad.device, a => {\n      this.cameraControllerGamepad && a && this.cameraControllerGamepad.gamepadDevice !== a && (this.cameraControllerGamepad.finishController(), this.cameraControllerGamepad = null);\n    })]);\n  }\n\n  onUninstall() {\n    this.watchHandles.removeAll(), super.onUninstall();\n  }\n\n  _handleEventGamepad(a) {\n    const e = this.view.navigation.gamepad.device;\n    if (e && a.data.device !== e) return;\n    const t = this.cameraControllerGamepad && this.cameraControllerGamepad.active;\n\n    if (t || r.activatesFor(this.view, a.data)) {\n      if (!t) {\n        const e = new r({\n          view: this.view,\n          gamepadDevice: a.data.device\n        });\n        this.view.state.switchCameraController(e) && (this.cameraControllerGamepad = e);\n      }\n\n      this.cameraControllerGamepad && this.cameraControllerGamepad.active && this.cameraControllerGamepad.gamepadDevice === a.data.device && this.cameraControllerGamepad.handleEventGamepad(a.data);\n    }\n  }\n\n}\n\nexport { l as GamepadNavigation };","map":{"version":3,"names":["a","watch","e","initial","t","GamepadKeyboardController","r","InputHandler","i","l","constructor","view","watchHandles","handle","registerIncoming","_handleEventGamepad","pause","onInstall","add","navigation","gamepad","enabled","resume","cameraControllerGamepad","finishController","device","gamepadDevice","onUninstall","removeAll","data","active","activatesFor","state","switchCameraController","handleEventGamepad","GamepadNavigation"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/input/handlers/GamepadNavigation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport a from\"../../../../core/Handles.js\";import{watch as e,initial as t}from\"../../../../core/reactiveUtils.js\";import{GamepadKeyboardController as r}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";class l extends i{constructor(e){super(!0),this.view=e,this.watchHandles=new a,this.handle=this.registerIncoming(\"gamepad\",(a=>this._handleEventGamepad(a))),this.handle.pause()}onInstall(a){super.onInstall(a),this.watchHandles.add([e((()=>this.view.navigation.gamepad.enabled),(a=>{a?this.handle.resume():(this.handle.pause(),this.cameraControllerGamepad&&(this.cameraControllerGamepad.finishController(),this.cameraControllerGamepad=null))}),t),e((()=>this.view.navigation.gamepad.device),(a=>{this.cameraControllerGamepad&&a&&this.cameraControllerGamepad.gamepadDevice!==a&&(this.cameraControllerGamepad.finishController(),this.cameraControllerGamepad=null)}))])}onUninstall(){this.watchHandles.removeAll(),super.onUninstall()}_handleEventGamepad(a){const e=this.view.navigation.gamepad.device;if(e&&a.data.device!==e)return;const t=this.cameraControllerGamepad&&this.cameraControllerGamepad.active;if(t||r.activatesFor(this.view,a.data)){if(!t){const e=new r({view:this.view,gamepadDevice:a.data.device});this.view.state.switchCameraController(e)&&(this.cameraControllerGamepad=e)}this.cameraControllerGamepad&&this.cameraControllerGamepad.active&&this.cameraControllerGamepad.gamepadDevice===a.data.device&&this.cameraControllerGamepad.handleEventGamepad(a.data)}}}export{l as GamepadNavigation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}