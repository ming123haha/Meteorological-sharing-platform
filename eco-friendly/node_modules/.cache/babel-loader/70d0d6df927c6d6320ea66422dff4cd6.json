{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport s from \"../support/AggregateField.js\";\nimport { featureReductionProperty as o } from \"../support/featureReductionUtils.js\";\nimport { createClusterRenderer as i } from \"../../views/2d/layers/support/clusterUtils.js\";\n\nconst n = n => {\n  let u = class extends n {\n    constructor(...e) {\n      super(...e), this.own(this.watch(\"renderer\", () => {\n        if (this.featureReduction) {\n          const e = this._normalizeFeatureReduction(this.featureReduction);\n\n          this._set(\"featureReduction\", e);\n        }\n      }, !0));\n    }\n\n    set featureReduction(e) {\n      const r = this._normalizeFeatureReduction(e);\n\n      this._set(\"featureReduction\", r);\n    }\n\n    set renderer(e) {}\n\n    _normalizeFeatureReduction(e) {\n      if (\"cluster\" !== e?.type) return e;\n      const r = e.clone(),\n            t = [new s({\n        name: \"cluster_count\",\n        isAutoGenerated: !0,\n        statisticType: \"count\"\n      })],\n            o = (r.fields ?? []).filter(e => !e.isAutoGenerated);\n      if (e.renderer && !e.renderer.authoringInfo?.isAutoGenerated) return r.fields = [...t, ...o], r;\n      if (e.symbol) return r.fields = [...t, ...o], r.renderer = null, r;\n      if (!this.renderer) return e;\n      const n = i(t, this.renderer, e, null, !1);\n      return r.fields = [...t, ...o], r.renderer = n, r;\n    }\n\n  };\n  return e([r(o)], u.prototype, \"featureReduction\", null), u = e([t(\"esri.layers.mixins.FeatureReductionLayer\")], u), u;\n};\n\nexport { n as FeatureReductionLayer };","map":{"version":3,"names":["_","e","property","r","subclass","t","s","featureReductionProperty","o","createClusterRenderer","i","n","u","constructor","own","watch","featureReduction","_normalizeFeatureReduction","_set","renderer","type","clone","name","isAutoGenerated","statisticType","fields","filter","authoringInfo","symbol","prototype","FeatureReductionLayer"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/mixins/FeatureReductionLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../support/AggregateField.js\";import{featureReductionProperty as o}from\"../support/featureReductionUtils.js\";import{createClusterRenderer as i}from\"../../views/2d/layers/support/clusterUtils.js\";const n=n=>{let u=class extends n{constructor(...e){super(...e),this.own(this.watch(\"renderer\",(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set(\"featureReduction\",e)}}),!0))}set featureReduction(e){const r=this._normalizeFeatureReduction(e);this._set(\"featureReduction\",r)}set renderer(e){}_normalizeFeatureReduction(e){if(\"cluster\"!==e?.type)return e;const r=e.clone(),t=[new s({name:\"cluster_count\",isAutoGenerated:!0,statisticType:\"count\"})],o=(r.fields??[]).filter((e=>!e.isAutoGenerated));if(e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated)return r.fields=[...t,...o],r;if(e.symbol)return r.fields=[...t,...o],r.renderer=null,r;if(!this.renderer)return e;const n=i(t,this.renderer,e,null,!1);return r.fields=[...t,...o],r.renderer=n,r}};return e([r(o)],u.prototype,\"featureReduction\",null),u=e([t(\"esri.layers.mixins.FeatureReductionLayer\")],u),u};export{n as FeatureReductionLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}