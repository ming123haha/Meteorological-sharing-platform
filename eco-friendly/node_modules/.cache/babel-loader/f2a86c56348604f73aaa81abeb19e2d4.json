{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { throwIfAbortError as o } from \"../../core/promiseUtils.js\";\nimport { normalize as s, removeFile as n } from \"../../core/urlUtils.js\";\nimport l from \"../../portal/Portal.js\";\nimport a from \"../../portal/PortalQueryParams.js\";\nimport { enableWebStyleForceWOSR as f } from \"../../support/featureFlags.js\";\nconst i = {};\n\nasync function u(e, r) {\n  try {\n    return {\n      data: (await j(e, r)).data,\n      baseUrl: n(e),\n      styleUrl: e\n    };\n  } catch (t) {\n    return o(t), null;\n  }\n}\n\nfunction y(e, r, o) {\n  const s = t(r.portal) ? r.portal : l.getDefault();\n  let n;\n  const a = `${s.url} - ${s.user && s.user.username} - ${e}`;\n  return i[a] || (i[a] = m(e, s, o).then(e => (n = e, e.fetchData())).then(r => ({\n    data: r,\n    baseUrl: n.itemUrl,\n    styleName: e\n  }))), i[a];\n}\n\nfunction m(e, t, o) {\n  return t.load(o).then(() => {\n    const r = new a({\n      disableExtraQuery: !0,\n      query: `owner:${w} AND type:${h} AND typekeywords:\"${e}\"`\n    });\n    return t.queryItems(r, o);\n  }).then(({\n    results: t\n  }) => {\n    let s = null;\n    const n = e.toLowerCase();\n    if (t && Array.isArray(t)) for (const e of t) {\n      if (e.typeKeywords.some(e => e.toLowerCase() === n) && e.type === h && e.owner === w) {\n        s = e;\n        break;\n      }\n    }\n    if (!s) throw new r(\"symbolstyleutils:style-not-found\", `The style '${e}' could not be found`, {\n      styleName: e\n    });\n    return s.load(o);\n  });\n}\n\nfunction c(e, t, o) {\n  return e.styleUrl ? u(e.styleUrl, o) : e.styleName ? y(e.styleName, t, o) : Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\", \"Either styleUrl or styleName is required to resolve a style\"));\n}\n\nfunction p(e) {\n  return null === e || \"CIMSymbolReference\" === e.type ? e : {\n    type: \"CIMSymbolReference\",\n    symbol: e\n  };\n}\n\nfunction d(e, r) {\n  if (\"cimRef\" === r) return e.cimRef;\n  if (e.formatInfos && !f()) for (const t of e.formatInfos) if (\"gltf\" === t.type) return t.href;\n  return e.webRef;\n}\n\nfunction b(e) {\n  for (const r of e.typeKeywords) if (/^Esri.*Style$/.test(r) && \"Esri Style\" !== r) return r;\n}\n\nfunction j(r, t) {\n  const o = {\n    responseType: \"json\",\n    query: {\n      f: \"json\"\n    },\n    ...t\n  };\n  return e(s(r), o);\n}\n\nconst w = \"esri_en\",\n      h = \"Style\",\n      U = \"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";\nexport { U as Style2DUrlTemplate, c as fetchStyle, p as makeCIMSymbolRef, j as requestJSON, b as styleNameFromItem, d as symbolUrlFromStyleItem };","map":{"version":3,"names":["e","r","isSome","t","throwIfAbortError","o","normalize","s","removeFile","n","l","a","enableWebStyleForceWOSR","f","i","u","data","j","baseUrl","styleUrl","y","portal","getDefault","url","user","username","m","then","fetchData","itemUrl","styleName","load","disableExtraQuery","query","w","h","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","type","owner","c","Promise","reject","p","symbol","d","cimRef","formatInfos","href","webRef","b","test","responseType","U","Style2DUrlTemplate","fetchStyle","makeCIMSymbolRef","requestJSON","styleNameFromItem","symbolUrlFromStyleItem"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/support/styleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{normalize as s,removeFile as n}from\"../../core/urlUtils.js\";import l from\"../../portal/Portal.js\";import a from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as f}from\"../../support/featureFlags.js\";const i={};async function u(e,r){try{return{data:(await j(e,r)).data,baseUrl:n(e),styleUrl:e}}catch(t){return o(t),null}}function y(e,r,o){const s=t(r.portal)?r.portal:l.getDefault();let n;const a=`${s.url} - ${s.user&&s.user.username} - ${e}`;return i[a]||(i[a]=m(e,s,o).then((e=>(n=e,e.fetchData()))).then((r=>({data:r,baseUrl:n.itemUrl,styleName:e})))),i[a]}function m(e,t,o){return t.load(o).then((()=>{const r=new a({disableExtraQuery:!0,query:`owner:${w} AND type:${h} AND typekeywords:\"${e}\"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===h&&e.owner===w){s=e;break}}if(!s)throw new r(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,t,o){return e.styleUrl?u(e.styleUrl,o):e.styleName?y(e.styleName,t,o):Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,r){if(\"cimRef\"===r)return e.cimRef;if(e.formatInfos&&!f())for(const t of e.formatInfos)if(\"gltf\"===t.type)return t.href;return e.webRef}function b(e){for(const r of e.typeKeywords)if(/^Esri.*Style$/.test(r)&&\"Esri Style\"!==r)return r}function j(r,t){const o={responseType:\"json\",query:{f:\"json\"},...t};return e(s(r),o)}const w=\"esri_en\",h=\"Style\",U=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{U as Style2DUrlTemplate,c as fetchStyle,p as makeCIMSymbolRef,j as requestJSON,b as styleNameFromItem,d as symbolUrlFromStyleItem};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,qBAAvB;AAA6C,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,4BAAlC;AAA+D,SAAOC,SAAS,IAAIC,CAApB,EAAsBC,UAAU,IAAIC,CAApC,QAA0C,wBAA1C;AAAmE,OAAOC,CAAP,MAAa,wBAAb;AAAsC,OAAOC,CAAP,MAAa,mCAAb;AAAiD,SAAOC,uBAAuB,IAAIC,CAAlC,QAAwC,+BAAxC;AAAwE,MAAMC,CAAC,GAAC,EAAR;;AAAW,eAAeC,CAAf,CAAiBf,CAAjB,EAAmBC,CAAnB,EAAqB;EAAC,IAAG;IAAC,OAAM;MAACe,IAAI,EAAC,CAAC,MAAMC,CAAC,CAACjB,CAAD,EAAGC,CAAH,CAAR,EAAee,IAArB;MAA0BE,OAAO,EAACT,CAAC,CAACT,CAAD,CAAnC;MAAuCmB,QAAQ,EAACnB;IAAhD,CAAN;EAAyD,CAA7D,CAA6D,OAAMG,CAAN,EAAQ;IAAC,OAAOE,CAAC,CAACF,CAAD,CAAD,EAAK,IAAZ;EAAiB;AAAC;;AAAA,SAASiB,CAAT,CAAWpB,CAAX,EAAaC,CAAb,EAAeI,CAAf,EAAiB;EAAC,MAAME,CAAC,GAACJ,CAAC,CAACF,CAAC,CAACoB,MAAH,CAAD,GAAYpB,CAAC,CAACoB,MAAd,GAAqBX,CAAC,CAACY,UAAF,EAA7B;EAA4C,IAAIb,CAAJ;EAAM,MAAME,CAAC,GAAE,GAAEJ,CAAC,CAACgB,GAAI,MAAKhB,CAAC,CAACiB,IAAF,IAAQjB,CAAC,CAACiB,IAAF,CAAOC,QAAS,MAAKzB,CAAE,EAArD;EAAuD,OAAOc,CAAC,CAACH,CAAD,CAAD,KAAOG,CAAC,CAACH,CAAD,CAAD,GAAKe,CAAC,CAAC1B,CAAD,EAAGO,CAAH,EAAKF,CAAL,CAAD,CAASsB,IAAT,CAAe3B,CAAC,KAAGS,CAAC,GAACT,CAAF,EAAIA,CAAC,CAAC4B,SAAF,EAAP,CAAhB,EAAwCD,IAAxC,CAA8C1B,CAAC,KAAG;IAACe,IAAI,EAACf,CAAN;IAAQiB,OAAO,EAACT,CAAC,CAACoB,OAAlB;IAA0BC,SAAS,EAAC9B;EAApC,CAAH,CAA/C,CAAZ,GAAyGc,CAAC,CAACH,CAAD,CAAjH;AAAqH;;AAAA,SAASe,CAAT,CAAW1B,CAAX,EAAaG,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAOF,CAAC,CAAC4B,IAAF,CAAO1B,CAAP,EAAUsB,IAAV,CAAgB,MAAI;IAAC,MAAM1B,CAAC,GAAC,IAAIU,CAAJ,CAAM;MAACqB,iBAAiB,EAAC,CAAC,CAApB;MAAsBC,KAAK,EAAE,SAAQC,CAAE,aAAYC,CAAE,sBAAqBnC,CAAE;IAA5E,CAAN,CAAR;IAA+F,OAAOG,CAAC,CAACiC,UAAF,CAAanC,CAAb,EAAeI,CAAf,CAAP;EAAyB,CAA7I,EAAgJsB,IAAhJ,CAAsJ,CAAC;IAACU,OAAO,EAAClC;EAAT,CAAD,KAAe;IAAC,IAAII,CAAC,GAAC,IAAN;IAAW,MAAME,CAAC,GAACT,CAAC,CAACsC,WAAF,EAAR;IAAwB,IAAGnC,CAAC,IAAEoC,KAAK,CAACC,OAAN,CAAcrC,CAAd,CAAN,EAAuB,KAAI,MAAMH,CAAV,IAAeG,CAAf,EAAiB;MAAC,IAAGH,CAAC,CAACyC,YAAF,CAAeC,IAAf,CAAqB1C,CAAC,IAAEA,CAAC,CAACsC,WAAF,OAAkB7B,CAA1C,KAA+CT,CAAC,CAAC2C,IAAF,KAASR,CAAxD,IAA2DnC,CAAC,CAAC4C,KAAF,KAAUV,CAAxE,EAA0E;QAAC3B,CAAC,GAACP,CAAF;QAAI;MAAM;IAAC;IAAA,IAAG,CAACO,CAAJ,EAAM,MAAM,IAAIN,CAAJ,CAAM,kCAAN,EAA0C,cAAaD,CAAE,sBAAzD,EAA+E;MAAC8B,SAAS,EAAC9B;IAAX,CAA/E,CAAN;IAAoG,OAAOO,CAAC,CAACwB,IAAF,CAAO1B,CAAP,CAAP;EAAiB,CAAnc,CAAP;AAA6c;;AAAA,SAASwC,CAAT,CAAW7C,CAAX,EAAaG,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAOL,CAAC,CAACmB,QAAF,GAAWJ,CAAC,CAACf,CAAC,CAACmB,QAAH,EAAYd,CAAZ,CAAZ,GAA2BL,CAAC,CAAC8B,SAAF,GAAYV,CAAC,CAACpB,CAAC,CAAC8B,SAAH,EAAa3B,CAAb,EAAeE,CAAf,CAAb,GAA+ByC,OAAO,CAACC,MAAR,CAAe,IAAI9C,CAAJ,CAAM,6CAAN,EAAoD,6DAApD,CAAf,CAAjE;AAAoM;;AAAA,SAAS+C,CAAT,CAAWhD,CAAX,EAAa;EAAC,OAAO,SAAOA,CAAP,IAAU,yBAAuBA,CAAC,CAAC2C,IAAnC,GAAwC3C,CAAxC,GAA0C;IAAC2C,IAAI,EAAC,oBAAN;IAA2BM,MAAM,EAACjD;EAAlC,CAAjD;AAAsF;;AAAA,SAASkD,CAAT,CAAWlD,CAAX,EAAaC,CAAb,EAAe;EAAC,IAAG,aAAWA,CAAd,EAAgB,OAAOD,CAAC,CAACmD,MAAT;EAAgB,IAAGnD,CAAC,CAACoD,WAAF,IAAe,CAACvC,CAAC,EAApB,EAAuB,KAAI,MAAMV,CAAV,IAAeH,CAAC,CAACoD,WAAjB,EAA6B,IAAG,WAASjD,CAAC,CAACwC,IAAd,EAAmB,OAAOxC,CAAC,CAACkD,IAAT;EAAc,OAAOrD,CAAC,CAACsD,MAAT;AAAgB;;AAAA,SAASC,CAAT,CAAWvD,CAAX,EAAa;EAAC,KAAI,MAAMC,CAAV,IAAeD,CAAC,CAACyC,YAAjB,EAA8B,IAAG,gBAAgBe,IAAhB,CAAqBvD,CAArB,KAAyB,iBAAeA,CAA3C,EAA6C,OAAOA,CAAP;AAAS;;AAAA,SAASgB,CAAT,CAAWhB,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAAC;IAACoD,YAAY,EAAC,MAAd;IAAqBxB,KAAK,EAAC;MAACpB,CAAC,EAAC;IAAH,CAA3B;IAAsC,GAAGV;EAAzC,CAAR;EAAoD,OAAOH,CAAC,CAACO,CAAC,CAACN,CAAD,CAAF,EAAMI,CAAN,CAAR;AAAiB;;AAAA,MAAM6B,CAAC,GAAC,SAAR;AAAA,MAAkBC,CAAC,GAAC,OAApB;AAAA,MAA4BuB,CAAC,GAAC,kIAA9B;AAAiK,SAAOA,CAAC,IAAIC,kBAAZ,EAA+Bd,CAAC,IAAIe,UAApC,EAA+CZ,CAAC,IAAIa,gBAApD,EAAqE5C,CAAC,IAAI6C,WAA1E,EAAsFP,CAAC,IAAIQ,iBAA3F,EAA6Gb,CAAC,IAAIc,sBAAlH"},"metadata":{},"sourceType":"module"}