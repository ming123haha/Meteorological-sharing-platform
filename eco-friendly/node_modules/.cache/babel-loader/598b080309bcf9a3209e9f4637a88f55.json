{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { makeHandle as r } from \"../../../../core/handleUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../../../geometry/Polygon.js\";\nimport { toExtent as i } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { TileTreeDebugger as n } from \"../../../support/TileTreeDebugger.js\";\nlet d = class extends n {\n  constructor(e) {\n    super(e), this.handles = new t();\n  }\n\n  initialize() {\n    const e = setInterval(() => this._fetchDebugInfo(), 2e3);\n    this.handles.add(r(() => clearInterval(e)));\n  }\n\n  destroy() {\n    this.handles.destroy();\n  }\n\n  getTiles() {\n    if (!this.debugInfo) return [];\n    const e = new Map(),\n          t = new Map();\n    this.debugInfo.storedTiles.forEach(t => {\n      e.set(t.data.id, t.featureCount);\n    }), this.debugInfo.pendingTiles.forEach(r => {\n      e.set(r.data.id, r.featureCount), t.set(r.data.id, r.state);\n    });\n\n    const r = r => {\n      const o = t.get(r),\n            s = e.get(r) ?? \"?\";\n      return o ? `${o}:${s}\\n${r}` : `store:${s}\\n${r}`;\n    },\n          o = new Map();\n\n    return this.debugInfo.storedTiles.forEach(e => {\n      o.set(e.data.id, e.data);\n    }), this.debugInfo.pendingTiles.forEach(e => {\n      o.set(e.data.id, e.data);\n    }), Array.from(o.values()).map(e => ({\n      lij: [e.level, e.row, e.col],\n      geometry: a.fromExtent(i(e.extent, this.view.spatialReference)),\n      label: r(e.id)\n    }));\n  }\n\n  _fetchDebugInfo() {\n    this.handle.getDebugInfo(null).then(e => {\n      this.debugInfo = e, this.update();\n    });\n  }\n\n};\ne([o({\n  constructOnly: !0\n})], d.prototype, \"handle\", void 0), d = e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")], d);\nexport { d as WorkerTileTreeDebugger };","map":{"version":3,"names":["_","e","t","makeHandle","r","property","o","subclass","s","a","toExtent","i","TileTreeDebugger","n","d","constructor","handles","initialize","setInterval","_fetchDebugInfo","add","clearInterval","destroy","getTiles","debugInfo","Map","storedTiles","forEach","set","data","id","featureCount","pendingTiles","state","get","Array","from","values","map","lij","level","row","col","geometry","fromExtent","extent","view","spatialReference","label","handle","getDebugInfo","then","update","constructOnly","prototype","WorkerTileTreeDebugger"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Polygon.js\";import{toExtent as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let d=class extends n{constructor(e){super(e),this.handles=new t}initialize(){const e=setInterval((()=>this._fetchDebugInfo()),2e3);this.handles.add(r((()=>clearInterval(e))))}destroy(){this.handles.destroy()}getTiles(){if(!this.debugInfo)return[];const e=new Map,t=new Map;this.debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this.debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{const o=t.get(r),s=e.get(r)??\"?\";return o?`${o}:${s}\\n${r}`:`store:${s}\\n${r}`},o=new Map;return this.debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this.debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:a.fromExtent(i(e.extent,this.view.spatialReference)),label:r(e.id)})))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this.debugInfo=e,this.update()}))}};e([o({constructOnly:!0})],d.prototype,\"handle\",void 0),d=e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],d);export{d as WorkerTileTreeDebugger};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}