{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../core/lang.js\";\nimport { isNone as t } from \"../../core/maybe.js\";\nimport n from \"./RasterFunction.js\";\nimport { schema as r } from \"./rasterFunctionUtils.js\";\nimport { getRFxArgColorRampValue as o, convertColorRampToColormap as a, getColorRampName as i, rgbaConvertTo32Bit as s } from \"../../renderers/support/colorRampUtils.js\";\nimport { stretchTypeJSONDict as u } from \"../../renderers/support/stretchRendererUtils.js\";\nimport l from \"../../renderers/visualVariables/SizeVariable.js\";\nconst c = {\n  u1: [0, 1],\n  u2: [0, 3],\n  u4: [0, 15],\n  u8: [0, 255],\n  s8: [-128, 127],\n  u16: [0, 65535],\n  s16: [-32768, 32767]\n},\n      m = {\n  simple_scalar: \"Simple Scalar\",\n  wind_barb: \"Wind Barb\",\n  single_arrow: \"Single Arrow\",\n  beaufort_kn: \"Beaufort Wind (Knots)\",\n  beaufort_m: \"Beaufort Wind (MetersPerSecond)\",\n  ocean_current_m: \"Ocean Current (MetersPerSecond)\",\n  ocean_current_kn: \"Ocean Current (Knots)\"\n},\n      p = new Set([\"raster-stretch\", \"unique-value\", \"class-breaks\", \"raster-shaded-relief\", \"vector-field\", \"raster-colormap\"]);\n\nfunction f(e) {\n  return p.has(e.type);\n}\n\nfunction g(t, n) {\n  if (!t || !n) return e(t || n);\n  const r = e(t);\n\n  if (n.rasterFunctionDefinition) {\n    const e = n.rasterFunctionDefinition;\n    (e.thumbnail || e.thumbnailEx) && (e.thumbnail = e.thumbnailEx = null), d(r.rasterFunctionDefinition.arguments, n);\n  } else if (\"none\" !== n.functionName.toLowerCase()) {\n    b(r.functionArguments).Raster = n;\n  }\n\n  return r;\n}\n\nfunction d(e, t) {\n  for (const n in e) \"raster\" === n.toLowerCase() && (\"RasterFunctionVariable\" === e[n].type ? (e[n] = t.rasterFunctionDefinition, e[n].type = \"RasterFunctionTemplate\") : \"RasterFunctionTemplate\" === e[n].type && d(e[n].arguments, t));\n}\n\nfunction h(t) {\n  const n = e(r[t.functionName + \"Function\"]),\n        o = t.functionArguments;\n\n  for (const e in o) \"raster\" === e.toLowerCase() ? (n.arguments[e] = h(o[e]), n.arguments[e].type = \"RasterFunctionTemplate\") : \"colormap\" === e.toLowerCase() ? (n.arguments[e].value = D(o[e]), n.arguments.ColorSchemeType.value = 0) : n.arguments[e].value = o[e];\n\n  return n;\n}\n\nfunction y(e, t) {\n  switch (t = t || {}, e.type) {\n    case \"raster-stretch\":\n      return v(e, t);\n\n    case \"class-breaks\":\n      return C(e, t);\n\n    case \"unique-value\":\n      return A(e, t);\n\n    case \"raster-colormap\":\n      return F(e, t);\n\n    case \"vector-field\":\n      return T(e, t);\n\n    case \"raster-shaded-relief\":\n      return w(e, t);\n\n    case \"flow\":\n      throw new Error(\"Unsupported rendering rule.\");\n  }\n}\n\nfunction b(e) {\n  const t = e?.Raster;\n  return t && \"esri.layers.support.RasterFunction\" === t.declaredClass ? b(t.functionArguments) : e;\n}\n\nconst R = {\n  none: 0,\n  standardDeviation: 3,\n  histogramEqualization: 4,\n  minMax: 5,\n  percentClip: 6,\n  sigmoid: 9\n};\n\nfunction T(e, t) {\n  const r = new n();\n  r.functionName = \"VectorFieldRenderer\";\n  const {\n    dataType: o,\n    bandProperties: a\n  } = t,\n        i = \"vector-uv\" === o;\n  let s, u;\n  a && 2 === a.length && (s = a.map(e => e.BandName.toLowerCase()).indexOf(\"magnitude\"), u = a.map(e => e.BandName.toLowerCase()).indexOf(\"direction\")), -1 !== s && null !== s || (s = 0, u = 1);\n  const c = \"arithmetic\" === e.rotationType ? 1 : 2,\n        p = \"flow-from\" === e.flowRepresentation ? 0 : 1,\n        f = e.visualVariables ? e.visualVariables.find(e => \"Magnitude\" === e.field) : new l(),\n        g = {\n    magnitudeBandID: s,\n    directionBandID: u,\n    isUVComponents: i,\n    referenceSystem: c,\n    massFlowAngleRepresentation: p,\n    symbolTileSize: 50,\n    symbolTileSizeUnits: 100,\n    calculationMethod: \"Vector Average\",\n    symbologyName: m[e.style.toLowerCase().replace(\"-\", \"_\")],\n    minimumMagnitude: f.minDataValue,\n    maximumMagnitude: f.maxDataValue,\n    minimumSymbolSize: f.minSize,\n    maximumSymbolSize: f.maxSize\n  };\n  return r.functionArguments = g, t.convertToRFT ? new n({\n    rasterFunctionDefinition: h(r)\n  }) : r;\n}\n\nfunction w(e, t) {\n  const r = t.convertToRFT;\n  if (\"elevation\" !== t.dataType && (\"generic\" !== t.dataType || 1 !== t.bandCount || \"s16\" !== t.pixelType && \"s32\" !== t.pixelType && \"f32\" !== t.pixelType && \"f64\" !== t.pixelType)) return new n();\n  const i = new n();\n  i.functionName = \"Hillshade\";\n  const s = \"traditional\" === e.hillshadeType ? 0 : 1,\n        u = \"none\" === e.scalingType ? 1 : 3,\n        l = {\n    HillshadeType: s,\n    SlopeType: u,\n    ZFactor: e.zFactor\n  };\n  return 0 === s && (l.Azimuth = e.azimuth, l.Altitude = e.altitude), 3 === u && (l.PSPower = e.pixelSizePower, l.PSZFactor = e.pixelSizeFactor), i.functionArguments = l, i.variableName = \"Raster\", e.colorRamp && (i.functionName = \"ShadedRelief\", r ? l.ColorRamp = o(e.colorRamp) : l.Colormap = a(e.colorRamp, 256)), r ? new n({\n    rasterFunctionDefinition: h(i)\n  }) : i;\n}\n\nfunction v(e, t) {\n  const r = t.convertToRFT,\n        s = new n();\n  s.functionName = \"Stretch\";\n  const l = R[u.toJSON(e.stretchType)],\n        c = \"u8\",\n        m = {\n    StretchType: l,\n    Statistics: N(e.statistics),\n    DRA: e.dynamicRangeAdjustment,\n    UseGamma: e.useGamma,\n    Gamma: e.gamma,\n    ComputeGamma: e.computeGamma\n  };\n\n  if (null != e.outputMin && (m.Min = e.outputMin), null != e.outputMax && (m.Max = e.outputMax), l === R.standardDeviation ? (m.NumberOfStandardDeviations = e.numberOfStandardDeviations, s.outputPixelType = c) : l === R.percentClip ? (m.MinPercent = e.minPercent, m.MaxPercent = e.maxPercent, s.outputPixelType = c) : l === R.minMax ? s.outputPixelType = c : l === R.sigmoid && (m.SigmoidStrengthLevel = e.sigmoidStrengthLevel), s.functionArguments = m, s.variableName = \"Raster\", e.colorRamp) {\n    const u = e.colorRamp,\n          l = new n();\n    if (r) l.functionArguments = {\n      ColorRamp: o(u)\n    };else {\n      const n = i(u);\n      if (n) l.functionArguments = {\n        colorRamp: n\n      };else if (!t.convertColorRampToColormap || \"algorithmic\" !== u.type && \"multipart\" !== u.type) {\n        const t = e.colorRamp.toJSON();\n        \"algorithmic\" === t.type ? t.algorithm = t.algorithm || \"esriCIELabAlgorithm\" : \"multipart\" === t.type && t.colorRamps?.length && t.colorRamps.forEach(e => e.algorithm = e.algorithm || \"esriCIELabAlgorithm\"), l.functionArguments = {\n          colorRamp: t\n        };\n      } else l.functionArguments = {\n        Colormap: a(u, 256)\n      };\n    }\n    return l.variableName = \"Raster\", l.functionName = \"Colormap\", l.functionArguments.Raster = s, r ? new n({\n      rasterFunctionDefinition: h(l)\n    }) : l;\n  }\n\n  return r ? new n({\n    rasterFunctionDefinition: h(s)\n  }) : s;\n}\n\nfunction C(e, r) {\n  const o = [],\n        a = [],\n        i = [],\n        s = [],\n        u = 1e-6,\n        {\n    pixelType: l,\n    rasterAttributeTable: c\n  } = r,\n        m = t(c) ? null : c.features,\n        p = x(c);\n\n  if (m && Array.isArray(m) && e.classBreakInfos) {\n    e.classBreakInfos.forEach((t, n) => {\n      const r = t.symbol.color;\n      let o;\n      r.a && m.forEach(a => {\n        o = a.attributes[e.field], (o >= t.minValue && o < t.maxValue || n === e.classBreakInfos.length - 1 && o >= t.minValue) && s.push([a.attributes[p], r.r, r.g, r.b]);\n      });\n    });\n    const t = l ? S(s, l) : s,\n          o = new n();\n    return o.functionName = \"Colormap\", o.functionArguments = {}, o.functionArguments.Colormap = t, o.variableName = \"Raster\", r.convertToRFT ? new n({\n      rasterFunctionDefinition: h(o)\n    }) : o;\n  }\n\n  e.classBreakInfos.forEach((e, t) => {\n    const n = e.symbol && e.symbol.color;\n    n.a ? (0 === t ? o.push(e.minValue, e.maxValue + u) : o.push(e.minValue + u, e.maxValue + u), a.push(t), s.push([t, n.r, n.g, n.b])) : i.push(e.minValue, e.maxValue);\n  });\n  const f = l ? S(s, l) : s,\n        g = new n();\n  g.functionName = \"Remap\", g.functionArguments = {\n    InputRanges: o,\n    OutputValues: a,\n    NoDataRanges: i\n  }, g.variableName = \"Raster\";\n  const d = new n();\n  return d.functionName = \"Colormap\", d.functionArguments = {\n    Colormap: f,\n    Raster: g\n  }, r.convertToRFT ? new n({\n    rasterFunctionDefinition: h(d)\n  }) : d;\n}\n\nfunction S(e, t) {\n  const n = c[String(t).toLowerCase()];\n  return n && e.push([Math.floor(n[0] - 1), 0, 0, 0], [Math.ceil(n[1] + 1), 0, 0, 0]), e;\n}\n\nfunction x(e) {\n  if (t(e)) return;\n  const {\n    fields: n\n  } = e,\n        r = n && n.find(e => e && e.name && \"value\" === e.name.toLowerCase());\n  return r && r.name;\n}\n\nfunction A(e, r) {\n  const o = [],\n        {\n    pixelType: a,\n    rasterAttributeTable: i\n  } = r,\n        s = t(i) ? null : i.features,\n        u = x(i),\n        l = e.defaultSymbol?.color?.toRgb(),\n        c = e.uniqueValueInfos;\n  if (c) if (s) {\n    const t = new Map();\n    c.forEach(e => {\n      const n = e.value,\n            r = e.symbol.color;\n      null != n && r && r.a && t.set(String(n), r.toRgb());\n    });\n    const n = e.field;\n    s.forEach(({\n      attributes: e\n    }) => {\n      const r = String(e[n]),\n            a = e[u];\n\n      if (t.has(r)) {\n        const e = t.get(r);\n        o.push([a, ...e]);\n      } else l && o.push([a, ...l]);\n    });\n  } else for (let t = 0; t < c.length; t++) {\n    const e = c[t],\n          n = e.symbol.color,\n          r = +e.value;\n\n    if (n?.a) {\n      if (isNaN(r)) return null;\n      o.push([r, n.r, n.g, n.b]);\n    }\n  }\n  const m = a && o.length > 0 ? S(o, a) : o,\n        p = new n();\n  return p.functionName = \"Colormap\", p.functionArguments = {}, p.functionArguments.Colormap = m, p.variableName = \"Raster\", r.convertToRFT ? new n({\n    rasterFunctionDefinition: h(p)\n  }) : p;\n}\n\nfunction F(e, t) {\n  const r = e.extractColormap();\n  if (!r || 0 === r.length) return;\n  const {\n    pixelType: o\n  } = t,\n        a = o ? S(r, o) : r,\n        i = new n();\n  return i.functionName = \"Colormap\", i.functionArguments = {}, i.functionArguments.Colormap = a, t.convertToRFT ? new n({\n    rasterFunctionDefinition: h(i)\n  }) : i;\n}\n\nfunction N(e) {\n  const t = [];\n  return e.forEach(e => {\n    const n = e;\n    if (Array.isArray(n)) t.push(n);else {\n      if (null == n.min || null == n.max) return;\n      const e = [n.min, n.max, n.avg || 0, n.stddev || 0];\n      t.push(e);\n    }\n  }), t;\n}\n\nfunction D(e) {\n  const t = [],\n        n = [];\n  return e.forEach(e => {\n    t.push(e[0]), n.push(s([...e.slice(1), 255]));\n  }), {\n    type: \"RasterColormap\",\n    values: t,\n    colors: n\n  };\n}\n\nexport { g as combineRenderingRules, y as convertRendererToRenderingRule, h as convertRenderingRuleToRFT, f as isSupportedRendererType, c as pixelTypeRanges };","map":{"version":3,"names":["clone","e","isNone","t","n","schema","r","getRFxArgColorRampValue","o","convertColorRampToColormap","a","getColorRampName","i","rgbaConvertTo32Bit","s","stretchTypeJSONDict","u","l","c","u1","u2","u4","u8","s8","u16","s16","m","simple_scalar","wind_barb","single_arrow","beaufort_kn","beaufort_m","ocean_current_m","ocean_current_kn","p","Set","f","has","type","g","rasterFunctionDefinition","thumbnail","thumbnailEx","d","arguments","functionName","toLowerCase","b","functionArguments","Raster","h","value","D","ColorSchemeType","y","v","C","A","F","T","w","Error","declaredClass","R","none","standardDeviation","histogramEqualization","minMax","percentClip","sigmoid","dataType","bandProperties","length","map","BandName","indexOf","rotationType","flowRepresentation","visualVariables","find","field","magnitudeBandID","directionBandID","isUVComponents","referenceSystem","massFlowAngleRepresentation","symbolTileSize","symbolTileSizeUnits","calculationMethod","symbologyName","style","replace","minimumMagnitude","minDataValue","maximumMagnitude","maxDataValue","minimumSymbolSize","minSize","maximumSymbolSize","maxSize","convertToRFT","bandCount","pixelType","hillshadeType","scalingType","HillshadeType","SlopeType","ZFactor","zFactor","Azimuth","azimuth","Altitude","altitude","PSPower","pixelSizePower","PSZFactor","pixelSizeFactor","variableName","colorRamp","ColorRamp","Colormap","toJSON","stretchType","StretchType","Statistics","N","statistics","DRA","dynamicRangeAdjustment","UseGamma","useGamma","Gamma","gamma","ComputeGamma","computeGamma","outputMin","Min","outputMax","Max","NumberOfStandardDeviations","numberOfStandardDeviations","outputPixelType","MinPercent","minPercent","MaxPercent","maxPercent","SigmoidStrengthLevel","sigmoidStrengthLevel","algorithm","colorRamps","forEach","rasterAttributeTable","features","x","Array","isArray","classBreakInfos","symbol","color","attributes","minValue","maxValue","push","S","InputRanges","OutputValues","NoDataRanges","String","Math","floor","ceil","fields","name","defaultSymbol","toRgb","uniqueValueInfos","Map","set","get","isNaN","extractColormap","min","max","avg","stddev","slice","values","colors","combineRenderingRules","convertRendererToRenderingRule","convertRenderingRuleToRFT","isSupportedRendererType","pixelTypeRanges"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/imageryRendererUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import{isNone as t}from\"../../core/maybe.js\";import n from\"./RasterFunction.js\";import{schema as r}from\"./rasterFunctionUtils.js\";import{getRFxArgColorRampValue as o,convertColorRampToColormap as a,getColorRampName as i,rgbaConvertTo32Bit as s}from\"../../renderers/support/colorRampUtils.js\";import{stretchTypeJSONDict as u}from\"../../renderers/support/stretchRendererUtils.js\";import l from\"../../renderers/visualVariables/SizeVariable.js\";const c={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767]},m={simple_scalar:\"Simple Scalar\",wind_barb:\"Wind Barb\",single_arrow:\"Single Arrow\",beaufort_kn:\"Beaufort Wind (Knots)\",beaufort_m:\"Beaufort Wind (MetersPerSecond)\",ocean_current_m:\"Ocean Current (MetersPerSecond)\",ocean_current_kn:\"Ocean Current (Knots)\"},p=new Set([\"raster-stretch\",\"unique-value\",\"class-breaks\",\"raster-shaded-relief\",\"vector-field\",\"raster-colormap\"]);function f(e){return p.has(e.type)}function g(t,n){if(!t||!n)return e(t||n);const r=e(t);if(n.rasterFunctionDefinition){const e=n.rasterFunctionDefinition;(e.thumbnail||e.thumbnailEx)&&(e.thumbnail=e.thumbnailEx=null),d(r.rasterFunctionDefinition.arguments,n)}else if(\"none\"!==n.functionName.toLowerCase()){b(r.functionArguments).Raster=n}return r}function d(e,t){for(const n in e)\"raster\"===n.toLowerCase()&&(\"RasterFunctionVariable\"===e[n].type?(e[n]=t.rasterFunctionDefinition,e[n].type=\"RasterFunctionTemplate\"):\"RasterFunctionTemplate\"===e[n].type&&d(e[n].arguments,t))}function h(t){const n=e(r[t.functionName+\"Function\"]),o=t.functionArguments;for(const e in o)\"raster\"===e.toLowerCase()?(n.arguments[e]=h(o[e]),n.arguments[e].type=\"RasterFunctionTemplate\"):\"colormap\"===e.toLowerCase()?(n.arguments[e].value=D(o[e]),n.arguments.ColorSchemeType.value=0):n.arguments[e].value=o[e];return n}function y(e,t){switch(t=t||{},e.type){case\"raster-stretch\":return v(e,t);case\"class-breaks\":return C(e,t);case\"unique-value\":return A(e,t);case\"raster-colormap\":return F(e,t);case\"vector-field\":return T(e,t);case\"raster-shaded-relief\":return w(e,t);case\"flow\":throw new Error(\"Unsupported rendering rule.\")}}function b(e){const t=e?.Raster;return t&&\"esri.layers.support.RasterFunction\"===t.declaredClass?b(t.functionArguments):e}const R={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function T(e,t){const r=new n;r.functionName=\"VectorFieldRenderer\";const{dataType:o,bandProperties:a}=t,i=\"vector-uv\"===o;let s,u;a&&2===a.length&&(s=a.map((e=>e.BandName.toLowerCase())).indexOf(\"magnitude\"),u=a.map((e=>e.BandName.toLowerCase())).indexOf(\"direction\")),-1!==s&&null!==s||(s=0,u=1);const c=\"arithmetic\"===e.rotationType?1:2,p=\"flow-from\"===e.flowRepresentation?0:1,f=e.visualVariables?e.visualVariables.find((e=>\"Magnitude\"===e.field)):new l,g={magnitudeBandID:s,directionBandID:u,isUVComponents:i,referenceSystem:c,massFlowAngleRepresentation:p,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:\"Vector Average\",symbologyName:m[e.style.toLowerCase().replace(\"-\",\"_\")],minimumMagnitude:f.minDataValue,maximumMagnitude:f.maxDataValue,minimumSymbolSize:f.minSize,maximumSymbolSize:f.maxSize};return r.functionArguments=g,t.convertToRFT?new n({rasterFunctionDefinition:h(r)}):r}function w(e,t){const r=t.convertToRFT;if(\"elevation\"!==t.dataType&&(\"generic\"!==t.dataType||1!==t.bandCount||\"s16\"!==t.pixelType&&\"s32\"!==t.pixelType&&\"f32\"!==t.pixelType&&\"f64\"!==t.pixelType))return new n;const i=new n;i.functionName=\"Hillshade\";const s=\"traditional\"===e.hillshadeType?0:1,u=\"none\"===e.scalingType?1:3,l={HillshadeType:s,SlopeType:u,ZFactor:e.zFactor};return 0===s&&(l.Azimuth=e.azimuth,l.Altitude=e.altitude),3===u&&(l.PSPower=e.pixelSizePower,l.PSZFactor=e.pixelSizeFactor),i.functionArguments=l,i.variableName=\"Raster\",e.colorRamp&&(i.functionName=\"ShadedRelief\",r?l.ColorRamp=o(e.colorRamp):l.Colormap=a(e.colorRamp,256)),r?new n({rasterFunctionDefinition:h(i)}):i}function v(e,t){const r=t.convertToRFT,s=new n;s.functionName=\"Stretch\";const l=R[u.toJSON(e.stretchType)],c=\"u8\",m={StretchType:l,Statistics:N(e.statistics),DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(m.Min=e.outputMin),null!=e.outputMax&&(m.Max=e.outputMax),l===R.standardDeviation?(m.NumberOfStandardDeviations=e.numberOfStandardDeviations,s.outputPixelType=c):l===R.percentClip?(m.MinPercent=e.minPercent,m.MaxPercent=e.maxPercent,s.outputPixelType=c):l===R.minMax?s.outputPixelType=c:l===R.sigmoid&&(m.SigmoidStrengthLevel=e.sigmoidStrengthLevel),s.functionArguments=m,s.variableName=\"Raster\",e.colorRamp){const u=e.colorRamp,l=new n;if(r)l.functionArguments={ColorRamp:o(u)};else{const n=i(u);if(n)l.functionArguments={colorRamp:n};else if(!t.convertColorRampToColormap||\"algorithmic\"!==u.type&&\"multipart\"!==u.type){const t=e.colorRamp.toJSON();\"algorithmic\"===t.type?t.algorithm=t.algorithm||\"esriCIELabAlgorithm\":\"multipart\"===t.type&&t.colorRamps?.length&&t.colorRamps.forEach((e=>e.algorithm=e.algorithm||\"esriCIELabAlgorithm\")),l.functionArguments={colorRamp:t}}else l.functionArguments={Colormap:a(u,256)}}return l.variableName=\"Raster\",l.functionName=\"Colormap\",l.functionArguments.Raster=s,r?new n({rasterFunctionDefinition:h(l)}):l}return r?new n({rasterFunctionDefinition:h(s)}):s}function C(e,r){const o=[],a=[],i=[],s=[],u=1e-6,{pixelType:l,rasterAttributeTable:c}=r,m=t(c)?null:c.features,p=x(c);if(m&&Array.isArray(m)&&e.classBreakInfos){e.classBreakInfos.forEach(((t,n)=>{const r=t.symbol.color;let o;r.a&&m.forEach((a=>{o=a.attributes[e.field],(o>=t.minValue&&o<t.maxValue||n===e.classBreakInfos.length-1&&o>=t.minValue)&&s.push([a.attributes[p],r.r,r.g,r.b])}))}));const t=l?S(s,l):s,o=new n;return o.functionName=\"Colormap\",o.functionArguments={},o.functionArguments.Colormap=t,o.variableName=\"Raster\",r.convertToRFT?new n({rasterFunctionDefinition:h(o)}):o}e.classBreakInfos.forEach(((e,t)=>{const n=e.symbol&&e.symbol.color;n.a?(0===t?o.push(e.minValue,e.maxValue+u):o.push(e.minValue+u,e.maxValue+u),a.push(t),s.push([t,n.r,n.g,n.b])):i.push(e.minValue,e.maxValue)}));const f=l?S(s,l):s,g=new n;g.functionName=\"Remap\",g.functionArguments={InputRanges:o,OutputValues:a,NoDataRanges:i},g.variableName=\"Raster\";const d=new n;return d.functionName=\"Colormap\",d.functionArguments={Colormap:f,Raster:g},r.convertToRFT?new n({rasterFunctionDefinition:h(d)}):d}function S(e,t){const n=c[String(t).toLowerCase()];return n&&e.push([Math.floor(n[0]-1),0,0,0],[Math.ceil(n[1]+1),0,0,0]),e}function x(e){if(t(e))return;const{fields:n}=e,r=n&&n.find((e=>e&&e.name&&\"value\"===e.name.toLowerCase()));return r&&r.name}function A(e,r){const o=[],{pixelType:a,rasterAttributeTable:i}=r,s=t(i)?null:i.features,u=x(i),l=e.defaultSymbol?.color?.toRgb(),c=e.uniqueValueInfos;if(c)if(s){const t=new Map;c.forEach((e=>{const n=e.value,r=e.symbol.color;null!=n&&r&&r.a&&t.set(String(n),r.toRgb())}));const n=e.field;s.forEach((({attributes:e})=>{const r=String(e[n]),a=e[u];if(t.has(r)){const e=t.get(r);o.push([a,...e])}else l&&o.push([a,...l])}))}else for(let t=0;t<c.length;t++){const e=c[t],n=e.symbol.color,r=+e.value;if(n?.a){if(isNaN(r))return null;o.push([r,n.r,n.g,n.b])}}const m=a&&o.length>0?S(o,a):o,p=new n;return p.functionName=\"Colormap\",p.functionArguments={},p.functionArguments.Colormap=m,p.variableName=\"Raster\",r.convertToRFT?new n({rasterFunctionDefinition:h(p)}):p}function F(e,t){const r=e.extractColormap();if(!r||0===r.length)return;const{pixelType:o}=t,a=o?S(r,o):r,i=new n;return i.functionName=\"Colormap\",i.functionArguments={},i.functionArguments.Colormap=a,t.convertToRFT?new n({rasterFunctionDefinition:h(i)}):i}function N(e){const t=[];return e.forEach((e=>{const n=e;if(Array.isArray(n))t.push(n);else{if(null==n.min||null==n.max)return;const e=[n.min,n.max,n.avg||0,n.stddev||0];t.push(e)}})),t}function D(e){const t=[],n=[];return e.forEach((e=>{t.push(e[0]),n.push(s([...e.slice(1),255]))})),{type:\"RasterColormap\",values:t,colors:n}}export{g as combineRenderingRules,y as convertRendererToRenderingRule,h as convertRenderingRuleToRFT,f as isSupportedRendererType,c as pixelTypeRanges};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}