{"ast":null,"code":"import commonMixin from '../base/mixins/common.js';\nimport Heatmap from 'bmaplib.heatmap';\nexport default {\n  name: 'bml-heatmap',\n\n  render() {},\n\n  mixins: [commonMixin('overlay')],\n  props: {\n    data: {\n      type: Array,\n      default: Array\n    },\n    max: {\n      type: Number\n    },\n    radius: {\n      type: Number\n    },\n    gradient: {\n      type: Object\n    },\n    opacity: {\n      type: Number\n    }\n  },\n  watch: {\n    data: {\n      handler() {\n        this.reload();\n      },\n\n      deep: true\n    },\n\n    max() {\n      this.reload();\n    },\n\n    radius(val) {\n      const {\n        originInstance,\n        opacity,\n        gradient\n      } = this;\n      originInstance.setOptions({\n        radius: val,\n        opacity,\n        gradient\n      });\n    },\n\n    gradient: {\n      handler(val) {\n        const {\n          originInstance,\n          radius,\n          opacity\n        } = this;\n        originInstance.setOptions({\n          radius,\n          opacity,\n          gradient: val\n        });\n      },\n\n      deep: true\n    },\n\n    opacity(val) {\n      const {\n        originInstance,\n        radius,\n        gradient\n      } = this;\n      originInstance.setOptions({\n        radius,\n        opacity: val,\n        gradient\n      });\n    }\n\n  },\n  methods: {\n    load() {\n      const {\n        map,\n        data,\n        max,\n        radius,\n        opacity,\n        gradient\n      } = this;\n      const overlay = this.originInstance = new Heatmap({\n        radius,\n        opacity,\n        gradient\n      });\n      map.addOverlay(overlay);\n      overlay.setDataSet({\n        data,\n        max\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AACA;AACA;AAEA;EACAA,mBADA;;EAEAC,WAFA;;EAGAC,gCAHA;EAIAC;IACAC;MACAC,WADA;MAEAC;IAFA,CADA;IAKAC;MACAF;IADA,CALA;IAQAG;MACAH;IADA,CARA;IAWAI;MACAJ;IADA,CAXA;IAcAK;MACAL;IADA;EAdA,CAJA;EAsBAM;IACAP;MACAQ;QACA;MACA,CAHA;;MAIAC;IAJA,CADA;;IAOAN;MACA;IACA,CATA;;IAUAC;MACA;QAAAM;QAAAJ;QAAAD;MAAA;MACAK;QACAN,WADA;QAEAE,OAFA;QAGAD;MAHA;IAKA,CAjBA;;IAkBAA;MACAG;QACA;UAAAE;UAAAN;UAAAE;QAAA;QACAI;UACAN,MADA;UAEAE,OAFA;UAGAD;QAHA;MAKA,CARA;;MASAI;IATA,CAlBA;;IA6BAH;MACA;QAAAI;QAAAN;QAAAC;MAAA;MACAK;QACAN,MADA;QAEAE,YAFA;QAGAD;MAHA;IAKA;;EApCA,CAtBA;EA4DAM;IACAC;MACA;QAAAC;QAAAb;QAAAG;QAAAC;QAAAE;QAAAD;MAAA;MACA;QACAD,MADA;QAEAE,OAFA;QAGAD;MAHA;MAKAQ;MACAC;QAAAd;QAAAG;MAAA;IACA;;EAVA;AA5DA","names":["name","render","mixins","props","data","type","default","max","radius","gradient","opacity","watch","handler","deep","originInstance","methods","load","map","overlay"],"sourceRoot":"node_modules/vue-baidu-map/components/extra","sources":["Heatmap.vue"],"sourcesContent":["<script>\nimport commonMixin from '../base/mixins/common.js'\nimport Heatmap from 'bmaplib.heatmap'\n\nexport default {\n  name: 'bml-heatmap',\n  render () {},\n  mixins: [commonMixin('overlay')],\n  props: {\n    data: {\n      type: Array,\n      default: Array\n    },\n    max: {\n      type: Number\n    },\n    radius: {\n      type: Number\n    },\n    gradient: {\n      type: Object\n    },\n    opacity: {\n      type: Number\n    }\n  },\n  watch: {\n    data: {\n      handler () {\n        this.reload()\n      },\n      deep: true\n    },\n    max () {\n      this.reload()\n    },\n    radius (val) {\n      const {originInstance, opacity, gradient} = this\n      originInstance.setOptions({\n        radius: val,\n        opacity,\n        gradient\n      })\n    },\n    gradient: {\n      handler (val) {\n        const {originInstance, radius, opacity} = this\n        originInstance.setOptions({\n          radius,\n          opacity,\n          gradient: val\n        })\n      },\n      deep: true\n    },\n    opacity (val) {\n      const {originInstance, radius, gradient} = this\n      originInstance.setOptions({\n        radius,\n        opacity: val,\n        gradient\n      })\n    }\n  },\n  methods: {\n    load () {\n      const {map, data, max, radius, opacity, gradient} = this\n      const overlay = this.originInstance = new Heatmap({\n        radius,\n        opacity,\n        gradient\n      })\n      map.addOverlay(overlay)\n      overlay.setDataSet({data, max})\n    }\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}