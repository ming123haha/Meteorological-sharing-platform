{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { s as t, a as n, g as e, j as o } from \"../../../../chunks/vec3.js\";\nimport { c as r } from \"../../../../chunks/vec3f64.js\";\nimport { areaPoints3d as s } from \"../../../../geometry/support/triangle.js\";\n\nfunction c(o, r, c) {\n  if (!o || !r) return !1;\n  const {\n    size: a,\n    data: f\n  } = o;\n  t(c, 0, 0, 0), t(g, 0, 0, 0);\n  let m = 0,\n      h = 0;\n\n  for (let p = 0; p < r.length - 2; p += 3) {\n    const o = r[p + 0] * a,\n          j = r[p + 1] * a,\n          d = r[p + 2] * a;\n    t(i, f[o + 0], f[o + 1], f[o + 2]), t(u, f[j + 0], f[j + 1], f[j + 2]), t(l, f[d + 0], f[d + 1], f[d + 2]);\n    const z = s(i, u, l);\n    z ? (n(i, i, u), n(i, i, l), e(i, i, 1 / 3 * z), n(c, c, i), m += z) : (n(g, g, i), n(g, g, u), n(g, g, l), h += 3);\n  }\n\n  return (0 !== h || 0 !== m) && (0 !== m ? (e(c, c, 1 / m), !0) : 0 !== h && (e(c, g, 1 / h), !0));\n}\n\nfunction a(n, o, r) {\n  if (!n || !o) return !1;\n  const {\n    size: s,\n    data: c\n  } = n;\n  t(r, 0, 0, 0);\n  let a = -1,\n      f = 0;\n\n  for (let t = 0; t < o.length; t++) {\n    const n = o[t] * s;\n    a !== n && (r[0] += c[n + 0], r[1] += c[n + 1], r[2] += c[n + 2], f++), a = n;\n  }\n\n  return f > 1 && e(r, r, 1 / f), f > 0;\n}\n\nfunction f(r, s, c, a) {\n  if (!r) return !1;\n  const {\n    size: f,\n    data: l\n  } = r;\n  t(a, 0, 0, 0), t(g, 0, 0, 0);\n  let m = 0,\n      h = 0;\n  const p = s ? s.length - 1 : l.length / f - 1,\n        j = p + (c ? 2 : 0);\n\n  for (let t = 0; t < j; t += 2) {\n    const r = t < p ? t : p,\n          c = t < p ? t + 1 : 0,\n          j = (s ? s[r] : r) * f,\n          d = (s ? s[c] : c) * f;\n    i[0] = l[j + 0], i[1] = l[j + 1], i[2] = l[j + 2], u[0] = l[d + 0], u[1] = l[d + 1], u[2] = l[d + 2], e(i, n(i, i, u), .5);\n    const z = o(i, u);\n    z > 0 ? (n(a, a, e(i, i, z)), m += z) : (n(g, g, i), h++);\n  }\n\n  return 0 !== m ? (e(a, a, 1 / m), !0) : 0 !== h && (e(a, g, 1 / h), !0);\n}\n\nconst i = r(),\n      u = r(),\n      l = r(),\n      g = r();\nexport { f as computeAttachmentOriginLines, a as computeAttachmentOriginPoints, c as computeAttachmentOriginTriangles };","map":{"version":3,"names":["s","t","a","n","g","e","j","o","c","r","areaPoints3d","size","data","f","m","h","p","length","d","i","u","l","z","computeAttachmentOriginLines","computeAttachmentOriginPoints","computeAttachmentOriginTriangles"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{s as t,a as n,g as e,j as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{areaPoints3d as s}from\"../../../../geometry/support/triangle.js\";function c(o,r,c){if(!o||!r)return!1;const{size:a,data:f}=o;t(c,0,0,0),t(g,0,0,0);let m=0,h=0;for(let p=0;p<r.length-2;p+=3){const o=r[p+0]*a,j=r[p+1]*a,d=r[p+2]*a;t(i,f[o+0],f[o+1],f[o+2]),t(u,f[j+0],f[j+1],f[j+2]),t(l,f[d+0],f[d+1],f[d+2]);const z=s(i,u,l);z?(n(i,i,u),n(i,i,l),e(i,i,1/3*z),n(c,c,i),m+=z):(n(g,g,i),n(g,g,u),n(g,g,l),h+=3)}return(0!==h||0!==m)&&(0!==m?(e(c,c,1/m),!0):0!==h&&(e(c,g,1/h),!0))}function a(n,o,r){if(!n||!o)return!1;const{size:s,data:c}=n;t(r,0,0,0);let a=-1,f=0;for(let t=0;t<o.length;t++){const n=o[t]*s;a!==n&&(r[0]+=c[n+0],r[1]+=c[n+1],r[2]+=c[n+2],f++),a=n}return f>1&&e(r,r,1/f),f>0}function f(r,s,c,a){if(!r)return!1;const{size:f,data:l}=r;t(a,0,0,0),t(g,0,0,0);let m=0,h=0;const p=s?s.length-1:l.length/f-1,j=p+(c?2:0);for(let t=0;t<j;t+=2){const r=t<p?t:p,c=t<p?t+1:0,j=(s?s[r]:r)*f,d=(s?s[c]:c)*f;i[0]=l[j+0],i[1]=l[j+1],i[2]=l[j+2],u[0]=l[d+0],u[1]=l[d+1],u[2]=l[d+2],e(i,n(i,i,u),.5);const z=o(i,u);z>0?(n(a,a,e(i,i,z)),m+=z):(n(g,g,i),h++)}return 0!==m?(e(a,a,1/m),!0):0!==h&&(e(a,g,1/h),!0)}const i=r(),u=r(),l=r(),g=r();export{f as computeAttachmentOriginLines,a as computeAttachmentOriginPoints,c as computeAttachmentOriginTriangles};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}