{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { Edge as t } from \"../EditGeometry.js\";\n\nclass r {\n  constructor(e, t, r = 0) {\n    this.editGeometry = e, this.vertices = t, this.minNumberOfVertices = r, this.removedVertices = null;\n  }\n\n  apply() {\n    let t = \"redo\";\n    null == this.removedVertices ? (this.removedVertices = [], this.vertices.forEach(t => {\n      const r = this._removeVertex(t);\n\n      e(r) && this.removedVertices.push(r);\n    }), t = \"apply\") : this.removedVertices.forEach(e => {\n      this._removeVertex(e.removedVertex);\n    }), this.editGeometry.notifyChanges({\n      operation: t,\n      removedVertices: this.vertices\n    });\n  }\n\n  undo() {\n    this.removedVertices.forEach(e => {\n      this._undoRemoveVertex(e);\n    }), this.editGeometry.notifyChanges({\n      operation: \"undo\",\n      addedVertices: this.vertices\n    });\n  }\n\n  accumulate() {\n    return !1;\n  }\n\n  _removeVertex(e) {\n    const r = e.component;\n    if (r.vertices.length <= this.minNumberOfVertices) return null;\n    const i = {\n      removedVertex: e,\n      createdEdge: null\n    },\n          s = e.leftEdge,\n          d = e.rightEdge;\n    return r.vertices.splice(r.vertices.indexOf(e), 1), s && (r.edges.splice(r.edges.indexOf(s), 1), s.leftVertex.rightEdge = null), d && (r.edges.splice(r.edges.indexOf(d), 1), d.rightVertex.leftEdge = null), 0 === e.index && d && this.vertices.length > 0 && r.swapVertices(r.vertices.indexOf(d.rightVertex), 0), s && d && (i.createdEdge = new t(r, s.leftVertex, d.rightVertex), r.edges.push(i.createdEdge)), d && r.updateVertexIndex(d.rightVertex, d.rightVertex.index - 1), i;\n  }\n\n  _undoRemoveVertex(e) {\n    const t = e.removedVertex,\n          r = e.removedVertex.component,\n          i = t.leftEdge,\n          s = t.rightEdge;\n    e.createdEdge && r.edges.splice(r.edges.indexOf(e.createdEdge), 1), r.vertices.push(t), i && (r.edges.push(i), i.leftVertex.rightEdge = i), s && (r.edges.push(s), s.rightVertex.leftEdge = s), r.updateVertexIndex(t, t.index);\n  }\n\n}\n\nexport { r as RemoveVertices };","map":{"version":3,"names":["isSome","e","Edge","t","r","constructor","editGeometry","vertices","minNumberOfVertices","removedVertices","apply","forEach","_removeVertex","push","removedVertex","notifyChanges","operation","undo","_undoRemoveVertex","addedVertices","accumulate","component","length","i","createdEdge","s","leftEdge","d","rightEdge","splice","indexOf","edges","leftVertex","rightVertex","index","swapVertices","updateVertexIndex","RemoveVertices"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this.editGeometry=e,this.vertices=t,this.minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const r=this._removeVertex(t);e(r)&&this.removedVertices.push(r)})),t=\"apply\"):this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)})),this.editGeometry.notifyChanges({operation:t,removedVertices:this.vertices})}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)})),this.editGeometry.notifyChanges({operation:\"undo\",addedVertices:this.vertices})}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.leftEdge,d=e.rightEdge;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===e.index&&d&&this.vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new t(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,IAAI,IAAIC,CAAf,QAAqB,oBAArB;;AAA0C,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACJ,CAAD,EAAGE,CAAH,EAAKC,CAAC,GAAC,CAAP,EAAS;IAAC,KAAKE,YAAL,GAAkBL,CAAlB,EAAoB,KAAKM,QAAL,GAAcJ,CAAlC,EAAoC,KAAKK,mBAAL,GAAyBJ,CAA7D,EAA+D,KAAKK,eAAL,GAAqB,IAApF;EAAyF;;EAAAC,KAAK,GAAE;IAAC,IAAIP,CAAC,GAAC,MAAN;IAAa,QAAM,KAAKM,eAAX,IAA4B,KAAKA,eAAL,GAAqB,EAArB,EAAwB,KAAKF,QAAL,CAAcI,OAAd,CAAuBR,CAAC,IAAE;MAAC,MAAMC,CAAC,GAAC,KAAKQ,aAAL,CAAmBT,CAAnB,CAAR;;MAA8BF,CAAC,CAACG,CAAD,CAAD,IAAM,KAAKK,eAAL,CAAqBI,IAArB,CAA0BT,CAA1B,CAAN;IAAmC,CAA5F,CAAxB,EAAuHD,CAAC,GAAC,OAArJ,IAA8J,KAAKM,eAAL,CAAqBE,OAArB,CAA8BV,CAAC,IAAE;MAAC,KAAKW,aAAL,CAAmBX,CAAC,CAACa,aAArB;IAAoC,CAAtE,CAA9J,EAAuO,KAAKR,YAAL,CAAkBS,aAAlB,CAAgC;MAACC,SAAS,EAACb,CAAX;MAAaM,eAAe,EAAC,KAAKF;IAAlC,CAAhC,CAAvO;EAAoT;;EAAAU,IAAI,GAAE;IAAC,KAAKR,eAAL,CAAqBE,OAArB,CAA8BV,CAAC,IAAE;MAAC,KAAKiB,iBAAL,CAAuBjB,CAAvB;IAA0B,CAA5D,GAA+D,KAAKK,YAAL,CAAkBS,aAAlB,CAAgC;MAACC,SAAS,EAAC,MAAX;MAAkBG,aAAa,EAAC,KAAKZ;IAArC,CAAhC,CAA/D;EAA+I;;EAAAa,UAAU,GAAE;IAAC,OAAM,CAAC,CAAP;EAAS;;EAAAR,aAAa,CAACX,CAAD,EAAG;IAAC,MAAMG,CAAC,GAACH,CAAC,CAACoB,SAAV;IAAoB,IAAGjB,CAAC,CAACG,QAAF,CAAWe,MAAX,IAAmB,KAAKd,mBAA3B,EAA+C,OAAO,IAAP;IAAY,MAAMe,CAAC,GAAC;MAACT,aAAa,EAACb,CAAf;MAAiBuB,WAAW,EAAC;IAA7B,CAAR;IAAA,MAA2CC,CAAC,GAACxB,CAAC,CAACyB,QAA/C;IAAA,MAAwDC,CAAC,GAAC1B,CAAC,CAAC2B,SAA5D;IAAsE,OAAOxB,CAAC,CAACG,QAAF,CAAWsB,MAAX,CAAkBzB,CAAC,CAACG,QAAF,CAAWuB,OAAX,CAAmB7B,CAAnB,CAAlB,EAAwC,CAAxC,GAA2CwB,CAAC,KAAGrB,CAAC,CAAC2B,KAAF,CAAQF,MAAR,CAAezB,CAAC,CAAC2B,KAAF,CAAQD,OAAR,CAAgBL,CAAhB,CAAf,EAAkC,CAAlC,GAAqCA,CAAC,CAACO,UAAF,CAAaJ,SAAb,GAAuB,IAA/D,CAA5C,EAAiHD,CAAC,KAAGvB,CAAC,CAAC2B,KAAF,CAAQF,MAAR,CAAezB,CAAC,CAAC2B,KAAF,CAAQD,OAAR,CAAgBH,CAAhB,CAAf,EAAkC,CAAlC,GAAqCA,CAAC,CAACM,WAAF,CAAcP,QAAd,GAAuB,IAA/D,CAAlH,EAAuL,MAAIzB,CAAC,CAACiC,KAAN,IAAaP,CAAb,IAAgB,KAAKpB,QAAL,CAAce,MAAd,GAAqB,CAArC,IAAwClB,CAAC,CAAC+B,YAAF,CAAe/B,CAAC,CAACG,QAAF,CAAWuB,OAAX,CAAmBH,CAAC,CAACM,WAArB,CAAf,EAAiD,CAAjD,CAA/N,EAAmRR,CAAC,IAAEE,CAAH,KAAOJ,CAAC,CAACC,WAAF,GAAc,IAAIrB,CAAJ,CAAMC,CAAN,EAAQqB,CAAC,CAACO,UAAV,EAAqBL,CAAC,CAACM,WAAvB,CAAd,EAAkD7B,CAAC,CAAC2B,KAAF,CAAQlB,IAAR,CAAaU,CAAC,CAACC,WAAf,CAAzD,CAAnR,EAAyWG,CAAC,IAAEvB,CAAC,CAACgC,iBAAF,CAAoBT,CAAC,CAACM,WAAtB,EAAkCN,CAAC,CAACM,WAAF,CAAcC,KAAd,GAAoB,CAAtD,CAA5W,EAAqaX,CAA5a;EAA8a;;EAAAL,iBAAiB,CAACjB,CAAD,EAAG;IAAC,MAAME,CAAC,GAACF,CAAC,CAACa,aAAV;IAAA,MAAwBV,CAAC,GAACH,CAAC,CAACa,aAAF,CAAgBO,SAA1C;IAAA,MAAoDE,CAAC,GAACpB,CAAC,CAACuB,QAAxD;IAAA,MAAiED,CAAC,GAACtB,CAAC,CAACyB,SAArE;IAA+E3B,CAAC,CAACuB,WAAF,IAAepB,CAAC,CAAC2B,KAAF,CAAQF,MAAR,CAAezB,CAAC,CAAC2B,KAAF,CAAQD,OAAR,CAAgB7B,CAAC,CAACuB,WAAlB,CAAf,EAA8C,CAA9C,CAAf,EAAgEpB,CAAC,CAACG,QAAF,CAAWM,IAAX,CAAgBV,CAAhB,CAAhE,EAAmFoB,CAAC,KAAGnB,CAAC,CAAC2B,KAAF,CAAQlB,IAAR,CAAaU,CAAb,GAAgBA,CAAC,CAACS,UAAF,CAAaJ,SAAb,GAAuBL,CAA1C,CAApF,EAAiIE,CAAC,KAAGrB,CAAC,CAAC2B,KAAF,CAAQlB,IAAR,CAAaY,CAAb,GAAgBA,CAAC,CAACQ,WAAF,CAAcP,QAAd,GAAuBD,CAA1C,CAAlI,EAA+KrB,CAAC,CAACgC,iBAAF,CAAoBjC,CAApB,EAAsBA,CAAC,CAAC+B,KAAxB,CAA/K;EAA8M;;AAA1+C;;AAA2+C,SAAO9B,CAAC,IAAIiC,cAAZ"},"metadata":{},"sourceType":"module"}