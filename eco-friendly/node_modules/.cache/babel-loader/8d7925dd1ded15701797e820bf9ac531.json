{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { c as t } from \"../../../chunks/vec4f64.js\";\nimport { empty as e } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { BufferPool as s } from \"../../../geometry/support/buffer/BufferPool.js\";\nimport { newLayout as i } from \"../support/buffer/InterleavedLayout.js\";\nimport { GEOMETRY_VERTEX_STRIDE as r } from \"./TerrainConst.js\";\nimport { internalAssert as f } from \"./terrainUtils.js\";\nimport { VertexAttribute as u } from \"../webgl-engine/lib/VertexAttribute.js\";\n\nclass h {\n  constructor() {\n    this.indices = null, this.vertexAttributes = null, this.boundingBox = e(), this.indexCount = 0, this.numVerticesPerSide = 0, this.uvOffsetAndScale = t(), this.outerEdges = [null, null, null, null], this.innerEdges = [null, null, null, null];\n  }\n\n}\n\nclass n {\n  constructor(t, e, s, i, r) {\n    this._buf = t, this._localOrigin = e, this.offset0 = s, this.stride = i, this.count = r;\n  }\n\n  getVertexOffset(t) {\n    return f(0 <= t && t < this.count), this.offset0 + this.stride * t;\n  }\n\n  getVertex(t, e) {\n    const s = this.getVertexOffset(e) * r;\n    t[0] = this._buf[s + 0] + this._localOrigin[0], t[1] = this._buf[s + 1] + this._localOrigin[1], t[2] = this._buf[s + 2] + this._localOrigin[2];\n  }\n\n  getVertexZ(t) {\n    const e = this.getVertexOffset(t) * r;\n    return this._buf[e + 2] + this._localOrigin[2];\n  }\n\n  setVertex(t, e, s, i) {\n    const f = this.getVertexOffset(t) * r;\n    this._buf[f + 0] = e[0] - this._localOrigin[0], this._buf[f + 1] = e[1] - this._localOrigin[1], this._buf[f + 2] = e[2] - this._localOrigin[2], this._buf[f + 3] = s, this._buf[f + 4] = i;\n  }\n\n  getNormal(t, e) {\n    const s = this.getVertexOffset(e) * r;\n    t[0] = this._buf[s + 5], t[1] = this._buf[s + 6], t[2] = this._buf[s + 7];\n  }\n\n  setVertexRawXYZUV(t, e, s, i, f, u) {\n    const h = this.getVertexOffset(t) * r;\n    this._buf[h + 0] = e, this._buf[h + 1] = s, this._buf[h + 2] = i, this._buf[h + 3] = f, this._buf[h + 4] = u;\n  }\n\n  setVertexRawXYZUVN(t, e, s, i, f, u, h, n, o) {\n    const l = this.getVertexOffset(t) * r;\n    this._buf[l + 0] = e, this._buf[l + 1] = s, this._buf[l + 2] = i, this._buf[l + 3] = f, this._buf[l + 4] = u, this._buf[l + 5] = h, this._buf[l + 6] = n, this._buf[l + 7] = o;\n  }\n\n  setVertexRawNormal(t, e, s, i) {\n    const f = this.getVertexOffset(t) * r;\n    this._buf[f + 5] = e, this._buf[f + 6] = s, this._buf[f + 7] = i;\n  }\n\n  getVertexRawNormal(t, e) {\n    const s = this.getVertexOffset(e) * r;\n    t[0] = this._buf[s + 5], t[1] = this._buf[s + 6], t[2] = this._buf[s + 7];\n  }\n\n}\n\nconst o = i().vec3f(u.POSITION).vec2f(u.UV0).vec3f(u.NORMAL),\n      l = new s(t => o.createBuffer(t), t => t.count);\n\nfunction c() {\n  l.clear();\n}\n\nfunction b(t) {\n  return l.acquire(t);\n}\n\nfunction _(t) {\n  l.release(t.vertexAttributes), t.vertexAttributes = null, t.indices = null;\n}\n\nexport { n as EdgeDescriptor, h as PatchGeometry, b as acquireTerrainAttributes, c as clearCaches, _ as releaseGeometry };","map":{"version":3,"names":["c","t","empty","e","BufferPool","s","newLayout","i","GEOMETRY_VERTEX_STRIDE","r","internalAssert","f","VertexAttribute","u","h","constructor","indices","vertexAttributes","boundingBox","indexCount","numVerticesPerSide","uvOffsetAndScale","outerEdges","innerEdges","n","_buf","_localOrigin","offset0","stride","count","getVertexOffset","getVertex","getVertexZ","setVertex","getNormal","setVertexRawXYZUV","setVertexRawXYZUVN","o","l","setVertexRawNormal","getVertexRawNormal","vec3f","POSITION","vec2f","UV0","NORMAL","createBuffer","clear","b","acquire","_","release","EdgeDescriptor","PatchGeometry","acquireTerrainAttributes","clearCaches","releaseGeometry"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/PatchGeometry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/vec4f64.js\";import{empty as e}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferPool as s}from\"../../../geometry/support/buffer/BufferPool.js\";import{newLayout as i}from\"../support/buffer/InterleavedLayout.js\";import{GEOMETRY_VERTEX_STRIDE as r}from\"./TerrainConst.js\";import{internalAssert as f}from\"./terrainUtils.js\";import{VertexAttribute as u}from\"../webgl-engine/lib/VertexAttribute.js\";class h{constructor(){this.indices=null,this.vertexAttributes=null,this.boundingBox=e(),this.indexCount=0,this.numVerticesPerSide=0,this.uvOffsetAndScale=t(),this.outerEdges=[null,null,null,null],this.innerEdges=[null,null,null,null]}}class n{constructor(t,e,s,i,r){this._buf=t,this._localOrigin=e,this.offset0=s,this.stride=i,this.count=r}getVertexOffset(t){return f(0<=t&&t<this.count),this.offset0+this.stride*t}getVertex(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+0]+this._localOrigin[0],t[1]=this._buf[s+1]+this._localOrigin[1],t[2]=this._buf[s+2]+this._localOrigin[2]}getVertexZ(t){const e=this.getVertexOffset(t)*r;return this._buf[e+2]+this._localOrigin[2]}setVertex(t,e,s,i){const f=this.getVertexOffset(t)*r;this._buf[f+0]=e[0]-this._localOrigin[0],this._buf[f+1]=e[1]-this._localOrigin[1],this._buf[f+2]=e[2]-this._localOrigin[2],this._buf[f+3]=s,this._buf[f+4]=i}getNormal(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+5],t[1]=this._buf[s+6],t[2]=this._buf[s+7]}setVertexRawXYZUV(t,e,s,i,f,u){const h=this.getVertexOffset(t)*r;this._buf[h+0]=e,this._buf[h+1]=s,this._buf[h+2]=i,this._buf[h+3]=f,this._buf[h+4]=u}setVertexRawXYZUVN(t,e,s,i,f,u,h,n,o){const l=this.getVertexOffset(t)*r;this._buf[l+0]=e,this._buf[l+1]=s,this._buf[l+2]=i,this._buf[l+3]=f,this._buf[l+4]=u,this._buf[l+5]=h,this._buf[l+6]=n,this._buf[l+7]=o}setVertexRawNormal(t,e,s,i){const f=this.getVertexOffset(t)*r;this._buf[f+5]=e,this._buf[f+6]=s,this._buf[f+7]=i}getVertexRawNormal(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+5],t[1]=this._buf[s+6],t[2]=this._buf[s+7]}}const o=i().vec3f(u.POSITION).vec2f(u.UV0).vec3f(u.NORMAL),l=new s((t=>o.createBuffer(t)),(t=>t.count));function c(){l.clear()}function b(t){return l.acquire(t)}function _(t){l.release(t.vertexAttributes),t.vertexAttributes=null,t.indices=null}export{n as EdgeDescriptor,h as PatchGeometry,b as acquireTerrainAttributes,c as clearCaches,_ as releaseGeometry};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,4BAAlB;AAA+C,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,4CAAtB;AAAmE,SAAOC,UAAU,IAAIC,CAArB,QAA2B,gDAA3B;AAA4E,SAAOC,SAAS,IAAIC,CAApB,QAA0B,wCAA1B;AAAmE,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,mBAAvC;AAA2D,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,mBAA/B;AAAmD,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,wCAAhC;;AAAyE,MAAMC,CAAN,CAAO;EAACC,WAAW,GAAE;IAAC,KAAKC,OAAL,GAAa,IAAb,EAAkB,KAAKC,gBAAL,GAAsB,IAAxC,EAA6C,KAAKC,WAAL,GAAiBf,CAAC,EAA/D,EAAkE,KAAKgB,UAAL,GAAgB,CAAlF,EAAoF,KAAKC,kBAAL,GAAwB,CAA5G,EAA8G,KAAKC,gBAAL,GAAsBpB,CAAC,EAArI,EAAwI,KAAKqB,UAAL,GAAgB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,CAAxJ,EAA8K,KAAKC,UAAL,GAAgB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,CAA9L;EAAoN;;AAAnO;;AAAoO,MAAMC,CAAN,CAAO;EAACT,WAAW,CAACd,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,EAAW;IAAC,KAAKgB,IAAL,GAAUxB,CAAV,EAAY,KAAKyB,YAAL,GAAkBvB,CAA9B,EAAgC,KAAKwB,OAAL,GAAatB,CAA7C,EAA+C,KAAKuB,MAAL,GAAYrB,CAA3D,EAA6D,KAAKsB,KAAL,GAAWpB,CAAxE;EAA0E;;EAAAqB,eAAe,CAAC7B,CAAD,EAAG;IAAC,OAAOU,CAAC,CAAC,KAAGV,CAAH,IAAMA,CAAC,GAAC,KAAK4B,KAAd,CAAD,EAAsB,KAAKF,OAAL,GAAa,KAAKC,MAAL,GAAY3B,CAAtD;EAAwD;;EAAA8B,SAAS,CAAC9B,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAKyB,eAAL,CAAqB3B,CAArB,IAAwBM,CAAhC;IAAkCR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,IAAe,KAAKqB,YAAL,CAAkB,CAAlB,CAApB,EAAyCzB,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,IAAe,KAAKqB,YAAL,CAAkB,CAAlB,CAA7D,EAAkFzB,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,IAAe,KAAKqB,YAAL,CAAkB,CAAlB,CAAtG;EAA2H;;EAAAM,UAAU,CAAC/B,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAK2B,eAAL,CAAqB7B,CAArB,IAAwBQ,CAAhC;IAAkC,OAAO,KAAKgB,IAAL,CAAUtB,CAAC,GAAC,CAAZ,IAAe,KAAKuB,YAAL,CAAkB,CAAlB,CAAtB;EAA2C;;EAAAO,SAAS,CAAChC,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAC,MAAMI,CAAC,GAAC,KAAKmB,eAAL,CAAqB7B,CAArB,IAAwBQ,CAAhC;IAAkC,KAAKgB,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKuB,YAAL,CAAkB,CAAlB,CAApB,EAAyC,KAAKD,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKuB,YAAL,CAAkB,CAAlB,CAA7D,EAAkF,KAAKD,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKuB,YAAL,CAAkB,CAAlB,CAAtG,EAA2H,KAAKD,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeN,CAA1I,EAA4I,KAAKoB,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeJ,CAA3J;EAA6J;;EAAA2B,SAAS,CAACjC,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAKyB,eAAL,CAAqB3B,CAArB,IAAwBM,CAAhC;IAAkCR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAAL,EAAoBJ,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAAzB,EAAwCJ,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAA7C;EAA4D;;EAAA8B,iBAAiB,CAAClC,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASI,CAAT,EAAWE,CAAX,EAAa;IAAC,MAAMC,CAAC,GAAC,KAAKgB,eAAL,CAAqB7B,CAArB,IAAwBQ,CAAhC;IAAkC,KAAKgB,IAAL,CAAUX,CAAC,GAAC,CAAZ,IAAeX,CAAf,EAAiB,KAAKsB,IAAL,CAAUX,CAAC,GAAC,CAAZ,IAAeT,CAAhC,EAAkC,KAAKoB,IAAL,CAAUX,CAAC,GAAC,CAAZ,IAAeP,CAAjD,EAAmD,KAAKkB,IAAL,CAAUX,CAAC,GAAC,CAAZ,IAAeH,CAAlE,EAAoE,KAAKc,IAAL,CAAUX,CAAC,GAAC,CAAZ,IAAeD,CAAnF;EAAqF;;EAAAuB,kBAAkB,CAACnC,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASI,CAAT,EAAWE,CAAX,EAAaC,CAAb,EAAeU,CAAf,EAAiBa,CAAjB,EAAmB;IAAC,MAAMC,CAAC,GAAC,KAAKR,eAAL,CAAqB7B,CAArB,IAAwBQ,CAAhC;IAAkC,KAAKgB,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAenC,CAAf,EAAiB,KAAKsB,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAejC,CAAhC,EAAkC,KAAKoB,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAe/B,CAAjD,EAAmD,KAAKkB,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAe3B,CAAlE,EAAoE,KAAKc,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAezB,CAAnF,EAAqF,KAAKY,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAexB,CAApG,EAAsG,KAAKW,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAed,CAArH,EAAuH,KAAKC,IAAL,CAAUa,CAAC,GAAC,CAAZ,IAAeD,CAAtI;EAAwI;;EAAAE,kBAAkB,CAACtC,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAC,MAAMI,CAAC,GAAC,KAAKmB,eAAL,CAAqB7B,CAArB,IAAwBQ,CAAhC;IAAkC,KAAKgB,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeR,CAAf,EAAiB,KAAKsB,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeN,CAAhC,EAAkC,KAAKoB,IAAL,CAAUd,CAAC,GAAC,CAAZ,IAAeJ,CAAjD;EAAmD;;EAAAiC,kBAAkB,CAACvC,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAME,CAAC,GAAC,KAAKyB,eAAL,CAAqB3B,CAArB,IAAwBM,CAAhC;IAAkCR,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAAL,EAAoBJ,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAAzB,EAAwCJ,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKwB,IAAL,CAAUpB,CAAC,GAAC,CAAZ,CAA7C;EAA4D;;AAAh0C;;AAAi0C,MAAMgC,CAAC,GAAC9B,CAAC,GAAGkC,KAAJ,CAAU5B,CAAC,CAAC6B,QAAZ,EAAsBC,KAAtB,CAA4B9B,CAAC,CAAC+B,GAA9B,EAAmCH,KAAnC,CAAyC5B,CAAC,CAACgC,MAA3C,CAAR;AAAA,MAA2DP,CAAC,GAAC,IAAIjC,CAAJ,CAAOJ,CAAC,IAAEoC,CAAC,CAACS,YAAF,CAAe7C,CAAf,CAAV,EAA8BA,CAAC,IAAEA,CAAC,CAAC4B,KAAnC,CAA7D;;AAAwG,SAAS7B,CAAT,GAAY;EAACsC,CAAC,CAACS,KAAF;AAAU;;AAAA,SAASC,CAAT,CAAW/C,CAAX,EAAa;EAAC,OAAOqC,CAAC,CAACW,OAAF,CAAUhD,CAAV,CAAP;AAAoB;;AAAA,SAASiD,CAAT,CAAWjD,CAAX,EAAa;EAACqC,CAAC,CAACa,OAAF,CAAUlD,CAAC,CAACgB,gBAAZ,GAA8BhB,CAAC,CAACgB,gBAAF,GAAmB,IAAjD,EAAsDhB,CAAC,CAACe,OAAF,GAAU,IAAhE;AAAqE;;AAAA,SAAOQ,CAAC,IAAI4B,cAAZ,EAA2BtC,CAAC,IAAIuC,aAAhC,EAA8CL,CAAC,IAAIM,wBAAnD,EAA4EtD,CAAC,IAAIuD,WAAjF,EAA6FL,CAAC,IAAIM,eAAlG"},"metadata":{},"sourceType":"module"}