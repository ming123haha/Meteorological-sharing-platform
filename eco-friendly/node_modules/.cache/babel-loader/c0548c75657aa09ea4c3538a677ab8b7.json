{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { s as e, n as t, b as r, f as s, i as o, m as i } from \"../../../../chunks/vec3.js\";\nimport { c as n } from \"../../../../chunks/vec3f64.js\";\nimport { newLayout as a } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as c } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { TransparencyPassType as u } from \"../lib/basicInterfaces.js\";\nimport f from \"../lib/GLMaterial.js\";\nimport { Material as l, MaterialParameters as p } from \"../lib/Material.js\";\nimport { RenderSlot as h } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as m } from \"../lib/VertexAttribute.js\";\nimport { MeasurementArrowTechniqueConfiguration as d, MeasurementArrowTechnique as O } from \"../shaders/MeasurementArrowTechnique.js\";\n\nclass g extends l {\n  constructor(e) {\n    super(e, new v()), this.techniqueConfig = new d();\n  }\n\n  getConfiguration(e, t) {\n    return this.techniqueConfig.polygonOffsetEnabled = this.parameters.polygonOffset, this.techniqueConfig.transparent = this.parameters.stripeEvenColor[3] < 1 || this.parameters.stripeOddColor[3] < 1 || this.parameters.outlineColor[3] < 1, this.techniqueConfig.transparencyPassType = t?.transparencyPassType ?? u.NONE, this.techniqueConfig;\n  }\n\n  dispose() {}\n\n  intersect() {}\n\n  requiresSlot(e) {\n    return e === h.OPAQUE_MATERIAL;\n  }\n\n  createGLMaterial(e) {\n    return e.output === c.Color ? new b(e) : null;\n  }\n\n  createBufferWriter() {\n    return new x();\n  }\n\n}\n\nclass b extends f {\n  beginSlot(e) {\n    return this.ensureTechnique(O, e);\n  }\n\n}\n\nclass v extends p {\n  constructor() {\n    super(...arguments), this.width = 32, this.outlineSize = .2, this.outlineColor = [1, .5, 0, 1], this.stripeLength = 1, this.stripeEvenColor = [1, 1, 1, 1], this.stripeOddColor = [1, .5, 0, 1], this.polygonOffset = !1;\n  }\n\n}\n\nconst C = a().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.AUXPOS1),\n      y = n(),\n      A = n(),\n      I = n(),\n      T = n(),\n      j = n();\n\nclass x {\n  constructor() {\n    this.vertexBufferLayout = C;\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    return 2 * (e.indices.get(m.POSITION).length / 2 + 1);\n  }\n\n  write(n, a, c, u) {\n    const f = a.vertexAttributes.get(m.POSITION).data,\n          l = a.vertexAttributes.get(m.NORMAL).data,\n          p = f.length / 3,\n          h = a && a.indices && a.indices.get(m.POSITION);\n    h && h.length !== 2 * (p - 1) && console.warn(\"MeasurementArrowMaterial does not support indices\");\n    const d = y,\n          O = A,\n          g = I,\n          b = T,\n          v = j,\n          C = n.transformation,\n          x = n.invTranspTransformation,\n          L = c.position,\n          S = c.normal,\n          w = c.uv0;\n    let M = 0;\n\n    for (let m = 0; m < p; ++m) {\n      const n = 3 * m;\n\n      if (e(d, f[n], f[n + 1], f[n + 2]), m < p - 1) {\n        const o = 3 * (m + 1);\n        e(O, f[o], f[o + 1], f[o + 2]), e(v, l[o], l[o + 1], l[o + 2]), t(v, v), r(g, O, d), t(g, g), s(b, v, g), t(b, b);\n      }\n\n      const a = o(d, O);\n      C && x && (i(d, d, C), i(O, O, C), i(b, b, x));\n      const c = u + 2 * m,\n            h = c + 1;\n      L.setVec(c, d), L.setVec(h, d), S.setVec(c, b), S.setVec(h, b), w.set(c, 0, M), w.set(c, 1, -1), w.set(h, 0, M), w.set(h, 1, 1), m < p - 1 && (M += a);\n    }\n\n    const q = c.auxpos1;\n\n    for (let e = 0; e < 2 * p; ++e) q.set(u + e, M);\n  }\n\n}\n\nexport { g as MeasurementArrowMaterial, v as Parameters };","map":{"version":3,"names":["s","e","n","t","b","r","f","i","o","m","c","newLayout","a","ShaderOutput","TransparencyPassType","u","Material","l","MaterialParameters","p","RenderSlot","h","VertexAttribute","MeasurementArrowTechniqueConfiguration","d","MeasurementArrowTechnique","O","g","constructor","v","techniqueConfig","getConfiguration","polygonOffsetEnabled","parameters","polygonOffset","transparent","stripeEvenColor","stripeOddColor","outlineColor","transparencyPassType","NONE","dispose","intersect","requiresSlot","OPAQUE_MATERIAL","createGLMaterial","output","Color","createBufferWriter","x","beginSlot","ensureTechnique","arguments","width","outlineSize","stripeLength","C","vec3f","POSITION","NORMAL","vec2f","UV0","f32","AUXPOS1","y","A","I","T","j","vertexBufferLayout","allocate","createBuffer","elementCount","indices","get","length","write","vertexAttributes","data","console","warn","transformation","invTranspTransformation","L","position","S","normal","w","uv0","M","setVec","set","q","auxpos1","MeasurementArrowMaterial","Parameters"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as e,n as t,b as r,f as s,i as o,m as i}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as c}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{TransparencyPassType as u}from\"../lib/basicInterfaces.js\";import f from\"../lib/GLMaterial.js\";import{Material as l,MaterialParameters as p}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{MeasurementArrowTechniqueConfiguration as d,MeasurementArrowTechnique as O}from\"../shaders/MeasurementArrowTechnique.js\";class g extends l{constructor(e){super(e,new v),this.techniqueConfig=new d}getConfiguration(e,t){return this.techniqueConfig.polygonOffsetEnabled=this.parameters.polygonOffset,this.techniqueConfig.transparent=this.parameters.stripeEvenColor[3]<1||this.parameters.stripeOddColor[3]<1||this.parameters.outlineColor[3]<1,this.techniqueConfig.transparencyPassType=t?.transparencyPassType??u.NONE,this.techniqueConfig}dispose(){}intersect(){}requiresSlot(e){return e===h.OPAQUE_MATERIAL}createGLMaterial(e){return e.output===c.Color?new b(e):null}createBufferWriter(){return new x}}class b extends f{beginSlot(e){return this.ensureTechnique(O,e)}}class v extends p{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=[1,.5,0,1],this.stripeLength=1,this.stripeEvenColor=[1,1,1,1],this.stripeOddColor=[1,.5,0,1],this.polygonOffset=!1}}const C=a().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.AUXPOS1),y=n(),A=n(),I=n(),T=n(),j=n();class x{constructor(){this.vertexBufferLayout=C}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices.get(m.POSITION).length/2+1)}write(n,a,c,u){const f=a.vertexAttributes.get(m.POSITION).data,l=a.vertexAttributes.get(m.NORMAL).data,p=f.length/3,h=a&&a.indices&&a.indices.get(m.POSITION);h&&h.length!==2*(p-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const d=y,O=A,g=I,b=T,v=j,C=n.transformation,x=n.invTranspTransformation,L=c.position,S=c.normal,w=c.uv0;let M=0;for(let m=0;m<p;++m){const n=3*m;if(e(d,f[n],f[n+1],f[n+2]),m<p-1){const o=3*(m+1);e(O,f[o],f[o+1],f[o+2]),e(v,l[o],l[o+1],l[o+2]),t(v,v),r(g,O,d),t(g,g),s(b,v,g),t(b,b)}const a=o(d,O);C&&x&&(i(d,d,C),i(O,O,C),i(b,b,x));const c=u+2*m,h=c+1;L.setVec(c,d),L.setVec(h,d),S.setVec(c,b),S.setVec(h,b),w.set(c,0,M),w.set(c,1,-1),w.set(h,0,M),w.set(h,1,1),m<p-1&&(M+=a)}const q=c.auxpos1;for(let e=0;e<2*p;++e)q.set(u+e,M)}}export{g as MeasurementArrowMaterial,v as Parameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}