{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from \"../request.js\";\nimport { normalizeCentralMeridian as e } from \"../geometry/support/normalizeUtils.js\";\nimport { parseUrl as t, encode as o, asValidOptions as s } from \"./utils.js\";\nimport { identifyToIdentifyRESTParameters as n } from \"./operations/identify.js\";\nimport u from \"./support/IdentifyParameters.js\";\nimport i from \"./support/IdentifyResult.js\";\n\nasync function f(u, i, f) {\n  const c = (i = a(i)).geometry ? [i.geometry] : [],\n        l = t(u);\n  return l.path += \"/identify\", e(c).then(e => {\n    const t = n(i, {\n      geometry: e && e[0]\n    }),\n          u = o({ ...l.query,\n      f: \"json\",\n      ...t\n    }),\n          a = s(u, f);\n    return r(l.path, a).then(m).then(r => p(r, i.sublayers));\n  });\n}\n\nfunction m(r) {\n  const e = r.data;\n  return e.results = e.results || [], e.exceededTransferLimit = Boolean(e.exceededTransferLimit), e.results = e.results.map(r => i.fromJSON(r)), e;\n}\n\nfunction a(r) {\n  return r = u.from(r);\n}\n\nfunction p(r, e) {\n  if (!e?.length) return r;\n  const t = new Map();\n\n  function o(r) {\n    t.set(r.id, r), r.sublayers && r.sublayers.forEach(o);\n  }\n\n  e.forEach(o);\n\n  for (const s of r.results) s.feature.sourceLayer = t.get(s.layerId);\n\n  return r;\n}\n\nexport { f as identify };","map":{"version":3,"names":["r","normalizeCentralMeridian","e","parseUrl","t","encode","o","asValidOptions","s","identifyToIdentifyRESTParameters","n","u","i","f","c","a","geometry","l","path","then","query","m","p","sublayers","data","results","exceededTransferLimit","Boolean","map","fromJSON","from","length","Map","set","id","forEach","feature","sourceLayer","get","layerId","identify"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/rest/identify.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e&&e[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}