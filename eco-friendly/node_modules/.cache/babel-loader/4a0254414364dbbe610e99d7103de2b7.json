{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../core/maybe.js\";\nimport { O as r } from \"./vec2f64.js\";\nimport { ShaderOutput as o } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";\nimport { SliceDraw as i } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as a } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { multipassTerrainTest as t } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";\nimport { defaultMaskAlphaCutoff as s } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { ColorConversion as d } from \"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";\nimport { addProjViewLocalOrigin as l } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float2PassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";\nimport { FloatPassUniform as g } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as c } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as p } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as u } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { TransparencyPassType as m } from \"../views/3d/webgl-engine/lib/basicInterfaces.js\";\nimport { VertexAttribute as v } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction f(f) {\n  const w = new p();\n  l(w, f), w.include(a), w.attributes.add(v.POSITION, \"vec3\"), w.attributes.add(v.UV0, \"vec2\"), w.varyings.add(\"vpos\", \"vec3\"), f.hasMultipassTerrain && w.varyings.add(\"depth\", \"float\");\n  const {\n    vertex: h,\n    fragment: b\n  } = w;\n  return h.uniforms.add(new n(\"textureCoordinateScaleFactor\", o => e(o.texture) && e(o.texture.descriptor.textureCoordinateScaleFactor) ? o.texture.descriptor.textureCoordinateScaleFactor : r)), h.code.add(c`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain ? \"depth = (view * vec4(vpos, 1.0)).z;\" : \"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `), w.include(i, f), w.include(t, f), b.uniforms.add([new u(\"tex\", e => e.texture), new g(\"opacity\", e => e.opacity)]), w.varyings.add(\"vTexCoord\", \"vec2\"), f.output === o.Alpha ? b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `) : (b.include(d), b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain ? \"terrainDepthTest(gl_FragCoord, depth);\" : \"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType === m.Color ? \"gl_FragColor = premultiplyAlpha(gl_FragColor);\" : \"\"}\n    }\n    `)), w;\n}\n\nconst w = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: f\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { w as I, f as b };","map":{"version":3,"names":["isSome","e","O","r","ShaderOutput","o","SliceDraw","i","Transform","a","multipassTerrainTest","t","defaultMaskAlphaCutoff","s","ColorConversion","d","addProjViewLocalOrigin","l","Float2PassUniform","n","FloatPassUniform","g","glsl","c","ShaderBuilder","p","Texture2DPassUniform","u","TransparencyPassType","m","VertexAttribute","v","f","w","include","attributes","add","POSITION","UV0","varyings","hasMultipassTerrain","vertex","h","fragment","b","uniforms","texture","descriptor","textureCoordinateScaleFactor","code","opacity","output","Alpha","float","transparencyPassType","Color","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","I"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as p}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new p;l(w,f),w.include(a),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\");const{vertex:h,fragment:b}=w;return h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(c`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}