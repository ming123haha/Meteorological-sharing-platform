{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { bidiText as t } from \"../../core/BidiText.js\";\nimport e from \"../../core/Logger.js\";\nimport { isNone as s, isSome as i } from \"../../core/maybe.js\";\nimport r from \"../../core/ObjectPool.js\";\nimport { pt2px as n } from \"../../core/screenUtils.js\";\nimport { create as o, fromValues as a } from \"../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as h } from \"../../geometry/support/boundsUtils.js\";\nimport { polygonCentroid as l } from \"../../geometry/support/centroid.js\";\nimport { isPoint as c, isPolygon as m, isPolyline as f, isExtent as u, isMultipoint as _ } from \"../../geometry/support/jsonUtils.js\";\nimport { SimpleGeometryCursor as d } from \"./CIMEffects.js\";\nimport { getEffectOperator as p, getPlacementOperator as y } from \"./CIMOperators.js\";\nimport { Placement as g } from \"./CIMPlacements.js\";\nimport P from \"./CIMResourceManager.js\";\nimport { LineCapStyle as x, LineJoinStyle as w } from \"./enums.js\";\nimport M from \"./Rect.js\";\nimport b from \"./TextRasterizer.js\";\nimport { HAlign as S, VAlign as k } from \"../../views/2d/engine/webgl/alignmentUtils.js\";\nimport { GLYPH_SIZE as C, MAGIC_LABEL_LINE_HEIGHT as R } from \"../../views/2d/engine/webgl/definitions.js\";\nimport { shapeGlyphs as T } from \"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";\nconst I = Math.PI / 180,\n      v = 10,\n      L = e.getLogger(\"esri.symbols.cim.CIMSymbolDrawHelper\");\n\nclass z {\n  constructor(t) {\n    this._t = t;\n  }\n\n  static createIdentity() {\n    return new z([1, 0, 0, 0, 1, 0]);\n  }\n\n  clone() {\n    const t = this._t;\n    return new z(t.slice());\n  }\n\n  transform(t) {\n    const e = this._t;\n    return [e[0] * t[0] + e[1] * t[1] + e[2], e[3] * t[0] + e[4] * t[1] + e[5]];\n  }\n\n  static createScale(t, e) {\n    return new z([t, 0, 0, 0, e, 0]);\n  }\n\n  scale(t, e) {\n    const s = this._t;\n    return s[0] *= t, s[1] *= t, s[2] *= t, s[3] *= e, s[4] *= e, s[5] *= e, this;\n  }\n\n  scaleRatio() {\n    return Math.sqrt(this._t[0] * this._t[0] + this._t[1] * this._t[1]);\n  }\n\n  static createTranslate(t, e) {\n    return new z([0, 0, t, 0, 0, e]);\n  }\n\n  translate(t, e) {\n    const s = this._t;\n    return s[2] += t, s[5] += e, this;\n  }\n\n  static createRotate(t) {\n    const e = Math.cos(t),\n          s = Math.sin(t);\n    return new z([e, -s, 0, s, e, 0]);\n  }\n\n  rotate(t) {\n    return z.multiply(this, z.createRotate(t), this);\n  }\n\n  static multiply(t, e, s) {\n    const i = t._t,\n          r = e._t,\n          n = i[0] * r[0] + i[3] * r[1],\n          o = i[1] * r[0] + i[4] * r[1],\n          a = i[2] * r[0] + i[5] * r[1] + r[2],\n          h = i[0] * r[3] + i[3] * r[4],\n          l = i[1] * r[3] + i[4] * r[4],\n          c = i[2] * r[3] + i[5] * r[4] + r[5],\n          m = s._t;\n    return m[0] = n, m[1] = o, m[2] = a, m[3] = h, m[4] = l, m[5] = c, s;\n  }\n\n  invert() {\n    const t = this._t;\n    let e = t[0] * t[4] - t[1] * t[3];\n    if (0 === e) return new z([0, 0, 0, 0, 0, 0]);\n    e = 1 / e;\n    const s = (t[1] * t[5] - t[2] * t[4]) * e,\n          i = (t[2] * t[3] - t[0] * t[5]) * e,\n          r = t[4] * e,\n          n = -t[1] * e,\n          o = -t[3] * e,\n          a = t[0] * e;\n    return new z([r, n, s, o, a, i]);\n  }\n\n}\n\nclass F {\n  constructor(t, e) {\n    this._transfos = [], this._sizeTransfos = [], this._geomUnitsPerPoint = 1, this._placementPool = new r(g, null, null, 100), this._earlyReturn = !1, this._mapRotation = 0, this._resourceManager = t || new P(), this._transfos.push(e || z.createIdentity()), this._sizeTransfos.push(e ? e.scaleRatio() : 1);\n  }\n\n  setTransform(t, e) {\n    this._transfos = [t || z.createIdentity()], this._sizeTransfos = [e || (t ? t.scaleRatio() : 1)];\n  }\n\n  setGeomUnitsPerPoint(t) {\n    this._geomUnitsPerPoint = t;\n  }\n\n  transformPt(t) {\n    return this._transfos[this._transfos.length - 1].transform(t);\n  }\n\n  transformSize(t) {\n    return t * this._sizeTransfos[this._sizeTransfos.length - 1];\n  }\n\n  reverseTransformPt(t) {\n    return this._transfos[this._transfos.length - 1].invert().transform(t);\n  }\n\n  reverseTransformSize(t) {\n    return t / this._sizeTransfos[this._sizeTransfos.length - 1];\n  }\n\n  geomUnitsPerPoint() {\n    return this.isEmbedded() ? 1 : this._geomUnitsPerPoint;\n  }\n\n  isEmbedded() {\n    return this._transfos.length > 1;\n  }\n\n  back() {\n    return this._transfos[this._transfos.length - 1];\n  }\n\n  push(t, e) {\n    const s = e ? t.scaleRatio() : 1;\n    z.multiply(t, this.back(), t), this._transfos.push(t), this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length - 1] * s);\n  }\n\n  pop() {\n    this._transfos.splice(-1, 1), this._sizeTransfos.splice(-1, 1);\n  }\n\n  drawSymbol(t, e) {\n    if (t) switch (t.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        this.drawMultiLayerSymbol(t, e);\n        break;\n\n      case \"CIMTextSymbol\":\n        this.drawTextSymbol(t, e);\n    }\n  }\n\n  drawMultiLayerSymbol(t, e) {\n    if (!t) return;\n    const s = t.symbolLayers;\n    if (!s) return;\n    const i = t.effects;\n\n    if (i && i.length > 0) {\n      const t = this.executeEffects(i, e);\n\n      if (t) {\n        let e = t.next();\n\n        for (; e;) this.drawSymbolLayers(s, e), e = t.next();\n      }\n    } else this.drawSymbolLayers(s, e);\n  }\n\n  executeEffects(t, e) {\n    const s = this._resourceManager.geometryEngine;\n    let i = new d(e);\n\n    for (const r of t) {\n      const t = p(r);\n      t && (i = t.execute(i, r, this.geomUnitsPerPoint(), s));\n    }\n\n    return i;\n  }\n\n  drawSymbolLayers(t, e) {\n    let s = t.length;\n\n    for (; s--;) {\n      const i = t[s];\n      if (!i || !1 === i.enable) continue;\n      const r = i.effects;\n\n      if (r && r.length > 0) {\n        const t = this.executeEffects(r, e);\n\n        if (t) {\n          let e = null;\n\n          for (; (e = t.next()) && (this.drawSymbolLayer(i, e), !this._earlyReturn););\n        }\n      } else this.drawSymbolLayer(i, e);\n\n      if (this._earlyReturn) return;\n    }\n  }\n\n  drawSymbolLayer(t, e) {\n    switch (t.type) {\n      case \"CIMSolidFill\":\n        this.drawSolidFill(e, t.color);\n        break;\n\n      case \"CIMHatchFill\":\n        this.drawHatchFill(e, t);\n        break;\n\n      case \"CIMPictureFill\":\n        this.drawPictureFill(e, t);\n        break;\n\n      case \"CIMGradientFill\":\n        this.drawGradientFill(e, t);\n        break;\n\n      case \"CIMSolidStroke\":\n        this.drawSolidStroke(e, t.color, t.width, t.capStyle, t.joinStyle, t.miterLimit);\n        break;\n\n      case \"CIMPictureStroke\":\n        this.drawPictureStroke(e, t);\n        break;\n\n      case \"CIMGradientStroke\":\n        this.drawGradientStroke(e, t);\n        break;\n\n      case \"CIMCharacterMarker\":\n      case \"CIMPictureMarker\":\n      case \"CIMVectorMarker\":\n        this.drawMarkerLayer(t, e);\n    }\n  }\n\n  drawHatchFill(t, e) {\n    const s = this._buildHatchPolyline(e, t, this.geomUnitsPerPoint());\n\n    s && (this.pushClipPath(t), this.drawMultiLayerSymbol(e.lineSymbol, s), this.popClipPath());\n  }\n\n  drawPictureFill(t, e) {}\n\n  drawGradientFill(t, e) {}\n\n  drawPictureStroke(t, e) {}\n\n  drawGradientStroke(t, e) {}\n\n  drawMarkerLayer(t, e) {\n    const s = t.markerPlacement;\n\n    if (s) {\n      const i = y(s);\n\n      if (i) {\n        const r = \"CIMMarkerPlacementInsidePolygon\" === s.type;\n        r && this.pushClipPath(e);\n        const n = i.execute(e, s, this.geomUnitsPerPoint(), this._resourceManager.geometryEngine);\n\n        if (n) {\n          let e = null;\n\n          for (; (e = n.next()) && (this.drawMarker(t, e), !this._earlyReturn););\n        }\n\n        r && this.popClipPath();\n      }\n    } else {\n      const s = this._placementPool.acquire();\n\n      if (c(e)) s.tx = e.x, s.ty = e.y, this.drawMarker(t, s);else if (m(e)) [s.tx, s.ty] = l(e), this.drawMarker(t, s);else for (const i of e.points) if (s.tx = i[0], s.ty = i[1], this.drawMarker(t, s), this._earlyReturn) break;\n\n      this._placementPool.release(s);\n    }\n  }\n\n  drawMarker(t, e) {\n    switch (t.type) {\n      case \"CIMCharacterMarker\":\n      case \"CIMPictureMarker\":\n        this.drawPictureMarker(t, e);\n        break;\n\n      case \"CIMVectorMarker\":\n        this.drawVectorMarker(t, e);\n    }\n  }\n\n  drawPictureMarker(t, e) {\n    if (!t) return;\n\n    const i = this._resourceManager.getResource(t.url),\n          r = t.size ?? 10;\n\n    if (s(i) || r <= 0) return;\n    const n = i.width,\n          o = i.height;\n    if (!n || !o) return;\n    const a = n / o,\n          h = t.scaleX ?? 1,\n          l = z.createIdentity(),\n          c = t.anchorPoint;\n\n    if (c) {\n      let e = c.x,\n          s = c.y;\n      \"Absolute\" !== t.anchorPointUnits && (e *= r * a * h, s *= r), l.translate(-e, -s);\n    }\n\n    let m = t.rotation ?? 0;\n    t.rotateClockwise && (m = -m), this._mapRotation && (m += this._mapRotation), m && l.rotate(m * I);\n    let f = t.offsetX ?? 0,\n        u = t.offsetY ?? 0;\n\n    if (f || u) {\n      if (this._mapRotation) {\n        const t = I * this._mapRotation,\n              e = Math.cos(t),\n              s = Math.sin(t),\n              i = f * s + u * e;\n        f = f * e - u * s, u = i;\n      }\n\n      l.translate(f, u);\n    }\n\n    const _ = this.geomUnitsPerPoint();\n\n    1 !== _ && l.scale(_, _);\n    const d = e.getAngle();\n    d && l.rotate(d), l.translate(e.tx, e.ty), this.push(l, !1), this.drawImage(t.url, r, t.scaleX), this.pop();\n  }\n\n  drawVectorMarker(t, e) {\n    if (!t) return;\n    const s = t.markerGraphics;\n    if (!s) return;\n    const i = t.size ?? 10,\n          r = t.frame,\n          n = r ? r.ymax - r.ymin : 0,\n          o = i && n ? i / n : 1,\n          a = z.createIdentity();\n    r && a.translate(.5 * -(r.xmax + r.xmin), .5 * -(r.ymax + r.ymin));\n    const h = t.anchorPoint;\n\n    if (h) {\n      let e = h.x,\n          s = h.y;\n      \"Absolute\" !== t.anchorPointUnits ? r && (e *= r.xmax - r.xmin, s *= r.ymax - r.ymin) : (e /= o, s /= o), a.translate(-e, -s);\n    }\n\n    1 !== o && a.scale(o, o);\n    let l = t.rotation ?? 0;\n    t.rotateClockwise && (l = -l), this._mapRotation && (l += this._mapRotation), l && a.rotate(l * I);\n    let c = t.offsetX ?? 0,\n        m = t.offsetY ?? 0;\n\n    if (c || m) {\n      if (this._mapRotation) {\n        const t = I * this._mapRotation,\n              e = Math.cos(t),\n              s = Math.sin(t),\n              i = c * s + m * e;\n        c = c * e - m * s, m = i;\n      }\n\n      a.translate(c, m);\n    }\n\n    const f = this.geomUnitsPerPoint();\n    1 !== f && a.scale(f, f);\n    const u = e.getAngle();\n    u && a.rotate(u), a.translate(e.tx, e.ty), this.push(a, t.scaleSymbolsProportionally);\n\n    for (const _ of s) if (_ && _.symbol && _.geometry || L.error(\"Invalid marker graphic\", _), this.drawSymbol(_.symbol, _.geometry), this._earlyReturn) break;\n\n    this.pop();\n  }\n\n  drawTextSymbol(t, e) {\n    if (!t) return;\n    if (!c(e)) return;\n    if ((t.height ?? 10) <= 0) return;\n    const s = z.createIdentity();\n    let i = t.angle ?? 0;\n    i = -i, i && s.rotate(i * I);\n    const r = t.offsetX ?? 0,\n          n = t.offsetY ?? 0;\n    (r || n) && s.translate(r, n);\n    const o = this.geomUnitsPerPoint();\n    1 !== o && s.scale(o, o), s.translate(e.x, e.y), this.push(s, !1), this.drawText(t), this.pop();\n  }\n\n  _buildHatchPolyline(t, e, s) {\n    let i = (void 0 !== t.separation ? t.separation : 4) * s,\n        r = void 0 !== t.rotation ? t.rotation : 0;\n    if (0 === i) return null;\n    i < 0 && (i = -i);\n    let n = 0;\n    const a = .5 * i;\n\n    for (; n > a;) n -= i;\n\n    for (; n < -a;) n += i;\n\n    const l = o();\n    h(l, e), l[0] -= a, l[1] -= a, l[2] += a, l[3] += a;\n    const c = [[l[0], l[1]], [l[0], l[3]], [l[2], l[3]], [l[2], l[1]]];\n\n    for (; r > 180;) r -= 180;\n\n    for (; r < 0;) r += 180;\n\n    const m = Math.cos(r * I),\n          f = Math.sin(r * I),\n          u = -i * f,\n          _ = i * m;\n\n    let d, p, y, g;\n    n = (void 0 !== t.offsetX ? t.offsetX * s : 0) * f - (void 0 !== t.offsetY ? t.offsetY * s : 0) * m, d = y = Number.MAX_VALUE, p = g = -Number.MAX_VALUE;\n\n    for (const o of c) {\n      const t = o[0],\n            e = o[1],\n            s = m * t + f * e,\n            i = -f * t + m * e;\n      d = Math.min(d, s), y = Math.min(y, i), p = Math.max(p, s), g = Math.max(g, i);\n    }\n\n    y = Math.floor(y / i) * i;\n    let P = m * d - f * y - u * n / i,\n        x = f * d + m * y - _ * n / i,\n        w = m * p - f * y - u * n / i,\n        M = f * p + m * y - _ * n / i;\n    const b = 1 + Math.round((g - y) / i),\n          S = [];\n\n    for (let o = 0; o < b; o++) P += u, x += _, w += u, M += _, S.push([[P, x], [w, M]]);\n\n    return {\n      paths: S\n    };\n  }\n\n}\n\nclass U extends F {\n  constructor(t, e) {\n    super(t, e), this.reset();\n  }\n\n  reset() {\n    this._xmin = this._ymin = 1 / 0, this._xmax = this._ymax = -1 / 0, this._clipCount = 0;\n  }\n\n  envelope() {\n    return new M(this._xmin, this._ymin, this._xmax - this._xmin, this._ymax - this._ymin);\n  }\n\n  bounds() {\n    return a(this._xmin, this._ymin, this._xmax, this._ymax);\n  }\n\n  drawSolidFill(t) {\n    if (t && !(this._clipCount > 0)) if (m(t)) this._processPath(t.rings, 0);else if (f(t)) this._processPath(t.paths, 0);else if (u(t)) {\n      const e = G(t);\n      e && this._processPath(e.rings, 0);\n    } else console.error(\"drawSolidFill Unexpected geometry type!\");\n  }\n\n  drawSolidStroke(t, e, s) {\n    if (!t || this._clipCount > 0) return;\n    const i = .5 * this.transformSize(s);\n    if (m(t)) this._processPath(t.rings, i);else if (f(t)) this._processPath(t.paths, i);else if (u(t)) {\n      const e = G(t);\n      e && this._processPath(e.rings, i);\n    } else console.error(\"drawSolidStroke unexpected geometry type!\");\n  }\n\n  pushClipPath(t) {\n    this.drawSolidFill(t), ++this._clipCount;\n  }\n\n  popClipPath() {\n    --this._clipCount;\n  }\n\n  drawImage(t, e, s) {\n    let r = s * e,\n        n = e;\n\n    const o = this._resourceManager.getResource(t);\n\n    !e && i(o) && (r = s * o.width, n = o.height), this._merge(this.transformPt([-r / 2, -n / 2]), 0), this._merge(this.transformPt([-r / 2, n / 2]), 0), this._merge(this.transformPt([r / 2, -n / 2]), 0), this._merge(this.transformPt([r / 2, n / 2]), 0);\n  }\n\n  drawText(t) {\n    this._textRasterizer || (this._textRasterizer = new b());\n  }\n\n  _processPath(t, e) {\n    if (t) for (const s of t) {\n      const t = s ? s.length : 0;\n\n      if (t > 1) {\n        this._merge(this.transformPt(s[0]), e);\n\n        for (let i = 1; i < t; ++i) this._merge(this.transformPt(s[i]), e);\n      }\n    }\n  }\n\n  _merge(t, e) {\n    t[0] - e < this._xmin && (this._xmin = t[0] - e), t[0] + e > this._xmax && (this._xmax = t[0] + e), t[1] - e < this._ymin && (this._ymin = t[1] - e), t[1] + e > this._ymax && (this._ymax = t[1] + e);\n  }\n\n}\n\nclass j extends F {\n  constructor() {\n    super(...arguments), this._searchPoint = [0, 0], this._searchDistPoint = 0;\n  }\n\n  hitTest(t, e, s, i, r, o) {\n    const a = o * n(1);\n    this.setTransform(), this.setGeomUnitsPerPoint(a), this._searchPoint = [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2], this._searchDistPoint = (t[2] - t[0]) / 2 / a, this._textInfo = i;\n    const h = e && (\"CIMPointSymbol\" === e.type && \"Map\" !== e.angleAlignment || \"CIMTextSymbol\" === e.type);\n    return this._mapRotation = h ? r : 0, this._earlyReturn = !1, this.drawSymbol(e, s), this._earlyReturn;\n  }\n\n  drawSolidFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawHatchFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawPictureFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawGradientFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawSolidStroke(t, e, s, i, r, n) {\n    this._hitTestStroke(t, s);\n  }\n\n  drawPictureStroke(t, e) {\n    this._hitTestStroke(t, e.width);\n  }\n\n  drawGradientStroke(t, e) {\n    this._hitTestStroke(t, e.width);\n  }\n\n  drawMarkerLayer(t, e) {\n    t.markerPlacement && \"CIMMarkerPlacementInsidePolygon\" === t.markerPlacement.type ? this._hitTestFill(e) : super.drawMarkerLayer(t, e);\n  }\n\n  pushClipPath(t) {}\n\n  popClipPath() {}\n\n  drawImage(t, e, i) {\n    const r = this._resourceManager.getResource(t);\n\n    if (s(r) || 0 === r.height || 0 === e) return;\n    const n = e * this.geomUnitsPerPoint(),\n          o = n * i * (r.width / r.height),\n          a = this.reverseTransformPt(this._searchPoint),\n          h = this._searchDistPoint;\n    Math.abs(a[0]) < o / 2 + h && Math.abs(a[1]) < n / 2 + h && (this._earlyReturn = !0);\n  }\n\n  drawText(e) {\n    const s = this._textInfo;\n    if (!s) return;\n    const i = s.get(e);\n    if (!i) return;\n    const {\n      text: r,\n      mosaicItem: n\n    } = i;\n    if (!n || 0 === n.glyphMosaicItems.length) return;\n    const o = e.height ?? v,\n          a = B(e.lineGapType, e.lineGap ?? 0, o),\n          h = t(r)[1],\n          l = n.glyphMosaicItems,\n          c = T(l, h, {\n      scale: o / C,\n      angle: 0,\n      xOffset: 0,\n      yOffset: 0,\n      hAlign: E(e.horizontalAlignment),\n      vAlign: H(e.verticalAlignment),\n      maxLineWidth: 512,\n      lineHeight: R * Math.max(.25, Math.min(a || 1, 4)),\n      decoration: e.font.decoration || \"none\",\n      isCIM: !0\n    }),\n          m = this.reverseTransformPt(this._searchPoint),\n          f = m[0],\n          u = m[1];\n\n    for (const t of c.glyphs) if (f > t.xTopLeft && f < t.xBottomRight && u > -t.yBottomRight && u < -t.yTopLeft) {\n      this._earlyReturn = !0;\n      break;\n    }\n  }\n\n  _hitTestFill(t) {\n    let e = null;\n\n    if (u(t)) {\n      const s = t;\n      e = [[[s.xmin, s.ymin], [s.xmin, s.ymax], [s.xmax, s.ymax], [s.xmax, s.ymin], [s.xmin, s.ymin]]];\n    } else if (m(t)) e = t.rings;else {\n      if (!f(t)) return;\n      e = t.paths;\n    }\n\n    const s = this.reverseTransformPt(this._searchPoint);\n\n    if (this._pointInPolygon(s, e) && (this._earlyReturn = !0), !this._earlyReturn) {\n      const t = this.reverseTransformSize(this._searchDistPoint) * this.geomUnitsPerPoint();\n      this._nearLine(s, e, t) && (this._earlyReturn = !0);\n    }\n  }\n\n  _hitTestStroke(t, e) {\n    let s = null;\n\n    if (u(t)) {\n      const e = t;\n      s = [[[e.xmin, e.ymin], [e.xmin, e.ymax], [e.xmax, e.ymax], [e.xmax, e.ymin], [e.xmin, e.ymin]]];\n    } else if (m(t)) s = t.rings;else {\n      if (!f(t)) return;\n      s = t.paths;\n    }\n\n    const i = this.reverseTransformPt(this._searchPoint),\n          r = e * this.geomUnitsPerPoint(),\n          n = this.reverseTransformSize(this._searchDistPoint) * this.geomUnitsPerPoint();\n    this._nearLine(i, s, r / 2 + n) && (this._earlyReturn = !0);\n  }\n\n  _pointInPolygon(t, e) {\n    let s = 0;\n\n    for (const i of e) {\n      const e = i.length;\n\n      for (let r = 1; r < e; ++r) {\n        const e = i[r - 1],\n              n = i[r];\n        if (e[1] > t[1] == n[1] > t[1]) continue;\n        (n[0] - e[0]) * (t[1] - e[1]) - (n[1] - e[1]) * (t[0] - e[0]) > 0 ? s++ : s--;\n      }\n    }\n\n    return 0 !== s;\n  }\n\n  _nearLine(t, e, s) {\n    for (const i of e) {\n      const e = i.length;\n\n      for (let r = 1; r < e; ++r) {\n        const e = i[r - 1],\n              n = i[r];\n        let o = (n[0] - e[0]) * (n[0] - e[0]) + (n[1] - e[1]) * (n[1] - e[1]);\n        if (0 === o) continue;\n        o = Math.sqrt(o);\n        const a = ((n[0] - e[0]) * (t[1] - e[1]) - (n[1] - e[1]) * (t[0] - e[0])) / o;\n\n        if (Math.abs(a) < s) {\n          const i = ((n[0] - e[0]) * (t[0] - e[0]) + (n[1] - e[1]) * (t[1] - e[1])) / o;\n          if (i > -s && i < o + s) return !0;\n        }\n      }\n    }\n\n    return !1;\n  }\n\n}\n\nclass A extends F {\n  constructor(t, e, s) {\n    super(e, s), this._ctx = t;\n  }\n\n  drawSolidFill(t, e) {\n    if (!t) return;\n    if (m(t)) this._buildPath(t.rings, !0);else if (f(t)) this._buildPath(t.paths, !0);else if (u(t)) this._buildPath(G(t).rings, !0);else {\n      if (!_(t)) return;\n      console.log(\"CanvasDrawHelper.drawSolidFill - No implementation!\");\n    }\n    const s = this._ctx;\n    s.fillStyle = \"string\" == typeof e ? e : \"rgba(\" + Math.round(e[0]) + \",\" + Math.round(e[1]) + \",\" + Math.round(e[2]) + \",\" + e[3] / 255 + \")\", s.fill(\"evenodd\");\n  }\n\n  drawSolidStroke(t, e, s, i, r, n) {\n    if (!t || !e || 0 === s) return;\n    if (m(t)) this._buildPath(t.rings, !0);else if (f(t)) this._buildPath(t.paths, !1);else {\n      if (!u(t)) return void console.log(\"CanvasDrawHelper.drawSolidStroke isn't implemented!\");\n\n      this._buildPath(G(t).rings, !0);\n    }\n    const o = this._ctx;\n    o.strokeStyle = \"string\" == typeof e ? e : \"rgba(\" + Math.round(e[0]) + \",\" + Math.round(e[1]) + \",\" + Math.round(e[2]) + \",\" + e[3] / 255 + \")\", o.lineWidth = this.transformSize(s) + .5, this._setCapStyle(i), this._setJoinStyle(r), o.miterLimit = n, o.stroke();\n  }\n\n  pushClipPath(t) {\n    if (this._ctx.save(), m(t)) this._buildPath(t.rings, !0);else if (f(t)) this._buildPath(t.paths, !0);else {\n      if (!u(t)) return;\n\n      this._buildPath(G(t).rings, !0);\n    }\n\n    this._ctx.clip(\"evenodd\");\n  }\n\n  popClipPath() {\n    this._ctx.restore();\n  }\n\n  drawImage(t, e, i) {\n    const r = this._resourceManager.getResource(t);\n\n    if (s(r)) return;\n    const n = this._ctx,\n          o = n.canvas.width,\n          a = n.canvas.height;\n    let h = e * i * (r.width / r.height),\n        l = i * e;\n    e || (h = i * r.width, l = i * r.height);\n    const c = this.transformPt([0, 0]),\n          m = this.transformSize(h),\n          f = this.transformSize(l);\n\n    this._ctx.drawImage(r, 0, 0, r.width, r.height, c[0] - m / 2, c[1] - f / 2, Math.min(m, o), Math.min(f, a));\n  }\n\n  drawText(t) {\n    this._textRasterizer || (this._textRasterizer = new b());\n  }\n\n  _buildPath(t, e) {\n    const s = this._ctx;\n    if (s.beginPath(), t) for (const i of t) {\n      const t = i ? i.length : 0;\n\n      if (t > 1) {\n        let r = this.transformPt(i[0]);\n        s.moveTo(r[0], r[1]);\n\n        for (let e = 1; e < t; ++e) r = this.transformPt(i[e]), s.lineTo(r[0], r[1]);\n\n        e && s.closePath();\n      }\n    }\n  }\n\n  _setCapStyle(t) {\n    switch (t) {\n      case x.Butt:\n        this._ctx.lineCap = \"butt\";\n        break;\n\n      case x.Round:\n        this._ctx.lineCap = \"round\";\n        break;\n\n      case x.Square:\n        this._ctx.lineCap = \"square\";\n    }\n  }\n\n  _setJoinStyle(t) {\n    switch (t) {\n      case w.Bevel:\n        this._ctx.lineJoin = \"bevel\";\n        break;\n\n      case w.Round:\n        this._ctx.lineJoin = \"round\";\n        break;\n\n      case w.Miter:\n        this._ctx.lineJoin = \"miter\";\n    }\n  }\n\n}\n\nconst G = t => t ? {\n  spatialReference: t.spatialReference,\n  rings: [[[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]]]\n} : null,\n      E = t => {\n  switch (t) {\n    case \"Left\":\n      return S.Left;\n\n    case \"Right\":\n      return S.Right;\n\n    case \"Center\":\n      return S.Center;\n\n    case \"Justify\":\n      return L.warnOnce(\"Horizontal alignment 'justify' is not implemented. Falling back to 'center'.\"), S.Center;\n  }\n},\n      H = t => {\n  switch (t) {\n    case \"Top\":\n      return k.Top;\n\n    case \"Center\":\n      return k.Center;\n\n    case \"Bottom\":\n      return k.Bottom;\n\n    case \"Baseline\":\n      return k.Baseline;\n  }\n},\n      B = (t, e, s) => {\n  switch (t) {\n    case \"ExtraLeading\":\n      return 1 + e / s;\n\n    case \"Multiple\":\n      return e;\n\n    case \"Exact\":\n      return e / s;\n  }\n};\n\nexport { F as CIMSymbolDrawHelper, I as C_DEG_TO_RAD, A as CanvasDrawHelper, U as EnvDrawHelper, j as HittestDrawHelper, z as Transformation, E as horizontalAlignment2HAlign, B as lineGapType2LineHeight, H as verticalAlignment2VAlign };","map":{"version":3,"names":["bidiText","t","e","isNone","s","isSome","i","r","pt2px","n","create","o","fromValues","a","getBoundsXY","h","polygonCentroid","l","isPoint","c","isPolygon","m","isPolyline","f","isExtent","u","isMultipoint","_","SimpleGeometryCursor","d","getEffectOperator","p","getPlacementOperator","y","Placement","g","P","LineCapStyle","x","LineJoinStyle","w","M","b","HAlign","S","VAlign","k","GLYPH_SIZE","C","MAGIC_LABEL_LINE_HEIGHT","R","shapeGlyphs","T","I","Math","PI","v","L","getLogger","z","constructor","_t","createIdentity","clone","slice","transform","createScale","scale","scaleRatio","sqrt","createTranslate","translate","createRotate","cos","sin","rotate","multiply","invert","F","_transfos","_sizeTransfos","_geomUnitsPerPoint","_placementPool","_earlyReturn","_mapRotation","_resourceManager","push","setTransform","setGeomUnitsPerPoint","transformPt","length","transformSize","reverseTransformPt","reverseTransformSize","geomUnitsPerPoint","isEmbedded","back","pop","splice","drawSymbol","type","drawMultiLayerSymbol","drawTextSymbol","symbolLayers","effects","executeEffects","next","drawSymbolLayers","geometryEngine","execute","enable","drawSymbolLayer","drawSolidFill","color","drawHatchFill","drawPictureFill","drawGradientFill","drawSolidStroke","width","capStyle","joinStyle","miterLimit","drawPictureStroke","drawGradientStroke","drawMarkerLayer","_buildHatchPolyline","pushClipPath","lineSymbol","popClipPath","markerPlacement","drawMarker","acquire","tx","ty","points","release","drawPictureMarker","drawVectorMarker","getResource","url","size","height","scaleX","anchorPoint","anchorPointUnits","rotation","rotateClockwise","offsetX","offsetY","getAngle","drawImage","markerGraphics","frame","ymax","ymin","xmax","xmin","scaleSymbolsProportionally","symbol","geometry","error","angle","drawText","separation","Number","MAX_VALUE","min","max","floor","round","paths","U","reset","_xmin","_ymin","_xmax","_ymax","_clipCount","envelope","bounds","_processPath","rings","G","console","_merge","_textRasterizer","j","arguments","_searchPoint","_searchDistPoint","hitTest","_textInfo","angleAlignment","_hitTestFill","_hitTestStroke","abs","get","text","mosaicItem","glyphMosaicItems","B","lineGapType","lineGap","xOffset","yOffset","hAlign","E","horizontalAlignment","vAlign","H","verticalAlignment","maxLineWidth","lineHeight","decoration","font","isCIM","glyphs","xTopLeft","xBottomRight","yBottomRight","yTopLeft","_pointInPolygon","_nearLine","A","_ctx","_buildPath","log","fillStyle","fill","strokeStyle","lineWidth","_setCapStyle","_setJoinStyle","stroke","save","clip","restore","canvas","beginPath","moveTo","lineTo","closePath","Butt","lineCap","Round","Square","Bevel","lineJoin","Miter","spatialReference","Left","Right","Center","warnOnce","Top","Bottom","Baseline","CIMSymbolDrawHelper","C_DEG_TO_RAD","CanvasDrawHelper","EnvDrawHelper","HittestDrawHelper","Transformation","horizontalAlignment2HAlign","lineGapType2LineHeight","verticalAlignment2VAlign"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{bidiText as t}from\"../../core/BidiText.js\";import e from\"../../core/Logger.js\";import{isNone as s,isSome as i}from\"../../core/maybe.js\";import r from\"../../core/ObjectPool.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{create as o,fromValues as a}from\"../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as h}from\"../../geometry/support/boundsUtils.js\";import{polygonCentroid as l}from\"../../geometry/support/centroid.js\";import{isPoint as c,isPolygon as m,isPolyline as f,isExtent as u,isMultipoint as _}from\"../../geometry/support/jsonUtils.js\";import{SimpleGeometryCursor as d}from\"./CIMEffects.js\";import{getEffectOperator as p,getPlacementOperator as y}from\"./CIMOperators.js\";import{Placement as g}from\"./CIMPlacements.js\";import P from\"./CIMResourceManager.js\";import{LineCapStyle as x,LineJoinStyle as w}from\"./enums.js\";import M from\"./Rect.js\";import b from\"./TextRasterizer.js\";import{HAlign as S,VAlign as k}from\"../../views/2d/engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as C,MAGIC_LABEL_LINE_HEIGHT as R}from\"../../views/2d/engine/webgl/definitions.js\";import{shapeGlyphs as T}from\"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";const I=Math.PI/180,v=10,L=e.getLogger(\"esri.symbols.cim.CIMSymbolDrawHelper\");class z{constructor(t){this._t=t}static createIdentity(){return new z([1,0,0,0,1,0])}clone(){const t=this._t;return new z(t.slice())}transform(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}static createScale(t,e){return new z([t,0,0,0,e,0])}scale(t,e){const s=this._t;return s[0]*=t,s[1]*=t,s[2]*=t,s[3]*=e,s[4]*=e,s[5]*=e,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,e){return new z([0,0,t,0,0,e])}translate(t,e){const s=this._t;return s[2]+=t,s[5]+=e,this}static createRotate(t){const e=Math.cos(t),s=Math.sin(t);return new z([e,-s,0,s,e,0])}rotate(t){return z.multiply(this,z.createRotate(t),this)}static multiply(t,e,s){const i=t._t,r=e._t,n=i[0]*r[0]+i[3]*r[1],o=i[1]*r[0]+i[4]*r[1],a=i[2]*r[0]+i[5]*r[1]+r[2],h=i[0]*r[3]+i[3]*r[4],l=i[1]*r[3]+i[4]*r[4],c=i[2]*r[3]+i[5]*r[4]+r[5],m=s._t;return m[0]=n,m[1]=o,m[2]=a,m[3]=h,m[4]=l,m[5]=c,s}invert(){const t=this._t;let e=t[0]*t[4]-t[1]*t[3];if(0===e)return new z([0,0,0,0,0,0]);e=1/e;const s=(t[1]*t[5]-t[2]*t[4])*e,i=(t[2]*t[3]-t[0]*t[5])*e,r=t[4]*e,n=-t[1]*e,o=-t[3]*e,a=t[0]*e;return new z([r,n,s,o,a,i])}}class F{constructor(t,e){this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._placementPool=new r(g,null,null,100),this._earlyReturn=!1,this._mapRotation=0,this._resourceManager=t||new P,this._transfos.push(e||z.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}setTransform(t,e){this._transfos=[t||z.createIdentity()],this._sizeTransfos=[e||(t?t.scaleRatio():1)]}setGeomUnitsPerPoint(t){this._geomUnitsPerPoint=t}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(t){return this._transfos[this._transfos.length-1].invert().transform(t)}reverseTransformSize(t){return t/this._sizeTransfos[this._sizeTransfos.length-1]}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(t,e){const s=e?t.scaleRatio():1;z.multiply(t,this.back(),t),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*s)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,e){if(t)switch(t.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":this.drawMultiLayerSymbol(t,e);break;case\"CIMTextSymbol\":this.drawTextSymbol(t,e)}}drawMultiLayerSymbol(t,e){if(!t)return;const s=t.symbolLayers;if(!s)return;const i=t.effects;if(i&&i.length>0){const t=this.executeEffects(i,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(s,e),e=t.next()}}else this.drawSymbolLayers(s,e)}executeEffects(t,e){const s=this._resourceManager.geometryEngine;let i=new d(e);for(const r of t){const t=p(r);t&&(i=t.execute(i,r,this.geomUnitsPerPoint(),s))}return i}drawSymbolLayers(t,e){let s=t.length;for(;s--;){const i=t[s];if(!i||!1===i.enable)continue;const r=i.effects;if(r&&r.length>0){const t=this.executeEffects(r,e);if(t){let e=null;for(;(e=t.next())&&(this.drawSymbolLayer(i,e),!this._earlyReturn););}}else this.drawSymbolLayer(i,e);if(this._earlyReturn)return}}drawSymbolLayer(t,e){switch(t.type){case\"CIMSolidFill\":this.drawSolidFill(e,t.color);break;case\"CIMHatchFill\":this.drawHatchFill(e,t);break;case\"CIMPictureFill\":this.drawPictureFill(e,t);break;case\"CIMGradientFill\":this.drawGradientFill(e,t);break;case\"CIMSolidStroke\":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case\"CIMPictureStroke\":this.drawPictureStroke(e,t);break;case\"CIMGradientStroke\":this.drawGradientStroke(e,t);break;case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":this.drawMarkerLayer(t,e)}}drawHatchFill(t,e){const s=this._buildHatchPolyline(e,t,this.geomUnitsPerPoint());s&&(this.pushClipPath(t),this.drawMultiLayerSymbol(e.lineSymbol,s),this.popClipPath())}drawPictureFill(t,e){}drawGradientFill(t,e){}drawPictureStroke(t,e){}drawGradientStroke(t,e){}drawMarkerLayer(t,e){const s=t.markerPlacement;if(s){const i=y(s);if(i){const r=\"CIMMarkerPlacementInsidePolygon\"===s.type;r&&this.pushClipPath(e);const n=i.execute(e,s,this.geomUnitsPerPoint(),this._resourceManager.geometryEngine);if(n){let e=null;for(;(e=n.next())&&(this.drawMarker(t,e),!this._earlyReturn););}r&&this.popClipPath()}}else{const s=this._placementPool.acquire();if(c(e))s.tx=e.x,s.ty=e.y,this.drawMarker(t,s);else if(m(e))[s.tx,s.ty]=l(e),this.drawMarker(t,s);else for(const i of e.points)if(s.tx=i[0],s.ty=i[1],this.drawMarker(t,s),this._earlyReturn)break;this._placementPool.release(s)}}drawMarker(t,e){switch(t.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":this.drawPictureMarker(t,e);break;case\"CIMVectorMarker\":this.drawVectorMarker(t,e)}}drawPictureMarker(t,e){if(!t)return;const i=this._resourceManager.getResource(t.url),r=t.size??10;if(s(i)||r<=0)return;const n=i.width,o=i.height;if(!n||!o)return;const a=n/o,h=t.scaleX??1,l=z.createIdentity(),c=t.anchorPoint;if(c){let e=c.x,s=c.y;\"Absolute\"!==t.anchorPointUnits&&(e*=r*a*h,s*=r),l.translate(-e,-s)}let m=t.rotation??0;t.rotateClockwise&&(m=-m),this._mapRotation&&(m+=this._mapRotation),m&&l.rotate(m*I);let f=t.offsetX??0,u=t.offsetY??0;if(f||u){if(this._mapRotation){const t=I*this._mapRotation,e=Math.cos(t),s=Math.sin(t),i=f*s+u*e;f=f*e-u*s,u=i}l.translate(f,u)}const _=this.geomUnitsPerPoint();1!==_&&l.scale(_,_);const d=e.getAngle();d&&l.rotate(d),l.translate(e.tx,e.ty),this.push(l,!1),this.drawImage(t.url,r,t.scaleX),this.pop()}drawVectorMarker(t,e){if(!t)return;const s=t.markerGraphics;if(!s)return;const i=t.size??10,r=t.frame,n=r?r.ymax-r.ymin:0,o=i&&n?i/n:1,a=z.createIdentity();r&&a.translate(.5*-(r.xmax+r.xmin),.5*-(r.ymax+r.ymin));const h=t.anchorPoint;if(h){let e=h.x,s=h.y;\"Absolute\"!==t.anchorPointUnits?r&&(e*=r.xmax-r.xmin,s*=r.ymax-r.ymin):(e/=o,s/=o),a.translate(-e,-s)}1!==o&&a.scale(o,o);let l=t.rotation??0;t.rotateClockwise&&(l=-l),this._mapRotation&&(l+=this._mapRotation),l&&a.rotate(l*I);let c=t.offsetX??0,m=t.offsetY??0;if(c||m){if(this._mapRotation){const t=I*this._mapRotation,e=Math.cos(t),s=Math.sin(t),i=c*s+m*e;c=c*e-m*s,m=i}a.translate(c,m)}const f=this.geomUnitsPerPoint();1!==f&&a.scale(f,f);const u=e.getAngle();u&&a.rotate(u),a.translate(e.tx,e.ty),this.push(a,t.scaleSymbolsProportionally);for(const _ of s)if(_&&_.symbol&&_.geometry||L.error(\"Invalid marker graphic\",_),this.drawSymbol(_.symbol,_.geometry),this._earlyReturn)break;this.pop()}drawTextSymbol(t,e){if(!t)return;if(!c(e))return;if((t.height??10)<=0)return;const s=z.createIdentity();let i=t.angle??0;i=-i,i&&s.rotate(i*I);const r=t.offsetX??0,n=t.offsetY??0;(r||n)&&s.translate(r,n);const o=this.geomUnitsPerPoint();1!==o&&s.scale(o,o),s.translate(e.x,e.y),this.push(s,!1),this.drawText(t),this.pop()}_buildHatchPolyline(t,e,s){let i=(void 0!==t.separation?t.separation:4)*s,r=void 0!==t.rotation?t.rotation:0;if(0===i)return null;i<0&&(i=-i);let n=0;const a=.5*i;for(;n>a;)n-=i;for(;n<-a;)n+=i;const l=o();h(l,e),l[0]-=a,l[1]-=a,l[2]+=a,l[3]+=a;const c=[[l[0],l[1]],[l[0],l[3]],[l[2],l[3]],[l[2],l[1]]];for(;r>180;)r-=180;for(;r<0;)r+=180;const m=Math.cos(r*I),f=Math.sin(r*I),u=-i*f,_=i*m;let d,p,y,g;n=(void 0!==t.offsetX?t.offsetX*s:0)*f-(void 0!==t.offsetY?t.offsetY*s:0)*m,d=y=Number.MAX_VALUE,p=g=-Number.MAX_VALUE;for(const o of c){const t=o[0],e=o[1],s=m*t+f*e,i=-f*t+m*e;d=Math.min(d,s),y=Math.min(y,i),p=Math.max(p,s),g=Math.max(g,i)}y=Math.floor(y/i)*i;let P=m*d-f*y-u*n/i,x=f*d+m*y-_*n/i,w=m*p-f*y-u*n/i,M=f*p+m*y-_*n/i;const b=1+Math.round((g-y)/i),S=[];for(let o=0;o<b;o++)P+=u,x+=_,w+=u,M+=_,S.push([[P,x],[w,M]]);return{paths:S}}}class U extends F{constructor(t,e){super(t,e),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new M(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return a(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(t){if(t&&!(this._clipCount>0))if(m(t))this._processPath(t.rings,0);else if(f(t))this._processPath(t.paths,0);else if(u(t)){const e=G(t);e&&this._processPath(e.rings,0)}else console.error(\"drawSolidFill Unexpected geometry type!\")}drawSolidStroke(t,e,s){if(!t||this._clipCount>0)return;const i=.5*this.transformSize(s);if(m(t))this._processPath(t.rings,i);else if(f(t))this._processPath(t.paths,i);else if(u(t)){const e=G(t);e&&this._processPath(e.rings,i)}else console.error(\"drawSolidStroke unexpected geometry type!\")}pushClipPath(t){this.drawSolidFill(t),++this._clipCount}popClipPath(){--this._clipCount}drawImage(t,e,s){let r=s*e,n=e;const o=this._resourceManager.getResource(t);!e&&i(o)&&(r=s*o.width,n=o.height),this._merge(this.transformPt([-r/2,-n/2]),0),this._merge(this.transformPt([-r/2,n/2]),0),this._merge(this.transformPt([r/2,-n/2]),0),this._merge(this.transformPt([r/2,n/2]),0)}drawText(t){this._textRasterizer||(this._textRasterizer=new b)}_processPath(t,e){if(t)for(const s of t){const t=s?s.length:0;if(t>1){this._merge(this.transformPt(s[0]),e);for(let i=1;i<t;++i)this._merge(this.transformPt(s[i]),e)}}}_merge(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}class j extends F{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0}hitTest(t,e,s,i,r,o){const a=o*n(1);this.setTransform(),this.setGeomUnitsPerPoint(a),this._searchPoint=[(t[0]+t[2])/2,(t[1]+t[3])/2],this._searchDistPoint=(t[2]-t[0])/2/a,this._textInfo=i;const h=e&&(\"CIMPointSymbol\"===e.type&&\"Map\"!==e.angleAlignment||\"CIMTextSymbol\"===e.type);return this._mapRotation=h?r:0,this._earlyReturn=!1,this.drawSymbol(e,s),this._earlyReturn}drawSolidFill(t,e){this._hitTestFill(t)}drawHatchFill(t,e){this._hitTestFill(t)}drawPictureFill(t,e){this._hitTestFill(t)}drawGradientFill(t,e){this._hitTestFill(t)}drawSolidStroke(t,e,s,i,r,n){this._hitTestStroke(t,s)}drawPictureStroke(t,e){this._hitTestStroke(t,e.width)}drawGradientStroke(t,e){this._hitTestStroke(t,e.width)}drawMarkerLayer(t,e){t.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===t.markerPlacement.type?this._hitTestFill(e):super.drawMarkerLayer(t,e)}pushClipPath(t){}popClipPath(){}drawImage(t,e,i){const r=this._resourceManager.getResource(t);if(s(r)||0===r.height||0===e)return;const n=e*this.geomUnitsPerPoint(),o=n*i*(r.width/r.height),a=this.reverseTransformPt(this._searchPoint),h=this._searchDistPoint;Math.abs(a[0])<o/2+h&&Math.abs(a[1])<n/2+h&&(this._earlyReturn=!0)}drawText(e){const s=this._textInfo;if(!s)return;const i=s.get(e);if(!i)return;const{text:r,mosaicItem:n}=i;if(!n||0===n.glyphMosaicItems.length)return;const o=e.height??v,a=B(e.lineGapType,e.lineGap??0,o),h=t(r)[1],l=n.glyphMosaicItems,c=T(l,h,{scale:o/C,angle:0,xOffset:0,yOffset:0,hAlign:E(e.horizontalAlignment),vAlign:H(e.verticalAlignment),maxLineWidth:512,lineHeight:R*Math.max(.25,Math.min(a||1,4)),decoration:e.font.decoration||\"none\",isCIM:!0}),m=this.reverseTransformPt(this._searchPoint),f=m[0],u=m[1];for(const t of c.glyphs)if(f>t.xTopLeft&&f<t.xBottomRight&&u>-t.yBottomRight&&u<-t.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(t){let e=null;if(u(t)){const s=t;e=[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}else if(m(t))e=t.rings;else{if(!f(t))return;e=t.paths}const s=this.reverseTransformPt(this._searchPoint);if(this._pointInPolygon(s,e)&&(this._earlyReturn=!0),!this._earlyReturn){const t=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(s,e,t)&&(this._earlyReturn=!0)}}_hitTestStroke(t,e){let s=null;if(u(t)){const e=t;s=[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}else if(m(t))s=t.rings;else{if(!f(t))return;s=t.paths}const i=this.reverseTransformPt(this._searchPoint),r=e*this.geomUnitsPerPoint(),n=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(i,s,r/2+n)&&(this._earlyReturn=!0)}_pointInPolygon(t,e){let s=0;for(const i of e){const e=i.length;for(let r=1;r<e;++r){const e=i[r-1],n=i[r];if(e[1]>t[1]==n[1]>t[1])continue;(n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0])>0?s++:s--}}return 0!==s}_nearLine(t,e,s){for(const i of e){const e=i.length;for(let r=1;r<e;++r){const e=i[r-1],n=i[r];let o=(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]);if(0===o)continue;o=Math.sqrt(o);const a=((n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]))/o;if(Math.abs(a)<s){const i=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/o;if(i>-s&&i<o+s)return!0}}}return!1}}class A extends F{constructor(t,e,s){super(e,s),this._ctx=t}drawSolidFill(t,e){if(!t)return;if(m(t))this._buildPath(t.rings,!0);else if(f(t))this._buildPath(t.paths,!0);else if(u(t))this._buildPath(G(t).rings,!0);else{if(!_(t))return;console.log(\"CanvasDrawHelper.drawSolidFill - No implementation!\")}const s=this._ctx;s.fillStyle=\"string\"==typeof e?e:\"rgba(\"+Math.round(e[0])+\",\"+Math.round(e[1])+\",\"+Math.round(e[2])+\",\"+e[3]/255+\")\",s.fill(\"evenodd\")}drawSolidStroke(t,e,s,i,r,n){if(!t||!e||0===s)return;if(m(t))this._buildPath(t.rings,!0);else if(f(t))this._buildPath(t.paths,!1);else{if(!u(t))return void console.log(\"CanvasDrawHelper.drawSolidStroke isn't implemented!\");this._buildPath(G(t).rings,!0)}const o=this._ctx;o.strokeStyle=\"string\"==typeof e?e:\"rgba(\"+Math.round(e[0])+\",\"+Math.round(e[1])+\",\"+Math.round(e[2])+\",\"+e[3]/255+\")\",o.lineWidth=this.transformSize(s)+.5,this._setCapStyle(i),this._setJoinStyle(r),o.miterLimit=n,o.stroke()}pushClipPath(t){if(this._ctx.save(),m(t))this._buildPath(t.rings,!0);else if(f(t))this._buildPath(t.paths,!0);else{if(!u(t))return;this._buildPath(G(t).rings,!0)}this._ctx.clip(\"evenodd\")}popClipPath(){this._ctx.restore()}drawImage(t,e,i){const r=this._resourceManager.getResource(t);if(s(r))return;const n=this._ctx,o=n.canvas.width,a=n.canvas.height;let h=e*i*(r.width/r.height),l=i*e;e||(h=i*r.width,l=i*r.height);const c=this.transformPt([0,0]),m=this.transformSize(h),f=this.transformSize(l);this._ctx.drawImage(r,0,0,r.width,r.height,c[0]-m/2,c[1]-f/2,Math.min(m,o),Math.min(f,a))}drawText(t){this._textRasterizer||(this._textRasterizer=new b)}_buildPath(t,e){const s=this._ctx;if(s.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let r=this.transformPt(i[0]);s.moveTo(r[0],r[1]);for(let e=1;e<t;++e)r=this.transformPt(i[e]),s.lineTo(r[0],r[1]);e&&s.closePath()}}}_setCapStyle(t){switch(t){case x.Butt:this._ctx.lineCap=\"butt\";break;case x.Round:this._ctx.lineCap=\"round\";break;case x.Square:this._ctx.lineCap=\"square\"}}_setJoinStyle(t){switch(t){case w.Bevel:this._ctx.lineJoin=\"bevel\";break;case w.Round:this._ctx.lineJoin=\"round\";break;case w.Miter:this._ctx.lineJoin=\"miter\"}}}const G=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,E=t=>{switch(t){case\"Left\":return S.Left;case\"Right\":return S.Right;case\"Center\":return S.Center;case\"Justify\":return L.warnOnce(\"Horizontal alignment 'justify' is not implemented. Falling back to 'center'.\"),S.Center}},H=t=>{switch(t){case\"Top\":return k.Top;case\"Center\":return k.Center;case\"Bottom\":return k.Bottom;case\"Baseline\":return k.Baseline}},B=(t,e,s)=>{switch(t){case\"ExtraLeading\":return 1+e/s;case\"Multiple\":return e;case\"Exact\":return e/s}};export{F as CIMSymbolDrawHelper,I as C_DEG_TO_RAD,A as CanvasDrawHelper,U as EnvDrawHelper,j as HittestDrawHelper,z as Transformation,E as horizontalAlignment2HAlign,B as lineGapType2LineHeight,H as verticalAlignment2VAlign};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}