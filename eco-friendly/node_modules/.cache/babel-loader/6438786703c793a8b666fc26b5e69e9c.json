{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { ViewingMode as t } from \"../../../ViewingMode.js\";\nimport { ShaderOutput as o } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { PBRMode as r } from \"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";\nimport { doublePrecisionRequiresObfuscation as i } from \"../core/shaderLibrary/util/DoublePrecision.glsl.js\";\nimport { ReloadableShaderModule as s } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as a } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as n } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { TransparencyPassType as p } from \"../lib/basicInterfaces.js\";\nimport { Default3D as u } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { blendingDefault as l, oitBlending as c, oitDepthTest as h, oitDepthWrite as d, getOITPolygonOffset as f } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as m } from \"../lib/Program.js\";\nimport { DefaultTechniqueConfiguration as y } from \"./DefaultTechniqueConfiguration.js\";\nimport { W as b } from \"../../../../chunks/WaterSurface.glsl.js\";\nimport { makePipelineState as g, defaultDepthWriteParams as v, defaultColorWriteParams as P } from \"../../../webgl/renderState.js\";\n\nclass S extends a {\n  constructor(e, t, o) {\n    super(e, t, o), this._textureRepository = e.waterTextureRepository;\n  }\n\n  initializeConfiguration(e, o) {\n    o.spherical = e.viewingMode === t.Global, o.doublePrecisionRequiresObfuscation = i(e.rctx);\n  }\n\n  initializeProgram(e) {\n    const t = S.shader.get().build(this.configuration);\n    return new m(e.rctx, t, u);\n  }\n\n  bindPass(e, t) {\n    this.program.bindPass(e, t), this.configuration.output !== o.Color && this.configuration.output !== o.Normal || this._textureRepository.bind(this.program);\n  }\n\n  _setPipelineState(e) {\n    const t = this.configuration,\n          r = e === p.NONE,\n          i = e === p.FrontFace;\n    return g({\n      blending: t.output !== o.Normal && t.output !== o.Highlight && t.transparent ? r ? l : c(e) : null,\n      depthTest: {\n        func: h(e)\n      },\n      depthWrite: r ? t.writeDepth && v : d(e),\n      colorWrite: P,\n      polygonOffset: r || i ? null : f(t.enableOffset)\n    });\n  }\n\n  initializePipeline() {\n    return this._setPipelineState(this.configuration.transparencyPassType);\n  }\n\n}\n\nS.shader = new s(b, () => import(\"../shaders/WaterSurface.glsl.js\"));\n\nclass T extends y {\n  constructor() {\n    super(...arguments), this.output = o.Color, this.transparencyPassType = p.NONE, this.spherical = !1, this.receiveShadows = !1, this.hasSlicePlane = !1, this.transparent = !1, this.enableOffset = !0, this.writeDepth = !1, this.hasScreenSpaceReflections = !1, this.doublePrecisionRequiresObfuscation = !1, this.hasCloudsReflections = !1, this.isDraped = !1, this.hasMultipassTerrain = !1, this.cullAboveGround = !1;\n  }\n\n}\n\ne([n({\n  count: o.COUNT\n})], T.prototype, \"output\", void 0), e([n({\n  count: p.COUNT\n})], T.prototype, \"transparencyPassType\", void 0), e([n()], T.prototype, \"spherical\", void 0), e([n()], T.prototype, \"receiveShadows\", void 0), e([n()], T.prototype, \"hasSlicePlane\", void 0), e([n()], T.prototype, \"transparent\", void 0), e([n()], T.prototype, \"enableOffset\", void 0), e([n()], T.prototype, \"writeDepth\", void 0), e([n()], T.prototype, \"hasScreenSpaceReflections\", void 0), e([n()], T.prototype, \"doublePrecisionRequiresObfuscation\", void 0), e([n()], T.prototype, \"hasCloudsReflections\", void 0), e([n()], T.prototype, \"isDraped\", void 0), e([n()], T.prototype, \"hasMultipassTerrain\", void 0), e([n()], T.prototype, \"cullAboveGround\", void 0), e([n({\n  constValue: r.Water\n})], T.prototype, \"pbrMode\", void 0), e([n({\n  constValue: !0\n})], T.prototype, \"useCustomDTRExponentForWater\", void 0), e([n({\n  constValue: !0\n})], T.prototype, \"highStepCount\", void 0), e([n({\n  constValue: !1\n})], T.prototype, \"useFillLights\", void 0);\nexport { S as WaterTechnique, T as WaterTechniqueConfiguration };","map":{"version":3,"names":["_","e","ViewingMode","t","ShaderOutput","o","PBRMode","r","doublePrecisionRequiresObfuscation","i","ReloadableShaderModule","s","ShaderTechnique","a","parameter","n","TransparencyPassType","p","Default3D","u","blendingDefault","l","oitBlending","c","oitDepthTest","h","oitDepthWrite","d","getOITPolygonOffset","f","Program","m","DefaultTechniqueConfiguration","y","W","b","makePipelineState","g","defaultDepthWriteParams","v","defaultColorWriteParams","P","S","constructor","_textureRepository","waterTextureRepository","initializeConfiguration","spherical","viewingMode","Global","rctx","initializeProgram","shader","get","build","configuration","bindPass","program","output","Color","Normal","bind","_setPipelineState","NONE","FrontFace","blending","Highlight","transparent","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","initializePipeline","transparencyPassType","T","arguments","receiveShadows","hasSlicePlane","hasScreenSpaceReflections","hasCloudsReflections","isDraped","hasMultipassTerrain","cullAboveGround","count","COUNT","prototype","constValue","Water","WaterTechnique","WaterTechniqueConfiguration"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ViewingMode as t}from\"../../../ViewingMode.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{PBRMode as r}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{doublePrecisionRequiresObfuscation as i}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{TransparencyPassType as p}from\"../lib/basicInterfaces.js\";import{Default3D as u}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as l,oitBlending as c,oitDepthTest as h,oitDepthWrite as d,getOITPolygonOffset as f}from\"../lib/OrderIndependentTransparency.js\";import{Program as m}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as y}from\"./DefaultTechniqueConfiguration.js\";import{W as b}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as g,defaultDepthWriteParams as v,defaultColorWriteParams as P}from\"../../../webgl/renderState.js\";class S extends a{constructor(e,t,o){super(e,t,o),this._textureRepository=e.waterTextureRepository}initializeConfiguration(e,o){o.spherical=e.viewingMode===t.Global,o.doublePrecisionRequiresObfuscation=i(e.rctx)}initializeProgram(e){const t=S.shader.get().build(this.configuration);return new m(e.rctx,t,u)}bindPass(e,t){this.program.bindPass(e,t),this.configuration.output!==o.Color&&this.configuration.output!==o.Normal||this._textureRepository.bind(this.program)}_setPipelineState(e){const t=this.configuration,r=e===p.NONE,i=e===p.FrontFace;return g({blending:t.output!==o.Normal&&t.output!==o.Highlight&&t.transparent?r?l:c(e):null,depthTest:{func:h(e)},depthWrite:r?t.writeDepth&&v:d(e),colorWrite:P,polygonOffset:r||i?null:f(t.enableOffset)})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}S.shader=new s(b,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class T extends y{constructor(){super(...arguments),this.output=o.Color,this.transparencyPassType=p.NONE,this.spherical=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.hasScreenSpaceReflections=!1,this.doublePrecisionRequiresObfuscation=!1,this.hasCloudsReflections=!1,this.isDraped=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([n({count:o.COUNT})],T.prototype,\"output\",void 0),e([n({count:p.COUNT})],T.prototype,\"transparencyPassType\",void 0),e([n()],T.prototype,\"spherical\",void 0),e([n()],T.prototype,\"receiveShadows\",void 0),e([n()],T.prototype,\"hasSlicePlane\",void 0),e([n()],T.prototype,\"transparent\",void 0),e([n()],T.prototype,\"enableOffset\",void 0),e([n()],T.prototype,\"writeDepth\",void 0),e([n()],T.prototype,\"hasScreenSpaceReflections\",void 0),e([n()],T.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([n()],T.prototype,\"hasCloudsReflections\",void 0),e([n()],T.prototype,\"isDraped\",void 0),e([n()],T.prototype,\"hasMultipassTerrain\",void 0),e([n()],T.prototype,\"cullAboveGround\",void 0),e([n({constValue:r.Water})],T.prototype,\"pbrMode\",void 0),e([n({constValue:!0})],T.prototype,\"useCustomDTRExponentForWater\",void 0),e([n({constValue:!0})],T.prototype,\"highStepCount\",void 0),e([n({constValue:!1})],T.prototype,\"useFillLights\",void 0);export{S as WaterTechnique,T as WaterTechniqueConfiguration};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}