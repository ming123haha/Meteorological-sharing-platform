{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Collection.js\";\nimport { JSONSupportMixin as t } from \"../../core/JSONSupport.js\";\nimport o from \"../../core/Warning.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/Error.js\";\nimport \"../../core/has.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../geometry/Polygon.js\";\nimport { canProjectWithoutEngine as n, projectPolygon as a } from \"../../geometry/projection.js\";\nvar c;\nlet p = c = class extends t(r.ofType(i)) {\n  constructor(e) {\n    super(e);\n  }\n\n  clone() {\n    return new c(this.items.map(e => e.clone()));\n  }\n\n  write(e, r) {\n    return this.toJSON(r);\n  }\n\n  toJSON(e) {\n    const r = e?.layer?.spatialReference;\n    return r ? this.toArray().map(t => {\n      if (!r.equals(t.spatialReference)) {\n        if (!n(t.spatialReference, r)) return e && e.messages && e.messages.push(new o(\"scenefilter:unsupported\", \"Scene filters with incompatible spatial references are not supported\", {\n          modification: this,\n          spatialReference: e.layer.spatialReference,\n          context: e\n        })), null;\n        const s = new i();\n        a(t, s, r), t = s;\n      }\n\n      const s = t.toJSON(e);\n      return delete s.spatialReference, s;\n    }).filter(e => null != e) : (e?.messages && e.messages.push(new o(\"scenefilter:unsupported\", \"Writing Scene filters without context layer is not supported\", {\n      modification: this,\n      spatialReference: e.layer.spatialReference,\n      context: e\n    })), this.toArray().map(r => r.toJSON(e)));\n  }\n\n  static fromJSON(e, r) {\n    const t = new c();\n    return e.forEach(e => t.add(i.fromJSON(e, r))), t;\n  }\n\n};\np = c = e([s(\"esri.layers.support.PolygonCollection\")], p);\nconst l = p;\nexport { l as default };","map":{"version":3,"names":["_","e","r","JSONSupportMixin","t","o","subclass","s","i","canProjectWithoutEngine","n","projectPolygon","a","c","p","ofType","constructor","clone","items","map","write","toJSON","layer","spatialReference","toArray","equals","messages","push","modification","context","filter","fromJSON","forEach","add","l","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/PolygonCollection.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{JSONSupportMixin as t}from\"../../core/JSONSupport.js\";import o from\"../../core/Warning.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/Error.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Polygon.js\";import{canProjectWithoutEngine as n,projectPolygon as a}from\"../../geometry/projection.js\";var c;let p=c=class extends(t(r.ofType(i))){constructor(e){super(e)}clone(){return new c(this.items.map((e=>e.clone())))}write(e,r){return this.toJSON(r)}toJSON(e){const r=e?.layer?.spatialReference;return r?this.toArray().map((t=>{if(!r.equals(t.spatialReference)){if(!n(t.spatialReference,r))return e&&e.messages&&e.messages.push(new o(\"scenefilter:unsupported\",\"Scene filters with incompatible spatial references are not supported\",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const s=new i;a(t,s,r),t=s}const s=t.toJSON(e);return delete s.spatialReference,s})).filter((e=>null!=e)):(e?.messages&&e.messages.push(new o(\"scenefilter:unsupported\",\"Writing Scene filters without context layer is not supported\",{modification:this,spatialReference:e.layer.spatialReference,context:e})),this.toArray().map((r=>r.toJSON(e))))}static fromJSON(e,r){const t=new c;return e.forEach((e=>t.add(i.fromJSON(e,r)))),t}};p=c=e([s(\"esri.layers.support.PolygonCollection\")],p);const l=p;export{l as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}