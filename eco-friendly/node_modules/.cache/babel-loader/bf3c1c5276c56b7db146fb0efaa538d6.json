{"ast":null,"code":"// import tabsection from \"@/components/tabsection\";\nimport echartspie from \"@/components/echartspie\";\nimport echartsline from \"@/components/echartsline\";\nimport scatter from \"@/components/scatter\";\nimport echartsbar from \"@/components/echartsbar\";\nimport AMapLoader from \"@amap/amap-jsapi-loader\";\nexport default {\n  name: \"Home\",\n\n  data() {\n    console.log(this);\n    return {\n      stationlat: \"test\",\n      lngLats: [{}],\n      allqualitys: [],\n      airgood: null,\n      airnormal: null,\n      airbad: 0,\n      airall: 0,\n      allcity: [\"合肥市 明珠广场站\", \"合肥市 三里街站\", \"合肥市 琥珀山庄站\", \"合肥市 董铺水库（对照点）站\", \"合肥市 长江中路站\", \"合肥市 庐阳区站\", \"合肥市 瑶海区站\", \"合肥市 包河区站\", \"合肥市 滨湖新区站\", \"合肥市 高新区站\", \"合肥市 高教基地站\", \"芜湖市 监测站\", \"芜湖市 科创中心站\", \"芜湖市 四水厂站\", \"芜湖市 济民医院站\", \"芜湖市 市气象局站\", \"芜湖市 清苑社区站\", \"芜湖市 扬子职业技术学院站\", \"蚌埠市 工人疗养院站\", \"蚌埠市 百货大楼站\", \"蚌埠市 淮上区政府站\", \"蚌埠市 高新区站\", \"蚌埠市 蚌埠田家炳中学站\", \"淮南市 潘新区政府站\", \"淮南市 师范学院站\", \"淮南市 谢家集区政府站\", \"淮南市 八公山区政府站\", \"淮南市 焦岗湖风景区管理处(对照点)站\", \"淮南市 经济技术开发区消防队站\", \"淮南市 山南新区站\", \"马鞍山市 湖东路四小站\", \"马鞍山 开发区站\", \"马鞍山市 慈湖站\", \"马鞍山市 马钢动力厂站\", \"马鞍山市 濮塘(对照点)站\", \"马鞍山市 雨山站\", \"淮北市 监测站\", \"淮北市 烈山区政府站\", \"淮北市 职业技术学院站\", \"淮北市 社集区检察院站\", \"铜陵市 市第四中学站\", \"铜陵市 市公路局站\", \"铜陵市 市新民污水厂站\", \"铜陵市 市第九中学站\", \"铜陵市 车站新区站\", \"铜陵市 市职教基地\", \"安庆市 环科院站\", \"安庆市 马山宾馆站\", \"安庆市 安庆大学站\", \"安庆市 市人大站\", \"黄山市 延安路89号站\", \"黄山市 黄山东路89号站\", \"黄山市 黄山区政府5号楼站\", \"滁州市 老年大学站\", \"滁州市 人大宾馆站\", \"滁州市 市政府原办公楼站\", \"滁州市 图书馆站\", \"阜阳市 市监测站\", \"阜阳市 开发区站\", \"阜阳市 阜阳职业技术学院站\", \"阜阳市 市规划馆站\", \"阜阳市 枣园社区站\", \"宿州市 火车站\", \"宿州市 远航博物馆站\", \"宿州市 社会福利中心站\", \"宿州市 宿州学院站\", \"宿州市 皖北煤电集团站\", \"六安市 监测大楼站\", \"六安市 皖西学院站\", \"六安市 朝阳区站\", \"六安市 开发区站\", \"亳州市 污水处理厂站\", \"亳州市 三国揽胜宫站\", \"亳州市 亳州学院站\", \"池州市 池州学院站\", \"池州市 平天湖(对照点)站\", \"池州市 展览馆站\", \"池州市 第八中学站\", \"池州市 第十二中学站\", \"宣城市 鳌峰子站\", \"宣城市 敬亭山子站\", \"宣城市 开发区子站\", \"宣城市 夏渡子站\"],\n      lngLat: [[117.1959, 31.7848], [117.3072, 31.8764], [117.2588, 31.8707], [117.1604, 31.9052], [117.25, 31.8571], [117.266, 31.9436], [117.336, 31.8586], [117.3027, 31.7964], [117.2776, 31.7385], [117.1318, 31.8403], [117.3803, 31.9147], [118.3714, 31.4134], [118.3673, 31.3131], [118.4022, 31.3839], [118.4209, 31.3707], [118.4781, 31.3225], [118.2746, 31.2326], [117.396, 32.939], [117.3605, 32.9427], [117.4185, 32.8911], [117.3533, 32.9673], [117.3145, 32.8977], [117.3092, 32.9314], [116.8305, 32.7727], [117.0067, 32.6524], [116.8569, 32.5951], [116.8281, 32.633], [116.6325, 32.6201], [117.0566, 32.6531], [117.0108, 32.5893], [118.5092, 31.6837], [118.5024, 31.6449], [118.5228, 31.7231], [118.48, 31.6928], [118.6245, 31.7241], [118.4918, 31.6809], [116.8004, 33.975], [116.8091, 33.9007], [116.7856, 33.9477], [116.8873, 33.9836], [117.8177, 30.9412], [117.8059, 30.9273], [117.7807, 30.9413], [117.7439, 30.8792], [117.846, 30.9413], [117.8483, 30.97], [117.0809, 30.5177], [117.0331, 30.5119], [116.9896, 30.6145], [117.0598, 30.5351], [118.2903, 29.6963], [118.327, 29.7178], [118.1371, 30.2756], [118.3093, 32.3153], [118.3244, 32.2786], [118.3118, 32.3038], [115.8277, 32.8929], [115.8554, 32.8605], [115.784, 32.8892], [115.7901, 32.8631], [115.836, 32.9183], [116.989, 33.6306], [116.9509, 33.666], [116.9708, 33.591], [116.9884, 33.6305], [116.9648, 33.6252], [116.5079, 31.737], [118.4738, 31.7643], [116.4996, 31.7905], [116.5567, 31.7886], [115.8072, 33.8399], [115.7789, 33.8518], [115.7633, 33.8034], [117.47, 30.6618], [117.4974, 30.6539], [117.4918, 30.6617], [117.5627, 30.695], [117.5038, 30.6243], [118.7581, 30.9454], [118.7385, 30.9743], [118.7173, 30.9427], [118.7724, 30.9141]]\n    };\n  },\n\n  created() {\n    this.initCount();\n  },\n\n  mounted() {\n    this.initMap();\n    this.initdata();\n  },\n\n  //引入我的AQI仪表盘组件\n  components: {\n    echartspie: echartspie,\n    // tabsection:tabsection,\n    echartsline: echartsline,\n    scatter: scatter,\n    echartsbar: echartsbar\n  },\n  methods: {\n    initCount() {\n      this.request.get(\"/nowatmospheredata\").then(res => {\n        this.lngLats = res;\n      });\n    },\n\n    initMap() {\n      AMapLoader.load({\n        key: \"0e5904b2829e2e25ffcdecc5685b2209\",\n        // 申请好的Web端开发者Key，首次调用 load 时必填\n        version: \"2.0\",\n        // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\n        plugins: ['AMap.MoveAnimation', 'AMap.ToolBar', 'AMap.Scale', 'AMap.MapType', 'AMap.Geolocation', 'AMap.HawkEye', 'AMap.HeatMap'] // 需要使用的的插件列表，如比例尺'AMap.Scale'等\n\n      }).then(AMap => {\n        var _this = this;\n\n        this.map = new AMap.Map(\"container\", {\n          //设置地图容器id\n          resizeEnable: true,\n          mapStyle: 'amap://styles/darkblue',\n          viewMode: \"3D\",\n          //是否为3D地图模式\n          zoom: 7,\n          //初始化地图级别\n          center: [118.3093, 32.3153],\n          //初始化地图中心点位置\n          doubleClickZoom: true,\n          // 是否允许鼠标拖拽\n          dragEnable: true,\n          keyboardEnable: false\n        });\n        let marker;\n\n        for (var i = 0; i < _this.lngLat.length; i++) {\n          marker = new AMap.Marker({\n            title: '北京',\n            position: _this.lngLat[i],\n            map: _this.map\n          });\n          marker.content = [\"<h2>\" + _this.allcity[i] + \"</h2>\"]; // marker.content =[\"<h2>\"+_this.lngLats[i].city+\"  \"+_this.lngLats[i].station+\"</h2>  AQI指数:\"+_this.lngLats[i].aqi+\"   CO指数:\"+_this.lngLats[i].co+\"<br/>\" +\n          // \"NO2指数:\"+_this.lngLats[i].no2+\"   PM2.5指数:\"+_this.lngLats[i].pm25+\"<br/> PM10指数:\"+_this.lngLats[i].pm10+\"   SO2指数:\"+_this.lngLats[i].so2+\"<br/> O3指数:\"+_this.lngLats[i].o3+\"<br/>\" +\n          // \"<a href='https://ditu.amap.com/detail/B000A8URXB?citycode=110105'>详细信息</a>\"]\n\n          marker.on(\"click\", this.markerClick); //marker.emit(\"click\", { target: marker });\n        }\n      });\n    },\n\n    markerClick(e) {\n      this.stationlat = e.lnglat.lng;\n      console.log(e.target._originOpts.title); //offset用来偏移，第一个参数是左右，第一个参数是上下。左和上是负的，右和下是正的\n\n      var infoWindow = new AMap.InfoWindow({\n        offset: new AMap.Pixel(0, -30)\n      });\n      infoWindow.setContent(e.target.content);\n      infoWindow.open(this.map, e.target.getPosition());\n    },\n\n    initdata() {\n      this.request.get(\"/nowatmospheredata/GetAllquality\").then(res => {\n        for (var i = 0; i < res.length; i++) {\n          if (res[i].quality === \"良\") {\n            this.airnormal += 1;\n          } else if (res[i].quality === \"优\") {\n            this.airgood += 1;\n          } else if (res[i].quality === \"差\") {\n            this.airbad += 1;\n          }\n        }\n\n        this.airall = this.airgood + this.airbad + this.airnormal;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["name","data","console","stationlat","lngLats","allqualitys","airgood","airnormal","airbad","airall","allcity","lngLat","created","mounted","components","echartspie","echartsline","scatter","echartsbar","methods","initCount","initMap","AMapLoader","key","version","plugins","then","AMap","resizeEnable","mapStyle","viewMode","zoom","center","doubleClickZoom","dragEnable","keyboardEnable","marker","title","position","map","markerClick","offset","infoWindow","initdata"],"sourceRoot":"src/views","sources":["DataAnalysis.vue"],"sourcesContent":["<template>\r\n  <!--    主体盒子-->\r\n  <section class=\"mainbox\" >\r\n    <div id=\"container\"  style=\"position:absolute;height: 870px;width: 100%\"></div>\r\n    <div class=\"column\">\r\n      <div class=\"panel overview\">\r\n        <div class=\"inner\">\r\n          <h1 style=\"font-size:28px;color:aliceblue;text-align:center;\">测区内气象站总情况</h1>\r\n          <ul>\r\n            <li>\r\n              <h4>{{ this.airall }}</h4>\r\n              <span>天气站总数</span>\r\n            </li>\r\n            <li>\r\n              <h4>{{ this.airgood }}</h4>\r\n              <span>空气优</span>\r\n            </li>\r\n            <li>\r\n              <h4>{{this.airnormal}}</h4>\r\n              <span>空气良</span>\r\n            </li>\r\n            <li>\r\n              <h4>{{this.airbad}}</h4>\r\n              <span>空气差</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"panel\">\r\n        <div>\r\n          <div class=\"chart\" >\r\n            <echartspie></echartspie>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      <div class=\"panel\">\r\n        <div >\r\n          <echartsbar></echartsbar>\r\n        </div>\r\n    </div>\r\n      </div>\r\n    <div class=\"column\">\r\n    </div>\r\n    <div class=\"column\">\r\n<!--折线图-->\r\n      <div class=\"panel bar\">\r\n        <echartsline :selectstation=\"stationlat\"/>\r\n      </div>\r\n<!--雷达图-->\r\n      <div class=\"panel radar\">\r\n        <scatter></scatter>\r\n      </div>\r\n      </div>\r\n  </section>\r\n\r\n</template>\r\n\r\n<script>\r\n// import tabsection from \"@/components/tabsection\";\r\nimport echartspie from \"@/components/echartspie\";\r\nimport echartsline from \"@/components/echartsline\";\r\nimport scatter from \"@/components/scatter\"\r\nimport echartsbar from \"@/components/echartsbar\"\r\nimport AMapLoader from \"@amap/amap-jsapi-loader\";\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    console.log(this)\r\n    return {\r\n      stationlat:\"test\",\r\n      lngLats:[{}],\r\n      allqualitys:[],\r\n      airgood:null,\r\n      airnormal:null,\r\n      airbad:0,\r\n      airall:0,\r\n      allcity:[\"合肥市 明珠广场站\",\"合肥市 三里街站\",\"合肥市 琥珀山庄站\",\"合肥市 董铺水库（对照点）站\",\"合肥市 长江中路站\",\"合肥市 庐阳区站\",\"合肥市 瑶海区站\",\"合肥市 包河区站\",\"合肥市 滨湖新区站\",\r\n      \"合肥市 高新区站\",\"合肥市 高教基地站\",\"芜湖市 监测站\",\"芜湖市 科创中心站\",\"芜湖市 四水厂站\",\"芜湖市 济民医院站\",\"芜湖市 市气象局站\",\"芜湖市 清苑社区站\",\"芜湖市 扬子职业技术学院站\",\r\n      \"蚌埠市 工人疗养院站\",\"蚌埠市 百货大楼站\",\"蚌埠市 淮上区政府站\",\"蚌埠市 高新区站\",\"蚌埠市 蚌埠田家炳中学站\",\"淮南市 潘新区政府站\",\"淮南市 师范学院站\",\"淮南市 谢家集区政府站\",\"淮南市 八公山区政府站\"\r\n      ,\"淮南市 焦岗湖风景区管理处(对照点)站\",\"淮南市 经济技术开发区消防队站\",\"淮南市 山南新区站\",\"马鞍山市 湖东路四小站\",\"马鞍山 开发区站\",\"马鞍山市 慈湖站\",\"马鞍山市 马钢动力厂站\",\"马鞍山市 濮塘(对照点)站\"\r\n      ,\"马鞍山市 雨山站\",\"淮北市 监测站\",\"淮北市 烈山区政府站\",\"淮北市 职业技术学院站\",\"淮北市 社集区检察院站\",\"铜陵市 市第四中学站\",\"铜陵市 市公路局站\",\"铜陵市 市新民污水厂站\",\"铜陵市 市第九中学站\",\"铜陵市 车站新区站\",\"铜陵市 市职教基地\"\r\n      ,\"安庆市 环科院站\",\"安庆市 马山宾馆站\",\"安庆市 安庆大学站\",\"安庆市 市人大站\",\"黄山市 延安路89号站\",\"黄山市 黄山东路89号站\",\"黄山市 黄山区政府5号楼站\",\"滁州市 老年大学站\",\"滁州市 人大宾馆站\",\"滁州市 市政府原办公楼站\",\r\n      \"滁州市 图书馆站\",\"阜阳市 市监测站\",\"阜阳市 开发区站\",\"阜阳市 阜阳职业技术学院站\",\"阜阳市 市规划馆站\",\"阜阳市 枣园社区站\",\"宿州市 火车站\",\"宿州市 远航博物馆站\",\"宿州市 社会福利中心站\",\"宿州市 宿州学院站\"\r\n      ,\"宿州市 皖北煤电集团站\",\"六安市 监测大楼站\",\"六安市 皖西学院站\",\"六安市 朝阳区站\",\"六安市 开发区站\",\"亳州市 污水处理厂站\",\"亳州市 三国揽胜宫站\",\"亳州市 亳州学院站\",\"池州市 池州学院站\",\"池州市 平天湖(对照点)站\",\"池州市 展览馆站\",\"池州市 第八中学站\",\"池州市 第十二中学站\"\r\n      ,\"宣城市 鳌峰子站\",\"宣城市 敬亭山子站\",\"宣城市 开发区子站\",\"宣城市 夏渡子站\"],\r\n      lngLat:[[117.1959,31.7848],[117.3072,31.8764],[117.2588,31.8707],[117.1604,31.9052],[117.25,31.8571],[117.266,31.9436],\r\n        [117.336,31.8586],[117.3027,31.7964],[117.2776,31.7385],[117.1318,31.8403],[117.3803,31.9147],[118.3714,31.4134],[118.3673,31.3131],\r\n        [118.4022,31.3839],[118.4209,31.3707],[118.4781,31.3225],[118.2746,31.2326],[117.396,32.939],[117.3605,32.9427],[117.4185,32.8911],\r\n        [117.3533,32.9673],[117.3145,32.8977],[117.3092,32.9314],[116.8305,32.7727],[117.0067,32.6524],[116.8569,32.5951],[116.8281,32.633],\r\n        [116.6325,32.6201],[117.0566,32.6531],[117.0108,32.5893],[118.5092,31.6837],[118.5024,31.6449],[118.5228,31.7231],[118.48,31.6928],\r\n        [118.6245,31.7241],[118.4918,31.6809],[116.8004,33.975],[116.8091,33.9007],[116.7856,33.9477],[116.8873,33.9836],[117.8177,30.9412],\r\n        [117.8059,30.9273],[117.7807,30.9413],[117.7439,30.8792],[117.846,30.9413],[117.8483,30.97],[117.0809,30.5177],[117.0331,30.5119],\r\n        [116.9896,30.6145],[117.0598,30.5351],[118.2903,29.6963],[118.327,29.7178],[118.1371,30.2756],[118.3093,32.3153],[118.3244,32.2786],\r\n        [118.3118,32.3038],[115.8277,32.8929],[115.8554,32.8605],[115.784,32.8892],[115.7901,32.8631],[115.836,32.9183],[116.989,33.6306],\r\n        [116.9509,33.666],[116.9708,33.591],[116.9884,33.6305],[116.9648,33.6252],[116.5079,31.737],[118.4738,31.7643],[116.4996,31.7905],\r\n        [116.5567,31.7886],[115.8072,33.8399],[115.7789,33.8518],[115.7633,33.8034],[117.47,30.6618],[117.4974,30.6539],[117.4918,30.6617],\r\n        [117.5627,30.695],[117.5038,30.6243],[118.7581,30.9454],[118.7385,30.9743],[118.7173,30.9427],[118.7724,30.9141]\r\n      ],\r\n    }\r\n  },\r\ncreated() {\r\n  this.initCount();\r\n},\r\n  mounted() {\r\n\r\n    this.initMap()\r\n    this.initdata()\r\n  },\r\n  //引入我的AQI仪表盘组件\r\n  components:{\r\n    echartspie :echartspie,\r\n    // tabsection:tabsection,\r\n    echartsline:echartsline,\r\n    scatter:scatter,\r\n    echartsbar:echartsbar,\r\n  },\r\n  methods: {\r\n    initCount(){\r\n      this.request.get(\"/nowatmospheredata\").then(res=>{\r\n        this.lngLats=res\r\n      })\r\n    },\r\n    initMap(){\r\n\r\n      AMapLoader.load({\r\n        key: \"0e5904b2829e2e25ffcdecc5685b2209\",             // 申请好的Web端开发者Key，首次调用 load 时必填\r\n        version: \"2.0\",      // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\r\n        plugins: ['AMap.MoveAnimation', 'AMap.ToolBar', 'AMap.Scale', 'AMap.MapType', 'AMap.Geolocation', 'AMap.HawkEye', 'AMap.HeatMap'],       // 需要使用的的插件列表，如比例尺'AMap.Scale'等\r\n      }).then((AMap) => {\r\n        var _this = this;\r\n        this.map = new AMap.Map(\"container\", {  //设置地图容器id\r\n          resizeEnable: true,\r\n          mapStyle: 'amap://styles/darkblue',\r\n          viewMode: \"3D\",    //是否为3D地图模式\r\n          zoom: 7,           //初始化地图级别\r\n          center: [118.3093, 32.3153], //初始化地图中心点位置\r\n          doubleClickZoom: true,\r\n          // 是否允许鼠标拖拽\r\n          dragEnable: true,\r\n          keyboardEnable: false,\r\n        });\r\n        let marker;\r\n        for (var i = 0; i < _this.lngLat.length; i++) {\r\n          marker = new AMap.Marker({\r\n            title: '北京',\r\n            position: _this.lngLat[i],\r\n            map: _this.map,\r\n          });\r\n\r\n\r\n          marker.content=[\"<h2>\"+_this.allcity[i]+\"</h2>\"]\r\n          // marker.content =[\"<h2>\"+_this.lngLats[i].city+\"  \"+_this.lngLats[i].station+\"</h2>  AQI指数:\"+_this.lngLats[i].aqi+\"   CO指数:\"+_this.lngLats[i].co+\"<br/>\" +\r\n          // \"NO2指数:\"+_this.lngLats[i].no2+\"   PM2.5指数:\"+_this.lngLats[i].pm25+\"<br/> PM10指数:\"+_this.lngLats[i].pm10+\"   SO2指数:\"+_this.lngLats[i].so2+\"<br/> O3指数:\"+_this.lngLats[i].o3+\"<br/>\" +\r\n          // \"<a href='https://ditu.amap.com/detail/B000A8URXB?citycode=110105'>详细信息</a>\"]\r\n\r\n\r\n          marker.on(\"click\", this.markerClick);\r\n          //marker.emit(\"click\", { target: marker });\r\n        }\r\n      })\r\n    },\r\n    markerClick(e) {\r\n      this.stationlat=e.lnglat.lng\r\n      console.log(e.target._originOpts.title)\r\n      //offset用来偏移，第一个参数是左右，第一个参数是上下。左和上是负的，右和下是正的\r\n      var infoWindow = new AMap.InfoWindow({\r\n        offset: new AMap.Pixel(0, -30),\r\n      });\r\n      infoWindow.setContent(e.target.content);\r\n      infoWindow.open(this.map, e.target.getPosition());\r\n    },\r\n    initdata(){\r\n      this.request.get(\"/nowatmospheredata/GetAllquality\").then(res=>{\r\n        for(var i=0;i<res.length;i++)\r\n        {\r\n          if(res[i].quality===\"良\")\r\n          {\r\n             this.airnormal+=1\r\n          }\r\n          else if(res[i].quality===\"优\")\r\n          {\r\n              this.airgood+=1\r\n          }\r\n          else if(res[i].quality===\"差\")\r\n          {\r\n              this.airbad+=1\r\n          }\r\n        }\r\n        this.airall=this.airgood+this.airbad+this.airnormal\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.mainbox {\r\n  display: flex;\r\n  /*min-width:100%;*/\r\n  height: 0px;\r\n}\r\n.mainbox .column {\r\n  flex: 4rem;\r\n}\r\n.mainbox .column:nth-child(2) {\r\n  flex: 2;\r\n  margin: 0 0.125rem 0.1875rem;\r\n  /*overflow: hidden;*/\r\n}\r\n/* 利用边框图片切割 */\r\n.mainbox .panel{\r\n  position: relative;\r\n  border: 15px solid transparent;\r\n  border-width: 30px 20px 30px 20px;\r\n  border-image-source: url(../assets/images/blue.png);\r\n  border-image-slice: 78 45 78 45;\r\n  border-image-width: 20px;\r\n}\r\n 让子容器撑开覆盖父容器\r\n.panel .inner{\r\n  position:absolute;\r\n  padding:10px 10px;\r\n  background-color: #fff;\r\n}\r\n.mainbox.column.overview {\r\n  height:200px;\r\n}\r\n.mainbox ul{\r\n  display:flex;\r\n  justify-content:space-between;\r\n  white-space:nowrap;\r\n}\r\n.mainbox ul li span {\r\n  font-size: 15px;\r\n  color:yellow;\r\n  text-align:center;\r\n}\r\n.mainbox ul li h4 {\r\n  font-size:20px;\r\n  color:aliceblue;\r\n  text-align:center;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  color: white;\r\n  width: 100%;\r\n}\r\n\r\ntable, td, th {\r\n  border: transparent;\r\n  height: 40px;\r\n  text-align:center;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}