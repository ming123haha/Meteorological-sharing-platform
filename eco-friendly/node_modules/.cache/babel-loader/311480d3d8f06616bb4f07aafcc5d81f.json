{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Logger.js\";\nimport { lerp as t, clamp as r } from \"../../../core/mathUtils.js\";\nimport { removeMaybe as i, disposeMaybe as s, abortMaybe as a, isNone as o } from \"../../../core/maybe.js\";\nimport { createResolver as n, throwIfAborted as h, isAbortError as m } from \"../../../core/promiseUtils.js\";\nimport { watch as c, syncAndInitial as l } from \"../../../core/reactiveUtils.js\";\nimport { n as d } from \"../../../chunks/mat4.js\";\nimport { c as u } from \"../../../chunks/mat4f64.js\";\nimport { a as p } from \"../../../chunks/vec2.js\";\nimport { a as f } from \"../../../chunks/vec2f64.js\";\nimport { l as _, g, a as R, i as j, f as x, p as V } from \"../../../chunks/vec3.js\";\nimport { c as y } from \"../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as C } from \"../../../geometry/projectionEllipsoid.js\";\nimport { isMars as v } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { requestImage as b } from \"../../../support/requestImageUtils.js\";\nimport { computeInnerAltitudeFade as A, innerAtmosphereDepth as T } from \"./atmosphereUtils.js\";\nimport { S as w } from \"../../../chunks/SimpleAtmosphere.glsl.js\";\nimport { SimpleAtmosphereTechnique as q } from \"./SimpleAtmosphereTechnique.js\";\nimport { SimpleAtmosphereTechniqueConfiguration as U, SimpleAtmosphereGeometry as D } from \"./SimpleAtmosphereTechniqueConfiguration.js\";\nimport S from \"./resources/MarsAtmosphereTexture.js\";\nimport F from \"./resources/SimpleAtmosphereTexture.js\";\nimport { makePiecewiseLinearFunction as M } from \"../support/mathUtils.js\";\nimport { glLayout as P } from \"../support/buffer/glUtil.js\";\nimport { newLayout as I } from \"../support/buffer/InterleavedLayout.js\";\nimport { Default3D as O } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { createQuadVAO as E } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { project as L } from \"../webgl-engine/lib/Util.js\";\nimport { VertexAttribute as W } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BufferObject as k } from \"../../webgl/BufferObject.js\";\nimport { PixelFormat as N, PixelType as G, TextureWrapMode as B, TextureSamplingMode as H, PrimitiveType as z, Usage as Y } from \"../../webgl/enums.js\";\nimport { Texture as J } from \"../../webgl/Texture.js\";\nimport { vertexCount as K } from \"../../webgl/Util.js\";\nimport { VertexArrayObject as Q } from \"../../webgl/VertexArrayObject.js\";\n\nconst X = e.getLogger(\"esri.views.3d.environment.SimpleAtmosphere\"),\n      Z = 128,\n      $ = -T,\n      ee = 0,\n      te = 50,\n      re = () => 1 - 511 / 512,\n      ie = M([[50, .1015625], [500, .21875], [5e3, 1 - 250 / 512], [5e4, .4140625]]);\n\nclass se {\n  constructor(e) {\n    this.view = e, this.type = \"simple\", this._renderData = {\n      texV: f(),\n      silCircleCenter: y(),\n      silCircleV1: y(),\n      silCircleV2: y(),\n      altitudeFade: 0,\n      innerScale: 0,\n      undergroundFadeAlpha: 0\n    }, this._passParameters = new w(), this._fadeVaoCount = 0, this._readyResolver = n(), this._readyController = new AbortController(), this.texV1 = 1, this.canRender = !0, this.isOnMars = v(e.spatialReference);\n    const t = C(e.spatialReference);\n    this.planetRadius = t.radius, this.outerRimWidth = t.outerAtmosphereRimWidth, this.innerRimFactor = (this.planetRadius + $) / this.planetRadius, this.middleRimFactor = (this.planetRadius + ee) / this.planetRadius, this.outerRimFactor = (this.planetRadius + this.outerRimWidth) / this.planetRadius, this.texV0 = ee / this.outerRimWidth, this.texVScale = this.texV1 - this.texV0;\n  }\n\n  destroy() {\n    this._readyResolver.reject(), this._cameraChangeHandle = i(this._cameraChangeHandle), this._passParameters.texture = s(this._passParameters.texture), this._fadeVao = s(this._fadeVao), this._vao = s(this._vao), this._readyController = a(this._readyController);\n  }\n\n  when() {\n    return this._readyResolver.promise;\n  }\n\n  async initializeRenderContext(e) {\n    this._shaderTechniqueRepository = e.shaderTechniqueRepository;\n    const t = e.renderContext.rctx;\n    this._cameraChangeHandle = c(() => this.view.state?.camera, () => e.requestRender(), l), this._vao = this._createRibbon(t), this._vaoCount = K(this._vao, \"geometry\"), this._fadeVao = E(t), this._fadeVaoCount = K(this._fadeVao, \"geometry\");\n    const r = this.isOnMars ? S : F,\n          i = this._readyController.signal;\n\n    try {\n      const s = await b(r, {\n        signal: i\n      });\n      h(i), this._passParameters.texture = new J(t, {\n        pixelFormat: N.RGBA,\n        dataType: G.UNSIGNED_BYTE,\n        wrapMode: B.CLAMP_TO_EDGE,\n        samplingMode: H.LINEAR,\n        flipped: !0\n      }, s), e.requestRender(), this._readyController = null, this._readyResolver.resolve();\n    } catch (s) {\n      m(s) || X.error(\"Unable to initialize simple atmosphere: image request failed\", s), this._readyResolver.reject(s);\n    }\n  }\n\n  get coneTechnique() {\n    if (o(this._coneTechnique)) {\n      const e = new U();\n      e.geometry = D.Cone, this._coneTechnique = this._shaderTechniqueRepository.acquire(q, e);\n    }\n\n    return this._coneTechnique;\n  }\n\n  get undergroundTechnique() {\n    if (o(this._undergroundTechnique)) {\n      const e = new U();\n      e.geometry = D.Underground, this._undergroundTechnique = this._shaderTechniqueRepository.acquire(q, e);\n    }\n\n    return this._undergroundTechnique;\n  }\n\n  render(e) {\n    const t = e.bindParameters.camera;\n\n    this._update(t);\n\n    const r = e.rctx;\n\n    if (this._renderData.undergroundFadeAlpha < 1) {\n      const i = r.bindTechnique(this.coneTechnique, this._passParameters, e.bindParameters);\n      i.setUniformMatrix4fv(\"proj\", t.projectionMatrix), i.setUniformMatrix4fv(\"view\", t.viewMatrix), i.setUniform3fv(\"silCircleCenter\", this._renderData.silCircleCenter), i.setUniform3fv(\"silCircleV1\", this._renderData.silCircleV1), i.setUniform3fv(\"silCircleV2\", this._renderData.silCircleV2), i.setUniform2fv(\"texV\", this._renderData.texV), i.setUniform1f(\"altitudeFade\", this._renderData.altitudeFade), i.setUniform1f(\"innerScale\", this._renderData.innerScale), r.bindVAO(this._vao), r.drawArrays(z.TRIANGLES, 0, this._vaoCount);\n    }\n\n    if (this._renderData.undergroundFadeAlpha > 0) {\n      const i = r.bindTechnique(this.undergroundTechnique, this._passParameters, e.bindParameters);\n      i.setUniform1f(\"undergroundFadeAlpha\", this._renderData.undergroundFadeAlpha), i.setUniform3fv(\"cameraPosition\", t.eye), r.bindVAO(this._fadeVao), r.drawArrays(z.TRIANGLE_STRIP, 0, this._fadeVaoCount);\n    }\n  }\n\n  renderHaze() {\n    return !1;\n  }\n\n  _update(e) {\n    const i = y(),\n          s = this.planetRadius,\n          a = _(e.eye),\n          o = a - s;\n\n    if (o < 0) {\n      const e = Math.min(-o / 5e3, 1);\n      this._renderData.undergroundFadeAlpha = e;\n    } else this._renderData.undergroundFadeAlpha = 0;\n\n    const n = Math.max(te, o),\n          h = s + $;\n    this._renderData.innerScale = me(s + n, s, h) - 1, this._renderData.altitudeFade = A(o), g(i, e.eye, (s + te) / a), ae(i, e.center, e.up, s, this._renderData);\n\n    const m = this._computeScreenRimWidth(e, i, e.up, this._renderData),\n          c = re(),\n          l = ie(o);\n\n    let d = this.texV0 + c * this.texVScale,\n        u = this.texV0 + m * l * this.texVScale;\n\n    if (o > te) {\n      ae(e.eye, e.center, e.up, s, this._renderData);\n\n      const i = this._computeScreenRimWidth(e, e.eye, e.up, this._renderData),\n            a = r((i - 1.5) / (m - 1.5), 0, 1);\n\n      d = this.texV0 + a * c * this.texVScale, u = this.texV0 + t(this.texV1, m * l, a) * this.texVScale;\n    }\n\n    p(this._renderData.texV, d, u);\n  }\n\n  _createRibbon(e) {\n    const t = new Float32Array(3 + 3 * Z * 3),\n          r = new Uint32Array(3 * Z * 5);\n    t[0] = 0, t[1] = 0, t[2] = -1;\n\n    for (let a = 0; a < Z; a++) {\n      const e = 9 * a + 3;\n      t[e + 0] = a, t[e + 1] = this.innerRimFactor, t[e + 2] = -1, t[e + 3] = a, t[e + 4] = this.middleRimFactor, t[e + 5] = 0, t[e + 6] = a, t[e + 7] = this.outerRimFactor, t[e + 8] = 1;\n      const i = 3 * a + 1,\n            s = a === Z - 1 ? 1 : i + 3,\n            o = 15 * a;\n      r[o + 0] = i, r[o + 1] = i + 1, r[o + 2] = s + 1, r[o + 3] = s + 1, r[o + 4] = s, r[o + 5] = i, r[o + 6] = i + 1, r[o + 7] = i + 2, r[o + 8] = s + 2, r[o + 9] = s + 2, r[o + 10] = s + 1, r[o + 11] = i + 1, r[o + 12] = i, r[o + 13] = s, r[o + 14] = 0;\n    }\n\n    const i = ce.createBuffer(r.length),\n          s = i.position;\n\n    for (let a = 0; a < r.length; ++a) {\n      const e = 3 * r[a];\n      s.set(a, 0, t[e]), s.set(a, 1, t[e + 1]), s.set(a, 2, t[e + 2]);\n    }\n\n    return new Q(e, O, {\n      geometry: P(ce)\n    }, {\n      geometry: k.createVertex(e, Y.STATIC_DRAW, i.buffer)\n    });\n  }\n\n  _computeScreenRimWidth(e, t, r, i) {\n    return R(ne, i.silCircleCenter, i.silCircleV2), g(he, ne, this.outerRimFactor), d(oe, t, ne, r), L(ne, oe, e.projectionMatrix, e.viewport), L(he, oe, e.projectionMatrix, e.viewport), j(ne, he) / e.height;\n  }\n\n}\n\nfunction ae(e, t, r, i, s) {\n  const a = _(e),\n        o = i * Math.sqrt(a * a - i * i) / a,\n        n = Math.sqrt(i * i - o * o),\n        h = s.silCircleV1,\n        m = s.silCircleV2;\n\n  return g(s.silCircleCenter, e, n / a), x(h, e, t), V(h) < 1 && x(h, e, r), g(h, h, o / _(h)), x(m, h, e), g(m, m, o / _(m)), o;\n}\n\nconst oe = u(),\n      ne = y(),\n      he = y();\n\nfunction me(e, t, r) {\n  return e * e / (Math.sqrt(e * e - t * t) * Math.sqrt(e * e - r * r) + t * r);\n}\n\nconst ce = I().vec3f(W.POSITION);\nexport { se as default };","map":{"version":3,"names":["e","lerp","t","clamp","r","removeMaybe","i","disposeMaybe","s","abortMaybe","a","isNone","o","createResolver","n","throwIfAborted","h","isAbortError","m","watch","c","syncAndInitial","l","d","u","p","f","_","g","R","j","x","V","y","getReferenceEllipsoid","C","isMars","v","requestImage","b","computeInnerAltitudeFade","A","innerAtmosphereDepth","T","S","w","SimpleAtmosphereTechnique","q","SimpleAtmosphereTechniqueConfiguration","U","SimpleAtmosphereGeometry","D","F","makePiecewiseLinearFunction","M","glLayout","P","newLayout","I","Default3D","O","createQuadVAO","E","project","L","VertexAttribute","W","BufferObject","k","PixelFormat","N","PixelType","G","TextureWrapMode","B","TextureSamplingMode","H","PrimitiveType","z","Usage","Y","Texture","J","vertexCount","K","VertexArrayObject","Q","X","getLogger","Z","$","ee","te","re","ie","se","constructor","view","type","_renderData","texV","silCircleCenter","silCircleV1","silCircleV2","altitudeFade","innerScale","undergroundFadeAlpha","_passParameters","_fadeVaoCount","_readyResolver","_readyController","AbortController","texV1","canRender","isOnMars","spatialReference","planetRadius","radius","outerRimWidth","outerAtmosphereRimWidth","innerRimFactor","middleRimFactor","outerRimFactor","texV0","texVScale","destroy","reject","_cameraChangeHandle","texture","_fadeVao","_vao","when","promise","initializeRenderContext","_shaderTechniqueRepository","shaderTechniqueRepository","renderContext","rctx","state","camera","requestRender","_createRibbon","_vaoCount","signal","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","LINEAR","flipped","resolve","error","coneTechnique","_coneTechnique","geometry","Cone","acquire","undergroundTechnique","_undergroundTechnique","Underground","render","bindParameters","_update","bindTechnique","setUniformMatrix4fv","projectionMatrix","viewMatrix","setUniform3fv","setUniform2fv","setUniform1f","bindVAO","drawArrays","TRIANGLES","eye","TRIANGLE_STRIP","renderHaze","Math","min","max","me","ae","center","up","_computeScreenRimWidth","Float32Array","Uint32Array","ce","createBuffer","length","position","set","createVertex","STATIC_DRAW","buffer","ne","he","oe","viewport","height","sqrt","vec3f","POSITION","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/environment/SimpleAtmosphere.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{lerp as t,clamp as r}from\"../../../core/mathUtils.js\";import{removeMaybe as i,disposeMaybe as s,abortMaybe as a,isNone as o}from\"../../../core/maybe.js\";import{createResolver as n,throwIfAborted as h,isAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{n as d}from\"../../../chunks/mat4.js\";import{c as u}from\"../../../chunks/mat4f64.js\";import{a as p}from\"../../../chunks/vec2.js\";import{a as f}from\"../../../chunks/vec2f64.js\";import{l as _,g,a as R,i as j,f as x,p as V}from\"../../../chunks/vec3.js\";import{c as y}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as C}from\"../../../geometry/projectionEllipsoid.js\";import{isMars as v}from\"../../../geometry/support/spatialReferenceUtils.js\";import{requestImage as b}from\"../../../support/requestImageUtils.js\";import{computeInnerAltitudeFade as A,innerAtmosphereDepth as T}from\"./atmosphereUtils.js\";import{S as w}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as q}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as U,SimpleAtmosphereGeometry as D}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import S from\"./resources/MarsAtmosphereTexture.js\";import F from\"./resources/SimpleAtmosphereTexture.js\";import{makePiecewiseLinearFunction as M}from\"../support/mathUtils.js\";import{glLayout as P}from\"../support/buffer/glUtil.js\";import{newLayout as I}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as O}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createQuadVAO as E}from\"../webgl-engine/lib/glUtil3D.js\";import{project as L}from\"../webgl-engine/lib/Util.js\";import{VertexAttribute as W}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as k}from\"../../webgl/BufferObject.js\";import{PixelFormat as N,PixelType as G,TextureWrapMode as B,TextureSamplingMode as H,PrimitiveType as z,Usage as Y}from\"../../webgl/enums.js\";import{Texture as J}from\"../../webgl/Texture.js\";import{vertexCount as K}from\"../../webgl/Util.js\";import{VertexArrayObject as Q}from\"../../webgl/VertexArrayObject.js\";const X=e.getLogger(\"esri.views.3d.environment.SimpleAtmosphere\"),Z=128,$=-T,ee=0,te=50,re=()=>1-511/512,ie=M([[50,.1015625],[500,.21875],[5e3,1-250/512],[5e4,.4140625]]);class se{constructor(e){this.view=e,this.type=\"simple\",this._renderData={texV:f(),silCircleCenter:y(),silCircleV1:y(),silCircleV2:y(),altitudeFade:0,innerScale:0,undergroundFadeAlpha:0},this._passParameters=new w,this._fadeVaoCount=0,this._readyResolver=n(),this._readyController=new AbortController,this.texV1=1,this.canRender=!0,this.isOnMars=v(e.spatialReference);const t=C(e.spatialReference);this.planetRadius=t.radius,this.outerRimWidth=t.outerAtmosphereRimWidth,this.innerRimFactor=(this.planetRadius+$)/this.planetRadius,this.middleRimFactor=(this.planetRadius+ee)/this.planetRadius,this.outerRimFactor=(this.planetRadius+this.outerRimWidth)/this.planetRadius,this.texV0=ee/this.outerRimWidth,this.texVScale=this.texV1-this.texV0}destroy(){this._readyResolver.reject(),this._cameraChangeHandle=i(this._cameraChangeHandle),this._passParameters.texture=s(this._passParameters.texture),this._fadeVao=s(this._fadeVao),this._vao=s(this._vao),this._readyController=a(this._readyController)}when(){return this._readyResolver.promise}async initializeRenderContext(e){this._shaderTechniqueRepository=e.shaderTechniqueRepository;const t=e.renderContext.rctx;this._cameraChangeHandle=c((()=>this.view.state?.camera),(()=>e.requestRender()),l),this._vao=this._createRibbon(t),this._vaoCount=K(this._vao,\"geometry\"),this._fadeVao=E(t),this._fadeVaoCount=K(this._fadeVao,\"geometry\");const r=this.isOnMars?S:F,i=this._readyController.signal;try{const s=await b(r,{signal:i});h(i),this._passParameters.texture=new J(t,{pixelFormat:N.RGBA,dataType:G.UNSIGNED_BYTE,wrapMode:B.CLAMP_TO_EDGE,samplingMode:H.LINEAR,flipped:!0},s),e.requestRender(),this._readyController=null,this._readyResolver.resolve()}catch(s){m(s)||X.error(\"Unable to initialize simple atmosphere: image request failed\",s),this._readyResolver.reject(s)}}get coneTechnique(){if(o(this._coneTechnique)){const e=new U;e.geometry=D.Cone,this._coneTechnique=this._shaderTechniqueRepository.acquire(q,e)}return this._coneTechnique}get undergroundTechnique(){if(o(this._undergroundTechnique)){const e=new U;e.geometry=D.Underground,this._undergroundTechnique=this._shaderTechniqueRepository.acquire(q,e)}return this._undergroundTechnique}render(e){const t=e.bindParameters.camera;this._update(t);const r=e.rctx;if(this._renderData.undergroundFadeAlpha<1){const i=r.bindTechnique(this.coneTechnique,this._passParameters,e.bindParameters);i.setUniformMatrix4fv(\"proj\",t.projectionMatrix),i.setUniformMatrix4fv(\"view\",t.viewMatrix),i.setUniform3fv(\"silCircleCenter\",this._renderData.silCircleCenter),i.setUniform3fv(\"silCircleV1\",this._renderData.silCircleV1),i.setUniform3fv(\"silCircleV2\",this._renderData.silCircleV2),i.setUniform2fv(\"texV\",this._renderData.texV),i.setUniform1f(\"altitudeFade\",this._renderData.altitudeFade),i.setUniform1f(\"innerScale\",this._renderData.innerScale),r.bindVAO(this._vao),r.drawArrays(z.TRIANGLES,0,this._vaoCount)}if(this._renderData.undergroundFadeAlpha>0){const i=r.bindTechnique(this.undergroundTechnique,this._passParameters,e.bindParameters);i.setUniform1f(\"undergroundFadeAlpha\",this._renderData.undergroundFadeAlpha),i.setUniform3fv(\"cameraPosition\",t.eye),r.bindVAO(this._fadeVao),r.drawArrays(z.TRIANGLE_STRIP,0,this._fadeVaoCount)}}renderHaze(){return!1}_update(e){const i=y(),s=this.planetRadius,a=_(e.eye),o=a-s;if(o<0){const e=Math.min(-o/5e3,1);this._renderData.undergroundFadeAlpha=e}else this._renderData.undergroundFadeAlpha=0;const n=Math.max(te,o),h=s+$;this._renderData.innerScale=me(s+n,s,h)-1,this._renderData.altitudeFade=A(o),g(i,e.eye,(s+te)/a),ae(i,e.center,e.up,s,this._renderData);const m=this._computeScreenRimWidth(e,i,e.up,this._renderData),c=re(),l=ie(o);let d=this.texV0+c*this.texVScale,u=this.texV0+m*l*this.texVScale;if(o>te){ae(e.eye,e.center,e.up,s,this._renderData);const i=this._computeScreenRimWidth(e,e.eye,e.up,this._renderData),a=r((i-1.5)/(m-1.5),0,1);d=this.texV0+a*c*this.texVScale,u=this.texV0+t(this.texV1,m*l,a)*this.texVScale}p(this._renderData.texV,d,u)}_createRibbon(e){const t=new Float32Array(3+3*Z*3),r=new Uint32Array(3*Z*5);t[0]=0,t[1]=0,t[2]=-1;for(let a=0;a<Z;a++){const e=9*a+3;t[e+0]=a,t[e+1]=this.innerRimFactor,t[e+2]=-1,t[e+3]=a,t[e+4]=this.middleRimFactor,t[e+5]=0,t[e+6]=a,t[e+7]=this.outerRimFactor,t[e+8]=1;const i=3*a+1,s=a===Z-1?1:i+3,o=15*a;r[o+0]=i,r[o+1]=i+1,r[o+2]=s+1,r[o+3]=s+1,r[o+4]=s,r[o+5]=i,r[o+6]=i+1,r[o+7]=i+2,r[o+8]=s+2,r[o+9]=s+2,r[o+10]=s+1,r[o+11]=i+1,r[o+12]=i,r[o+13]=s,r[o+14]=0}const i=ce.createBuffer(r.length),s=i.position;for(let a=0;a<r.length;++a){const e=3*r[a];s.set(a,0,t[e]),s.set(a,1,t[e+1]),s.set(a,2,t[e+2])}return new Q(e,O,{geometry:P(ce)},{geometry:k.createVertex(e,Y.STATIC_DRAW,i.buffer)})}_computeScreenRimWidth(e,t,r,i){return R(ne,i.silCircleCenter,i.silCircleV2),g(he,ne,this.outerRimFactor),d(oe,t,ne,r),L(ne,oe,e.projectionMatrix,e.viewport),L(he,oe,e.projectionMatrix,e.viewport),j(ne,he)/e.height}}function ae(e,t,r,i,s){const a=_(e),o=i*Math.sqrt(a*a-i*i)/a,n=Math.sqrt(i*i-o*o),h=s.silCircleV1,m=s.silCircleV2;return g(s.silCircleCenter,e,n/a),x(h,e,t),V(h)<1&&x(h,e,r),g(h,h,o/_(h)),x(m,h,e),g(m,m,o/_(m)),o}const oe=u(),ne=y(),he=y();function me(e,t,r){return e*e/(Math.sqrt(e*e-t*t)*Math.sqrt(e*e-r*r)+t*r)}const ce=I().vec3f(W.POSITION);export{se as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}