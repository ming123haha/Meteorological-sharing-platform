{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport has from \"../../../../core/has.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { isNone as s } from \"../../../../core/maybe.js\";\nimport { createMD5Hash as i } from \"../../../../core/MD5.js\";\nimport n from \"../../../../layers/support/AggregateField.js\";\nimport a from \"../../../../layers/support/ExpressionInfo.js\";\nimport t from \"../../../../renderers/support/AuthoringInfo.js\";\nimport l from \"../../../../renderers/visualVariables/SizeVariable.js\";\nimport o from \"../../../../renderers/visualVariables/support/SizeStop.js\";\nimport { LevelDependentSizeVariable as u } from \"../../engine/LevelDependentSizeVariable.js\";\nconst p = r.getLogger(\"esri.views.2d.layers.support.clusterUtils\");\nhas.add(\"esri-cluster-arcade-enabled\", !0);\n\nconst c = has(\"esri-cluster-arcade-enabled\"),\n      d = (e, r, i, n, a) => {\n  const l = r.clone();\n  if (!g(l)) return l;\n\n  if (l.authoringInfo || (l.authoringInfo = new t()), l.authoringInfo.isAutoGenerated = !0, \"visualVariables\" in l) {\n    const r = (l.visualVariables || []).filter(e => \"$view.scale\" !== e.valueExpression),\n          t = f(r);\n    r.forEach(r => {\n      \"rotation\" === r.type ? r.field ? r.field = w(e, r.field, \"avg_angle\", \"number\") : r.valueExpression && (r.field = E(e, r.valueExpression, \"avg_angle\", \"number\"), r.valueExpression = null) : r.normalizationField ? (r.field = w(e, r.field, \"avg_norm\", \"number\", r.normalizationField), r.normalizationField = null) : r.field ? r.field = w(e, r.field, \"avg\", \"number\") : r.valueExpression && (r.field = E(e, r.valueExpression, \"avg\", \"number\"), r.valueExpression = null);\n    }), s(t) && !v(r) && a && (r.push(b(i, n)), l.dynamicClusterSize = !0), l.visualVariables = r;\n  }\n\n  switch (l.type) {\n    case \"simple\":\n      break;\n\n    case \"pie-chart\":\n      for (const r of l.attributes) r.field ? r.field = w(e, r.field, \"sum\", \"number\") : r.valueExpression && (r.field = E(e, r.valueExpression, \"sum\", \"number\"), r.valueExpression = null);\n\n      break;\n\n    case \"unique-value\":\n      l.field ? l.field = w(e, l.field, \"mode\", \"string\") : l.valueExpression && (l.field = E(e, l.valueExpression, \"mode\", \"string\"), l.valueExpression = null);\n      break;\n\n    case \"class-breaks\":\n      l.normalizationField ? (l.field = w(e, l.field, \"avg_norm\", \"number\", l.normalizationField), l.normalizationField = null) : l.field ? l.field = w(e, l.field, \"avg\", \"number\") : l.valueExpression && (l.field = E(e, l.valueExpression, \"avg\", \"number\"), l.valueExpression = null);\n  }\n\n  return l;\n},\n      f = e => {\n  for (const r of e) if (\"size\" === r.type) return r;\n\n  return null;\n};\n\nfunction m(e, r, i) {\n  const n = e.clone();\n  let a = !1;\n\n  if (\"visualVariables\" in n) {\n    const e = (n.visualVariables || []).filter(e => \"$view.scale\" !== e.valueExpression),\n          t = f(e);\n    s(t) && (n.visualVariables || (n.visualVariables = []), n.visualVariables.push(b(r, i)), n.dynamicClusterSize = !0, a = !0);\n  }\n\n  return {\n    renderer: n,\n    didInject: a\n  };\n}\n\nconst v = e => {\n  for (const r of e) if (\"cluster_count\" === r.field) return !0;\n\n  return !1;\n},\n      b = (e, r) => {\n  const i = [new o({\n    value: 0,\n    size: 0\n  }), new o({\n    value: 1\n  })];\n  if (s(r)) return new l({\n    field: \"cluster_count\",\n    stops: [...i, new o({\n      value: 2,\n      size: 0\n    })]\n  });\n  const n = Object.keys(r).reduce((s, n) => ({ ...s,\n    [n]: [...i, new o({\n      value: Math.max(2, r[n].minValue),\n      size: e.clusterMinSize\n    }), new o({\n      value: Math.max(3, r[n].maxValue),\n      size: e.clusterMaxSize\n    })]\n  }), {});\n  return new u({\n    field: \"cluster_count\",\n    levels: n\n  });\n},\n      g = r => {\n  const s = s => p.error(new e(\"Unsupported-renderer\", s, {\n    renderer: r\n  }));\n\n  switch (r.type) {\n    case \"unique-value\":\n      if (r.field2 || r.field3) return s(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"), !1;\n      break;\n\n    case \"class-breaks\":\n      if (r.normalizationField) {\n        const e = r.normalizationType;\n        if (\"field\" !== e) return s(`FeatureReductionCluster does not support a normalizationType of ${e}`), !1;\n        break;\n      }\n\n    case \"simple\":\n    case \"pie-chart\":\n      break;\n\n    default:\n      return s(`FeatureReductionCluster does not support renderers of type ${r.type}`), !1;\n  }\n\n  if (!c) {\n    if (\"valueExpression\" in r && r.valueExpression) return s(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"), !1;\n    if ((\"visualVariables\" in r && r.visualVariables || []).some(e => !(!(\"valueExpression\" in e) || !e.valueExpression))) return s(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"), !1;\n  }\n\n  return !0;\n};\n\nfunction x(e, r, s) {\n  switch (e) {\n    case \"sum\":\n      return `cluster_sum_${r}`;\n\n    case \"avg\":\n    case \"avg_angle\":\n      return `cluster_avg_${r}`;\n\n    case \"mode\":\n      return `cluster_type_${r}`;\n\n    case \"avg_norm\":\n      {\n        const e = s,\n              n = \"field\",\n              a = r.toLowerCase() + \",norm:\" + n + \",\" + e.toLowerCase();\n        return \"cluster_avg_\" + i(a);\n      }\n  }\n}\n\nfunction E(e, r, s, t) {\n  const l = i(r),\n        o = \"mode\" === s ? `cluster_type_${l}` : \"sum\" === s ? `cluster_sum_${l}` : `cluster_avg_${l}`;\n  return e.some(e => e.name === o) || e.push(new n({\n    name: o,\n    isAutoGenerated: !0,\n    onStatisticExpression: new a({\n      expression: r,\n      returnType: t\n    }),\n    statisticType: s\n  })), o;\n}\n\nfunction w(e, r, s, i, t) {\n  if (\"cluster_count\" === r || e.some(e => e.name === r)) return r;\n  const l = x(s, r, t);\n  return e.some(e => e.name === l) || (\"avg_norm\" === s ? e.push(new n({\n    name: l,\n    isAutoGenerated: !0,\n    onStatisticExpression: new a({\n      expression: `$feature.${r} / $feature.${t}`,\n      returnType: i\n    }),\n    statisticType: \"avg\"\n  })) : e.push(new n({\n    name: l,\n    isAutoGenerated: !0,\n    onStatisticField: r,\n    statisticType: s\n  }))), l;\n}\n\nexport { b as createClusterCountSizeVariable, d as createClusterRenderer, f as findSizeVV, v as hasClusterCountVV, m as injectDynamicLevelDependentSizeVisualVariable, g as isClusterCompatibleRenderer };","map":{"version":3,"names":["e","has","r","isNone","s","createMD5Hash","i","n","a","t","l","o","LevelDependentSizeVariable","u","p","getLogger","add","c","d","clone","g","authoringInfo","isAutoGenerated","visualVariables","filter","valueExpression","f","forEach","type","field","w","E","normalizationField","v","push","b","dynamicClusterSize","attributes","m","renderer","didInject","value","size","stops","Object","keys","reduce","Math","max","minValue","clusterMinSize","maxValue","clusterMaxSize","levels","error","field2","field3","normalizationType","some","x","toLowerCase","name","onStatisticExpression","expression","returnType","statisticType","onStatisticField","createClusterCountSizeVariable","createClusterRenderer","findSizeVV","hasClusterCountVV","injectDynamicLevelDependentSizeVisualVariable","isClusterCompatibleRenderer"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import r from\"../../../../core/Logger.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{createMD5Hash as i}from\"../../../../core/MD5.js\";import n from\"../../../../layers/support/AggregateField.js\";import a from\"../../../../layers/support/ExpressionInfo.js\";import t from\"../../../../renderers/support/AuthoringInfo.js\";import l from\"../../../../renderers/visualVariables/SizeVariable.js\";import o from\"../../../../renderers/visualVariables/support/SizeStop.js\";import{LevelDependentSizeVariable as u}from\"../../engine/LevelDependentSizeVariable.js\";const p=r.getLogger(\"esri.views.2d.layers.support.clusterUtils\");has.add(\"esri-cluster-arcade-enabled\",!0);const c=has(\"esri-cluster-arcade-enabled\"),d=(e,r,i,n,a)=>{const l=r.clone();if(!g(l))return l;if(l.authoringInfo||(l.authoringInfo=new t),l.authoringInfo.isAutoGenerated=!0,\"visualVariables\"in l){const r=(l.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression)),t=f(r);r.forEach((r=>{\"rotation\"===r.type?r.field?r.field=w(e,r.field,\"avg_angle\",\"number\"):r.valueExpression&&(r.field=E(e,r.valueExpression,\"avg_angle\",\"number\"),r.valueExpression=null):r.normalizationField?(r.field=w(e,r.field,\"avg_norm\",\"number\",r.normalizationField),r.normalizationField=null):r.field?r.field=w(e,r.field,\"avg\",\"number\"):r.valueExpression&&(r.field=E(e,r.valueExpression,\"avg\",\"number\"),r.valueExpression=null)})),s(t)&&!v(r)&&a&&(r.push(b(i,n)),l.dynamicClusterSize=!0),l.visualVariables=r}switch(l.type){case\"simple\":break;case\"pie-chart\":for(const r of l.attributes)r.field?r.field=w(e,r.field,\"sum\",\"number\"):r.valueExpression&&(r.field=E(e,r.valueExpression,\"sum\",\"number\"),r.valueExpression=null);break;case\"unique-value\":l.field?l.field=w(e,l.field,\"mode\",\"string\"):l.valueExpression&&(l.field=E(e,l.valueExpression,\"mode\",\"string\"),l.valueExpression=null);break;case\"class-breaks\":l.normalizationField?(l.field=w(e,l.field,\"avg_norm\",\"number\",l.normalizationField),l.normalizationField=null):l.field?l.field=w(e,l.field,\"avg\",\"number\"):l.valueExpression&&(l.field=E(e,l.valueExpression,\"avg\",\"number\"),l.valueExpression=null)}return l},f=e=>{for(const r of e)if(\"size\"===r.type)return r;return null};function m(e,r,i){const n=e.clone();let a=!1;if(\"visualVariables\"in n){const e=(n.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression)),t=f(e);s(t)&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.push(b(r,i)),n.dynamicClusterSize=!0,a=!0)}return{renderer:n,didInject:a}}const v=e=>{for(const r of e)if(\"cluster_count\"===r.field)return!0;return!1},b=(e,r)=>{const i=[new o({value:0,size:0}),new o({value:1})];if(s(r))return new l({field:\"cluster_count\",stops:[...i,new o({value:2,size:0})]});const n=Object.keys(r).reduce(((s,n)=>({...s,[n]:[...i,new o({value:Math.max(2,r[n].minValue),size:e.clusterMinSize}),new o({value:Math.max(3,r[n].maxValue),size:e.clusterMaxSize})]})),{});return new u({field:\"cluster_count\",levels:n})},g=r=>{const s=s=>p.error(new e(\"Unsupported-renderer\",s,{renderer:r}));switch(r.type){case\"unique-value\":if(r.field2||r.field3)return s(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"),!1;break;case\"class-breaks\":if(r.normalizationField){const e=r.normalizationType;if(\"field\"!==e)return s(`FeatureReductionCluster does not support a normalizationType of ${e}`),!1;break}case\"simple\":case\"pie-chart\":break;default:return s(`FeatureReductionCluster does not support renderers of type ${r.type}`),!1}if(!c){if(\"valueExpression\"in r&&r.valueExpression)return s(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"),!1;if((\"visualVariables\"in r&&r.visualVariables||[]).some((e=>!(!(\"valueExpression\"in e)||!e.valueExpression))))return s(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"),!1}return!0};function x(e,r,s){switch(e){case\"sum\":return`cluster_sum_${r}`;case\"avg\":case\"avg_angle\":return`cluster_avg_${r}`;case\"mode\":return`cluster_type_${r}`;case\"avg_norm\":{const e=s,n=\"field\",a=r.toLowerCase()+\",norm:\"+n+\",\"+e.toLowerCase();return\"cluster_avg_\"+i(a)}}}function E(e,r,s,t){const l=i(r),o=\"mode\"===s?`cluster_type_${l}`:\"sum\"===s?`cluster_sum_${l}`:`cluster_avg_${l}`;return e.some((e=>e.name===o))||e.push(new n({name:o,isAutoGenerated:!0,onStatisticExpression:new a({expression:r,returnType:t}),statisticType:s})),o}function w(e,r,s,i,t){if(\"cluster_count\"===r||e.some((e=>e.name===r)))return r;const l=x(s,r,t);return e.some((e=>e.name===l))||(\"avg_norm\"===s?e.push(new n({name:l,isAutoGenerated:!0,onStatisticExpression:new a({expression:`$feature.${r} / $feature.${t}`,returnType:i}),statisticType:\"avg\"})):e.push(new n({name:l,isAutoGenerated:!0,onStatisticField:r,statisticType:s}))),l}export{b as createClusterCountSizeVariable,d as createClusterRenderer,f as findSizeVV,v as hasClusterCountVV,m as injectDynamicLevelDependentSizeVisualVariable,g as isClusterCompatibleRenderer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}