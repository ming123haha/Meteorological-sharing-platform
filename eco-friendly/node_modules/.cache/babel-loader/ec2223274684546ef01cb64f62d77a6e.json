{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Graphic.js\";\nimport r from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/PieChartRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport \"../renderers/SimpleRenderer.js\";\nimport \"../renderers/UniqueValueRenderer.js\";\nimport \"../renderers/support/jsonUtils.js\";\nimport { webSceneRendererTypes as s } from \"../renderers/support/types.js\";\nimport i from \"../request.js\";\nimport o from \"../core/Collection.js\";\nimport a from \"../core/Error.js\";\nimport n from \"../core/Logger.js\";\nimport { isSome as p, isNone as l } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as d } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as y, isAbortError as u } from \"../core/promiseUtils.js\";\nimport { whenOnce as c } from \"../core/reactiveUtils.js\";\nimport { join as f } from \"../core/urlUtils.js\";\nimport { property as h } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport { getProperties as m } from \"../core/accessorSupport/utils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { reader as g } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as v } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { OriginId as b } from \"../core/accessorSupport/PropertyOrigin.js\";\nimport I from \"./Layer.js\";\nimport { APIKeyMixin as j } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as w } from \"./mixins/ArcGISService.js\";\nimport { EditBusLayer as L } from \"./mixins/EditBusLayer.js\";\nimport { OperationalLayer as S } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as F } from \"./mixins/PortalLayer.js\";\nimport { ScaleRangeLayer as O } from \"./mixins/ScaleRangeLayer.js\";\nimport { SceneService as T, SaveOperationType as E } from \"./mixins/SceneService.js\";\nimport { zeroCapabilities as P } from \"./support/capabilities.js\";\nimport { elevationInfo as _, labelsVisible as x, legendEnabled as A, popupEnabled as D, screenSizePerspectiveEnabled as U } from \"./support/commonProperties.js\";\nimport { FeatureReduction as R } from \"./support/FeatureReduction.js\";\nimport C from \"./support/FeatureReductionSelection.js\";\nimport { FetchAssociatedFeatureLayer as q } from \"./support/FetchAssociatedFeatureLayer.js\";\nimport { defineFieldProperties as Q } from \"./support/fieldProperties.js\";\nimport N from \"./support/FieldsIndex.js\";\nimport { fixRendererFields as k, unpackFieldNames as G } from \"./support/fieldUtils.js\";\nimport { I3SNodePageDefinition as V, I3SMaterialDefinition as K, I3STextureSetDefinition as M, I3SGeometryDefinition as $ } from \"./support/I3SLayerDefinitions.js\";\nimport W from \"./support/LabelClass.js\";\nimport { reader as z } from \"./support/labelingInfo.js\";\nimport B from \"./support/LayerFloorInfo.js\";\nimport { RangeInfo as H } from \"./support/RangeInfo.js\";\nimport Z from \"./support/SceneFilter.js\";\nimport { loadStyleRenderer as J } from \"../renderers/support/styleUtils.js\";\nimport X from \"../rest/support/Query.js\";\nimport { sceneLayerEditingEnabled as Y } from \"../support/featureFlags.js\";\nimport { createPopupTemplate as ee } from \"../support/popupUtils.js\";\nimport { queryAttributesFromCachedAttributesId as te } from \"../views/3d/layers/i3s/I3SUtil.js\";\nimport { getRequiredFields as re, getFetchPopupTemplate as se } from \"../views/layers/support/popupUtils.js\";\nimport { transparencyToOpacity as ie } from \"../webdoc/support/opacityUtils.js\";\nconst oe = [\"3DObject\", \"Point\"],\n      ae = Q();\nlet ne = class extends L(T(w(S(F(O(d(j(I)))))))) {\n  constructor(...e) {\n    super(...e), this.featureReduction = null, this.rangeInfos = null, this.operationalLayerType = \"ArcGISSceneServiceLayer\", this.type = \"scene\", this.fields = null, this.floorInfo = null, this.outFields = null, this.nodePages = null, this.materialDefinitions = null, this.textureSetDefinitions = null, this.geometryDefinitions = null, this.serviceUpdateTimeStamp = null, this.excludeObjectIds = new o(), this.definitionExpression = null, this.filter = null, this.path = null, this.labelsVisible = !0, this.labelingInfo = null, this.legendEnabled = !0, this.priority = null, this.semantic = null, this.cachedDrawingInfo = {\n      color: !1\n    }, this.popupEnabled = !0, this.popupTemplate = null, this.objectIdField = null, this.globalIdField = null, this._fieldUsageInfo = {}, this.screenSizePerspectiveEnabled = !0;\n  }\n\n  normalizeCtorArgs(e, t) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...t\n    } : e;\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  getFieldDomain(e, t) {\n    const r = this.getFeatureType(t?.feature)?.domains?.[e];\n    return r && \"inherited\" !== r.type ? r : this.getField(e)?.domain ?? null;\n  }\n\n  getFeatureType(e) {\n    return null != e && p(this.associatedLayer) ? this.associatedLayer.getFeatureType(e) : null;\n  }\n\n  get types() {\n    return p(this.associatedLayer) ? this.associatedLayer.types ?? [] : [];\n  }\n\n  get typeIdField() {\n    return p(this.associatedLayer) ? this.associatedLayer.typeIdField : null;\n  }\n\n  get formTemplate() {\n    return p(this.associatedLayer) ? this.associatedLayer.formTemplate : null;\n  }\n\n  get fieldsIndex() {\n    return new N(this.fields);\n  }\n\n  readNodePages(e, t, r) {\n    return \"Point\" === t.layerType && (e = t.pointNodePages), null == e || \"object\" != typeof e ? null : V.fromJSON(e, r);\n  }\n\n  set elevationInfo(e) {\n    this._set(\"elevationInfo\", e), this.loaded && this._validateElevationInfo();\n  }\n\n  get geometryType() {\n    return le[this.profile] || \"mesh\";\n  }\n\n  set renderer(e) {\n    k(e, this.fieldsIndex), this._set(\"renderer\", e);\n  }\n\n  readCachedDrawingInfo(e) {\n    return null != e && \"object\" == typeof e || (e = {}), null == e.color && (e.color = !1), e;\n  }\n\n  get capabilities() {\n    const e = p(this.associatedLayer) && this.associatedLayer.capabilities ? this.associatedLayer.capabilities : P,\n          {\n      query: t,\n      editing: {\n        supportsGlobalId: r,\n        supportsRollbackOnFailure: s,\n        supportsUploadWithItemId: i,\n        supportsReturnServiceEditsInSourceSpatialReference: o\n      },\n      data: {\n        supportsZ: a,\n        supportsM: n,\n        isVersioned: l,\n        supportsAttachment: d\n      },\n      operations: {\n        supportsEditing: y,\n        supportsAdd: u,\n        supportsUpdate: c,\n        supportsDelete: f,\n        supportsQuery: h,\n        supportsQueryAttachments: m\n      }\n    } = e,\n          g = e.operations.supportsChangeTracking,\n          v = Y();\n    return {\n      query: t,\n      editing: {\n        supportsGlobalId: r,\n        supportsReturnServiceEditsInSourceSpatialReference: o,\n        supportsRollbackOnFailure: s,\n        supportsGeometryUpdate: !1,\n        supportsUploadWithItemId: i\n      },\n      data: {\n        supportsAttachment: d,\n        supportsZ: a,\n        supportsM: n,\n        isVersioned: l\n      },\n      operations: {\n        supportsQuery: h,\n        supportsQueryAttachments: m,\n        supportsEditing: y && g,\n        supportsAdd: v && u && g,\n        supportsDelete: v && f && g,\n        supportsUpdate: c && g\n      }\n    };\n  }\n\n  get editingEnabled() {\n    return this._isOverridden(\"editingEnabled\") ? this._get(\"editingEnabled\") : this.userHasEditingPrivileges;\n  }\n\n  set editingEnabled(e) {\n    this._overrideIfSome(\"editingEnabled\", e);\n  }\n\n  get infoFor3D() {\n    return p(this.associatedLayer) ? this.associatedLayer.infoFor3D : null;\n  }\n\n  get defaultPopupTemplate() {\n    return p(this.associatedLayer) || this.attributeStorageInfo ? this.createPopupTemplate() : null;\n  }\n\n  readObjectIdField(e, t) {\n    return !e && t.fields && t.fields.some(t => (\"esriFieldTypeOID\" === t.type && (e = t.name), !!e)), e || void 0;\n  }\n\n  readGlobalIdField(e, t) {\n    return !e && t.fields && t.fields.some(t => (\"esriFieldTypeGlobalID\" === t.type && (e = t.name), !!e)), e || void 0;\n  }\n\n  get displayField() {\n    return p(this.associatedLayer) ? this.associatedLayer.displayField : null;\n  }\n\n  readProfile(e, t) {\n    const r = t.store.profile;\n    return null != r && pe[r] ? pe[r] : (n.getLogger(this.declaredClass).error(\"Unknown or missing profile\", {\n      profile: r,\n      layer: this\n    }), \"mesh-pyramids\");\n  }\n\n  load(e) {\n    const t = p(e) ? e.signal : null,\n          r = this.loadFromPortal({\n      supportedTypes: [\"Scene Service\"]\n    }, e).catch(y).then(() => this._fetchService(t)).then(() => Promise.all([this._fetchIndexAndUpdateExtent(this.nodePages, t), this._setAssociatedFeatureLayer(t), p(this.filter) ? this.filter.loadGeometries(this.spatialReference) : null])).then(() => this._validateElevationInfo()).then(() => this._applyAssociatedLayerOverrides()).then(() => this._populateFieldUsageInfo()).then(() => J(this, {\n      origin: \"service\"\n    }, t)).then(() => k(this.renderer, this.fieldsIndex)).then(() => this.finishLoadEditablePortalLayer(e));\n    return this.addResolvingPromise(r), Promise.resolve(this);\n  }\n\n  async beforeSave() {\n    p(this.filter) && (await this.load());\n  }\n\n  createQuery() {\n    const e = new X();\n    return \"mesh\" !== this.geometryType && (e.returnGeometry = !0, e.returnZ = !0), e.where = this.definitionExpression || \"1=1\", e.sqlFormat = \"standard\", e;\n  }\n\n  queryExtent(e, t) {\n    return this._getAssociatedLayerForQuery().then(r => r.queryExtent(e || this.createQuery(), t));\n  }\n\n  queryFeatureCount(e, t) {\n    return this._getAssociatedLayerForQuery().then(r => r.queryFeatureCount(e || this.createQuery(), t));\n  }\n\n  queryFeatures(e, t) {\n    return this._getAssociatedLayerForQuery().then(r => r.queryFeatures(e || this.createQuery(), t)).then(e => {\n      if (e?.features) for (const t of e.features) t.layer = this, t.sourceLayer = this;\n      return e;\n    });\n  }\n\n  async queryCachedAttributes(e, t) {\n    const r = G(this.fieldsIndex, await re(this, se(this)));\n    return te(this.parsedUrl.path, this.attributeStorageInfo, e, t, r);\n  }\n\n  async queryCachedFeature(e, r) {\n    const s = await this.queryCachedAttributes(e, [r]);\n    if (!s || 0 === s.length) throw new a(\"scenelayer:feature-not-in-cached-data\", \"Feature not found in cached data\");\n    const i = new t();\n    return i.attributes = s[0], i.layer = this, i.sourceLayer = this, i;\n  }\n\n  queryObjectIds(e, t) {\n    return this._getAssociatedLayerForQuery().then(r => r.queryObjectIds(e || this.createQuery(), t));\n  }\n\n  queryAttachments(e, t) {\n    return this._getAssociatedLayerForQuery().then(r => r.queryAttachments(e, t));\n  }\n\n  getFieldUsageInfo(e) {\n    const t = {\n      supportsLabelingInfo: !1,\n      supportsRenderer: !1,\n      supportsPopupTemplate: !1,\n      supportsLayerQuery: !1\n    };\n    return this.loaded ? this._fieldUsageInfo[e] || t : (n.getLogger(this.declaredClass).error(\"#getFieldUsageInfo()\", \"Unavailable until layer is loaded\"), t);\n  }\n\n  createPopupTemplate(e) {\n    return ee(this, e);\n  }\n\n  _getAssociatedLayerForQuery() {\n    const e = this.associatedLayer;\n    return p(e) && e.loaded ? Promise.resolve(e) : this._loadAssociatedLayerForQuery();\n  }\n\n  async _loadAssociatedLayerForQuery() {\n    if (await this.load(), l(this.associatedLayer)) throw new a(\"scenelayer:query-not-available\", \"SceneLayer queries are not available without an associated feature layer\", {\n      layer: this\n    });\n\n    try {\n      await this.associatedLayer.load();\n    } catch (e) {\n      throw new a(\"scenelayer:query-not-available\", \"SceneLayer associated feature layer could not be loaded\", {\n        layer: this,\n        error: e\n      });\n    }\n\n    return this.associatedLayer;\n  }\n\n  hasCachedStatistics(e) {\n    return null != this.statisticsInfo && this.statisticsInfo.some(t => t.name === e);\n  }\n\n  async queryCachedStatistics(e, t) {\n    if (await this.load(t), !this.statisticsInfo) throw new a(\"scenelayer:no-cached-statistics\", \"Cached statistics are not available for this layer\");\n    const r = this.fieldsIndex.get(e);\n    if (!r) throw new a(\"scenelayer:field-unexisting\", `Field '${e}' does not exist on the layer`);\n\n    for (const s of this.statisticsInfo) if (s.name === r.name) {\n      const e = f(this.parsedUrl.path, s.href);\n      return i(e, {\n        query: {\n          f: \"json\",\n          token: this.apiKey\n        },\n        responseType: \"json\",\n        signal: t ? t.signal : null\n      }).then(e => e.data);\n    }\n\n    throw new a(\"scenelayer:no-cached-statistics\", \"Cached statistics for this attribute are not available\");\n  }\n\n  async saveAs(e, t) {\n    return this._debouncedSaveOperations(E.SAVE_AS, { ...t,\n      getTypeKeywords: () => this._getTypeKeywords(),\n      portalItemLayerType: \"scene\"\n    }, e);\n  }\n\n  async save() {\n    const e = {\n      getTypeKeywords: () => this._getTypeKeywords(),\n      portalItemLayerType: \"scene\"\n    };\n    return this._debouncedSaveOperations(E.SAVE, e);\n  }\n\n  async applyEdits(e, t) {\n    const r = await import(\"./graphics/editingSupport.js\");\n    if (await this.load(), l(this.associatedLayer)) throw new a(`${this.type}-layer:not-editable`, \"Service is not editable\");\n    return await this.associatedLayer.load(), r.applyEdits(this, this.associatedLayer.source, e, t);\n  }\n\n  on(e, t) {\n    return super.on(e, t);\n  }\n\n  validateLayer(e) {\n    if (e.layerType && !oe.includes(e.layerType)) throw new a(\"scenelayer:layer-type-not-supported\", \"SceneLayer does not support this layer type\", {\n      layerType: e.layerType\n    });\n    if (isNaN(this.version.major) || isNaN(this.version.minor)) throw new a(\"layer:service-version-not-supported\", \"Service version is not supported.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"1.x, 2.x\"\n    });\n    if (this.version.major > 2) throw new a(\"layer:service-version-too-new\", \"Service version is too new.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"1.x, 2.x\"\n    });\n\n    function t(e, t) {\n      let r = !1,\n          s = !1;\n      if (null == e) r = !0, s = !0;else {\n        const i = t && t.isGeographic;\n\n        switch (e) {\n          case \"east-north-up\":\n          case \"earth-centered\":\n            r = !0, s = i;\n            break;\n\n          case \"vertex-reference-frame\":\n            r = !0, s = !i;\n            break;\n\n          default:\n            r = !1;\n        }\n      }\n      if (!r) throw new a(\"scenelayer:unsupported-normal-reference-frame\", \"Normal reference frame is invalid.\");\n      if (!s) throw new a(\"scenelayer:incompatible-normal-reference-frame\", \"Normal reference frame is incompatible with layer spatial reference.\");\n    }\n\n    t(this.normalReferenceFrame, this.spatialReference);\n  }\n\n  _getTypeKeywords() {\n    const e = [];\n    if (\"points\" === this.profile) e.push(\"Point\");else {\n      if (\"mesh-pyramids\" !== this.profile) throw new a(\"scenelayer:unknown-profile\", \"SceneLayer:save() encountered an unknown SceneLayer profile: \" + this.profile);\n      e.push(\"3DObject\");\n    }\n    return e;\n  }\n\n  _populateFieldUsageInfo() {\n    if (this._fieldUsageInfo = {}, this.fields) for (const e of this.fields) {\n      const t = !(!this.attributeStorageInfo || !this.attributeStorageInfo.some(t => t.name === e.name)),\n            r = !!(p(this.associatedLayer) && this.associatedLayer.fields && this.associatedLayer.fields.some(t => t && e.name === t.name)),\n            s = {\n        supportsLabelingInfo: t,\n        supportsRenderer: t,\n        supportsPopupTemplate: t || r,\n        supportsLayerQuery: r\n      };\n      this._fieldUsageInfo[e.name] = s;\n    }\n  }\n\n  _applyAssociatedLayerOverrides() {\n    this._applyAssociatedLayerFieldsOverrides(), this._applyAssociatedLayerPopupOverrides();\n  }\n\n  _applyAssociatedLayerFieldsOverrides() {\n    if (l(this.associatedLayer) || !this.associatedLayer.fields) return;\n    let e = null;\n\n    for (const t of this.associatedLayer.fields) {\n      const r = this.getField(t.name);\n      r ? (!r.domain && t.domain && (r.domain = t.domain.clone()), r.editable = t.editable, r.nullable = t.nullable, r.length = t.length) : (e || (e = this.fields ? this.fields.slice() : []), e.push(t.clone()));\n    }\n\n    e && this._set(\"fields\", e);\n  }\n\n  _applyAssociatedLayerPopupOverrides() {\n    if (l(this.associatedLayer)) return;\n    const e = [\"popupTemplate\", \"popupEnabled\"],\n          t = m(this);\n\n    for (let r = 0; r < e.length; r++) {\n      const s = e[r],\n            i = this.originIdOf(s),\n            o = this.associatedLayer.originIdOf(s);\n      i < o && (o === b.SERVICE || o === b.PORTAL_ITEM) && t.setAtOrigin(s, this.associatedLayer[s], o);\n    }\n  }\n\n  async _setAssociatedFeatureLayer(e) {\n    if (![\"mesh-pyramids\", \"points\"].includes(this.profile)) return;\n    const t = new q(this.parsedUrl, this.portalItem, this.apiKey, e);\n\n    try {\n      this.associatedLayer = await t.fetch();\n    } catch (r) {\n      u(r) || this._logWarningOnPopupEnabled();\n    }\n  }\n\n  async _logWarningOnPopupEnabled() {\n    await c(() => this.popupEnabled && null != this.popupTemplate);\n    const e = `this SceneLayer: ${this.title}`;\n    null == this.attributeStorageInfo ? n.getLogger(this.declaredClass).warn(`Associated FeatureLayer could not be loaded and no binary attributes found. Popups will not work on ${e}`) : n.getLogger(this.declaredClass).info(`Associated FeatureLayer could not be loaded. Falling back to binary attributes for Popups on ${e}`);\n  }\n\n  _validateElevationInfo() {\n    const e = this.elevationInfo;\n    e && (\"mesh-pyramids\" === this.profile && \"relative-to-scene\" === e.mode && n.getLogger(this.declaredClass).warn(\".elevationInfo=\", \"Mesh scene layers don't support relative-to-scene elevation mode\"), e.featureExpressionInfo && \"0\" !== e.featureExpressionInfo.expression && n.getLogger(this.declaredClass).warn(\".elevationInfo=\", \"Scene layers do not support featureExpressionInfo\"));\n  }\n\n};\ne([h({\n  types: {\n    key: \"type\",\n    base: R,\n    typeMap: {\n      selection: C\n    }\n  },\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.featureReduction\",\n        write: !0\n      },\n      \"portal-item\": {\n        name: \"layerDefinition.featureReduction\",\n        write: !0\n      }\n    }\n  }\n})], ne.prototype, \"featureReduction\", void 0), e([h({\n  type: [H],\n  json: {\n    read: !1,\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.rangeInfos\",\n        write: !0\n      },\n      \"portal-item\": {\n        name: \"layerDefinition.rangeInfos\",\n        write: !0\n      }\n    }\n  }\n})], ne.prototype, \"rangeInfos\", void 0), e([h({\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"associatedLayer\", void 0), e([h({\n  type: [\"show\", \"hide\"]\n})], ne.prototype, \"listMode\", void 0), e([h({\n  type: [\"ArcGISSceneServiceLayer\"]\n})], ne.prototype, \"operationalLayerType\", void 0), e([h({\n  json: {\n    read: !1\n  },\n  readOnly: !0\n})], ne.prototype, \"type\", void 0), e([h({ ...ae.fields,\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], ne.prototype, \"fields\", void 0), e([h()], ne.prototype, \"types\", null), e([h()], ne.prototype, \"typeIdField\", null), e([h()], ne.prototype, \"formTemplate\", null), e([h({\n  readOnly: !0\n})], ne.prototype, \"fieldsIndex\", null), e([h({\n  type: B,\n  json: {\n    read: {\n      source: \"layerDefinition.floorInfo\"\n    },\n    write: {\n      target: \"layerDefinition.floorInfo\"\n    }\n  }\n})], ne.prototype, \"floorInfo\", void 0), e([h(ae.outFields)], ne.prototype, \"outFields\", void 0), e([h({\n  type: V,\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"nodePages\", void 0), e([g(\"service\", \"nodePages\", [\"nodePages\", \"pointNodePages\"])], ne.prototype, \"readNodePages\", null), e([h({\n  type: [K],\n  readOnly: !0\n})], ne.prototype, \"materialDefinitions\", void 0), e([h({\n  type: [M],\n  readOnly: !0\n})], ne.prototype, \"textureSetDefinitions\", void 0), e([h({\n  type: [$],\n  readOnly: !0\n})], ne.prototype, \"geometryDefinitions\", void 0), e([h({\n  readOnly: !0\n})], ne.prototype, \"serviceUpdateTimeStamp\", void 0), e([h({\n  readOnly: !0\n})], ne.prototype, \"attributeStorageInfo\", void 0), e([h({\n  readOnly: !0\n})], ne.prototype, \"statisticsInfo\", void 0), e([h({\n  type: o.ofType(Number),\n  nonNullable: !0,\n  json: {\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    },\n    name: \"layerDefinition.excludeObjectIds\",\n    write: {\n      enabled: !0\n    }\n  }\n})], ne.prototype, \"excludeObjectIds\", void 0), e([h({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    },\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      enabled: !0,\n      allowNull: !0\n    }\n  }\n})], ne.prototype, \"definitionExpression\", void 0), e([h({\n  type: Z,\n  json: {\n    name: \"layerDefinition.polygonFilter\",\n    write: {\n      enabled: !0,\n      allowNull: !0\n    },\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], ne.prototype, \"filter\", void 0), e([h({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    },\n    read: !1\n  }\n})], ne.prototype, \"path\", void 0), e([h(_)], ne.prototype, \"elevationInfo\", null), e([h({\n  type: String\n})], ne.prototype, \"geometryType\", null), e([h(x)], ne.prototype, \"labelsVisible\", void 0), e([h({\n  type: [W],\n  json: {\n    origins: {\n      service: {\n        name: \"drawingInfo.labelingInfo\",\n        read: {\n          reader: z\n        },\n        write: !1\n      }\n    },\n    name: \"layerDefinition.drawingInfo.labelingInfo\",\n    read: {\n      reader: z\n    },\n    write: !0\n  }\n})], ne.prototype, \"labelingInfo\", void 0), e([h(A)], ne.prototype, \"legendEnabled\", void 0), e([h({\n  type: Number,\n  json: {\n    origins: {\n      \"web-document\": {\n        default: 1,\n        write: {\n          enabled: !0,\n          target: {\n            opacity: {\n              type: Number\n            },\n            \"layerDefinition.drawingInfo.transparency\": {\n              type: Number\n            }\n          }\n        },\n        read: {\n          source: [\"opacity\", \"layerDefinition.drawingInfo.transparency\"],\n\n          reader(e, t) {\n            if (\"number\" == typeof e && e >= 0 && e <= 1) return e;\n            const r = t.layerDefinition?.drawingInfo?.transparency;\n            return void 0 !== r ? ie(r) : void 0;\n          }\n\n        }\n      },\n      \"portal-item\": {\n        write: !0\n      },\n      service: {\n        read: !1\n      }\n    }\n  }\n})], ne.prototype, \"opacity\", void 0), e([h({\n  type: [\"Low\", \"High\"],\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], ne.prototype, \"priority\", void 0), e([h({\n  type: [\"Labels\"],\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], ne.prototype, \"semantic\", void 0), e([h({\n  types: s,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"drawingInfo.renderer\"\n        }\n      }\n    },\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: !0\n  },\n  value: null\n})], ne.prototype, \"renderer\", null), e([h({\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"cachedDrawingInfo\", void 0), e([g(\"service\", \"cachedDrawingInfo\")], ne.prototype, \"readCachedDrawingInfo\", null), e([h({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"capabilities\", null), e([h({\n  type: Boolean,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"editingEnabled\", null), e([h({\n  readOnly: !0,\n  json: {\n    write: !1,\n    read: !1\n  }\n})], ne.prototype, \"infoFor3D\", null), e([h(D)], ne.prototype, \"popupEnabled\", void 0), e([h({\n  type: r,\n  json: {\n    name: \"popupInfo\",\n    write: !0\n  }\n})], ne.prototype, \"popupTemplate\", void 0), e([h({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"defaultPopupTemplate\", null), e([h({\n  type: String,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"objectIdField\", void 0), e([g(\"service\", \"objectIdField\", [\"objectIdField\", \"fields\"])], ne.prototype, \"readObjectIdField\", null), e([h({\n  type: String,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"globalIdField\", void 0), e([g(\"service\", \"globalIdField\", [\"globalIdField\", \"fields\"])], ne.prototype, \"readGlobalIdField\", null), e([h({\n  readOnly: !0,\n  type: String,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"displayField\", null), e([h({\n  type: String,\n  json: {\n    read: !1\n  }\n})], ne.prototype, \"profile\", void 0), e([g(\"service\", \"profile\", [\"store.profile\"])], ne.prototype, \"readProfile\", null), e([h({\n  readOnly: !0,\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"store.normalReferenceFrame\"\n        }\n      }\n    },\n    read: !1\n  }\n})], ne.prototype, \"normalReferenceFrame\", void 0), e([h(U)], ne.prototype, \"screenSizePerspectiveEnabled\", void 0), ne = e([v(\"esri.layers.SceneLayer\")], ne);\nconst pe = {\n  \"mesh-pyramids\": \"mesh-pyramids\",\n  meshpyramids: \"mesh-pyramids\",\n  \"features-meshes\": \"mesh-pyramids\",\n  points: \"points\",\n  \"features-points\": \"points\",\n  lines: \"lines\",\n  \"features-lines\": \"lines\",\n  polygons: \"polygons\",\n  \"features-polygons\": \"polygons\"\n},\n      le = {\n  \"mesh-pyramids\": \"mesh\",\n  points: \"point\",\n  lines: \"polyline\",\n  polygons: \"polygon\"\n},\n      de = ne;\nexport { de as default };","map":{"version":3,"names":["_","e","t","r","webSceneRendererTypes","s","i","o","a","n","isSome","p","isNone","l","MultiOriginJSONMixin","d","throwIfAbortError","y","isAbortError","u","whenOnce","c","join","f","property","h","getProperties","m","reader","g","subclass","v","OriginId","b","I","APIKeyMixin","j","ArcGISService","w","EditBusLayer","L","OperationalLayer","S","PortalLayer","F","ScaleRangeLayer","O","SceneService","T","SaveOperationType","E","zeroCapabilities","P","elevationInfo","labelsVisible","x","legendEnabled","A","popupEnabled","D","screenSizePerspectiveEnabled","U","FeatureReduction","R","C","FetchAssociatedFeatureLayer","q","defineFieldProperties","Q","N","fixRendererFields","k","unpackFieldNames","G","I3SNodePageDefinition","V","I3SMaterialDefinition","K","I3STextureSetDefinition","M","I3SGeometryDefinition","$","W","z","B","RangeInfo","H","Z","loadStyleRenderer","J","X","sceneLayerEditingEnabled","Y","createPopupTemplate","ee","queryAttributesFromCachedAttributesId","te","getRequiredFields","re","getFetchPopupTemplate","se","transparencyToOpacity","ie","oe","ae","ne","constructor","featureReduction","rangeInfos","operationalLayerType","type","fields","floorInfo","outFields","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","excludeObjectIds","definitionExpression","filter","path","labelingInfo","priority","semantic","cachedDrawingInfo","color","popupTemplate","objectIdField","globalIdField","_fieldUsageInfo","normalizeCtorArgs","url","getField","fieldsIndex","get","getFieldDomain","getFeatureType","feature","domains","domain","associatedLayer","types","typeIdField","formTemplate","readNodePages","layerType","pointNodePages","fromJSON","_set","loaded","_validateElevationInfo","geometryType","le","profile","renderer","readCachedDrawingInfo","capabilities","query","editing","supportsGlobalId","supportsRollbackOnFailure","supportsUploadWithItemId","supportsReturnServiceEditsInSourceSpatialReference","data","supportsZ","supportsM","isVersioned","supportsAttachment","operations","supportsEditing","supportsAdd","supportsUpdate","supportsDelete","supportsQuery","supportsQueryAttachments","supportsChangeTracking","supportsGeometryUpdate","editingEnabled","_isOverridden","_get","userHasEditingPrivileges","_overrideIfSome","infoFor3D","defaultPopupTemplate","attributeStorageInfo","readObjectIdField","some","name","readGlobalIdField","displayField","readProfile","store","pe","getLogger","declaredClass","error","layer","load","signal","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","all","_fetchIndexAndUpdateExtent","_setAssociatedFeatureLayer","loadGeometries","spatialReference","_applyAssociatedLayerOverrides","_populateFieldUsageInfo","origin","finishLoadEditablePortalLayer","addResolvingPromise","resolve","beforeSave","createQuery","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","queryCachedAttributes","parsedUrl","queryCachedFeature","length","attributes","queryObjectIds","queryAttachments","getFieldUsageInfo","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","_loadAssociatedLayerForQuery","hasCachedStatistics","statisticsInfo","queryCachedStatistics","href","token","apiKey","responseType","saveAs","_debouncedSaveOperations","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","save","SAVE","applyEdits","source","on","validateLayer","includes","isNaN","version","major","minor","serviceVersion","versionString","supportedVersions","isGeographic","normalReferenceFrame","push","_applyAssociatedLayerFieldsOverrides","_applyAssociatedLayerPopupOverrides","clone","editable","nullable","slice","originIdOf","SERVICE","PORTAL_ITEM","setAtOrigin","portalItem","fetch","_logWarningOnPopupEnabled","title","warn","info","mode","featureExpressionInfo","expression","key","base","typeMap","selection","json","origins","write","prototype","read","readOnly","service","target","ofType","Number","nonNullable","enabled","String","allowNull","default","opacity","layerDefinition","drawingInfo","transparency","value","Boolean","meshpyramids","points","lines","polygons","de"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/SceneLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Graphic.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{webSceneRendererTypes as s}from\"../renderers/support/types.js\";import i from\"../request.js\";import o from\"../core/Collection.js\";import a from\"../core/Error.js\";import n from\"../core/Logger.js\";import{isSome as p,isNone as l}from\"../core/maybe.js\";import{MultiOriginJSONMixin as d}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as y,isAbortError as u}from\"../core/promiseUtils.js\";import{whenOnce as c}from\"../core/reactiveUtils.js\";import{join as f}from\"../core/urlUtils.js\";import{property as h}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{getProperties as m}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as g}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as v}from\"../core/accessorSupport/decorators/subclass.js\";import{OriginId as b}from\"../core/accessorSupport/PropertyOrigin.js\";import I from\"./Layer.js\";import{APIKeyMixin as j}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as w}from\"./mixins/ArcGISService.js\";import{EditBusLayer as L}from\"./mixins/EditBusLayer.js\";import{OperationalLayer as S}from\"./mixins/OperationalLayer.js\";import{PortalLayer as F}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as T,SaveOperationType as E}from\"./mixins/SceneService.js\";import{zeroCapabilities as P}from\"./support/capabilities.js\";import{elevationInfo as _,labelsVisible as x,legendEnabled as A,popupEnabled as D,screenSizePerspectiveEnabled as U}from\"./support/commonProperties.js\";import{FeatureReduction as R}from\"./support/FeatureReduction.js\";import C from\"./support/FeatureReductionSelection.js\";import{FetchAssociatedFeatureLayer as q}from\"./support/FetchAssociatedFeatureLayer.js\";import{defineFieldProperties as Q}from\"./support/fieldProperties.js\";import N from\"./support/FieldsIndex.js\";import{fixRendererFields as k,unpackFieldNames as G}from\"./support/fieldUtils.js\";import{I3SNodePageDefinition as V,I3SMaterialDefinition as K,I3STextureSetDefinition as M,I3SGeometryDefinition as $}from\"./support/I3SLayerDefinitions.js\";import W from\"./support/LabelClass.js\";import{reader as z}from\"./support/labelingInfo.js\";import B from\"./support/LayerFloorInfo.js\";import{RangeInfo as H}from\"./support/RangeInfo.js\";import Z from\"./support/SceneFilter.js\";import{loadStyleRenderer as J}from\"../renderers/support/styleUtils.js\";import X from\"../rest/support/Query.js\";import{sceneLayerEditingEnabled as Y}from\"../support/featureFlags.js\";import{createPopupTemplate as ee}from\"../support/popupUtils.js\";import{queryAttributesFromCachedAttributesId as te}from\"../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as re,getFetchPopupTemplate as se}from\"../views/layers/support/popupUtils.js\";import{transparencyToOpacity as ie}from\"../webdoc/support/opacityUtils.js\";const oe=[\"3DObject\",\"Point\"],ae=Q();let ne=class extends(L(T(w(S(F(O(d(j(I))))))))){constructor(...e){super(...e),this.featureReduction=null,this.rangeInfos=null,this.operationalLayerType=\"ArcGISSceneServiceLayer\",this.type=\"scene\",this.fields=null,this.floorInfo=null,this.outFields=null,this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.excludeObjectIds=new o,this.definitionExpression=null,this.filter=null,this.path=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.priority=null,this.semantic=null,this.cachedDrawingInfo={color:!1},this.popupEnabled=!0,this.popupTemplate=null,this.objectIdField=null,this.globalIdField=null,this._fieldUsageInfo={},this.screenSizePerspectiveEnabled=!0}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getFeatureType(t?.feature)?.domains?.[e];return r&&\"inherited\"!==r.type?r:this.getField(e)?.domain??null}getFeatureType(e){return null!=e&&p(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return p(this.associatedLayer)?this.associatedLayer.types??[]:[]}get typeIdField(){return p(this.associatedLayer)?this.associatedLayer.typeIdField:null}get formTemplate(){return p(this.associatedLayer)?this.associatedLayer.formTemplate:null}get fieldsIndex(){return new N(this.fields)}readNodePages(e,t,r){return\"Point\"===t.layerType&&(e=t.pointNodePages),null==e||\"object\"!=typeof e?null:V.fromJSON(e,r)}set elevationInfo(e){this._set(\"elevationInfo\",e),this.loaded&&this._validateElevationInfo()}get geometryType(){return le[this.profile]||\"mesh\"}set renderer(e){k(e,this.fieldsIndex),this._set(\"renderer\",e)}readCachedDrawingInfo(e){return null!=e&&\"object\"==typeof e||(e={}),null==e.color&&(e.color=!1),e}get capabilities(){const e=p(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:P,{query:t,editing:{supportsGlobalId:r,supportsRollbackOnFailure:s,supportsUploadWithItemId:i,supportsReturnServiceEditsInSourceSpatialReference:o},data:{supportsZ:a,supportsM:n,isVersioned:l,supportsAttachment:d},operations:{supportsEditing:y,supportsAdd:u,supportsUpdate:c,supportsDelete:f,supportsQuery:h,supportsQueryAttachments:m}}=e,g=e.operations.supportsChangeTracking,v=Y();return{query:t,editing:{supportsGlobalId:r,supportsReturnServiceEditsInSourceSpatialReference:o,supportsRollbackOnFailure:s,supportsGeometryUpdate:!1,supportsUploadWithItemId:i},data:{supportsAttachment:d,supportsZ:a,supportsM:n,isVersioned:l},operations:{supportsQuery:h,supportsQueryAttachments:m,supportsEditing:y&&g,supportsAdd:v&&u&&g,supportsDelete:v&&f&&g,supportsUpdate:c&&g}}}get editingEnabled(){return this._isOverridden(\"editingEnabled\")?this._get(\"editingEnabled\"):this.userHasEditingPrivileges}set editingEnabled(e){this._overrideIfSome(\"editingEnabled\",e)}get infoFor3D(){return p(this.associatedLayer)?this.associatedLayer.infoFor3D:null}get defaultPopupTemplate(){return p(this.associatedLayer)||this.attributeStorageInfo?this.createPopupTemplate():null}readObjectIdField(e,t){return!e&&t.fields&&t.fields.some((t=>(\"esriFieldTypeOID\"===t.type&&(e=t.name),!!e))),e||void 0}readGlobalIdField(e,t){return!e&&t.fields&&t.fields.some((t=>(\"esriFieldTypeGlobalID\"===t.type&&(e=t.name),!!e))),e||void 0}get displayField(){return p(this.associatedLayer)?this.associatedLayer.displayField:null}readProfile(e,t){const r=t.store.profile;return null!=r&&pe[r]?pe[r]:(n.getLogger(this.declaredClass).error(\"Unknown or missing profile\",{profile:r,layer:this}),\"mesh-pyramids\")}load(e){const t=p(e)?e.signal:null,r=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(y).then((()=>this._fetchService(t))).then((()=>Promise.all([this._fetchIndexAndUpdateExtent(this.nodePages,t),this._setAssociatedFeatureLayer(t),p(this.filter)?this.filter.loadGeometries(this.spatialReference):null]))).then((()=>this._validateElevationInfo())).then((()=>this._applyAssociatedLayerOverrides())).then((()=>this._populateFieldUsageInfo())).then((()=>J(this,{origin:\"service\"},t))).then((()=>k(this.renderer,this.fieldsIndex))).then((()=>this.finishLoadEditablePortalLayer(e)));return this.addResolvingPromise(r),Promise.resolve(this)}async beforeSave(){p(this.filter)&&await this.load()}createQuery(){const e=new X;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this,t.sourceLayer=this;return e}))}async queryCachedAttributes(e,t){const r=G(this.fieldsIndex,await re(this,se(this)));return te(this.parsedUrl.path,this.attributeStorageInfo,e,t,r)}async queryCachedFeature(e,r){const s=await this.queryCachedAttributes(e,[r]);if(!s||0===s.length)throw new a(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");const i=new t;return i.attributes=s[0],i.layer=this,i.sourceLayer=this,i}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}queryAttachments(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryAttachments(e,t)))}getFieldUsageInfo(e){const t={supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1};return this.loaded?this._fieldUsageInfo[e]||t:(n.getLogger(this.declaredClass).error(\"#getFieldUsageInfo()\",\"Unavailable until layer is loaded\"),t)}createPopupTemplate(e){return ee(this,e)}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return p(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),l(this.associatedLayer))throw new a(\"scenelayer:query-not-available\",\"SceneLayer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new a(\"scenelayer:query-not-available\",\"SceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}hasCachedStatistics(e){return null!=this.statisticsInfo&&this.statisticsInfo.some((t=>t.name===e))}async queryCachedStatistics(e,t){if(await this.load(t),!this.statisticsInfo)throw new a(\"scenelayer:no-cached-statistics\",\"Cached statistics are not available for this layer\");const r=this.fieldsIndex.get(e);if(!r)throw new a(\"scenelayer:field-unexisting\",`Field '${e}' does not exist on the layer`);for(const s of this.statisticsInfo)if(s.name===r.name){const e=f(this.parsedUrl.path,s.href);return i(e,{query:{f:\"json\",token:this.apiKey},responseType:\"json\",signal:t?t.signal:null}).then((e=>e.data))}throw new a(\"scenelayer:no-cached-statistics\",\"Cached statistics for this attribute are not available\")}async saveAs(e,t){return this._debouncedSaveOperations(E.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"scene\"};return this._debouncedSaveOperations(E.SAVE,e)}async applyEdits(e,t){const r=await import(\"./graphics/editingSupport.js\");if(await this.load(),l(this.associatedLayer))throw new a(`${this.type}-layer:not-editable`,\"Service is not editable\");return await this.associatedLayer.load(),r.applyEdits(this,this.associatedLayer.source,e,t)}on(e,t){return super.on(e,t)}validateLayer(e){if(e.layerType&&!oe.includes(e.layerType))throw new a(\"scenelayer:layer-type-not-supported\",\"SceneLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new a(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x, 2.x\"});if(this.version.major>2)throw new a(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x, 2.x\"});function t(e,t){let r=!1,s=!1;if(null==e)r=!0,s=!0;else{const i=t&&t.isGeographic;switch(e){case\"east-north-up\":case\"earth-centered\":r=!0,s=i;break;case\"vertex-reference-frame\":r=!0,s=!i;break;default:r=!1}}if(!r)throw new a(\"scenelayer:unsupported-normal-reference-frame\",\"Normal reference frame is invalid.\");if(!s)throw new a(\"scenelayer:incompatible-normal-reference-frame\",\"Normal reference frame is incompatible with layer spatial reference.\")}t(this.normalReferenceFrame,this.spatialReference)}_getTypeKeywords(){const e=[];if(\"points\"===this.profile)e.push(\"Point\");else{if(\"mesh-pyramids\"!==this.profile)throw new a(\"scenelayer:unknown-profile\",\"SceneLayer:save() encountered an unknown SceneLayer profile: \"+this.profile);e.push(\"3DObject\")}return e}_populateFieldUsageInfo(){if(this._fieldUsageInfo={},this.fields)for(const e of this.fields){const t=!(!this.attributeStorageInfo||!this.attributeStorageInfo.some((t=>t.name===e.name))),r=!!(p(this.associatedLayer)&&this.associatedLayer.fields&&this.associatedLayer.fields.some((t=>t&&e.name===t.name))),s={supportsLabelingInfo:t,supportsRenderer:t,supportsPopupTemplate:t||r,supportsLayerQuery:r};this._fieldUsageInfo[e.name]=s}}_applyAssociatedLayerOverrides(){this._applyAssociatedLayerFieldsOverrides(),this._applyAssociatedLayerPopupOverrides()}_applyAssociatedLayerFieldsOverrides(){if(l(this.associatedLayer)||!this.associatedLayer.fields)return;let e=null;for(const t of this.associatedLayer.fields){const r=this.getField(t.name);r?(!r.domain&&t.domain&&(r.domain=t.domain.clone()),r.editable=t.editable,r.nullable=t.nullable,r.length=t.length):(e||(e=this.fields?this.fields.slice():[]),e.push(t.clone()))}e&&this._set(\"fields\",e)}_applyAssociatedLayerPopupOverrides(){if(l(this.associatedLayer))return;const e=[\"popupTemplate\",\"popupEnabled\"],t=m(this);for(let r=0;r<e.length;r++){const s=e[r],i=this.originIdOf(s),o=this.associatedLayer.originIdOf(s);i<o&&(o===b.SERVICE||o===b.PORTAL_ITEM)&&t.setAtOrigin(s,this.associatedLayer[s],o)}}async _setAssociatedFeatureLayer(e){if(![\"mesh-pyramids\",\"points\"].includes(this.profile))return;const t=new q(this.parsedUrl,this.portalItem,this.apiKey,e);try{this.associatedLayer=await t.fetch()}catch(r){u(r)||this._logWarningOnPopupEnabled()}}async _logWarningOnPopupEnabled(){await c((()=>this.popupEnabled&&null!=this.popupTemplate));const e=`this SceneLayer: ${this.title}`;null==this.attributeStorageInfo?n.getLogger(this.declaredClass).warn(`Associated FeatureLayer could not be loaded and no binary attributes found. Popups will not work on ${e}`):n.getLogger(this.declaredClass).info(`Associated FeatureLayer could not be loaded. Falling back to binary attributes for Popups on ${e}`)}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"mesh-pyramids\"===this.profile&&\"relative-to-scene\"===e.mode&&n.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Mesh scene layers don't support relative-to-scene elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&n.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Scene layers do not support featureExpressionInfo\"))}};e([h({types:{key:\"type\",base:R,typeMap:{selection:C}},json:{origins:{\"web-scene\":{name:\"layerDefinition.featureReduction\",write:!0},\"portal-item\":{name:\"layerDefinition.featureReduction\",write:!0}}}})],ne.prototype,\"featureReduction\",void 0),e([h({type:[H],json:{read:!1,origins:{\"web-scene\":{name:\"layerDefinition.rangeInfos\",write:!0},\"portal-item\":{name:\"layerDefinition.rangeInfos\",write:!0}}}})],ne.prototype,\"rangeInfos\",void 0),e([h({json:{read:!1}})],ne.prototype,\"associatedLayer\",void 0),e([h({type:[\"show\",\"hide\"]})],ne.prototype,\"listMode\",void 0),e([h({type:[\"ArcGISSceneServiceLayer\"]})],ne.prototype,\"operationalLayerType\",void 0),e([h({json:{read:!1},readOnly:!0})],ne.prototype,\"type\",void 0),e([h({...ae.fields,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ne.prototype,\"fields\",void 0),e([h()],ne.prototype,\"types\",null),e([h()],ne.prototype,\"typeIdField\",null),e([h()],ne.prototype,\"formTemplate\",null),e([h({readOnly:!0})],ne.prototype,\"fieldsIndex\",null),e([h({type:B,json:{read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\"}}})],ne.prototype,\"floorInfo\",void 0),e([h(ae.outFields)],ne.prototype,\"outFields\",void 0),e([h({type:V,readOnly:!0,json:{read:!1}})],ne.prototype,\"nodePages\",void 0),e([g(\"service\",\"nodePages\",[\"nodePages\",\"pointNodePages\"])],ne.prototype,\"readNodePages\",null),e([h({type:[K],readOnly:!0})],ne.prototype,\"materialDefinitions\",void 0),e([h({type:[M],readOnly:!0})],ne.prototype,\"textureSetDefinitions\",void 0),e([h({type:[$],readOnly:!0})],ne.prototype,\"geometryDefinitions\",void 0),e([h({readOnly:!0})],ne.prototype,\"serviceUpdateTimeStamp\",void 0),e([h({readOnly:!0})],ne.prototype,\"attributeStorageInfo\",void 0),e([h({readOnly:!0})],ne.prototype,\"statisticsInfo\",void 0),e([h({type:o.ofType(Number),nonNullable:!0,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.excludeObjectIds\",write:{enabled:!0}}})],ne.prototype,\"excludeObjectIds\",void 0),e([h({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],ne.prototype,\"definitionExpression\",void 0),e([h({type:Z,json:{name:\"layerDefinition.polygonFilter\",write:{enabled:!0,allowNull:!0},origins:{service:{read:!1,write:!1}}}})],ne.prototype,\"filter\",void 0),e([h({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],ne.prototype,\"path\",void 0),e([h(_)],ne.prototype,\"elevationInfo\",null),e([h({type:String})],ne.prototype,\"geometryType\",null),e([h(x)],ne.prototype,\"labelsVisible\",void 0),e([h({type:[W],json:{origins:{service:{name:\"drawingInfo.labelingInfo\",read:{reader:z},write:!1}},name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:z},write:!0}})],ne.prototype,\"labelingInfo\",void 0),e([h(A)],ne.prototype,\"legendEnabled\",void 0),e([h({type:Number,json:{origins:{\"web-document\":{default:1,write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}},read:{source:[\"opacity\",\"layerDefinition.drawingInfo.transparency\"],reader(e,t){if(\"number\"==typeof e&&e>=0&&e<=1)return e;const r=t.layerDefinition?.drawingInfo?.transparency;return void 0!==r?ie(r):void 0}}},\"portal-item\":{write:!0},service:{read:!1}}}})],ne.prototype,\"opacity\",void 0),e([h({type:[\"Low\",\"High\"],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ne.prototype,\"priority\",void 0),e([h({type:[\"Labels\"],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],ne.prototype,\"semantic\",void 0),e([h({types:s,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],ne.prototype,\"renderer\",null),e([h({json:{read:!1}})],ne.prototype,\"cachedDrawingInfo\",void 0),e([g(\"service\",\"cachedDrawingInfo\")],ne.prototype,\"readCachedDrawingInfo\",null),e([h({readOnly:!0,json:{read:!1}})],ne.prototype,\"capabilities\",null),e([h({type:Boolean,json:{read:!1}})],ne.prototype,\"editingEnabled\",null),e([h({readOnly:!0,json:{write:!1,read:!1}})],ne.prototype,\"infoFor3D\",null),e([h(D)],ne.prototype,\"popupEnabled\",void 0),e([h({type:r,json:{name:\"popupInfo\",write:!0}})],ne.prototype,\"popupTemplate\",void 0),e([h({readOnly:!0,json:{read:!1}})],ne.prototype,\"defaultPopupTemplate\",null),e([h({type:String,json:{read:!1}})],ne.prototype,\"objectIdField\",void 0),e([g(\"service\",\"objectIdField\",[\"objectIdField\",\"fields\"])],ne.prototype,\"readObjectIdField\",null),e([h({type:String,json:{read:!1}})],ne.prototype,\"globalIdField\",void 0),e([g(\"service\",\"globalIdField\",[\"globalIdField\",\"fields\"])],ne.prototype,\"readGlobalIdField\",null),e([h({readOnly:!0,type:String,json:{read:!1}})],ne.prototype,\"displayField\",null),e([h({type:String,json:{read:!1}})],ne.prototype,\"profile\",void 0),e([g(\"service\",\"profile\",[\"store.profile\"])],ne.prototype,\"readProfile\",null),e([h({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],ne.prototype,\"normalReferenceFrame\",void 0),e([h(U)],ne.prototype,\"screenSizePerspectiveEnabled\",void 0),ne=e([v(\"esri.layers.SceneLayer\")],ne);const pe={\"mesh-pyramids\":\"mesh-pyramids\",meshpyramids:\"mesh-pyramids\",\"features-meshes\":\"mesh-pyramids\",points:\"points\",\"features-points\":\"points\",lines:\"lines\",\"features-lines\":\"lines\",polygons:\"polygons\",\"features-polygons\":\"polygons\"},le={\"mesh-pyramids\":\"mesh\",points:\"point\",lines:\"polyline\",polygons:\"polygon\"},de=ne;export{de as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}