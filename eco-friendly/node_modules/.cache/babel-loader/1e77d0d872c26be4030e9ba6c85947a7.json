{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { HandleOwner as r } from \"../../../../core/HandleOwner.js\";\nimport { destroyHandle as t } from \"../../../../core/handleUtils.js\";\nimport { abortMaybe as o, isNone as s } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js\";\nimport { SceneLayerSnappingSourceWorkerHandle as d } from \"./sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js\";\nlet c = class extends r {\n  constructor(e) {\n    super(e), this.availability = 1, this.abortController = new AbortController();\n  }\n\n  get updating() {\n    return this.updatingHandles.updating;\n  }\n\n  get layer() {\n    return this.layerSource.layer;\n  }\n\n  destroy() {\n    this.abortController = o(this.abortController);\n  }\n\n  initialize() {\n    const e = this.view.resourceController;\n    this.edgeWorker = new n(r => e.schedule(r)), this.workerHandle = new d({\n      view: this.view,\n      schedule: r => e.schedule(r),\n      fetchEdgeLocations: async (e, r) => {\n        if (s(this.tracker)) throw new Error(\"tracker-not-initialized\");\n        return this.tracker.fetchEdgeLocations(e, this.edgeWorker, r);\n      }\n    }), this.updatingHandles.addPromise(this._setupLayerView()), this.handles.add([t(this.workerHandle), t(this.edgeWorker)]);\n  }\n\n  async fetchCandidates(e, r) {\n    return this.workerHandle.fetchCandidates(e, r);\n  }\n\n  refresh() {}\n\n  async _setupLayerView() {\n    const e = await this.view.whenLayerView(this.layer);\n    if (\"scene-layer-graphics-3d\" === e.type) return;\n    const r = {\n      add: (e, r) => this.updatingHandles.addPromise(this.workerHandle.add({\n        id: e,\n        bounds: r\n      }, this.abortController.signal)),\n      remove: e => this.updatingHandles.addPromise(this.workerHandle.remove({\n        id: e\n      }, this.abortController.signal))\n    };\n    this.tracker = e.trackSnappingSources(r), this.handles.add(this.tracker);\n  }\n\n};\ne([i({\n  constructOnly: !0\n})], c.prototype, \"layerSource\", void 0), e([i({\n  constructOnly: !0\n})], c.prototype, \"view\", void 0), e([i({\n  readOnly: !0\n})], c.prototype, \"updating\", null), e([i({\n  readOnly: !0\n})], c.prototype, \"availability\", void 0), c = e([a(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")], c);\nexport { c as SceneLayerSnappingSource };","map":{"version":3,"names":["_","e","HandleOwner","r","destroyHandle","t","abortMaybe","o","isNone","s","property","i","subclass","a","n","SceneLayerSnappingSourceWorkerHandle","d","c","constructor","availability","abortController","AbortController","updating","updatingHandles","layer","layerSource","destroy","initialize","view","resourceController","edgeWorker","schedule","workerHandle","fetchEdgeLocations","tracker","Error","addPromise","_setupLayerView","handles","add","fetchCandidates","refresh","whenLayerView","type","id","bounds","signal","remove","trackSnappingSources","constructOnly","prototype","readOnly","SceneLayerSnappingSource"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{abortMaybe as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js\";import{SceneLayerSnappingSourceWorkerHandle as d}from\"./sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js\";let c=class extends r{constructor(e){super(e),this.availability=1,this.abortController=new AbortController}get updating(){return this.updatingHandles.updating}get layer(){return this.layerSource.layer}destroy(){this.abortController=o(this.abortController)}initialize(){const e=this.view.resourceController;this.edgeWorker=new n((r=>e.schedule(r))),this.workerHandle=new d({view:this.view,schedule:r=>e.schedule(r),fetchEdgeLocations:async(e,r)=>{if(s(this.tracker))throw new Error(\"tracker-not-initialized\");return this.tracker.fetchEdgeLocations(e,this.edgeWorker,r)}}),this.updatingHandles.addPromise(this._setupLayerView()),this.handles.add([t(this.workerHandle),t(this.edgeWorker)])}async fetchCandidates(e,r){return this.workerHandle.fetchCandidates(e,r)}refresh(){}async _setupLayerView(){const e=await this.view.whenLayerView(this.layer);if(\"scene-layer-graphics-3d\"===e.type)return;const r={add:(e,r)=>this.updatingHandles.addPromise(this.workerHandle.add({id:e,bounds:r},this.abortController.signal)),remove:e=>this.updatingHandles.addPromise(this.workerHandle.remove({id:e},this.abortController.signal))};this.tracker=e.trackSnappingSources(r),this.handles.add(this.tracker)}};e([i({constructOnly:!0})],c.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],c.prototype,\"view\",void 0),e([i({readOnly:!0})],c.prototype,\"updating\",null),e([i({readOnly:!0})],c.prototype,\"availability\",void 0),c=e([a(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")],c);export{c as SceneLayerSnappingSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}