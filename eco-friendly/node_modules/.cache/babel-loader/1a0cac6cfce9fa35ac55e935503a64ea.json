{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { brushes as e } from \"./brushes.js\";\nimport { WGLDrawPhase as s } from \"./webgl/enums.js\";\nimport r from \"./webgl/WGLContainer.js\";\n\nclass a extends r {\n  constructor() {\n    super(...arguments), this._hasCrossfade = !1;\n  }\n\n  get requiresDedicatedFBO() {\n    return this._hasCrossfade;\n  }\n\n  beforeRender(e) {\n    super.beforeRender(e), this._manageFade();\n  }\n\n  prepareRenderPasses(r) {\n    const a = r.registerRenderPass({\n      name: \"bitmap\",\n      brushes: [e.bitmap],\n      target: () => this.children,\n      drawPhase: s.MAP\n    });\n    return [...super.prepareRenderPasses(r), a];\n  }\n\n  _manageFade() {\n    this.children.reduce((e, s) => e + (s.inFadeTransition ? 1 : 0), 0) >= 2 ? (this.children.forEach(e => e.blendFunction = \"additive\"), this._hasCrossfade = !0) : (this.children.forEach(e => e.blendFunction = \"standard\"), this._hasCrossfade = !1);\n  }\n\n}\n\nexport { a as BitmapContainer };","map":{"version":3,"names":["brushes","e","WGLDrawPhase","s","r","a","constructor","arguments","_hasCrossfade","requiresDedicatedFBO","beforeRender","_manageFade","prepareRenderPasses","registerRenderPass","name","bitmap","target","children","drawPhase","MAP","reduce","inFadeTransition","forEach","blendFunction","BitmapContainer"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as s}from\"./webgl/enums.js\";import r from\"./webgl/WGLContainer.js\";class a extends r{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}prepareRenderPasses(r){const a=r.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:s.MAP});return[...super.prepareRenderPasses(r),a]}_manageFade(){this.children.reduce(((e,s)=>e+(s.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{a as BitmapContainer};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,OAAO,IAAIC,CAAlB,QAAwB,cAAxB;AAAuC,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,kBAA7B;AAAgD,OAAOC,CAAP,MAAa,yBAAb;;AAAuC,MAAMC,CAAN,SAAgBD,CAAhB,CAAiB;EAACE,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKC,aAAL,GAAmB,CAAC,CAAxC;EAA0C;;EAAwB,IAApBC,oBAAoB,GAAE;IAAC,OAAO,KAAKD,aAAZ;EAA0B;;EAAAE,YAAY,CAACT,CAAD,EAAG;IAAC,MAAMS,YAAN,CAAmBT,CAAnB,GAAsB,KAAKU,WAAL,EAAtB;EAAyC;;EAAAC,mBAAmB,CAACR,CAAD,EAAG;IAAC,MAAMC,CAAC,GAACD,CAAC,CAACS,kBAAF,CAAqB;MAACC,IAAI,EAAC,QAAN;MAAed,OAAO,EAAC,CAACC,CAAC,CAACc,MAAH,CAAvB;MAAkCC,MAAM,EAAC,MAAI,KAAKC,QAAlD;MAA2DC,SAAS,EAACf,CAAC,CAACgB;IAAvE,CAArB,CAAR;IAA0G,OAAM,CAAC,GAAG,MAAMP,mBAAN,CAA0BR,CAA1B,CAAJ,EAAiCC,CAAjC,CAAN;EAA0C;;EAAAM,WAAW,GAAE;IAAC,KAAKM,QAAL,CAAcG,MAAd,CAAsB,CAACnB,CAAD,EAAGE,CAAH,KAAOF,CAAC,IAAEE,CAAC,CAACkB,gBAAF,GAAmB,CAAnB,GAAqB,CAAvB,CAA9B,EAAyD,CAAzD,KAA6D,CAA7D,IAAgE,KAAKJ,QAAL,CAAcK,OAAd,CAAuBrB,CAAC,IAAEA,CAAC,CAACsB,aAAF,GAAgB,UAA1C,GAAuD,KAAKf,aAAL,GAAmB,CAAC,CAA3I,KAA+I,KAAKS,QAAL,CAAcK,OAAd,CAAuBrB,CAAC,IAAEA,CAAC,CAACsB,aAAF,GAAgB,UAA1C,GAAuD,KAAKf,aAAL,GAAmB,CAAC,CAA1N;EAA6N;;AAA7jB;;AAA8jB,SAAOH,CAAC,IAAImB,eAAZ"},"metadata":{},"sourceType":"module"}