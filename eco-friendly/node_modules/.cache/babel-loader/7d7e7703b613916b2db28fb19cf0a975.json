{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Logger.js\";\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { isSome as r } from \"../../../../core/maybe.js\";\nimport { createRenderScreenPointArray3 as i } from \"../../../../core/screenUtils.js\";\nimport { c as s } from \"../../../../chunks/vec2.js\";\nimport { s as a, b as n, e as o, g as h, a as l, c, l as u, i as p, m } from \"../../../../chunks/vec3.js\";\nimport { c as f } from \"../../../../chunks/vec3f64.js\";\nimport { O as T } from \"../../../../chunks/vec4f64.js\";\nimport { PlaneIndex as E } from \"../../../../geometry/support/frustum.js\";\nimport { create as d, distance2 as A, fromPoints as v, closestLineSegmentPoint as _ } from \"../../../../geometry/support/lineSegment.js\";\nimport { create as R, fromPoints as S, signedDistance as O, normal as I } from \"../../../../geometry/support/plane.js\";\nimport { newLayout as g } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as b } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { computeAttachmentOriginLines as C } from \"../lib/geometryDataUtils.js\";\nimport L from \"../lib/GLMaterial.js\";\nimport { outputFromPass as N } from \"../lib/GLMaterials.js\";\nimport { Material as P, RenderOccludedFlag as y } from \"../lib/Material.js\";\nimport { RenderSlot as D } from \"../lib/RenderSlot.js\";\nimport { isTranslationMatrix as j } from \"../lib/Util.js\";\nimport { VertexAttribute as U } from \"../lib/VertexAttribute.js\";\nimport { VisualVariablePassParameters as F } from \"./VisualVariablePassParameters.js\";\nimport { isInstanceHidden as x } from \"./renderers/utils.js\";\nimport { N as q } from \"../../../../chunks/RibbonLine.glsl.js\";\nimport { ribbonVertexAttributeLocations as M, RibbonLineTechnique as w } from \"../shaders/RibbonLineTechnique.js\";\nimport { RibbonLineTechniqueConfiguration as G, CapType as J } from \"../shaders/RibbonLineTechniqueConfiguration.js\";\nconst z = e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\");\nvar B;\n!function (e) {\n  e[e.LEFT_JOIN_START = -2] = \"LEFT_JOIN_START\", e[e.LEFT_JOIN_END = -1] = \"LEFT_JOIN_END\", e[e.LEFT_CAP_START = -4] = \"LEFT_CAP_START\", e[e.LEFT_CAP_END = -5] = \"LEFT_CAP_END\", e[e.RIGHT_JOIN_START = 2] = \"RIGHT_JOIN_START\", e[e.RIGHT_JOIN_END = 1] = \"RIGHT_JOIN_END\", e[e.RIGHT_CAP_START = 4] = \"RIGHT_CAP_START\", e[e.RIGHT_CAP_END = 5] = \"RIGHT_CAP_END\";\n}(B || (B = {}));\n\nclass H extends P {\n  constructor(e) {\n    super(e, new V()), this._vertexAttributeLocations = M, this.techniqueConfig = new G(), this.layout = this.createLayout();\n  }\n\n  isClosed(e, t) {\n    return Y(this.parameters, e, t);\n  }\n\n  getConfiguration(e, t) {\n    this.techniqueConfig.output = e, this.techniqueConfig.draped = t.slot === D.DRAPED_MATERIAL;\n    const i = r(this.parameters.stipplePattern) && e !== b.Highlight;\n    return this.techniqueConfig.stippleEnabled = i, this.techniqueConfig.stippleOffColorEnabled = i && r(this.parameters.stippleOffColor), this.techniqueConfig.stippleScaleWithLineWidth = i && this.parameters.stippleScaleWithLineWidth, this.techniqueConfig.stipplePreferContinuous = i && this.parameters.stipplePreferContinuous, this.techniqueConfig.hasSlicePlane = this.parameters.hasSlicePlane, this.techniqueConfig.hasOccludees = this.parameters.hasOccludees, this.techniqueConfig.roundJoins = \"round\" === this.parameters.join, this.techniqueConfig.capType = this.parameters.cap, this.techniqueConfig.hasPolygonOffset = this.parameters.hasPolygonOffset, this.techniqueConfig.writeDepth = this.parameters.writeDepth, this.techniqueConfig.vvColor = this.parameters.vvColorEnabled, this.techniqueConfig.vvOpacity = this.parameters.vvOpacityEnabled, this.techniqueConfig.vvSize = this.parameters.vvSizeEnabled, this.techniqueConfig.innerColorEnabled = this.parameters.innerWidth > 0 && r(this.parameters.innerColor), this.techniqueConfig.falloffEnabled = this.parameters.falloff > 0, this.techniqueConfig.occluder = this.parameters.renderOccluded === y.OccludeAndTransparentStencil, this.techniqueConfig.transparencyPassType = t.transparencyPassType, this.techniqueConfig.hasMultipassTerrain = t.multipassTerrain.enabled, this.techniqueConfig.cullAboveGround = t.multipassTerrain.cullAboveGround, this.techniqueConfig.wireframe = this.parameters.wireframe, this.techniqueConfig;\n  }\n\n  intersect(e, t, i, s, a, n, o, h, l) {\n    r(l) ? this._intersectDrapedLineGeometry(e, s, l, n, o) : this._intersectLineGeometry(e, t, i, s, o);\n  }\n\n  _intersectDrapedLineGeometry(e, r, i, s, a) {\n    if (!r.options.selectionMode) return;\n    const n = e.vertexAttributes.get(U.POSITION).data,\n          o = e.vertexAttributes.get(U.SIZE);\n    let h = this.parameters.width;\n\n    if (this.parameters.vvSizeEnabled) {\n      const r = e.vertexAttributes.get(U.SIZEFEATUREATTRIBUTE).data[0];\n      h *= t(this.parameters.vvSizeOffset[0] + r * this.parameters.vvSizeFactor[0], this.parameters.vvSizeMinSize[0], this.parameters.vvSizeMaxSize[0]);\n    } else o && (h *= o.data[0]);\n\n    const l = s[0],\n          c = s[1],\n          u = (h / 2 + 4) * e.screenToWorldRatio;\n    let p = Number.MAX_VALUE,\n        m = 0;\n\n    for (let f = 0; f < n.length - 5; f += 3) {\n      const e = n[f],\n            r = n[f + 1],\n            i = l - e,\n            s = c - r,\n            a = n[f + 3] - e,\n            o = n[f + 4] - r,\n            h = t((a * i + o * s) / (a * a + o * o), 0, 1),\n            u = a * h - i,\n            T = o * h - s,\n            E = u * u + T * T;\n      E < p && (p = E, m = f / 3);\n    }\n\n    p < u * u && a(i.dist, i.normal, m, !1);\n  }\n\n  _intersectLineGeometry(e, r, i, m, f) {\n    if (!m.options.selectionMode || x(r)) return;\n    if (!j(i)) return void z.error(\"intersection assumes a translation-only matrix\");\n    const T = e.vertexAttributes,\n          d = T.get(U.POSITION).data;\n    let R = this.parameters.width;\n\n    if (this.parameters.vvSizeEnabled) {\n      const e = T.get(U.SIZEFEATUREATTRIBUTE).data[0];\n      R *= t(this.parameters.vvSizeOffset[0] + e * this.parameters.vvSizeFactor[0], this.parameters.vvSizeMinSize[0], this.parameters.vvSizeMaxSize[0]);\n    } else T.has(U.SIZE) && (R *= T.get(U.SIZE).data[0]);\n\n    const g = m.camera,\n          b = te;\n    s(b, m.point);\n    const C = R * g.pixelRatio / 2 + 4 * g.pixelRatio;\n    a(ue[0], b[0] - C, b[1] + C, 0), a(ue[1], b[0] + C, b[1] + C, 0), a(ue[2], b[0] + C, b[1] - C, 0), a(ue[3], b[0] - C, b[1] - C, 0);\n\n    for (let t = 0; t < 4; t++) if (!g.unprojectFromRenderScreen(ue[t], pe[t])) return;\n\n    S(g.eye, pe[0], pe[1], me), S(g.eye, pe[1], pe[2], fe), S(g.eye, pe[2], pe[3], Te), S(g.eye, pe[3], pe[0], Ee);\n    let L = Number.MAX_VALUE,\n        N = 0;\n    const P = X(this.parameters, T, e.indices) ? d.length - 2 : d.length - 5;\n\n    for (let t = 0; t < P; t += 3) {\n      Q[0] = d[t] + i[12], Q[1] = d[t + 1] + i[13], Q[2] = d[t + 2] + i[14];\n      const e = (t + 3) % d.length;\n      if (K[0] = d[e] + i[12], K[1] = d[e + 1] + i[13], K[2] = d[e + 2] + i[14], O(me, Q) < 0 && O(me, K) < 0 || O(fe, Q) < 0 && O(fe, K) < 0 || O(Te, Q) < 0 && O(Te, K) < 0 || O(Ee, Q) < 0 && O(Ee, K) < 0) continue;\n\n      if (g.projectToRenderScreen(Q, re), g.projectToRenderScreen(K, ie), re[2] < 0 && ie[2] > 0) {\n        n($, Q, K);\n        const e = g.frustum,\n              t = -O(e[E.NEAR], Q) / o($, I(e[E.NEAR]));\n        h($, $, t), l(Q, Q, $), g.projectToRenderScreen(Q, re);\n      } else if (re[2] > 0 && ie[2] < 0) {\n        n($, K, Q);\n        const e = g.frustum,\n              t = -O(e[E.NEAR], K) / o($, I(e[E.NEAR]));\n        h($, $, t), l(K, K, $), g.projectToRenderScreen(K, ie);\n      } else if (re[2] < 0 && ie[2] < 0) continue;\n\n      re[2] = 0, ie[2] = 0;\n      const r = A(v(re, ie, ne), b);\n      r < L && (L = r, c(se, Q), c(ae, K), N = t / 3);\n    }\n\n    const y = m.rayBegin,\n          D = m.rayEnd;\n\n    if (L < C * C) {\n      let e = Number.MAX_VALUE;\n\n      if (_(v(se, ae, ne), v(y, D, oe), ee)) {\n        n(ee, ee, y);\n        const t = u(ee);\n        h(ee, ee, 1 / t), e = t / p(y, D);\n      }\n\n      f(e, ee, N, !1);\n    }\n  }\n\n  computeAttachmentOrigin(e, t) {\n    const r = e.vertexAttributes;\n    if (!r) return null;\n    const i = e.indices,\n          s = r.get(U.POSITION);\n    return C(s, i ? i.get(U.POSITION) : null, i && X(this.parameters, r, i), t);\n  }\n\n  createLayout() {\n    const e = g().vec3f(U.POSITION).f32(U.SUBDIVISIONFACTOR).vec2f(U.UV0).vec3f(U.AUXPOS1).vec3f(U.AUXPOS2);\n    return this.parameters.vvSizeEnabled ? e.f32(U.SIZEFEATUREATTRIBUTE) : e.f32(U.SIZE), this.parameters.vvColorEnabled ? e.f32(U.COLORFEATUREATTRIBUTE) : e.vec4f(U.COLOR), this.parameters.vvOpacityEnabled && e.f32(U.OPACITYFEATUREATTRIBUTE), e;\n  }\n\n  createBufferWriter() {\n    return new Z(this.layout, this.parameters);\n  }\n\n  requiresSlot(e, t) {\n    if (e === D.DRAPED_MATERIAL) return !0;\n    if (this.parameters.renderOccluded === y.OccludeAndTransparentStencil) return e === D.OPAQUE_MATERIAL || e === D.OCCLUDER_MATERIAL || e === D.TRANSPARENT_OCCLUDER_MATERIAL;\n    const r = N(t);\n\n    if (r === b.Color || r === b.Alpha) {\n      return e === (this.parameters.writeDepth ? D.TRANSPARENT_MATERIAL : D.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL);\n    }\n\n    return e === D.OPAQUE_MATERIAL;\n  }\n\n  createGLMaterial(e) {\n    return e.output === b.Color || e.output === b.Alpha || e.output === b.Highlight || e.output === b.Depth ? new W(e) : null;\n  }\n\n  validateParameters(e) {\n    \"miter\" !== e.join && (e.miterLimit = 0);\n  }\n\n}\n\nclass W extends L {\n  _updateOccludeeState(e) {\n    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({\n      hasOccludees: e.hasOccludees\n    });\n  }\n\n  beginSlot(e) {\n    return this._output !== b.Color && this._output !== b.Alpha || this._updateOccludeeState(e), this.ensureTechnique(w, e);\n  }\n\n}\n\nclass V extends F {\n  constructor() {\n    super(...arguments), this.width = 0, this.color = T, this.join = \"miter\", this.cap = J.BUTT, this.miterLimit = 5, this.writeDepth = !0, this.hasPolygonOffset = !1, this.stippleScaleWithLineWidth = !1, this.stipplePreferContinuous = !0, this.hasSlicePlane = !1, this.vvFastUpdate = !1, this.isClosed = !1, this.falloff = 0, this.innerWidth = 0, this.hasOccludees = !1, this.wireframe = !1;\n  }\n\n}\n\nclass Z {\n  constructor(e, t) {\n    this.parameters = t, this.numJoinSubdivisions = 0, this.vertexBufferLayout = e;\n    const r = t.stipplePattern ? 1 : 0;\n\n    switch (this.parameters.join) {\n      case \"miter\":\n      case \"bevel\":\n        this.numJoinSubdivisions = r;\n        break;\n\n      case \"round\":\n        this.numJoinSubdivisions = q + r;\n    }\n  }\n\n  _isClosed(e) {\n    return X(this.parameters, e.vertexAttributes, e.indices);\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    const t = 2,\n          r = e.indices.get(U.POSITION).length / 2 + 1,\n          i = this._isClosed(e);\n\n    let s = i ? 2 : 2 * t;\n    return s += ((i ? r : r - 1) - (i ? 0 : 1)) * (2 * this.numJoinSubdivisions + 4), s += 2, this.parameters.wireframe && (s = 2 + 4 * (s - 2)), s;\n  }\n\n  write(e, t, r, i) {\n    const s = he,\n          n = le,\n          o = ce,\n          h = t.vertexAttributes.get(U.POSITION).data,\n          l = t.indices && t.indices.get(U.POSITION),\n          u = t.vertexAttributes.get(U.DISTANCETOSTART)?.data;\n    l && l.length !== 2 * (h.length / 3 - 1) && console.warn(\"RibbonLineMaterial does not support indices\");\n    let f = 1,\n        T = 0;\n    this.parameters.vvSizeEnabled ? T = t.vertexAttributes.get(U.SIZEFEATUREATTRIBUTE).data[0] : t.vertexAttributes.has(U.SIZE) && (f = t.vertexAttributes.get(U.SIZE).data[0]);\n    let E = [1, 1, 1, 1],\n        d = 0;\n    this.parameters.vvColorEnabled ? d = t.vertexAttributes.get(U.COLORFEATUREATTRIBUTE).data[0] : t.vertexAttributes.has(U.COLOR) && (E = t.vertexAttributes.get(U.COLOR).data);\n    let A = 0;\n    this.parameters.vvOpacityEnabled && (A = t.vertexAttributes.get(U.OPACITYFEATUREATTRIBUTE).data[0]);\n    const v = h.length / 3,\n          _ = e.transformation,\n          R = new Float32Array(r.buffer),\n          S = this.vertexBufferLayout.stride / 4;\n    let O = i * S;\n    const I = O;\n    let g = 0;\n\n    const b = u ? (e, t, r) => g = u[r] : (e, t, r) => g += p(e, t),\n          C = (e, t, r, i, s, a, n) => {\n      if (R[O++] = t[0], R[O++] = t[1], R[O++] = t[2], R[O++] = i, R[O++] = n, R[O++] = s, R[O++] = e[0], R[O++] = e[1], R[O++] = e[2], R[O++] = r[0], R[O++] = r[1], R[O++] = r[2], this.parameters.vvSizeEnabled ? R[O++] = T : R[O++] = f, this.parameters.vvColorEnabled) R[O++] = d;else {\n        const e = Math.min(4 * a, E.length - 4);\n        R[O++] = E[e + 0], R[O++] = E[e + 1], R[O++] = E[e + 2], R[O++] = E[e + 3];\n      }\n      this.parameters.vvOpacityEnabled && (R[O++] = A);\n    };\n\n    O += S, a(n, h[0], h[1], h[2]), _ && m(n, n, _);\n\n    const L = this._isClosed(t);\n\n    if (L) {\n      const e = h.length - 3;\n      a(s, h[e], h[e + 1], h[e + 2]), _ && m(s, s, _);\n    } else a(o, h[3], h[4], h[5]), _ && m(o, o, _), C(n, n, o, 1, B.LEFT_CAP_START, 0, 0), C(n, n, o, 1, B.RIGHT_CAP_START, 0, 0), c(s, n), c(n, o);\n\n    const N = L ? 0 : 1,\n          P = L ? v : v - 1;\n\n    for (let p = N; p < P; p++) {\n      const e = (p + 1) % v * 3;\n      a(o, h[e + 0], h[e + 1], h[e + 2]), _ && m(o, o, _), b(s, n, p), C(s, n, o, 0, B.LEFT_JOIN_END, p, g), C(s, n, o, 0, B.RIGHT_JOIN_END, p, g);\n      const t = this.numJoinSubdivisions;\n\n      for (let r = 0; r < t; ++r) {\n        const e = (r + 1) / (t + 1);\n        C(s, n, o, e, B.LEFT_JOIN_END, p, g), C(s, n, o, e, B.RIGHT_JOIN_END, p, g);\n      }\n\n      C(s, n, o, 1, B.LEFT_JOIN_START, p, g), C(s, n, o, 1, B.RIGHT_JOIN_START, p, g), c(s, n), c(n, o);\n    }\n\n    L ? (a(o, h[3], h[4], h[5]), _ && m(o, o, _), g = b(s, n, P), C(s, n, o, 0, B.LEFT_JOIN_END, N, g), C(s, n, o, 0, B.RIGHT_JOIN_END, N, g)) : (g = b(s, n, P), C(s, n, n, 0, B.LEFT_CAP_END, P, g), C(s, n, n, 0, B.RIGHT_CAP_END, P, g)), k(R, I + S, R, I, S);\n    O = k(R, O - S, R, O, S), this.parameters.wireframe && this._addWireframeVertices(r, I, O, S);\n  }\n\n  _addWireframeVertices(e, t, r, i) {\n    const s = new Float32Array(e.buffer, r * Float32Array.BYTES_PER_ELEMENT),\n          a = new Float32Array(e.buffer, t * Float32Array.BYTES_PER_ELEMENT, r - t);\n    let n = 0;\n\n    const o = e => n = k(a, e, s, n, i);\n\n    for (let h = 0; h < a.length - 1; h += 2 * i) o(h), o(h + 2 * i), o(h + 1 * i), o(h + 2 * i), o(h + 1 * i), o(h + 3 * i);\n  }\n\n}\n\nfunction k(e, t, r, i, s) {\n  for (let a = 0; a < s; a++) r[i++] = e[t++];\n\n  return i;\n}\n\nfunction X(e, t, r) {\n  return Y(e, t.get(U.POSITION).data, r ? r.get(U.POSITION) : null);\n}\n\nfunction Y(e, t, r) {\n  return !!e.isClosed && (r ? r.length > 2 : t.length > 6);\n}\n\nconst Q = f(),\n      K = f(),\n      $ = f(),\n      ee = f(),\n      te = f(),\n      re = i(),\n      ie = i(),\n      se = f(),\n      ae = f(),\n      ne = d(),\n      oe = d(),\n      he = f(),\n      le = f(),\n      ce = f(),\n      ue = [i(), i(), i(), i()],\n      pe = [f(), f(), f(), f()],\n      me = R(),\n      fe = R(),\n      Te = R(),\n      Ee = R();\nexport { V as Parameters, H as RibbonLineMaterial };","map":{"version":3,"names":["e","clamp","t","isSome","r","createRenderScreenPointArray3","i","c","s","a","b","n","o","g","h","l","u","p","m","f","O","T","PlaneIndex","E","create","d","distance2","A","fromPoints","v","closestLineSegmentPoint","_","R","S","signedDistance","normal","I","newLayout","ShaderOutput","computeAttachmentOriginLines","C","L","outputFromPass","N","Material","P","RenderOccludedFlag","y","RenderSlot","D","isTranslationMatrix","j","VertexAttribute","U","VisualVariablePassParameters","F","isInstanceHidden","x","q","ribbonVertexAttributeLocations","M","RibbonLineTechnique","w","RibbonLineTechniqueConfiguration","G","CapType","J","z","getLogger","B","LEFT_JOIN_START","LEFT_JOIN_END","LEFT_CAP_START","LEFT_CAP_END","RIGHT_JOIN_START","RIGHT_JOIN_END","RIGHT_CAP_START","RIGHT_CAP_END","H","constructor","V","_vertexAttributeLocations","techniqueConfig","layout","createLayout","isClosed","Y","parameters","getConfiguration","output","draped","slot","DRAPED_MATERIAL","stipplePattern","Highlight","stippleEnabled","stippleOffColorEnabled","stippleOffColor","stippleScaleWithLineWidth","stipplePreferContinuous","hasSlicePlane","hasOccludees","roundJoins","join","capType","cap","hasPolygonOffset","writeDepth","vvColor","vvColorEnabled","vvOpacity","vvOpacityEnabled","vvSize","vvSizeEnabled","innerColorEnabled","innerWidth","innerColor","falloffEnabled","falloff","occluder","renderOccluded","OccludeAndTransparentStencil","transparencyPassType","hasMultipassTerrain","multipassTerrain","enabled","cullAboveGround","wireframe","intersect","_intersectDrapedLineGeometry","_intersectLineGeometry","options","selectionMode","vertexAttributes","get","POSITION","data","SIZE","width","SIZEFEATUREATTRIBUTE","vvSizeOffset","vvSizeFactor","vvSizeMinSize","vvSizeMaxSize","screenToWorldRatio","Number","MAX_VALUE","length","dist","error","has","camera","te","point","pixelRatio","ue","unprojectFromRenderScreen","pe","eye","me","fe","Te","Ee","X","indices","Q","K","projectToRenderScreen","re","ie","$","frustum","NEAR","ne","se","ae","rayBegin","rayEnd","oe","ee","computeAttachmentOrigin","vec3f","f32","SUBDIVISIONFACTOR","vec2f","UV0","AUXPOS1","AUXPOS2","COLORFEATUREATTRIBUTE","vec4f","COLOR","OPACITYFEATUREATTRIBUTE","createBufferWriter","Z","requiresSlot","OPAQUE_MATERIAL","OCCLUDER_MATERIAL","TRANSPARENT_OCCLUDER_MATERIAL","Color","Alpha","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","createGLMaterial","Depth","W","validateParameters","miterLimit","_updateOccludeeState","_material","setParameters","beginSlot","_output","ensureTechnique","arguments","color","BUTT","vvFastUpdate","numJoinSubdivisions","vertexBufferLayout","_isClosed","allocate","createBuffer","elementCount","write","he","le","ce","DISTANCETOSTART","console","warn","transformation","Float32Array","buffer","stride","Math","min","k","_addWireframeVertices","BYTES_PER_ELEMENT","Parameters","RibbonLineMaterial"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray3 as i}from\"../../../../core/screenUtils.js\";import{c as s}from\"../../../../chunks/vec2.js\";import{s as a,b as n,e as o,g as h,a as l,c,l as u,i as p,m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{O as T}from\"../../../../chunks/vec4f64.js\";import{PlaneIndex as E}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as A,fromPoints as v,closestLineSegmentPoint as _}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as S,signedDistance as O,normal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as g}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as b}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{computeAttachmentOriginLines as C}from\"../lib/geometryDataUtils.js\";import L from\"../lib/GLMaterial.js\";import{outputFromPass as N}from\"../lib/GLMaterials.js\";import{Material as P,RenderOccludedFlag as y}from\"../lib/Material.js\";import{RenderSlot as D}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as j}from\"../lib/Util.js\";import{VertexAttribute as U}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as F}from\"./VisualVariablePassParameters.js\";import{isInstanceHidden as x}from\"./renderers/utils.js\";import{N as q}from\"../../../../chunks/RibbonLine.glsl.js\";import{ribbonVertexAttributeLocations as M,RibbonLineTechnique as w}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as G,CapType as J}from\"../shaders/RibbonLineTechniqueConfiguration.js\";const z=e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\");var B;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(B||(B={}));class H extends P{constructor(e){super(e,new V),this._vertexAttributeLocations=M,this.techniqueConfig=new G,this.layout=this.createLayout()}isClosed(e,t){return Y(this.parameters,e,t)}getConfiguration(e,t){this.techniqueConfig.output=e,this.techniqueConfig.draped=t.slot===D.DRAPED_MATERIAL;const i=r(this.parameters.stipplePattern)&&e!==b.Highlight;return this.techniqueConfig.stippleEnabled=i,this.techniqueConfig.stippleOffColorEnabled=i&&r(this.parameters.stippleOffColor),this.techniqueConfig.stippleScaleWithLineWidth=i&&this.parameters.stippleScaleWithLineWidth,this.techniqueConfig.stipplePreferContinuous=i&&this.parameters.stipplePreferContinuous,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.hasOccludees=this.parameters.hasOccludees,this.techniqueConfig.roundJoins=\"round\"===this.parameters.join,this.techniqueConfig.capType=this.parameters.cap,this.techniqueConfig.hasPolygonOffset=this.parameters.hasPolygonOffset,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.vvColor=this.parameters.vvColorEnabled,this.techniqueConfig.vvOpacity=this.parameters.vvOpacityEnabled,this.techniqueConfig.vvSize=this.parameters.vvSizeEnabled,this.techniqueConfig.innerColorEnabled=this.parameters.innerWidth>0&&r(this.parameters.innerColor),this.techniqueConfig.falloffEnabled=this.parameters.falloff>0,this.techniqueConfig.occluder=this.parameters.renderOccluded===y.OccludeAndTransparentStencil,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.hasMultipassTerrain=t.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=t.multipassTerrain.cullAboveGround,this.techniqueConfig.wireframe=this.parameters.wireframe,this.techniqueConfig}intersect(e,t,i,s,a,n,o,h,l){r(l)?this._intersectDrapedLineGeometry(e,s,l,n,o):this._intersectLineGeometry(e,t,i,s,o)}_intersectDrapedLineGeometry(e,r,i,s,a){if(!r.options.selectionMode)return;const n=e.vertexAttributes.get(U.POSITION).data,o=e.vertexAttributes.get(U.SIZE);let h=this.parameters.width;if(this.parameters.vvSizeEnabled){const r=e.vertexAttributes.get(U.SIZEFEATUREATTRIBUTE).data[0];h*=t(this.parameters.vvSizeOffset[0]+r*this.parameters.vvSizeFactor[0],this.parameters.vvSizeMinSize[0],this.parameters.vvSizeMaxSize[0])}else o&&(h*=o.data[0]);const l=s[0],c=s[1],u=(h/2+4)*e.screenToWorldRatio;let p=Number.MAX_VALUE,m=0;for(let f=0;f<n.length-5;f+=3){const e=n[f],r=n[f+1],i=l-e,s=c-r,a=n[f+3]-e,o=n[f+4]-r,h=t((a*i+o*s)/(a*a+o*o),0,1),u=a*h-i,T=o*h-s,E=u*u+T*T;E<p&&(p=E,m=f/3)}p<u*u&&a(i.dist,i.normal,m,!1)}_intersectLineGeometry(e,r,i,m,f){if(!m.options.selectionMode||x(r))return;if(!j(i))return void z.error(\"intersection assumes a translation-only matrix\");const T=e.vertexAttributes,d=T.get(U.POSITION).data;let R=this.parameters.width;if(this.parameters.vvSizeEnabled){const e=T.get(U.SIZEFEATUREATTRIBUTE).data[0];R*=t(this.parameters.vvSizeOffset[0]+e*this.parameters.vvSizeFactor[0],this.parameters.vvSizeMinSize[0],this.parameters.vvSizeMaxSize[0])}else T.has(U.SIZE)&&(R*=T.get(U.SIZE).data[0]);const g=m.camera,b=te;s(b,m.point);const C=R*g.pixelRatio/2+4*g.pixelRatio;a(ue[0],b[0]-C,b[1]+C,0),a(ue[1],b[0]+C,b[1]+C,0),a(ue[2],b[0]+C,b[1]-C,0),a(ue[3],b[0]-C,b[1]-C,0);for(let t=0;t<4;t++)if(!g.unprojectFromRenderScreen(ue[t],pe[t]))return;S(g.eye,pe[0],pe[1],me),S(g.eye,pe[1],pe[2],fe),S(g.eye,pe[2],pe[3],Te),S(g.eye,pe[3],pe[0],Ee);let L=Number.MAX_VALUE,N=0;const P=X(this.parameters,T,e.indices)?d.length-2:d.length-5;for(let t=0;t<P;t+=3){Q[0]=d[t]+i[12],Q[1]=d[t+1]+i[13],Q[2]=d[t+2]+i[14];const e=(t+3)%d.length;if(K[0]=d[e]+i[12],K[1]=d[e+1]+i[13],K[2]=d[e+2]+i[14],O(me,Q)<0&&O(me,K)<0||O(fe,Q)<0&&O(fe,K)<0||O(Te,Q)<0&&O(Te,K)<0||O(Ee,Q)<0&&O(Ee,K)<0)continue;if(g.projectToRenderScreen(Q,re),g.projectToRenderScreen(K,ie),re[2]<0&&ie[2]>0){n($,Q,K);const e=g.frustum,t=-O(e[E.NEAR],Q)/o($,I(e[E.NEAR]));h($,$,t),l(Q,Q,$),g.projectToRenderScreen(Q,re)}else if(re[2]>0&&ie[2]<0){n($,K,Q);const e=g.frustum,t=-O(e[E.NEAR],K)/o($,I(e[E.NEAR]));h($,$,t),l(K,K,$),g.projectToRenderScreen(K,ie)}else if(re[2]<0&&ie[2]<0)continue;re[2]=0,ie[2]=0;const r=A(v(re,ie,ne),b);r<L&&(L=r,c(se,Q),c(ae,K),N=t/3)}const y=m.rayBegin,D=m.rayEnd;if(L<C*C){let e=Number.MAX_VALUE;if(_(v(se,ae,ne),v(y,D,oe),ee)){n(ee,ee,y);const t=u(ee);h(ee,ee,1/t),e=t/p(y,D)}f(e,ee,N,!1)}}computeAttachmentOrigin(e,t){const r=e.vertexAttributes;if(!r)return null;const i=e.indices,s=r.get(U.POSITION);return C(s,i?i.get(U.POSITION):null,i&&X(this.parameters,r,i),t)}createLayout(){const e=g().vec3f(U.POSITION).f32(U.SUBDIVISIONFACTOR).vec2f(U.UV0).vec3f(U.AUXPOS1).vec3f(U.AUXPOS2);return this.parameters.vvSizeEnabled?e.f32(U.SIZEFEATUREATTRIBUTE):e.f32(U.SIZE),this.parameters.vvColorEnabled?e.f32(U.COLORFEATUREATTRIBUTE):e.vec4f(U.COLOR),this.parameters.vvOpacityEnabled&&e.f32(U.OPACITYFEATUREATTRIBUTE),e}createBufferWriter(){return new Z(this.layout,this.parameters)}requiresSlot(e,t){if(e===D.DRAPED_MATERIAL)return!0;if(this.parameters.renderOccluded===y.OccludeAndTransparentStencil)return e===D.OPAQUE_MATERIAL||e===D.OCCLUDER_MATERIAL||e===D.TRANSPARENT_OCCLUDER_MATERIAL;const r=N(t);if(r===b.Color||r===b.Alpha){return e===(this.parameters.writeDepth?D.TRANSPARENT_MATERIAL:D.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return e===D.OPAQUE_MATERIAL}createGLMaterial(e){return e.output===b.Color||e.output===b.Alpha||e.output===b.Highlight||e.output===b.Depth?new W(e):null}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0)}}class W extends L{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==b.Color&&this._output!==b.Alpha||this._updateOccludeeState(e),this.ensureTechnique(w,e)}}class V extends F{constructor(){super(...arguments),this.width=0,this.color=T,this.join=\"miter\",this.cap=J.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleScaleWithLineWidth=!1,this.stipplePreferContinuous=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.hasOccludees=!1,this.wireframe=!1}}class Z{constructor(e,t){this.parameters=t,this.numJoinSubdivisions=0,this.vertexBufferLayout=e;const r=t.stipplePattern?1:0;switch(this.parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=q+r}}_isClosed(e){return X(this.parameters,e.vertexAttributes,e.indices)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.indices.get(U.POSITION).length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this.parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i){const s=he,n=le,o=ce,h=t.vertexAttributes.get(U.POSITION).data,l=t.indices&&t.indices.get(U.POSITION),u=t.vertexAttributes.get(U.DISTANCETOSTART)?.data;l&&l.length!==2*(h.length/3-1)&&console.warn(\"RibbonLineMaterial does not support indices\");let f=1,T=0;this.parameters.vvSizeEnabled?T=t.vertexAttributes.get(U.SIZEFEATUREATTRIBUTE).data[0]:t.vertexAttributes.has(U.SIZE)&&(f=t.vertexAttributes.get(U.SIZE).data[0]);let E=[1,1,1,1],d=0;this.parameters.vvColorEnabled?d=t.vertexAttributes.get(U.COLORFEATUREATTRIBUTE).data[0]:t.vertexAttributes.has(U.COLOR)&&(E=t.vertexAttributes.get(U.COLOR).data);let A=0;this.parameters.vvOpacityEnabled&&(A=t.vertexAttributes.get(U.OPACITYFEATUREATTRIBUTE).data[0]);const v=h.length/3,_=e.transformation,R=new Float32Array(r.buffer),S=this.vertexBufferLayout.stride/4;let O=i*S;const I=O;let g=0;const b=u?(e,t,r)=>g=u[r]:(e,t,r)=>g+=p(e,t),C=(e,t,r,i,s,a,n)=>{if(R[O++]=t[0],R[O++]=t[1],R[O++]=t[2],R[O++]=i,R[O++]=n,R[O++]=s,R[O++]=e[0],R[O++]=e[1],R[O++]=e[2],R[O++]=r[0],R[O++]=r[1],R[O++]=r[2],this.parameters.vvSizeEnabled?R[O++]=T:R[O++]=f,this.parameters.vvColorEnabled)R[O++]=d;else{const e=Math.min(4*a,E.length-4);R[O++]=E[e+0],R[O++]=E[e+1],R[O++]=E[e+2],R[O++]=E[e+3]}this.parameters.vvOpacityEnabled&&(R[O++]=A)};O+=S,a(n,h[0],h[1],h[2]),_&&m(n,n,_);const L=this._isClosed(t);if(L){const e=h.length-3;a(s,h[e],h[e+1],h[e+2]),_&&m(s,s,_)}else a(o,h[3],h[4],h[5]),_&&m(o,o,_),C(n,n,o,1,B.LEFT_CAP_START,0,0),C(n,n,o,1,B.RIGHT_CAP_START,0,0),c(s,n),c(n,o);const N=L?0:1,P=L?v:v-1;for(let p=N;p<P;p++){const e=(p+1)%v*3;a(o,h[e+0],h[e+1],h[e+2]),_&&m(o,o,_),b(s,n,p),C(s,n,o,0,B.LEFT_JOIN_END,p,g),C(s,n,o,0,B.RIGHT_JOIN_END,p,g);const t=this.numJoinSubdivisions;for(let r=0;r<t;++r){const e=(r+1)/(t+1);C(s,n,o,e,B.LEFT_JOIN_END,p,g),C(s,n,o,e,B.RIGHT_JOIN_END,p,g)}C(s,n,o,1,B.LEFT_JOIN_START,p,g),C(s,n,o,1,B.RIGHT_JOIN_START,p,g),c(s,n),c(n,o)}L?(a(o,h[3],h[4],h[5]),_&&m(o,o,_),g=b(s,n,P),C(s,n,o,0,B.LEFT_JOIN_END,N,g),C(s,n,o,0,B.RIGHT_JOIN_END,N,g)):(g=b(s,n,P),C(s,n,n,0,B.LEFT_CAP_END,P,g),C(s,n,n,0,B.RIGHT_CAP_END,P,g)),k(R,I+S,R,I,S);O=k(R,O-S,R,O,S),this.parameters.wireframe&&this._addWireframeVertices(r,I,O,S)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=k(a,e,s,n,i);for(let h=0;h<a.length-1;h+=2*i)o(h),o(h+2*i),o(h+1*i),o(h+2*i),o(h+1*i),o(h+3*i)}}function k(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function X(e,t,r){return Y(e,t.get(U.POSITION).data,r?r.get(U.POSITION):null)}function Y(e,t,r){return!!e.isClosed&&(r?r.length>2:t.length>6)}const Q=f(),K=f(),$=f(),ee=f(),te=f(),re=i(),ie=i(),se=f(),ae=f(),ne=d(),oe=d(),he=f(),le=f(),ce=f(),ue=[i(),i(),i(),i()],pe=[f(),f(),f(),f()],me=R(),fe=R(),Te=R(),Ee=R();export{V as Parameters,H as RibbonLineMaterial};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}