{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/Logger.js\";\nimport { isSome as e, isNone as r } from \"../../../core/maybe.js\";\nimport { f as o } from \"../../../chunks/mat3.js\";\nimport { c as i } from \"../../../chunks/mat3f64.js\";\nimport { d as n } from \"../../../chunks/mat4.js\";\nimport { c as s } from \"../../../chunks/mat4f64.js\";\nimport { s as a, b as c, a as f, t as p, m } from \"../../../chunks/vec3.js\";\nimport { c as g, Z as l } from \"../../../chunks/vec3f64.js\";\nimport { projectPointToVector as u, computeTranslationToOriginAndRotation as h } from \"../../projection.js\";\nimport { getSphericalPCPF as j } from \"../../projectionEllipsoid.js\";\nimport { create as v, compose as x, axis as A, angleRad as b } from \"../axisAngleDegrees.js\";\nimport { isGeographicMesh as d } from \"./geographicUtils.js\";\nimport { projectToPCPF as k, projectNormalToPCPF as y, projectTangentToPCPF as w, projectFromPCPF as R, projectNormalFromPCPF as F, projectTangentFromPCPF as L } from \"./projection.js\";\nconst $ = t.getLogger(\"esri.geometry.support.meshUtils.rotate\");\n\nfunction z(t, r, o) {\n  if (!t.vertexAttributes || !t.vertexAttributes.position || 0 === r[3]) return;\n  const i = t.spatialReference;\n\n  if (e(t.transform)) {\n    null != o?.geographic && o.geographic !== t.transform.geographic && $.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);\n    const e = o?.origin ?? t.transform.getOriginPoint(i);\n    C(t.transform, r, e);\n  } else {\n    const e = o?.origin ?? t.origin;\n    d(t.spatialReference, o) ? I(t, r, e) : U(t, r, e);\n  }\n}\n\nfunction C(t, e, r) {\n  const o = a(E, r.x, r.y, r.z),\n        i = c(E, o, t.origin);\n  t.applyLocalInverse(i, M), t.rotation = x(t.rotation, e, v()), t.applyLocalInverse(i, i), c(i, i, M), t.translation = f(g(), t.translation, i);\n}\n\nfunction I(t, r, i) {\n  const n = t.spatialReference,\n        s = j(n),\n        a = Z;\n  u(i, a, s) || u(t.origin, a, s);\n  const c = t.vertexAttributes.position,\n        f = t.vertexAttributes.normal,\n        m = t.vertexAttributes.tangent,\n        g = new Float64Array(c.length),\n        l = e(f) ? new Float32Array(f.length) : null,\n        v = e(m) ? new Float32Array(m.length) : null;\n  h(s, a, P, s), o(S, P);\n  const x = O;\n  p(A(O), A(r), S), x[3] = r[3], k(c, n, g), e(f) && y(f, c, g, n, l), e(m) && w(m, c, g, n, v), D(g, x, 3, a), R(g, c, n), e(f) && (D(l, x, 3), F(l, c, g, n, f)), e(m) && (D(v, x, 4), L(v, c, g, n, m)), t.vertexAttributesChanged();\n}\n\nfunction U(t, e, r) {\n  const o = Z;\n\n  if (!u(r, o, t.spatialReference)) {\n    const e = t.origin;\n    o[0] = e.x, o[1] = e.y, o[2] = e.z, $.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`);\n  }\n\n  D(t.vertexAttributes.position, e, 3, o), D(t.vertexAttributes.normal, e, 3), D(t.vertexAttributes.tangent, e, 4), t.vertexAttributesChanged();\n}\n\nfunction D(t, e, o, i = l) {\n  if (!r(t)) {\n    n(P, b(e), A(e));\n\n    for (let e = 0; e < t.length; e += o) {\n      for (let r = 0; r < 3; r++) E[r] = t[e + r] - i[r];\n\n      m(E, E, P);\n\n      for (let r = 0; r < 3; r++) t[e + r] = E[r] + i[r];\n    }\n  }\n}\n\nconst E = g(),\n      M = g(),\n      O = v(),\n      P = s(),\n      S = i(),\n      Z = g();\nexport { z as rotate };","map":{"version":3,"names":["t","isSome","e","isNone","r","f","o","c","i","d","n","s","a","b","p","m","g","Z","l","projectPointToVector","u","computeTranslationToOriginAndRotation","h","getSphericalPCPF","j","create","v","compose","x","axis","A","angleRad","isGeographicMesh","projectToPCPF","k","projectNormalToPCPF","y","projectTangentToPCPF","w","projectFromPCPF","R","projectNormalFromPCPF","F","projectTangentFromPCPF","L","$","getLogger","z","vertexAttributes","position","spatialReference","transform","geographic","warn","origin","getOriginPoint","C","I","U","E","applyLocalInverse","M","rotation","translation","normal","tangent","Float64Array","length","Float32Array","P","S","O","D","vertexAttributesChanged","error","wkid","rotate"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/meshUtils/rotate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as e,isNone as r}from\"../../../core/maybe.js\";import{f as o}from\"../../../chunks/mat3.js\";import{c as i}from\"../../../chunks/mat3f64.js\";import{d as n}from\"../../../chunks/mat4.js\";import{c as s}from\"../../../chunks/mat4f64.js\";import{s as a,b as c,a as f,t as p,m}from\"../../../chunks/vec3.js\";import{c as g,Z as l}from\"../../../chunks/vec3f64.js\";import{projectPointToVector as u,computeTranslationToOriginAndRotation as h}from\"../../projection.js\";import{getSphericalPCPF as j}from\"../../projectionEllipsoid.js\";import{create as v,compose as x,axis as A,angleRad as b}from\"../axisAngleDegrees.js\";import{isGeographicMesh as d}from\"./geographicUtils.js\";import{projectToPCPF as k,projectNormalToPCPF as y,projectTangentToPCPF as w,projectFromPCPF as R,projectNormalFromPCPF as F,projectTangentFromPCPF as L}from\"./projection.js\";const $=t.getLogger(\"esri.geometry.support.meshUtils.rotate\");function z(t,r,o){if(!t.vertexAttributes||!t.vertexAttributes.position||0===r[3])return;const i=t.spatialReference;if(e(t.transform)){null!=o?.geographic&&o.geographic!==t.transform.geographic&&$.warn(`Specifying the 'geographic' parameter (${o.geographic}) different from the Mesh transform setting (${t.transform.geographic}) is not supported`);const e=o?.origin??t.transform.getOriginPoint(i);C(t.transform,r,e)}else{const e=o?.origin??t.origin;d(t.spatialReference,o)?I(t,r,e):U(t,r,e)}}function C(t,e,r){const o=a(E,r.x,r.y,r.z),i=c(E,o,t.origin);t.applyLocalInverse(i,M),t.rotation=x(t.rotation,e,v()),t.applyLocalInverse(i,i),c(i,i,M),t.translation=f(g(),t.translation,i)}function I(t,r,i){const n=t.spatialReference,s=j(n),a=Z;u(i,a,s)||u(t.origin,a,s);const c=t.vertexAttributes.position,f=t.vertexAttributes.normal,m=t.vertexAttributes.tangent,g=new Float64Array(c.length),l=e(f)?new Float32Array(f.length):null,v=e(m)?new Float32Array(m.length):null;h(s,a,P,s),o(S,P);const x=O;p(A(O),A(r),S),x[3]=r[3],k(c,n,g),e(f)&&y(f,c,g,n,l),e(m)&&w(m,c,g,n,v),D(g,x,3,a),R(g,c,n),e(f)&&(D(l,x,3),F(l,c,g,n,f)),e(m)&&(D(v,x,4),L(v,c,g,n,m)),t.vertexAttributesChanged()}function U(t,e,r){const o=Z;if(!u(r,o,t.spatialReference)){const e=t.origin;o[0]=e.x,o[1]=e.y,o[2]=e.z,$.error(`Failed to project specified origin (wkid:${r.spatialReference.wkid}) to mesh spatial reference (wkid:${t.spatialReference.wkid}).`)}D(t.vertexAttributes.position,e,3,o),D(t.vertexAttributes.normal,e,3),D(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}function D(t,e,o,i=l){if(!r(t)){n(P,b(e),A(e));for(let e=0;e<t.length;e+=o){for(let r=0;r<3;r++)E[r]=t[e+r]-i[r];m(E,E,P);for(let r=0;r<3;r++)t[e+r]=E[r]+i[r]}}}const E=g(),M=g(),O=v(),P=s(),S=i(),Z=g();export{z as rotate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}