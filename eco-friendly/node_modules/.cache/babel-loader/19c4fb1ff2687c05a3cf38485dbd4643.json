{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isLineBreak as t, isWhiteSpace as e, allowsIdeographicBreak as i, hasVerticalOrientation as s } from \"./ScriptUtils.js\";\nimport o from \"../webgl/Rect.js\";\nconst c = 24,\n      h = 17;\n\nclass a {\n  constructor(t, e, i, s, o, c, h) {\n    this._glyphItems = t, this._maxWidth = e, this._lineHeight = i, this._letterSpacing = s, this._hAnchor = o, this._vAnchor = c, this._justify = h;\n  }\n\n  getShaping(o, c, h) {\n    const a = this._letterSpacing,\n          l = this._lineHeight,\n          r = this._justify,\n          n = this._maxWidth,\n          m = [];\n    let f = 0,\n        p = 0;\n    const g = o.length;\n\n    for (let t = 0; t < g; t++) {\n      const e = o.charCodeAt(t),\n            i = h && s(e);\n      let c;\n\n      for (const t of this._glyphItems) if (c = t[e], c) break;\n\n      m.push({\n        codePoint: e,\n        x: f,\n        y: p,\n        vertical: i,\n        glyphMosaicItem: c\n      }), c && (f += c.metrics.advance + a);\n    }\n\n    let y = f;\n\n    if (n > 0) {\n      y = f / Math.max(1, Math.ceil(f / n));\n    }\n\n    const d = o.includes(\"​\"),\n          x = [];\n\n    for (let e = 0; e < g - 1; e++) {\n      const s = m[e].codePoint,\n            o = i(s);\n\n      if (t(s) || o) {\n        let t = 0;\n        if (10 === s) t -= 1e4;else if (o && d) t += 150;else {\n          40 !== s && 65288 !== s || (t += 50);\n          const i = m[e + 1].codePoint;\n          41 !== i && 65289 !== i || (t += 50);\n        }\n        x.push(this._buildBreak(e + 1, m[e].x, y, x, t, !1));\n      }\n    }\n\n    const M = this._optimalBreaks(this._buildBreak(g, f, y, x, 0, !0));\n\n    let u = 0;\n\n    const _ = c ? -l : l;\n\n    let I = 0;\n\n    for (let t = 0; t < M.length; t++) {\n      const i = M[t];\n      let s = I;\n\n      for (; s < i && e(m[s].codePoint);) m[s].glyphMosaicItem = null, ++s;\n\n      let o = i - 1;\n\n      for (; o > s && e(m[o].codePoint);) m[o].glyphMosaicItem = null, --o;\n\n      if (s <= o) {\n        const t = m[s].x;\n\n        for (let i = s; i <= o; i++) m[i].x -= t, m[i].y = p;\n\n        let e = m[o].x;\n        m[o].glyphMosaicItem && (e += m[o].glyphMosaicItem.metrics.advance), u = Math.max(e, u), r && this._applyJustification(m, s, o);\n      }\n\n      I = i, p += _;\n    }\n\n    if (m.length > 0) {\n      const t = M.length - 1,\n            e = (r - this._hAnchor) * u;\n      let i = (-this._vAnchor * (t + 1) + .5) * l;\n      c && t && (i += t * l);\n\n      for (const s of m) s.x += e, s.y += i;\n    }\n\n    return m.filter(t => t.glyphMosaicItem);\n  }\n\n  static getTextBox(t, e) {\n    if (!t.length) return null;\n    let i = 1 / 0,\n        s = 1 / 0,\n        o = 0,\n        c = 0;\n\n    for (const a of t) {\n      const t = a.glyphMosaicItem.metrics.advance,\n            l = a.x,\n            r = a.y - h,\n            n = l + t,\n            m = r + e;\n      i = Math.min(i, l), o = Math.max(o, n), s = Math.min(s, r), c = Math.max(c, m);\n    }\n\n    return {\n      x: i,\n      y: s,\n      width: o - i,\n      height: c - s\n    };\n  }\n\n  static getBox(t) {\n    if (!t.length) return null;\n    let e = 1 / 0,\n        i = 1 / 0,\n        s = 0,\n        o = 0;\n\n    for (const c of t) {\n      const {\n        height: t,\n        left: h,\n        top: a,\n        width: l\n      } = c.glyphMosaicItem.metrics,\n            r = c.x,\n            n = c.y - (t - Math.abs(a)),\n            m = r + l + h,\n            f = n + t;\n      e = Math.min(e, r), s = Math.max(s, m), i = Math.min(i, n), o = Math.max(o, f);\n    }\n\n    return {\n      x: e,\n      y: i,\n      width: s - e,\n      height: o - i\n    };\n  }\n\n  static addDecoration(t, e) {\n    const i = t.length;\n    if (0 === i) return;\n    const s = 3;\n    let c = t[0].x + t[0].glyphMosaicItem.metrics.left,\n        h = t[0].y;\n\n    for (let l = 1; l < i; l++) {\n      const i = t[l];\n\n      if (i.y !== h) {\n        const a = t[l - 1].x + t[l - 1].glyphMosaicItem.metrics.left + t[l - 1].glyphMosaicItem.metrics.width;\n        t.push({\n          codePoint: 0,\n          x: c,\n          y: h + e - s,\n          vertical: !1,\n          glyphMosaicItem: {\n            sdf: !0,\n            rect: new o(4, 0, 4, 8),\n            metrics: {\n              width: a - c,\n              height: 2 + 2 * s,\n              left: 0,\n              top: 0,\n              advance: 0\n            },\n            page: 0,\n            code: 0\n          }\n        }), h = i.y, c = i.x + i.glyphMosaicItem.metrics.left;\n      }\n    }\n\n    const a = t[i - 1].x + t[i - 1].glyphMosaicItem.metrics.left + t[i - 1].glyphMosaicItem.metrics.width;\n    t.push({\n      codePoint: 0,\n      x: c,\n      y: h + e - s,\n      vertical: !1,\n      glyphMosaicItem: {\n        sdf: !0,\n        rect: new o(4, 0, 4, 8),\n        metrics: {\n          width: a - c,\n          height: 2 + 2 * s,\n          left: 0,\n          top: 0,\n          advance: 0\n        },\n        page: 0,\n        code: 0\n      }\n    });\n  }\n\n  _breakScore(t, e, i, s) {\n    const o = (t - e) * (t - e);\n    return s ? t < e ? o / 2 : 2 * o : o + Math.abs(i) * i;\n  }\n\n  _buildBreak(t, e, i, s, o, c) {\n    let h = null,\n        a = this._breakScore(e, i, o, c);\n\n    for (const l of s) {\n      const t = e - l.x,\n            s = this._breakScore(t, i, o, c) + l.score;\n      s <= a && (h = l, a = s);\n    }\n\n    return {\n      index: t,\n      x: e,\n      score: a,\n      previousBreak: h\n    };\n  }\n\n  _optimalBreaks(t) {\n    return t ? this._optimalBreaks(t.previousBreak).concat(t.index) : [];\n  }\n\n  _applyJustification(t, e, i) {\n    const s = t[i],\n          o = s.vertical ? c : s.glyphMosaicItem ? s.glyphMosaicItem.metrics.advance : 0,\n          h = (s.x + o) * this._justify;\n\n    for (let c = e; c <= i; c++) t[c].x -= h;\n  }\n\n}\n\nexport { h as SDF_GLYPH_BASELINE, c as SDF_GLYPH_SIZE, a as TextShaping };","map":{"version":3,"names":["isLineBreak","t","isWhiteSpace","e","allowsIdeographicBreak","i","hasVerticalOrientation","s","o","c","h","a","constructor","_glyphItems","_maxWidth","_lineHeight","_letterSpacing","_hAnchor","_vAnchor","_justify","getShaping","l","r","n","m","f","p","g","length","charCodeAt","push","codePoint","x","y","vertical","glyphMosaicItem","metrics","advance","Math","max","ceil","d","includes","_buildBreak","M","_optimalBreaks","u","_","I","_applyJustification","filter","getTextBox","min","width","height","getBox","left","top","abs","addDecoration","sdf","rect","page","code","_breakScore","score","index","previousBreak","concat","SDF_GLYPH_BASELINE","SDF_GLYPH_SIZE","TextShaping"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/TextShaping.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isLineBreak as t,isWhiteSpace as e,allowsIdeographicBreak as i,hasVerticalOrientation as s}from\"./ScriptUtils.js\";import o from\"../webgl/Rect.js\";const c=24,h=17;class a{constructor(t,e,i,s,o,c,h){this._glyphItems=t,this._maxWidth=e,this._lineHeight=i,this._letterSpacing=s,this._hAnchor=o,this._vAnchor=c,this._justify=h}getShaping(o,c,h){const a=this._letterSpacing,l=this._lineHeight,r=this._justify,n=this._maxWidth,m=[];let f=0,p=0;const g=o.length;for(let t=0;t<g;t++){const e=o.charCodeAt(t),i=h&&s(e);let c;for(const t of this._glyphItems)if(c=t[e],c)break;m.push({codePoint:e,x:f,y:p,vertical:i,glyphMosaicItem:c}),c&&(f+=c.metrics.advance+a)}let y=f;if(n>0){y=f/Math.max(1,Math.ceil(f/n))}const d=o.includes(\"​\"),x=[];for(let e=0;e<g-1;e++){const s=m[e].codePoint,o=i(s);if(t(s)||o){let t=0;if(10===s)t-=1e4;else if(o&&d)t+=150;else{40!==s&&65288!==s||(t+=50);const i=m[e+1].codePoint;41!==i&&65289!==i||(t+=50)}x.push(this._buildBreak(e+1,m[e].x,y,x,t,!1))}}const M=this._optimalBreaks(this._buildBreak(g,f,y,x,0,!0));let u=0;const _=c?-l:l;let I=0;for(let t=0;t<M.length;t++){const i=M[t];let s=I;for(;s<i&&e(m[s].codePoint);)m[s].glyphMosaicItem=null,++s;let o=i-1;for(;o>s&&e(m[o].codePoint);)m[o].glyphMosaicItem=null,--o;if(s<=o){const t=m[s].x;for(let i=s;i<=o;i++)m[i].x-=t,m[i].y=p;let e=m[o].x;m[o].glyphMosaicItem&&(e+=m[o].glyphMosaicItem.metrics.advance),u=Math.max(e,u),r&&this._applyJustification(m,s,o)}I=i,p+=_}if(m.length>0){const t=M.length-1,e=(r-this._hAnchor)*u;let i=(-this._vAnchor*(t+1)+.5)*l;c&&t&&(i+=t*l);for(const s of m)s.x+=e,s.y+=i}return m.filter((t=>t.glyphMosaicItem))}static getTextBox(t,e){if(!t.length)return null;let i=1/0,s=1/0,o=0,c=0;for(const a of t){const t=a.glyphMosaicItem.metrics.advance,l=a.x,r=a.y-h,n=l+t,m=r+e;i=Math.min(i,l),o=Math.max(o,n),s=Math.min(s,r),c=Math.max(c,m)}return{x:i,y:s,width:o-i,height:c-s}}static getBox(t){if(!t.length)return null;let e=1/0,i=1/0,s=0,o=0;for(const c of t){const{height:t,left:h,top:a,width:l}=c.glyphMosaicItem.metrics,r=c.x,n=c.y-(t-Math.abs(a)),m=r+l+h,f=n+t;e=Math.min(e,r),s=Math.max(s,m),i=Math.min(i,n),o=Math.max(o,f)}return{x:e,y:i,width:s-e,height:o-i}}static addDecoration(t,e){const i=t.length;if(0===i)return;const s=3;let c=t[0].x+t[0].glyphMosaicItem.metrics.left,h=t[0].y;for(let l=1;l<i;l++){const i=t[l];if(i.y!==h){const a=t[l-1].x+t[l-1].glyphMosaicItem.metrics.left+t[l-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:c,y:h+e-s,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new o(4,0,4,8),metrics:{width:a-c,height:2+2*s,left:0,top:0,advance:0},page:0,code:0}}),h=i.y,c=i.x+i.glyphMosaicItem.metrics.left}}const a=t[i-1].x+t[i-1].glyphMosaicItem.metrics.left+t[i-1].glyphMosaicItem.metrics.width;t.push({codePoint:0,x:c,y:h+e-s,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new o(4,0,4,8),metrics:{width:a-c,height:2+2*s,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(t,e,i,s){const o=(t-e)*(t-e);return s?t<e?o/2:2*o:o+Math.abs(i)*i}_buildBreak(t,e,i,s,o,c){let h=null,a=this._breakScore(e,i,o,c);for(const l of s){const t=e-l.x,s=this._breakScore(t,i,o,c)+l.score;s<=a&&(h=l,a=s)}return{index:t,x:e,score:a,previousBreak:h}}_optimalBreaks(t){return t?this._optimalBreaks(t.previousBreak).concat(t.index):[]}_applyJustification(t,e,i){const s=t[i],o=s.vertical?c:s.glyphMosaicItem?s.glyphMosaicItem.metrics.advance:0,h=(s.x+o)*this._justify;for(let c=e;c<=i;c++)t[c].x-=h}}export{h as SDF_GLYPH_BASELINE,c as SDF_GLYPH_SIZE,a as TextShaping};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}