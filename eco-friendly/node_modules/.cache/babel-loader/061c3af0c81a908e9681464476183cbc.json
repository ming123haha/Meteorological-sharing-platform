{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t } from \"../CIMCursor.js\";\nimport { GeometryWalker as i, DashPattern as s, Pos as e, EndType as n } from \"../GeometryWalker.js\";\n\nclass a {\n  static local() {\n    return null === a.instance && (a.instance = new a()), a.instance;\n  }\n\n  execute(t, i, s, e) {\n    return new r(t, i, s);\n  }\n\n}\n\na.instance = null;\n\nclass r extends t {\n  constructor(t, e, n) {\n    super(t, !0, !0), this._walker = new i(), this._walker.updateTolerance(n), this._angleToLine = void 0 === e.angleToLine || e.angleToLine, this._offset = void 0 !== e.offset ? e.offset * n : 0, this._beginGap = void 0 !== e.beginPosition ? e.beginPosition * n : 0, this._endGap = void 0 !== e.endPosition ? e.endPosition * n : 0, this._flipFirst = void 0 === e.flipFirst || e.flipFirst, this._pattern = new s(), this._pattern.init(e.positionArray, !1, !1), this._subPathLen = 0, this._posCount = this._pattern.size(), this._isFirst = !0, this._prevPos = 0;\n  }\n\n  processPath(t) {\n    if (this._pattern.isEmpty()) return null;\n    let i;\n\n    if (this.iteratePath) {\n      const t = this._pattern.nextValue() * this._subPathLen,\n            s = this._beginGap + t;\n\n      i = s - this._prevPos, this._prevPos = s;\n    } else {\n      if (this._posCount = this._pattern.size(), this._isFirst = !0, this._prevPos = 0, this._subPathLen = this._walker.calculatePathLength(t) - this._beginGap - this._endGap, this._subPathLen < 0) return this.iteratePath = !1, null;\n      if (!this._walker.init(t, this._pattern, !1)) return null;\n\n      this._pattern.reset();\n\n      const s = this._pattern.nextValue() * this._subPathLen,\n            e = this._beginGap + s;\n\n      i = e - this._prevPos, this._prevPos = e, this.iteratePath = !0;\n    }\n\n    const s = new e();\n    if (!this._walker.nextPointAndAngle(i, s, n.END)) return this.iteratePath = !1, null;\n    this.internalPlacement.setTranslate(s.pt[0] - this._offset * s.sa, s.pt[1] + this._offset * s.ca);\n    const a = this._isFirst && this._flipFirst;\n    let r, h;\n    return this._angleToLine ? (r = s.ca, h = s.sa) : (r = 1, h = 0), a && (r = -r, h = -h), this.internalPlacement.setRotateCS(r, h), this._isFirst = !1, this._posCount--, 0 === this._posCount && (this.iteratePath = !1), this.internalPlacement;\n  }\n\n}\n\nexport { a as PlacementAtRatioPositions };","map":{"version":3,"names":["PathTransformationCursor","t","GeometryWalker","i","DashPattern","s","Pos","e","EndType","n","a","local","instance","execute","r","constructor","_walker","updateTolerance","_angleToLine","angleToLine","_offset","offset","_beginGap","beginPosition","_endGap","endPosition","_flipFirst","flipFirst","_pattern","init","positionArray","_subPathLen","_posCount","size","_isFirst","_prevPos","processPath","isEmpty","iteratePath","nextValue","calculatePathLength","reset","nextPointAndAngle","END","internalPlacement","setTranslate","pt","sa","ca","h","setRotateCS","PlacementAtRatioPositions"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t}from\"../CIMCursor.js\";import{GeometryWalker as i,DashPattern as s,Pos as e,EndType as n}from\"../GeometryWalker.js\";class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,i,s,e){return new r(t,i,s)}}a.instance=null;class r extends t{constructor(t,e,n){super(t,!0,!0),this._walker=new i,this._walker.updateTolerance(n),this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*n:0,this._beginGap=void 0!==e.beginPosition?e.beginPosition*n:0,this._endGap=void 0!==e.endPosition?e.endPosition*n:0,this._flipFirst=void 0===e.flipFirst||e.flipFirst,this._pattern=new s,this._pattern.init(e.positionArray,!1,!1),this._subPathLen=0,this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0}processPath(t){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath){const t=this._pattern.nextValue()*this._subPathLen,s=this._beginGap+t;i=s-this._prevPos,this._prevPos=s}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=this._walker.calculatePathLength(t)-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();const s=this._pattern.nextValue()*this._subPathLen,e=this._beginGap+s;i=e-this._prevPos,this._prevPos=e,this.iteratePath=!0}const s=new e;if(!this._walker.nextPointAndAngle(i,s,n.END))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(s.pt[0]-this._offset*s.sa,s.pt[1]+this._offset*s.ca);const a=this._isFirst&&this._flipFirst;let r,h;return this._angleToLine?(r=s.ca,h=s.sa):(r=1,h=0),a&&(r=-r,h=-h),this.internalPlacement.setRotateCS(r,h),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement}}export{a as PlacementAtRatioPositions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}