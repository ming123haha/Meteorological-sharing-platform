{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../../core/Accessor.js\";\nimport { isSome as r, isNone as i } from \"../../../../../../core/maybe.js\";\nimport { watch as o, sync as s } from \"../../../../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../../core/arrayUtils.js\";\nimport \"../../../../../../core/has.js\";\nimport \"../../../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { distanceToTile as a } from \"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";\nimport { scaleBoundsPredicate as c } from \"../../../../../support/layerViewUtils.js\";\nlet p = class extends t {\n  constructor(e) {\n    super(e), this.pointOfInterest = null;\n  }\n\n  get tiles() {\n    const e = this.tilesCoveringView,\n          t = r(this.pointOfInterest) ? this.pointOfInterest : this.view.center;\n    return e.sort((e, r) => a(t, e) - a(t, r)), e;\n  }\n\n  _scaleEnabled() {\n    return c(this.view.scale, this.layer.minScale || 0, this.layer.maxScale || 0);\n  }\n\n  get tilesCoveringView() {\n    if (!this.view.ready || !this.view.featuresTilingScheme || !this.view.state || i(this.tileInfo)) return [];\n    if (!this._scaleEnabled) return [];\n    const {\n      spans: e,\n      lodInfo: t\n    } = this.view.featuresTilingScheme.getTileCoverage(this.view.state, 0),\n          {\n      level: r\n    } = t,\n          o = [];\n\n    for (const {\n      row: i,\n      colFrom: s,\n      colTo: l\n    } of e) for (let e = s; e <= l; e++) {\n      const s = {\n        id: null,\n        level: r,\n        row: i,\n        col: t.normalizeCol(e)\n      };\n      this.tileInfo.updateTileInfo(s), o.push(s);\n    }\n\n    return o;\n  }\n\n  get tileInfo() {\n    return this.view.featuresTilingScheme?.tileInfo ?? null;\n  }\n\n  get tileSize() {\n    return r(this.tileInfo) ? this.tileInfo.size[0] : 256;\n  }\n\n  initialize() {\n    this.own(o(() => this.view?.state?.viewpoint, () => this.notifyChange(\"tilesCoveringView\"), s));\n  }\n\n};\ne([l({\n  readOnly: !0\n})], p.prototype, \"tiles\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"_scaleEnabled\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"tilesCoveringView\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"tileInfo\", null), e([l({\n  readOnly: !0\n})], p.prototype, \"tileSize\", null), e([l({\n  constructOnly: !0\n})], p.prototype, \"view\", void 0), e([l({\n  constructOnly: !0\n})], p.prototype, \"layer\", void 0), e([l()], p.prototype, \"pointOfInterest\", void 0), p = e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")], p);\nexport { p as FeatureServiceTiles2D };","map":{"version":3,"names":["_","e","t","isSome","r","isNone","i","watch","o","sync","s","property","l","subclass","n","distanceToTile","a","scaleBoundsPredicate","c","p","constructor","pointOfInterest","tiles","tilesCoveringView","view","center","sort","_scaleEnabled","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","spans","lodInfo","getTileCoverage","level","row","colFrom","colTo","id","col","normalizeCol","updateTileInfo","push","tileSize","size","initialize","own","viewpoint","notifyChange","readOnly","prototype","constructOnly","FeatureServiceTiles2D"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{watch as o,sync as s}from\"../../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/arrayUtils.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{distanceToTile as a}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as c}from\"../../../../../support/layerViewUtils.js\";let p=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=r(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>a(t,e)-a(t,r))),e}_scaleEnabled(){return c(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||i(this.tileInfo))return[];if(!this._scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,o=[];for(const{row:i,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s={id:null,level:r,row:i,col:t.normalizeCol(e)};this.tileInfo.updateTileInfo(s),o.push(s)}return o}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return r(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.own(o((()=>this.view?.state?.viewpoint),(()=>this.notifyChange(\"tilesCoveringView\")),s))}};e([l({readOnly:!0})],p.prototype,\"tiles\",null),e([l({readOnly:!0})],p.prototype,\"_scaleEnabled\",null),e([l({readOnly:!0})],p.prototype,\"tilesCoveringView\",null),e([l({readOnly:!0})],p.prototype,\"tileInfo\",null),e([l({readOnly:!0})],p.prototype,\"tileSize\",null),e([l({constructOnly:!0})],p.prototype,\"view\",void 0),e([l({constructOnly:!0})],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"pointOfInterest\",void 0),p=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],p);export{p as FeatureServiceTiles2D};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,uCAAlB;AAA0D,OAAOC,CAAP,MAAa,oCAAb;AAAkD,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,iCAAnC;AAAqE,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,IAAI,IAAIC,CAA1B,QAAgC,yCAAhC;AAA0E,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,+DAAzB;AAAyF,OAAM,sCAAN;AAA6C,OAAM,+BAAN;AAAsC,OAAM,sDAAN;AAA6D,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,+DAAzB;AAAyF,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,sFAA/B;AAAsH,SAAOC,oBAAoB,IAAIC,CAA/B,QAAqC,0CAArC;AAAgF,IAAIC,CAAC,GAAC,cAAcjB,CAAd,CAAe;EAACkB,WAAW,CAACnB,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKoB,eAAL,GAAqB,IAA9B;EAAmC;;EAAS,IAALC,KAAK,GAAE;IAAC,MAAMrB,CAAC,GAAC,KAAKsB,iBAAb;IAAA,MAA+BrB,CAAC,GAACE,CAAC,CAAC,KAAKiB,eAAN,CAAD,GAAwB,KAAKA,eAA7B,GAA6C,KAAKG,IAAL,CAAUC,MAAxF;IAA+F,OAAOxB,CAAC,CAACyB,IAAF,CAAQ,CAACzB,CAAD,EAAGG,CAAH,KAAOY,CAAC,CAACd,CAAD,EAAGD,CAAH,CAAD,GAAOe,CAAC,CAACd,CAAD,EAAGE,CAAH,CAAvB,GAA+BH,CAAtC;EAAwC;;EAAA0B,aAAa,GAAE;IAAC,OAAOT,CAAC,CAAC,KAAKM,IAAL,CAAUI,KAAX,EAAiB,KAAKC,KAAL,CAAWC,QAAX,IAAqB,CAAtC,EAAwC,KAAKD,KAAL,CAAWE,QAAX,IAAqB,CAA7D,CAAR;EAAwE;;EAAqB,IAAjBR,iBAAiB,GAAE;IAAC,IAAG,CAAC,KAAKC,IAAL,CAAUQ,KAAX,IAAkB,CAAC,KAAKR,IAAL,CAAUS,oBAA7B,IAAmD,CAAC,KAAKT,IAAL,CAAUU,KAA9D,IAAqE5B,CAAC,CAAC,KAAK6B,QAAN,CAAzE,EAAyF,OAAM,EAAN;IAAS,IAAG,CAAC,KAAKR,aAAT,EAAuB,OAAM,EAAN;IAAS,MAAK;MAACS,KAAK,EAACnC,CAAP;MAASoC,OAAO,EAACnC;IAAjB,IAAoB,KAAKsB,IAAL,CAAUS,oBAAV,CAA+BK,eAA/B,CAA+C,KAAKd,IAAL,CAAUU,KAAzD,EAA+D,CAA/D,CAAzB;IAAA,MAA2F;MAACK,KAAK,EAACnC;IAAP,IAAUF,CAArG;IAAA,MAAuGM,CAAC,GAAC,EAAzG;;IAA4G,KAAI,MAAK;MAACgC,GAAG,EAAClC,CAAL;MAAOmC,OAAO,EAAC/B,CAAf;MAAiBgC,KAAK,EAAC9B;IAAvB,CAAT,IAAqCX,CAArC,EAAuC,KAAI,IAAIA,CAAC,GAACS,CAAV,EAAYT,CAAC,IAAEW,CAAf,EAAiBX,CAAC,EAAlB,EAAqB;MAAC,MAAMS,CAAC,GAAC;QAACiC,EAAE,EAAC,IAAJ;QAASJ,KAAK,EAACnC,CAAf;QAAiBoC,GAAG,EAAClC,CAArB;QAAuBsC,GAAG,EAAC1C,CAAC,CAAC2C,YAAF,CAAe5C,CAAf;MAA3B,CAAR;MAAsD,KAAKkC,QAAL,CAAcW,cAAd,CAA6BpC,CAA7B,GAAgCF,CAAC,CAACuC,IAAF,CAAOrC,CAAP,CAAhC;IAA0C;;IAAA,OAAOF,CAAP;EAAS;;EAAY,IAAR2B,QAAQ,GAAE;IAAC,OAAO,KAAKX,IAAL,CAAUS,oBAAV,EAAgCE,QAAhC,IAA0C,IAAjD;EAAsD;;EAAY,IAARa,QAAQ,GAAE;IAAC,OAAO5C,CAAC,CAAC,KAAK+B,QAAN,CAAD,GAAiB,KAAKA,QAAL,CAAcc,IAAd,CAAmB,CAAnB,CAAjB,GAAuC,GAA9C;EAAkD;;EAAAC,UAAU,GAAE;IAAC,KAAKC,GAAL,CAAS3C,CAAC,CAAE,MAAI,KAAKgB,IAAL,EAAWU,KAAX,EAAkBkB,SAAxB,EAAoC,MAAI,KAAKC,YAAL,CAAkB,mBAAlB,CAAxC,EAAgF3C,CAAhF,CAAV;EAA8F;;AAA37B,CAArB;AAAk9BT,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC0C,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBnC,CAAC,CAACoC,SAAtB,EAAgC,OAAhC,EAAwC,IAAxC,CAAD,EAA+CtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC0C,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBnC,CAAC,CAACoC,SAAtB,EAAgC,eAAhC,EAAgD,IAAhD,CAAhD,EAAsGtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC0C,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBnC,CAAC,CAACoC,SAAtB,EAAgC,mBAAhC,EAAoD,IAApD,CAAvG,EAAiKtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC0C,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBnC,CAAC,CAACoC,SAAtB,EAAgC,UAAhC,EAA2C,IAA3C,CAAlK,EAAmNtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC0C,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoBnC,CAAC,CAACoC,SAAtB,EAAgC,UAAhC,EAA2C,IAA3C,CAApN,EAAqQtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC4C,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBrC,CAAC,CAACoC,SAA3B,EAAqC,MAArC,EAA4C,KAAK,CAAjD,CAAtQ,EAA0TtD,CAAC,CAAC,CAACW,CAAC,CAAC;EAAC4C,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBrC,CAAC,CAACoC,SAA3B,EAAqC,OAArC,EAA6C,KAAK,CAAlD,CAA3T,EAAgXtD,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAOO,CAAC,CAACoC,SAAT,EAAmB,iBAAnB,EAAqC,KAAK,CAA1C,CAAjX,EAA8ZpC,CAAC,GAAClB,CAAC,CAAC,CAACa,CAAC,CAAC,2FAAD,CAAF,CAAD,EAAkGK,CAAlG,CAAja;AAAsgB,SAAOA,CAAC,IAAIsC,qBAAZ"},"metadata":{},"sourceType":"module"}