{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../../core/maybe.js\";\nimport { WGLGeometryType as t } from \"../enums.js\";\nimport { createProgramDescriptor as o } from \"../Utils.js\";\nimport a from \"./WGLGeometryBrush.js\";\nimport { LineMaterialKey as n } from \"../materialKey/MaterialKey.js\";\nimport { PrimitiveType as r, DataType as i } from \"../../../../webgl/enums.js\";\n\nconst s = e => o(e.data, {\n  geometry: [{\n    location: 0,\n    name: \"a_pos\",\n    count: 2,\n    type: i.SHORT\n  }, {\n    location: 1,\n    name: \"a_id\",\n    count: 4,\n    type: i.UNSIGNED_BYTE\n  }, {\n    location: 2,\n    name: \"a_color\",\n    count: 4,\n    type: i.UNSIGNED_BYTE,\n    normalized: !0\n  }, {\n    location: 3,\n    name: \"a_offsetAndNormal\",\n    count: 4,\n    type: i.BYTE\n  }, {\n    location: 4,\n    name: \"a_accumulatedDistanceAndHalfWidth\",\n    count: 2,\n    type: i.UNSIGNED_SHORT\n  }, {\n    location: 5,\n    name: \"a_tlbr\",\n    count: 4,\n    type: i.UNSIGNED_SHORT\n  }, {\n    location: 6,\n    name: \"a_segmentDirection\",\n    count: 4,\n    type: i.BYTE\n  }, {\n    location: 7,\n    name: \"a_aux\",\n    count: 2,\n    type: i.UNSIGNED_SHORT\n  }, {\n    location: 8,\n    name: \"a_zoomRange\",\n    count: 2,\n    type: i.UNSIGNED_SHORT\n  }]\n});\n\nclass m extends a {\n  dispose() {}\n\n  getGeometryType() {\n    return t.LINE;\n  }\n\n  supportsSymbology(e) {\n    return !0;\n  }\n\n  drawGeometry(t, o, a, m) {\n    const {\n      context: l,\n      painter: c,\n      rendererInfo: u,\n      displayLevel: p,\n      passOptions: d,\n      requestRender: y,\n      allowDelayedRender: _\n    } = t,\n          f = n.load(a.materialKey),\n          E = e(d) && \"hittest\" === d.type;\n    let N = s(f),\n        g = r.TRIANGLES;\n    E && (N = this._getTriangleDesc(a.materialKey, N), g = r.POINTS);\n    const {\n      attributes: S,\n      bufferLayouts: T\n    } = N,\n          U = c.materialManager.getMaterialProgram(t, f, \"materials/line\", S, m);\n    if (_ && e(y) && !U.isCompiled) return void y();\n    const G = 1 / t.pixelRatio,\n          I = 0;\n    l.useProgram(U), this._setSharedUniforms(U, t, o), f.textureBinding && c.textureManager.bindTextures(l, U, f);\n    const D = 2 ** (p - o.key.level);\n    U.setUniform1f(\"u_zoomFactor\", D), U.setUniform1f(\"u_blur\", I + G), U.setUniform1f(\"u_antialiasing\", G), this._setSizeVVUniforms(f, U, u, o), this._setColorAndOpacityVVUniforms(f, U, u), l.setFaceCullingEnabled(!1);\n    const R = a.target.getVAO(l, T, S, E);\n    let b = a.indexCount,\n        x = a.indexFrom * Uint32Array.BYTES_PER_ELEMENT;\n    E && (b /= 3, x /= 3), l.bindVAO(R), l.drawElements(g, b, i.UNSIGNED_INT, x);\n  }\n\n}\n\nexport { m as default };","map":{"version":3,"names":["isSome","e","WGLGeometryType","t","createProgramDescriptor","o","a","LineMaterialKey","n","PrimitiveType","r","DataType","i","s","data","geometry","location","name","count","type","SHORT","UNSIGNED_BYTE","normalized","BYTE","UNSIGNED_SHORT","m","dispose","getGeometryType","LINE","supportsSymbology","drawGeometry","context","l","painter","c","rendererInfo","u","displayLevel","p","passOptions","d","requestRender","y","allowDelayedRender","_","f","load","materialKey","E","N","g","TRIANGLES","_getTriangleDesc","POINTS","attributes","S","bufferLayouts","T","U","materialManager","getMaterialProgram","isCompiled","G","pixelRatio","I","useProgram","_setSharedUniforms","textureBinding","textureManager","bindTextures","D","key","level","setUniform1f","_setSizeVVUniforms","_setColorAndOpacityVVUniforms","setFaceCullingEnabled","R","target","getVAO","b","indexCount","x","indexFrom","Uint32Array","BYTES_PER_ELEMENT","bindVAO","drawElements","UNSIGNED_INT","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLGeometryBrushLine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{WGLGeometryType as t}from\"../enums.js\";import{createProgramDescriptor as o}from\"../Utils.js\";import a from\"./WGLGeometryBrush.js\";import{LineMaterialKey as n}from\"../materialKey/MaterialKey.js\";import{PrimitiveType as r,DataType as i}from\"../../../../webgl/enums.js\";const s=e=>o(e.data,{geometry:[{location:0,name:\"a_pos\",count:2,type:i.SHORT},{location:1,name:\"a_id\",count:4,type:i.UNSIGNED_BYTE},{location:2,name:\"a_color\",count:4,type:i.UNSIGNED_BYTE,normalized:!0},{location:3,name:\"a_offsetAndNormal\",count:4,type:i.BYTE},{location:4,name:\"a_accumulatedDistanceAndHalfWidth\",count:2,type:i.UNSIGNED_SHORT},{location:5,name:\"a_tlbr\",count:4,type:i.UNSIGNED_SHORT},{location:6,name:\"a_segmentDirection\",count:4,type:i.BYTE},{location:7,name:\"a_aux\",count:2,type:i.UNSIGNED_SHORT},{location:8,name:\"a_zoomRange\",count:2,type:i.UNSIGNED_SHORT}]});class m extends a{dispose(){}getGeometryType(){return t.LINE}supportsSymbology(e){return!0}drawGeometry(t,o,a,m){const{context:l,painter:c,rendererInfo:u,displayLevel:p,passOptions:d,requestRender:y,allowDelayedRender:_}=t,f=n.load(a.materialKey),E=e(d)&&\"hittest\"===d.type;let N=s(f),g=r.TRIANGLES;E&&(N=this._getTriangleDesc(a.materialKey,N),g=r.POINTS);const{attributes:S,bufferLayouts:T}=N,U=c.materialManager.getMaterialProgram(t,f,\"materials/line\",S,m);if(_&&e(y)&&!U.isCompiled)return void y();const G=1/t.pixelRatio,I=0;l.useProgram(U),this._setSharedUniforms(U,t,o),f.textureBinding&&c.textureManager.bindTextures(l,U,f);const D=2**(p-o.key.level);U.setUniform1f(\"u_zoomFactor\",D),U.setUniform1f(\"u_blur\",I+G),U.setUniform1f(\"u_antialiasing\",G),this._setSizeVVUniforms(f,U,u,o),this._setColorAndOpacityVVUniforms(f,U,u),l.setFaceCullingEnabled(!1);const R=a.target.getVAO(l,T,S,E);let b=a.indexCount,x=a.indexFrom*Uint32Array.BYTES_PER_ELEMENT;E&&(b/=3,x/=3),l.bindVAO(R),l.drawElements(g,b,i.UNSIGNED_INT,x)}}export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}