{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { PinchAndPanController as t } from \"../../state/controllers/global/PinchAndPanController.js\";\nimport { PinchAndPanController as e } from \"../../state/controllers/local/PinchAndPanController.js\";\nimport { InputHandler as s } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as r } from \"../../../input/handlers/support.js\";\n\nclass i extends s {\n  constructor(t, e, s) {\n    super(!0), this.view = t, this.pointerAction = e, this.lastEndTimestamp = 0, this.lastTimestamp = 0, this.registerIncoming(\"drag\", s, t => this._handleDrag(t));\n  }\n\n  _handleDrag(t) {\n    if (\"mouse\" === t.data.pointerType && !r(t.data, this.pointerAction)) return;\n    const e = t.timestamp - this.lastEndTimestamp,\n          s = 40,\n          i = this.momentum && this.momentum.active && e < s;\n\n    switch (t.data.action) {\n      case \"start\":\n      case \"update\":\n        if (i) break;\n        this.controller && this.controller.active ? t.data.timestamp - this.lastTimestamp > 2 && (this.controller.update(t.data), this.lastTimestamp = t.timestamp) : this._startController(t);\n        break;\n\n      case \"end\":\n      case \"removed\":\n        this._endController(t, !0);\n\n        break;\n\n      case \"added\":\n        this._endController(t, !1), this._startController(t);\n    }\n\n    t.stopPropagation();\n  }\n\n  _endController(t, e) {\n    if (this.controller && this.controller.active) {\n      this.lastEndTimestamp = t.timestamp;\n      const s = this.controller.end(t.data);\n      e && s && (this.momentum = s, this.view.state.switchCameraController(this.momentum));\n    }\n\n    this.controller = null;\n  }\n\n  _startController(t) {\n    this.controller = this._createController(), this.view.state.switchCameraController(this.controller), this.controller.begin(t.data), this.lastTimestamp = t.timestamp;\n  }\n\n  _createController() {\n    return this.view.state.isGlobal ? new t({\n      view: this.view\n    }) : new e({\n      view: this.view\n    });\n  }\n\n}\n\nexport { i as PinchAndPanNavigation };","map":{"version":3,"names":["PinchAndPanController","t","e","InputHandler","s","eventMatchesMousePointerAction","r","i","constructor","view","pointerAction","lastEndTimestamp","lastTimestamp","registerIncoming","_handleDrag","data","pointerType","timestamp","momentum","active","action","controller","update","_startController","_endController","stopPropagation","end","state","switchCameraController","_createController","begin","isGlobal","PinchAndPanNavigation"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PinchAndPanController as t}from\"../../state/controllers/global/PinchAndPanController.js\";import{PinchAndPanController as e}from\"../../state/controllers/local/PinchAndPanController.js\";import{InputHandler as s}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as r}from\"../../../input/handlers/support.js\";class i extends s{constructor(t,e,s){super(!0),this.view=t,this.pointerAction=e,this.lastEndTimestamp=0,this.lastTimestamp=0,this.registerIncoming(\"drag\",s,(t=>this._handleDrag(t)))}_handleDrag(t){if(\"mouse\"===t.data.pointerType&&!r(t.data,this.pointerAction))return;const e=t.timestamp-this.lastEndTimestamp,s=40,i=this.momentum&&this.momentum.active&&e<s;switch(t.data.action){case\"start\":case\"update\":if(i)break;this.controller&&this.controller.active?t.data.timestamp-this.lastTimestamp>2&&(this.controller.update(t.data),this.lastTimestamp=t.timestamp):this._startController(t);break;case\"end\":case\"removed\":this._endController(t,!0);break;case\"added\":this._endController(t,!1),this._startController(t)}t.stopPropagation()}_endController(t,e){if(this.controller&&this.controller.active){this.lastEndTimestamp=t.timestamp;const s=this.controller.end(t.data);e&&s&&(this.momentum=s,this.view.state.switchCameraController(this.momentum))}this.controller=null}_startController(t){this.controller=this._createController(),this.view.state.switchCameraController(this.controller),this.controller.begin(t.data),this.lastTimestamp=t.timestamp}_createController(){return this.view.state.isGlobal?new t({view:this.view}):new e({view:this.view})}}export{i as PinchAndPanNavigation};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}