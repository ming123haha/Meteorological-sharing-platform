{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as o } from \"../ShaderOutputOptions.js\";\nimport { SliceDraw as r } from \"../Slice.glsl.js\";\nimport { Transform as e } from \"../Transform.glsl.js\";\nimport { NormalAttribute as t, NormalAttributeType as i } from \"../attributes/NormalAttribute.glsl.js\";\nimport { TextureCoordinateAttribute as a } from \"../attributes/TextureCoordinateAttribute.glsl.js\";\nimport { VertexNormal as l } from \"../attributes/VertexNormal.glsl.js\";\nimport { OutputDepth as s } from \"../output/OutputDepth.glsl.js\";\nimport { OutputHighlight as d } from \"../output/OutputHighlight.glsl.js\";\nimport { VisualVariables as n } from \"../shading/VisualVariables.glsl.js\";\nimport { DiscardOrAdjustAlphaPass as u } from \"../util/AlphaDiscard.glsl.js\";\nimport { addProjViewLocalOrigin as m } from \"../util/View.glsl.js\";\nimport { Float2PassUniform as p } from \"../../shaderModules/Float2PassUniform.js\";\nimport { glsl as c } from \"../../shaderModules/interfaces.js\";\nimport { Texture2DPassUniform as v } from \"../../shaderModules/Texture2DPassUniform.js\";\n\nfunction f(f, h) {\n  const g = f.vertex.code,\n        x = f.fragment.code,\n        j = h.hasModelTransformation;\n  h.output !== o.Depth && h.output !== o.Shadow || (m(f, h), f.include(e, {\n    linearDepth: !0,\n    hasModelTransformation: j\n  }), f.include(a, h), f.include(n, h), f.include(s, h), f.include(r, h), f.vertex.uniforms.add(new p(\"nearFar\", (o, r) => r.camera.nearFar)), f.varyings.add(\"depth\", \"float\"), h.hasColorTexture && f.fragment.uniforms.add(new v(\"tex\", o => o.texture)), g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPositionWithDepth(proj, view, ${j ? \"model,\" : \"\"} vpos, nearFar, depth);\n        forwardTextureCoordinates();\n      }\n    `), f.include(u, h), x.add(c`\n      void main(void) {\n        discardBySlice(vpos);\n        ${h.hasColorTexture ? c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);` : \"\"}\n        outputDepth(depth);\n      }\n    `)), h.output === o.Normal && (m(f, h), f.include(e, {\n    linearDepth: !1,\n    hasModelTransformation: j\n  }), f.include(t, h), f.include(l, h), f.include(a, h), f.include(n, h), h.hasColorTexture && f.fragment.uniforms.add(new v(\"tex\", o => o.texture)), f.varyings.add(\"vPositionView\", \"vec3\"), g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${h.normalType === i.Attribute ? c`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));` : \"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, ${j ? \"model,\" : \"\"} vpos);\n        forwardTextureCoordinates();\n      }\n    `), f.include(r, h), f.include(u, h), x.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${h.hasColorTexture ? c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);` : \"\"}\n\n        ${h.normalType === i.ScreenDerivative ? c`\n            vec3 normal = screenDerivativeNormal(vPositionView);` : c`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)), h.output === o.Highlight && (m(f, h), f.include(e, {\n    linearDepth: !1,\n    hasModelTransformation: j\n  }), f.include(a, h), f.include(n, h), h.hasColorTexture && f.fragment.uniforms.add(new v(\"tex\", o => o.texture)), g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, ${j ? \"model,\" : \"\"} vpos);\n        forwardTextureCoordinates();\n      }\n    `), f.include(r, h), f.include(u, h), f.include(d), x.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${h.hasColorTexture ? c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);` : \"\"}\n        outputHighlight();\n      }\n    `));\n}\n\nexport { f as DefaultMaterialAuxiliaryPasses };","map":{"version":3,"names":["ShaderOutput","o","SliceDraw","r","Transform","e","NormalAttribute","t","NormalAttributeType","i","TextureCoordinateAttribute","a","VertexNormal","l","OutputDepth","s","OutputHighlight","d","VisualVariables","n","DiscardOrAdjustAlphaPass","u","addProjViewLocalOrigin","m","Float2PassUniform","p","glsl","c","Texture2DPassUniform","v","f","h","g","vertex","code","x","fragment","j","hasModelTransformation","output","Depth","Shadow","include","linearDepth","uniforms","add","camera","nearFar","varyings","hasColorTexture","texture","Normal","normalType","Attribute","ScreenDerivative","Highlight","DefaultMaterialAuxiliaryPasses"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as o}from\"../ShaderOutputOptions.js\";import{SliceDraw as r}from\"../Slice.glsl.js\";import{Transform as e}from\"../Transform.glsl.js\";import{NormalAttribute as t,NormalAttributeType as i}from\"../attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttribute as a}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as l}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as s}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as d}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as n}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as u}from\"../util/AlphaDiscard.glsl.js\";import{addProjViewLocalOrigin as m}from\"../util/View.glsl.js\";import{Float2PassUniform as p}from\"../../shaderModules/Float2PassUniform.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";import{Texture2DPassUniform as v}from\"../../shaderModules/Texture2DPassUniform.js\";function f(f,h){const g=f.vertex.code,x=f.fragment.code,j=h.hasModelTransformation;h.output!==o.Depth&&h.output!==o.Shadow||(m(f,h),f.include(e,{linearDepth:!0,hasModelTransformation:j}),f.include(a,h),f.include(n,h),f.include(s,h),f.include(r,h),f.vertex.uniforms.add(new p(\"nearFar\",((o,r)=>r.camera.nearFar))),f.varyings.add(\"depth\",\"float\"),h.hasColorTexture&&f.fragment.uniforms.add(new v(\"tex\",(o=>o.texture))),g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPositionWithDepth(proj, view, ${j?\"model,\":\"\"} vpos, nearFar, depth);\n        forwardTextureCoordinates();\n      }\n    `),f.include(u,h),x.add(c`\n      void main(void) {\n        discardBySlice(vpos);\n        ${h.hasColorTexture?c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),h.output===o.Normal&&(m(f,h),f.include(e,{linearDepth:!1,hasModelTransformation:j}),f.include(t,h),f.include(l,h),f.include(a,h),f.include(n,h),h.hasColorTexture&&f.fragment.uniforms.add(new v(\"tex\",(o=>o.texture))),f.varyings.add(\"vPositionView\",\"vec3\"),g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${h.normalType===i.Attribute?c`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, ${j?\"model,\":\"\"} vpos);\n        forwardTextureCoordinates();\n      }\n    `),f.include(r,h),f.include(u,h),x.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${h.hasColorTexture?c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${h.normalType===i.ScreenDerivative?c`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:c`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),h.output===o.Highlight&&(m(f,h),f.include(e,{linearDepth:!1,hasModelTransformation:j}),f.include(a,h),f.include(n,h),h.hasColorTexture&&f.fragment.uniforms.add(new v(\"tex\",(o=>o.texture))),g.add(c`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, ${j?\"model,\":\"\"} vpos);\n        forwardTextureCoordinates();\n      }\n    `),f.include(r,h),f.include(u,h),f.include(d),x.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${h.hasColorTexture?c`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{f as DefaultMaterialAuxiliaryPasses};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}