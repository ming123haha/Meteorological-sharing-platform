{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { g as e, h as r, r as s, k as i, m as a } from \"../../../../chunks/mat3.js\";\nimport { c as o } from \"../../../../chunks/mat3f32.js\";\nimport { f as u } from \"../../../../chunks/vec2f32.js\";\nimport { extractBands as n } from \"../../../../layers/support/rasterFunctions/pixelUtils.js\";\nimport { DisplayObject as h } from \"../DisplayObject.js\";\nimport { TextureSamplingMode as l } from \"../../../webgl/enums.js\";\nimport { createTransformTexture as d, createRasterTexture as _, createColormapTexture as m } from \"../../../webgl/rasterUtils.js\";\nconst x = {\n  bandCount: 3,\n  outMin: 0,\n  outMax: 1,\n  minCutOff: [0, 0, 0],\n  maxCutOff: [255, 255, 255],\n  factor: [1 / 255, 1 / 255, 1 / 255],\n  useGamma: !1,\n  gamma: [1, 1, 1],\n  gammaCorrection: [1, 1, 1],\n  colormap: null,\n  colormapOffset: null,\n  stretchType: \"none\",\n  type: \"stretch\"\n};\n\nclass p extends h {\n  constructor(t = null, e = null, r = null) {\n    super(), this._textureInvalidated = !0, this._colormapTextureInvalidated = !0, this._supportsBilinearTexture = !0, this.stencilRef = 0, this.coordScale = [1, 1], this._symbolizerParameters = null, this.height = null, this.isRendereredSource = !1, this.pixelRatio = 1, this.resolution = 0, this.rotation = 0, this._source = null, this.rawPixelData = null, this._suspended = !1, this._bandIds = null, this._interpolation = null, this._transformGrid = null, this.width = null, this.x = 0, this.y = 0, this.source = t, this.transformGrid = e, this.interpolation = r;\n  }\n\n  destroy() {\n    this.getTextures()?.textures.forEach(t => t.dispose()), this._rasterTexture = null, this._transformGridTexture = null, this._colormapTexture = null;\n  }\n\n  get symbolizerParameters() {\n    return this._symbolizerParameters || x;\n  }\n\n  set symbolizerParameters(t) {\n    this._symbolizerParameters !== t && (this._symbolizerParameters = t, this._colormapTextureInvalidated = !0);\n  }\n\n  get source() {\n    return this._source;\n  }\n\n  set source(t) {\n    this._source !== t && (this._source = t, this._rasterTexture && (this._rasterTexture.dispose(), this._rasterTexture = null, this._rasterTextureBandIds = null), this.invalidateTexture());\n  }\n\n  get suspended() {\n    return this._suspended;\n  }\n\n  set suspended(t) {\n    this._suspended && !t && this.stage && (this.ready(), this.requestRender()), this._suspended = t;\n  }\n\n  get bandIds() {\n    return this._bandIds;\n  }\n\n  set bandIds(t) {\n    this._bandIds = t, this._isBandIdschanged(t) && this.invalidateTexture();\n  }\n\n  get interpolation() {\n    return this._interpolation || \"nearest\";\n  }\n\n  set interpolation(t) {\n    this._interpolation = t, this._rasterTexture && this._rasterTexture.setSamplingMode(\"bilinear\" === this._getTextureSamplingMethod(t) ? l.LINEAR : l.NEAREST);\n  }\n\n  get transformGrid() {\n    return this._transformGrid;\n  }\n\n  set transformGrid(t) {\n    this._transformGrid = t, this._transformGridTexture && (this._transformGridTexture.dispose(), this._transformGridTexture = null);\n  }\n\n  invalidateTexture() {\n    this._textureInvalidated || (this._textureInvalidated = !0, this.requestRender());\n  }\n\n  _createTransforms() {\n    return {\n      dvs: o()\n    };\n  }\n\n  setTransform(t) {\n    const o = e(this.transforms.dvs),\n          [n, h] = t.toScreenNoRotation([0, 0], [this.x, this.y]),\n          l = this.resolution / this.pixelRatio / t.resolution,\n          d = l * this.width,\n          _ = l * this.height,\n          m = Math.PI * this.rotation / 180;\n\n    r(o, o, u(n, h)), r(o, o, u(d / 2, _ / 2)), s(o, o, -m), r(o, o, u(-d / 2, -_ / 2)), i(o, o, u(d, _)), a(this.transforms.dvs, t.displayViewMat3, o);\n  }\n\n  getTextures() {\n    if (!this._rasterTexture) return null;\n    const t = [],\n          e = [];\n    return this._transformGridTexture && (e.push(this._transformGridTexture), t.push(\"u_transformGrid\")), this._rasterTexture && (e.push(this._rasterTexture), t.push(\"u_image\")), this._colormapTexture && (e.push(this._colormapTexture), t.push(\"u_colormap\")), {\n      names: t,\n      textures: e\n    };\n  }\n\n  onAttach() {\n    this.invalidateTexture();\n  }\n\n  onDetach() {\n    this.invalidateTexture();\n  }\n\n  updateTexture({\n    context: t\n  }) {\n    if (!this.stage) return this._rasterTexture?.dispose(), this._transformGridTexture?.dispose(), this._colormapTexture?.dispose(), this._rasterTexture = null, this._rasterTextureBandIds = null, this._transformGridTexture = null, void (this._colormapTexture = null);\n\n    const e = this._isValidSource(this.source);\n\n    e && this._colormapTextureInvalidated && (this._colormapTextureInvalidated = !1, this._updateColormapTexture(t)), this._textureInvalidated && (this._textureInvalidated = !1, this._createOrDestroyRasterTexture(t), this._rasterTexture && (e ? this.transformGrid && !this._transformGridTexture && (this._transformGridTexture = d(t, this.transformGrid)) : this._rasterTexture.setData(null)), this.suspended || (this.ready(), this.requestRender()));\n  }\n\n  _createOrDestroyRasterTexture(e) {\n    const r = t(this.source) ? n(this.source, this.bandIds) : null;\n    if (!this._isValidSource(r)) return void (this._rasterTexture && (this._rasterTexture.dispose(), this._rasterTextureBandIds = null, this._rasterTexture = null));\n    const s = !this._isBandIdschanged(this.bandIds);\n\n    if (this._rasterTexture) {\n      if (s) return;\n      this._rasterTexture.dispose(), this._rasterTextureBandIds = null, this._rasterTexture = null;\n    }\n\n    this._supportsBilinearTexture = e.capabilities.textureFloat?.textureFloatLinear;\n\n    const i = this._getTextureSamplingMethod(this.interpolation),\n          a = this.isRendereredSource || !e.capabilities.textureFloat?.textureFloat;\n\n    this._rasterTexture = _(e, r, i, a), this._rasterTextureBandIds = this.bandIds ? [...this.bandIds] : null;\n  }\n\n  _isBandIdschanged(t) {\n    const e = this._rasterTextureBandIds;\n    return !(null == e && null == t || e && t && e.join(\"\") === t.join(\"\"));\n  }\n\n  _isValidSource(e) {\n    return t(e) && e.pixels?.length > 0;\n  }\n\n  _getTextureSamplingMethod(e) {\n    const {\n      type: r,\n      colormap: s\n    } = this.symbolizerParameters,\n          i = \"lut\" === r || \"stretch\" === r && t(s);\n    return !this._supportsBilinearTexture || i || \"bilinear\" !== e && \"cubic\" !== e ? \"nearest\" : \"bilinear\";\n  }\n\n  _updateColormapTexture(t) {\n    const e = this._colormap,\n          r = this.symbolizerParameters.colormap;\n    return r ? e ? r.length !== e.length || r.some((t, r) => t !== e[r]) ? (this._colormapTexture && (this._colormapTexture.dispose(), this._colormapTexture = null), this._colormapTexture = m(t, r), void (this._colormap = r)) : void 0 : (this._colormapTexture = m(t, r), void (this._colormap = r)) : (this._colormapTexture && (this._colormapTexture.dispose(), this._colormapTexture = null), void (this._colormap = null));\n  }\n\n}\n\nclass c extends p {\n  get source() {\n    return this._source;\n  }\n\n}\n\nfunction T(e) {\n  return t(e.source);\n}\n\nexport { p as RasterBitmap, c as RasterBitmapWithSource, T as hasSource };","map":{"version":3,"names":["isSome","t","g","e","h","r","s","k","i","m","a","c","o","f","u","extractBands","n","DisplayObject","TextureSamplingMode","l","createTransformTexture","d","createRasterTexture","_","createColormapTexture","x","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","stretchType","type","p","constructor","_textureInvalidated","_colormapTextureInvalidated","_supportsBilinearTexture","stencilRef","coordScale","_symbolizerParameters","height","isRendereredSource","pixelRatio","resolution","rotation","_source","rawPixelData","_suspended","_bandIds","_interpolation","_transformGrid","width","y","source","transformGrid","interpolation","destroy","getTextures","textures","forEach","dispose","_rasterTexture","_transformGridTexture","_colormapTexture","symbolizerParameters","_rasterTextureBandIds","invalidateTexture","suspended","stage","ready","requestRender","bandIds","_isBandIdschanged","setSamplingMode","_getTextureSamplingMethod","LINEAR","NEAREST","_createTransforms","dvs","setTransform","transforms","toScreenNoRotation","Math","PI","displayViewMat3","push","names","onAttach","onDetach","updateTexture","context","_isValidSource","_updateColormapTexture","_createOrDestroyRasterTexture","setData","capabilities","textureFloat","textureFloatLinear","join","pixels","length","_colormap","some","T","RasterBitmap","RasterBitmapWithSource","hasSource"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/imagery/RasterBitmap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{g as e,h as r,r as s,k as i,m as a}from\"../../../../chunks/mat3.js\";import{c as o}from\"../../../../chunks/mat3f32.js\";import{f as u}from\"../../../../chunks/vec2f32.js\";import{extractBands as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import{TextureSamplingMode as l}from\"../../../webgl/enums.js\";import{createTransformTexture as d,createRasterTexture as _,createColormapTexture as m}from\"../../../webgl/rasterUtils.js\";const x={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:\"none\",type:\"stretch\"};class p extends h{constructor(t=null,e=null,r=null){super(),this._textureInvalidated=!0,this._colormapTextureInvalidated=!0,this._supportsBilinearTexture=!0,this.stencilRef=0,this.coordScale=[1,1],this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.source=t,this.transformGrid=e,this.interpolation=r}destroy(){this.getTextures()?.textures.forEach((t=>t.dispose())),this._rasterTexture=null,this._transformGridTexture=null,this._colormapTexture=null}get symbolizerParameters(){return this._symbolizerParameters||x}set symbolizerParameters(t){this._symbolizerParameters!==t&&(this._symbolizerParameters=t,this._colormapTextureInvalidated=!0)}get source(){return this._source}set source(t){this._source!==t&&(this._source=t,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null),this.invalidateTexture())}get suspended(){return this._suspended}set suspended(t){this._suspended&&!t&&this.stage&&(this.ready(),this.requestRender()),this._suspended=t}get bandIds(){return this._bandIds}set bandIds(t){this._bandIds=t,this._isBandIdschanged(t)&&this.invalidateTexture()}get interpolation(){return this._interpolation||\"nearest\"}set interpolation(t){this._interpolation=t,this._rasterTexture&&this._rasterTexture.setSamplingMode(\"bilinear\"===this._getTextureSamplingMethod(t)?l.LINEAR:l.NEAREST)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid=t,this._transformGridTexture&&(this._transformGridTexture.dispose(),this._transformGridTexture=null)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}_createTransforms(){return{dvs:o()}}setTransform(t){const o=e(this.transforms.dvs),[n,h]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/t.resolution,d=l*this.width,_=l*this.height,m=Math.PI*this.rotation/180;r(o,o,u(n,h)),r(o,o,u(d/2,_/2)),s(o,o,-m),r(o,o,u(-d/2,-_/2)),i(o,o,u(d,_)),a(this.transforms.dvs,t.displayViewMat3,o)}getTextures(){if(!this._rasterTexture)return null;const t=[],e=[];return this._transformGridTexture&&(e.push(this._transformGridTexture),t.push(\"u_transformGrid\")),this._rasterTexture&&(e.push(this._rasterTexture),t.push(\"u_image\")),this._colormapTexture&&(e.push(this._colormapTexture),t.push(\"u_colormap\")),{names:t,textures:e}}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:t}){if(!this.stage)return this._rasterTexture?.dispose(),this._transformGridTexture?.dispose(),this._colormapTexture?.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,void(this._colormapTexture=null);const e=this._isValidSource(this.source);e&&this._colormapTextureInvalidated&&(this._colormapTextureInvalidated=!1,this._updateColormapTexture(t)),this._textureInvalidated&&(this._textureInvalidated=!1,this._createOrDestroyRasterTexture(t),this._rasterTexture&&(e?this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=d(t,this.transformGrid)):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender()))}_createOrDestroyRasterTexture(e){const r=t(this.source)?n(this.source,this.bandIds):null;if(!this._isValidSource(r))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const s=!this._isBandIdschanged(this.bandIds);if(this._rasterTexture){if(s)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}this._supportsBilinearTexture=e.capabilities.textureFloat?.textureFloatLinear;const i=this._getTextureSamplingMethod(this.interpolation),a=this.isRendereredSource||!e.capabilities.textureFloat?.textureFloat;this._rasterTexture=_(e,r,i,a),this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_isBandIdschanged(t){const e=this._rasterTextureBandIds;return!(null==e&&null==t||e&&t&&e.join(\"\")===t.join(\"\"))}_isValidSource(e){return t(e)&&e.pixels?.length>0}_getTextureSamplingMethod(e){const{type:r,colormap:s}=this.symbolizerParameters,i=\"lut\"===r||\"stretch\"===r&&t(s);return!this._supportsBilinearTexture||i||\"bilinear\"!==e&&\"cubic\"!==e?\"nearest\":\"bilinear\"}_updateColormapTexture(t){const e=this._colormap,r=this.symbolizerParameters.colormap;return r?e?r.length!==e.length||r.some(((t,r)=>t!==e[r]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=m(t,r),void(this._colormap=r)):void 0:(this._colormapTexture=m(t,r),void(this._colormap=r)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}}class c extends p{get source(){return this._source}}function T(e){return t(e.source)}export{p as RasterBitmap,c as RasterBitmapWithSource,T as hasSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}