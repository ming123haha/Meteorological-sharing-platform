{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { isNone as e, isSome as i } from \"../../../../core/maybe.js\";\nimport n from \"../../support/debugFlags.js\";\n\nclass s {\n  constructor(t, e, i, n = 2048) {\n    this.text = t, this._alignment = e, this._parameters = i, this.maxSize = n, this._textWidths = [], this._lineWidths = [], this._renderPixelRatio = null, this._displayWidth = null, this._heightMetrics = null, this.key = `TextRenderer-${this._parameters.key}-${this._alignment}--${t}`, this._lines = t.split(/\\r?\\n/);\n  }\n\n  get displayWidth() {\n    return Math.ceil(this._ensureTextWidth() + 2 * this.backgroundHorizontalPadding);\n  }\n\n  get displayHeight() {\n    const t = this.lineSpacing * (this._lines.length - 1),\n          e = this.lineHeight;\n    return Math.ceil(t + e + 2 * this.haloSize + this.backgroundTopPadding + this.backgroundBottomPadding);\n  }\n\n  get renderedWidth() {\n    return Math.ceil(this._toRenderUnit(this.displayWidth));\n  }\n\n  get renderedHeight() {\n    return Math.ceil(this._toRenderUnit(this.displayHeight));\n  }\n\n  get firstRenderedBaselinePosition() {\n    return this._toRenderUnit(this.firstLineYOffset + this.baselinePosition);\n  }\n\n  get firstLineYOffset() {\n    return this.backgroundTopPadding + this.haloSize;\n  }\n\n  get heightMetrics() {\n    return this._ensureHeightMetrics();\n  }\n\n  get lineSpacing() {\n    return (this.lineHeight + this.linePadding) * this._parameters.definition.lineSpacingFactor;\n  }\n\n  get lineHeight() {\n    return this.heightMetrics.lineHeight;\n  }\n\n  get linePadding() {\n    return this.lineHeight * d;\n  }\n\n  get baselinePosition() {\n    return this.heightMetrics.baselinePosition;\n  }\n\n  get renderedFontSize() {\n    return this._toRenderUnit(this.fontSize);\n  }\n\n  get fontSize() {\n    return this._parameters.definition.size;\n  }\n\n  get renderedHaloSize() {\n    return this._toRenderUnit(this.haloSize);\n  }\n\n  get haloSize() {\n    return this._parameters.haloSize;\n  }\n\n  get backgroundHorizontalPadding() {\n    return this.hasBackground ? this._parameters.definition.background.padding[0] : 0;\n  }\n\n  get backgroundVerticalPadding() {\n    return this.hasBackground ? this._parameters.definition.background.padding[1] : 0;\n  }\n\n  get backgroundTopPadding() {\n    return Math.max(0, this.backgroundVerticalPadding - this.heightMetrics.paddingTop);\n  }\n\n  get backgroundBottomPadding() {\n    return Math.max(0, this.backgroundVerticalPadding - this.heightMetrics.paddingBottom);\n  }\n\n  get hasBackground() {\n    return !!this._parameters.backgroundStyle;\n  }\n\n  get renderPixelRatio() {\n    if (e(this._renderPixelRatio)) {\n      const t = this._parameters.definition.pixelRatio;\n      this.maxSize > 0 ? this._renderPixelRatio = Math.min(t, Math.min(this.maxSize / this.displayWidth, this.maxSize / this.displayHeight)) : this._renderPixelRatio = t;\n    }\n\n    return this._renderPixelRatio;\n  }\n\n  _getLineXOffset(t) {\n    switch (this._alignment) {\n      case h.Left:\n        return this.backgroundHorizontalPadding;\n\n      case h.Center:\n        return (this.displayWidth - this._lineWidths[t]) / 2;\n\n      case h.Right:\n        return this.displayWidth - this.backgroundHorizontalPadding - this._lineWidths[t];\n    }\n  }\n\n  render(t, e = 0, i = 0) {\n    t.save();\n    const s = e /= this.renderPixelRatio,\n          r = i /= this.renderPixelRatio,\n          h = this.haloSize,\n          o = this.firstLineYOffset;\n    e += h, i += o + this.baselinePosition;\n    const a = this.haloSize > 0;\n    a && this._renderHalo(t, s, r, h, o), this._setFontProperties(t, this.renderedFontSize);\n\n    for (let n = 0; n < this._lines.length; ++n) {\n      const s = this._lines[n],\n            r = this._getLineXOffset(n);\n\n      a && (t.globalCompositeOperation = \"destination-out\", t.fillStyle = \"rgb(0, 0, 0)\", this._fillText(t, s, e + r, i), this._renderLineDecoration(t, e + r, i, this._textWidths[n])), t.globalCompositeOperation = \"source-over\", t.fillStyle = this._parameters.textStyle, this._fillText(t, s, e + this._getLineXOffset(n), i), this._renderLineDecoration(t, e + r, i, this._textWidths[n]), i += this.lineSpacing;\n    }\n\n    if (n.TEXT_SHOW_BASELINE) {\n      t.strokeStyle = g, t.setLineDash([2, 2]), t.lineWidth = 1;\n      let e = r + o;\n\n      for (let i = 0; i < this._lines.length; ++i) {\n        const i = e + this.baselinePosition;\n        this._drawLine(t, [s, i], [s + this.displayWidth, i]), e += this.lineSpacing;\n      }\n    }\n\n    if (n.TEXT_SHOW_BORDER && (t.strokeStyle = g, t.setLineDash([]), t.lineWidth = 1, this._drawBox(t, [s, r], [this.displayWidth, this.displayHeight])), this.hasBackground) {\n      const e = this._parameters.definition.background.borderRadius * this.renderPixelRatio;\n      this._roundedRect(t, s, r, e), t.globalCompositeOperation = \"destination-over\", t.fillStyle = this._parameters.backgroundStyle, t.fill();\n    }\n\n    t.restore();\n  }\n\n  _renderLineDecoration(t, e, i, n, s = !1) {\n    if (\"none\" === this._parameters.definition.font.decoration || 0 === n) return;\n    const r = 1,\n          h = Math.max(this._parameters.definition.size / 16, r);\n\n    switch (this._parameters.definition.font.decoration) {\n      case \"underline\":\n        i += 2 * h;\n        break;\n\n      case \"line-through\":\n        i -= .33 * this.baselinePosition;\n    }\n\n    const o = s ? this.haloSize : 0;\n    t.strokeStyle = s ? this._parameters.haloStyle : this._parameters.textStyle, t.lineWidth = this._toRenderUnit(h + 2 * o), t.beginPath(), t.moveTo(this._toRenderUnit(e - o), this._toRenderUnit(i)), t.lineTo(this._toRenderUnit(e + n + o), this._toRenderUnit(i)), t.stroke();\n  }\n\n  _roundedRect(e, i, n, s) {\n    i = this._toRenderUnit(i), n = this._toRenderUnit(n);\n    const r = this.renderedWidth,\n          h = this.renderedHeight;\n    0 !== s ? (s = t(s, 0, Math.floor(h / 2)), e.beginPath(), e.moveTo(i, n + s), e.arcTo(i, n, i + s, n, s), e.lineTo(i + r - s, n), e.arcTo(i + r, n, i + r, n + s, s), e.lineTo(i + r, n + h - s), e.arcTo(i + r, n + h, i + r - s, n + h, s), e.lineTo(i + s, n + h), e.arcTo(i, n + h, i, n + h - s, s), e.closePath()) : e.rect(i, n, r, h);\n  }\n\n  _renderHalo(t, e, i, n, s) {\n    const r = this.renderedWidth,\n          h = this.renderedHeight,\n          d = o(a, Math.max(r, l), Math.max(h, l)),\n          g = d.getContext(\"2d\");\n    g.clearRect(0, 0, r, h), this._setFontProperties(g, this.renderedFontSize), g.fillStyle = this._parameters.haloStyle, g.strokeStyle = this._parameters.haloStyle;\n    const c = this.renderedHaloSize < 3;\n    g.lineJoin = c ? \"miter\" : \"round\", c ? this._renderHaloEmulated(g, n, s) : this._renderHaloNative(g, n, s);\n\n    let _ = s + this.baselinePosition;\n\n    for (let o = 0; o < this._lines.length; ++o) {\n      const t = this._getLineXOffset(o);\n\n      this._renderLineDecoration(g, n + t, _, this._textWidths[o], !0), _ += this.lineSpacing;\n    }\n\n    t.globalAlpha = this._parameters.definition.halo.color[3], t.drawImage(d, 0, 0, r, h, this._toRenderUnit(e), this._toRenderUnit(i), r, h), t.globalAlpha = 1;\n  }\n\n  _renderHaloEmulated(t, e, i) {\n    i += this.baselinePosition;\n\n    for (let n = 0; n < this._lines.length; ++n) {\n      const s = this._lines[n],\n            h = this._getLineXOffset(n);\n\n      for (const [n, o] of r) this._fillText(t, s, e + h + this.haloSize * n, i + this.haloSize * o);\n\n      i += this.lineSpacing;\n    }\n  }\n\n  _renderHaloNative(t, e, i) {\n    const n = 2 * this.haloSize;\n    i += this.baselinePosition;\n\n    for (let s = 0; s < this._lines.length; ++s) {\n      const r = this._lines[s],\n            h = this._getLineXOffset(s),\n            o = 5,\n            a = .1;\n\n      for (let s = 0; s < o; s++) {\n        const d = 1 - (o - 1) * a + s * a;\n        t.lineWidth = this._toRenderUnit(d * n), this._strokeText(t, r, e + h, i);\n      }\n\n      i += this.lineSpacing;\n    }\n  }\n\n  _setFontProperties(t, e) {\n    t.font = this._parameters.fontString(e), t.textAlign = \"left\", t.textBaseline = \"alphabetic\";\n  }\n\n  _ensureTextWidth() {\n    if (i(this._displayWidth)) return this._displayWidth;\n    const t = o(a, l, l).getContext(\"2d\");\n\n    this._setFontProperties(t, this.fontSize);\n\n    let e = 2 * this.haloSize;\n    const n = this._parameters.definition.font;\n    \"italic\" !== n.style && \"oblique\" !== n.style && \"bold\" !== n.weight && \"bolder\" !== n.weight || (e += .3 * t.measureText(\"A\").width), this._textWidths.length = 0, this._lineWidths.length = 0;\n    let s = 0;\n\n    for (const i of this._lines) {\n      const n = t.measureText(i).width,\n            r = n + e;\n      this._textWidths.push(n), this._lineWidths.push(r), s = Math.max(s, r);\n    }\n\n    return this._displayWidth = s, this._displayWidth;\n  }\n\n  _ensureHeightMetrics() {\n    if (e(this._heightMetrics)) {\n      const t = o(a, l, l).getContext(\"2d\");\n\n      this._setFontProperties(t, this.fontSize);\n\n      const e = t.measureText(this.text + c),\n            i = this.hasBackground ? t.measureText(this._lines[0]) : e,\n            n = 1 === this._lines.length ? i : this.hasBackground ? t.measureText(this._lines[this._lines.length - 1]) : e,\n            s = e.actualBoundingBoxAscent + e.actualBoundingBoxDescent;\n      this._heightMetrics = {\n        paddingTop: e.actualBoundingBoxAscent - i.actualBoundingBoxAscent,\n        paddingBottom: e.actualBoundingBoxDescent - n.actualBoundingBoxDescent,\n        lineHeight: s,\n        baselinePosition: e.actualBoundingBoxAscent\n      };\n    }\n\n    return this._heightMetrics;\n  }\n\n  _toRenderUnit(t) {\n    return t * this.renderPixelRatio;\n  }\n\n  _toRoundedRenderUnit(t) {\n    return Math.round(t * this.renderPixelRatio);\n  }\n\n  _fillText(t, e, i, n) {\n    t.fillText(e, this._toRenderUnit(i), this._toRenderUnit(n));\n  }\n\n  _strokeText(t, e, i, n) {\n    t.strokeText(e, this._toRenderUnit(i), this._toRenderUnit(n));\n  }\n\n  _drawLine(t, e, i) {\n    t.beginPath(), t.moveTo(this._toRoundedRenderUnit(e[0]) + .5, this._toRoundedRenderUnit(e[1]) + .5), t.lineTo(this._toRoundedRenderUnit(i[0]) + .5, this._toRoundedRenderUnit(i[1]) + .5), t.stroke();\n  }\n\n  _drawBox(t, e, i) {\n    const n = this._toRenderUnit(e[0]),\n          s = this._toRenderUnit(e[1]),\n          r = this._toRenderUnit(i[0]),\n          h = this._toRenderUnit(i[1]),\n          o = Math.floor(n) + .5,\n          a = Math.ceil(n + r) - .5,\n          d = Math.floor(s) + .5,\n          l = Math.ceil(s + h) - .5;\n\n    t.beginPath(), t.moveTo(o, d), t.lineTo(a, d), t.lineTo(a, l), t.lineTo(o, l), t.lineTo(o, d), t.stroke();\n  }\n\n}\n\nconst r = [];\n{\n  const t = 16;\n\n  for (let e = 0; e < 360; e += 360 / t) r.push([Math.cos(Math.PI * e / 180), Math.sin(Math.PI * e / 180)]);\n}\nvar h;\n\nfunction o(t, e, i) {\n  return t.canvas || (t.canvas = document.createElement(\"canvas\")), t.canvas.width = e, t.canvas.height = i, t.canvas;\n}\n\n!function (t) {\n  t[t.Left = 0] = \"Left\", t[t.Center = 1] = \"Center\", t[t.Right = 2] = \"Right\";\n}(h || (h = {}));\n\nconst a = {\n  canvas: null\n},\n      d = .2,\n      l = 512,\n      g = \"rgb(255, 0, 255, 0.5)\",\n      c = (() => {\n  let t = \"\";\n\n  for (let e = 32; e < 127; e++) t += String.fromCharCode(e);\n\n  return t;\n})();\n\nexport { h as TextRenderAlignment, s as TextRenderer, o as getTextHelperCanvas };","map":{"version":3,"names":["clamp","t","isNone","e","isSome","i","n","s","constructor","text","_alignment","_parameters","maxSize","_textWidths","_lineWidths","_renderPixelRatio","_displayWidth","_heightMetrics","key","_lines","split","displayWidth","Math","ceil","_ensureTextWidth","backgroundHorizontalPadding","displayHeight","lineSpacing","length","lineHeight","haloSize","backgroundTopPadding","backgroundBottomPadding","renderedWidth","_toRenderUnit","renderedHeight","firstRenderedBaselinePosition","firstLineYOffset","baselinePosition","heightMetrics","_ensureHeightMetrics","linePadding","definition","lineSpacingFactor","d","renderedFontSize","fontSize","size","renderedHaloSize","hasBackground","background","padding","backgroundVerticalPadding","max","paddingTop","paddingBottom","backgroundStyle","renderPixelRatio","pixelRatio","min","_getLineXOffset","h","Left","Center","Right","render","save","r","o","a","_renderHalo","_setFontProperties","globalCompositeOperation","fillStyle","_fillText","_renderLineDecoration","textStyle","TEXT_SHOW_BASELINE","strokeStyle","g","setLineDash","lineWidth","_drawLine","TEXT_SHOW_BORDER","_drawBox","borderRadius","_roundedRect","fill","restore","font","decoration","haloStyle","beginPath","moveTo","lineTo","stroke","floor","arcTo","closePath","rect","l","getContext","clearRect","c","lineJoin","_renderHaloEmulated","_renderHaloNative","_","globalAlpha","halo","color","drawImage","_strokeText","fontString","textAlign","textBaseline","style","weight","measureText","width","push","actualBoundingBoxAscent","actualBoundingBoxDescent","_toRoundedRenderUnit","round","fillText","strokeText","cos","PI","sin","canvas","document","createElement","height","String","fromCharCode","TextRenderAlignment","TextRenderer","getTextHelperCanvas"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import n from\"../../support/debugFlags.js\";class s{constructor(t,e,i,n=2048){this.text=t,this._alignment=e,this._parameters=i,this.maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._displayWidth=null,this._heightMetrics=null,this.key=`TextRenderer-${this._parameters.key}-${this._alignment}--${t}`,this._lines=t.split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._ensureTextWidth()+2*this.backgroundHorizontalPadding)}get displayHeight(){const t=this.lineSpacing*(this._lines.length-1),e=this.lineHeight;return Math.ceil(t+e+2*this.haloSize+this.backgroundTopPadding+this.backgroundBottomPadding)}get renderedWidth(){return Math.ceil(this._toRenderUnit(this.displayWidth))}get renderedHeight(){return Math.ceil(this._toRenderUnit(this.displayHeight))}get firstRenderedBaselinePosition(){return this._toRenderUnit(this.firstLineYOffset+this.baselinePosition)}get firstLineYOffset(){return this.backgroundTopPadding+this.haloSize}get heightMetrics(){return this._ensureHeightMetrics()}get lineSpacing(){return(this.lineHeight+this.linePadding)*this._parameters.definition.lineSpacingFactor}get lineHeight(){return this.heightMetrics.lineHeight}get linePadding(){return this.lineHeight*d}get baselinePosition(){return this.heightMetrics.baselinePosition}get renderedFontSize(){return this._toRenderUnit(this.fontSize)}get fontSize(){return this._parameters.definition.size}get renderedHaloSize(){return this._toRenderUnit(this.haloSize)}get haloSize(){return this._parameters.haloSize}get backgroundHorizontalPadding(){return this.hasBackground?this._parameters.definition.background.padding[0]:0}get backgroundVerticalPadding(){return this.hasBackground?this._parameters.definition.background.padding[1]:0}get backgroundTopPadding(){return Math.max(0,this.backgroundVerticalPadding-this.heightMetrics.paddingTop)}get backgroundBottomPadding(){return Math.max(0,this.backgroundVerticalPadding-this.heightMetrics.paddingBottom)}get hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(e(this._renderPixelRatio)){const t=this._parameters.definition.pixelRatio;this.maxSize>0?this._renderPixelRatio=Math.min(t,Math.min(this.maxSize/this.displayWidth,this.maxSize/this.displayHeight)):this._renderPixelRatio=t}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case h.Left:return this.backgroundHorizontalPadding;case h.Center:return(this.displayWidth-this._lineWidths[t])/2;case h.Right:return this.displayWidth-this.backgroundHorizontalPadding-this._lineWidths[t]}}render(t,e=0,i=0){t.save();const s=e/=this.renderPixelRatio,r=i/=this.renderPixelRatio,h=this.haloSize,o=this.firstLineYOffset;e+=h,i+=o+this.baselinePosition;const a=this.haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._setFontProperties(t,this.renderedFontSize);for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,e+r,i),this._renderLineDecoration(t,e+r,i,this._textWidths[n])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,e+this._getLineXOffset(n),i),this._renderLineDecoration(t,e+r,i,this._textWidths[n]),i+=this.lineSpacing}if(n.TEXT_SHOW_BASELINE){t.strokeStyle=g,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i){const i=e+this.baselinePosition;this._drawLine(t,[s,i],[s+this.displayWidth,i]),e+=this.lineSpacing}}if(n.TEXT_SHOW_BORDER&&(t.strokeStyle=g,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this.hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this.baselinePosition}const o=s?this.haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,n,s){const r=this.renderedWidth,h=this.renderedHeight,d=o(a,Math.max(r,l),Math.max(h,l)),g=d.getContext(\"2d\");g.clearRect(0,0,r,h),this._setFontProperties(g,this.renderedFontSize),g.fillStyle=this._parameters.haloStyle,g.strokeStyle=this._parameters.haloStyle;const c=this.renderedHaloSize<3;g.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(g,n,s):this._renderHaloNative(g,n,s);let _=s+this.baselinePosition;for(let o=0;o<this._lines.length;++o){const t=this._getLineXOffset(o);this._renderLineDecoration(g,n+t,_,this._textWidths[o],!0),_+=this.lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,r,h,this._toRenderUnit(e),this._toRenderUnit(i),r,h),t.globalAlpha=1}_renderHaloEmulated(t,e,i){i+=this.baselinePosition;for(let n=0;n<this._lines.length;++n){const s=this._lines[n],h=this._getLineXOffset(n);for(const[n,o]of r)this._fillText(t,s,e+h+this.haloSize*n,i+this.haloSize*o);i+=this.lineSpacing}}_renderHaloNative(t,e,i){const n=2*this.haloSize;i+=this.baselinePosition;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this.lineSpacing}}_setFontProperties(t,e){t.font=this._parameters.fontString(e),t.textAlign=\"left\",t.textBaseline=\"alphabetic\"}_ensureTextWidth(){if(i(this._displayWidth))return this._displayWidth;const t=o(a,l,l).getContext(\"2d\");this._setFontProperties(t,this.fontSize);let e=2*this.haloSize;const n=this._parameters.definition.font;\"italic\"!==n.style&&\"oblique\"!==n.style&&\"bold\"!==n.weight&&\"bolder\"!==n.weight||(e+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let s=0;for(const i of this._lines){const n=t.measureText(i).width,r=n+e;this._textWidths.push(n),this._lineWidths.push(r),s=Math.max(s,r)}return this._displayWidth=s,this._displayWidth}_ensureHeightMetrics(){if(e(this._heightMetrics)){const t=o(a,l,l).getContext(\"2d\");this._setFontProperties(t,this.fontSize);const e=t.measureText(this.text+c),i=this.hasBackground?t.measureText(this._lines[0]):e,n=1===this._lines.length?i:this.hasBackground?t.measureText(this._lines[this._lines.length-1]):e,s=e.actualBoundingBoxAscent+e.actualBoundingBoxDescent;this._heightMetrics={paddingTop:e.actualBoundingBoxAscent-i.actualBoundingBoxAscent,paddingBottom:e.actualBoundingBoxDescent-n.actualBoundingBoxDescent,lineHeight:s,baselinePosition:e.actualBoundingBoxAscent}}return this._heightMetrics}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const r=[];{const t=16;for(let e=0;e<360;e+=360/t)r.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var h;function o(t,e,i){return t.canvas||(t.canvas=document.createElement(\"canvas\")),t.canvas.width=e,t.canvas.height=i,t.canvas}!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(h||(h={}));const a={canvas:null},d=.2,l=512,g=\"rgb(255, 0, 255, 0.5)\",c=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{h as TextRenderAlignment,s as TextRenderer,o as getTextHelperCanvas};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}