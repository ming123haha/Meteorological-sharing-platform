{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../Camera.js\";\nimport { Cyclical as t } from \"../../../core/Cyclical.js\";\nimport n from \"../../../core/Logger.js\";\nimport { deg2rad as r, rad2deg as i } from \"../../../core/mathUtils.js\";\nimport { isNone as o, unwrapOr as a, isSome as s } from \"../../../core/maybe.js\";\nimport { createResolver as c } from \"../../../core/promiseUtils.js\";\nimport { g as l, a as f, j as u, i as m, c as p } from \"../../../chunks/vec3.js\";\nimport { a as d, c as h } from \"../../../chunks/vec3f64.js\";\nimport v from \"../../../geometry/Point.js\";\nimport { projectPointToVector as g, projectVectorToVector as y, projectVectorToPoint as R, project as x } from \"../../../geometry/projection.js\";\nimport { getReferenceEllipsoid as j } from \"../../../geometry/projectionEllipsoid.js\";\nimport M from \"../../../geometry/SpatialReference.js\";\nimport { getResolutionForScale as w } from \"../../../geometry/support/scaleUtils.js\";\nimport { ViewingMode as S } from \"../../ViewingMode.js\";\nimport { cameraOnContentAlongViewDirection as T } from \"../camera/intersectionUtils.js\";\nimport { c as C, t as z } from \"../../../chunks/cameraUtilsPlanar.js\";\nimport { c as U, t as b } from \"../../../chunks/cameraUtilsSpherical.js\";\nimport { getGreatCircleSpanAt as A } from \"./earthUtils.js\";\nimport { getElevationAtPoint as D } from \"./ElevationProvider.js\";\nimport { isSpatialReferenceSupported as H } from \"../../support/spatialReferenceSupport.js\";\nconst P = n.getLogger(\"esri.views.3d.support.cameraUtils\"),\n      L = 39.37,\n      E = 96,\n      G = 1,\n      O = 8,\n      k = 5,\n      I = 1,\n      q = h(),\n      J = h(),\n      F = {\n  heading: 0,\n  tilt: 0\n},\n      W = new v(),\n      X = new t(-20037508.342788905, 20037508.342788905),\n      K = new t(-180, 180);\nvar Y;\n\nfunction N(e) {\n  return e.spatialReference || M.WGS84;\n}\n\nfunction V(e) {\n  return \"global\" === e.viewingMode ? U : C;\n}\n\nfunction Z(e, t, n, r, i) {\n  return V(e).headingTiltToDirectionUp(t, n, r, i);\n}\n\nfunction B(e, t) {\n  if (o(t)) return null;\n  const n = e.renderSpatialReference,\n        i = V(e).headingTiltToDirectionUp,\n        a = h();\n  if (!g(t.position, a, n)) return null;\n  const s = i(a, t.heading, t.tilt);\n  l(s.direction, s.direction, e.state.camera.distance), f(s.direction, s.direction, a);\n  const c = T(e, a, s.direction, s.up);\n  return c.fov = r(t.fov), c;\n}\n\n!function (e) {\n  e[e.LOCKED = 0] = \"LOCKED\", e[e.ADJUST = 1] = \"ADJUST\";\n}(Y || (Y = {}));\nconst Q = h();\n\nfunction $(t, n, r) {\n  const a = t.renderSpatialReference,\n        s = re(t, n.eye, n.viewForward, n.up, F);\n  let c = N(t);\n  return y(n.eye, a, Q, c) || (c = M.WGS84, y(n.eye, a, Q, c)), o(r) ? new e(new v(Q, c), s.heading, s.tilt, i(n.fov)) : (r.position.x = Q[0], r.position.y = Q[1], r.position.z = Q[2], r.position.spatialReference = c, r.heading = s.heading, r.tilt = s.tilt, r.fov = i(n.fov), r);\n}\n\nfunction _(e, t, n) {\n  const i = e.state.camera,\n        o = i.width / 2 / i.pixelRatio;\n  e.renderCoordsHelper.viewingMode === S.Global && null != n && (t *= Math.cos(r(n))), t /= e.renderCoordsHelper.unitInMeters;\n  return o / (E * L / t) / Math.tan(i.fovX / 2);\n}\n\nfunction ee(e, t, n) {\n  const i = e.state.camera,\n        o = t * Math.tan(i.fovX / 2),\n        a = i.width / 2 / i.pixelRatio;\n  let s = E * L / (a / o);\n  return e.renderCoordsHelper.viewingMode === S.Global && (s /= Math.cos(r(n))), s *= e.renderCoordsHelper.unitInMeters, s;\n}\n\nfunction te(e, t, n, r, i, o) {\n  return ne(e, t, _(e, n, t.latitude), r, i, o);\n}\n\nfunction ne(e, t, n, r, i, a) {\n  if (Te(a)) {\n    const s = new Se(a.signal);\n    return ce(e, r.heading, r.tilt, t, n, i, s), void s.resolver.promise.then(t => {\n      const n = Re(e, t, r.fov);\n      if (!o(n)) return a.resolver.resolve(n);\n      a.resolver.reject();\n    }, e => a.resolver.reject(e));\n  }\n\n  const s = ce(e, r.heading, r.tilt, t, n, i);\n  return Re(e, s, r.fov, a);\n}\n\nfunction re(e, t, n, r, i) {\n  return V(e).directionToHeadingTilt(t, n, r, i);\n}\n\nfunction ie(e, t) {\n  return !!(e.basemapTerrain && e.renderCoordsHelper.fromRenderCoords(t, W, e.spatialReference) && a(D(e.elevationProvider, W), 0) > W.z - I);\n}\n\nasync function oe(e, t, n) {\n  if (!e.renderCoordsHelper.fromRenderCoords(t, W, e.spatialReference)) return !1;\n  const r = await e.elevationProvider.queryElevation(W.x, W.y, W.z, W.spatialReference, \"ground\", n);\n  return a(r, 0) > W.z - I;\n}\n\nasync function ae(e, t, n) {\n  const r = h();\n  if (t) {\n    if (t instanceof v) {\n      if (g(t, r, e.renderSpatialReference), null == t.z && null != e.basemapTerrain) {\n        const i = await e.elevationProvider.queryElevation(t.x, t.y, t.z, t.spatialReference, \"ground\", n);\n        return s(i) && e.renderCoordsHelper.setAltitude(r, i), r;\n      }\n    } else p(r, t);\n  } else p(r, e.state.camera.center);\n  return r;\n}\n\nfunction se(e, t) {\n  const n = h();\n\n  if (t && t instanceof v) {\n    if (g(t, n, e.renderSpatialReference), null == t.z && null != e.basemapTerrain) {\n      const r = D(e.elevationProvider, t);\n      s(r) && e.renderCoordsHelper.setAltitude(n, r);\n    }\n  } else p(n, t || e.state.camera.center);\n\n  return n;\n}\n\nfunction ce(e, t, n, r, i, o, a) {\n  const s = r && r instanceof v ? r : null;\n  if (Te(a)) return ae(e, r, a.signal).then(r => {\n    le(e, t, n, s, r, i, o, a);\n  }, e => a.resolver.reject(e)), null;\n  const c = se(e, r);\n  return le(e, t, n, s, c, i, o, a);\n}\n\nfunction le(e, t, n, r, i, a, s, c) {\n  if (o(r)) {\n    const t = e.renderSpatialReference;\n    if (r = R(i, t, N(e)), o(r)) return null;\n  }\n\n  a = Math.max(a, e.state.constraints.minimumPoiDistance);\n  const l = pe(e, t, n, i, a, s),\n        f = (0, V(e).eyeForCenterWithHeadingTilt)(i, a, l.heading, l.tilt);\n\n  if (s === Y.ADJUST && \"global\" === e.viewingMode && n > 0) {\n    const o = () => {\n      const o = ge(e, i, a, ve(e, a, n, i));\n      return s = n - o < 1 ? Y.LOCKED : Y.ADJUST, le(e, t, o, r, i, a, s, c);\n    },\n          l = e.map.ground.navigationConstraint;\n\n    if (!l || \"stay-above\" === l.type) {\n      if (ie(e, f.eye)) return o();\n      if (Te(c)) return oe(e, f.eye, c.signal).then(e => e ? o() : (c.resolver.resolve({\n        eye: f.eye,\n        up: f.up,\n        center: d(i),\n        heading: f.heading,\n        tilt: f.tilt\n      }), null)), null;\n    }\n  }\n\n  const u = !c || Te(c) ? {\n    center: h(),\n    eye: h(),\n    up: h(),\n    tilt: 0,\n    heading: 0\n  } : c;\n  return u.eye = f.eye, u.up = f.up, u.center = d(i), u.heading = f.heading, u.tilt = f.tilt, Te(c) && c.resolver.resolve(u), u;\n}\n\nfunction fe(e, t, n, r, i, s = null) {\n  const c = null != t.zmax && null != t.zmin;\n  let l, f, u;\n\n  if (e.state.isGlobal) {\n    if (!H(t.spatialReference, S.Global)) return Te(s) && s.resolver.reject(), null;\n    const e = new v(t.xmin, t.ymin, t.spatialReference),\n          n = new v(t.xmax, t.ymax, t.spatialReference),\n          r = t.spatialReference.isGeographic ? K : X;\n    l = new v({\n      x: r.center(e.x, n.x),\n      y: (n.y + e.y) / 2,\n      z: c ? (t.zmax + t.zmin) / 2 : null,\n      spatialReference: t.spatialReference\n    });\n    const i = j(t.spatialReference),\n          o = A(l, e, n);\n    f = o.lon, u = o.lat, r.diff(e.x, n.x) > r.range / 2 && (f += i.halfCircumference), f = Math.min(f, i.halfCircumference), u = Math.min(u, i.halfCircumference);\n  } else {\n    const n = a(e.renderSpatialReference, t.spatialReference);\n    n.equals(t.spatialReference) || (t = x(t, n)), f = t.xmax - t.xmin, u = t.ymax - t.ymin;\n    const r = c ? (t.zmax + t.zmin) / 2 : null;\n    l = new v({\n      x: t.xmin + .5 * f,\n      y: t.ymin + .5 * u,\n      z: r,\n      spatialReference: n\n    });\n  }\n\n  const m = c ? t.zmax - t.zmin : 0,\n        p = e.state.camera,\n        d = 1 / Math.tan(p.fovX / 2),\n        h = 1 / Math.tan(p.fovY / 2),\n        g = 1 / Math.tan(p.fov / 2),\n        y = Math.max(.5 * f * d, .5 * u * h, .5 * m * g) / G;\n\n  if (Te(s)) {\n    const t = new Se(s.signal);\n    return ce(e, n, r, l, y, i, t), void t.resolver.promise.then(t => {\n      const n = Re(e, t, e.camera.fov);\n      if (!o(n)) return s.resolver.resolve(n);\n      s.resolver.reject();\n    }, e => s.resolver.reject(e));\n  }\n\n  const R = ce(e, n, r, l, y, i);\n  return Re(e, R, e.camera.fov, s);\n}\n\nfunction ue(e, t, n) {\n  const r = e.renderSpatialReference,\n        i = R(n, r, N(e));\n  if (o(i)) return null;\n  const a = Math.tan(t.fovX / 2),\n        s = Math.tan(t.fovY / 2),\n        c = u(t.eye, n),\n        l = 2 * c * a * G,\n        f = 2 * c * s * G;\n  return \"global\" === e.viewingMode ? b(e, i, l, f) : z(e, i, l, f);\n}\n\nfunction me(e, t, n) {\n  const r = e.pointsOfInterest.centerOnSurfaceFrequent.distance;\n  if (Math.log(n / r) / Math.LN2 > O) return !0;\n  const i = e.renderSpatialReference,\n        a = N(e),\n        s = R(t, i, a),\n        c = R(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation, i, a);\n  if (o(s) || o(c)) return !1;\n  const l = Math.tan(.5 * e.state.camera.fov) * r;\n  return c.distance(s) / l > k;\n}\n\nfunction pe(e, t, n, r, i, o) {\n  let a = 0;\n  return o === Y.ADJUST && me(e, r, i) ? (t = 0, a = he(e, i, n, r)) : a = ye(e, r, i, n), a = e.state.constraints.clampTilt(i, a), {\n    heading: t,\n    tilt: n = ge(e, r, i, a)\n  };\n}\n\nconst de = .7;\n\nfunction he(e, t, n, r) {\n  const i = e.state.constraints.tilt(t);\n  i.max = Math.min(i.max, .5 * Math.PI);\n  const o = i.min * (1 - de) + i.max * de,\n        a = ye(e, r, t, n);\n  return Math.min(a, o);\n}\n\nfunction ve(e, t, n, r) {\n  const i = e.state.constraints.tilt(t);\n  let o = ye(e, r, t, n);\n  return o = Math.min(o, .5 * Math.PI), i.min * (1 - de) + o * de;\n}\n\nfunction ge(e, t, n, r) {\n  return V(e).lookAtTiltToEyeTilt(r, t, n);\n}\n\nfunction ye(e, t, n, r) {\n  return V(e).eyeTiltToLookAtTilt(r, t, n);\n}\n\nfunction Re(t, n, r, i) {\n  if (o(n)) return null;\n  const a = t.renderSpatialReference,\n        c = R(n.eye, a, N(t));\n  return o(c) ? null : s(i) ? (i.position = c, i.heading = n.heading, i.tilt = n.tilt, i.fov = r, i) : new e(c, n.heading, n.tilt, r);\n}\n\nfunction xe(e, t) {\n  const n = e.basemapTerrain?.tilingScheme;\n  if (n) return n.levelAtScale(t);\n  P.error(\"#scaleToZoom()\", \"Cannot compute zoom from scale without a tiling scheme\");\n}\n\nfunction je(e, t) {\n  const n = e.basemapTerrain?.tilingScheme;\n  if (n) return n.scaleAtLevel(t);\n  P.error(\"#zoomToScale()\", \"Cannot compute scale from zoom without a tiling scheme\");\n}\n\nfunction Me(e, t) {\n  return e.spatialReference ? w(t, e.spatialReference) : void 0;\n}\n\nfunction we(t, n, r) {\n  const i = t.renderSpatialReference;\n  let o, a;\n  n || (n = t.state.camera);\n  const s = M.WGS84;\n  return n instanceof e ? (o = n.position.latitude, g(n.position, q, i), g(r, J, i), a = m(q, J)) : (y(n.center, i, J, s), o = J[1], a = n.distance), ee(t, a, o);\n}\n\nclass Se {\n  constructor(e) {\n    this.signal = e, this.resolver = c();\n  }\n\n}\n\nfunction Te(e) {\n  return e && \"resolver\" in e;\n}\n\nexport { Se as AsyncContext, Y as OrientationMode, we as computeScale, re as directionToHeadingTilt, ee as distanceToScale, B as externalToInternal, ne as fromCenterDistance, te as fromCenterScale, fe as fromExtent, ce as getObserverForPointAtDistance, Z as headingTiltToDirectionUp, $ as internalToExternal, Re as observerToCamera, _ as scaleToDistance, Me as scaleToResolution, xe as scaleToZoom, ue as toExtent, je as zoomToScale };","map":{"version":3,"names":["e","Cyclical","t","n","deg2rad","r","rad2deg","i","isNone","o","unwrapOr","a","isSome","s","createResolver","c","g","l","f","j","u","m","p","d","h","v","projectPointToVector","projectVectorToVector","y","projectVectorToPoint","R","project","x","getReferenceEllipsoid","M","getResolutionForScale","w","ViewingMode","S","cameraOnContentAlongViewDirection","T","C","z","U","b","getGreatCircleSpanAt","A","getElevationAtPoint","D","isSpatialReferenceSupported","H","P","getLogger","L","E","G","O","k","I","q","J","F","heading","tilt","W","X","K","Y","N","spatialReference","WGS84","V","viewingMode","Z","headingTiltToDirectionUp","B","renderSpatialReference","position","direction","state","camera","distance","up","fov","LOCKED","ADJUST","Q","$","re","eye","viewForward","_","width","pixelRatio","renderCoordsHelper","Global","Math","cos","unitInMeters","tan","fovX","ee","te","ne","latitude","Te","Se","signal","ce","resolver","promise","then","Re","resolve","reject","directionToHeadingTilt","ie","basemapTerrain","fromRenderCoords","elevationProvider","oe","queryElevation","ae","setAltitude","center","se","le","max","constraints","minimumPoiDistance","pe","eyeForCenterWithHeadingTilt","ge","ve","map","ground","navigationConstraint","type","fe","zmax","zmin","isGlobal","xmin","ymin","xmax","ymax","isGeographic","lon","lat","diff","range","halfCircumference","min","equals","fovY","ue","me","pointsOfInterest","centerOnSurfaceFrequent","log","LN2","renderLocation","he","ye","clampTilt","de","PI","lookAtTiltToEyeTilt","eyeTiltToLookAtTilt","xe","tilingScheme","levelAtScale","error","je","scaleAtLevel","Me","we","constructor","AsyncContext","OrientationMode","computeScale","distanceToScale","externalToInternal","fromCenterDistance","fromCenterScale","fromExtent","getObserverForPointAtDistance","internalToExternal","observerToCamera","scaleToDistance","scaleToResolution","scaleToZoom","toExtent","zoomToScale"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/support/cameraUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import{Cyclical as t}from\"../../../core/Cyclical.js\";import n from\"../../../core/Logger.js\";import{deg2rad as r,rad2deg as i}from\"../../../core/mathUtils.js\";import{isNone as o,unwrapOr as a,isSome as s}from\"../../../core/maybe.js\";import{createResolver as c}from\"../../../core/promiseUtils.js\";import{g as l,a as f,j as u,i as m,c as p}from\"../../../chunks/vec3.js\";import{a as d,c as h}from\"../../../chunks/vec3f64.js\";import v from\"../../../geometry/Point.js\";import{projectPointToVector as g,projectVectorToVector as y,projectVectorToPoint as R,project as x}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as j}from\"../../../geometry/projectionEllipsoid.js\";import M from\"../../../geometry/SpatialReference.js\";import{getResolutionForScale as w}from\"../../../geometry/support/scaleUtils.js\";import{ViewingMode as S}from\"../../ViewingMode.js\";import{cameraOnContentAlongViewDirection as T}from\"../camera/intersectionUtils.js\";import{c as C,t as z}from\"../../../chunks/cameraUtilsPlanar.js\";import{c as U,t as b}from\"../../../chunks/cameraUtilsSpherical.js\";import{getGreatCircleSpanAt as A}from\"./earthUtils.js\";import{getElevationAtPoint as D}from\"./ElevationProvider.js\";import{isSpatialReferenceSupported as H}from\"../../support/spatialReferenceSupport.js\";const P=n.getLogger(\"esri.views.3d.support.cameraUtils\"),L=39.37,E=96,G=1,O=8,k=5,I=1,q=h(),J=h(),F={heading:0,tilt:0},W=new v,X=new t(-20037508.342788905,20037508.342788905),K=new t(-180,180);var Y;function N(e){return e.spatialReference||M.WGS84}function V(e){return\"global\"===e.viewingMode?U:C}function Z(e,t,n,r,i){return V(e).headingTiltToDirectionUp(t,n,r,i)}function B(e,t){if(o(t))return null;const n=e.renderSpatialReference,i=V(e).headingTiltToDirectionUp,a=h();if(!g(t.position,a,n))return null;const s=i(a,t.heading,t.tilt);l(s.direction,s.direction,e.state.camera.distance),f(s.direction,s.direction,a);const c=T(e,a,s.direction,s.up);return c.fov=r(t.fov),c}!function(e){e[e.LOCKED=0]=\"LOCKED\",e[e.ADJUST=1]=\"ADJUST\"}(Y||(Y={}));const Q=h();function $(t,n,r){const a=t.renderSpatialReference,s=re(t,n.eye,n.viewForward,n.up,F);let c=N(t);return y(n.eye,a,Q,c)||(c=M.WGS84,y(n.eye,a,Q,c)),o(r)?new e(new v(Q,c),s.heading,s.tilt,i(n.fov)):(r.position.x=Q[0],r.position.y=Q[1],r.position.z=Q[2],r.position.spatialReference=c,r.heading=s.heading,r.tilt=s.tilt,r.fov=i(n.fov),r)}function _(e,t,n){const i=e.state.camera,o=i.width/2/i.pixelRatio;e.renderCoordsHelper.viewingMode===S.Global&&null!=n&&(t*=Math.cos(r(n))),t/=e.renderCoordsHelper.unitInMeters;return o/(E*L/t)/Math.tan(i.fovX/2)}function ee(e,t,n){const i=e.state.camera,o=t*Math.tan(i.fovX/2),a=i.width/2/i.pixelRatio;let s=E*L/(a/o);return e.renderCoordsHelper.viewingMode===S.Global&&(s/=Math.cos(r(n))),s*=e.renderCoordsHelper.unitInMeters,s}function te(e,t,n,r,i,o){return ne(e,t,_(e,n,t.latitude),r,i,o)}function ne(e,t,n,r,i,a){if(Te(a)){const s=new Se(a.signal);return ce(e,r.heading,r.tilt,t,n,i,s),void s.resolver.promise.then((t=>{const n=Re(e,t,r.fov);if(!o(n))return a.resolver.resolve(n);a.resolver.reject()}),(e=>a.resolver.reject(e)))}const s=ce(e,r.heading,r.tilt,t,n,i);return Re(e,s,r.fov,a)}function re(e,t,n,r,i){return V(e).directionToHeadingTilt(t,n,r,i)}function ie(e,t){return!!(e.basemapTerrain&&e.renderCoordsHelper.fromRenderCoords(t,W,e.spatialReference)&&a(D(e.elevationProvider,W),0)>W.z-I)}async function oe(e,t,n){if(!e.renderCoordsHelper.fromRenderCoords(t,W,e.spatialReference))return!1;const r=await e.elevationProvider.queryElevation(W.x,W.y,W.z,W.spatialReference,\"ground\",n);return a(r,0)>W.z-I}async function ae(e,t,n){const r=h();if(t)if(t instanceof v){if(g(t,r,e.renderSpatialReference),null==t.z&&null!=e.basemapTerrain){const i=await e.elevationProvider.queryElevation(t.x,t.y,t.z,t.spatialReference,\"ground\",n);return s(i)&&e.renderCoordsHelper.setAltitude(r,i),r}}else p(r,t);else p(r,e.state.camera.center);return r}function se(e,t){const n=h();if(t&&t instanceof v){if(g(t,n,e.renderSpatialReference),null==t.z&&null!=e.basemapTerrain){const r=D(e.elevationProvider,t);s(r)&&e.renderCoordsHelper.setAltitude(n,r)}}else p(n,t||e.state.camera.center);return n}function ce(e,t,n,r,i,o,a){const s=r&&r instanceof v?r:null;if(Te(a))return ae(e,r,a.signal).then((r=>{le(e,t,n,s,r,i,o,a)}),(e=>a.resolver.reject(e))),null;const c=se(e,r);return le(e,t,n,s,c,i,o,a)}function le(e,t,n,r,i,a,s,c){if(o(r)){const t=e.renderSpatialReference;if(r=R(i,t,N(e)),o(r))return null}a=Math.max(a,e.state.constraints.minimumPoiDistance);const l=pe(e,t,n,i,a,s),f=(0,V(e).eyeForCenterWithHeadingTilt)(i,a,l.heading,l.tilt);if(s===Y.ADJUST&&\"global\"===e.viewingMode&&n>0){const o=()=>{const o=ge(e,i,a,ve(e,a,n,i));return s=n-o<1?Y.LOCKED:Y.ADJUST,le(e,t,o,r,i,a,s,c)},l=e.map.ground.navigationConstraint;if(!l||\"stay-above\"===l.type){if(ie(e,f.eye))return o();if(Te(c))return oe(e,f.eye,c.signal).then((e=>e?o():(c.resolver.resolve({eye:f.eye,up:f.up,center:d(i),heading:f.heading,tilt:f.tilt}),null))),null}}const u=!c||Te(c)?{center:h(),eye:h(),up:h(),tilt:0,heading:0}:c;return u.eye=f.eye,u.up=f.up,u.center=d(i),u.heading=f.heading,u.tilt=f.tilt,Te(c)&&c.resolver.resolve(u),u}function fe(e,t,n,r,i,s=null){const c=null!=t.zmax&&null!=t.zmin;let l,f,u;if(e.state.isGlobal){if(!H(t.spatialReference,S.Global))return Te(s)&&s.resolver.reject(),null;const e=new v(t.xmin,t.ymin,t.spatialReference),n=new v(t.xmax,t.ymax,t.spatialReference),r=t.spatialReference.isGeographic?K:X;l=new v({x:r.center(e.x,n.x),y:(n.y+e.y)/2,z:c?(t.zmax+t.zmin)/2:null,spatialReference:t.spatialReference});const i=j(t.spatialReference),o=A(l,e,n);f=o.lon,u=o.lat,r.diff(e.x,n.x)>r.range/2&&(f+=i.halfCircumference),f=Math.min(f,i.halfCircumference),u=Math.min(u,i.halfCircumference)}else{const n=a(e.renderSpatialReference,t.spatialReference);n.equals(t.spatialReference)||(t=x(t,n)),f=t.xmax-t.xmin,u=t.ymax-t.ymin;const r=c?(t.zmax+t.zmin)/2:null;l=new v({x:t.xmin+.5*f,y:t.ymin+.5*u,z:r,spatialReference:n})}const m=c?t.zmax-t.zmin:0,p=e.state.camera,d=1/Math.tan(p.fovX/2),h=1/Math.tan(p.fovY/2),g=1/Math.tan(p.fov/2),y=Math.max(.5*f*d,.5*u*h,.5*m*g)/G;if(Te(s)){const t=new Se(s.signal);return ce(e,n,r,l,y,i,t),void t.resolver.promise.then((t=>{const n=Re(e,t,e.camera.fov);if(!o(n))return s.resolver.resolve(n);s.resolver.reject()}),(e=>s.resolver.reject(e)))}const R=ce(e,n,r,l,y,i);return Re(e,R,e.camera.fov,s)}function ue(e,t,n){const r=e.renderSpatialReference,i=R(n,r,N(e));if(o(i))return null;const a=Math.tan(t.fovX/2),s=Math.tan(t.fovY/2),c=u(t.eye,n),l=2*c*a*G,f=2*c*s*G;return\"global\"===e.viewingMode?b(e,i,l,f):z(e,i,l,f)}function me(e,t,n){const r=e.pointsOfInterest.centerOnSurfaceFrequent.distance;if(Math.log(n/r)/Math.LN2>O)return!0;const i=e.renderSpatialReference,a=N(e),s=R(t,i,a),c=R(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i,a);if(o(s)||o(c))return!1;const l=Math.tan(.5*e.state.camera.fov)*r;return c.distance(s)/l>k}function pe(e,t,n,r,i,o){let a=0;return o===Y.ADJUST&&me(e,r,i)?(t=0,a=he(e,i,n,r)):a=ye(e,r,i,n),a=e.state.constraints.clampTilt(i,a),{heading:t,tilt:n=ge(e,r,i,a)}}const de=.7;function he(e,t,n,r){const i=e.state.constraints.tilt(t);i.max=Math.min(i.max,.5*Math.PI);const o=i.min*(1-de)+i.max*de,a=ye(e,r,t,n);return Math.min(a,o)}function ve(e,t,n,r){const i=e.state.constraints.tilt(t);let o=ye(e,r,t,n);return o=Math.min(o,.5*Math.PI),i.min*(1-de)+o*de}function ge(e,t,n,r){return V(e).lookAtTiltToEyeTilt(r,t,n)}function ye(e,t,n,r){return V(e).eyeTiltToLookAtTilt(r,t,n)}function Re(t,n,r,i){if(o(n))return null;const a=t.renderSpatialReference,c=R(n.eye,a,N(t));return o(c)?null:s(i)?(i.position=c,i.heading=n.heading,i.tilt=n.tilt,i.fov=r,i):new e(c,n.heading,n.tilt,r)}function xe(e,t){const n=e.basemapTerrain?.tilingScheme;if(n)return n.levelAtScale(t);P.error(\"#scaleToZoom()\",\"Cannot compute zoom from scale without a tiling scheme\")}function je(e,t){const n=e.basemapTerrain?.tilingScheme;if(n)return n.scaleAtLevel(t);P.error(\"#zoomToScale()\",\"Cannot compute scale from zoom without a tiling scheme\")}function Me(e,t){return e.spatialReference?w(t,e.spatialReference):void 0}function we(t,n,r){const i=t.renderSpatialReference;let o,a;n||(n=t.state.camera);const s=M.WGS84;return n instanceof e?(o=n.position.latitude,g(n.position,q,i),g(r,J,i),a=m(q,J)):(y(n.center,i,J,s),o=J[1],a=n.distance),ee(t,a,o)}class Se{constructor(e){this.signal=e,this.resolver=c()}}function Te(e){return e&&\"resolver\"in e}export{Se as AsyncContext,Y as OrientationMode,we as computeScale,re as directionToHeadingTilt,ee as distanceToScale,B as externalToInternal,ne as fromCenterDistance,te as fromCenterScale,fe as fromExtent,ce as getObserverForPointAtDistance,Z as headingTiltToDirectionUp,$ as internalToExternal,Re as observerToCamera,_ as scaleToDistance,Me as scaleToResolution,xe as scaleToZoom,ue as toExtent,je as zoomToScale};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}