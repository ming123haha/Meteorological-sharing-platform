{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../Accessor.js\";\nimport t from \"../Collection.js\";\nimport { isNone as n, isSome as o } from \"../maybe.js\";\nimport { getProperties as r } from \"./utils.js\";\nconst f = [\"esri.Color\", \"esri.portal.Portal\", \"esri.symbols.support.Symbol3DAnchorPosition2D\", \"esri.symbols.support.Symbol3DAnchorPosition3D\"];\n\nfunction i(t) {\n  return t instanceof e;\n}\n\nfunction c(e) {\n  return e instanceof t ? Object.keys(e.items) : i(e) ? r(e).keys() : e ? Object.keys(e) : [];\n}\n\nfunction l(e, n) {\n  return e instanceof t ? e.items[n] : e[n];\n}\n\nfunction u(e, t) {\n  return !(!Array.isArray(e) || !Array.isArray(t)) && e.length !== t.length;\n}\n\nfunction s(e) {\n  return e ? e.declaredClass : null;\n}\n\nfunction p(e, t) {\n  const n = e.diff;\n  if (n && \"function\" == typeof n) return n(e, t);\n  const r = c(e),\n        a = c(t);\n  if (0 === r.length && 0 === a.length) return;\n  if (!r.length || !a.length || u(e, t)) return {\n    type: \"complete\",\n    oldValue: e,\n    newValue: t\n  };\n  const y = a.filter(e => !r.includes(e)),\n        m = r.filter(e => !a.includes(e)),\n        d = r.filter(n => a.includes(n) && l(e, n) !== l(t, n)).concat(y, m).sort(),\n        b = s(e);\n  if (b && f.includes(b) && d.length) return {\n    type: \"complete\",\n    oldValue: e,\n    newValue: t\n  };\n  let h;\n  const g = i(e) && i(t);\n\n  for (const f of d) {\n    const r = l(e, f),\n          i = l(t, f);\n    let c;\n\n    if ((g || \"function\" != typeof r && \"function\" != typeof i) && r !== i && (null != r || null != i)) {\n      if (n && n[f] && \"function\" == typeof n[f]) c = n[f](r, i);else if (r instanceof Date && i instanceof Date) {\n        if (r.getTime() === i.getTime()) continue;\n        c = {\n          type: \"complete\",\n          oldValue: r,\n          newValue: i\n        };\n      } else c = \"object\" == typeof r && \"object\" == typeof i && s(r) === s(i) ? p(r, i) : {\n        type: \"complete\",\n        oldValue: r,\n        newValue: i\n      };\n      o(c) && (o(h) ? h.diff[f] = c : h = {\n        type: \"partial\",\n        diff: {\n          [f]: c\n        }\n      });\n    }\n  }\n\n  return h;\n}\n\nfunction a(e, t) {\n  if (n(e)) return !1;\n  const o = t.split(\".\");\n  let r = e;\n\n  for (const n of o) {\n    if (\"complete\" === r.type) return !0;\n    if (\"partial\" !== r.type) return !1;\n    {\n      const e = r.diff[n];\n      if (!e) return !1;\n      r = e;\n    }\n  }\n\n  return !0;\n}\n\nfunction y(e, t) {\n  for (const n of t) if (a(e, n)) return !0;\n\n  return !1;\n}\n\nfunction m(e, t) {\n  if (!(\"function\" == typeof e || \"function\" == typeof t || n(e) && n(t))) return n(e) || n(t) || \"object\" == typeof e && \"object\" == typeof t && s(e) !== s(t) ? {\n    type: \"complete\",\n    oldValue: e,\n    newValue: t\n  } : p(e, t);\n}\n\nfunction d(e) {\n  if (n(e)) return !0;\n\n  switch (e.type) {\n    case \"complete\":\n      return !1;\n\n    case \"collection\":\n      {\n        const t = e;\n\n        for (const e of t.added) if (!d(e)) return !1;\n\n        for (const e of t.removed) if (!d(e)) return !1;\n\n        for (const e of t.changed) if (!d(e)) return !1;\n\n        return !0;\n      }\n\n    case \"partial\":\n      for (const t in e.diff) {\n        if (!d(e.diff[t])) return !1;\n      }\n\n      return !0;\n  }\n}\n\nexport { m as diff, a as hasDiff, y as hasDiffAny, d as isEmpty };","map":{"version":3,"names":["e","t","isNone","n","isSome","o","getProperties","r","f","i","c","Object","keys","items","l","u","Array","isArray","length","s","declaredClass","p","diff","a","type","oldValue","newValue","y","filter","includes","m","d","concat","sort","b","h","g","Date","getTime","split","added","removed","changed","hasDiff","hasDiffAny","isEmpty"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/core/accessorSupport/diffUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../Accessor.js\";import t from\"../Collection.js\";import{isNone as n,isSome as o}from\"../maybe.js\";import{getProperties as r}from\"./utils.js\";const f=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function i(t){return t instanceof e}function c(e){return e instanceof t?Object.keys(e.items):i(e)?r(e).keys():e?Object.keys(e):[]}function l(e,n){return e instanceof t?e.items[n]:e[n]}function u(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function s(e){return e?e.declaredClass:null}function p(e,t){const n=e.diff;if(n&&\"function\"==typeof n)return n(e,t);const r=c(e),a=c(t);if(0===r.length&&0===a.length)return;if(!r.length||!a.length||u(e,t))return{type:\"complete\",oldValue:e,newValue:t};const y=a.filter((e=>!r.includes(e))),m=r.filter((e=>!a.includes(e))),d=r.filter((n=>a.includes(n)&&l(e,n)!==l(t,n))).concat(y,m).sort(),b=s(e);if(b&&f.includes(b)&&d.length)return{type:\"complete\",oldValue:e,newValue:t};let h;const g=i(e)&&i(t);for(const f of d){const r=l(e,f),i=l(t,f);let c;if((g||\"function\"!=typeof r&&\"function\"!=typeof i)&&(r!==i&&(null!=r||null!=i))){if(n&&n[f]&&\"function\"==typeof n[f])c=n[f](r,i);else if(r instanceof Date&&i instanceof Date){if(r.getTime()===i.getTime())continue;c={type:\"complete\",oldValue:r,newValue:i}}else c=\"object\"==typeof r&&\"object\"==typeof i&&s(r)===s(i)?p(r,i):{type:\"complete\",oldValue:r,newValue:i};o(c)&&(o(h)?h.diff[f]=c:h={type:\"partial\",diff:{[f]:c}})}}return h}function a(e,t){if(n(e))return!1;const o=t.split(\".\");let r=e;for(const n of o){if(\"complete\"===r.type)return!0;if(\"partial\"!==r.type)return!1;{const e=r.diff[n];if(!e)return!1;r=e}}return!0}function y(e,t){for(const n of t)if(a(e,n))return!0;return!1}function m(e,t){if(!(\"function\"==typeof e||\"function\"==typeof t||n(e)&&n(t)))return n(e)||n(t)||\"object\"==typeof e&&\"object\"==typeof t&&s(e)!==s(t)?{type:\"complete\",oldValue:e,newValue:t}:p(e,t)}function d(e){if(n(e))return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!d(e))return!1;for(const e of t.removed)if(!d(e))return!1;for(const e of t.changed)if(!d(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!d(e.diff[t]))return!1}return!0}}export{m as diff,a as hasDiff,y as hasDiffAny,d as isEmpty};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}