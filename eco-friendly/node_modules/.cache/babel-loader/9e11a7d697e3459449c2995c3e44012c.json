{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t } from \"../../../../../core/maybe.js\";\nimport { c as i, f as a } from \"../../../../../chunks/vec2f32.js\";\nimport { FADE_DURATION as r } from \"../../vectorTiles/decluttering/config.js\";\nimport { RotationAlignment as s, SymbolPlacement as n, TranslateAnchor as o } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { VTL_TEXTURE_BINDING_UNIT_SPRITES as l, VTL_TEXTURE_BINDING_UNIT_GLYPHS as f } from \"../definitions.js\";\nimport { WGLDrawPhase as u } from \"../enums.js\";\nimport { degToByte as m } from \"../GeometryUtils.js\";\nimport { u32to4Xu8 as p } from \"../number.js\";\nimport c from \"./WGLBrush.js\";\nimport { TextureSamplingMode as d, CompareFunction as g, PrimitiveType as y, DataType as _ } from \"../../../../webgl/enums.js\";\nconst h = 1 / 65536;\n\nclass M extends c {\n  constructor() {\n    super(...arguments), this._iconProgramOptions = {\n      id: !1,\n      sdf: !1\n    }, this._sdfProgramOptions = {\n      id: !1\n    }, this._spritesTextureSize = i();\n  }\n\n  dispose() {}\n\n  drawMany(e, t) {\n    const {\n      drawPhase: i,\n      styleLayerUID: a\n    } = e,\n          r = e.styleLayer;\n    let s;\n    i === u.HITTEST && (s = p(a + 1)), this._drawIcons(e, r, t, s), this._drawText(e, r, t, s);\n  }\n\n  _drawIcons(i, a, f, p) {\n    const {\n      context: c,\n      displayLevel: d,\n      drawPhase: g,\n      painter: y,\n      spriteMosaic: _,\n      state: h,\n      styleLayerUID: M,\n      requestRender: P\n    } = i,\n          T = a.iconMaterial,\n          U = y.vectorTilesMaterialManager;\n    let E,\n        x = !1;\n\n    for (const e of f) if (e.layerData.has(M) && (E = e.layerData.get(M), E.iconPerPageElementsMap.size > 0)) {\n      x = !0;\n      break;\n    }\n\n    if (!x) return;\n    const v = a.getPaintValue(\"icon-translate\", d),\n          I = a.getPaintValue(\"icon-translate-anchor\", d);\n    let S = a.getLayoutValue(\"icon-rotation-alignment\", d);\n    S === s.AUTO && (S = a.getLayoutValue(\"symbol-placement\", d) === n.POINT ? s.VIEWPORT : s.MAP);\n    const D = S === s.MAP,\n          V = a.getLayoutValue(\"icon-keep-upright\", d) && D,\n          R = E.isIconSDF,\n          w = g === u.HITTEST,\n          A = this._iconProgramOptions;\n    A.id = w, A.sdf = R;\n    const L = U.getMaterialProgram(c, T, A);\n    if (e(P) && !w && !L.isCompiled) return void P();\n    c.useProgram(L), L.setUniformMatrix3fv(\"u_displayViewMat3\", S === s.MAP ? h.displayViewMat3 : h.displayMat3), L.setUniformMatrix3fv(\"u_displayMat3\", I === o.VIEWPORT ? h.displayMat3 : h.displayViewMat3), L.setUniform2fv(\"u_iconTranslation\", v), L.setUniform1f(\"u_depth\", a.z), L.setUniform1f(\"u_mapRotation\", m(h.rotation)), L.setUniform1f(\"u_keepUpright\", V ? 1 : 0), L.setUniform1f(\"u_level\", 10 * d), L.setUniform1i(\"u_texture\", l), L.setUniform1f(\"u_fadeDuration\", r / 1e3), w && L.setUniform4fv(\"u_id\", p);\n    let O = -1;\n\n    for (const e of f) {\n      if (!e.layerData.has(M)) continue;\n      if (e.key.level !== O && (O = e.key.level, T.setDataUniforms(L, d, a, O, _)), E = e.layerData.get(M), 0 === E.iconPerPageElementsMap.size) continue;\n      E.prepareForRendering(c), E.updateOpacityInfo();\n      const r = E.iconVertexArrayObject;\n\n      if (!t(r)) {\n        c.bindVAO(r), L.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.dvs), L.setUniform1f(\"u_time\", (performance.now() - E.lastOpacityUpdate) / 1e3);\n\n        for (const [t, a] of E.iconPerPageElementsMap) this._renderIconRange(i, L, a, t, e);\n      }\n    }\n  }\n\n  _renderIconRange(e, t, i, a, r) {\n    const {\n      context: s,\n      spriteMosaic: n\n    } = e;\n    this._spritesTextureSize[0] = n.getWidth(a) / 4, this._spritesTextureSize[1] = n.getHeight(a) / 4, t.setUniform2fv(\"u_mosaicSize\", this._spritesTextureSize), n.bind(s, d.LINEAR, a, l), s.setStencilTestEnabled(!0), s.setStencilFunction(g.GREATER, 255, 255), s.setStencilWriteMask(0), s.drawElements(y.TRIANGLES, i[1], _.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * i[0]), r.triangleCount += i[1] / 3;\n  }\n\n  _drawText(i, l, p, c) {\n    const {\n      context: d,\n      displayLevel: y,\n      drawPhase: _,\n      glyphMosaic: M,\n      painter: P,\n      pixelRatio: T,\n      spriteMosaic: U,\n      state: E,\n      styleLayerUID: x,\n      requestRender: v\n    } = i,\n          I = l.textMaterial,\n          S = P.vectorTilesMaterialManager;\n    let D,\n        V = !1;\n\n    for (const e of p) if (e.layerData.has(x) && (D = e.layerData.get(x), D.glyphPerPageElementsMap.size > 0)) {\n      V = !0;\n      break;\n    }\n\n    if (!V) return;\n    const R = l.getPaintProperty(\"text-opacity\");\n    if (R && !R.isDataDriven && 0 === R.getValue(y)) return;\n    const w = l.getPaintProperty(\"text-color\"),\n          A = !w || w.isDataDriven || w.getValue(y)[3] > 0,\n          L = l.getPaintProperty(\"text-halo-width\"),\n          O = l.getPaintProperty(\"text-halo-color\"),\n          N = (!L || L.isDataDriven || L.getValue(y) > 0) && (!O || O.isDataDriven || O.getValue(y)[3] > 0);\n    if (!A && !N) return;\n    const b = 24 / 8;\n    let z = l.getLayoutValue(\"text-rotation-alignment\", y);\n    z === s.AUTO && (z = l.getLayoutValue(\"symbol-placement\", y) === n.POINT ? s.VIEWPORT : s.MAP);\n    const k = z === s.MAP,\n          j = l.getLayoutValue(\"text-keep-upright\", y) && k,\n          G = _ === u.HITTEST,\n          W = .8 * b / T;\n    this._glyphTextureSize || (this._glyphTextureSize = a(M.width / 4, M.height / 4));\n    const C = l.getPaintValue(\"text-translate\", y),\n          F = l.getPaintValue(\"text-translate-anchor\", y),\n          B = this._sdfProgramOptions;\n    B.id = G;\n    const H = S.getMaterialProgram(d, I, B);\n    if (e(v) && !G && !H.isCompiled) return void v();\n    d.useProgram(H), H.setUniformMatrix3fv(\"u_displayViewMat3\", z === s.MAP ? E.displayViewMat3 : E.displayMat3), H.setUniformMatrix3fv(\"u_displayMat3\", F === o.VIEWPORT ? E.displayMat3 : E.displayViewMat3), H.setUniform2fv(\"u_textTranslation\", C), H.setUniform1f(\"u_depth\", l.z + h), H.setUniform2fv(\"u_mosaicSize\", this._glyphTextureSize), H.setUniform1f(\"u_mapRotation\", m(E.rotation)), H.setUniform1f(\"u_keepUpright\", j ? 1 : 0), H.setUniform1f(\"u_level\", 10 * y), H.setUniform1i(\"u_texture\", f), H.setUniform1f(\"u_antialiasingWidth\", W), H.setUniform1f(\"u_fadeDuration\", r / 1e3), G && H.setUniform4fv(\"u_id\", c);\n    let Y = -1;\n\n    for (const e of p) {\n      if (!e.layerData.has(x)) continue;\n      if (e.key.level !== Y && (Y = e.key.level, I.setDataUniforms(H, y, l, Y, U)), D = e.layerData.get(x), 0 === D.glyphPerPageElementsMap.size) continue;\n      D.prepareForRendering(d), D.updateOpacityInfo();\n      const i = D.textVertexArrayObject;\n      if (t(i)) continue;\n      d.bindVAO(i), H.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.dvs), d.setStencilTestEnabled(!0), d.setStencilFunction(g.GREATER, 255, 255), d.setStencilWriteMask(0);\n      const a = (performance.now() - D.lastOpacityUpdate) / 1e3;\n      H.setUniform1f(\"u_time\", a), D.glyphPerPageElementsMap.forEach((t, i) => {\n        this._renderGlyphRange(d, t, i, M, H, N, A, e);\n      });\n    }\n  }\n\n  _renderGlyphRange(e, t, i, a, r, s, n, o) {\n    a.bind(e, d.LINEAR, i, f), s && (r.setUniform1f(\"u_halo\", 1), e.drawElements(y.TRIANGLES, t[1], _.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t[0]), o.triangleCount += t[1] / 3), n && (r.setUniform1f(\"u_halo\", 0), e.drawElements(y.TRIANGLES, t[1], _.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t[0]), o.triangleCount += t[1] / 3);\n  }\n\n}\n\nexport { M as WGLBrushVTLSymbol };","map":{"version":3,"names":["isSome","e","isNone","t","c","i","f","a","FADE_DURATION","r","RotationAlignment","s","SymbolPlacement","n","TranslateAnchor","o","VTL_TEXTURE_BINDING_UNIT_SPRITES","l","VTL_TEXTURE_BINDING_UNIT_GLYPHS","WGLDrawPhase","u","degToByte","m","u32to4Xu8","p","TextureSamplingMode","d","CompareFunction","g","PrimitiveType","y","DataType","_","h","M","constructor","arguments","_iconProgramOptions","id","sdf","_sdfProgramOptions","_spritesTextureSize","dispose","drawMany","drawPhase","styleLayerUID","styleLayer","HITTEST","_drawIcons","_drawText","context","displayLevel","painter","spriteMosaic","state","requestRender","P","T","iconMaterial","U","vectorTilesMaterialManager","E","x","layerData","has","get","iconPerPageElementsMap","size","v","getPaintValue","I","S","getLayoutValue","AUTO","POINT","VIEWPORT","MAP","D","V","R","isIconSDF","w","A","L","getMaterialProgram","isCompiled","useProgram","setUniformMatrix3fv","displayViewMat3","displayMat3","setUniform2fv","setUniform1f","z","rotation","setUniform1i","setUniform4fv","O","key","level","setDataUniforms","prepareForRendering","updateOpacityInfo","iconVertexArrayObject","bindVAO","transforms","dvs","performance","now","lastOpacityUpdate","_renderIconRange","getWidth","getHeight","bind","LINEAR","setStencilTestEnabled","setStencilFunction","GREATER","setStencilWriteMask","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","triangleCount","glyphMosaic","pixelRatio","textMaterial","glyphPerPageElementsMap","getPaintProperty","isDataDriven","getValue","N","b","k","j","G","W","_glyphTextureSize","width","height","C","F","B","H","Y","textVertexArrayObject","forEach","_renderGlyphRange","WGLBrushVTLSymbol"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../../core/maybe.js\";import{c as i,f as a}from\"../../../../../chunks/vec2f32.js\";import{FADE_DURATION as r}from\"../../vectorTiles/decluttering/config.js\";import{RotationAlignment as s,SymbolPlacement as n,TranslateAnchor as o}from\"../../vectorTiles/style/StyleDefinition.js\";import{VTL_TEXTURE_BINDING_UNIT_SPRITES as l,VTL_TEXTURE_BINDING_UNIT_GLYPHS as f}from\"../definitions.js\";import{WGLDrawPhase as u}from\"../enums.js\";import{degToByte as m}from\"../GeometryUtils.js\";import{u32to4Xu8 as p}from\"../number.js\";import c from\"./WGLBrush.js\";import{TextureSamplingMode as d,CompareFunction as g,PrimitiveType as y,DataType as _}from\"../../../../webgl/enums.js\";const h=1/65536;class M extends c{constructor(){super(...arguments),this._iconProgramOptions={id:!1,sdf:!1},this._sdfProgramOptions={id:!1},this._spritesTextureSize=i()}dispose(){}drawMany(e,t){const{drawPhase:i,styleLayerUID:a}=e,r=e.styleLayer;let s;i===u.HITTEST&&(s=p(a+1)),this._drawIcons(e,r,t,s),this._drawText(e,r,t,s)}_drawIcons(i,a,f,p){const{context:c,displayLevel:d,drawPhase:g,painter:y,spriteMosaic:_,state:h,styleLayerUID:M,requestRender:P}=i,T=a.iconMaterial,U=y.vectorTilesMaterialManager;let E,x=!1;for(const e of f)if(e.layerData.has(M)&&(E=e.layerData.get(M),E.iconPerPageElementsMap.size>0)){x=!0;break}if(!x)return;const v=a.getPaintValue(\"icon-translate\",d),I=a.getPaintValue(\"icon-translate-anchor\",d);let S=a.getLayoutValue(\"icon-rotation-alignment\",d);S===s.AUTO&&(S=a.getLayoutValue(\"symbol-placement\",d)===n.POINT?s.VIEWPORT:s.MAP);const D=S===s.MAP,V=a.getLayoutValue(\"icon-keep-upright\",d)&&D,R=E.isIconSDF,w=g===u.HITTEST,A=this._iconProgramOptions;A.id=w,A.sdf=R;const L=U.getMaterialProgram(c,T,A);if(e(P)&&!w&&!L.isCompiled)return void P();c.useProgram(L),L.setUniformMatrix3fv(\"u_displayViewMat3\",S===s.MAP?h.displayViewMat3:h.displayMat3),L.setUniformMatrix3fv(\"u_displayMat3\",I===o.VIEWPORT?h.displayMat3:h.displayViewMat3),L.setUniform2fv(\"u_iconTranslation\",v),L.setUniform1f(\"u_depth\",a.z),L.setUniform1f(\"u_mapRotation\",m(h.rotation)),L.setUniform1f(\"u_keepUpright\",V?1:0),L.setUniform1f(\"u_level\",10*d),L.setUniform1i(\"u_texture\",l),L.setUniform1f(\"u_fadeDuration\",r/1e3),w&&L.setUniform4fv(\"u_id\",p);let O=-1;for(const e of f){if(!e.layerData.has(M))continue;if(e.key.level!==O&&(O=e.key.level,T.setDataUniforms(L,d,a,O,_)),E=e.layerData.get(M),0===E.iconPerPageElementsMap.size)continue;E.prepareForRendering(c),E.updateOpacityInfo();const r=E.iconVertexArrayObject;if(!t(r)){c.bindVAO(r),L.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.dvs),L.setUniform1f(\"u_time\",(performance.now()-E.lastOpacityUpdate)/1e3);for(const[t,a]of E.iconPerPageElementsMap)this._renderIconRange(i,L,a,t,e)}}}_renderIconRange(e,t,i,a,r){const{context:s,spriteMosaic:n}=e;this._spritesTextureSize[0]=n.getWidth(a)/4,this._spritesTextureSize[1]=n.getHeight(a)/4,t.setUniform2fv(\"u_mosaicSize\",this._spritesTextureSize),n.bind(s,d.LINEAR,a,l),s.setStencilTestEnabled(!0),s.setStencilFunction(g.GREATER,255,255),s.setStencilWriteMask(0),s.drawElements(y.TRIANGLES,i[1],_.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]),r.triangleCount+=i[1]/3}_drawText(i,l,p,c){const{context:d,displayLevel:y,drawPhase:_,glyphMosaic:M,painter:P,pixelRatio:T,spriteMosaic:U,state:E,styleLayerUID:x,requestRender:v}=i,I=l.textMaterial,S=P.vectorTilesMaterialManager;let D,V=!1;for(const e of p)if(e.layerData.has(x)&&(D=e.layerData.get(x),D.glyphPerPageElementsMap.size>0)){V=!0;break}if(!V)return;const R=l.getPaintProperty(\"text-opacity\");if(R&&!R.isDataDriven&&0===R.getValue(y))return;const w=l.getPaintProperty(\"text-color\"),A=!w||w.isDataDriven||w.getValue(y)[3]>0,L=l.getPaintProperty(\"text-halo-width\"),O=l.getPaintProperty(\"text-halo-color\"),N=(!L||L.isDataDriven||L.getValue(y)>0)&&(!O||O.isDataDriven||O.getValue(y)[3]>0);if(!A&&!N)return;const b=24/8;let z=l.getLayoutValue(\"text-rotation-alignment\",y);z===s.AUTO&&(z=l.getLayoutValue(\"symbol-placement\",y)===n.POINT?s.VIEWPORT:s.MAP);const k=z===s.MAP,j=l.getLayoutValue(\"text-keep-upright\",y)&&k,G=_===u.HITTEST,W=.8*b/T;this._glyphTextureSize||(this._glyphTextureSize=a(M.width/4,M.height/4));const C=l.getPaintValue(\"text-translate\",y),F=l.getPaintValue(\"text-translate-anchor\",y),B=this._sdfProgramOptions;B.id=G;const H=S.getMaterialProgram(d,I,B);if(e(v)&&!G&&!H.isCompiled)return void v();d.useProgram(H),H.setUniformMatrix3fv(\"u_displayViewMat3\",z===s.MAP?E.displayViewMat3:E.displayMat3),H.setUniformMatrix3fv(\"u_displayMat3\",F===o.VIEWPORT?E.displayMat3:E.displayViewMat3),H.setUniform2fv(\"u_textTranslation\",C),H.setUniform1f(\"u_depth\",l.z+h),H.setUniform2fv(\"u_mosaicSize\",this._glyphTextureSize),H.setUniform1f(\"u_mapRotation\",m(E.rotation)),H.setUniform1f(\"u_keepUpright\",j?1:0),H.setUniform1f(\"u_level\",10*y),H.setUniform1i(\"u_texture\",f),H.setUniform1f(\"u_antialiasingWidth\",W),H.setUniform1f(\"u_fadeDuration\",r/1e3),G&&H.setUniform4fv(\"u_id\",c);let Y=-1;for(const e of p){if(!e.layerData.has(x))continue;if(e.key.level!==Y&&(Y=e.key.level,I.setDataUniforms(H,y,l,Y,U)),D=e.layerData.get(x),0===D.glyphPerPageElementsMap.size)continue;D.prepareForRendering(d),D.updateOpacityInfo();const i=D.textVertexArrayObject;if(t(i))continue;d.bindVAO(i),H.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.dvs),d.setStencilTestEnabled(!0),d.setStencilFunction(g.GREATER,255,255),d.setStencilWriteMask(0);const a=(performance.now()-D.lastOpacityUpdate)/1e3;H.setUniform1f(\"u_time\",a),D.glyphPerPageElementsMap.forEach(((t,i)=>{this._renderGlyphRange(d,t,i,M,H,N,A,e)}))}}_renderGlyphRange(e,t,i,a,r,s,n,o){a.bind(e,d.LINEAR,i,f),s&&(r.setUniform1f(\"u_halo\",1),e.drawElements(y.TRIANGLES,t[1],_.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),o.triangleCount+=t[1]/3),n&&(r.setUniform1f(\"u_halo\",0),e.drawElements(y.TRIANGLES,t[1],_.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),o.triangleCount+=t[1]/3)}}export{M as WGLBrushVTLSymbol};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,8BAAnC;AAAkE,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,QAAyB,kCAAzB;AAA4D,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,0CAA9B;AAAyE,SAAOC,iBAAiB,IAAIC,CAA5B,EAA8BC,eAAe,IAAIC,CAAjD,EAAmDC,eAAe,IAAIC,CAAtE,QAA4E,4CAA5E;AAAyH,SAAOC,gCAAgC,IAAIC,CAA3C,EAA6CC,+BAA+B,IAAIZ,CAAhF,QAAsF,mBAAtF;AAA0G,SAAOa,YAAY,IAAIC,CAAvB,QAA6B,aAA7B;AAA2C,SAAOC,SAAS,IAAIC,CAApB,QAA0B,qBAA1B;AAAgD,SAAOC,SAAS,IAAIC,CAApB,QAA0B,cAA1B;AAAyC,OAAOpB,CAAP,MAAa,eAAb;AAA6B,SAAOqB,mBAAmB,IAAIC,CAA9B,EAAgCC,eAAe,IAAIC,CAAnD,EAAqDC,aAAa,IAAIC,CAAtE,EAAwEC,QAAQ,IAAIC,CAApF,QAA0F,4BAA1F;AAAuH,MAAMC,CAAC,GAAC,IAAE,KAAV;;AAAgB,MAAMC,CAAN,SAAgB9B,CAAhB,CAAiB;EAAC+B,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKC,mBAAL,GAAyB;MAACC,EAAE,EAAC,CAAC,CAAL;MAAOC,GAAG,EAAC,CAAC;IAAZ,CAA7C,EAA4D,KAAKC,kBAAL,GAAwB;MAACF,EAAE,EAAC,CAAC;IAAL,CAApF,EAA4F,KAAKG,mBAAL,GAAyBpC,CAAC,EAAtH;EAAyH;;EAAAqC,OAAO,GAAE,CAAE;;EAAAC,QAAQ,CAAC1C,CAAD,EAAGE,CAAH,EAAK;IAAC,MAAK;MAACyC,SAAS,EAACvC,CAAX;MAAawC,aAAa,EAACtC;IAA3B,IAA8BN,CAAnC;IAAA,MAAqCQ,CAAC,GAACR,CAAC,CAAC6C,UAAzC;IAAoD,IAAInC,CAAJ;IAAMN,CAAC,KAAGe,CAAC,CAAC2B,OAAN,KAAgBpC,CAAC,GAACa,CAAC,CAACjB,CAAC,GAAC,CAAH,CAAnB,GAA0B,KAAKyC,UAAL,CAAgB/C,CAAhB,EAAkBQ,CAAlB,EAAoBN,CAApB,EAAsBQ,CAAtB,CAA1B,EAAmD,KAAKsC,SAAL,CAAehD,CAAf,EAAiBQ,CAAjB,EAAmBN,CAAnB,EAAqBQ,CAArB,CAAnD;EAA2E;;EAAAqC,UAAU,CAAC3C,CAAD,EAAGE,CAAH,EAAKD,CAAL,EAAOkB,CAAP,EAAS;IAAC,MAAK;MAAC0B,OAAO,EAAC9C,CAAT;MAAW+C,YAAY,EAACzB,CAAxB;MAA0BkB,SAAS,EAAChB,CAApC;MAAsCwB,OAAO,EAACtB,CAA9C;MAAgDuB,YAAY,EAACrB,CAA7D;MAA+DsB,KAAK,EAACrB,CAArE;MAAuEY,aAAa,EAACX,CAArF;MAAuFqB,aAAa,EAACC;IAArG,IAAwGnD,CAA7G;IAAA,MAA+GoD,CAAC,GAAClD,CAAC,CAACmD,YAAnH;IAAA,MAAgIC,CAAC,GAAC7B,CAAC,CAAC8B,0BAApI;IAA+J,IAAIC,CAAJ;IAAA,IAAMC,CAAC,GAAC,CAAC,CAAT;;IAAW,KAAI,MAAM7D,CAAV,IAAeK,CAAf,EAAiB,IAAGL,CAAC,CAAC8D,SAAF,CAAYC,GAAZ,CAAgB9B,CAAhB,MAAqB2B,CAAC,GAAC5D,CAAC,CAAC8D,SAAF,CAAYE,GAAZ,CAAgB/B,CAAhB,CAAF,EAAqB2B,CAAC,CAACK,sBAAF,CAAyBC,IAAzB,GAA8B,CAAxE,CAAH,EAA8E;MAACL,CAAC,GAAC,CAAC,CAAH;MAAK;IAAM;;IAAA,IAAG,CAACA,CAAJ,EAAM;IAAO,MAAMM,CAAC,GAAC7D,CAAC,CAAC8D,aAAF,CAAgB,gBAAhB,EAAiC3C,CAAjC,CAAR;IAAA,MAA4C4C,CAAC,GAAC/D,CAAC,CAAC8D,aAAF,CAAgB,uBAAhB,EAAwC3C,CAAxC,CAA9C;IAAyF,IAAI6C,CAAC,GAAChE,CAAC,CAACiE,cAAF,CAAiB,yBAAjB,EAA2C9C,CAA3C,CAAN;IAAoD6C,CAAC,KAAG5D,CAAC,CAAC8D,IAAN,KAAaF,CAAC,GAAChE,CAAC,CAACiE,cAAF,CAAiB,kBAAjB,EAAoC9C,CAApC,MAAyCb,CAAC,CAAC6D,KAA3C,GAAiD/D,CAAC,CAACgE,QAAnD,GAA4DhE,CAAC,CAACiE,GAA7E;IAAkF,MAAMC,CAAC,GAACN,CAAC,KAAG5D,CAAC,CAACiE,GAAd;IAAA,MAAkBE,CAAC,GAACvE,CAAC,CAACiE,cAAF,CAAiB,mBAAjB,EAAqC9C,CAArC,KAAyCmD,CAA7D;IAAA,MAA+DE,CAAC,GAAClB,CAAC,CAACmB,SAAnE;IAAA,MAA6EC,CAAC,GAACrD,CAAC,KAAGR,CAAC,CAAC2B,OAArF;IAAA,MAA6FmC,CAAC,GAAC,KAAK7C,mBAApG;IAAwH6C,CAAC,CAAC5C,EAAF,GAAK2C,CAAL,EAAOC,CAAC,CAAC3C,GAAF,GAAMwC,CAAb;IAAe,MAAMI,CAAC,GAACxB,CAAC,CAACyB,kBAAF,CAAqBhF,CAArB,EAAuBqD,CAAvB,EAAyByB,CAAzB,CAAR;IAAoC,IAAGjF,CAAC,CAACuD,CAAD,CAAD,IAAM,CAACyB,CAAP,IAAU,CAACE,CAAC,CAACE,UAAhB,EAA2B,OAAO,KAAK7B,CAAC,EAAb;IAAgBpD,CAAC,CAACkF,UAAF,CAAaH,CAAb,GAAgBA,CAAC,CAACI,mBAAF,CAAsB,mBAAtB,EAA0ChB,CAAC,KAAG5D,CAAC,CAACiE,GAAN,GAAU3C,CAAC,CAACuD,eAAZ,GAA4BvD,CAAC,CAACwD,WAAxE,CAAhB,EAAqGN,CAAC,CAACI,mBAAF,CAAsB,eAAtB,EAAsCjB,CAAC,KAAGvD,CAAC,CAAC4D,QAAN,GAAe1C,CAAC,CAACwD,WAAjB,GAA6BxD,CAAC,CAACuD,eAArE,CAArG,EAA2LL,CAAC,CAACO,aAAF,CAAgB,mBAAhB,EAAoCtB,CAApC,CAA3L,EAAkOe,CAAC,CAACQ,YAAF,CAAe,SAAf,EAAyBpF,CAAC,CAACqF,CAA3B,CAAlO,EAAgQT,CAAC,CAACQ,YAAF,CAAe,eAAf,EAA+BrE,CAAC,CAACW,CAAC,CAAC4D,QAAH,CAAhC,CAAhQ,EAA8SV,CAAC,CAACQ,YAAF,CAAe,eAAf,EAA+Bb,CAAC,GAAC,CAAD,GAAG,CAAnC,CAA9S,EAAoVK,CAAC,CAACQ,YAAF,CAAe,SAAf,EAAyB,KAAGjE,CAA5B,CAApV,EAAmXyD,CAAC,CAACW,YAAF,CAAe,WAAf,EAA2B7E,CAA3B,CAAnX,EAAiZkE,CAAC,CAACQ,YAAF,CAAe,gBAAf,EAAgClF,CAAC,GAAC,GAAlC,CAAjZ,EAAwbwE,CAAC,IAAEE,CAAC,CAACY,aAAF,CAAgB,MAAhB,EAAuBvE,CAAvB,CAA3b;IAAqd,IAAIwE,CAAC,GAAC,CAAC,CAAP;;IAAS,KAAI,MAAM/F,CAAV,IAAeK,CAAf,EAAiB;MAAC,IAAG,CAACL,CAAC,CAAC8D,SAAF,CAAYC,GAAZ,CAAgB9B,CAAhB,CAAJ,EAAuB;MAAS,IAAGjC,CAAC,CAACgG,GAAF,CAAMC,KAAN,KAAcF,CAAd,KAAkBA,CAAC,GAAC/F,CAAC,CAACgG,GAAF,CAAMC,KAAR,EAAczC,CAAC,CAAC0C,eAAF,CAAkBhB,CAAlB,EAAoBzD,CAApB,EAAsBnB,CAAtB,EAAwByF,CAAxB,EAA0BhE,CAA1B,CAAhC,GAA8D6B,CAAC,GAAC5D,CAAC,CAAC8D,SAAF,CAAYE,GAAZ,CAAgB/B,CAAhB,CAAhE,EAAmF,MAAI2B,CAAC,CAACK,sBAAF,CAAyBC,IAAnH,EAAwH;MAASN,CAAC,CAACuC,mBAAF,CAAsBhG,CAAtB,GAAyByD,CAAC,CAACwC,iBAAF,EAAzB;MAA+C,MAAM5F,CAAC,GAACoD,CAAC,CAACyC,qBAAV;;MAAgC,IAAG,CAACnG,CAAC,CAACM,CAAD,CAAL,EAAS;QAACL,CAAC,CAACmG,OAAF,CAAU9F,CAAV,GAAa0E,CAAC,CAACI,mBAAF,CAAsB,WAAtB,EAAkCtF,CAAC,CAACuG,UAAF,CAAaC,GAA/C,CAAb,EAAiEtB,CAAC,CAACQ,YAAF,CAAe,QAAf,EAAwB,CAACe,WAAW,CAACC,GAAZ,KAAkB9C,CAAC,CAAC+C,iBAArB,IAAwC,GAAhE,CAAjE;;QAAsI,KAAI,MAAK,CAACzG,CAAD,EAAGI,CAAH,CAAT,IAAiBsD,CAAC,CAACK,sBAAnB,EAA0C,KAAK2C,gBAAL,CAAsBxG,CAAtB,EAAwB8E,CAAxB,EAA0B5E,CAA1B,EAA4BJ,CAA5B,EAA8BF,CAA9B;MAAiC;IAAC;EAAC;;EAAA4G,gBAAgB,CAAC5G,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,EAAW;IAAC,MAAK;MAACyC,OAAO,EAACvC,CAAT;MAAW0C,YAAY,EAACxC;IAAxB,IAA2BZ,CAAhC;IAAkC,KAAKwC,mBAAL,CAAyB,CAAzB,IAA4B5B,CAAC,CAACiG,QAAF,CAAWvG,CAAX,IAAc,CAA1C,EAA4C,KAAKkC,mBAAL,CAAyB,CAAzB,IAA4B5B,CAAC,CAACkG,SAAF,CAAYxG,CAAZ,IAAe,CAAvF,EAAyFJ,CAAC,CAACuF,aAAF,CAAgB,cAAhB,EAA+B,KAAKjD,mBAApC,CAAzF,EAAkJ5B,CAAC,CAACmG,IAAF,CAAOrG,CAAP,EAASe,CAAC,CAACuF,MAAX,EAAkB1G,CAAlB,EAAoBU,CAApB,CAAlJ,EAAyKN,CAAC,CAACuG,qBAAF,CAAwB,CAAC,CAAzB,CAAzK,EAAqMvG,CAAC,CAACwG,kBAAF,CAAqBvF,CAAC,CAACwF,OAAvB,EAA+B,GAA/B,EAAmC,GAAnC,CAArM,EAA6OzG,CAAC,CAAC0G,mBAAF,CAAsB,CAAtB,CAA7O,EAAsQ1G,CAAC,CAAC2G,YAAF,CAAexF,CAAC,CAACyF,SAAjB,EAA2BlH,CAAC,CAAC,CAAD,CAA5B,EAAgC2B,CAAC,CAACwF,YAAlC,EAA+CC,WAAW,CAACC,iBAAZ,GAA8BrH,CAAC,CAAC,CAAD,CAA9E,CAAtQ,EAAyVI,CAAC,CAACkH,aAAF,IAAiBtH,CAAC,CAAC,CAAD,CAAD,GAAK,CAA/W;EAAiX;;EAAA4C,SAAS,CAAC5C,CAAD,EAAGY,CAAH,EAAKO,CAAL,EAAOpB,CAAP,EAAS;IAAC,MAAK;MAAC8C,OAAO,EAACxB,CAAT;MAAWyB,YAAY,EAACrB,CAAxB;MAA0Bc,SAAS,EAACZ,CAApC;MAAsC4F,WAAW,EAAC1F,CAAlD;MAAoDkB,OAAO,EAACI,CAA5D;MAA8DqE,UAAU,EAACpE,CAAzE;MAA2EJ,YAAY,EAACM,CAAxF;MAA0FL,KAAK,EAACO,CAAhG;MAAkGhB,aAAa,EAACiB,CAAhH;MAAkHP,aAAa,EAACa;IAAhI,IAAmI/D,CAAxI;IAAA,MAA0IiE,CAAC,GAACrD,CAAC,CAAC6G,YAA9I;IAAA,MAA2JvD,CAAC,GAACf,CAAC,CAACI,0BAA/J;IAA0L,IAAIiB,CAAJ;IAAA,IAAMC,CAAC,GAAC,CAAC,CAAT;;IAAW,KAAI,MAAM7E,CAAV,IAAeuB,CAAf,EAAiB,IAAGvB,CAAC,CAAC8D,SAAF,CAAYC,GAAZ,CAAgBF,CAAhB,MAAqBe,CAAC,GAAC5E,CAAC,CAAC8D,SAAF,CAAYE,GAAZ,CAAgBH,CAAhB,CAAF,EAAqBe,CAAC,CAACkD,uBAAF,CAA0B5D,IAA1B,GAA+B,CAAzE,CAAH,EAA+E;MAACW,CAAC,GAAC,CAAC,CAAH;MAAK;IAAM;;IAAA,IAAG,CAACA,CAAJ,EAAM;IAAO,MAAMC,CAAC,GAAC9D,CAAC,CAAC+G,gBAAF,CAAmB,cAAnB,CAAR;IAA2C,IAAGjD,CAAC,IAAE,CAACA,CAAC,CAACkD,YAAN,IAAoB,MAAIlD,CAAC,CAACmD,QAAF,CAAWpG,CAAX,CAA3B,EAAyC;IAAO,MAAMmD,CAAC,GAAChE,CAAC,CAAC+G,gBAAF,CAAmB,YAAnB,CAAR;IAAA,MAAyC9C,CAAC,GAAC,CAACD,CAAD,IAAIA,CAAC,CAACgD,YAAN,IAAoBhD,CAAC,CAACiD,QAAF,CAAWpG,CAAX,EAAc,CAAd,IAAiB,CAAhF;IAAA,MAAkFqD,CAAC,GAAClE,CAAC,CAAC+G,gBAAF,CAAmB,iBAAnB,CAApF;IAAA,MAA0HhC,CAAC,GAAC/E,CAAC,CAAC+G,gBAAF,CAAmB,iBAAnB,CAA5H;IAAA,MAAkKG,CAAC,GAAC,CAAC,CAAChD,CAAD,IAAIA,CAAC,CAAC8C,YAAN,IAAoB9C,CAAC,CAAC+C,QAAF,CAAWpG,CAAX,IAAc,CAAnC,MAAwC,CAACkE,CAAD,IAAIA,CAAC,CAACiC,YAAN,IAAoBjC,CAAC,CAACkC,QAAF,CAAWpG,CAAX,EAAc,CAAd,IAAiB,CAA7E,CAApK;IAAoP,IAAG,CAACoD,CAAD,IAAI,CAACiD,CAAR,EAAU;IAAO,MAAMC,CAAC,GAAC,KAAG,CAAX;IAAa,IAAIxC,CAAC,GAAC3E,CAAC,CAACuD,cAAF,CAAiB,yBAAjB,EAA2C1C,CAA3C,CAAN;IAAoD8D,CAAC,KAAGjF,CAAC,CAAC8D,IAAN,KAAamB,CAAC,GAAC3E,CAAC,CAACuD,cAAF,CAAiB,kBAAjB,EAAoC1C,CAApC,MAAyCjB,CAAC,CAAC6D,KAA3C,GAAiD/D,CAAC,CAACgE,QAAnD,GAA4DhE,CAAC,CAACiE,GAA7E;IAAkF,MAAMyD,CAAC,GAACzC,CAAC,KAAGjF,CAAC,CAACiE,GAAd;IAAA,MAAkB0D,CAAC,GAACrH,CAAC,CAACuD,cAAF,CAAiB,mBAAjB,EAAqC1C,CAArC,KAAyCuG,CAA7D;IAAA,MAA+DE,CAAC,GAACvG,CAAC,KAAGZ,CAAC,CAAC2B,OAAvE;IAAA,MAA+EyF,CAAC,GAAC,KAAGJ,CAAH,GAAK3E,CAAtF;IAAwF,KAAKgF,iBAAL,KAAyB,KAAKA,iBAAL,GAAuBlI,CAAC,CAAC2B,CAAC,CAACwG,KAAF,GAAQ,CAAT,EAAWxG,CAAC,CAACyG,MAAF,GAAS,CAApB,CAAjD;IAAyE,MAAMC,CAAC,GAAC3H,CAAC,CAACoD,aAAF,CAAgB,gBAAhB,EAAiCvC,CAAjC,CAAR;IAAA,MAA4C+G,CAAC,GAAC5H,CAAC,CAACoD,aAAF,CAAgB,uBAAhB,EAAwCvC,CAAxC,CAA9C;IAAA,MAAyFgH,CAAC,GAAC,KAAKtG,kBAAhG;IAAmHsG,CAAC,CAACxG,EAAF,GAAKiG,CAAL;IAAO,MAAMQ,CAAC,GAACxE,CAAC,CAACa,kBAAF,CAAqB1D,CAArB,EAAuB4C,CAAvB,EAAyBwE,CAAzB,CAAR;IAAoC,IAAG7I,CAAC,CAACmE,CAAD,CAAD,IAAM,CAACmE,CAAP,IAAU,CAACQ,CAAC,CAAC1D,UAAhB,EAA2B,OAAO,KAAKjB,CAAC,EAAb;IAAgB1C,CAAC,CAAC4D,UAAF,CAAayD,CAAb,GAAgBA,CAAC,CAACxD,mBAAF,CAAsB,mBAAtB,EAA0CK,CAAC,KAAGjF,CAAC,CAACiE,GAAN,GAAUf,CAAC,CAAC2B,eAAZ,GAA4B3B,CAAC,CAAC4B,WAAxE,CAAhB,EAAqGsD,CAAC,CAACxD,mBAAF,CAAsB,eAAtB,EAAsCsD,CAAC,KAAG9H,CAAC,CAAC4D,QAAN,GAAed,CAAC,CAAC4B,WAAjB,GAA6B5B,CAAC,CAAC2B,eAArE,CAArG,EAA2LuD,CAAC,CAACrD,aAAF,CAAgB,mBAAhB,EAAoCkD,CAApC,CAA3L,EAAkOG,CAAC,CAACpD,YAAF,CAAe,SAAf,EAAyB1E,CAAC,CAAC2E,CAAF,GAAI3D,CAA7B,CAAlO,EAAkQ8G,CAAC,CAACrD,aAAF,CAAgB,cAAhB,EAA+B,KAAK+C,iBAApC,CAAlQ,EAAyTM,CAAC,CAACpD,YAAF,CAAe,eAAf,EAA+BrE,CAAC,CAACuC,CAAC,CAACgC,QAAH,CAAhC,CAAzT,EAAuWkD,CAAC,CAACpD,YAAF,CAAe,eAAf,EAA+B2C,CAAC,GAAC,CAAD,GAAG,CAAnC,CAAvW,EAA6YS,CAAC,CAACpD,YAAF,CAAe,SAAf,EAAyB,KAAG7D,CAA5B,CAA7Y,EAA4aiH,CAAC,CAACjD,YAAF,CAAe,WAAf,EAA2BxF,CAA3B,CAA5a,EAA0cyI,CAAC,CAACpD,YAAF,CAAe,qBAAf,EAAqC6C,CAArC,CAA1c,EAAkfO,CAAC,CAACpD,YAAF,CAAe,gBAAf,EAAgClF,CAAC,GAAC,GAAlC,CAAlf,EAAyhB8H,CAAC,IAAEQ,CAAC,CAAChD,aAAF,CAAgB,MAAhB,EAAuB3F,CAAvB,CAA5hB;IAAsjB,IAAI4I,CAAC,GAAC,CAAC,CAAP;;IAAS,KAAI,MAAM/I,CAAV,IAAeuB,CAAf,EAAiB;MAAC,IAAG,CAACvB,CAAC,CAAC8D,SAAF,CAAYC,GAAZ,CAAgBF,CAAhB,CAAJ,EAAuB;MAAS,IAAG7D,CAAC,CAACgG,GAAF,CAAMC,KAAN,KAAc8C,CAAd,KAAkBA,CAAC,GAAC/I,CAAC,CAACgG,GAAF,CAAMC,KAAR,EAAc5B,CAAC,CAAC6B,eAAF,CAAkB4C,CAAlB,EAAoBjH,CAApB,EAAsBb,CAAtB,EAAwB+H,CAAxB,EAA0BrF,CAA1B,CAAhC,GAA8DkB,CAAC,GAAC5E,CAAC,CAAC8D,SAAF,CAAYE,GAAZ,CAAgBH,CAAhB,CAAhE,EAAmF,MAAIe,CAAC,CAACkD,uBAAF,CAA0B5D,IAApH,EAAyH;MAASU,CAAC,CAACuB,mBAAF,CAAsB1E,CAAtB,GAAyBmD,CAAC,CAACwB,iBAAF,EAAzB;MAA+C,MAAMhG,CAAC,GAACwE,CAAC,CAACoE,qBAAV;MAAgC,IAAG9I,CAAC,CAACE,CAAD,CAAJ,EAAQ;MAASqB,CAAC,CAAC6E,OAAF,CAAUlG,CAAV,GAAa0I,CAAC,CAACxD,mBAAF,CAAsB,WAAtB,EAAkCtF,CAAC,CAACuG,UAAF,CAAaC,GAA/C,CAAb,EAAiE/E,CAAC,CAACwF,qBAAF,CAAwB,CAAC,CAAzB,CAAjE,EAA6FxF,CAAC,CAACyF,kBAAF,CAAqBvF,CAAC,CAACwF,OAAvB,EAA+B,GAA/B,EAAmC,GAAnC,CAA7F,EAAqI1F,CAAC,CAAC2F,mBAAF,CAAsB,CAAtB,CAArI;MAA8J,MAAM9G,CAAC,GAAC,CAACmG,WAAW,CAACC,GAAZ,KAAkB9B,CAAC,CAAC+B,iBAArB,IAAwC,GAAhD;MAAoDmC,CAAC,CAACpD,YAAF,CAAe,QAAf,EAAwBpF,CAAxB,GAA2BsE,CAAC,CAACkD,uBAAF,CAA0BmB,OAA1B,CAAmC,CAAC/I,CAAD,EAAGE,CAAH,KAAO;QAAC,KAAK8I,iBAAL,CAAuBzH,CAAvB,EAAyBvB,CAAzB,EAA2BE,CAA3B,EAA6B6B,CAA7B,EAA+B6G,CAA/B,EAAiCZ,CAAjC,EAAmCjD,CAAnC,EAAqCjF,CAArC;MAAwC,CAAnF,CAA3B;IAAiH;EAAC;;EAAAkJ,iBAAiB,CAAClJ,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;IAACR,CAAC,CAACyG,IAAF,CAAO/G,CAAP,EAASyB,CAAC,CAACuF,MAAX,EAAkB5G,CAAlB,EAAoBC,CAApB,GAAuBK,CAAC,KAAGF,CAAC,CAACkF,YAAF,CAAe,QAAf,EAAwB,CAAxB,GAA2B1F,CAAC,CAACqH,YAAF,CAAexF,CAAC,CAACyF,SAAjB,EAA2BpH,CAAC,CAAC,CAAD,CAA5B,EAAgC6B,CAAC,CAACwF,YAAlC,EAA+CC,WAAW,CAACC,iBAAZ,GAA8BvH,CAAC,CAAC,CAAD,CAA9E,CAA3B,EAA8GY,CAAC,CAAC4G,aAAF,IAAiBxH,CAAC,CAAC,CAAD,CAAD,GAAK,CAAvI,CAAxB,EAAkKU,CAAC,KAAGJ,CAAC,CAACkF,YAAF,CAAe,QAAf,EAAwB,CAAxB,GAA2B1F,CAAC,CAACqH,YAAF,CAAexF,CAAC,CAACyF,SAAjB,EAA2BpH,CAAC,CAAC,CAAD,CAA5B,EAAgC6B,CAAC,CAACwF,YAAlC,EAA+CC,WAAW,CAACC,iBAAZ,GAA8BvH,CAAC,CAAC,CAAD,CAA9E,CAA3B,EAA8GY,CAAC,CAAC4G,aAAF,IAAiBxH,CAAC,CAAC,CAAD,CAAD,GAAK,CAAvI,CAAnK;EAA6S;;AAAlhK;;AAAmhK,SAAO+B,CAAC,IAAIkH,iBAAZ"},"metadata":{},"sourceType":"module"}