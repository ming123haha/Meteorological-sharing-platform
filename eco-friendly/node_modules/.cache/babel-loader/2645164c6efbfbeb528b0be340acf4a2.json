{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { bidiText as t } from \"../../core/BidiText.js\";\nimport { getFontFamily as e } from \"../../core/fontUtils.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport i from \"../../core/Logger.js\";\nimport { isNone as s, isSome as o } from \"../../core/maybe.js\";\nimport n from \"../../core/ObjectPool.js\";\nimport { px2pt as a, pt2px as l } from \"../../core/screenUtils.js\";\nimport { create as h, fromValues as c } from \"../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as m } from \"../../geometry/support/boundsUtils.js\";\nimport { polygonCentroid as f } from \"../../geometry/support/centroid.js\";\nimport { isPoint as u, isPolygon as p, isPolyline as d, isExtent as _, isMultipoint as g } from \"../../geometry/support/jsonUtils.js\";\nimport { SimpleGeometryCursor as y } from \"./CIMEffects.js\";\nimport P from \"./CIMImageColorSubstitutionHelper.js\";\nimport { getEffectOperator as w, getPlacementOperator as x } from \"./CIMOperators.js\";\nimport { Placement as S } from \"./CIMPlacements.js\";\nimport { LineCapStyle as M, LineJoinStyle as b } from \"./enums.js\";\nimport { getFirstFrame as k } from \"./imageUtils.js\";\nimport C from \"./Rect.js\";\nimport T from \"./TextRasterizer.js\";\nimport { isSVGImage as I, fromCIMFontDecoration as R, fromCIMFontStyle as v, fromCIMHorizontalAlignment as z, fromCIMVerticalAlignment as F, getFillColor as L, getStrokeColor as A, getFontStyle as j, getFontWeight as U } from \"./utils.js\";\nimport { HAlign as H, VAlign as B } from \"../../views/2d/engine/webgl/alignmentUtils.js\";\nimport { GLYPH_SIZE as D, MAGIC_LABEL_LINE_HEIGHT as G } from \"../../views/2d/engine/webgl/definitions.js\";\nimport { shapeGlyphs as X } from \"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";\nconst E = Math.PI / 180,\n      J = 10,\n      N = i.getLogger(\"esri.symbols.cim.CIMSymbolDrawHelper\");\n\nclass O {\n  constructor(t) {\n    this._t = t;\n  }\n\n  static createIdentity() {\n    return new O([1, 0, 0, 0, 1, 0]);\n  }\n\n  clone() {\n    const t = this._t;\n    return new O(t.slice());\n  }\n\n  transform(t) {\n    const e = this._t;\n    return [e[0] * t[0] + e[1] * t[1] + e[2], e[3] * t[0] + e[4] * t[1] + e[5]];\n  }\n\n  static createScale(t, e) {\n    return new O([t, 0, 0, 0, e, 0]);\n  }\n\n  scale(t, e) {\n    const r = this._t;\n    return r[0] *= t, r[1] *= t, r[2] *= t, r[3] *= e, r[4] *= e, r[5] *= e, this;\n  }\n\n  scaleRatio() {\n    return Math.sqrt(this._t[0] * this._t[0] + this._t[1] * this._t[1]);\n  }\n\n  static createTranslate(t, e) {\n    return new O([0, 0, t, 0, 0, e]);\n  }\n\n  translate(t, e) {\n    const r = this._t;\n    return r[2] += t, r[5] += e, this;\n  }\n\n  static createRotate(t) {\n    const e = Math.cos(t),\n          r = Math.sin(t);\n    return new O([e, -r, 0, r, e, 0]);\n  }\n\n  rotate(t) {\n    return O.multiply(this, O.createRotate(t), this);\n  }\n\n  angle() {\n    const t = this._t[0],\n          e = this._t[3],\n          r = Math.sqrt(t * t + e * e);\n    return [t / r, e / r];\n  }\n\n  static multiply(t, e, r) {\n    const i = t._t,\n          s = e._t,\n          o = i[0] * s[0] + i[3] * s[1],\n          n = i[1] * s[0] + i[4] * s[1],\n          a = i[2] * s[0] + i[5] * s[1] + s[2],\n          l = i[0] * s[3] + i[3] * s[4],\n          h = i[1] * s[3] + i[4] * s[4],\n          c = i[2] * s[3] + i[5] * s[4] + s[5],\n          m = r._t;\n    return m[0] = o, m[1] = n, m[2] = a, m[3] = l, m[4] = h, m[5] = c, r;\n  }\n\n  invert() {\n    const t = this._t;\n    let e = t[0] * t[4] - t[1] * t[3];\n    if (0 === e) return new O([0, 0, 0, 0, 0, 0]);\n    e = 1 / e;\n    const r = (t[1] * t[5] - t[2] * t[4]) * e,\n          i = (t[2] * t[3] - t[0] * t[5]) * e,\n          s = t[4] * e,\n          o = -t[1] * e,\n          n = -t[3] * e,\n          a = t[0] * e;\n    return new O([s, o, r, n, a, i]);\n  }\n\n}\n\nclass Y {\n  constructor(t, e) {\n    this._resourceManager = t, this._transfos = [], this._sizeTransfos = [], this._geomUnitsPerPoint = 1, this._placementPool = new n(S, void 0, void 0, 100), this._earlyReturn = !1, this._mapRotation = 0, this._transfos.push(e || O.createIdentity()), this._sizeTransfos.push(e ? e.scaleRatio() : 1);\n  }\n\n  setTransform(t, e) {\n    this._transfos = [t || O.createIdentity()], this._sizeTransfos = [e || (t ? t.scaleRatio() : 1)];\n  }\n\n  setGeomUnitsPerPoint(t) {\n    this._geomUnitsPerPoint = t;\n  }\n\n  transformPt(t) {\n    return this._transfos[this._transfos.length - 1].transform(t);\n  }\n\n  transformSize(t) {\n    return t * this._sizeTransfos[this._sizeTransfos.length - 1];\n  }\n\n  reverseTransformPt(t) {\n    return this._transfos[this._transfos.length - 1].invert().transform(t);\n  }\n\n  reverseTransformSize(t) {\n    return t / this._sizeTransfos[this._sizeTransfos.length - 1];\n  }\n\n  getTransformAngle() {\n    return this._transfos[this._transfos.length - 1].angle();\n  }\n\n  geomUnitsPerPoint() {\n    return this.isEmbedded() ? 1 : this._geomUnitsPerPoint;\n  }\n\n  isEmbedded() {\n    return this._transfos.length > 1;\n  }\n\n  back() {\n    return this._transfos[this._transfos.length - 1];\n  }\n\n  push(t, e) {\n    const r = e ? t.scaleRatio() : 1;\n    O.multiply(t, this.back(), t), this._transfos.push(t), this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length - 1] * r);\n  }\n\n  pop() {\n    this._transfos.splice(-1, 1), this._sizeTransfos.splice(-1, 1);\n  }\n\n  drawSymbol(t, e, r) {\n    if (t) switch (t.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        this.drawMultiLayerSymbol(t, e);\n        break;\n\n      case \"CIMTextSymbol\":\n        this.drawTextSymbol(t, e, r);\n    }\n  }\n\n  drawMultiLayerSymbol(t, e) {\n    if (!t) return;\n    const r = t.symbolLayers;\n    if (!r) return;\n    const i = t.effects;\n\n    if (i && i.length > 0) {\n      const t = this.executeEffects(i, e);\n\n      if (t) {\n        let e = t.next();\n\n        for (; e;) this.drawSymbolLayers(r, e), e = t.next();\n      }\n    } else this.drawSymbolLayers(r, e);\n  }\n\n  executeEffects(t, e) {\n    const r = this._resourceManager.geometryEngine;\n    let i = new y(e);\n\n    for (const s of t) {\n      const t = w(s);\n      t && (i = t.execute(i, s, this.geomUnitsPerPoint(), r));\n    }\n\n    return i;\n  }\n\n  drawSymbolLayers(t, e) {\n    let r = t.length;\n\n    for (; r--;) {\n      const i = t[r];\n      if (!i || !1 === i.enable) continue;\n      const s = i.effects;\n\n      if (s && s.length > 0) {\n        const t = this.executeEffects(s, e);\n\n        if (t) {\n          let e = null;\n\n          for (; (e = t.next()) && (this.drawSymbolLayer(i, e), !this._earlyReturn););\n        }\n      } else this.drawSymbolLayer(i, e);\n\n      if (this._earlyReturn) return;\n    }\n  }\n\n  drawSymbolLayer(t, e) {\n    switch (t.type) {\n      case \"CIMSolidFill\":\n        this.drawSolidFill(e, t.color);\n        break;\n\n      case \"CIMHatchFill\":\n        this.drawHatchFill(e, t);\n        break;\n\n      case \"CIMPictureFill\":\n        this.drawPictureFill(e, t);\n        break;\n\n      case \"CIMGradientFill\":\n        this.drawGradientFill(e, t);\n        break;\n\n      case \"CIMSolidStroke\":\n        this.drawSolidStroke(e, t.color, t.width, t.capStyle, t.joinStyle, t.miterLimit);\n        break;\n\n      case \"CIMPictureStroke\":\n        this.drawPictureStroke(e, t);\n        break;\n\n      case \"CIMGradientStroke\":\n        this.drawGradientStroke(e, t);\n        break;\n\n      case \"CIMCharacterMarker\":\n      case \"CIMPictureMarker\":\n      case \"CIMVectorMarker\":\n        this.drawMarkerLayer(t, e);\n    }\n  }\n\n  drawHatchFill(t, e) {\n    const r = this._buildHatchPolyline(e, t, this.geomUnitsPerPoint());\n\n    r && (this.pushClipPath(t), this.drawMultiLayerSymbol(e.lineSymbol, r), this.popClipPath());\n  }\n\n  drawPictureFill(t, e) {}\n\n  drawGradientFill(t, e) {}\n\n  drawPictureStroke(t, e) {}\n\n  drawGradientStroke(t, e) {}\n\n  drawMarkerLayer(t, e) {\n    const r = t.markerPlacement;\n\n    if (r) {\n      const i = x(r);\n\n      if (i) {\n        const s = \"CIMMarkerPlacementInsidePolygon\" === r.type || \"CIMMarkerPlacementPolygonCenter\" === r.type && r.clipAtBoundary;\n        s && this.pushClipPath(e);\n        const o = i.execute(e, r, this.geomUnitsPerPoint(), this._resourceManager.geometryEngine);\n\n        if (o) {\n          let e = null;\n\n          for (; (e = o.next()) && (this.drawMarker(t, e), !this._earlyReturn););\n        }\n\n        s && this.popClipPath();\n      }\n    } else {\n      const r = this._placementPool.acquire();\n\n      if (u(e)) r.tx = e.x, r.ty = e.y, this.drawMarker(t, r);else if (p(e)) [r.tx, r.ty] = f(e), this.drawMarker(t, r);else for (const i of e.points) if (r.tx = i[0], r.ty = i[1], this.drawMarker(t, r), this._earlyReturn) break;\n\n      this._placementPool.release(r);\n    }\n  }\n\n  drawMarker(t, e) {\n    switch (t.type) {\n      case \"CIMCharacterMarker\":\n      case \"CIMPictureMarker\":\n        this.drawPictureMarker(t, e);\n        break;\n\n      case \"CIMVectorMarker\":\n        this.drawVectorMarker(t, e);\n    }\n  }\n\n  drawPictureMarker(t, e) {\n    if (!t) return;\n\n    const r = this._resourceManager.getResource(t.url),\n          i = t.size ?? 10;\n\n    if (s(r) || i <= 0) return;\n    const o = r.width,\n          n = r.height;\n    if (!o || !n) return;\n    const a = o / n,\n          l = t.scaleX ?? 1,\n          h = O.createIdentity(),\n          c = t.anchorPoint;\n\n    if (c) {\n      let e = c.x,\n          r = c.y;\n      \"Absolute\" !== t.anchorPointUnits && (e *= i * a * l, r *= i), h.translate(-e, -r);\n    }\n\n    let m = t.rotation ?? 0;\n    t.rotateClockwise && (m = -m), this._mapRotation && (m += this._mapRotation), m && h.rotate(m * E);\n    let f = t.offsetX ?? 0,\n        u = t.offsetY ?? 0;\n\n    if (f || u) {\n      if (this._mapRotation) {\n        const t = E * this._mapRotation,\n              e = Math.cos(t),\n              r = Math.sin(t),\n              i = f * r + u * e;\n        f = f * e - u * r, u = i;\n      }\n\n      h.translate(f, u);\n    }\n\n    const p = this.geomUnitsPerPoint();\n    1 !== p && h.scale(p, p);\n    const d = e.getAngle();\n    d && h.rotate(d), h.translate(e.tx, e.ty), this.push(h, !1), this.drawImage(t, i), this.pop();\n  }\n\n  drawVectorMarker(t, e) {\n    if (!t) return;\n    const r = t.markerGraphics;\n    if (!r) return;\n    const i = t.size ?? 10,\n          s = t.frame,\n          o = s ? s.ymax - s.ymin : 0,\n          n = i && o ? i / o : 1,\n          a = O.createIdentity();\n    s && a.translate(.5 * -(s.xmax + s.xmin), .5 * -(s.ymax + s.ymin));\n    const l = t.anchorPoint;\n\n    if (l) {\n      let e = l.x,\n          r = l.y;\n      \"Absolute\" !== t.anchorPointUnits ? s && (e *= s.xmax - s.xmin, r *= s.ymax - s.ymin) : (e /= n, r /= n), a.translate(-e, -r);\n    }\n\n    1 !== n && a.scale(n, n);\n    let h = t.rotation ?? 0;\n    t.rotateClockwise && (h = -h), this._mapRotation && (h += this._mapRotation), h && a.rotate(h * E);\n    let c = t.offsetX ?? 0,\n        m = t.offsetY ?? 0;\n\n    if (c || m) {\n      if (this._mapRotation) {\n        const t = E * this._mapRotation,\n              e = Math.cos(t),\n              r = Math.sin(t),\n              i = c * r + m * e;\n        c = c * e - m * r, m = i;\n      }\n\n      a.translate(c, m);\n    }\n\n    const f = this.geomUnitsPerPoint();\n    1 !== f && a.scale(f, f);\n    const u = e.getAngle();\n    u && a.rotate(u), a.translate(e.tx, e.ty), this.push(a, t.scaleSymbolsProportionally);\n\n    for (const p of r) if (p && p.symbol && p.geometry || N.error(\"Invalid marker graphic\", p), this.drawSymbol(p.symbol, p.geometry, p.textString), this._earlyReturn) break;\n\n    this.pop();\n  }\n\n  drawTextSymbol(t, e, r) {\n    if (!t) return;\n    if (!u(e)) return;\n    if ((t.height ?? 10) <= 0) return;\n    const i = O.createIdentity();\n    let s = t.angle ?? 0;\n    s = -s, s && i.rotate(s * E);\n    const o = t.offsetX ?? 0,\n          n = t.offsetY ?? 0;\n    (o || n) && i.translate(o, n);\n    const a = this.geomUnitsPerPoint();\n    1 !== a && i.scale(a, a), i.translate(e.x, e.y), this.push(i, !1), this.drawText(t, r), this.pop();\n  }\n\n  _buildHatchPolyline(t, e, r) {\n    let i = (void 0 !== t.separation ? t.separation : 4) * r,\n        s = void 0 !== t.rotation ? t.rotation : 0;\n    if (0 === i) return null;\n    i < 0 && (i = -i);\n    let o = 0;\n    const n = .5 * i;\n\n    for (; o > n;) o -= i;\n\n    for (; o < -n;) o += i;\n\n    const a = h();\n    m(a, e), a[0] -= n, a[1] -= n, a[2] += n, a[3] += n;\n    const l = [[a[0], a[1]], [a[0], a[3]], [a[2], a[3]], [a[2], a[1]]];\n\n    for (; s > 180;) s -= 180;\n\n    for (; s < 0;) s += 180;\n\n    const c = Math.cos(s * E),\n          f = Math.sin(s * E),\n          u = -i * f,\n          p = i * c;\n\n    let d, _, g, y;\n\n    o = (void 0 !== t.offsetX ? t.offsetX * r : 0) * f - (void 0 !== t.offsetY ? t.offsetY * r : 0) * c, d = g = Number.MAX_VALUE, _ = y = -Number.MAX_VALUE;\n\n    for (const h of l) {\n      const t = h[0],\n            e = h[1],\n            r = c * t + f * e,\n            i = -f * t + c * e;\n      d = Math.min(d, r), g = Math.min(g, i), _ = Math.max(_, r), y = Math.max(y, i);\n    }\n\n    g = Math.floor(g / i) * i;\n    let P = c * d - f * g - u * o / i,\n        w = f * d + c * g - p * o / i,\n        x = c * _ - f * g - u * o / i,\n        S = f * _ + c * g - p * o / i;\n    const M = 1 + Math.round((y - g) / i),\n          b = [];\n\n    for (let h = 0; h < M; h++) P += u, w += p, x += u, S += p, b.push([[P, w], [x, S]]);\n\n    return {\n      paths: b\n    };\n  }\n\n}\n\nclass q extends Y {\n  constructor(t, e) {\n    super(t, e), this.reset();\n  }\n\n  reset() {\n    this._xmin = this._ymin = 1 / 0, this._xmax = this._ymax = -1 / 0, this._clipCount = 0;\n  }\n\n  envelope() {\n    return new C(this._xmin, this._ymin, this._xmax - this._xmin, this._ymax - this._ymin);\n  }\n\n  bounds() {\n    return c(this._xmin, this._ymin, this._xmax, this._ymax);\n  }\n\n  drawSolidFill(t) {\n    if (t && !(this._clipCount > 0)) if (p(t)) this._processPath(t.rings, 0);else if (d(t)) this._processPath(t.paths, 0);else if (_(t)) {\n      const e = Q(t);\n      e && this._processPath(e.rings, 0);\n    } else console.error(\"drawSolidFill Unexpected geometry type!\");\n  }\n\n  drawSolidStroke(t, e, r) {\n    if (!t || this._clipCount > 0) return;\n    const i = .5 * this.transformSize(r);\n    if (p(t)) this._processPath(t.rings, i);else if (d(t)) this._processPath(t.paths, i);else if (_(t)) {\n      const e = Q(t);\n      e && this._processPath(e.rings, i);\n    } else console.error(\"drawSolidStroke unexpected geometry type!\");\n  }\n\n  drawMarkerLayer(t, e) {\n    p(e) && t.markerPlacement && (\"CIMMarkerPlacementInsidePolygon\" === t.markerPlacement.type || \"CIMMarkerPlacementPolygonCenter\" === t.markerPlacement.type && t.markerPlacement.clipAtBoundary) ? this._processPath(e.rings, 0) : super.drawMarkerLayer(t, e);\n  }\n\n  drawHatchFill(t, e) {\n    this.drawSolidFill(t);\n  }\n\n  drawPictureFill(t, e) {\n    this.drawSolidFill(t);\n  }\n\n  drawGradientFill(t, e) {\n    this.drawSolidFill(t);\n  }\n\n  drawPictureStroke(t, e) {\n    this.drawSolidStroke(t, null, e.width);\n  }\n\n  drawGradientStroke(t, e) {\n    this.drawSolidStroke(t, null, e.width);\n  }\n\n  pushClipPath(t) {\n    this.drawSolidFill(t), this._clipCount++;\n  }\n\n  popClipPath() {\n    this._clipCount--;\n  }\n\n  drawImage(t, e) {\n    const {\n      url: r\n    } = t,\n          i = t.scaleX ?? 1;\n    let s = i * e,\n        n = e;\n\n    const a = this._resourceManager.getResource(r);\n\n    !e && o(a) && (s = i * a.width, n = a.height), this._merge(this.transformPt([-s / 2, -n / 2]), 0), this._merge(this.transformPt([-s / 2, n / 2]), 0), this._merge(this.transformPt([s / 2, -n / 2]), 0), this._merge(this.transformPt([s / 2, n / 2]), 0);\n  }\n\n  drawText(t, e) {\n    if (!e || 0 === e.length) return;\n    this._textRasterizer || (this._textRasterizer = new T());\n\n    const r = et(t),\n          [i, s] = this._textRasterizer.computeTextSize(e, r);\n\n    let o = 0;\n\n    switch (t.horizontalAlignment) {\n      case \"Left\":\n        o = i / 2;\n        break;\n\n      case \"Right\":\n        o = -i / 2;\n    }\n\n    let n = 0;\n\n    switch (t.verticalAlignment) {\n      case \"Bottom\":\n        n = s / 2;\n        break;\n\n      case \"Top\":\n        n = -s / 2;\n        break;\n\n      case \"Baseline\":\n        n = s / 6;\n    }\n\n    this._merge(this.transformPt([-i / 2 + o, -s / 2 + n]), 0), this._merge(this.transformPt([-i / 2 + o, s / 2 + n]), 0), this._merge(this.transformPt([i / 2 + o, -s / 2 + n]), 0), this._merge(this.transformPt([i / 2 + o, s / 2 + n]), 0);\n  }\n\n  _processPath(t, e) {\n    if (t) for (const r of t) {\n      const t = r ? r.length : 0;\n\n      if (t > 1) {\n        this._merge(this.transformPt(r[0]), e);\n\n        for (let i = 1; i < t; i++) this._merge(this.transformPt(r[i]), e);\n      }\n    }\n  }\n\n  _merge(t, e) {\n    t[0] - e < this._xmin && (this._xmin = t[0] - e), t[0] + e > this._xmax && (this._xmax = t[0] + e), t[1] - e < this._ymin && (this._ymin = t[1] - e), t[1] + e > this._ymax && (this._ymax = t[1] + e);\n  }\n\n}\n\nclass V extends Y {\n  constructor() {\n    super(...arguments), this._searchPoint = [0, 0], this._searchDistPoint = 0;\n  }\n\n  hitTest(t, e, r, i, s, o) {\n    const n = o * l(1);\n    this.setTransform(), this.setGeomUnitsPerPoint(n), this._searchPoint = [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2], this._searchDistPoint = (t[2] - t[0]) / 2 / n, this._textInfo = i;\n    const a = e && (\"CIMPointSymbol\" === e.type && \"Map\" !== e.angleAlignment || \"CIMTextSymbol\" === e.type);\n    return this._mapRotation = a ? s : 0, this._earlyReturn = !1, this.drawSymbol(e, r), this._earlyReturn;\n  }\n\n  drawSolidFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawHatchFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawPictureFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawGradientFill(t, e) {\n    this._hitTestFill(t);\n  }\n\n  drawSolidStroke(t, e, r, i, s, o) {\n    this._hitTestStroke(t, r);\n  }\n\n  drawPictureStroke(t, e) {\n    this._hitTestStroke(t, e.width);\n  }\n\n  drawGradientStroke(t, e) {\n    this._hitTestStroke(t, e.width);\n  }\n\n  drawMarkerLayer(t, e) {\n    t.markerPlacement && (\"CIMMarkerPlacementInsidePolygon\" === t.markerPlacement.type || \"CIMMarkerPlacementPolygonCenter\" === t.markerPlacement.type && t.markerPlacement.clipAtBoundary) ? this._hitTestFill(e) : super.drawMarkerLayer(t, e);\n  }\n\n  pushClipPath(t) {}\n\n  popClipPath() {}\n\n  drawImage(t, e) {\n    const {\n      url: r\n    } = t,\n          i = t.scaleX ?? 1,\n          o = this._resourceManager.getResource(r);\n\n    if (s(o) || 0 === o.height || 0 === e) return;\n    const n = e * this.geomUnitsPerPoint(),\n          a = n * i * (o.width / o.height),\n          l = this.reverseTransformPt(this._searchPoint),\n          h = this._searchDistPoint;\n    Math.abs(l[0]) < a / 2 + h && Math.abs(l[1]) < n / 2 + h && (this._earlyReturn = !0);\n  }\n\n  drawText(e, r) {\n    const i = this._textInfo;\n    if (!i) return;\n    const s = i.get(e);\n    if (!s) return;\n    const {\n      text: o,\n      mosaicItem: n\n    } = s;\n    if (!n || 0 === n.glyphMosaicItems.length) return;\n    const a = e.height ?? J,\n          l = tt(e.lineGapType, e.lineGap ?? 0, a),\n          h = t(o)[1],\n          c = n.glyphMosaicItems,\n          m = X(c, h, {\n      scale: a / D,\n      angle: 0,\n      xOffset: 0,\n      yOffset: 0,\n      hAlign: Z(e.horizontalAlignment),\n      vAlign: $(e.verticalAlignment),\n      maxLineWidth: 512,\n      lineHeight: G * Math.max(.25, Math.min(l || 1, 4)),\n      decoration: e.font.decoration || \"none\",\n      isCIM: !0\n    }),\n          f = this.reverseTransformPt(this._searchPoint),\n          u = f[0],\n          p = f[1];\n\n    for (const t of m.glyphs) if (u > t.xTopLeft && u < t.xBottomRight && p > -t.yBottomRight && p < -t.yTopLeft) {\n      this._earlyReturn = !0;\n      break;\n    }\n  }\n\n  _hitTestFill(t) {\n    let e = null;\n\n    if (_(t)) {\n      const r = t;\n      e = [[[r.xmin, r.ymin], [r.xmin, r.ymax], [r.xmax, r.ymax], [r.xmax, r.ymin], [r.xmin, r.ymin]]];\n    } else if (p(t)) e = t.rings;else {\n      if (!d(t)) return;\n      e = t.paths;\n    }\n\n    const r = this.reverseTransformPt(this._searchPoint);\n\n    if (this._pointInPolygon(r, e) && (this._earlyReturn = !0), !this._earlyReturn) {\n      const t = this.reverseTransformSize(this._searchDistPoint) * this.geomUnitsPerPoint();\n      this._nearLine(r, e, t) && (this._earlyReturn = !0);\n    }\n  }\n\n  _hitTestStroke(t, e) {\n    let r = null;\n\n    if (_(t)) {\n      const e = t;\n      r = [[[e.xmin, e.ymin], [e.xmin, e.ymax], [e.xmax, e.ymax], [e.xmax, e.ymin], [e.xmin, e.ymin]]];\n    } else if (p(t)) r = t.rings;else {\n      if (!d(t)) return;\n      r = t.paths;\n    }\n\n    const i = this.reverseTransformPt(this._searchPoint),\n          s = e * this.geomUnitsPerPoint(),\n          o = this.reverseTransformSize(this._searchDistPoint) * this.geomUnitsPerPoint();\n    this._nearLine(i, r, s / 2 + o) && (this._earlyReturn = !0);\n  }\n\n  _pointInPolygon(t, e) {\n    let r = 0;\n\n    for (const i of e) {\n      const e = i.length;\n\n      for (let s = 1; s < e; s++) {\n        const e = i[s - 1],\n              o = i[s];\n        if (e[1] > t[1] == o[1] > t[1]) continue;\n        (o[0] - e[0]) * (t[1] - e[1]) - (o[1] - e[1]) * (t[0] - e[0]) > 0 ? r++ : r--;\n      }\n    }\n\n    return 0 !== r;\n  }\n\n  _nearLine(t, e, r) {\n    for (const i of e) {\n      const e = i.length;\n\n      for (let s = 1; s < e; s++) {\n        const e = i[s - 1],\n              o = i[s];\n        let n = (o[0] - e[0]) * (o[0] - e[0]) + (o[1] - e[1]) * (o[1] - e[1]);\n        if (0 === n) continue;\n        n = Math.sqrt(n);\n        const a = ((o[0] - e[0]) * (t[1] - e[1]) - (o[1] - e[1]) * (t[0] - e[0])) / n;\n\n        if (Math.abs(a) < r) {\n          const i = ((o[0] - e[0]) * (t[0] - e[0]) + (o[1] - e[1]) * (t[1] - e[1])) / n;\n          if (i > -r && i < n + r) return !0;\n        }\n      }\n    }\n\n    return !1;\n  }\n\n}\n\nclass W extends Y {\n  constructor(t, e, r, i) {\n    super(e, r), this._applyAdditionalRenderProps = i, this._colorSubstitutionHelper = new P(), this._ctx = t;\n  }\n\n  drawSolidFill(t, e) {\n    if (!t) return;\n    if (p(t)) this._buildPath(t.rings, !0);else if (d(t)) this._buildPath(t.paths, !0);else if (_(t)) this._buildPath(Q(t).rings, !0);else {\n      if (!g(t)) return;\n      console.log(\"CanvasDrawHelper.drawSolidFill - No implementation!\");\n    }\n    const r = this._ctx;\n    r.fillStyle = \"string\" == typeof e ? e : \"rgba(\" + Math.round(e[0]) + \",\" + Math.round(e[1]) + \",\" + Math.round(e[2]) + \",\" + e[3] / 255 + \")\", r.fill(\"evenodd\");\n  }\n\n  drawSolidStroke(t, e, r, i, s, o) {\n    if (!t || !e || 0 === r) return;\n    if (p(t)) this._buildPath(t.rings, !0);else if (d(t)) this._buildPath(t.paths, !1);else {\n      if (!_(t)) return void console.log(\"CanvasDrawHelper.drawSolidStroke isn't implemented!\");\n\n      this._buildPath(Q(t).rings, !0);\n    }\n    const n = this._ctx;\n    n.strokeStyle = \"string\" == typeof e ? e : \"rgba(\" + Math.round(e[0]) + \",\" + Math.round(e[1]) + \",\" + Math.round(e[2]) + \",\" + e[3] / 255 + \")\", n.lineWidth = Math.max(this.transformSize(r), .5), this._setCapStyle(i), this._setJoinStyle(s), n.miterLimit = o, n.stroke();\n  }\n\n  pushClipPath(t) {\n    if (this._ctx.save(), p(t)) this._buildPath(t.rings, !0);else if (d(t)) this._buildPath(t.paths, !0);else {\n      if (!_(t)) return;\n\n      this._buildPath(Q(t).rings, !0);\n    }\n\n    this._ctx.clip(\"evenodd\");\n  }\n\n  popClipPath() {\n    this._ctx.restore();\n  }\n\n  drawImage(t, e) {\n    const {\n      colorSubstitutions: r,\n      url: i,\n      tintColor: o\n    } = t,\n          n = t.scaleX ?? 1,\n          a = this._resourceManager.getResource(i);\n\n    if (s(a)) return;\n    let l = e * (a.width / a.height),\n        h = e;\n    e || (l = a.width, h = a.height);\n    const c = I(i) || \"src\" in a && I(a.src);\n    let m = \"getFrame\" in a ? k(a) : a;\n    r && (m = this._colorSubstitutionHelper.applyColorSubstituition(m, r)), this._applyAdditionalRenderProps && !c && o && (m = this._colorSubstitutionHelper.tintImageData(m, o));\n    const f = this.transformPt([0, 0]),\n          [u, p] = this.getTransformAngle(),\n          d = this.transformSize(1),\n          _ = this._ctx;\n    _.save(), _.setTransform({\n      m11: n * d * u,\n      m12: n * d * p,\n      m21: -d * p,\n      m22: d * u,\n      m41: f[0],\n      m42: f[1]\n    }), _.drawImage(m, -l / 2, -h / 2, l, h), _.restore();\n  }\n\n  drawText(t, e) {\n    if (!e || 0 === e.length) return;\n    this._textRasterizer || (this._textRasterizer = new T());\n    const r = et(t);\n    r.size *= this.transformSize(a(1));\n\n    const i = this._textRasterizer.rasterizeText(e, r);\n\n    if (!i) return;\n    const {\n      size: s,\n      anchorX: o,\n      anchorY: n,\n      canvas: l\n    } = i,\n          h = s[0] * (o + .5),\n          c = s[1] * (n - .5),\n          m = this._ctx,\n          f = this.transformPt([0, 0]),\n          [u, p] = this.getTransformAngle(),\n          d = 1;\n    m.save(), m.setTransform({\n      m11: d * u,\n      m12: d * p,\n      m21: -d * p,\n      m22: d * u,\n      m41: f[0] - d * h,\n      m42: f[1] + d * c\n    }), m.drawImage(l, 0, 0), m.restore();\n  }\n\n  drawPictureFill(t, e) {\n    if (!t) return;\n    let {\n      colorSubstitutions: r,\n      height: i,\n      offsetX: o,\n      offsetY: n,\n      rotation: a,\n      scaleX: l,\n      tintColor: h,\n      url: c\n    } = e;\n\n    const m = this._resourceManager.getResource(c);\n\n    if (s(m)) return;\n    if (p(t)) this._buildPath(t.rings, !0);else if (d(t)) this._buildPath(t.paths, !0);else if (_(t)) this._buildPath(Q(t).rings, !0);else {\n      if (!g(t)) return;\n      console.log(\"CanvasDrawHelper.drawPictureFill - No implementation!\");\n    }\n    const f = this._ctx,\n          u = I(c) || \"src\" in m && I(m.src);\n    let y,\n        P = \"getFrame\" in m ? k(m) : m;\n\n    if (r && (P = this._colorSubstitutionHelper.applyColorSubstituition(P, r)), this._applyAdditionalRenderProps) {\n      u || h && (P = this._colorSubstitutionHelper.tintImageData(P, h)), y = f.createPattern(P, \"repeat\");\n      const t = this.transformSize(1);\n      a || (a = 0), o ? o *= t : o = 0, n ? n *= t : n = 0, i && (i *= t);\n      const e = i ? i / m.height : 1,\n            r = l && i ? l * i / m.width : 1;\n\n      if (0 !== a || 1 !== e || 1 !== r || 0 !== o || 0 !== n) {\n        const t = new DOMMatrix();\n        t.rotateSelf(0, 0, -a).translateSelf(o, n).scaleSelf(r, e, 1), y.setTransform(t);\n      }\n    } else y = f.createPattern(P, \"repeat\");\n\n    f.save(), f.fillStyle = y, f.fill(\"evenodd\"), f.restore();\n  }\n\n  drawPictureStroke(t, e) {\n    if (!t) return;\n    let {\n      colorSubstitutions: i,\n      capStyle: o,\n      joinStyle: n,\n      miterLimit: a,\n      tintColor: h,\n      url: c,\n      width: m\n    } = e;\n\n    const f = this._resourceManager.getResource(c);\n\n    if (s(f)) return;\n    let u;\n    if (p(t)) u = t.rings;else if (d(t)) u = t.paths;else if (_(t)) u = Q(t).rings;else {\n      if (!g(t)) return;\n      console.log(\"CanvasDrawHelper.drawPictureStroke - No implementation!\");\n    }\n    m || (m = f.width);\n    const y = I(c) || \"src\" in f && I(f.src);\n    let P = \"getFrame\" in f ? k(f) : f;\n    i && (P = this._colorSubstitutionHelper.applyColorSubstituition(P, i)), this._applyAdditionalRenderProps && (y || h && (P = this._colorSubstitutionHelper.tintImageData(P, h)));\n    const w = Math.max(this.transformSize(l(m)), .5),\n          x = w / P.width,\n          S = this._ctx,\n          M = S.createPattern(P, \"repeat-y\");\n    let b, C;\n    S.save(), this._setCapStyle(o), this._setJoinStyle(n), S.miterLimit = a, S.lineWidth = w;\n\n    for (let s of u) if (s = r(s), it(s), s && !(s.length <= 1)) {\n      b = this.transformPt(s[0]);\n\n      for (let t = 1; t < s.length; t++) {\n        C = this.transformPt(s[t]);\n        const e = K(b, C),\n              r = new DOMMatrix();\n        r.translateSelf(0, b[1] - w / 2).scaleSelf(x, x, 1).rotateSelf(0, 0, 90 - e), M.setTransform(r), S.strokeStyle = M, S.beginPath(), S.moveTo(b[0], b[1]), S.lineTo(C[0], C[1]), S.stroke(), b = C;\n      }\n    }\n\n    S.restore();\n  }\n\n  _buildPath(t, e) {\n    const r = this._ctx;\n    if (r.beginPath(), t) for (const i of t) {\n      const t = i ? i.length : 0;\n\n      if (t > 1) {\n        let s = this.transformPt(i[0]);\n        r.moveTo(s[0], s[1]);\n\n        for (let e = 1; e < t; e++) s = this.transformPt(i[e]), r.lineTo(s[0], s[1]);\n\n        e && r.closePath();\n      }\n    }\n  }\n\n  _setCapStyle(t) {\n    switch (t) {\n      case M.Butt:\n        this._ctx.lineCap = \"butt\";\n        break;\n\n      case M.Round:\n        this._ctx.lineCap = \"round\";\n        break;\n\n      case M.Square:\n        this._ctx.lineCap = \"square\";\n    }\n  }\n\n  _setJoinStyle(t) {\n    switch (t) {\n      case b.Bevel:\n        this._ctx.lineJoin = \"bevel\";\n        break;\n\n      case b.Round:\n        this._ctx.lineJoin = \"round\";\n        break;\n\n      case b.Miter:\n        this._ctx.lineJoin = \"miter\";\n    }\n  }\n\n}\n\nfunction K(t, e) {\n  const r = e[0] - t[0],\n        i = e[1] - t[1];\n  return 180 / Math.PI * Math.atan2(i, r);\n}\n\nconst Q = t => t ? {\n  spatialReference: t.spatialReference,\n  rings: [[[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]]]\n} : null,\n      Z = t => {\n  switch (t) {\n    case \"Left\":\n      return H.Left;\n\n    case \"Right\":\n      return H.Right;\n\n    case \"Center\":\n      return H.Center;\n\n    case \"Justify\":\n      return N.warnOnce(\"Horizontal alignment 'justify' is not implemented. Falling back to 'center'.\"), H.Center;\n  }\n},\n      $ = t => {\n  switch (t) {\n    case \"Top\":\n      return B.Top;\n\n    case \"Center\":\n      return B.Center;\n\n    case \"Bottom\":\n      return B.Bottom;\n\n    case \"Baseline\":\n      return B.Baseline;\n  }\n},\n      tt = (t, e, r) => {\n  switch (t) {\n    case \"ExtraLeading\":\n      return 1 + e / r;\n\n    case \"Multiple\":\n      return e;\n\n    case \"Exact\":\n      return e / r;\n  }\n};\n\nfunction et(t, r = 1) {\n  const i = R(t),\n        s = v(t.fontStyleName),\n        o = e(t.fontFamilyName),\n        {\n    weight: n,\n    style: a\n  } = s,\n        l = r * (t.height || 5),\n        h = z(t.horizontalAlignment),\n        c = F(t.verticalAlignment),\n        m = L(t),\n        f = A(t.haloSymbol),\n        u = f ? r * (0 | t.haloSize) : 0;\n  return {\n    color: m,\n    size: l,\n    horizontalAlignment: h,\n    verticalAlignment: c,\n    font: {\n      family: o,\n      style: j(a),\n      weight: U(n),\n      decoration: i\n    },\n    halo: {\n      size: u || 0,\n      color: f,\n      style: a\n    },\n    pixelRatio: 1,\n    premultiplyColors: !0\n  };\n}\n\nconst rt = 1e-4;\n\nfunction it(t) {\n  let e,\n      r,\n      i,\n      s,\n      o,\n      n = t[0],\n      a = 1;\n\n  for (; a < t.length;) e = t[a][0] - n[0], r = t[a][1] - n[1], s = 0 !== e ? r / e : Math.PI / 2, void 0 !== i && s - i <= rt ? (t.splice(a - 1, 1), n = o) : (o = n, n = t[a], a++), i = s;\n}\n\nexport { Y as CIMSymbolDrawHelper, E as C_DEG_TO_RAD, W as CanvasDrawHelper, q as EnvDrawHelper, V as HittestDrawHelper, O as Transformation, Z as horizontalAlignment2HAlign, tt as lineGapType2LineHeight, $ as verticalAlignment2VAlign };","map":{"version":3,"names":["bidiText","t","getFontFamily","e","clone","r","i","isNone","s","isSome","o","n","px2pt","a","pt2px","l","create","h","fromValues","c","getBoundsXY","m","polygonCentroid","f","isPoint","u","isPolygon","p","isPolyline","d","isExtent","_","isMultipoint","g","SimpleGeometryCursor","y","P","getEffectOperator","w","getPlacementOperator","x","Placement","S","LineCapStyle","M","LineJoinStyle","b","getFirstFrame","k","C","T","isSVGImage","I","fromCIMFontDecoration","R","fromCIMFontStyle","v","fromCIMHorizontalAlignment","z","fromCIMVerticalAlignment","F","getFillColor","L","getStrokeColor","A","getFontStyle","j","getFontWeight","U","HAlign","H","VAlign","B","GLYPH_SIZE","D","MAGIC_LABEL_LINE_HEIGHT","G","shapeGlyphs","X","E","Math","PI","J","N","getLogger","O","constructor","_t","createIdentity","slice","transform","createScale","scale","scaleRatio","sqrt","createTranslate","translate","createRotate","cos","sin","rotate","multiply","angle","invert","Y","_resourceManager","_transfos","_sizeTransfos","_geomUnitsPerPoint","_placementPool","_earlyReturn","_mapRotation","push","setTransform","setGeomUnitsPerPoint","transformPt","length","transformSize","reverseTransformPt","reverseTransformSize","getTransformAngle","geomUnitsPerPoint","isEmbedded","back","pop","splice","drawSymbol","type","drawMultiLayerSymbol","drawTextSymbol","symbolLayers","effects","executeEffects","next","drawSymbolLayers","geometryEngine","execute","enable","drawSymbolLayer","drawSolidFill","color","drawHatchFill","drawPictureFill","drawGradientFill","drawSolidStroke","width","capStyle","joinStyle","miterLimit","drawPictureStroke","drawGradientStroke","drawMarkerLayer","_buildHatchPolyline","pushClipPath","lineSymbol","popClipPath","markerPlacement","clipAtBoundary","drawMarker","acquire","tx","ty","points","release","drawPictureMarker","drawVectorMarker","getResource","url","size","height","scaleX","anchorPoint","anchorPointUnits","rotation","rotateClockwise","offsetX","offsetY","getAngle","drawImage","markerGraphics","frame","ymax","ymin","xmax","xmin","scaleSymbolsProportionally","symbol","geometry","error","textString","drawText","separation","Number","MAX_VALUE","min","max","floor","round","paths","q","reset","_xmin","_ymin","_xmax","_ymax","_clipCount","envelope","bounds","_processPath","rings","Q","console","_merge","_textRasterizer","et","computeTextSize","horizontalAlignment","verticalAlignment","V","arguments","_searchPoint","_searchDistPoint","hitTest","_textInfo","angleAlignment","_hitTestFill","_hitTestStroke","abs","get","text","mosaicItem","glyphMosaicItems","tt","lineGapType","lineGap","xOffset","yOffset","hAlign","Z","vAlign","$","maxLineWidth","lineHeight","decoration","font","isCIM","glyphs","xTopLeft","xBottomRight","yBottomRight","yTopLeft","_pointInPolygon","_nearLine","W","_applyAdditionalRenderProps","_colorSubstitutionHelper","_ctx","_buildPath","log","fillStyle","fill","strokeStyle","lineWidth","_setCapStyle","_setJoinStyle","stroke","save","clip","restore","colorSubstitutions","tintColor","src","applyColorSubstituition","tintImageData","m11","m12","m21","m22","m41","m42","rasterizeText","anchorX","anchorY","canvas","createPattern","DOMMatrix","rotateSelf","translateSelf","scaleSelf","it","K","beginPath","moveTo","lineTo","closePath","Butt","lineCap","Round","Square","Bevel","lineJoin","Miter","atan2","spatialReference","Left","Right","Center","warnOnce","Top","Bottom","Baseline","fontStyleName","fontFamilyName","weight","style","haloSymbol","haloSize","family","halo","pixelRatio","premultiplyColors","rt","CIMSymbolDrawHelper","C_DEG_TO_RAD","CanvasDrawHelper","EnvDrawHelper","HittestDrawHelper","Transformation","horizontalAlignment2HAlign","lineGapType2LineHeight","verticalAlignment2VAlign"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{bidiText as t}from\"../../core/BidiText.js\";import{getFontFamily as e}from\"../../core/fontUtils.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{isNone as s,isSome as o}from\"../../core/maybe.js\";import n from\"../../core/ObjectPool.js\";import{px2pt as a,pt2px as l}from\"../../core/screenUtils.js\";import{create as h,fromValues as c}from\"../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as m}from\"../../geometry/support/boundsUtils.js\";import{polygonCentroid as f}from\"../../geometry/support/centroid.js\";import{isPoint as u,isPolygon as p,isPolyline as d,isExtent as _,isMultipoint as g}from\"../../geometry/support/jsonUtils.js\";import{SimpleGeometryCursor as y}from\"./CIMEffects.js\";import P from\"./CIMImageColorSubstitutionHelper.js\";import{getEffectOperator as w,getPlacementOperator as x}from\"./CIMOperators.js\";import{Placement as S}from\"./CIMPlacements.js\";import{LineCapStyle as M,LineJoinStyle as b}from\"./enums.js\";import{getFirstFrame as k}from\"./imageUtils.js\";import C from\"./Rect.js\";import T from\"./TextRasterizer.js\";import{isSVGImage as I,fromCIMFontDecoration as R,fromCIMFontStyle as v,fromCIMHorizontalAlignment as z,fromCIMVerticalAlignment as F,getFillColor as L,getStrokeColor as A,getFontStyle as j,getFontWeight as U}from\"./utils.js\";import{HAlign as H,VAlign as B}from\"../../views/2d/engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as D,MAGIC_LABEL_LINE_HEIGHT as G}from\"../../views/2d/engine/webgl/definitions.js\";import{shapeGlyphs as X}from\"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";const E=Math.PI/180,J=10,N=i.getLogger(\"esri.symbols.cim.CIMSymbolDrawHelper\");class O{constructor(t){this._t=t}static createIdentity(){return new O([1,0,0,0,1,0])}clone(){const t=this._t;return new O(t.slice())}transform(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}static createScale(t,e){return new O([t,0,0,0,e,0])}scale(t,e){const r=this._t;return r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=e,r[4]*=e,r[5]*=e,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,e){return new O([0,0,t,0,0,e])}translate(t,e){const r=this._t;return r[2]+=t,r[5]+=e,this}static createRotate(t){const e=Math.cos(t),r=Math.sin(t);return new O([e,-r,0,r,e,0])}rotate(t){return O.multiply(this,O.createRotate(t),this)}angle(){const t=this._t[0],e=this._t[3],r=Math.sqrt(t*t+e*e);return[t/r,e/r]}static multiply(t,e,r){const i=t._t,s=e._t,o=i[0]*s[0]+i[3]*s[1],n=i[1]*s[0]+i[4]*s[1],a=i[2]*s[0]+i[5]*s[1]+s[2],l=i[0]*s[3]+i[3]*s[4],h=i[1]*s[3]+i[4]*s[4],c=i[2]*s[3]+i[5]*s[4]+s[5],m=r._t;return m[0]=o,m[1]=n,m[2]=a,m[3]=l,m[4]=h,m[5]=c,r}invert(){const t=this._t;let e=t[0]*t[4]-t[1]*t[3];if(0===e)return new O([0,0,0,0,0,0]);e=1/e;const r=(t[1]*t[5]-t[2]*t[4])*e,i=(t[2]*t[3]-t[0]*t[5])*e,s=t[4]*e,o=-t[1]*e,n=-t[3]*e,a=t[0]*e;return new O([s,o,r,n,a,i])}}class Y{constructor(t,e){this._resourceManager=t,this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._placementPool=new n(S,void 0,void 0,100),this._earlyReturn=!1,this._mapRotation=0,this._transfos.push(e||O.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}setTransform(t,e){this._transfos=[t||O.createIdentity()],this._sizeTransfos=[e||(t?t.scaleRatio():1)]}setGeomUnitsPerPoint(t){this._geomUnitsPerPoint=t}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(t){return this._transfos[this._transfos.length-1].invert().transform(t)}reverseTransformSize(t){return t/this._sizeTransfos[this._sizeTransfos.length-1]}getTransformAngle(){return this._transfos[this._transfos.length-1].angle()}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(t,e){const r=e?t.scaleRatio():1;O.multiply(t,this.back(),t),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*r)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,e,r){if(t)switch(t.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":this.drawMultiLayerSymbol(t,e);break;case\"CIMTextSymbol\":this.drawTextSymbol(t,e,r)}}drawMultiLayerSymbol(t,e){if(!t)return;const r=t.symbolLayers;if(!r)return;const i=t.effects;if(i&&i.length>0){const t=this.executeEffects(i,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(r,e),e=t.next()}}else this.drawSymbolLayers(r,e)}executeEffects(t,e){const r=this._resourceManager.geometryEngine;let i=new y(e);for(const s of t){const t=w(s);t&&(i=t.execute(i,s,this.geomUnitsPerPoint(),r))}return i}drawSymbolLayers(t,e){let r=t.length;for(;r--;){const i=t[r];if(!i||!1===i.enable)continue;const s=i.effects;if(s&&s.length>0){const t=this.executeEffects(s,e);if(t){let e=null;for(;(e=t.next())&&(this.drawSymbolLayer(i,e),!this._earlyReturn););}}else this.drawSymbolLayer(i,e);if(this._earlyReturn)return}}drawSymbolLayer(t,e){switch(t.type){case\"CIMSolidFill\":this.drawSolidFill(e,t.color);break;case\"CIMHatchFill\":this.drawHatchFill(e,t);break;case\"CIMPictureFill\":this.drawPictureFill(e,t);break;case\"CIMGradientFill\":this.drawGradientFill(e,t);break;case\"CIMSolidStroke\":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case\"CIMPictureStroke\":this.drawPictureStroke(e,t);break;case\"CIMGradientStroke\":this.drawGradientStroke(e,t);break;case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":this.drawMarkerLayer(t,e)}}drawHatchFill(t,e){const r=this._buildHatchPolyline(e,t,this.geomUnitsPerPoint());r&&(this.pushClipPath(t),this.drawMultiLayerSymbol(e.lineSymbol,r),this.popClipPath())}drawPictureFill(t,e){}drawGradientFill(t,e){}drawPictureStroke(t,e){}drawGradientStroke(t,e){}drawMarkerLayer(t,e){const r=t.markerPlacement;if(r){const i=x(r);if(i){const s=\"CIMMarkerPlacementInsidePolygon\"===r.type||\"CIMMarkerPlacementPolygonCenter\"===r.type&&r.clipAtBoundary;s&&this.pushClipPath(e);const o=i.execute(e,r,this.geomUnitsPerPoint(),this._resourceManager.geometryEngine);if(o){let e=null;for(;(e=o.next())&&(this.drawMarker(t,e),!this._earlyReturn););}s&&this.popClipPath()}}else{const r=this._placementPool.acquire();if(u(e))r.tx=e.x,r.ty=e.y,this.drawMarker(t,r);else if(p(e))[r.tx,r.ty]=f(e),this.drawMarker(t,r);else for(const i of e.points)if(r.tx=i[0],r.ty=i[1],this.drawMarker(t,r),this._earlyReturn)break;this._placementPool.release(r)}}drawMarker(t,e){switch(t.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":this.drawPictureMarker(t,e);break;case\"CIMVectorMarker\":this.drawVectorMarker(t,e)}}drawPictureMarker(t,e){if(!t)return;const r=this._resourceManager.getResource(t.url),i=t.size??10;if(s(r)||i<=0)return;const o=r.width,n=r.height;if(!o||!n)return;const a=o/n,l=t.scaleX??1,h=O.createIdentity(),c=t.anchorPoint;if(c){let e=c.x,r=c.y;\"Absolute\"!==t.anchorPointUnits&&(e*=i*a*l,r*=i),h.translate(-e,-r)}let m=t.rotation??0;t.rotateClockwise&&(m=-m),this._mapRotation&&(m+=this._mapRotation),m&&h.rotate(m*E);let f=t.offsetX??0,u=t.offsetY??0;if(f||u){if(this._mapRotation){const t=E*this._mapRotation,e=Math.cos(t),r=Math.sin(t),i=f*r+u*e;f=f*e-u*r,u=i}h.translate(f,u)}const p=this.geomUnitsPerPoint();1!==p&&h.scale(p,p);const d=e.getAngle();d&&h.rotate(d),h.translate(e.tx,e.ty),this.push(h,!1),this.drawImage(t,i),this.pop()}drawVectorMarker(t,e){if(!t)return;const r=t.markerGraphics;if(!r)return;const i=t.size??10,s=t.frame,o=s?s.ymax-s.ymin:0,n=i&&o?i/o:1,a=O.createIdentity();s&&a.translate(.5*-(s.xmax+s.xmin),.5*-(s.ymax+s.ymin));const l=t.anchorPoint;if(l){let e=l.x,r=l.y;\"Absolute\"!==t.anchorPointUnits?s&&(e*=s.xmax-s.xmin,r*=s.ymax-s.ymin):(e/=n,r/=n),a.translate(-e,-r)}1!==n&&a.scale(n,n);let h=t.rotation??0;t.rotateClockwise&&(h=-h),this._mapRotation&&(h+=this._mapRotation),h&&a.rotate(h*E);let c=t.offsetX??0,m=t.offsetY??0;if(c||m){if(this._mapRotation){const t=E*this._mapRotation,e=Math.cos(t),r=Math.sin(t),i=c*r+m*e;c=c*e-m*r,m=i}a.translate(c,m)}const f=this.geomUnitsPerPoint();1!==f&&a.scale(f,f);const u=e.getAngle();u&&a.rotate(u),a.translate(e.tx,e.ty),this.push(a,t.scaleSymbolsProportionally);for(const p of r)if(p&&p.symbol&&p.geometry||N.error(\"Invalid marker graphic\",p),this.drawSymbol(p.symbol,p.geometry,p.textString),this._earlyReturn)break;this.pop()}drawTextSymbol(t,e,r){if(!t)return;if(!u(e))return;if((t.height??10)<=0)return;const i=O.createIdentity();let s=t.angle??0;s=-s,s&&i.rotate(s*E);const o=t.offsetX??0,n=t.offsetY??0;(o||n)&&i.translate(o,n);const a=this.geomUnitsPerPoint();1!==a&&i.scale(a,a),i.translate(e.x,e.y),this.push(i,!1),this.drawText(t,r),this.pop()}_buildHatchPolyline(t,e,r){let i=(void 0!==t.separation?t.separation:4)*r,s=void 0!==t.rotation?t.rotation:0;if(0===i)return null;i<0&&(i=-i);let o=0;const n=.5*i;for(;o>n;)o-=i;for(;o<-n;)o+=i;const a=h();m(a,e),a[0]-=n,a[1]-=n,a[2]+=n,a[3]+=n;const l=[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],a[1]]];for(;s>180;)s-=180;for(;s<0;)s+=180;const c=Math.cos(s*E),f=Math.sin(s*E),u=-i*f,p=i*c;let d,_,g,y;o=(void 0!==t.offsetX?t.offsetX*r:0)*f-(void 0!==t.offsetY?t.offsetY*r:0)*c,d=g=Number.MAX_VALUE,_=y=-Number.MAX_VALUE;for(const h of l){const t=h[0],e=h[1],r=c*t+f*e,i=-f*t+c*e;d=Math.min(d,r),g=Math.min(g,i),_=Math.max(_,r),y=Math.max(y,i)}g=Math.floor(g/i)*i;let P=c*d-f*g-u*o/i,w=f*d+c*g-p*o/i,x=c*_-f*g-u*o/i,S=f*_+c*g-p*o/i;const M=1+Math.round((y-g)/i),b=[];for(let h=0;h<M;h++)P+=u,w+=p,x+=u,S+=p,b.push([[P,w],[x,S]]);return{paths:b}}}class q extends Y{constructor(t,e){super(t,e),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new C(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return c(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(t){if(t&&!(this._clipCount>0))if(p(t))this._processPath(t.rings,0);else if(d(t))this._processPath(t.paths,0);else if(_(t)){const e=Q(t);e&&this._processPath(e.rings,0)}else console.error(\"drawSolidFill Unexpected geometry type!\")}drawSolidStroke(t,e,r){if(!t||this._clipCount>0)return;const i=.5*this.transformSize(r);if(p(t))this._processPath(t.rings,i);else if(d(t))this._processPath(t.paths,i);else if(_(t)){const e=Q(t);e&&this._processPath(e.rings,i)}else console.error(\"drawSolidStroke unexpected geometry type!\")}drawMarkerLayer(t,e){p(e)&&t.markerPlacement&&(\"CIMMarkerPlacementInsidePolygon\"===t.markerPlacement.type||\"CIMMarkerPlacementPolygonCenter\"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._processPath(e.rings,0):super.drawMarkerLayer(t,e)}drawHatchFill(t,e){this.drawSolidFill(t)}drawPictureFill(t,e){this.drawSolidFill(t)}drawGradientFill(t,e){this.drawSolidFill(t)}drawPictureStroke(t,e){this.drawSolidStroke(t,null,e.width)}drawGradientStroke(t,e){this.drawSolidStroke(t,null,e.width)}pushClipPath(t){this.drawSolidFill(t),this._clipCount++}popClipPath(){this._clipCount--}drawImage(t,e){const{url:r}=t,i=t.scaleX??1;let s=i*e,n=e;const a=this._resourceManager.getResource(r);!e&&o(a)&&(s=i*a.width,n=a.height),this._merge(this.transformPt([-s/2,-n/2]),0),this._merge(this.transformPt([-s/2,n/2]),0),this._merge(this.transformPt([s/2,-n/2]),0),this._merge(this.transformPt([s/2,n/2]),0)}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new T);const r=et(t),[i,s]=this._textRasterizer.computeTextSize(e,r);let o=0;switch(t.horizontalAlignment){case\"Left\":o=i/2;break;case\"Right\":o=-i/2}let n=0;switch(t.verticalAlignment){case\"Bottom\":n=s/2;break;case\"Top\":n=-s/2;break;case\"Baseline\":n=s/6}this._merge(this.transformPt([-i/2+o,-s/2+n]),0),this._merge(this.transformPt([-i/2+o,s/2+n]),0),this._merge(this.transformPt([i/2+o,-s/2+n]),0),this._merge(this.transformPt([i/2+o,s/2+n]),0)}_processPath(t,e){if(t)for(const r of t){const t=r?r.length:0;if(t>1){this._merge(this.transformPt(r[0]),e);for(let i=1;i<t;i++)this._merge(this.transformPt(r[i]),e)}}}_merge(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}class V extends Y{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0}hitTest(t,e,r,i,s,o){const n=o*l(1);this.setTransform(),this.setGeomUnitsPerPoint(n),this._searchPoint=[(t[0]+t[2])/2,(t[1]+t[3])/2],this._searchDistPoint=(t[2]-t[0])/2/n,this._textInfo=i;const a=e&&(\"CIMPointSymbol\"===e.type&&\"Map\"!==e.angleAlignment||\"CIMTextSymbol\"===e.type);return this._mapRotation=a?s:0,this._earlyReturn=!1,this.drawSymbol(e,r),this._earlyReturn}drawSolidFill(t,e){this._hitTestFill(t)}drawHatchFill(t,e){this._hitTestFill(t)}drawPictureFill(t,e){this._hitTestFill(t)}drawGradientFill(t,e){this._hitTestFill(t)}drawSolidStroke(t,e,r,i,s,o){this._hitTestStroke(t,r)}drawPictureStroke(t,e){this._hitTestStroke(t,e.width)}drawGradientStroke(t,e){this._hitTestStroke(t,e.width)}drawMarkerLayer(t,e){t.markerPlacement&&(\"CIMMarkerPlacementInsidePolygon\"===t.markerPlacement.type||\"CIMMarkerPlacementPolygonCenter\"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._hitTestFill(e):super.drawMarkerLayer(t,e)}pushClipPath(t){}popClipPath(){}drawImage(t,e){const{url:r}=t,i=t.scaleX??1,o=this._resourceManager.getResource(r);if(s(o)||0===o.height||0===e)return;const n=e*this.geomUnitsPerPoint(),a=n*i*(o.width/o.height),l=this.reverseTransformPt(this._searchPoint),h=this._searchDistPoint;Math.abs(l[0])<a/2+h&&Math.abs(l[1])<n/2+h&&(this._earlyReturn=!0)}drawText(e,r){const i=this._textInfo;if(!i)return;const s=i.get(e);if(!s)return;const{text:o,mosaicItem:n}=s;if(!n||0===n.glyphMosaicItems.length)return;const a=e.height??J,l=tt(e.lineGapType,e.lineGap??0,a),h=t(o)[1],c=n.glyphMosaicItems,m=X(c,h,{scale:a/D,angle:0,xOffset:0,yOffset:0,hAlign:Z(e.horizontalAlignment),vAlign:$(e.verticalAlignment),maxLineWidth:512,lineHeight:G*Math.max(.25,Math.min(l||1,4)),decoration:e.font.decoration||\"none\",isCIM:!0}),f=this.reverseTransformPt(this._searchPoint),u=f[0],p=f[1];for(const t of m.glyphs)if(u>t.xTopLeft&&u<t.xBottomRight&&p>-t.yBottomRight&&p<-t.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(t){let e=null;if(_(t)){const r=t;e=[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]}else if(p(t))e=t.rings;else{if(!d(t))return;e=t.paths}const r=this.reverseTransformPt(this._searchPoint);if(this._pointInPolygon(r,e)&&(this._earlyReturn=!0),!this._earlyReturn){const t=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(r,e,t)&&(this._earlyReturn=!0)}}_hitTestStroke(t,e){let r=null;if(_(t)){const e=t;r=[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}else if(p(t))r=t.rings;else{if(!d(t))return;r=t.paths}const i=this.reverseTransformPt(this._searchPoint),s=e*this.geomUnitsPerPoint(),o=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(i,r,s/2+o)&&(this._earlyReturn=!0)}_pointInPolygon(t,e){let r=0;for(const i of e){const e=i.length;for(let s=1;s<e;s++){const e=i[s-1],o=i[s];if(e[1]>t[1]==o[1]>t[1])continue;(o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0])>0?r++:r--}}return 0!==r}_nearLine(t,e,r){for(const i of e){const e=i.length;for(let s=1;s<e;s++){const e=i[s-1],o=i[s];let n=(o[0]-e[0])*(o[0]-e[0])+(o[1]-e[1])*(o[1]-e[1]);if(0===n)continue;n=Math.sqrt(n);const a=((o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0]))/n;if(Math.abs(a)<r){const i=((o[0]-e[0])*(t[0]-e[0])+(o[1]-e[1])*(t[1]-e[1]))/n;if(i>-r&&i<n+r)return!0}}}return!1}}class W extends Y{constructor(t,e,r,i){super(e,r),this._applyAdditionalRenderProps=i,this._colorSubstitutionHelper=new P,this._ctx=t}drawSolidFill(t,e){if(!t)return;if(p(t))this._buildPath(t.rings,!0);else if(d(t))this._buildPath(t.paths,!0);else if(_(t))this._buildPath(Q(t).rings,!0);else{if(!g(t))return;console.log(\"CanvasDrawHelper.drawSolidFill - No implementation!\")}const r=this._ctx;r.fillStyle=\"string\"==typeof e?e:\"rgba(\"+Math.round(e[0])+\",\"+Math.round(e[1])+\",\"+Math.round(e[2])+\",\"+e[3]/255+\")\",r.fill(\"evenodd\")}drawSolidStroke(t,e,r,i,s,o){if(!t||!e||0===r)return;if(p(t))this._buildPath(t.rings,!0);else if(d(t))this._buildPath(t.paths,!1);else{if(!_(t))return void console.log(\"CanvasDrawHelper.drawSolidStroke isn't implemented!\");this._buildPath(Q(t).rings,!0)}const n=this._ctx;n.strokeStyle=\"string\"==typeof e?e:\"rgba(\"+Math.round(e[0])+\",\"+Math.round(e[1])+\",\"+Math.round(e[2])+\",\"+e[3]/255+\")\",n.lineWidth=Math.max(this.transformSize(r),.5),this._setCapStyle(i),this._setJoinStyle(s),n.miterLimit=o,n.stroke()}pushClipPath(t){if(this._ctx.save(),p(t))this._buildPath(t.rings,!0);else if(d(t))this._buildPath(t.paths,!0);else{if(!_(t))return;this._buildPath(Q(t).rings,!0)}this._ctx.clip(\"evenodd\")}popClipPath(){this._ctx.restore()}drawImage(t,e){const{colorSubstitutions:r,url:i,tintColor:o}=t,n=t.scaleX??1,a=this._resourceManager.getResource(i);if(s(a))return;let l=e*(a.width/a.height),h=e;e||(l=a.width,h=a.height);const c=I(i)||\"src\"in a&&I(a.src);let m=\"getFrame\"in a?k(a):a;r&&(m=this._colorSubstitutionHelper.applyColorSubstituition(m,r)),this._applyAdditionalRenderProps&&!c&&o&&(m=this._colorSubstitutionHelper.tintImageData(m,o));const f=this.transformPt([0,0]),[u,p]=this.getTransformAngle(),d=this.transformSize(1),_=this._ctx;_.save(),_.setTransform({m11:n*d*u,m12:n*d*p,m21:-d*p,m22:d*u,m41:f[0],m42:f[1]}),_.drawImage(m,-l/2,-h/2,l,h),_.restore()}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new T);const r=et(t);r.size*=this.transformSize(a(1));const i=this._textRasterizer.rasterizeText(e,r);if(!i)return;const{size:s,anchorX:o,anchorY:n,canvas:l}=i,h=s[0]*(o+.5),c=s[1]*(n-.5),m=this._ctx,f=this.transformPt([0,0]),[u,p]=this.getTransformAngle(),d=1;m.save(),m.setTransform({m11:d*u,m12:d*p,m21:-d*p,m22:d*u,m41:f[0]-d*h,m42:f[1]+d*c}),m.drawImage(l,0,0),m.restore()}drawPictureFill(t,e){if(!t)return;let{colorSubstitutions:r,height:i,offsetX:o,offsetY:n,rotation:a,scaleX:l,tintColor:h,url:c}=e;const m=this._resourceManager.getResource(c);if(s(m))return;if(p(t))this._buildPath(t.rings,!0);else if(d(t))this._buildPath(t.paths,!0);else if(_(t))this._buildPath(Q(t).rings,!0);else{if(!g(t))return;console.log(\"CanvasDrawHelper.drawPictureFill - No implementation!\")}const f=this._ctx,u=I(c)||\"src\"in m&&I(m.src);let y,P=\"getFrame\"in m?k(m):m;if(r&&(P=this._colorSubstitutionHelper.applyColorSubstituition(P,r)),this._applyAdditionalRenderProps){u||h&&(P=this._colorSubstitutionHelper.tintImageData(P,h)),y=f.createPattern(P,\"repeat\");const t=this.transformSize(1);a||(a=0),o?o*=t:o=0,n?n*=t:n=0,i&&(i*=t);const e=i?i/m.height:1,r=l&&i?l*i/m.width:1;if(0!==a||1!==e||1!==r||0!==o||0!==n){const t=new DOMMatrix;t.rotateSelf(0,0,-a).translateSelf(o,n).scaleSelf(r,e,1),y.setTransform(t)}}else y=f.createPattern(P,\"repeat\");f.save(),f.fillStyle=y,f.fill(\"evenodd\"),f.restore()}drawPictureStroke(t,e){if(!t)return;let{colorSubstitutions:i,capStyle:o,joinStyle:n,miterLimit:a,tintColor:h,url:c,width:m}=e;const f=this._resourceManager.getResource(c);if(s(f))return;let u;if(p(t))u=t.rings;else if(d(t))u=t.paths;else if(_(t))u=Q(t).rings;else{if(!g(t))return;console.log(\"CanvasDrawHelper.drawPictureStroke - No implementation!\")}m||(m=f.width);const y=I(c)||\"src\"in f&&I(f.src);let P=\"getFrame\"in f?k(f):f;i&&(P=this._colorSubstitutionHelper.applyColorSubstituition(P,i)),this._applyAdditionalRenderProps&&(y||h&&(P=this._colorSubstitutionHelper.tintImageData(P,h)));const w=Math.max(this.transformSize(l(m)),.5),x=w/P.width,S=this._ctx,M=S.createPattern(P,\"repeat-y\");let b,C;S.save(),this._setCapStyle(o),this._setJoinStyle(n),S.miterLimit=a,S.lineWidth=w;for(let s of u)if(s=r(s),it(s),s&&!(s.length<=1)){b=this.transformPt(s[0]);for(let t=1;t<s.length;t++){C=this.transformPt(s[t]);const e=K(b,C),r=new DOMMatrix;r.translateSelf(0,b[1]-w/2).scaleSelf(x,x,1).rotateSelf(0,0,90-e),M.setTransform(r),S.strokeStyle=M,S.beginPath(),S.moveTo(b[0],b[1]),S.lineTo(C[0],C[1]),S.stroke(),b=C}}S.restore()}_buildPath(t,e){const r=this._ctx;if(r.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let s=this.transformPt(i[0]);r.moveTo(s[0],s[1]);for(let e=1;e<t;e++)s=this.transformPt(i[e]),r.lineTo(s[0],s[1]);e&&r.closePath()}}}_setCapStyle(t){switch(t){case M.Butt:this._ctx.lineCap=\"butt\";break;case M.Round:this._ctx.lineCap=\"round\";break;case M.Square:this._ctx.lineCap=\"square\"}}_setJoinStyle(t){switch(t){case b.Bevel:this._ctx.lineJoin=\"bevel\";break;case b.Round:this._ctx.lineJoin=\"round\";break;case b.Miter:this._ctx.lineJoin=\"miter\"}}}function K(t,e){const r=e[0]-t[0],i=e[1]-t[1];return 180/Math.PI*Math.atan2(i,r)}const Q=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,Z=t=>{switch(t){case\"Left\":return H.Left;case\"Right\":return H.Right;case\"Center\":return H.Center;case\"Justify\":return N.warnOnce(\"Horizontal alignment 'justify' is not implemented. Falling back to 'center'.\"),H.Center}},$=t=>{switch(t){case\"Top\":return B.Top;case\"Center\":return B.Center;case\"Bottom\":return B.Bottom;case\"Baseline\":return B.Baseline}},tt=(t,e,r)=>{switch(t){case\"ExtraLeading\":return 1+e/r;case\"Multiple\":return e;case\"Exact\":return e/r}};function et(t,r=1){const i=R(t),s=v(t.fontStyleName),o=e(t.fontFamilyName),{weight:n,style:a}=s,l=r*(t.height||5),h=z(t.horizontalAlignment),c=F(t.verticalAlignment),m=L(t),f=A(t.haloSymbol),u=f?r*(0|t.haloSize):0;return{color:m,size:l,horizontalAlignment:h,verticalAlignment:c,font:{family:o,style:j(a),weight:U(n),decoration:i},halo:{size:u||0,color:f,style:a},pixelRatio:1,premultiplyColors:!0}}const rt=1e-4;function it(t){let e,r,i,s,o,n=t[0],a=1;for(;a<t.length;)e=t[a][0]-n[0],r=t[a][1]-n[1],s=0!==e?r/e:Math.PI/2,void 0!==i&&s-i<=rt?(t.splice(a-1,1),n=o):(o=n,n=t[a],a++),i=s}export{Y as CIMSymbolDrawHelper,E as C_DEG_TO_RAD,W as CanvasDrawHelper,q as EnvDrawHelper,V as HittestDrawHelper,O as Transformation,Z as horizontalAlignment2HAlign,tt as lineGapType2LineHeight,$ as verticalAlignment2VAlign};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}