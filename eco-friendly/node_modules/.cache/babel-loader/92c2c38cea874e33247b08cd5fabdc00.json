{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { forEach as t, result as r } from \"../../../core/asyncUtils.js\";\nimport { makeHandle as i } from \"../../../core/handleUtils.js\";\nimport a from \"../../../core/Logger.js\";\nimport { isNone as s, isSome as n } from \"../../../core/maybe.js\";\nimport { debounce as o, isAbortError as l, eachAlways as h, onAbort as m, isAborted as d, createAbortError as c, throwIfAborted as g } from \"../../../core/promiseUtils.js\";\nimport { whenOnce as u } from \"../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as f } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport y from \"../../../geometry/Extent.js\";\nimport { equals as _, create as w, width as x, height as R, copy as v, intersection as b } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { DrapeSourceType as S } from \"./interfaces.js\";\nimport { LayerView3D as E } from \"./LayerView3D.js\";\nimport { computeImageExportSize as j, createGeometryForExtent as I, createOuterImageGeometry as A } from \"./support/overlayImageUtils.js\";\nimport { toViewIfLocal as C } from \"./support/projectExtentUtils.js\";\nimport D from \"../support/debugFlags.js\";\nimport { OverlayIndex as G } from \"../terrain/interfaces.js\";\nimport { UpdatePolicy as L } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { ModelDirty as M } from \"../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { RenderGeometry as T } from \"../webgl-engine/lib/RenderGeometry.js\";\nimport { Texture as P } from \"../webgl-engine/lib/Texture.js\";\nimport { ImageMaterial as O } from \"../webgl-engine/materials/ImageMaterial.js\";\nimport U from \"../../layers/LayerView.js\";\nimport V from \"../../layers/RefreshableLayerView.js\";\nimport { isScaleRangeActive as H } from \"../../support/layerViewUtils.js\";\nimport { TextureWrapMode as N } from \"../../webgl/enums.js\";\nconst z = a.getLogger(\"esri.views.3d.layers.DynamicLayerView3D\");\nlet F = class extends V(E(U)) {\n  constructor() {\n    super(...arguments), this.drapeSourceType = S.RasterImage, this.updatePolicy = L.SYNC, this.fullExtentInLocalViewSpatialReference = null, this.maximumDataResolution = null, this._images = new Array(), this._extents = new Array(), this._overlays = new Array(), this.updateWhenStationary = !0, this._drapeSourceRenderer = null, this.refreshDebounced = o(async e => {\n      this.destroyed || (await this._doRefresh(e).catch(e => {\n        l(e) || a.getLogger(this.declaredClass).error(e);\n      }));\n    }, 2e3);\n  }\n\n  initialize() {\n    this._drapeSourceRenderer = this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this), this.handles.add(i(() => this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))), this.addResolvingPromise(C(this).then(e => this._set(\"fullExtentInLocalViewSpatialReference\", e))), this.updatingHandles.add(() => this.suspended, () => this._suspendedChangeHandler()), this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks(() => {\n      this._isScaleRangeActive() && this.notifyChange(\"suspended\");\n    }, () => {})), this._isScaleRangeLayer() && this.updatingHandles.add(() => this.layer.effectiveScaleRange, () => this.notifyChange(\"suspended\"));\n  }\n\n  destroy() {\n    this.clear();\n  }\n\n  setDrapingExtent(e, t) {\n    this._spatialReference = t, e.forEach(e => {\n      this._overlays[e.index] = e, this._updateImageExtent(e);\n    });\n  }\n\n  _updateImageExtent(e) {\n    const t = this._clippedExtent(e.extent, W);\n\n    if (s(t)) return;\n    const r = j(e.extent, t, e.resolution);\n    let i = e.pixelRatio * this.view.state.pixelRatio;\n\n    if (\"imageMaxWidth\" in this.layer || \"imageMaxHeight\" in this.layer) {\n      const e = this.layer.imageMaxWidth,\n            t = this.layer.imageMaxHeight;\n\n      if (r.width > e) {\n        const t = e / r.width;\n        r.height = Math.floor(r.height * t), r.width = e, i *= t;\n      }\n\n      if (r.height > t) {\n        const e = t / r.height;\n        r.width = Math.floor(r.width * e), r.height = t, i *= e;\n      }\n    }\n\n    const a = this._extents[e.index];\n    a && _(a.extent, t) && this._imageSizeEquals(t, a.imageSize, r) || (this._extents[e.index] = {\n      extent: w(t),\n      imageSize: r,\n      pixelRatio: i\n    }, this.suspended || this._fetch(e.index).catch(e => {\n      l(e) || z.error(e);\n    }));\n  }\n\n  clear() {\n    for (let e = 0; e < this._images.length; e++) this._clearImage(e);\n  }\n\n  async doRefresh() {\n    return this._doRefresh();\n  }\n\n  async _doRefresh(e) {\n    if (this.suspended) return;\n    const t = [];\n\n    for (let r = 0; r < this._extents.length; r++) this._extents[r] && t.push(this._fetch(r, e));\n\n    await h(t);\n  }\n\n  canResume() {\n    if (!super.canResume()) return !1;\n    const e = this.layer;\n\n    if (this._isScaleRangeActive()) {\n      const {\n        minScale: t,\n        maxScale: r\n      } = e.effectiveScaleRange,\n            i = this.view.scale;\n      if (i < r || t > 0 && i > t) return !1;\n    }\n\n    return !0;\n  }\n\n  isUpdating() {\n    return this._images.some(e => !!e.loadingPromise);\n  }\n\n  async processResult(e, t, r) {\n    (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) && (e.image = t);\n  }\n\n  findExtentInfoAt(e) {\n    for (const t of this._extents) {\n      const r = t.extent;\n      if (new y(r[0], r[1], r[2], r[3], this._spatialReference).contains(e)) return t;\n    }\n\n    return null;\n  }\n\n  getFetchOptions() {}\n\n  async redraw(e, r) {\n    await t(this._images, async (t, i) => {\n      t && (await e(t, r), await this._createStageObjects(i, t.image, r));\n    });\n  }\n\n  _imageSizeEquals(e, t, r) {\n    if (!this.maximumDataResolution) return !1;\n    const i = x(e) / this.maximumDataResolution.x,\n          a = R(e) / this.maximumDataResolution.y,\n          s = i / t.width,\n          n = a / t.height,\n          o = i / r.width,\n          l = a / r.height,\n          h = Math.abs(s - o),\n          m = Math.abs(n - l),\n          d = D.TESTS_DISABLE_OPTIMIZATIONS ? 0 : 1.5;\n    return h <= d && m <= d;\n  }\n\n  async _fetch(e, t) {\n    if (this.suspended) return;\n    const r = this._extents[e],\n          i = r.extent;\n    this._images[e] || (this._images[e] = {\n      texture: null,\n      material: null,\n      renderGeometry: null,\n      loadingPromise: null,\n      loadingAbortController: null,\n      image: null,\n      pixelData: null,\n      renderExtent: w(i)\n    });\n    const a = this._images[e];\n    a.loadingAbortController && (a.loadingAbortController.abort(), a.loadingAbortController = null);\n    const s = new y(i[0], i[1], i[2], i[3], this._spatialReference);\n    if (0 === s.width || 0 === s.height) return void this._clearImage(e);\n    const n = new AbortController();\n    a.loadingAbortController = n, m(t, () => n.abort());\n\n    const o = n.signal,\n          h = this._waitFetchReady(o).then(async () => {\n      const t = {\n        requestAsImageElement: !0,\n        pixelRatio: this._overlays[e].pixelRatio,\n        ...this.getFetchOptions(),\n        signal: o\n      },\n            {\n        height: i,\n        width: a\n      } = r.imageSize;\n      return this.layer.fetchImage(s, a, i, t);\n    }).then(e => {\n      if (d(o)) throw z.warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"), c();\n      return this.processResult(a, e);\n    }).then(() => {\n      v(a.renderExtent, i);\n    }).finally(() => {\n      h === a.loadingPromise && (a.loadingPromise = null, a.loadingAbortController = null);\n    });\n\n    a.loadingPromise = h, this.notifyChange(\"updating\"), await h.then(async () => {\n      if (o.aborted) throw c();\n      await this._createStageObjects(e, a.image, o), this.notifyChange(\"updating\");\n    }).catch(e => {\n      throw e && !l(e) && z.error(e), this.notifyChange(\"updating\"), e;\n    });\n  }\n\n  _clearImage(e) {\n    const t = this._images[e];\n\n    if (t) {\n      n(t.renderGeometry) && (this._drapeSourceRenderer.removeGeometries([t.renderGeometry], M.Geometry.UPDATE), t.renderGeometry = null);\n      const e = this.view._stage;\n      e.remove(t.texture), t.texture = null, e.remove(t.material), t.material = null, t.loadingAbortController && (t.loadingAbortController.abort(), t.loadingAbortController = null), t.loadingPromise = null, t.image = null, t.pixelData = null;\n    }\n  }\n\n  async _createStageObjects(e, t, i) {\n    const a = this.view._stage,\n          o = this._images[e],\n          l = () => {\n      a.remove(o.texture), o.texture = null, n(o.renderGeometry) && (this._drapeSourceRenderer.removeGeometries([o.renderGeometry], M.Geometry.UPDATE), o.renderGeometry = null);\n    };\n\n    if (t) {\n      const n = new P(t, {\n        width: t.width,\n        height: t.height,\n        preMultiplyAlpha: !0,\n        wrap: {\n          s: N.CLAMP_TO_EDGE,\n          t: N.CLAMP_TO_EDGE\n        }\n      });\n      let h;\n      if (await r(this._images[e === G.INNER ? G.OUTER : G.INNER].loadingPromise), g(i), e === G.INNER) h = I(o.renderExtent);else {\n        const e = this._images[0].renderExtent;\n        if (!e) return void l();\n        h = A(e, o.renderExtent);\n      }\n      l(), a.add(n), await a.loadImmediate(n), o.texture = n, s(o.material) ? (o.material = new O({\n        transparent: !0,\n        textureId: n.id\n      }), a.add(o.material)) : o.material.setParameters({\n        textureId: n.id\n      }), o.renderGeometry = new T(h, o.material), o.renderGeometry.origin = this._overlays[e].renderLocalOrigin, this._drapeSourceRenderer.addGeometries([o.renderGeometry], M.Geometry.UPDATE);\n    } else l(), a.remove(o.material), o.material = null;\n  }\n\n  _isScaleRangeLayer() {\n    return \"effectiveScaleRange\" in this.layer;\n  }\n\n  _isScaleRangeActive() {\n    const e = this.layer;\n    if (!this._isScaleRangeLayer()) return !1;\n    const {\n      minScale: t,\n      maxScale: r\n    } = e.effectiveScaleRange;\n    return H(t, r);\n  }\n\n  _clippedExtent(e, t) {\n    if (\"local\" !== this.view.viewingMode) return v(t, e);\n    const r = this.view.basemapTerrain;\n    return r.ready ? b(e, r.extent, t) : v(t, e);\n  }\n\n  _suspendedChangeHandler() {\n    this.suspended ? this.clear() : this.refreshDebounced();\n  }\n\n  async _waitFetchReady(e) {\n    await u(() => this.view.stationary, e), g(e);\n  }\n\n};\ne([p()], F.prototype, \"layer\", void 0), e([p()], F.prototype, \"suspended\", void 0), e([p({\n  readOnly: !0\n})], F.prototype, \"fullExtentInLocalViewSpatialReference\", void 0), e([p()], F.prototype, \"updating\", void 0), F = e([f(\"esri.views.3d.layers.DynamicLayerView3D\")], F);\nconst q = F,\n      W = w();\nexport { q as default };","map":{"version":3,"names":["_","e","forEach","t","result","r","makeHandle","i","a","isNone","s","isSome","n","debounce","o","isAbortError","l","eachAlways","h","onAbort","m","isAborted","d","createAbortError","c","throwIfAborted","g","whenOnce","u","property","p","subclass","f","y","equals","create","w","width","x","height","R","copy","v","intersection","b","DrapeSourceType","S","LayerView3D","E","computeImageExportSize","j","createGeometryForExtent","I","createOuterImageGeometry","A","toViewIfLocal","C","D","OverlayIndex","G","UpdatePolicy","L","ModelDirty","M","RenderGeometry","T","Texture","P","ImageMaterial","O","U","V","isScaleRangeActive","H","TextureWrapMode","N","z","getLogger","F","constructor","arguments","drapeSourceType","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","Array","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","destroyed","_doRefresh","catch","declaredClass","error","initialize","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","add","unregisterDrapeSource","addResolvingPromise","then","_set","updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","destroy","clear","setDrapingExtent","_spatialReference","index","_updateImageExtent","_clippedExtent","extent","W","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","Math","floor","_imageSizeEquals","imageSize","_fetch","length","_clearImage","doRefresh","push","canResume","minScale","maxScale","scale","isUpdating","some","loadingPromise","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","abs","TESTS_DISABLE_OPTIMIZATIONS","texture","material","renderGeometry","loadingAbortController","pixelData","renderExtent","abort","AbortController","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","finally","aborted","removeGeometries","Geometry","UPDATE","_stage","remove","preMultiplyAlpha","wrap","CLAMP_TO_EDGE","INNER","OUTER","loadImmediate","transparent","textureId","id","setParameters","origin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","prototype","readOnly","q","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,isSome as n}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as l,eachAlways as h,onAbort as m,isAborted as d,createAbortError as c,throwIfAborted as g}from\"../../../core/promiseUtils.js\";import{whenOnce as u}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import y from\"../../../geometry/Extent.js\";import{equals as _,create as w,width as x,height as R,copy as v,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as S}from\"./interfaces.js\";import{LayerView3D as E}from\"./LayerView3D.js\";import{computeImageExportSize as j,createGeometryForExtent as I,createOuterImageGeometry as A}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as C}from\"./support/projectExtentUtils.js\";import D from\"../support/debugFlags.js\";import{OverlayIndex as G}from\"../terrain/interfaces.js\";import{UpdatePolicy as L}from\"../webgl-engine/lib/basicInterfaces.js\";import{ModelDirty as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as T}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{ImageMaterial as O}from\"../webgl-engine/materials/ImageMaterial.js\";import U from\"../../layers/LayerView.js\";import V from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as H}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as N}from\"../../webgl/enums.js\";const z=a.getLogger(\"esri.views.3d.layers.DynamicLayerView3D\");let F=class extends(V(E(U))){constructor(){super(...arguments),this.drapeSourceType=S.RasterImage,this.updatePolicy=L.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{l(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(C(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const r=j(e.extent,t,e.resolution);let i=e.pixelRatio*this.view.state.pixelRatio;if(\"imageMaxWidth\"in this.layer||\"imageMaxHeight\"in this.layer){const e=this.layer.imageMaxWidth,t=this.layer.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,i*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,i*=e}}const a=this._extents[e.index];a&&_(a.extent,t)&&this._imageSizeEquals(t,a.imageSize,r)||(this._extents[e.index]={extent:w(t),imageSize:r,pixelRatio:i},this.suspended||this._fetch(e.index).catch((e=>{l(e)||z.error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await h(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new y(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=x(e)/this.maximumDataResolution.x,a=R(e)/this.maximumDataResolution.y,s=i/t.width,n=a/t.height,o=i/r.width,l=a/r.height,h=Math.abs(s-o),m=Math.abs(n-l),d=D.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:w(i)});const a=this._images[e];a.loadingAbortController&&(a.loadingAbortController.abort(),a.loadingAbortController=null);const s=new y(i[0],i[1],i[2],i[3],this._spatialReference);if(0===s.width||0===s.height)return void this._clearImage(e);const n=new AbortController;a.loadingAbortController=n,m(t,(()=>n.abort()));const o=n.signal,h=this._waitFetchReady(o).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:o},{height:i,width:a}=r.imageSize;return this.layer.fetchImage(s,a,i,t)})).then((e=>{if(d(o))throw z.warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),c();return this.processResult(a,e)})).then((()=>{v(a.renderExtent,i)})).finally((()=>{h===a.loadingPromise&&(a.loadingPromise=null,a.loadingAbortController=null)}));a.loadingPromise=h,this.notifyChange(\"updating\"),await h.then((async()=>{if(o.aborted)throw c();await this._createStageObjects(e,a.image,o),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!l(e)&&z.error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){n(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.Geometry.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController&&(t.loadingAbortController.abort(),t.loadingAbortController=null),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view._stage,o=this._images[e],l=()=>{a.remove(o.texture),o.texture=null,n(o.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([o.renderGeometry],M.Geometry.UPDATE),o.renderGeometry=null)};if(t){const n=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:N.CLAMP_TO_EDGE,t:N.CLAMP_TO_EDGE}});let h;if(await r(this._images[e===G.INNER?G.OUTER:G.INNER].loadingPromise),g(i),e===G.INNER)h=I(o.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=A(e,o.renderExtent)}l(),a.add(n),await a.loadImmediate(n),o.texture=n,s(o.material)?(o.material=new O({transparent:!0,textureId:n.id}),a.add(o.material)):o.material.setParameters({textureId:n.id}),o.renderGeometry=new T(h,o.material),o.renderGeometry.origin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([o.renderGeometry],M.Geometry.UPDATE)}else l(),a.remove(o.material),o.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return H(t,r)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return v(t,e);const r=this.view.basemapTerrain;return r.ready?b(e,r.extent,t):v(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await u((()=>this.view.stationary),e),g(e)}};e([p()],F.prototype,\"layer\",void 0),e([p()],F.prototype,\"suspended\",void 0),e([p({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([p()],F.prototype,\"updating\",void 0),F=e([f(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=w();export{q as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}