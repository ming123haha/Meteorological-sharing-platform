{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/CircularArray.js\";\nimport t from \"../../../../core/has.js\";\nimport { isSome as r, unwrapOr as s, isNone as i } from \"../../../../core/maybe.js\";\nimport { a, m as n } from \"../../../../chunks/mat2d.js\";\nimport { c as h } from \"../../../../chunks/mat2df32.js\";\nimport { t as d } from \"../../../../chunks/vec2.js\";\nimport { c as o } from \"../../../../chunks/vec2f32.js\";\nimport { WGLGeometryType as c } from \"./enums.js\";\nimport { forEachGeometryType as u } from \"./Utils.js\";\nimport { WGLTile as _ } from \"./WGLTile.js\";\nimport { MetricReader as p } from \"./collisions/MetricReader.js\";\nimport { Geometry as m } from \"./cpuMapped/Geometry.js\";\nconst l = 50,\n      f = 4,\n      S = 100;\nlet g = 0;\n\nclass y extends _ {\n  constructor(t, r, s, i, a) {\n    super(t, r, s), this.instanceId = g++, this.patchCount = 0, this._renderState = {\n      current: {\n        geometry: new Map(),\n        metrics: null\n      },\n      next: null,\n      swap: !1,\n      swapFrames: 0,\n      locked: !1\n    }, this._patches = new e(S), this._bufferPatches = new e(S), this._lastCommitTime = 0, this.transforms.labelMat2d = h(), this._store = i, this._requestLabelUpdate = a;\n  }\n\n  destroy() {\n    super.destroy(), this._renderState.current.geometry.forEach(e => e.destroy());\n  }\n\n  get labelMetrics() {\n    return this._renderState.current.metrics;\n  }\n\n  get hasData() {\n    return !!this._renderState.current.geometry.size;\n  }\n\n  getGeometry(e) {\n    return this._renderState.current.geometry.get(e);\n  }\n\n  setTransform(e, t) {\n    super.setTransform(e, t);\n    const r = this.transforms.labelMat2d,\n          s = e.getScreenTransform(r, t),\n          i = o();\n    d(i, [this.x, this.y], s), a(r, i), n(r, e.viewMat2d, r);\n  }\n\n  patch(e, r) {\n    this.patchCount++, t(\"esri-2d-update-debug\") && !0 === e.clear && console.debug(this.key.id, \"FeatureTile:patch:clear\", e.clear), e.clear && this._patches.size >= l && this._dropPatches();\n    const s = e,\n          i = s.addOrUpdate && this.key.id !== s.addOrUpdate.tileKeyOrigin;\n    r && i ? this._bufferPatches.enqueue(s) : (s.sort = s.sort && !r, this._patches.enqueue(s)), this.requestRender();\n  }\n\n  commit(e) {\n    if (this._lastCommitTime !== e.time) {\n      this._lastCommitTime = e.time;\n\n      for (let e = 0; e < f; e++) this._updateMesh(), this.isReady && this._updateBufferMesh();\n\n      this._renderState.swap && (this._swapRenderStates(), this.requestRender());\n    }\n  }\n\n  lock() {\n    this._renderState.locked = !0;\n  }\n\n  unlock() {\n    this._renderState.locked = !1, this._flushUpdates(), this._swap();\n  }\n\n  _swapRenderStates() {\n    if (this._renderState.next) {\n      if (this._renderState.locked) return this._renderState.swap = !0, void this.requestRender();\n      this._renderState.swap = !0, this._swap();\n    }\n  }\n\n  _swap() {\n    this._renderState.swap && (this._renderState.swap = !1, r(this._renderState.next) && (this._renderState.current.geometry.forEach(e => e.destroy()), this._renderState.current = this._renderState.next, this._renderState.next = null, this._requestLabelUpdate()));\n  }\n\n  _flushUpdates() {\n    let e = this._patches.maxSize;\n\n    for (; this._patches.size && e--;) this._updateMesh(), this._swap();\n  }\n\n  _updateBufferMesh() {\n    const e = this._bufferPatches.peek();\n\n    if (!r(e) || !e.clear || null === this._renderState.next) for (; this._bufferPatches.size;) {\n      const e = this._bufferPatches.dequeue();\n\n      r(e) && this._patchBuffer(e);\n    }\n  }\n\n  _updateMesh() {\n    const e = this._patches.dequeue();\n\n    r(e) && (!0 === e.clear && (r(this._renderState.next) && (this._renderState.next.geometry.forEach(e => e.destroy()), this._renderState.next = null), this._renderState.next = {\n      geometry: new Map(),\n      metrics: null\n    }, t(\"esri-2d-update-debug\") && console.debug(this.key.id, \"FeatureTile:_updateMesh - Creating new renderState\")), this.requestRender(), this._patch(e), e.end && (t(\"esri-2d-update-debug\") && console.debug(this.key.id, \"FeatureTile:_updateMesh - Encountered end message\"), this.ready(), this._swapRenderStates()));\n  }\n\n  _patch(e) {\n    u(t => {\n      this._remove(t, e.remove), this._insert(t, e, !1);\n    });\n  }\n\n  _patchBuffer(e) {\n    u(t => {\n      this._insert(t, e, !0);\n    });\n  }\n\n  _insert(e, r, a) {\n    try {\n      const n = s(this._renderState.next, this._renderState.current),\n            h = r.addOrUpdate?.data[e],\n            d = n.geometry;\n      if (i(h)) return;\n      d.has(e) || (t(\"esri-2d-update-debug\") && console.debug(this.key.id, `FeatureTile:_insert - Creating geometry buffer ${e}`), d.set(e, new m(e, this.stage))), t(\"esri-2d-update-debug\") && console.debug(this.key.id, `FeatureTile:_insert - Inserting into ${e}, version=${r.addOrUpdate.version} stride=${h.stride}`), d.get(e).insert(h, r.sort, a), e === c.LABEL && this._insertLabelMetrics(r.type, h.metrics, r.clear);\n    } catch (n) {}\n  }\n\n  _insertLabelMetrics(e, t, r) {\n    const a = s(this._renderState.next, this._renderState.current);\n    if (i(t)) return;\n    const n = p.from(t);\n    if (i(a.metrics)) a.metrics = n;else {\n      if (\"update\" === e) {\n        const e = n.getCursor();\n\n        for (; e.next();) a.metrics.delete(e.id);\n      }\n\n      a.metrics.link(n);\n    }\n  }\n\n  _remove(e, t) {\n    const r = s(this._renderState.next, this._renderState.current).geometry.get(e);\n    t && t.length && r && (r.remove(t), this._removeLabelMetrics(t));\n  }\n\n  _removeLabelMetrics(e) {\n    const {\n      metrics: t\n    } = s(this._renderState.next, this._renderState.current);\n    if (!i(t) && e.length) for (const r of e) for (; t.delete(r););\n  }\n\n  _dropPatches() {\n    const e = new Array();\n    let t = !1;\n\n    for (; this._patches.size;) {\n      const r = this._patches.dequeue();\n\n      if (i(r)) break;\n\n      if (r.clear) {\n        if (t) break;\n        t = !0;\n      }\n\n      e.push(r);\n    }\n\n    this._patches.clear(), e.forEach(e => this._patches.enqueue(e));\n  }\n\n}\n\nexport { y as FeatureTile };","map":{"version":3,"names":["e","t","isSome","r","unwrapOr","s","isNone","i","a","m","n","c","h","d","o","WGLGeometryType","forEachGeometryType","u","WGLTile","_","MetricReader","p","Geometry","l","f","S","g","y","constructor","instanceId","patchCount","_renderState","current","geometry","Map","metrics","next","swap","swapFrames","locked","_patches","_bufferPatches","_lastCommitTime","transforms","labelMat2d","_store","_requestLabelUpdate","destroy","forEach","labelMetrics","hasData","size","getGeometry","get","setTransform","getScreenTransform","x","viewMat2d","patch","clear","console","debug","key","id","_dropPatches","addOrUpdate","tileKeyOrigin","enqueue","sort","requestRender","commit","time","_updateMesh","isReady","_updateBufferMesh","_swapRenderStates","lock","unlock","_flushUpdates","_swap","maxSize","peek","dequeue","_patchBuffer","_patch","end","ready","_remove","remove","_insert","data","has","set","stage","version","stride","insert","LABEL","_insertLabelMetrics","type","from","getCursor","delete","link","length","_removeLabelMetrics","Array","push","FeatureTile"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import t from\"../../../../core/has.js\";import{isSome as r,unwrapOr as s,isNone as i}from\"../../../../core/maybe.js\";import{a,m as n}from\"../../../../chunks/mat2d.js\";import{c as h}from\"../../../../chunks/mat2df32.js\";import{t as d}from\"../../../../chunks/vec2.js\";import{c as o}from\"../../../../chunks/vec2f32.js\";import{WGLGeometryType as c}from\"./enums.js\";import{forEachGeometryType as u}from\"./Utils.js\";import{WGLTile as _}from\"./WGLTile.js\";import{MetricReader as p}from\"./collisions/MetricReader.js\";import{Geometry as m}from\"./cpuMapped/Geometry.js\";const l=50,f=4,S=100;let g=0;class y extends _{constructor(t,r,s,i,a){super(t,r,s),this.instanceId=g++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new e(S),this._bufferPatches=new e(S),this._lastCommitTime=0,this.transforms.labelMat2d=h(),this._store=i,this._requestLabelUpdate=a}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy()))}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}getGeometry(e){return this._renderState.current.geometry.get(e)}setTransform(e,t){super.setTransform(e,t);const r=this.transforms.labelMat2d,s=e.getScreenTransform(r,t),i=o();d(i,[this.x,this.y],s),a(r,i),n(r,e.viewMat2d,r)}patch(e,r){this.patchCount++,t(\"esri-2d-update-debug\")&&!0===e.clear&&console.debug(this.key.id,\"FeatureTile:patch:clear\",e.clear),e.clear&&this._patches.size>=l&&this._dropPatches();const s=e,i=s.addOrUpdate&&this.key.id!==s.addOrUpdate.tileKeyOrigin;r&&i?this._bufferPatches.enqueue(s):(s.sort=s.sort&&!r,this._patches.enqueue(s)),this.requestRender()}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<f;e++)this._updateMesh(),this.isReady&&this._updateBufferMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();this._renderState.swap=!0,this._swap()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,r(this._renderState.next)&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null,this._requestLabelUpdate()))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateBufferMesh(){const e=this._bufferPatches.peek();if(!r(e)||!e.clear||null===this._renderState.next)for(;this._bufferPatches.size;){const e=this._bufferPatches.dequeue();r(e)&&this._patchBuffer(e)}}_updateMesh(){const e=this._patches.dequeue();r(e)&&(!0===e.clear&&(r(this._renderState.next)&&(this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.next=null),this._renderState.next={geometry:new Map,metrics:null},t(\"esri-2d-update-debug\")&&console.debug(this.key.id,\"FeatureTile:_updateMesh - Creating new renderState\")),this.requestRender(),this._patch(e),e.end&&(t(\"esri-2d-update-debug\")&&console.debug(this.key.id,\"FeatureTile:_updateMesh - Encountered end message\"),this.ready(),this._swapRenderStates()))}_patch(e){u((t=>{this._remove(t,e.remove),this._insert(t,e,!1)}))}_patchBuffer(e){u((t=>{this._insert(t,e,!0)}))}_insert(e,r,a){try{const n=s(this._renderState.next,this._renderState.current),h=r.addOrUpdate?.data[e],d=n.geometry;if(i(h))return;d.has(e)||(t(\"esri-2d-update-debug\")&&console.debug(this.key.id,`FeatureTile:_insert - Creating geometry buffer ${e}`),d.set(e,new m(e,this.stage))),t(\"esri-2d-update-debug\")&&console.debug(this.key.id,`FeatureTile:_insert - Inserting into ${e}, version=${r.addOrUpdate.version} stride=${h.stride}`),d.get(e).insert(h,r.sort,a),e===c.LABEL&&this._insertLabelMetrics(r.type,h.metrics,r.clear)}catch(n){}}_insertLabelMetrics(e,t,r){const a=s(this._renderState.next,this._renderState.current);if(i(t))return;const n=p.from(t);if(i(a.metrics))a.metrics=n;else{if(\"update\"===e){const e=n.getCursor();for(;e.next();)a.metrics.delete(e.id)}a.metrics.link(n)}}_remove(e,t){const r=s(this._renderState.next,this._renderState.current).geometry.get(e);t&&t.length&&r&&(r.remove(t),this._removeLabelMetrics(t))}_removeLabelMetrics(e){const{metrics:t}=s(this._renderState.next,this._renderState.current);if(!i(t)&&e.length)for(const r of e)for(;t.delete(r););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const r=this._patches.dequeue();if(i(r))break;if(r.clear){if(t)break;t=!0}e.push(r)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}export{y as FeatureTile};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}