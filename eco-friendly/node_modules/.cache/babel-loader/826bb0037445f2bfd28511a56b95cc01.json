{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSymbol3D as t } from \"../../symbols.js\";\nimport { isDevEnvironment as e, adjustStaticAGOUrl as r } from \"../../core/devEnvironmentUtils.js\";\nimport o from \"../../core/Error.js\";\nimport { isSome as l } from \"../../core/maybe.js\";\nimport { urlToObject as n, removeFile as m } from \"../../core/urlUtils.js\";\nimport s from \"../../portal/Portal.js\";\nimport { f as i } from \"../../chunks/persistableUrlUtils.js\";\nimport { fromJSON as a } from \"./jsonUtils.js\";\nimport p from \"./StyleOrigin.js\";\nimport { requestJSON as u, makeCIMSymbolRef as y, fetchStyle as f, symbolUrlFromStyleItem as c, Style2DUrlTemplate as b } from \"./styleUtils.js\";\nimport { Thumbnail as g } from \"./Thumbnail.js\";\n\nfunction j(t, e, r, l) {\n  return t.name ? t.styleName && \"Esri2DPointSymbolsStyle\" === t.styleName ? d(t, e, l) : f(t, e, l).then(o => h(o, t.name, e, r, l)) : Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\", \"Missing name in style symbol reference\"));\n}\n\nfunction h(f, b, j, h, d) {\n  const U = f.data,\n        N = j && l(j.portal) ? j.portal : s.getDefault(),\n        w = {\n    portal: N,\n    url: n(f.baseUrl),\n    origin: \"portal-item\"\n  },\n        D = U.items.find(t => t.name === b);\n\n  if (!D) {\n    const t = `The symbol name '${b}' could not be found`;\n    return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\", t, {\n      symbolName: b\n    }));\n  }\n\n  let P = i(c(D, h), w),\n      S = D.thumbnail && D.thumbnail.href;\n  const E = D.thumbnail && D.thumbnail.imageData;\n  e() && (P = r(P), S = r(S));\n  const O = {\n    portal: N,\n    url: n(m(P)),\n    origin: \"portal-item\"\n  };\n  return u(P, d).then(e => {\n    const r = \"cimRef\" === h ? y(e.data) : e.data,\n          o = a(r, O);\n\n    if (o && t(o)) {\n      if (S) {\n        const t = i(S, w);\n        o.thumbnail = new g({\n          url: t\n        });\n      } else E && (o.thumbnail = new g({\n        url: `data:image/png;base64,${E}`\n      }));\n\n      f.styleUrl ? o.styleOrigin = new p({\n        portal: j.portal,\n        styleUrl: f.styleUrl,\n        name: b\n      }) : f.styleName && (o.styleOrigin = new p({\n        portal: j.portal,\n        styleName: f.styleName,\n        name: b\n      }));\n    }\n\n    return o;\n  });\n}\n\nfunction d(t, e, r) {\n  const o = b.replace(/\\{SymbolName\\}/gi, t.name),\n        i = l(e.portal) ? e.portal : s.getDefault();\n  return u(o, r).then(t => {\n    const e = y(t.data);\n    return a(e, {\n      portal: i,\n      url: n(m(o)),\n      origin: \"portal-item\"\n    });\n  });\n}\n\nexport { h as fetchSymbolFromStyle, j as resolveWebStyleSymbol };","map":{"version":3,"names":["isSymbol3D","t","isDevEnvironment","e","adjustStaticAGOUrl","r","o","isSome","l","urlToObject","n","removeFile","m","s","f","i","fromJSON","a","p","requestJSON","u","makeCIMSymbolRef","y","fetchStyle","symbolUrlFromStyleItem","c","Style2DUrlTemplate","b","Thumbnail","g","j","name","styleName","d","then","h","Promise","reject","U","data","N","portal","getDefault","w","url","baseUrl","origin","D","items","find","symbolName","P","S","thumbnail","href","E","imageData","O","styleUrl","styleOrigin","replace","fetchSymbolFromStyle","resolveWebStyleSymbol"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{isSome as l}from\"../../core/maybe.js\";import{urlToObject as n,removeFile as m}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as a}from\"./jsonUtils.js\";import p from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as y,fetchStyle as f,symbolUrlFromStyleItem as c,Style2DUrlTemplate as b}from\"./styleUtils.js\";import{Thumbnail as g}from\"./Thumbnail.js\";function j(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(t,e,l):f(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(f,b,j,h,d){const U=f.data,N=j&&l(j.portal)?j.portal:s.getDefault(),w={portal:N,url:n(f.baseUrl),origin:\"portal-item\"},D=U.items.find((t=>t.name===b));if(!D){const t=`The symbol name '${b}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:b}))}let P=i(c(D,h),w),S=D.thumbnail&&D.thumbnail.href;const E=D.thumbnail&&D.thumbnail.imageData;e()&&(P=r(P),S=r(S));const O={portal:N,url:n(m(P)),origin:\"portal-item\"};return u(P,d).then((e=>{const r=\"cimRef\"===h?y(e.data):e.data,o=a(r,O);if(o&&t(o)){if(S){const t=i(S,w);o.thumbnail=new g({url:t})}else E&&(o.thumbnail=new g({url:`data:image/png;base64,${E}`}));f.styleUrl?o.styleOrigin=new p({portal:j.portal,styleUrl:f.styleUrl,name:b}):f.styleName&&(o.styleOrigin=new p({portal:j.portal,styleName:f.styleName,name:b}))}return o}))}function d(t,e,r){const o=b.replace(/\\{SymbolName\\}/gi,t.name),i=l(e.portal)?e.portal:s.getDefault();return u(o,r).then((t=>{const e=y(t.data);return a(e,{portal:i,url:n(m(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as resolveWebStyleSymbol};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}