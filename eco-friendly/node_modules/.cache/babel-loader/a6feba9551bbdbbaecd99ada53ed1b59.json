{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { binaryIndexOf as t } from \"../../../../../core/arrayUtils.js\";\nimport { isNone as r, isSome as e } from \"../../../../../core/maybe.js\";\nimport { Transparency as n } from \"./interfaces.js\";\n\nfunction o(t) {\n  let n = null;\n\n  for (const e of t) {\n    const t = e.type;\n    if (u(e)) if (r(n)) n = t;else if (n !== t) return \"uber\";\n  }\n\n  return e(n) ? n : \"uber\";\n}\n\nfunction i(t) {\n  let r = n.INVISIBLE;\n\n  for (const {\n    material: e\n  } of t) if (f(e)) {\n    if (e.color[3] * e.opacity < 1) return n.TRANSPARENT;\n    r = n.OPAQUE;\n  }\n\n  return r;\n}\n\nfunction c(t) {\n  let r = n.INVISIBLE;\n\n  for (const {\n    material: e\n  } of t) if (f(e)) {\n    switch (e.objectTransparency) {\n      case n.TRANSPARENT:\n      case n.INVISIBLE:\n        return n.TRANSPARENT;\n\n      case n.OPAQUE:\n        if (e.opacity < 1) return n.TRANSPARENT;\n    }\n\n    r = n.OPAQUE;\n  }\n\n  return r;\n}\n\nfunction f(t) {\n  return t.size * t.color[3] * t.opacity > 0;\n}\n\nfunction u(t) {\n  return t.size * t.color[3] > 0;\n}\n\nfunction s(t, r, e, n) {\n  return e * (n / t) * 2 * Math.tan(.5 * r);\n}\n\nfunction l(r, e) {\n  const n = t(r, e, !0);\n  return -1 === n ? e < r[0] ? 0 : r.length : n;\n}\n\nfunction a(t, r, e) {\n  return t.length - l(t, r * e.minimumEdgeLength);\n}\n\nfunction m(t, r, e, n) {\n  for (let o = 0; o < t.length; o++) {\n    const i = t[o].index,\n          c = r[o],\n          f = r[o + 1];\n    if (n) for (let t = c; t < f; t++) {\n      const r = n[t];\n      e.set(r, i);\n    } else for (let t = c; t < f; t++) e.set(t, i);\n  }\n}\n\nexport { a as computeEdgeCount, i as determineEdgeTransparency, c as determineObjectTransparency, o as determineRendererType, s as estimateLengthAtDistance, m as fillComponenBufferIndices };","map":{"version":3,"names":["binaryIndexOf","t","isNone","r","isSome","e","Transparency","n","o","type","u","i","INVISIBLE","material","f","color","opacity","TRANSPARENT","OPAQUE","c","objectTransparency","size","s","Math","tan","l","length","a","minimumEdgeLength","m","index","set","computeEdgeCount","determineEdgeTransparency","determineObjectTransparency","determineRendererType","estimateLengthAtDistance","fillComponenBufferIndices"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/util.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{binaryIndexOf as t}from\"../../../../../core/arrayUtils.js\";import{isNone as r,isSome as e}from\"../../../../../core/maybe.js\";import{Transparency as n}from\"./interfaces.js\";function o(t){let n=null;for(const e of t){const t=e.type;if(u(e))if(r(n))n=t;else if(n!==t)return\"uber\"}return e(n)?n:\"uber\"}function i(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){if(e.color[3]*e.opacity<1)return n.TRANSPARENT;r=n.OPAQUE}return r}function c(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){switch(e.objectTransparency){case n.TRANSPARENT:case n.INVISIBLE:return n.TRANSPARENT;case n.OPAQUE:if(e.opacity<1)return n.TRANSPARENT}r=n.OPAQUE}return r}function f(t){return t.size*t.color[3]*t.opacity>0}function u(t){return t.size*t.color[3]>0}function s(t,r,e,n){return e*(n/t)*2*Math.tan(.5*r)}function l(r,e){const n=t(r,e,!0);return-1===n?e<r[0]?0:r.length:n}function a(t,r,e){return t.length-l(t,r*e.minimumEdgeLength)}function m(t,r,e,n){for(let o=0;o<t.length;o++){const i=t[o].index,c=r[o],f=r[o+1];if(n)for(let t=c;t<f;t++){const r=n[t];e.set(r,i)}else for(let t=c;t<f;t++)e.set(t,i)}}export{a as computeEdgeCount,i as determineEdgeTransparency,c as determineObjectTransparency,o as determineRendererType,s as estimateLengthAtDistance,m as fillComponenBufferIndices};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}