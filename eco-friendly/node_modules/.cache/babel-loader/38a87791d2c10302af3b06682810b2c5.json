{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { unwrap as e, isSome as r } from \"../../core/maybe.js\";\nimport { WorkerHandle as t } from \"../../core/workers/WorkerHandle.js\";\n\nclass s extends t {\n  constructor(e = null) {\n    super(\"LercWorker\", \"_decode\", {\n      _decode: e => [e.buffer]\n    }, e, {\n      strategy: \"dedicated\"\n    }), this.schedule = e, this.ref = 0;\n  }\n\n  decode(e, r, t) {\n    return e && 0 !== e.byteLength ? this.invoke({\n      buffer: e,\n      options: r\n    }, t) : Promise.resolve(null);\n  }\n\n  release() {\n    --this.ref <= 0 && (o.forEach((e, r) => {\n      e === this && o.delete(r);\n    }), this.destroy());\n  }\n\n}\n\nconst o = new Map();\n\nfunction n(t = null) {\n  let n = o.get(e(t));\n  return n || (r(t) ? (n = new s(e => t.schedule(e)), o.set(t, n)) : (n = new s(), o.set(null, n))), ++n.ref, n;\n}\n\nexport { n as acquireDecoder };","map":{"version":3,"names":["unwrap","e","isSome","r","WorkerHandle","t","s","constructor","_decode","buffer","strategy","schedule","ref","decode","byteLength","invoke","options","Promise","resolve","release","o","forEach","delete","destroy","Map","n","get","set","acquireDecoder"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/LercDecoder.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e,isSome as r}from\"../../core/maybe.js\";import{WorkerHandle as t}from\"../../core/workers/WorkerHandle.js\";class s extends t{constructor(e=null){super(\"LercWorker\",\"_decode\",{_decode:e=>[e.buffer]},e,{strategy:\"dedicated\"}),this.schedule=e,this.ref=0}decode(e,r,t){return e&&0!==e.byteLength?this.invoke({buffer:e,options:r},t):Promise.resolve(null)}release(){--this.ref<=0&&(o.forEach(((e,r)=>{e===this&&o.delete(r)})),this.destroy())}}const o=new Map;function n(t=null){let n=o.get(e(t));return n||(r(t)?(n=new s((e=>t.schedule(e))),o.set(t,n)):(n=new s,o.set(null,n))),++n.ref,n}export{n as acquireDecoder};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,qBAAnC;AAAyD,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,oCAA7B;;AAAkE,MAAMC,CAAN,SAAgBD,CAAhB,CAAiB;EAACE,WAAW,CAACN,CAAC,GAAC,IAAH,EAAQ;IAAC,MAAM,YAAN,EAAmB,SAAnB,EAA6B;MAACO,OAAO,EAACP,CAAC,IAAE,CAACA,CAAC,CAACQ,MAAH;IAAZ,CAA7B,EAAqDR,CAArD,EAAuD;MAACS,QAAQ,EAAC;IAAV,CAAvD,GAA+E,KAAKC,QAAL,GAAcV,CAA7F,EAA+F,KAAKW,GAAL,GAAS,CAAxG;EAA0G;;EAAAC,MAAM,CAACZ,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,OAAOJ,CAAC,IAAE,MAAIA,CAAC,CAACa,UAAT,GAAoB,KAAKC,MAAL,CAAY;MAACN,MAAM,EAACR,CAAR;MAAUe,OAAO,EAACb;IAAlB,CAAZ,EAAiCE,CAAjC,CAApB,GAAwDY,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAA/D;EAAqF;;EAAAC,OAAO,GAAE;IAAC,EAAE,KAAKP,GAAP,IAAY,CAAZ,KAAgBQ,CAAC,CAACC,OAAF,CAAW,CAACpB,CAAD,EAAGE,CAAH,KAAO;MAACF,CAAC,KAAG,IAAJ,IAAUmB,CAAC,CAACE,MAAF,CAASnB,CAAT,CAAV;IAAsB,CAAzC,GAA4C,KAAKoB,OAAL,EAA5D;EAA4E;;AAAxT;;AAAyT,MAAMH,CAAC,GAAC,IAAII,GAAJ,EAAR;;AAAgB,SAASC,CAAT,CAAWpB,CAAC,GAAC,IAAb,EAAkB;EAAC,IAAIoB,CAAC,GAACL,CAAC,CAACM,GAAF,CAAMzB,CAAC,CAACI,CAAD,CAAP,CAAN;EAAkB,OAAOoB,CAAC,KAAGtB,CAAC,CAACE,CAAD,CAAD,IAAMoB,CAAC,GAAC,IAAInB,CAAJ,CAAOL,CAAC,IAAEI,CAAC,CAACM,QAAF,CAAWV,CAAX,CAAV,CAAF,EAA4BmB,CAAC,CAACO,GAAF,CAAMtB,CAAN,EAAQoB,CAAR,CAAlC,KAA+CA,CAAC,GAAC,IAAInB,CAAJ,EAAF,EAAQc,CAAC,CAACO,GAAF,CAAM,IAAN,EAAWF,CAAX,CAAvD,CAAH,CAAD,EAA2E,EAAEA,CAAC,CAACb,GAA/E,EAAmFa,CAA1F;AAA4F;;AAAA,SAAOA,CAAC,IAAIG,cAAZ"},"metadata":{},"sourceType":"module"}