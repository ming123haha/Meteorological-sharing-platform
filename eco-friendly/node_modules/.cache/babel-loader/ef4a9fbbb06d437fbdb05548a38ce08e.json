{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { s as i } from \"../../../../../../chunks/vec3.js\";\nimport { c as n } from \"../../../../../../chunks/vec3f64.js\";\nimport { s as t } from \"../../../../../../chunks/vec4.js\";\nimport { c as g } from \"../../../../../../chunks/vec4f64.js\";\nimport { PBRMode as h } from \"./PhysicallyBasedRenderingParameters.glsl.js\";\nimport { Float3PassUniform as e } from \"../../shaderModules/Float3PassUniform.js\";\nimport { Float4PassUniform as l } from \"../../shaderModules/Float4PassUniform.js\";\nimport { glsl as s } from \"../../shaderModules/interfaces.js\";\n\nfunction m(n, g) {\n  const m = n.fragment,\n        o = void 0 !== g.lightingSphericalHarmonicsOrder ? g.lightingSphericalHarmonicsOrder : 2;\n  0 === o ? (m.uniforms.add(new e(\"lightingAmbientSH0\", (n, t) => i(a, t.lighting.sh.r[0], t.lighting.sh.g[0], t.lighting.sh.b[0]))), m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 1 === o ? (m.uniforms.add([new l(\"lightingAmbientSH_R\", (i, n) => t(r, n.lighting.sh.r[0], n.lighting.sh.r[1], n.lighting.sh.r[2], n.lighting.sh.r[3])), new l(\"lightingAmbientSH_G\", (i, n) => t(r, n.lighting.sh.g[0], n.lighting.sh.g[1], n.lighting.sh.g[2], n.lighting.sh.g[3])), new l(\"lightingAmbientSH_B\", (i, n) => t(r, n.lighting.sh.b[0], n.lighting.sh.b[1], n.lighting.sh.b[2], n.lighting.sh.b[3]))]), m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 2 === o && (m.uniforms.add([new e(\"lightingAmbientSH0\", (n, t) => i(a, t.lighting.sh.r[0], t.lighting.sh.g[0], t.lighting.sh.b[0])), new l(\"lightingAmbientSH_R1\", (i, n) => t(r, n.lighting.sh.r[1], n.lighting.sh.r[2], n.lighting.sh.r[3], n.lighting.sh.r[4])), new l(\"lightingAmbientSH_G1\", (i, n) => t(r, n.lighting.sh.g[1], n.lighting.sh.g[2], n.lighting.sh.g[3], n.lighting.sh.g[4])), new l(\"lightingAmbientSH_B1\", (i, n) => t(r, n.lighting.sh.b[1], n.lighting.sh.b[2], n.lighting.sh.b[3], n.lighting.sh.b[4])), new l(\"lightingAmbientSH_R2\", (i, n) => t(r, n.lighting.sh.r[5], n.lighting.sh.r[6], n.lighting.sh.r[7], n.lighting.sh.r[8])), new l(\"lightingAmbientSH_G2\", (i, n) => t(r, n.lighting.sh.g[5], n.lighting.sh.g[6], n.lighting.sh.g[7], n.lighting.sh.g[8])), new l(\"lightingAmbientSH_B2\", (i, n) => t(r, n.lighting.sh.b[5], n.lighting.sh.b[6], n.lighting.sh.b[7], n.lighting.sh.b[8]))]), m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`), g.pbrMode !== h.Normal && g.pbrMode !== h.Schematic || m.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`));\n}\n\nconst a = n(),\n      r = g();\nexport { m as EvaluateAmbientLighting };","map":{"version":3,"names":["s","i","c","n","t","g","PBRMode","h","Float3PassUniform","e","Float4PassUniform","l","glsl","m","fragment","o","lightingSphericalHarmonicsOrder","uniforms","add","a","lighting","sh","r","b","code","pbrMode","Normal","Schematic","EvaluateAmbientLighting"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{s as i}from\"../../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../../chunks/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec4.js\";import{c as g}from\"../../../../../../chunks/vec4f64.js\";import{PBRMode as h}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4PassUniform as l}from\"../../shaderModules/Float4PassUniform.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";function m(n,g){const m=n.fragment,o=void 0!==g.lightingSphericalHarmonicsOrder?g.lightingSphericalHarmonicsOrder:2;0===o?(m.uniforms.add(new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0])))),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===o?(m.uniforms.add([new l(\"lightingAmbientSH_R\",((i,n)=>t(r,n.lighting.sh.r[0],n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3]))),new l(\"lightingAmbientSH_G\",((i,n)=>t(r,n.lighting.sh.g[0],n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3]))),new l(\"lightingAmbientSH_B\",((i,n)=>t(r,n.lighting.sh.b[0],n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3])))]),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===o&&(m.uniforms.add([new e(\"lightingAmbientSH0\",((n,t)=>i(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0]))),new l(\"lightingAmbientSH_R1\",((i,n)=>t(r,n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3],n.lighting.sh.r[4]))),new l(\"lightingAmbientSH_G1\",((i,n)=>t(r,n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3],n.lighting.sh.g[4]))),new l(\"lightingAmbientSH_B1\",((i,n)=>t(r,n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3],n.lighting.sh.b[4]))),new l(\"lightingAmbientSH_R2\",((i,n)=>t(r,n.lighting.sh.r[5],n.lighting.sh.r[6],n.lighting.sh.r[7],n.lighting.sh.r[8]))),new l(\"lightingAmbientSH_G2\",((i,n)=>t(r,n.lighting.sh.g[5],n.lighting.sh.g[6],n.lighting.sh.g[7],n.lighting.sh.g[8]))),new l(\"lightingAmbientSH_B2\",((i,n)=>t(r,n.lighting.sh.b[5],n.lighting.sh.b[6],n.lighting.sh.b[7],n.lighting.sh.b[8])))]),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),g.pbrMode!==h.Normal&&g.pbrMode!==h.Schematic||m.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const a=n(),r=g();export{m as EvaluateAmbientLighting};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}