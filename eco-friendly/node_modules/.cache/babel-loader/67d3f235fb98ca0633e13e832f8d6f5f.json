{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../core/has.js\";\nimport { isSome as t } from \"../../core/maybe.js\";\nimport { ShaderType as e } from \"./enums.js\";\nimport a from \"./reservedWordsGLSL3.js\";\nimport { shaderTranspiler as r } from \"./testUtils.js\";\nimport { o as n, l as o, b as i } from \"../../chunks/builtins.js\";\nvar s = 999,\n    c = 9999,\n    p = 0,\n    u = 1,\n    d = 2,\n    f = 3,\n    l = 4,\n    h = 5,\n    y = 6,\n    w = 7,\n    g = 8,\n    m = 9,\n    b = 10,\n    k = 11,\n    E = [\"block-comment\", \"line-comment\", \"preprocessor\", \"operator\", \"integer\", \"float\", \"ident\", \"builtin\", \"keyword\", \"whitespace\", \"eof\", \"integer\"];\n\nfunction _() {\n  var t,\n      e,\n      a,\n      r = 0,\n      _ = 0,\n      v = s,\n      j = [],\n      x = [],\n      D = 1,\n      R = 0,\n      T = 0,\n      A = !1,\n      G = !1,\n      S = \"\";\n  return function (t) {\n    return x = [], null !== t ? F(t.replace ? t.replace(/\\r\\n/g, \"\\n\") : t) : L();\n  };\n\n  function X(t) {\n    t.length && x.push({\n      type: E[v],\n      data: t,\n      position: T,\n      line: D,\n      column: R\n    });\n  }\n\n  function F(e) {\n    var n;\n\n    for (r = 0, a = (S += e).length; t = S[r], r < a;) {\n      switch (n = r, v) {\n        case p:\n          r = V();\n          break;\n\n        case u:\n          r = P();\n          break;\n\n        case d:\n          r = M();\n          break;\n\n        case f:\n          r = O();\n          break;\n\n        case l:\n          r = z();\n          break;\n\n        case k:\n          r = $();\n          break;\n\n        case h:\n          r = I();\n          break;\n\n        case c:\n          r = U();\n          break;\n\n        case m:\n          r = H();\n          break;\n\n        case s:\n          r = C();\n      }\n\n      if (n !== r) if (\"\\n\" === S[n]) R = 0, ++D;else ++R;\n    }\n\n    return _ += r, S = S.slice(r), x;\n  }\n\n  function L(t) {\n    return j.length && X(j.join(\"\")), v = b, X(\"(eof)\"), x;\n  }\n\n  function C() {\n    return j = j.length ? [] : j, \"/\" === e && \"*\" === t ? (T = _ + r - 1, v = p, e = t, r + 1) : \"/\" === e && \"/\" === t ? (T = _ + r - 1, v = u, e = t, r + 1) : \"#\" === t ? (v = d, T = _ + r, r) : /\\s/.test(t) ? (v = m, T = _ + r, r) : (A = /\\d/.test(t), G = /[^\\w_]/.test(t), T = _ + r, v = A ? l : G ? f : c, r);\n  }\n\n  function H() {\n    return /[^\\s]/g.test(t) ? (X(j.join(\"\")), v = s, r) : (j.push(t), e = t, r + 1);\n  }\n\n  function M() {\n    return \"\\r\" !== t && \"\\n\" !== t || \"\\\\\" === e ? (j.push(t), e = t, r + 1) : (X(j.join(\"\")), v = s, r);\n  }\n\n  function P() {\n    return M();\n  }\n\n  function V() {\n    return \"/\" === t && \"*\" === e ? (j.push(t), X(j.join(\"\")), v = s, r + 1) : (j.push(t), e = t, r + 1);\n  }\n\n  function O() {\n    if (\".\" === e && /\\d/.test(t)) return v = h, r;\n    if (\"/\" === e && \"*\" === t) return v = p, r;\n    if (\"/\" === e && \"/\" === t) return v = u, r;\n\n    if (\".\" === t && j.length) {\n      for (; N(j););\n\n      return v = h, r;\n    }\n\n    if (\";\" === t || \")\" === t || \"(\" === t) {\n      if (j.length) for (; N(j););\n      return X(t), v = s, r + 1;\n    }\n\n    var a = 2 === j.length && \"=\" !== t;\n\n    if (/[\\w_\\d\\s]/.test(t) || a) {\n      for (; N(j););\n\n      return v = s, r;\n    }\n\n    return j.push(t), e = t, r + 1;\n  }\n\n  function N(t) {\n    for (var e, a, r = 0;;) {\n      if (e = n.indexOf(t.slice(0, t.length + r).join(\"\")), a = n[e], -1 === e) {\n        if (r-- + t.length > 0) continue;\n        a = t.slice(0, 1).join(\"\");\n      }\n\n      return X(a), T += a.length, (j = j.slice(a.length)).length;\n    }\n  }\n\n  function $() {\n    return /[^a-fA-F0-9]/.test(t) ? (X(j.join(\"\")), v = s, r) : (j.push(t), e = t, r + 1);\n  }\n\n  function z() {\n    return \".\" === t || /[eE]/.test(t) ? (j.push(t), v = h, e = t, r + 1) : \"x\" === t && 1 === j.length && \"0\" === j[0] ? (v = k, j.push(t), e = t, r + 1) : /[^\\d]/.test(t) ? (X(j.join(\"\")), v = s, r) : (j.push(t), e = t, r + 1);\n  }\n\n  function I() {\n    return \"f\" === t && (j.push(t), e = t, r += 1), /[eE]/.test(t) || \"-\" === t && /[eE]/.test(e) ? (j.push(t), e = t, r + 1) : /[^\\d]/.test(t) ? (X(j.join(\"\")), v = s, r) : (j.push(t), e = t, r + 1);\n  }\n\n  function U() {\n    if (/[^\\d\\w_]/.test(t)) {\n      var a = j.join(\"\");\n      return v = o.indexOf(a) > -1 ? g : i.indexOf(a) > -1 ? w : y, X(j.join(\"\")), v = s, r;\n    }\n\n    return j.push(t), e = t, r + 1;\n  }\n}\n\nfunction v(t) {\n  var e = _(),\n      a = [];\n\n  return a = (a = a.concat(e(t))).concat(e(null));\n}\n\nfunction j(t) {\n  return v(t);\n}\n\nfunction x(t) {\n  return t.map(t => \"eof\" !== t.type ? t.data : \"\").join(\"\");\n}\n\nconst D = [\"GL_OES_standard_derivatives\", \"GL_EXT_frag_depth\", \"GL_EXT_draw_buffers\", \"GL_EXT_shader_texture_lod\"];\n\nfunction R(t, e = \"100\", a = \"300 es\") {\n  const r = /^\\s*\\#version\\s+([0-9]+(\\s+[a-zA-Z]+)?)\\s*/;\n\n  for (const n of t) if (\"preprocessor\" === n.type) {\n    const t = r.exec(n.data);\n\n    if (t) {\n      const r = t[1].replace(/\\s\\s+/g, \" \");\n      if (r === a) return r;\n      if (r === e) return n.data = \"#version \" + a, e;\n      throw new Error(\"unknown glsl version: \" + r);\n    }\n  }\n\n  return t.splice(0, 0, {\n    type: \"preprocessor\",\n    data: \"#version \" + a\n  }, {\n    type: \"whitespace\",\n    data: \"\\n\"\n  }), null;\n}\n\nfunction T(t, e) {\n  for (let a = e - 1; a >= 0; a--) {\n    const e = t[a];\n\n    if (\"whitespace\" !== e.type && \"block-comment\" !== e.type) {\n      if (\"keyword\" !== e.type) break;\n      if (\"attribute\" === e.data || \"in\" === e.data) return !0;\n    }\n  }\n\n  return !1;\n}\n\nfunction A(t, e, a, r) {\n  r = r || a;\n\n  for (const n of t) if (\"ident\" === n.type && n.data === a) {\n    r in e ? e[r]++ : e[r] = 0;\n    return A(t, e, r + \"_\" + e[r], r);\n  }\n\n  return a;\n}\n\nfunction G(t, e, a = \"afterVersion\") {\n  function r(t, e) {\n    for (let a = e; a < t.length; a++) {\n      const e = t[a];\n      if (\"operator\" === e.type && \";\" === e.data) return a;\n    }\n\n    return null;\n  }\n\n  function n(t) {\n    let e = -1,\n        n = 0,\n        o = -1;\n\n    for (let i = 0; i < t.length; i++) {\n      const s = t[i];\n\n      if (\"preprocessor\" === s.type && (s.data.match(/\\#(if|ifdef|ifndef)\\s+.+/) ? ++n : s.data.match(/\\#endif\\s*.*/) && --n), \"afterVersion\" !== a && \"afterPrecision\" !== a || \"preprocessor\" === s.type && /^#version/.test(s.data) && (o = Math.max(o, i)), \"afterPrecision\" === a && \"keyword\" === s.type && \"precision\" === s.data) {\n        const e = r(t, i);\n        if (null === e) throw new Error(\"precision statement not followed by any semicolons!\");\n        o = Math.max(o, e);\n      }\n\n      e < o && 0 === n && (e = i);\n    }\n\n    return e + 1;\n  }\n\n  const o = {\n    data: \"\\n\",\n    type: \"whitespace\"\n  },\n        i = e => e < t.length && /[^\\r\\n]$/.test(t[e].data);\n\n  let s = n(t);\n  i(s - 1) && t.splice(s++, 0, o);\n\n  for (const c of e) t.splice(s++, 0, c);\n\n  i(s - 1) && i(s) && t.splice(s, 0, o);\n}\n\nfunction S(t, e, a, r = \"lowp\") {\n  G(t, [{\n    type: \"keyword\",\n    data: \"out\"\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"keyword\",\n    data: r\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"keyword\",\n    data: a\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"ident\",\n    data: e\n  }, {\n    type: \"operator\",\n    data: \";\"\n  }], \"afterPrecision\");\n}\n\nfunction X(t, e, a, r, n = \"lowp\") {\n  G(t, [{\n    type: \"keyword\",\n    data: \"layout\"\n  }, {\n    type: \"operator\",\n    data: \"(\"\n  }, {\n    type: \"keyword\",\n    data: \"location\"\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"operator\",\n    data: \"=\"\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"integer\",\n    data: r.toString()\n  }, {\n    type: \"operator\",\n    data: \")\"\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"keyword\",\n    data: \"out\"\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"keyword\",\n    data: n\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"keyword\",\n    data: a\n  }, {\n    type: \"whitespace\",\n    data: \" \"\n  }, {\n    type: \"ident\",\n    data: e\n  }, {\n    type: \"operator\",\n    data: \";\"\n  }], \"afterPrecision\");\n}\n\nfunction F(t, e) {\n  let a,\n      r,\n      n = -1;\n\n  for (let o = e; o < t.length; o++) {\n    const e = t[o];\n\n    if (\"operator\" === e.type && (\"[\" === e.data && (a = o), \"]\" === e.data)) {\n      r = o;\n      break;\n    }\n\n    \"integer\" === e.type && (n = parseInt(e.data, 10));\n  }\n\n  return a && r && t.splice(a, r - a + 1), n;\n}\n\nfunction L(r, n) {\n  const o = H(r);\n  if (t(o)) return o;\n  const i = j(r);\n  if (\"300 es\" === R(i, \"100\", \"300 es\")) return r;\n  let s = null,\n      c = null;\n  const p = {},\n        u = {};\n\n  for (let t = 0; t < i.length; ++t) {\n    const r = i[t];\n\n    switch (r.type) {\n      case \"keyword\":\n        n === e.VERTEX_SHADER && \"attribute\" === r.data ? r.data = \"in\" : \"varying\" === r.data && (r.data = n === e.VERTEX_SHADER ? \"out\" : \"in\");\n        break;\n\n      case \"builtin\":\n        if (/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(r.data.trim()) && (r.data = r.data.replace(/(2D|Cube|EXT)/g, \"\")), n === e.FRAGMENT_SHADER && \"gl_FragColor\" === r.data && (s || (s = A(i, p, \"fragColor\"), S(i, s, \"vec4\")), r.data = s), n === e.FRAGMENT_SHADER && \"gl_FragData\" === r.data) {\n          const e = F(i, t + 1),\n                a = A(i, p, \"fragData\");\n          X(i, a, \"vec4\", e, \"mediump\"), r.data = a;\n        } else n === e.FRAGMENT_SHADER && \"gl_FragDepthEXT\" === r.data && (c || (c = A(i, p, \"gl_FragDepth\")), r.data = c);\n\n        break;\n\n      case \"ident\":\n        if (a.includes(r.data)) {\n          if (n === e.VERTEX_SHADER && T(i, t)) throw new Error(\"attribute in vertex shader uses a name that is a reserved word in glsl 300 es\");\n          r.data in u || (u[r.data] = A(i, p, r.data)), r.data = u[r.data];\n        }\n\n    }\n  }\n\n  for (let t = i.length - 1; t >= 0; --t) {\n    const e = i[t];\n\n    if (\"preprocessor\" === e.type) {\n      const a = e.data.match(/\\#extension\\s+(.*)\\:/);\n\n      if (a && a[1] && D.includes(a[1].trim())) {\n        const e = i[t + 1];\n        i.splice(t, e && \"whitespace\" === e.type ? 2 : 1);\n      }\n\n      const r = e.data.match(/\\#ifdef\\s+(.*)/);\n      r && r[1] && D.includes(r[1].trim()) && (e.data = \"#if 1\");\n      const n = e.data.match(/\\#ifndef\\s+(.*)/);\n      n && n[1] && D.includes(n[1].trim()) && (e.data = \"#if 0\");\n    }\n  }\n\n  return M(r, x(i));\n}\n\nconst C = new Map();\n\nfunction H(t) {\n  return r.enableCache ? C.get(t) : null;\n}\n\nfunction M(t, e) {\n  return r.enableCache && C.set(t, e), e;\n}\n\nexport { L as transpileShader };","map":{"version":3,"names":["isSome","t","ShaderType","e","a","shaderTranspiler","r","o","n","l","b","i","s","c","p","u","d","f","h","y","w","g","m","k","E","_","v","j","x","D","R","T","A","G","S","F","replace","L","X","length","push","type","data","position","line","column","V","P","M","O","z","$","I","U","H","C","slice","join","test","N","indexOf","concat","map","exec","Error","splice","match","Math","max","toString","parseInt","VERTEX_SHADER","trim","FRAGMENT_SHADER","includes","Map","enableCache","get","set","transpileShader"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/webgl/ShaderTranspiler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import{ShaderType as e}from\"./enums.js\";import a from\"./reservedWordsGLSL3.js\";import{shaderTranspiler as r}from\"./testUtils.js\";import{o as n,l as o,b as i}from\"../../chunks/builtins.js\";var s=999,c=9999,p=0,u=1,d=2,f=3,l=4,h=5,y=6,w=7,g=8,m=9,b=10,k=11,E=[\"block-comment\",\"line-comment\",\"preprocessor\",\"operator\",\"integer\",\"float\",\"ident\",\"builtin\",\"keyword\",\"whitespace\",\"eof\",\"integer\"];function _(){var t,e,a,r=0,_=0,v=s,j=[],x=[],D=1,R=0,T=0,A=!1,G=!1,S=\"\";return function(t){return x=[],null!==t?F(t.replace?t.replace(/\\r\\n/g,\"\\n\"):t):L()};function X(t){t.length&&x.push({type:E[v],data:t,position:T,line:D,column:R})}function F(e){var n;for(r=0,a=(S+=e).length;t=S[r],r<a;){switch(n=r,v){case p:r=V();break;case u:r=P();break;case d:r=M();break;case f:r=O();break;case l:r=z();break;case k:r=$();break;case h:r=I();break;case c:r=U();break;case m:r=H();break;case s:r=C()}if(n!==r)if(\"\\n\"===S[n])R=0,++D;else++R}return _+=r,S=S.slice(r),x}function L(t){return j.length&&X(j.join(\"\")),v=b,X(\"(eof)\"),x}function C(){return j=j.length?[]:j,\"/\"===e&&\"*\"===t?(T=_+r-1,v=p,e=t,r+1):\"/\"===e&&\"/\"===t?(T=_+r-1,v=u,e=t,r+1):\"#\"===t?(v=d,T=_+r,r):/\\s/.test(t)?(v=m,T=_+r,r):(A=/\\d/.test(t),G=/[^\\w_]/.test(t),T=_+r,v=A?l:G?f:c,r)}function H(){return/[^\\s]/g.test(t)?(X(j.join(\"\")),v=s,r):(j.push(t),e=t,r+1)}function M(){return\"\\r\"!==t&&\"\\n\"!==t||\"\\\\\"===e?(j.push(t),e=t,r+1):(X(j.join(\"\")),v=s,r)}function P(){return M()}function V(){return\"/\"===t&&\"*\"===e?(j.push(t),X(j.join(\"\")),v=s,r+1):(j.push(t),e=t,r+1)}function O(){if(\".\"===e&&/\\d/.test(t))return v=h,r;if(\"/\"===e&&\"*\"===t)return v=p,r;if(\"/\"===e&&\"/\"===t)return v=u,r;if(\".\"===t&&j.length){for(;N(j););return v=h,r}if(\";\"===t||\")\"===t||\"(\"===t){if(j.length)for(;N(j););return X(t),v=s,r+1}var a=2===j.length&&\"=\"!==t;if(/[\\w_\\d\\s]/.test(t)||a){for(;N(j););return v=s,r}return j.push(t),e=t,r+1}function N(t){for(var e,a,r=0;;){if(e=n.indexOf(t.slice(0,t.length+r).join(\"\")),a=n[e],-1===e){if(r--+t.length>0)continue;a=t.slice(0,1).join(\"\")}return X(a),T+=a.length,(j=j.slice(a.length)).length}}function $(){return/[^a-fA-F0-9]/.test(t)?(X(j.join(\"\")),v=s,r):(j.push(t),e=t,r+1)}function z(){return\".\"===t||/[eE]/.test(t)?(j.push(t),v=h,e=t,r+1):\"x\"===t&&1===j.length&&\"0\"===j[0]?(v=k,j.push(t),e=t,r+1):/[^\\d]/.test(t)?(X(j.join(\"\")),v=s,r):(j.push(t),e=t,r+1)}function I(){return\"f\"===t&&(j.push(t),e=t,r+=1),/[eE]/.test(t)||\"-\"===t&&/[eE]/.test(e)?(j.push(t),e=t,r+1):/[^\\d]/.test(t)?(X(j.join(\"\")),v=s,r):(j.push(t),e=t,r+1)}function U(){if(/[^\\d\\w_]/.test(t)){var a=j.join(\"\");return v=o.indexOf(a)>-1?g:i.indexOf(a)>-1?w:y,X(j.join(\"\")),v=s,r}return j.push(t),e=t,r+1}}function v(t){var e=_(),a=[];return a=(a=a.concat(e(t))).concat(e(null))}function j(t){return v(t)}function x(t){return t.map((t=>\"eof\"!==t.type?t.data:\"\")).join(\"\")}const D=[\"GL_OES_standard_derivatives\",\"GL_EXT_frag_depth\",\"GL_EXT_draw_buffers\",\"GL_EXT_shader_texture_lod\"];function R(t,e=\"100\",a=\"300 es\"){const r=/^\\s*\\#version\\s+([0-9]+(\\s+[a-zA-Z]+)?)\\s*/;for(const n of t)if(\"preprocessor\"===n.type){const t=r.exec(n.data);if(t){const r=t[1].replace(/\\s\\s+/g,\" \");if(r===a)return r;if(r===e)return n.data=\"#version \"+a,e;throw new Error(\"unknown glsl version: \"+r)}}return t.splice(0,0,{type:\"preprocessor\",data:\"#version \"+a},{type:\"whitespace\",data:\"\\n\"}),null}function T(t,e){for(let a=e-1;a>=0;a--){const e=t[a];if(\"whitespace\"!==e.type&&\"block-comment\"!==e.type){if(\"keyword\"!==e.type)break;if(\"attribute\"===e.data||\"in\"===e.data)return!0}}return!1}function A(t,e,a,r){r=r||a;for(const n of t)if(\"ident\"===n.type&&n.data===a){r in e?e[r]++:e[r]=0;return A(t,e,r+\"_\"+e[r],r)}return a}function G(t,e,a=\"afterVersion\"){function r(t,e){for(let a=e;a<t.length;a++){const e=t[a];if(\"operator\"===e.type&&\";\"===e.data)return a}return null}function n(t){let e=-1,n=0,o=-1;for(let i=0;i<t.length;i++){const s=t[i];if(\"preprocessor\"===s.type&&(s.data.match(/\\#(if|ifdef|ifndef)\\s+.+/)?++n:s.data.match(/\\#endif\\s*.*/)&&--n),\"afterVersion\"!==a&&\"afterPrecision\"!==a||\"preprocessor\"===s.type&&/^#version/.test(s.data)&&(o=Math.max(o,i)),\"afterPrecision\"===a&&\"keyword\"===s.type&&\"precision\"===s.data){const e=r(t,i);if(null===e)throw new Error(\"precision statement not followed by any semicolons!\");o=Math.max(o,e)}e<o&&0===n&&(e=i)}return e+1}const o={data:\"\\n\",type:\"whitespace\"},i=e=>e<t.length&&/[^\\r\\n]$/.test(t[e].data);let s=n(t);i(s-1)&&t.splice(s++,0,o);for(const c of e)t.splice(s++,0,c);i(s-1)&&i(s)&&t.splice(s,0,o)}function S(t,e,a,r=\"lowp\"){G(t,[{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:r},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function X(t,e,a,r,n=\"lowp\"){G(t,[{type:\"keyword\",data:\"layout\"},{type:\"operator\",data:\"(\"},{type:\"keyword\",data:\"location\"},{type:\"whitespace\",data:\" \"},{type:\"operator\",data:\"=\"},{type:\"whitespace\",data:\" \"},{type:\"integer\",data:r.toString()},{type:\"operator\",data:\")\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:n},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function F(t,e){let a,r,n=-1;for(let o=e;o<t.length;o++){const e=t[o];if(\"operator\"===e.type&&(\"[\"===e.data&&(a=o),\"]\"===e.data)){r=o;break}\"integer\"===e.type&&(n=parseInt(e.data,10))}return a&&r&&t.splice(a,r-a+1),n}function L(r,n){const o=H(r);if(t(o))return o;const i=j(r);if(\"300 es\"===R(i,\"100\",\"300 es\"))return r;let s=null,c=null;const p={},u={};for(let t=0;t<i.length;++t){const r=i[t];switch(r.type){case\"keyword\":n===e.VERTEX_SHADER&&\"attribute\"===r.data?r.data=\"in\":\"varying\"===r.data&&(r.data=n===e.VERTEX_SHADER?\"out\":\"in\");break;case\"builtin\":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(r.data.trim())&&(r.data=r.data.replace(/(2D|Cube|EXT)/g,\"\")),n===e.FRAGMENT_SHADER&&\"gl_FragColor\"===r.data&&(s||(s=A(i,p,\"fragColor\"),S(i,s,\"vec4\")),r.data=s),n===e.FRAGMENT_SHADER&&\"gl_FragData\"===r.data){const e=F(i,t+1),a=A(i,p,\"fragData\");X(i,a,\"vec4\",e,\"mediump\"),r.data=a}else n===e.FRAGMENT_SHADER&&\"gl_FragDepthEXT\"===r.data&&(c||(c=A(i,p,\"gl_FragDepth\")),r.data=c);break;case\"ident\":if(a.includes(r.data)){if(n===e.VERTEX_SHADER&&T(i,t))throw new Error(\"attribute in vertex shader uses a name that is a reserved word in glsl 300 es\");r.data in u||(u[r.data]=A(i,p,r.data)),r.data=u[r.data]}}}for(let t=i.length-1;t>=0;--t){const e=i[t];if(\"preprocessor\"===e.type){const a=e.data.match(/\\#extension\\s+(.*)\\:/);if(a&&a[1]&&D.includes(a[1].trim())){const e=i[t+1];i.splice(t,e&&\"whitespace\"===e.type?2:1)}const r=e.data.match(/\\#ifdef\\s+(.*)/);r&&r[1]&&D.includes(r[1].trim())&&(e.data=\"#if 1\");const n=e.data.match(/\\#ifndef\\s+(.*)/);n&&n[1]&&D.includes(n[1].trim())&&(e.data=\"#if 0\")}}return M(r,x(i))}const C=new Map;function H(t){return r.enableCache?C.get(t):null}function M(t,e){return r.enableCache&&C.set(t,e),e}export{L as transpileShader};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}