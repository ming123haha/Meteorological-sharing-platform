{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { ArcadeExecutionError as t, ExecutionErrorCodes as s } from \"./executionError.js\";\nimport i from \"./ImmutableArray.js\";\nimport { i as e, a as n, b as r, c as o, t as a, d as u, e as l, f as c, g as f, h, j as b, k as y, l as m, m as d } from \"../chunks/languageUtils.js\";\nimport g from \"../geometry/Geometry.js\";\n\nfunction w(t, s = !1) {\n  if (null == t) return null;\n  if (r(t)) return f(t);\n  if (n(t)) return h(t);\n  if (o(t)) return b(t);\n  if (y(t)) return m(t);\n\n  if (d(t)) {\n    const i = [];\n\n    for (const e of t) i.push(w(e, s));\n\n    return i;\n  }\n\n  const i = new J();\n  i.immutable = !1;\n\n  for (const e of Object.keys(t)) {\n    const n = t[e];\n    void 0 !== n && i.setField(e, w(n, s));\n  }\n\n  return i.immutable = s, i;\n}\n\nclass J {\n  constructor(t) {\n    this.declaredClass = \"esri.arcade.Dictionary\", this.attributes = null, this.plain = !1, this.immutable = !0, this.attributes = t instanceof J ? t.attributes : t ?? {};\n  }\n\n  field(i) {\n    const e = i.toLowerCase(),\n          n = this.attributes[i];\n    if (void 0 !== n) return n;\n\n    for (const t in this.attributes) if (t.toLowerCase() === e) return this.attributes[t];\n\n    throw new t(null, s.FieldNotFound, null, {\n      key: i\n    });\n  }\n\n  setField(i, n) {\n    if (this.immutable) throw new t(null, s.Immutable, null);\n    if (e(n)) throw new t(null, s.NoFunctionInDictionary, null);\n    const r = i.toLowerCase();\n\n    if (void 0 === this.attributes[i]) {\n      for (const t in this.attributes) if (t.toLowerCase() === r) return void (this.attributes[t] = n);\n\n      this.attributes[i] = n;\n    } else this.attributes[i] = n;\n  }\n\n  hasField(t) {\n    const s = t.toLowerCase();\n    if (void 0 !== this.attributes[t]) return !0;\n\n    for (const i in this.attributes) if (i.toLowerCase() === s) return !0;\n\n    return !1;\n  }\n\n  keys() {\n    let t = [];\n\n    for (const s in this.attributes) t.push(s);\n\n    return t = t.sort(), t;\n  }\n\n  castToText(t = !1) {\n    let s = \"\";\n\n    for (const e in this.attributes) {\n      \"\" !== s && (s += \",\");\n      const u = this.attributes[e];\n      null == u ? s += JSON.stringify(e) + \":null\" : n(u) || r(u) || o(u) ? s += JSON.stringify(e) + \":\" + JSON.stringify(u) : u instanceof g ? s += JSON.stringify(e) + \":\" + a(u) : u instanceof i || u instanceof Array ? s += JSON.stringify(e) + \":\" + a(u, null, t) : u instanceof Date ? s += t ? JSON.stringify(e) + \":\" + JSON.stringify(u.getTime()) : JSON.stringify(e) + \":\" + JSON.stringify(u) : null !== u && \"object\" == typeof u && void 0 !== u.castToText && (s += JSON.stringify(e) + \":\" + u.castToText(t));\n    }\n\n    return \"{\" + s + \"}\";\n  }\n\n  static convertObjectToArcadeDictionary(t, s = !0) {\n    const i = new J();\n    i.immutable = !1;\n\n    for (const e in t) {\n      const s = t[e];\n      void 0 !== s && i.setField(e.toString(), w(s));\n    }\n\n    return i.immutable = s, i;\n  }\n\n  static convertJsonToArcade(t, s = !1) {\n    return w(t, s);\n  }\n\n  castAsJson(t = null) {\n    const s = {};\n\n    for (let i in this.attributes) {\n      const e = this.attributes[i];\n      void 0 !== e && (t?.keyTranslate && (i = t.keyTranslate(i)), s[i] = u(e, t));\n    }\n\n    return s;\n  }\n\n  async castDictionaryValueAsJsonAsync(t, s, i, e = null, n) {\n    const r = await l(i, e, n);\n    return t[s] = r, r;\n  }\n\n  async castAsJsonAsync(t = null, s = null) {\n    const i = {},\n          e = [];\n\n    for (let n in this.attributes) {\n      const r = this.attributes[n];\n      s?.keyTranslate && (n = s.keyTranslate(n)), void 0 !== r && (c(r) || r instanceof g || r instanceof Date ? i[n] = u(r, s) : e.push(this.castDictionaryValueAsJsonAsync(i, n, r, t, s)));\n    }\n\n    return e.length > 0 && (await Promise.all(e)), i;\n  }\n\n}\n\nexport { J as default };","map":{"version":3,"names":["ArcadeExecutionError","t","ExecutionErrorCodes","s","i","e","a","n","b","r","c","o","d","u","l","f","g","h","j","k","y","m","w","push","J","immutable","Object","keys","setField","constructor","declaredClass","attributes","plain","field","toLowerCase","FieldNotFound","key","Immutable","NoFunctionInDictionary","hasField","sort","castToText","JSON","stringify","Array","Date","getTime","convertObjectToArcadeDictionary","toString","convertJsonToArcade","castAsJson","keyTranslate","castDictionaryValueAsJsonAsync","castAsJsonAsync","length","Promise","all","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/Dictionary.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as t,ExecutionErrorCodes as s}from\"./executionError.js\";import i from\"./ImmutableArray.js\";import{i as e,a as n,b as r,c as o,t as a,d as u,e as l,f as c,g as f,h,j as b,k as y,l as m,m as d}from\"../chunks/languageUtils.js\";import g from\"../geometry/Geometry.js\";function w(t,s=!1){if(null==t)return null;if(r(t))return f(t);if(n(t))return h(t);if(o(t))return b(t);if(y(t))return m(t);if(d(t)){const i=[];for(const e of t)i.push(w(e,s));return i}const i=new J;i.immutable=!1;for(const e of Object.keys(t)){const n=t[e];void 0!==n&&i.setField(e,w(n,s))}return i.immutable=s,i}class J{constructor(t){this.declaredClass=\"esri.arcade.Dictionary\",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=t instanceof J?t.attributes:t??{}}field(i){const e=i.toLowerCase(),n=this.attributes[i];if(void 0!==n)return n;for(const t in this.attributes)if(t.toLowerCase()===e)return this.attributes[t];throw new t(null,s.FieldNotFound,null,{key:i})}setField(i,n){if(this.immutable)throw new t(null,s.Immutable,null);if(e(n))throw new t(null,s.NoFunctionInDictionary,null);const r=i.toLowerCase();if(void 0===this.attributes[i]){for(const t in this.attributes)if(t.toLowerCase()===r)return void(this.attributes[t]=n);this.attributes[i]=n}else this.attributes[i]=n}hasField(t){const s=t.toLowerCase();if(void 0!==this.attributes[t])return!0;for(const i in this.attributes)if(i.toLowerCase()===s)return!0;return!1}keys(){let t=[];for(const s in this.attributes)t.push(s);return t=t.sort(),t}castToText(t=!1){let s=\"\";for(const e in this.attributes){\"\"!==s&&(s+=\",\");const u=this.attributes[e];null==u?s+=JSON.stringify(e)+\":null\":n(u)||r(u)||o(u)?s+=JSON.stringify(e)+\":\"+JSON.stringify(u):u instanceof g?s+=JSON.stringify(e)+\":\"+a(u):u instanceof i||u instanceof Array?s+=JSON.stringify(e)+\":\"+a(u,null,t):u instanceof Date?s+=t?JSON.stringify(e)+\":\"+JSON.stringify(u.getTime()):JSON.stringify(e)+\":\"+JSON.stringify(u):null!==u&&\"object\"==typeof u&&void 0!==u.castToText&&(s+=JSON.stringify(e)+\":\"+u.castToText(t))}return\"{\"+s+\"}\"}static convertObjectToArcadeDictionary(t,s=!0){const i=new J;i.immutable=!1;for(const e in t){const s=t[e];void 0!==s&&i.setField(e.toString(),w(s))}return i.immutable=s,i}static convertJsonToArcade(t,s=!1){return w(t,s)}castAsJson(t=null){const s={};for(let i in this.attributes){const e=this.attributes[i];void 0!==e&&(t?.keyTranslate&&(i=t.keyTranslate(i)),s[i]=u(e,t))}return s}async castDictionaryValueAsJsonAsync(t,s,i,e=null,n){const r=await l(i,e,n);return t[s]=r,r}async castAsJsonAsync(t=null,s=null){const i={},e=[];for(let n in this.attributes){const r=this.attributes[n];s?.keyTranslate&&(n=s.keyTranslate(n)),void 0!==r&&(c(r)||r instanceof g||r instanceof Date?i[n]=u(r,s):e.push(this.castDictionaryValueAsJsonAsync(i,n,r,t,s)))}return e.length>0&&await Promise.all(e),i}}export{J as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}