{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../request.js\";\nimport i from \"../../core/Accessor.js\";\nimport { ByteSizeUnit as r } from \"../../core/byteSizeEstimations.js\";\nimport s from \"../../core/Error.js\";\nimport { HandleOwnerMixin as l } from \"../../core/HandleOwner.js\";\nimport a from \"../../core/Logger.js\";\nimport o from \"../../core/LRUCache.js\";\nimport n from \"../../core/PooledArray.js\";\nimport { onAbort as c, isAbortError as h, isAborted as p, createAbortError as m } from \"../../core/promiseUtils.js\";\nimport { watch as f, syncAndInitial as u } from \"../../core/reactiveUtils.js\";\nimport { waitTicks as v } from \"../../core/scheduling.js\";\nimport { objectToQuery as y } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport { cast as _ } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { subclass as d } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { tilemapDefinitionId as g, Tilemap as w } from \"./Tilemap.js\";\nvar T;\nconst j = a.getLogger(\"esri.layers.support.TilemapCache\");\nlet z = T = class extends l(i) {\n  constructor(e) {\n    super(e), this._pendingTilemapRequests = {}, this._availableLevels = {}, this.levels = 5, this.cacheByteSize = 2 * r.MEGABYTES, this.request = t, this._prefetchingEnabled = !0;\n  }\n\n  initialize() {\n    this._tilemapCache = new o(this.cacheByteSize), this.own([f(() => {\n      const {\n        layer: e\n      } = this;\n      return [e?.parsedUrl, e?.tileServers, e?.apiKey, e?.customParameters];\n    }, () => this._initializeTilemapDefinition()), f(() => this.layer?.tileInfo?.lods, e => this._initializeAvailableLevels(e), u)]), this._initializeTilemapDefinition();\n  }\n\n  castLevels(e) {\n    return e <= 2 ? (j.error(\"Minimum levels for Tilemap is 3, but got \", e), 3) : e;\n  }\n\n  get size() {\n    return 1 << this.levels;\n  }\n\n  fetchTilemap(e, t, i, r) {\n    if (!this._availableLevels[e]) return Promise.reject(new s(\"tilemap-cache:level-unavailable\", `Level ${e} is unavailable in the service`));\n\n    const l = this._tmpTilemapDefinition,\n          a = this._tilemapFromCache(e, t, i, l);\n\n    if (a) return Promise.resolve(a);\n    const o = r && r.signal;\n    return r = { ...r,\n      signal: null\n    }, new Promise((e, t) => {\n      c(o, () => t(m()));\n      const i = g(l);\n      let s = this._pendingTilemapRequests[i];\n\n      if (!s) {\n        s = w.fromDefinition(l, r).then(e => (this._tilemapCache.put(i, e, e.byteSize), e));\n\n        const e = () => delete this._pendingTilemapRequests[i];\n\n        this._pendingTilemapRequests[i] = s, s.then(e, e);\n      }\n\n      s.then(e, t);\n    });\n  }\n\n  getAvailability(e, t, i) {\n    if (!this._availableLevels[e]) return \"unavailable\";\n\n    const r = this._tilemapFromCache(e, t, i, this._tmpTilemapDefinition);\n\n    return r ? r.getAvailability(t, i) : \"unknown\";\n  }\n\n  fetchAvailability(e, t, i, r) {\n    return this._availableLevels[e] ? this.fetchTilemap(e, t, i, r).catch(e => e).then(r => {\n      if (r instanceof w) {\n        const l = r.getAvailability(t, i);\n        if (\"unavailable\" === l) throw new s(\"tile-map:tile-unavailable\", \"Tile is not available\", {\n          level: e,\n          row: t,\n          col: i\n        });\n        return l;\n      }\n\n      if (h(r)) throw r;\n      return \"unknown\";\n    }) : Promise.reject(new s(\"tilemap-cache:level-unavailable\", `Level ${e} is unavailable in the service`));\n  }\n\n  fetchAvailabilityUpsample(e, t, i, r, s) {\n    r.level = e, r.row = t, r.col = i;\n    const l = this.layer.tileInfo;\n    l.updateTileInfo(r);\n    const a = this.fetchAvailability(e, t, i, s).catch(e => {\n      if (h(e)) throw e;\n      if (l.upsampleTile(r)) return this.fetchAvailabilityUpsample(r.level, r.row, r.col, r);\n      throw e;\n    });\n    return this._fetchAvailabilityUpsamplePrefetch(r.id, e, t, i, s, a), a;\n  }\n\n  async _fetchAvailabilityUpsamplePrefetch(e, t, i, r, s, l) {\n    if (!this._prefetchingEnabled) return;\n    const a = `prefetch-${e}`;\n    if (this.handles.has(a)) return;\n    const o = new AbortController();\n    l.then(() => o.abort(), () => o.abort());\n    let n = !1;\n    const c = {\n      remove() {\n        n || (n = !0, o.abort());\n      }\n\n    };\n    if (this.handles.add(c, a), await v(10, o.signal).catch(() => {}), n || (n = !0, this.handles.remove(a)), p(o)) return;\n    const h = {\n      id: e,\n      level: t,\n      row: i,\n      col: r\n    },\n          m = { ...s,\n      signal: o.signal\n    },\n          f = this.layer.tileInfo;\n\n    for (let p = 0; T._prefetches.length < T._maxPrefetch && f.upsampleTile(h); ++p) {\n      const e = this.fetchAvailability(h.level, h.row, h.col, m);\n\n      T._prefetches.push(e);\n\n      const t = () => {\n        T._prefetches.removeUnordered(e);\n      };\n\n      e.then(t, t);\n    }\n  }\n\n  _initializeTilemapDefinition() {\n    if (!this.layer.parsedUrl) return;\n    const {\n      parsedUrl: e,\n      apiKey: t,\n      customParameters: i\n    } = this.layer;\n    this._tilemapCache.clear(), this._tmpTilemapDefinition = {\n      service: {\n        url: e.path,\n        query: y({ ...e.query,\n          ...i,\n          token: t ?? e.query?.token\n        }),\n        tileServers: this.layer.tileServers,\n        request: this.request,\n        type: this.layer.type\n      },\n      width: this.size,\n      height: this.size,\n      level: 0,\n      row: 0,\n      col: 0\n    };\n  }\n\n  _tilemapFromCache(e, t, i, r) {\n    r.level = e, r.row = t - t % this.size, r.col = i - i % this.size;\n    const s = g(r);\n    return this._tilemapCache.get(s);\n  }\n\n  _initializeAvailableLevels(e) {\n    this._availableLevels = {}, e && e.forEach(e => this._availableLevels[e.level] = !0);\n  }\n\n  get test() {\n    const e = this;\n    return {\n      get prefetchingEnabled() {\n        return e._prefetchingEnabled;\n      },\n\n      set prefetchingEnabled(t) {\n        e._prefetchingEnabled = t;\n      },\n\n      hasTilemap: (t, i, r) => !!e._tilemapFromCache(t, i, r, e._tmpTilemapDefinition)\n    };\n  }\n\n};\nz._maxPrefetch = 4, z._prefetches = new n({\n  initialSize: T._maxPrefetch\n}), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"levels\", void 0), e([_(\"levels\")], z.prototype, \"castLevels\", null), e([b({\n  readOnly: !0,\n  type: Number\n})], z.prototype, \"size\", null), e([b({\n  constructOnly: !0,\n  type: Number\n})], z.prototype, \"cacheByteSize\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"layer\", void 0), e([b({\n  constructOnly: !0\n})], z.prototype, \"request\", void 0), z = T = e([d(\"esri.layers.support.TilemapCache\")], z);\nexport { z as TilemapCache };","map":{"version":3,"names":["_","e","t","i","ByteSizeUnit","r","s","HandleOwnerMixin","l","a","o","n","onAbort","c","isAbortError","h","isAborted","p","createAbortError","m","watch","f","syncAndInitial","u","waitTicks","v","objectToQuery","y","property","b","cast","subclass","d","tilemapDefinitionId","g","Tilemap","w","T","j","getLogger","z","constructor","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","MEGABYTES","request","_prefetchingEnabled","initialize","_tilemapCache","own","layer","parsedUrl","tileServers","apiKey","customParameters","_initializeTilemapDefinition","tileInfo","lods","_initializeAvailableLevels","castLevels","error","size","fetchTilemap","Promise","reject","_tmpTilemapDefinition","_tilemapFromCache","resolve","signal","fromDefinition","then","put","byteSize","getAvailability","fetchAvailability","catch","level","row","col","fetchAvailabilityUpsample","updateTileInfo","upsampleTile","_fetchAvailabilityUpsamplePrefetch","id","handles","has","AbortController","abort","remove","add","_prefetches","length","_maxPrefetch","push","removeUnordered","clear","service","url","path","query","token","type","width","height","get","forEach","test","prefetchingEnabled","hasTilemap","initialSize","constructOnly","Number","prototype","readOnly","TilemapCache"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/TilemapCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/byteSizeEstimations.js\";import s from\"../../core/Error.js\";import{HandleOwnerMixin as l}from\"../../core/HandleOwner.js\";import a from\"../../core/Logger.js\";import o from\"../../core/LRUCache.js\";import n from\"../../core/PooledArray.js\";import{onAbort as c,isAbortError as h,isAborted as p,createAbortError as m}from\"../../core/promiseUtils.js\";import{watch as f,syncAndInitial as u}from\"../../core/reactiveUtils.js\";import{waitTicks as v}from\"../../core/scheduling.js\";import{objectToQuery as y}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as _}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as g,Tilemap as w}from\"./Tilemap.js\";var T;const j=a.getLogger(\"esri.layers.support.TilemapCache\");let z=T=class extends(l(i)){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*r.MEGABYTES,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(this.cacheByteSize),this.own([f((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition())),f((()=>this.layer?.tileInfo?.lods),(e=>this._initializeAvailableLevels(e)),u)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(j.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,l);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{c(o,(()=>t(m())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=w.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof w){const l=r.getAvailability(t,i);if(\"unavailable\"===l)throw new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return l}if(h(r))throw r;return\"unknown\"})):Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,s).catch((e=>{if(h(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,l){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;l.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this.handles.add(c,a),await v(10,o.signal).catch((()=>{})),n||(n=!0,this.handles.remove(a)),p(o))return;const h={id:e,level:t,row:i,col:r},m={...s,signal:o.signal},f=this.layer.tileInfo;for(let p=0;T._prefetches.length<T._maxPrefetch&&f.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,m);T._prefetches.push(e);const t=()=>{T._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:y({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};z._maxPrefetch=4,z._prefetches=new n({initialSize:T._maxPrefetch}),e([b({constructOnly:!0,type:Number})],z.prototype,\"levels\",void 0),e([_(\"levels\")],z.prototype,\"castLevels\",null),e([b({readOnly:!0,type:Number})],z.prototype,\"size\",null),e([b({constructOnly:!0,type:Number})],z.prototype,\"cacheByteSize\",void 0),e([b({constructOnly:!0})],z.prototype,\"layer\",void 0),e([b({constructOnly:!0})],z.prototype,\"request\",void 0),z=T=e([d(\"esri.layers.support.TilemapCache\")],z);export{z as TilemapCache};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}