{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { e as n } from \"../../chunks/earcut.js\";\nimport { isClockwise as t } from \"./coordsUtils.js\";\nimport { deduplicate as e } from \"./meshUtils/deduplicate.js\";\n\nfunction o(t) {\n  const o = l(t.rings, t.hasZ, c.CCW_IS_HOLE),\n        s = new Array();\n  let i = 0,\n      h = 0;\n\n  for (const e of o.polygons) {\n    const t = e.count,\n          r = e.index,\n          l = new Float64Array(o.position.buffer, 3 * r * o.position.BYTES_PER_ELEMENT, 3 * t),\n          c = e.holeIndices.map(n => n - r),\n          f = new Uint32Array(n(l, c, 3));\n    s.push({\n      position: l,\n      faces: f\n    }), i += l.length, h += f.length;\n  }\n\n  const f = r(s, i, h),\n        a = e(f.position.buffer, 6, {\n    originalIndices: f.faces\n  });\n  return f.position = new Float64Array(a.buffer), f.faces = a.indices, f;\n}\n\nfunction r(n, t, e) {\n  if (1 === n.length) return n[0];\n  const o = new Float64Array(t),\n        r = new Uint32Array(e);\n  let l = 0,\n      s = 0,\n      i = 0;\n\n  for (const c of n) {\n    for (let n = 0; n < c.position.length; n++) o[l++] = c.position[n];\n\n    for (let n = 0; n < c.faces.length; n++) r[s++] = c.faces[n] + i;\n\n    i = l / 3;\n  }\n\n  return {\n    position: o,\n    faces: r\n  };\n}\n\nfunction l(n, t, e) {\n  const o = n.length,\n        r = new Array(o),\n        l = new Array(o),\n        h = new Array(o);\n  let f = 0,\n      a = 0,\n      g = 0,\n      u = 0;\n\n  for (let s = 0; s < o; ++s) u += n[s].length;\n\n  const p = new Float64Array(3 * u);\n  let y = 0;\n\n  for (let d = o - 1; d >= 0; d--) {\n    const u = n[d],\n          w = e === c.CCW_IS_HOLE && i(u);\n    if (w && 1 !== o) r[f++] = u;else {\n      let n = u.length;\n\n      for (let t = 0; t < f; ++t) n += r[t].length;\n\n      const e = {\n        index: y,\n        pathLengths: new Array(f + 1),\n        count: n,\n        holeIndices: new Array(f)\n      };\n      e.pathLengths[0] = u.length, u.length > 0 && (h[g++] = {\n        index: y,\n        count: u.length\n      }), y = w ? s(u, u.length - 1, -1, p, y, u.length, t) : s(u, 0, 1, p, y, u.length, t);\n\n      for (let o = 0; o < f; ++o) {\n        const n = r[o];\n        e.holeIndices[o] = y, e.pathLengths[o + 1] = n.length, n.length > 0 && (h[g++] = {\n          index: y,\n          count: n.length\n        }), y = s(n, 0, 1, p, y, n.length, t);\n      }\n\n      f = 0, e.count > 0 && (l[a++] = e);\n    }\n  }\n\n  for (let i = 0; i < f; ++i) {\n    const n = r[i];\n    n.length > 0 && (h[g++] = {\n      index: y,\n      count: n.length\n    }), y = s(n, 0, 1, p, y, n.length, t);\n  }\n\n  return l.length = a, h.length = g, {\n    position: p,\n    polygons: l,\n    outlines: h\n  };\n}\n\nfunction s(n, t, e, o, r, l, s) {\n  r *= 3;\n\n  for (let i = 0; i < l; ++i) {\n    const l = n[t];\n    o[r++] = l[0], o[r++] = l[1], o[r++] = s ? l[2] : 0, t += e;\n  }\n\n  return r / 3;\n}\n\nfunction i(n) {\n  return !t(n, !1, !1);\n}\n\nvar c;\n!function (n) {\n  n[n.NONE = 0] = \"NONE\", n[n.CCW_IS_HOLE = 1] = \"CCW_IS_HOLE\";\n}(c || (c = {}));\nexport { c as CounterClockwiseMode, l as pathsToTriangulationInfo, o as triangulate };","map":{"version":3,"names":["e","n","isClockwise","t","deduplicate","o","l","rings","hasZ","c","CCW_IS_HOLE","s","Array","i","h","polygons","count","r","index","Float64Array","position","buffer","BYTES_PER_ELEMENT","holeIndices","map","f","Uint32Array","push","faces","length","a","originalIndices","indices","g","u","p","y","d","w","pathLengths","outlines","NONE","CounterClockwiseMode","pathsToTriangulationInfo","triangulate"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/triangulationUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(t){const o=l(t.rings,t.hasZ,c.CCW_IS_HOLE),s=new Array;let i=0,h=0;for(const e of o.polygons){const t=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*t),c=e.holeIndices.map((n=>n-r)),f=new Uint32Array(n(l,c,3));s.push({position:l,faces:f}),i+=l.length,h+=f.length}const f=r(s,i,h),a=e(f.position.buffer,6,{originalIndices:f.faces});return f.position=new Float64Array(a.buffer),f.faces=a.indices,f}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),h=new Array(o);let f=0,a=0,g=0,u=0;for(let s=0;s<o;++s)u+=n[s].length;const p=new Float64Array(3*u);let y=0;for(let d=o-1;d>=0;d--){const u=n[d],w=e===c.CCW_IS_HOLE&&i(u);if(w&&1!==o)r[f++]=u;else{let n=u.length;for(let t=0;t<f;++t)n+=r[t].length;const e={index:y,pathLengths:new Array(f+1),count:n,holeIndices:new Array(f)};e.pathLengths[0]=u.length,u.length>0&&(h[g++]={index:y,count:u.length}),y=w?s(u,u.length-1,-1,p,y,u.length,t):s(u,0,1,p,y,u.length,t);for(let o=0;o<f;++o){const n=r[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(h[g++]={index:y,count:n.length}),y=s(n,0,1,p,y,n.length,t)}f=0,e.count>0&&(l[a++]=e)}}for(let i=0;i<f;++i){const n=r[i];n.length>0&&(h[g++]={index:y,count:n.length}),y=s(n,0,1,p,y,n.length,t)}return l.length=a,h.length=g,{position:p,polygons:l,outlines:h}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(n){return!t(n,!1,!1)}var c;!function(n){n[n.NONE=0]=\"NONE\",n[n.CCW_IS_HOLE=1]=\"CCW_IS_HOLE\"}(c||(c={}));export{c as CounterClockwiseMode,l as pathsToTriangulationInfo,o as triangulate};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}