{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport { isSome as t, unwrap as r } from \"../../core/maybe.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { reader as s } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport p from \"./DirectionsFeature.js\";\nimport n from \"./FeatureSet.js\";\nimport i from \"../../geometry/SpatialReference.js\";\nimport m from \"../../geometry/Extent.js\";\nimport l from \"../../geometry/Polyline.js\";\n\nfunction u(e, t) {\n  if (0 === e.length) return new l({\n    spatialReference: t\n  });\n  const r = [];\n\n  for (const p of e) for (const e of p.paths) r.push(...e);\n\n  const o = [];\n  r.forEach((e, t) => {\n    0 !== t && e[0] === r[t - 1][0] && e[1] === r[t - 1][1] || o.push(e);\n  });\n  const {\n    hasM: s,\n    hasZ: a\n  } = e[0];\n  return new l({\n    hasM: s,\n    hasZ: a,\n    paths: [o],\n    spatialReference: t\n  });\n}\n\nlet c = class extends n {\n  constructor(e) {\n    super(e), this.extent = null, this.features = null, this.geometryType = \"polyline\", this.routeId = null, this.routeName = null, this.totalDriveTime = null, this.totalLength = null, this.totalTime = null;\n  }\n\n  readFeatures(e, r) {\n    if (!e) return [];\n    const o = r.summary.envelope.spatialReference ?? r.spatialReference,\n          s = o && i.fromJSON(o);\n    return e.map(e => {\n      const r = p.fromJSON(e);\n      if (t(r.geometry) && (r.geometry.spatialReference = s), t(r.events)) for (const o of r.events) t(o.geometry) && (o.geometry.spatialReference = s);\n      return r;\n    });\n  }\n\n  get mergedGeometry() {\n    if (!this.features) return null;\n    return u(this.features.map(({\n      geometry: e\n    }) => r(e)), this.extent.spatialReference);\n  }\n\n  get strings() {\n    return this.features.map(({\n      strings: e\n    }) => e).flat().filter(t);\n  }\n\n};\ne([o({\n  type: m,\n  json: {\n    read: {\n      source: \"summary.envelope\"\n    }\n  }\n})], c.prototype, \"extent\", void 0), e([o()], c.prototype, \"features\", void 0), e([s(\"features\")], c.prototype, \"readFeatures\", null), e([o()], c.prototype, \"geometryType\", void 0), e([o({\n  readOnly: !0\n})], c.prototype, \"mergedGeometry\", null), e([o()], c.prototype, \"routeId\", void 0), e([o()], c.prototype, \"routeName\", void 0), e([o({\n  value: null,\n  readOnly: !0\n})], c.prototype, \"strings\", null), e([o({\n  json: {\n    read: {\n      source: \"summary.totalDriveTime\"\n    }\n  }\n})], c.prototype, \"totalDriveTime\", void 0), e([o({\n  json: {\n    read: {\n      source: \"summary.totalLength\"\n    }\n  }\n})], c.prototype, \"totalLength\", void 0), e([o({\n  json: {\n    read: {\n      source: \"summary.totalTime\"\n    }\n  }\n})], c.prototype, \"totalTime\", void 0), c = e([a(\"esri.rest.support.DirectionsFeatureSet\")], c);\nconst f = c;\nexport { f as default };","map":{"version":3,"names":["_","e","isSome","t","unwrap","r","property","o","reader","s","subclass","a","p","n","i","m","l","u","length","spatialReference","paths","push","forEach","hasM","hasZ","c","constructor","extent","features","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","readFeatures","summary","envelope","fromJSON","map","geometry","events","mergedGeometry","strings","flat","filter","type","json","read","source","prototype","readOnly","value","f","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/rest/support/DirectionsFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./DirectionsFeature.js\";import n from\"./FeatureSet.js\";import i from\"../../geometry/SpatialReference.js\";import m from\"../../geometry/Extent.js\";import l from\"../../geometry/Polyline.js\";function u(e,t){if(0===e.length)return new l({spatialReference:t});const r=[];for(const p of e)for(const e of p.paths)r.push(...e);const o=[];r.forEach(((e,t)=>{0!==t&&e[0]===r[t-1][0]&&e[1]===r[t-1][1]||o.push(e)}));const{hasM:s,hasZ:a}=e[0];return new l({hasM:s,hasZ:a,paths:[o],spatialReference:t})}let c=class extends n{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){if(!e)return[];const o=r.summary.envelope.spatialReference??r.spatialReference,s=o&&i.fromJSON(o);return e.map((e=>{const r=p.fromJSON(e);if(t(r.geometry)&&(r.geometry.spatialReference=s),t(r.events))for(const o of r.events)t(o.geometry)&&(o.geometry.spatialReference=s);return r}))}get mergedGeometry(){if(!this.features)return null;return u(this.features.map((({geometry:e})=>r(e))),this.extent.spatialReference)}get strings(){return this.features.map((({strings:e})=>e)).flat().filter(t)}};e([o({type:m,json:{read:{source:\"summary.envelope\"}}})],c.prototype,\"extent\",void 0),e([o()],c.prototype,\"features\",void 0),e([s(\"features\")],c.prototype,\"readFeatures\",null),e([o()],c.prototype,\"geometryType\",void 0),e([o({readOnly:!0})],c.prototype,\"mergedGeometry\",null),e([o()],c.prototype,\"routeId\",void 0),e([o()],c.prototype,\"routeName\",void 0),e([o({value:null,readOnly:!0})],c.prototype,\"strings\",null),e([o({json:{read:{source:\"summary.totalDriveTime\"}}})],c.prototype,\"totalDriveTime\",void 0),e([o({json:{read:{source:\"summary.totalLength\"}}})],c.prototype,\"totalLength\",void 0),e([o({json:{read:{source:\"summary.totalTime\"}}})],c.prototype,\"totalTime\",void 0),c=e([a(\"esri.rest.support.DirectionsFeatureSet\")],c);const f=c;export{f as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}