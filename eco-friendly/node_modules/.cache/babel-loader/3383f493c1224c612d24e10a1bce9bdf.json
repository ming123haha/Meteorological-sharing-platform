{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"./BaseRasterFunction.js\";\nimport n from \"./MaskFunctionArguments.js\";\nimport { createMaskLUT as u, NoDataInterpretation as i, mask as a } from \"./pixelUtils.js\";\nlet p = class extends r {\n  constructor() {\n    super(...arguments), this.functionName = \"Mask\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"], this.lookup = null;\n  }\n\n  _bindSourceRasters() {\n    const t = this.sourceRasterInfos[0].clone(),\n          {\n      pixelType: s\n    } = t;\n    this.outputPixelType = this._getOutputPixelType(s), t.pixelType = this.outputPixelType, this.rasterInfo = t;\n    const {\n      includedRanges: e,\n      noDataValues: o\n    } = this.functionArguments;\n    return e?.length || o?.length ? (this.lookup = u(s, this.functionArguments.includedRanges, this.functionArguments.noDataValues), {\n      success: !0\n    }) : {\n      success: !1,\n      error: \"missing includedRanges or noDataValues argument\"\n    };\n  }\n\n  _processPixels(t) {\n    const e = t.pixelBlocks?.[0];\n    if (s(e)) return null;\n    const {\n      outputPixelType: o,\n      lookup: r\n    } = this,\n          {\n      includedRanges: n,\n      noDataValues: u,\n      noDataInterpretation: p\n    } = this.functionArguments,\n          c = p === i.matchAll;\n    return a(e, {\n      includedRanges: n,\n      noDataValues: u,\n      outputPixelType: o,\n      matchAll: c,\n      lookup: r\n    });\n  }\n\n};\nt([e({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], p.prototype, \"functionName\", void 0), t([e({\n  type: n,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], p.prototype, \"functionArguments\", void 0), t([e()], p.prototype, \"rasterArgumentNames\", void 0), t([e({\n  json: {\n    write: !0\n  }\n})], p.prototype, \"lookup\", void 0), p = t([o(\"esri.layers.support.rasterFunctions.MaskFunction\")], p);\nconst c = p;\nexport { c as default };","map":{"version":3,"names":["_","t","isNone","s","property","e","subclass","o","r","n","createMaskLUT","u","NoDataInterpretation","i","mask","a","p","constructor","arguments","functionName","functionArguments","rasterArgumentNames","lookup","_bindSourceRasters","sourceRasterInfos","clone","pixelType","outputPixelType","_getOutputPixelType","rasterInfo","includedRanges","noDataValues","length","success","error","_processPixels","pixelBlocks","noDataInterpretation","c","matchAll","json","write","name","prototype","type","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/MaskFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./BaseRasterFunction.js\";import n from\"./MaskFunctionArguments.js\";import{createMaskLUT as u,NoDataInterpretation as i,mask as a}from\"./pixelUtils.js\";let p=class extends r{constructor(){super(...arguments),this.functionName=\"Mask\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"],this.lookup=null}_bindSourceRasters(){const t=this.sourceRasterInfos[0].clone(),{pixelType:s}=t;this.outputPixelType=this._getOutputPixelType(s),t.pixelType=this.outputPixelType,this.rasterInfo=t;const{includedRanges:e,noDataValues:o}=this.functionArguments;return e?.length||o?.length?(this.lookup=u(s,this.functionArguments.includedRanges,this.functionArguments.noDataValues),{success:!0}):{success:!1,error:\"missing includedRanges or noDataValues argument\"}}_processPixels(t){const e=t.pixelBlocks?.[0];if(s(e))return null;const{outputPixelType:o,lookup:r}=this,{includedRanges:n,noDataValues:u,noDataInterpretation:p}=this.functionArguments,c=p===i.matchAll;return a(e,{includedRanges:n,noDataValues:u,outputPixelType:o,matchAll:c,lookup:r})}};t([e({json:{write:!0,name:\"rasterFunction\"}})],p.prototype,\"functionName\",void 0),t([e({type:n,json:{write:!0,name:\"rasterFunctionArguments\"}})],p.prototype,\"functionArguments\",void 0),t([e()],p.prototype,\"rasterArgumentNames\",void 0),t([e({json:{write:!0}})],p.prototype,\"lookup\",void 0),p=t([o(\"esri.layers.support.rasterFunctions.MaskFunction\")],p);const c=p;export{c as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}