{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/Logger.js\";\nimport { isSome as r } from \"../../../core/maybe.js\";\nimport { f as e } from \"../../../chunks/mat3.js\";\nimport { c as o } from \"../../../chunks/mat3f64.js\";\nimport { c as i } from \"../../../chunks/mat4f64.js\";\nimport { a as n, t as s } from \"../../../chunks/vec3.js\";\nimport { c as a } from \"../../../chunks/vec3f64.js\";\nimport { computeTranslationToOriginAndRotation as f } from \"../../projection.js\";\nimport { getSphericalPCPF as m } from \"../../projectionEllipsoid.js\";\nimport { isGeographicMesh as c } from \"./geographicUtils.js\";\nimport { projectToPCPF as p, projectNormalToPCPF as g, projectTangentToPCPF as l, projectFromPCPF as u, projectNormalFromPCPF as h, projectTangentFromPCPF as j } from \"./projection.js\";\n\nfunction x(e, o, i) {\n  if (e.vertexAttributes && e.vertexAttributes.position) if (r(e.transform)) null != i?.geographic && i.geographic !== e.transform.geographic && t.getLogger(\"esri.geometry.support.meshUtils.offset\").warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`), A(e.transform, o);else {\n    c(e.spatialReference, i) ? v(e, o) : b(e, o);\n  }\n}\n\nfunction A(t, r) {\n  const e = t.origin;\n  t.origin = n(a(), e, r);\n}\n\nfunction v(t, o) {\n  const i = t.spatialReference,\n        n = t.vertexAttributes.position,\n        a = t.vertexAttributes.normal,\n        c = t.vertexAttributes.tangent,\n        x = new Float64Array(n.length),\n        A = r(a) ? new Float32Array(a.length) : null,\n        v = r(c) ? new Float32Array(c.length) : null,\n        b = t.extent.center,\n        F = d;\n  f(i, [b.x, b.y, b.z], k, m(i)), e(w, k), s(F, o, w), p(n, i, x), r(a) && r(A) && g(a, n, x, i, A), r(c) && r(v) && l(c, n, x, i, v), y(x, F), u(x, n, i), r(a) && r(A) && h(A, n, x, i, a), r(c) && r(v) && j(v, n, x, i, c), t.vertexAttributesChanged();\n}\n\nfunction b(t, r) {\n  y(t.vertexAttributes.position, r), t.vertexAttributesChanged();\n}\n\nfunction y(t, r) {\n  if (t) for (let e = 0; e < t.length; e += 3) for (let o = 0; o < 3; o++) t[e + o] += r[o];\n}\n\nconst d = a(),\n      k = i(),\n      w = o();\nexport { x as offset };","map":{"version":3,"names":["t","isSome","r","f","e","c","o","i","a","n","s","computeTranslationToOriginAndRotation","getSphericalPCPF","m","isGeographicMesh","projectToPCPF","p","projectNormalToPCPF","g","projectTangentToPCPF","l","projectFromPCPF","u","projectNormalFromPCPF","h","projectTangentFromPCPF","j","x","vertexAttributes","position","transform","geographic","getLogger","warn","A","spatialReference","v","b","origin","normal","tangent","Float64Array","length","Float32Array","extent","center","F","d","y","z","k","w","vertexAttributesChanged","offset"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/meshUtils/offset.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{isSome as r}from\"../../../core/maybe.js\";import{f as e}from\"../../../chunks/mat3.js\";import{c as o}from\"../../../chunks/mat3f64.js\";import{c as i}from\"../../../chunks/mat4f64.js\";import{a as n,t as s}from\"../../../chunks/vec3.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{computeTranslationToOriginAndRotation as f}from\"../../projection.js\";import{getSphericalPCPF as m}from\"../../projectionEllipsoid.js\";import{isGeographicMesh as c}from\"./geographicUtils.js\";import{projectToPCPF as p,projectNormalToPCPF as g,projectTangentToPCPF as l,projectFromPCPF as u,projectNormalFromPCPF as h,projectTangentFromPCPF as j}from\"./projection.js\";function x(e,o,i){if(e.vertexAttributes&&e.vertexAttributes.position)if(r(e.transform))null!=i?.geographic&&i.geographic!==e.transform.geographic&&t.getLogger(\"esri.geometry.support.meshUtils.offset\").warn(`Specifying the 'geographic' parameter (${i.geographic}) different from the Mesh transform setting (${e.transform.geographic}) is not supported`),A(e.transform,o);else{c(e.spatialReference,i)?v(e,o):b(e,o)}}function A(t,r){const e=t.origin;t.origin=n(a(),e,r)}function v(t,o){const i=t.spatialReference,n=t.vertexAttributes.position,a=t.vertexAttributes.normal,c=t.vertexAttributes.tangent,x=new Float64Array(n.length),A=r(a)?new Float32Array(a.length):null,v=r(c)?new Float32Array(c.length):null,b=t.extent.center,F=d;f(i,[b.x,b.y,b.z],k,m(i)),e(w,k),s(F,o,w),p(n,i,x),r(a)&&r(A)&&g(a,n,x,i,A),r(c)&&r(v)&&l(c,n,x,i,v),y(x,F),u(x,n,i),r(a)&&r(A)&&h(A,n,x,i,a),r(c)&&r(v)&&j(v,n,x,i,c),t.vertexAttributesChanged()}function b(t,r){y(t.vertexAttributes.position,r),t.vertexAttributesChanged()}function y(t,r){if(t)for(let e=0;e<t.length;e+=3)for(let o=0;o<3;o++)t[e+o]+=r[o]}const d=a(),k=i(),w=o();export{x as offset};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}