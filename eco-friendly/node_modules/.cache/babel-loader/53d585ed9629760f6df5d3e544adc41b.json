{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\n\nasync function r(e, r) {\n  let s = await a(e, r);\n  s = s || {}, s.layers = s.layers?.filter(t) || [];\n  const n = {\n    serviceJSON: s\n  };\n  if ((s.currentVersion ?? 0) < 10.5) return n;\n  const o = await a(e + \"/layers\", r);\n  return n.layersJSON = {\n    layers: o?.layers?.filter(t) || [],\n    tables: o?.tables || []\n  }, n;\n}\n\nfunction t(e) {\n  return !e.type || \"Feature Layer\" === e.type;\n}\n\nasync function a(r, t) {\n  return (await e(r, {\n    responseType: \"json\",\n    query: {\n      f: \"json\",\n      ...t?.customParameters,\n      token: t?.apiKey\n    }\n  })).data;\n}\n\nexport { r as fetchFeatureService, a as fetchService };","map":{"version":3,"names":["e","r","s","a","layers","filter","t","n","serviceJSON","currentVersion","o","layersJSON","tables","type","responseType","query","f","customParameters","token","apiKey","data","fetchFeatureService","fetchService"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/fetchService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";async function r(e,r){let s=await a(e,r);s=s||{},s.layers=s.layers?.filter(t)||[];const n={serviceJSON:s};if((s.currentVersion??0)<10.5)return n;const o=await a(e+\"/layers\",r);return n.layersJSON={layers:o?.layers?.filter(t)||[],tables:o?.tables||[]},n}function t(e){return!e.type||\"Feature Layer\"===e.type}async function a(r,t){return(await e(r,{responseType:\"json\",query:{f:\"json\",...t?.customParameters,token:t?.apiKey}})).data}export{r as fetchFeatureService,a as fetchService};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;;AAAgC,eAAeC,CAAf,CAAiBD,CAAjB,EAAmBC,CAAnB,EAAqB;EAAC,IAAIC,CAAC,GAAC,MAAMC,CAAC,CAACH,CAAD,EAAGC,CAAH,CAAb;EAAmBC,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQA,CAAC,CAACE,MAAF,GAASF,CAAC,CAACE,MAAF,EAAUC,MAAV,CAAiBC,CAAjB,KAAqB,EAAtC;EAAyC,MAAMC,CAAC,GAAC;IAACC,WAAW,EAACN;EAAb,CAAR;EAAwB,IAAG,CAACA,CAAC,CAACO,cAAF,IAAkB,CAAnB,IAAsB,IAAzB,EAA8B,OAAOF,CAAP;EAAS,MAAMG,CAAC,GAAC,MAAMP,CAAC,CAACH,CAAC,GAAC,SAAH,EAAaC,CAAb,CAAf;EAA+B,OAAOM,CAAC,CAACI,UAAF,GAAa;IAACP,MAAM,EAACM,CAAC,EAAEN,MAAH,EAAWC,MAAX,CAAkBC,CAAlB,KAAsB,EAA9B;IAAiCM,MAAM,EAACF,CAAC,EAAEE,MAAH,IAAW;EAAnD,CAAb,EAAoEL,CAA3E;AAA6E;;AAAA,SAASD,CAAT,CAAWN,CAAX,EAAa;EAAC,OAAM,CAACA,CAAC,CAACa,IAAH,IAAS,oBAAkBb,CAAC,CAACa,IAAnC;AAAwC;;AAAA,eAAeV,CAAf,CAAiBF,CAAjB,EAAmBK,CAAnB,EAAqB;EAAC,OAAM,CAAC,MAAMN,CAAC,CAACC,CAAD,EAAG;IAACa,YAAY,EAAC,MAAd;IAAqBC,KAAK,EAAC;MAACC,CAAC,EAAC,MAAH;MAAU,GAAGV,CAAC,EAAEW,gBAAhB;MAAiCC,KAAK,EAACZ,CAAC,EAAEa;IAA1C;EAA3B,CAAH,CAAR,EAA2FC,IAAjG;AAAsG;;AAAA,SAAOnB,CAAC,IAAIoB,mBAAZ,EAAgClB,CAAC,IAAImB,YAArC"},"metadata":{},"sourceType":"module"}