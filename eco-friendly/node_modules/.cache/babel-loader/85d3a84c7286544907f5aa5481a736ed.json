{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { c as r } from \"../../../../../../chunks/mat3f64.js\";\nimport { c as o } from \"../../../../../../chunks/vec4f64.js\";\nimport { NormalAttributeType as a, NormalAttribute as l } from \"./NormalAttribute.glsl.js\";\nimport { VertexPosition as e, VertexPositionPassParameters as m, VertexPositionDrawParameters as s } from \"./VertexPosition.glsl.js\";\nimport { glsl as t } from \"../../shaderModules/interfaces.js\";\nimport { Matrix3DrawUniform as d } from \"../../shaderModules/Matrix3DrawUniform.js\";\nimport { Matrix3PassUniform as i } from \"../../shaderModules/Matrix3PassUniform.js\";\n\nfunction n(r, o) {\n  o.normalType === a.Attribute || o.normalType === a.CompressedAttribute ? (r.include(l, o), r.varyings.add(\"vNormalWorld\", \"vec3\"), r.varyings.add(\"vNormalView\", \"vec3\"), r.vertex.uniforms.add([new d(\"transformNormalGlobalFromModel\", r => r.transformNormalGlobalFromModel), new i(\"transformNormalViewFromGlobal\", r => r.transformNormalViewFromGlobal)]), r.vertex.code.add(t`void forwardNormal() {\nvNormalWorld = transformNormalGlobalFromModel * normalModel();\nvNormalView = transformNormalViewFromGlobal * vNormalWorld;\n}`)) : o.normalType === a.Ground ? (r.include(e, o), r.varyings.add(\"vNormalWorld\", \"vec3\"), r.vertex.code.add(t`\n    void forwardNormal() {\n      vNormalWorld = ${o.spherical ? t`normalize(vPositionWorldCameraRelative);` : t`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)) : r.vertex.code.add(t`void forwardNormal() {}`);\n}\n\nclass f extends m {\n  constructor() {\n    super(...arguments), this.transformNormalViewFromGlobal = r();\n  }\n\n}\n\nclass c extends s {\n  constructor() {\n    super(...arguments), this.transformNormalGlobalFromModel = r(), this.toMapSpace = o();\n  }\n\n}\n\nexport { n as VertexNormal, c as VertexNormalDrawParameters, f as VertexNormalPassParameters };","map":{"version":3,"names":["c","r","o","NormalAttributeType","a","NormalAttribute","l","VertexPosition","e","VertexPositionPassParameters","m","VertexPositionDrawParameters","s","glsl","t","Matrix3DrawUniform","d","Matrix3PassUniform","i","n","normalType","Attribute","CompressedAttribute","include","varyings","add","vertex","uniforms","transformNormalGlobalFromModel","transformNormalViewFromGlobal","code","Ground","spherical","f","constructor","arguments","toMapSpace","VertexNormal","VertexNormalDrawParameters","VertexNormalPassParameters"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{c as r}from\"../../../../../../chunks/mat3f64.js\";import{c as o}from\"../../../../../../chunks/vec4f64.js\";import{NormalAttributeType as a,NormalAttribute as l}from\"./NormalAttribute.glsl.js\";import{VertexPosition as e,VertexPositionPassParameters as m,VertexPositionDrawParameters as s}from\"./VertexPosition.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";import{Matrix3DrawUniform as d}from\"../../shaderModules/Matrix3DrawUniform.js\";import{Matrix3PassUniform as i}from\"../../shaderModules/Matrix3PassUniform.js\";function n(r,o){o.normalType===a.Attribute||o.normalType===a.CompressedAttribute?(r.include(l,o),r.varyings.add(\"vNormalWorld\",\"vec3\"),r.varyings.add(\"vNormalView\",\"vec3\"),r.vertex.uniforms.add([new d(\"transformNormalGlobalFromModel\",(r=>r.transformNormalGlobalFromModel)),new i(\"transformNormalViewFromGlobal\",(r=>r.transformNormalViewFromGlobal))]),r.vertex.code.add(t`void forwardNormal() {\nvNormalWorld = transformNormalGlobalFromModel * normalModel();\nvNormalView = transformNormalViewFromGlobal * vNormalWorld;\n}`)):o.normalType===a.Ground?(r.include(e,o),r.varyings.add(\"vNormalWorld\",\"vec3\"),r.vertex.code.add(t`\n    void forwardNormal() {\n      vNormalWorld = ${o.spherical?t`normalize(vPositionWorldCameraRelative);`:t`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):r.vertex.code.add(t`void forwardNormal() {}`)}class f extends m{constructor(){super(...arguments),this.transformNormalViewFromGlobal=r()}}class c extends s{constructor(){super(...arguments),this.transformNormalGlobalFromModel=r(),this.toMapSpace=o()}}export{n as VertexNormal,c as VertexNormalDrawParameters,f as VertexNormalPassParameters};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,qCAAlB;AAAwD,SAAOD,CAAC,IAAIE,CAAZ,QAAkB,qCAAlB;AAAwD,SAAOC,mBAAmB,IAAIC,CAA9B,EAAgCC,eAAe,IAAIC,CAAnD,QAAyD,2BAAzD;AAAqF,SAAOC,cAAc,IAAIC,CAAzB,EAA2BC,4BAA4B,IAAIC,CAA3D,EAA6DC,4BAA4B,IAAIC,CAA7F,QAAmG,0BAAnG;AAA8H,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;AAAyD,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,2CAAnC;AAA+E,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,2CAAnC;;AAA+E,SAASC,CAAT,CAAWlB,CAAX,EAAaC,CAAb,EAAe;EAACA,CAAC,CAACkB,UAAF,KAAehB,CAAC,CAACiB,SAAjB,IAA4BnB,CAAC,CAACkB,UAAF,KAAehB,CAAC,CAACkB,mBAA7C,IAAkErB,CAAC,CAACsB,OAAF,CAAUjB,CAAV,EAAYJ,CAAZ,GAAeD,CAAC,CAACuB,QAAF,CAAWC,GAAX,CAAe,cAAf,EAA8B,MAA9B,CAAf,EAAqDxB,CAAC,CAACuB,QAAF,CAAWC,GAAX,CAAe,aAAf,EAA6B,MAA7B,CAArD,EAA0FxB,CAAC,CAACyB,MAAF,CAASC,QAAT,CAAkBF,GAAlB,CAAsB,CAAC,IAAIT,CAAJ,CAAM,gCAAN,EAAwCf,CAAC,IAAEA,CAAC,CAAC2B,8BAA7C,CAAD,EAA+E,IAAIV,CAAJ,CAAM,+BAAN,EAAuCjB,CAAC,IAAEA,CAAC,CAAC4B,6BAA5C,CAA/E,CAAtB,CAA1F,EAA6Q5B,CAAC,CAACyB,MAAF,CAASI,IAAT,CAAcL,GAAd,CAAkBX,CAAE;AAC74B;AACA;AACA,EAHy3B,CAA/U,IAGriBZ,CAAC,CAACkB,UAAF,KAAehB,CAAC,CAAC2B,MAAjB,IAAyB9B,CAAC,CAACsB,OAAF,CAAUf,CAAV,EAAYN,CAAZ,GAAeD,CAAC,CAACuB,QAAF,CAAWC,GAAX,CAAe,cAAf,EAA8B,MAA9B,CAAf,EAAqDxB,CAAC,CAACyB,MAAF,CAASI,IAAT,CAAcL,GAAd,CAAkBX,CAAE;AACvG;AACA,uBAAuBZ,CAAC,CAAC8B,SAAF,GAAYlB,CAAE,0CAAd,GAAwDA,CAAE,sBAAsB;AACvG;AACA,KAJmF,CAA9E,IAIGb,CAAC,CAACyB,MAAF,CAASI,IAAT,CAAcL,GAAd,CAAkBX,CAAE,yBAApB,CAPkiB;AAOpf;;AAAA,MAAMmB,CAAN,SAAgBvB,CAAhB,CAAiB;EAACwB,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKN,6BAAL,GAAmC5B,CAAC,EAAxD;EAA2D;;AAA1E;;AAA2E,MAAMD,CAAN,SAAgBY,CAAhB,CAAiB;EAACsB,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKP,8BAAL,GAAoC3B,CAAC,EAAzD,EAA4D,KAAKmC,UAAL,GAAgBlC,CAAC,EAA7E;EAAgF;;AAA/F;;AAAgG,SAAOiB,CAAC,IAAIkB,YAAZ,EAAyBrC,CAAC,IAAIsC,0BAA9B,EAAyDL,CAAC,IAAIM,0BAA9D"},"metadata":{},"sourceType":"module"}