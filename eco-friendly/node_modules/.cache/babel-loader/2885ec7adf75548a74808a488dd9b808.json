{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport r from \"../../PopupTemplate.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t, webSceneRendererTypes as i } from \"../../renderers/support/types.js\";\nimport o from \"../../request.js\";\nimport { isSymbol3D as a } from \"../../symbols.js\";\nimport s from \"../../core/Collection.js\";\nimport l from \"../../core/Error.js\";\nimport { HandleOwnerMixin as n } from \"../../core/HandleOwner.js\";\nimport { IdentifiableMixin as p } from \"../../core/Identifiable.js\";\nimport { clone as y } from \"../../core/lang.js\";\nimport d from \"../../core/Loadable.js\";\nimport u from \"../../core/Logger.js\";\nimport { isSome as c } from \"../../core/maybe.js\";\nimport { MultiOriginJSONMixin as f } from \"../../core/MultiOriginJSONSupport.js\";\nimport { sqlAnd as m } from \"../../core/sql.js\";\nimport { objectToQuery as h } from \"../../core/urlUtils.js\";\nimport { property as b } from \"../../core/accessorSupport/decorators/property.js\";\nimport { getProperties as g } from \"../../core/accessorSupport/utils.js\";\nimport { cast as S } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { reader as I } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as v } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as w } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { ensureInteger as j, ensureType as L, Integer as D, ensureClass as E } from \"../../core/accessorSupport/ensureType.js\";\nimport { OriginId as F, nameToId as O } from \"../../core/accessorSupport/PropertyOrigin.js\";\nimport { parse as P } from \"./arcgisLayerUrl.js\";\nimport x from \"./FeatureType.js\";\nimport _ from \"./Field.js\";\nimport T from \"./FieldsIndex.js\";\nimport N from \"./LabelClass.js\";\nimport { validateLabelingInfo as M } from \"./labelingInfo.js\";\nimport V from \"./LayerFloorInfo.js\";\nimport { DataLayerSource as C } from \"./source/DataLayerSource.js\";\nimport { MapLayerSource as A } from \"./source/MapLayerSource.js\";\nimport U from \"../../rest/support/Query.js\";\nimport { createPopupTemplate as R } from \"../../support/popupUtils.js\";\nimport k from \"../../geometry/Extent.js\";\nimport { featureGeometryTypeKebabDictionary as q } from \"../../geometry/support/typeUtils.js\";\nvar $;\n\nfunction J(e) {\n  return e && \"esriSMS\" === e.type;\n}\n\nfunction B(e, r, t) {\n  const i = this.originIdOf(r) >= O(t.origin);\n  return {\n    ignoreOrigin: !0,\n    allowNull: i,\n    enabled: !!t && \"map-image\" === t.layer?.type && (t.writeSublayerStructure || i)\n  };\n}\n\nfunction Q(e, r, t) {\n  return {\n    enabled: !!t && \"tile\" === t.layer?.type && this._isOverridden(r)\n  };\n}\n\nfunction G(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: t && t.writeSublayerStructure || !1\n  };\n}\n\nfunction H(e, r, t) {\n  return {\n    ignoreOrigin: !0,\n    enabled: !!t && (t.writeSublayerStructure || this.originIdOf(r) >= O(t.origin))\n  };\n}\n\nlet K = 0;\nconst W = new Set();\nW.add(\"layer\"), W.add(\"parent\"), W.add(\"loaded\"), W.add(\"loadStatus\"), W.add(\"loadError\"), W.add(\"loadWarnings\");\nlet X = $ = class extends n(f(p(d))) {\n  constructor(e) {\n    super(e), this.capabilities = void 0, this.fields = null, this.fullExtent = null, this.geometryType = null, this.globalIdField = null, this.legendEnabled = !0, this.objectIdField = null, this.popupEnabled = !0, this.popupTemplate = null, this.sourceJSON = null, this.title = null, this.typeIdField = null, this.types = null;\n  }\n\n  async load(e) {\n    return this.addResolvingPromise((async () => {\n      if (!this.layer && !this.url) throw new l(\"sublayer:missing-layer\", \"Sublayer can't be loaded without being part of a layer\", {\n        sublayer: this\n      });\n      let r = null;\n\n      if (!this.layer || this.originIdOf(\"url\") > F.SERVICE || \"data-layer\" === this.source?.type) {\n        r = (await o(this.url, {\n          responseType: \"json\",\n          query: {\n            f: \"json\"\n          },\n          ...e\n        })).data;\n      } else {\n        let t = this.id;\n        \"map-layer\" === this.source?.type && (t = this.source.mapLayerId), r = await this.layer.fetchSublayerInfo(t, e);\n      }\n\n      r && (this.sourceJSON = r, this.read({\n        layerDefinition: r\n      }, {\n        origin: \"service\"\n      }));\n    })()), this;\n  }\n\n  readCapabilities(e, r) {\n    const t = (e = (r = r.layerDefinition || r).capabilities || e) ? e.toLowerCase().split(\",\").map(e => e.trim()) : [],\n          i = this.url ? P(this.url) : null,\n          o = t.includes(c(i) && \"MapServer\" === i.serverType ? \"data\" : \"query\");\n    return {\n      exportMap: {\n        supportsModification: !!r.canModifyLayer\n      },\n      operations: {\n        supportsQuery: o\n      }\n    };\n  }\n\n  set definitionExpression(e) {\n    this._setAndNotifyLayer(\"definitionExpression\", e);\n  }\n\n  get fieldsIndex() {\n    return new T(this.fields || []);\n  }\n\n  set floorInfo(e) {\n    this._setAndNotifyLayer(\"floorInfo\", e);\n  }\n\n  readGlobalIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).globalIdField) return r.globalIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeGlobalID\" === t.type) return t.name;\n  }\n\n  get id() {\n    const e = this._get(\"id\");\n\n    return e ?? K++;\n  }\n\n  set id(e) {\n    this._get(\"id\") !== e && (!1 !== this.get(\"layer.capabilities.exportMap.supportsDynamicLayers\") ? this._set(\"id\", e) : this._logLockedError(\"id\", \"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"));\n  }\n\n  set labelingInfo(e) {\n    this._setAndNotifyLayer(\"labelingInfo\", e);\n  }\n\n  writeLabelingInfo(e, r, t, i) {\n    e && e.length && (r.layerDefinition = {\n      drawingInfo: {\n        labelingInfo: e.map(e => e.write({}, i))\n      }\n    });\n  }\n\n  set labelsVisible(e) {\n    this._setAndNotifyLayer(\"labelsVisible\", e);\n  }\n\n  set layer(e) {\n    this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(r => r.layer = e);\n  }\n\n  set listMode(e) {\n    this._set(\"listMode\", e);\n  }\n\n  set minScale(e) {\n    this._setAndNotifyLayer(\"minScale\", e);\n  }\n\n  readMinScale(e, r) {\n    return r.minScale || r.layerDefinition && r.layerDefinition.minScale || 0;\n  }\n\n  set maxScale(e) {\n    this._setAndNotifyLayer(\"maxScale\", e);\n  }\n\n  readMaxScale(e, r) {\n    return r.maxScale || r.layerDefinition && r.layerDefinition.maxScale || 0;\n  }\n\n  get effectiveScaleRange() {\n    const {\n      minScale: e,\n      maxScale: r\n    } = this;\n    return {\n      minScale: e,\n      maxScale: r\n    };\n  }\n\n  readObjectIdFieldFromService(e, r) {\n    if ((r = r.layerDefinition || r).objectIdField) return r.objectIdField;\n    if (r.fields) for (const t of r.fields) if (\"esriFieldTypeOID\" === t.type) return t.name;\n  }\n\n  set opacity(e) {\n    this._setAndNotifyLayer(\"opacity\", e);\n  }\n\n  readOpacity(e, r) {\n    const t = r.layerDefinition;\n    return 1 - .01 * (null != t.transparency ? t.transparency : t.drawingInfo.transparency);\n  }\n\n  writeOpacity(e, r, t, i) {\n    r.layerDefinition = {\n      drawingInfo: {\n        transparency: 100 - 100 * e\n      }\n    };\n  }\n\n  writeParent(e, r) {\n    this.parent && this.parent !== this.layer ? r.parentLayerId = j(this.parent.id) : r.parentLayerId = -1;\n  }\n\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n\n  set renderer(e) {\n    if (e) for (const r of e.getSymbols()) if (a(r)) {\n      u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");\n      break;\n    }\n\n    this._setAndNotifyLayer(\"renderer\", e);\n  }\n\n  get source() {\n    return this._get(\"source\") || new A({\n      mapLayerId: this.id\n    });\n  }\n\n  set source(e) {\n    this._setAndNotifyLayer(\"source\", e);\n  }\n\n  set sublayers(e) {\n    this._handleSublayersChange(e, this._get(\"sublayers\")), this._set(\"sublayers\", e);\n  }\n\n  castSublayers(e) {\n    return L(s.ofType($), e);\n  }\n\n  writeSublayers(e, r, t) {\n    this.get(\"sublayers.length\") && (r[t] = this.sublayers.map(e => e.id).toArray().reverse());\n  }\n\n  readTypeIdField(e, r) {\n    let t = (r = r.layerDefinition || r).typeIdField;\n\n    if (t && r.fields) {\n      t = t.toLowerCase();\n      const e = r.fields.find(e => e.name.toLowerCase() === t);\n      e && (t = e.name);\n    }\n\n    return t;\n  }\n\n  get url() {\n    const e = this.layer?.parsedUrl ?? this._lastParsedUrl,\n          r = this.source;\n    if (!e) return null;\n    if (this._lastParsedUrl = e, \"map-layer\" === r?.type) return `${e.path}/${r.mapLayerId}`;\n    const t = {\n      layer: JSON.stringify({\n        source: this.source\n      })\n    };\n    return `${e.path}/dynamicLayer?${h(t)}`;\n  }\n\n  set url(e) {\n    this._overrideIfSome(\"url\", e);\n  }\n\n  set visible(e) {\n    this._setAndNotifyLayer(\"visible\", e);\n  }\n\n  writeVisible(e, r, t, i) {\n    r[t] = this.getAtOrigin(\"defaultVisibility\", \"service\") || e;\n  }\n\n  clone() {\n    const {\n      store: e\n    } = g(this),\n          r = new $();\n    return g(r).store = e.clone(W), this.commitProperty(\"url\"), r._lastParsedUrl = this._lastParsedUrl, r;\n  }\n\n  createPopupTemplate(e) {\n    return R(this, e);\n  }\n\n  createQuery() {\n    return new U({\n      returnGeometry: !0,\n      where: this.definitionExpression || \"1=1\"\n    });\n  }\n\n  async createFeatureLayer() {\n    if (this.hasOwnProperty(\"sublayers\")) return null;\n    const e = this.layer?.parsedUrl,\n          r = new (0, (await import(\"../FeatureLayer.js\")).default)({\n      url: e.path\n    });\n    return e && this.source && (\"map-layer\" === this.source.type ? r.layerId = this.source.mapLayerId : r.dynamicDataSource = this.source), null != this.layer.refreshInterval && (r.refreshInterval = this.layer.refreshInterval), this.definitionExpression && (r.definitionExpression = this.definitionExpression), this.floorInfo && (r.floorInfo = y(this.floorInfo)), this.originIdOf(\"labelingInfo\") > F.SERVICE && (r.labelingInfo = y(this.labelingInfo)), this.originIdOf(\"labelsVisible\") > F.DEFAULTS && (r.labelsVisible = this.labelsVisible), this.originIdOf(\"legendEnabled\") > F.DEFAULTS && (r.legendEnabled = this.legendEnabled), this.originIdOf(\"visible\") > F.DEFAULTS && (r.visible = this.visible), this.originIdOf(\"minScale\") > F.DEFAULTS && (r.minScale = this.minScale), this.originIdOf(\"maxScale\") > F.DEFAULTS && (r.maxScale = this.maxScale), this.originIdOf(\"opacity\") > F.DEFAULTS && (r.opacity = this.opacity), this.originIdOf(\"popupTemplate\") > F.DEFAULTS && (r.popupTemplate = y(this.popupTemplate)), this.originIdOf(\"renderer\") > F.SERVICE && (r.renderer = y(this.renderer)), \"data-layer\" === this.source?.type && (r.dynamicDataSource = this.source.clone()), this.originIdOf(\"title\") > F.DEFAULTS && (r.title = this.title), \"map-image\" === this.layer.type && this.layer.originIdOf(\"customParameters\") > F.DEFAULTS && (r.customParameters = this.layer.customParameters), \"tile\" === this.layer.type && this.layer.originIdOf(\"customParameters\") > F.DEFAULTS && (r.customParameters = this.layer.customParameters), r;\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  getFeatureType(e) {\n    const {\n      typeIdField: r,\n      types: t\n    } = this;\n    if (!r || !e) return null;\n    const i = e.attributes ? e.attributes[r] : void 0;\n    if (null == i) return null;\n    let o = null;\n    return t.some(e => {\n      const {\n        id: r\n      } = e;\n      return null != r && (r.toString() === i.toString() && (o = e), !!o);\n    }), o;\n  }\n\n  getFieldDomain(e, r) {\n    const t = r && r.feature,\n          i = this.getFeatureType(t);\n\n    if (i) {\n      const r = i.domains && i.domains[e];\n      if (r && \"inherited\" !== r.type) return r;\n    }\n\n    return this._getLayerDomain(e);\n  }\n\n  async queryFeatures(e = this.createQuery(), r) {\n    if (await this.load(), !this.capabilities?.operations?.supportsQuery) throw new l(\"Sublayer.queryFeatures\", \"this layer doesn't support queries.\");\n    const [{\n      executeQuery: t\n    }, {\n      default: i\n    }] = await Promise.all([import(\"../../rest/query/operations/query.js\"), import(\"../../rest/support/FeatureSet.js\")]),\n          o = await t(this.url, U.from(e), this.layer?.spatialReference ?? null, { ...r,\n      query: { ...this.layer?.customParameters,\n        token: this.layer?.apiKey\n      }\n    }),\n          a = i.fromJSON(o.data);\n    if (a?.features) for (const s of a.features) s.sourceLayer = this;\n    return a;\n  }\n\n  toExportImageJSON(e) {\n    const r = {\n      id: this.id,\n      source: this.source?.toJSON() || {\n        mapLayerId: this.id,\n        type: \"mapLayer\"\n      }\n    },\n          t = m(e, this.definitionExpression);\n    c(t) && (r.definitionExpression = t);\n    const i = [\"renderer\", \"labelingInfo\", \"opacity\", \"labelsVisible\"].reduce((e, r) => (e[r] = this.originIdOf(r), e), {}),\n          o = Object.keys(i).some(e => i[e] > F.SERVICE);\n\n    if (o) {\n      const e = r.drawingInfo = {};\n\n      if (i.renderer > F.SERVICE && (e.renderer = this.renderer ? this.renderer.toJSON() : null), i.labelsVisible > F.SERVICE && (e.showLabels = this.labelsVisible), this.labelsVisible && i.labelingInfo > F.SERVICE) {\n        !this.loaded && this.labelingInfo.some(e => !e.labelPlacement) && u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`, {\n          sublayer: this\n        });\n        let r = this.labelingInfo;\n        c(this.geometryType) && (r = M(this.labelingInfo, q.toJSON(this.geometryType))), e.labelingInfo = r.filter(e => e.labelPlacement).map(e => e.toJSON({\n          origin: \"service\",\n          layer: this.layer\n        })), e.showLabels = !0;\n      }\n\n      i.opacity > F.SERVICE && (e.transparency = 100 - 100 * this.opacity), this._assignDefaultSymbolColors(e.renderer);\n    }\n\n    return r;\n  }\n\n  _assignDefaultSymbolColors(e) {\n    this._forEachSimpleMarkerSymbols(e, e => {\n      e.color || \"esriSMSX\" !== e.style && \"esriSMSCross\" !== e.style || (e.outline && e.outline.color ? e.color = e.outline.color : e.color = [0, 0, 0, 0]);\n    });\n  }\n\n  _forEachSimpleMarkerSymbols(e, r) {\n    if (e) {\n      const t = \"uniqueValueInfos\" in e ? e.uniqueValueInfos : \"classBreakInfos\" in e ? e.classBreakInfos : [];\n\n      for (const e of t) J(e.symbol) && r(e.symbol);\n\n      \"symbol\" in e && J(e.symbol) && r(e.symbol), \"defaultSymbol\" in e && J(e.defaultSymbol) && r(e.defaultSymbol);\n    }\n  }\n\n  _setAndNotifyLayer(e, r) {\n    const t = this.layer,\n          i = this._get(e);\n\n    let o, a;\n\n    switch (e) {\n      case \"definitionExpression\":\n      case \"floorInfo\":\n        o = \"supportsSublayerDefinitionExpression\";\n\n      case \"minScale\":\n      case \"maxScale\":\n      case \"visible\":\n        o = \"supportsSublayerVisibility\";\n        break;\n\n      case \"labelingInfo\":\n      case \"labelsVisible\":\n      case \"opacity\":\n      case \"renderer\":\n      case \"source\":\n        o = \"supportsDynamicLayers\", a = \"supportsModification\";\n    }\n\n    const s = g(this).getDefaultOrigin();\n\n    if (\"service\" !== s) {\n      if (o && !1 === this.get(`layer.capabilities.exportMap.${o}`)) return void this._logLockedError(e, `capability not available 'layer.capabilities.exportMap.${o}'`);\n      if (a && !1 === this.get(`capabilities.exportMap.${a}`)) return void this._logLockedError(e, `capability not available 'capabilities.exportMap.${a}'`);\n    }\n\n    \"source\" !== e || \"not-loaded\" === this.loadStatus ? (this._set(e, r), \"service\" !== s && i !== r && t && t.emit && t.emit(\"sublayer-update\", {\n      propertyName: e,\n      target: this\n    })) : this._logLockedError(e, \"'source' can't be changed after calling sublayer.load()\");\n  }\n\n  _handleSublayersChange(e, r) {\n    r && (r.forEach(e => {\n      e.parent = null, e.layer = null;\n    }), this.handles.removeAll()), e && (e.forEach(e => {\n      e.parent = this, e.layer = this.layer;\n    }), this.handles.add([e.on(\"after-add\", ({\n      item: e\n    }) => {\n      e.parent = this, e.layer = this.layer;\n    }), e.on(\"after-remove\", ({\n      item: e\n    }) => {\n      e.parent = null, e.layer = null;\n    }), e.on(\"before-changes\", e => {\n      const r = this.get(\"layer.capabilities.exportMap.supportsSublayersChanges\");\n      null == r || r || (u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\", \"Sublayer can't be added, moved, or removed from the layer's sublayers\", {\n        sublayer: this,\n        layer: this.layer\n      })), e.preventDefault());\n    })]));\n  }\n\n  _logLockedError(e, r) {\n    u.getLogger(this.declaredClass).error(new l(\"sublayer:locked\", `Property '${String(e)}' can't be changed on Sublayer from the layer '${this.layer.id}'`, {\n      reason: r,\n      sublayer: this,\n      layer: this.layer\n    }));\n  }\n\n  _getLayerDomain(e) {\n    const r = this.fieldsIndex.get(e);\n    return r ? r.domain : null;\n  }\n\n};\nX.test = {\n  isMapImageLayerOverridePolicy: e => e === G || e === B,\n  isTileImageLayerOverridePolicy: e => e === Q\n}, e([b({\n  readOnly: !0\n})], X.prototype, \"capabilities\", void 0), e([I(\"service\", \"capabilities\", [\"layerDefinition.canModifyLayer\", \"layerDefinition.capabilities\"])], X.prototype, \"readCapabilities\", null), e([b({\n  type: String,\n  value: null,\n  json: {\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      allowNull: !0,\n      overridePolicy: B\n    }\n  }\n})], X.prototype, \"definitionExpression\", null), e([b({\n  type: [_],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.fields\"\n        }\n      }\n    }\n  }\n})], X.prototype, \"fields\", void 0), e([b({\n  readOnly: !0\n})], X.prototype, \"fieldsIndex\", null), e([b({\n  type: V,\n  value: null,\n  json: {\n    name: \"layerDefinition.floorInfo\",\n    read: {\n      source: \"layerDefinition.floorInfo\"\n    },\n    write: {\n      target: \"layerDefinition.floorInfo\",\n      overridePolicy: B\n    },\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], X.prototype, \"floorInfo\", null), e([b({\n  type: k,\n  json: {\n    read: {\n      source: \"layerDefinition.extent\"\n    }\n  }\n})], X.prototype, \"fullExtent\", void 0), e([b({\n  type: q.apiValues,\n  json: {\n    origins: {\n      service: {\n        name: \"layerDefinition.geometryType\",\n        read: {\n          reader: q.read\n        }\n      }\n    }\n  }\n})], X.prototype, \"geometryType\", void 0), e([b({\n  type: String\n})], X.prototype, \"globalIdField\", void 0), e([I(\"service\", \"globalIdField\", [\"layerDefinition.globalIdField\", \"layerDefinition.fields\"])], X.prototype, \"readGlobalIdFieldFromService\", null), e([b({\n  type: D,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], X.prototype, \"id\", null), e([b({\n  value: null,\n  type: [N],\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.labelingInfo\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.labelingInfo\",\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"labelingInfo\", null), e([w(\"labelingInfo\")], X.prototype, \"writeLabelingInfo\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"layerDefinition.drawingInfo.showLabels\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.showLabels\",\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"labelsVisible\", null), e([b({\n  value: null\n})], X.prototype, \"layer\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    origins: {\n      service: {\n        read: {\n          enabled: !1\n        }\n      }\n    },\n    read: {\n      source: \"showLegend\"\n    },\n    write: {\n      target: \"showLegend\",\n      overridePolicy: H\n    }\n  }\n})], X.prototype, \"legendEnabled\", void 0), e([b({\n  type: [\"show\", \"hide\", \"hide-children\"],\n  value: \"show\",\n  json: {\n    read: !1,\n    write: !1,\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    }\n  }\n})], X.prototype, \"listMode\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"minScale\", null), e([I(\"minScale\", [\"minScale\", \"layerDefinition.minScale\"])], X.prototype, \"readMinScale\", null), e([b({\n  type: Number,\n  value: 0,\n  json: {\n    write: {\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"maxScale\", null), e([I(\"maxScale\", [\"maxScale\", \"layerDefinition.maxScale\"])], X.prototype, \"readMaxScale\", null), e([b({\n  readOnly: !0\n})], X.prototype, \"effectiveScaleRange\", null), e([b({\n  type: String\n})], X.prototype, \"objectIdField\", void 0), e([I(\"service\", \"objectIdField\", [\"layerDefinition.objectIdField\", \"layerDefinition.fields\"])], X.prototype, \"readObjectIdFieldFromService\", null), e([b({\n  type: Number,\n  value: 1,\n  json: {\n    write: {\n      target: \"layerDefinition.drawingInfo.transparency\",\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"opacity\", null), e([I(\"opacity\", [\"layerDefinition.drawingInfo.transparency\", \"layerDefinition.transparency\"])], X.prototype, \"readOpacity\", null), e([w(\"opacity\")], X.prototype, \"writeOpacity\", null), e([b({\n  json: {\n    type: D,\n    write: {\n      target: \"parentLayerId\",\n      writerEnsuresNonNull: !0,\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"parent\", void 0), e([w(\"parent\")], X.prototype, \"writeParent\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"disablePopup\",\n      reader: (e, r) => !r.disablePopup\n    },\n    write: {\n      target: \"disablePopup\",\n      overridePolicy: H,\n\n      writer(e, r, t) {\n        r[t] = !e;\n      }\n\n    }\n  }\n})], X.prototype, \"popupEnabled\", void 0), e([b({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\",\n      overridePolicy: H\n    }\n  }\n})], X.prototype, \"popupTemplate\", void 0), e([b({\n  readOnly: !0\n})], X.prototype, \"defaultPopupTemplate\", null), e([b({\n  types: t,\n  value: null,\n  json: {\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: {\n      overridePolicy: G\n    },\n    origins: {\n      \"web-scene\": {\n        types: i,\n        name: \"layerDefinition.drawingInfo.renderer\",\n        write: {\n          overridePolicy: G\n        }\n      }\n    }\n  }\n})], X.prototype, \"renderer\", null), e([b({\n  types: {\n    key: \"type\",\n    base: null,\n    typeMap: {\n      \"data-layer\": C,\n      \"map-layer\": A\n    }\n  },\n\n  cast(e) {\n    if (e) {\n      if (\"mapLayerId\" in e) return E(A, e);\n      if (\"dataSource\" in e) return E(C, e);\n    }\n\n    return e;\n  },\n\n  json: {\n    name: \"layerDefinition.source\",\n    write: {\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"source\", null), e([b()], X.prototype, \"sourceJSON\", void 0), e([b({\n  value: null,\n  json: {\n    type: [D],\n    write: {\n      target: \"subLayerIds\",\n      allowNull: !0,\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"sublayers\", null), e([S(\"sublayers\")], X.prototype, \"castSublayers\", null), e([w(\"sublayers\")], X.prototype, \"writeSublayers\", null), e([b({\n  type: String,\n  json: {\n    name: \"name\",\n    write: {\n      overridePolicy: H\n    }\n  }\n})], X.prototype, \"title\", void 0), e([b({\n  type: String\n})], X.prototype, \"typeIdField\", void 0), e([I(\"typeIdField\", [\"layerDefinition.typeIdField\"])], X.prototype, \"readTypeIdField\", null), e([b({\n  type: [x],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.types\"\n        }\n      }\n    }\n  }\n})], X.prototype, \"types\", void 0), e([b({\n  type: String,\n  json: {\n    read: {\n      source: \"layerUrl\"\n    },\n    write: {\n      target: \"layerUrl\",\n      overridePolicy: Q\n    }\n  }\n})], X.prototype, \"url\", null), e([b({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"defaultVisibility\"\n    },\n    write: {\n      target: \"defaultVisibility\",\n      overridePolicy: G\n    }\n  }\n})], X.prototype, \"visible\", null), e([w(\"visible\")], X.prototype, \"writeVisible\", null), X = $ = e([v(\"esri.layers.support.Sublayer\")], X);\nconst z = X;\nexport { z as default };","map":{"version":3,"names":["_","e","r","rendererTypes","t","webSceneRendererTypes","i","o","isSymbol3D","a","s","l","HandleOwnerMixin","n","IdentifiableMixin","p","clone","y","d","u","isSome","c","MultiOriginJSONMixin","f","sqlAnd","m","objectToQuery","h","property","b","getProperties","g","cast","S","reader","I","subclass","v","writer","w","ensureInteger","j","ensureType","L","Integer","D","ensureClass","E","OriginId","F","nameToId","O","parse","P","x","T","N","validateLabelingInfo","M","V","DataLayerSource","C","MapLayerSource","A","U","createPopupTemplate","R","k","featureGeometryTypeKebabDictionary","q","$","J","type","B","originIdOf","origin","ignoreOrigin","allowNull","enabled","layer","writeSublayerStructure","Q","_isOverridden","G","H","K","W","Set","add","X","constructor","capabilities","fields","fullExtent","geometryType","globalIdField","legendEnabled","objectIdField","popupEnabled","popupTemplate","sourceJSON","title","typeIdField","types","load","addResolvingPromise","url","sublayer","SERVICE","source","responseType","query","data","id","mapLayerId","fetchSublayerInfo","read","layerDefinition","readCapabilities","toLowerCase","split","map","trim","includes","serverType","exportMap","supportsModification","canModifyLayer","operations","supportsQuery","definitionExpression","_setAndNotifyLayer","fieldsIndex","floorInfo","readGlobalIdFieldFromService","name","_get","get","_set","_logLockedError","labelingInfo","writeLabelingInfo","length","drawingInfo","write","labelsVisible","sublayers","forEach","listMode","minScale","readMinScale","maxScale","readMaxScale","effectiveScaleRange","readObjectIdFieldFromService","opacity","readOpacity","transparency","writeOpacity","writeParent","parent","parentLayerId","defaultPopupTemplate","renderer","getSymbols","getLogger","declaredClass","warn","_handleSublayersChange","castSublayers","ofType","writeSublayers","toArray","reverse","readTypeIdField","find","parsedUrl","_lastParsedUrl","path","JSON","stringify","_overrideIfSome","visible","writeVisible","getAtOrigin","store","commitProperty","createQuery","returnGeometry","where","createFeatureLayer","hasOwnProperty","default","layerId","dynamicDataSource","refreshInterval","DEFAULTS","customParameters","getField","getFeatureType","attributes","some","toString","getFieldDomain","feature","domains","_getLayerDomain","queryFeatures","executeQuery","Promise","all","from","spatialReference","token","apiKey","fromJSON","features","sourceLayer","toExportImageJSON","toJSON","reduce","Object","keys","showLabels","loaded","labelPlacement","warnOnce","filter","_assignDefaultSymbolColors","_forEachSimpleMarkerSymbols","color","style","outline","uniqueValueInfos","classBreakInfos","symbol","defaultSymbol","getDefaultOrigin","loadStatus","emit","propertyName","target","handles","removeAll","on","item","error","preventDefault","String","reason","domain","test","isMapImageLayerOverridePolicy","isTileImageLayerOverridePolicy","readOnly","prototype","value","json","overridePolicy","origins","service","apiValues","Boolean","Number","writerEnsuresNonNull","disablePopup","key","base","typeMap","z"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/Sublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../../renderers/support/types.js\";import o from\"../../request.js\";import{isSymbol3D as a}from\"../../symbols.js\";import s from\"../../core/Collection.js\";import l from\"../../core/Error.js\";import{HandleOwnerMixin as n}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as p}from\"../../core/Identifiable.js\";import{clone as y}from\"../../core/lang.js\";import d from\"../../core/Loadable.js\";import u from\"../../core/Logger.js\";import{isSome as c}from\"../../core/maybe.js\";import{MultiOriginJSONMixin as f}from\"../../core/MultiOriginJSONSupport.js\";import{sqlAnd as m}from\"../../core/sql.js\";import{objectToQuery as h}from\"../../core/urlUtils.js\";import{property as b}from\"../../core/accessorSupport/decorators/property.js\";import{getProperties as g}from\"../../core/accessorSupport/utils.js\";import{cast as S}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as I}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as v}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as w}from\"../../core/accessorSupport/decorators/writer.js\";import{ensureInteger as j,ensureType as L,Integer as D,ensureClass as E}from\"../../core/accessorSupport/ensureType.js\";import{OriginId as F,nameToId as O}from\"../../core/accessorSupport/PropertyOrigin.js\";import{parse as P}from\"./arcgisLayerUrl.js\";import x from\"./FeatureType.js\";import _ from\"./Field.js\";import T from\"./FieldsIndex.js\";import N from\"./LabelClass.js\";import{validateLabelingInfo as M}from\"./labelingInfo.js\";import V from\"./LayerFloorInfo.js\";import{DataLayerSource as C}from\"./source/DataLayerSource.js\";import{MapLayerSource as A}from\"./source/MapLayerSource.js\";import U from\"../../rest/support/Query.js\";import{createPopupTemplate as R}from\"../../support/popupUtils.js\";import k from\"../../geometry/Extent.js\";import{featureGeometryTypeKebabDictionary as q}from\"../../geometry/support/typeUtils.js\";var $;function J(e){return e&&\"esriSMS\"===e.type}function B(e,r,t){const i=this.originIdOf(r)>=O(t.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!t&&(\"map-image\"===t.layer?.type&&(t.writeSublayerStructure||i))}}function Q(e,r,t){return{enabled:!!t&&(\"tile\"===t.layer?.type&&this._isOverridden(r))}}function G(e,r,t){return{ignoreOrigin:!0,enabled:t&&t.writeSublayerStructure||!1}}function H(e,r,t){return{ignoreOrigin:!0,enabled:!!t&&(t.writeSublayerStructure||this.originIdOf(r)>=O(t.origin))}}let K=0;const W=new Set;W.add(\"layer\"),W.add(\"parent\"),W.add(\"loaded\"),W.add(\"loadStatus\"),W.add(\"loadError\"),W.add(\"loadWarnings\");let X=$=class extends(n(f(p(d)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null}async load(e){return this.addResolvingPromise((async()=>{if(!this.layer&&!this.url)throw new l(\"sublayer:missing-layer\",\"Sublayer can't be loaded without being part of a layer\",{sublayer:this});let r=null;if(!this.layer||this.originIdOf(\"url\")>F.SERVICE||\"data-layer\"===this.source?.type){r=(await o(this.url,{responseType:\"json\",query:{f:\"json\"},...e})).data}else{let t=this.id;\"map-layer\"===this.source?.type&&(t=this.source.mapLayerId),r=await this.layer.fetchSublayerInfo(t,e)}r&&(this.sourceJSON=r,this.read({layerDefinition:r},{origin:\"service\"}))})()),this}readCapabilities(e,r){const t=(e=(r=r.layerDefinition||r).capabilities||e)?e.toLowerCase().split(\",\").map((e=>e.trim())):[],i=this.url?P(this.url):null,o=t.includes(c(i)&&\"MapServer\"===i.serverType?\"data\":\"query\");return{exportMap:{supportsModification:!!r.canModifyLayer},operations:{supportsQuery:o}}}set definitionExpression(e){this._setAndNotifyLayer(\"definitionExpression\",e)}get fieldsIndex(){return new T(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer(\"floorInfo\",e)}readGlobalIdFieldFromService(e,r){if((r=r.layerDefinition||r).globalIdField)return r.globalIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeGlobalID\"===t.type)return t.name}get id(){const e=this._get(\"id\");return e??K++}set id(e){this._get(\"id\")!==e&&(!1!==this.get(\"layer.capabilities.exportMap.supportsDynamicLayers\")?this._set(\"id\",e):this._logLockedError(\"id\",\"capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'\"))}set labelingInfo(e){this._setAndNotifyLayer(\"labelingInfo\",e)}writeLabelingInfo(e,r,t,i){e&&e.length&&(r.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer(\"labelsVisible\",e)}set layer(e){this._set(\"layer\",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}set listMode(e){this._set(\"listMode\",e)}set minScale(e){this._setAndNotifyLayer(\"minScale\",e)}readMinScale(e,r){return r.minScale||r.layerDefinition&&r.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer(\"maxScale\",e)}readMaxScale(e,r){return r.maxScale||r.layerDefinition&&r.layerDefinition.maxScale||0}get effectiveScaleRange(){const{minScale:e,maxScale:r}=this;return{minScale:e,maxScale:r}}readObjectIdFieldFromService(e,r){if((r=r.layerDefinition||r).objectIdField)return r.objectIdField;if(r.fields)for(const t of r.fields)if(\"esriFieldTypeOID\"===t.type)return t.name}set opacity(e){this._setAndNotifyLayer(\"opacity\",e)}readOpacity(e,r){const t=r.layerDefinition;return 1-.01*(null!=t.transparency?t.transparency:t.drawingInfo.transparency)}writeOpacity(e,r,t,i){r.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,r){this.parent&&this.parent!==this.layer?r.parentLayerId=j(this.parent.id):r.parentLayerId=-1}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){if(e)for(const r of e.getSymbols())if(a(r)){u.getLogger(this.declaredClass).warn(\"Sublayer renderer should use 2D symbols\");break}this._setAndNotifyLayer(\"renderer\",e)}get source(){return this._get(\"source\")||new A({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer(\"source\",e)}set sublayers(e){this._handleSublayersChange(e,this._get(\"sublayers\")),this._set(\"sublayers\",e)}castSublayers(e){return L(s.ofType($),e)}writeSublayers(e,r,t){this.get(\"sublayers.length\")&&(r[t]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,r){let t=(r=r.layerDefinition||r).typeIdField;if(t&&r.fields){t=t.toLowerCase();const e=r.fields.find((e=>e.name.toLowerCase()===t));e&&(t=e.name)}return t}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,r=this.source;if(!e)return null;if(this._lastParsedUrl=e,\"map-layer\"===r?.type)return`${e.path}/${r.mapLayerId}`;const t={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${h(t)}`}set url(e){this._overrideIfSome(\"url\",e)}set visible(e){this._setAndNotifyLayer(\"visible\",e)}writeVisible(e,r,t,i){r[t]=this.getAtOrigin(\"defaultVisibility\",\"service\")||e}clone(){const{store:e}=g(this),r=new $;return g(r).store=e.clone(W),this.commitProperty(\"url\"),r._lastParsedUrl=this._lastParsedUrl,r}createPopupTemplate(e){return R(this,e)}createQuery(){return new U({returnGeometry:!0,where:this.definitionExpression||\"1=1\"})}async createFeatureLayer(){if(this.hasOwnProperty(\"sublayers\"))return null;const e=this.layer?.parsedUrl,r=new(0,(await import(\"../FeatureLayer.js\")).default)({url:e.path});return e&&this.source&&(\"map-layer\"===this.source.type?r.layerId=this.source.mapLayerId:r.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(r.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(r.definitionExpression=this.definitionExpression),this.floorInfo&&(r.floorInfo=y(this.floorInfo)),this.originIdOf(\"labelingInfo\")>F.SERVICE&&(r.labelingInfo=y(this.labelingInfo)),this.originIdOf(\"labelsVisible\")>F.DEFAULTS&&(r.labelsVisible=this.labelsVisible),this.originIdOf(\"legendEnabled\")>F.DEFAULTS&&(r.legendEnabled=this.legendEnabled),this.originIdOf(\"visible\")>F.DEFAULTS&&(r.visible=this.visible),this.originIdOf(\"minScale\")>F.DEFAULTS&&(r.minScale=this.minScale),this.originIdOf(\"maxScale\")>F.DEFAULTS&&(r.maxScale=this.maxScale),this.originIdOf(\"opacity\")>F.DEFAULTS&&(r.opacity=this.opacity),this.originIdOf(\"popupTemplate\")>F.DEFAULTS&&(r.popupTemplate=y(this.popupTemplate)),this.originIdOf(\"renderer\")>F.SERVICE&&(r.renderer=y(this.renderer)),\"data-layer\"===this.source?.type&&(r.dynamicDataSource=this.source.clone()),this.originIdOf(\"title\")>F.DEFAULTS&&(r.title=this.title),\"map-image\"===this.layer.type&&this.layer.originIdOf(\"customParameters\")>F.DEFAULTS&&(r.customParameters=this.layer.customParameters),\"tile\"===this.layer.type&&this.layer.originIdOf(\"customParameters\")>F.DEFAULTS&&(r.customParameters=this.layer.customParameters),r}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){const{typeIdField:r,types:t}=this;if(!r||!e)return null;const i=e.attributes?e.attributes[r]:void 0;if(null==i)return null;let o=null;return t.some((e=>{const{id:r}=e;return null!=r&&(r.toString()===i.toString()&&(o=e),!!o)})),o}getFieldDomain(e,r){const t=r&&r.feature,i=this.getFeatureType(t);if(i){const r=i.domains&&i.domains[e];if(r&&\"inherited\"!==r.type)return r}return this._getLayerDomain(e)}async queryFeatures(e=this.createQuery(),r){if(await this.load(),!this.capabilities?.operations?.supportsQuery)throw new l(\"Sublayer.queryFeatures\",\"this layer doesn't support queries.\");const[{executeQuery:t},{default:i}]=await Promise.all([import(\"../../rest/query/operations/query.js\"),import(\"../../rest/support/FeatureSet.js\")]),o=await t(this.url,U.from(e),this.layer?.spatialReference??null,{...r,query:{...this.layer?.customParameters,token:this.layer?.apiKey}}),a=i.fromJSON(o.data);if(a?.features)for(const s of a.features)s.sourceLayer=this;return a}toExportImageJSON(e){const r={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:\"mapLayer\"}},t=m(e,this.definitionExpression);c(t)&&(r.definitionExpression=t);const i=[\"renderer\",\"labelingInfo\",\"opacity\",\"labelsVisible\"].reduce(((e,r)=>(e[r]=this.originIdOf(r),e)),{}),o=Object.keys(i).some((e=>i[e]>F.SERVICE));if(o){const e=r.drawingInfo={};if(i.renderer>F.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>F.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>F.SERVICE){!this.loaded&&this.labelingInfo.some((e=>!e.labelPlacement))&&u.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let r=this.labelingInfo;c(this.geometryType)&&(r=M(this.labelingInfo,q.toJSON(this.geometryType))),e.labelingInfo=r.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:\"service\",layer:this.layer}))),e.showLabels=!0}i.opacity>F.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return r}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||\"esriSMSX\"!==e.style&&\"esriSMSCross\"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,r){if(e){const t=\"uniqueValueInfos\"in e?e.uniqueValueInfos:\"classBreakInfos\"in e?e.classBreakInfos:[];for(const e of t)J(e.symbol)&&r(e.symbol);\"symbol\"in e&&J(e.symbol)&&r(e.symbol),\"defaultSymbol\"in e&&J(e.defaultSymbol)&&r(e.defaultSymbol)}}_setAndNotifyLayer(e,r){const t=this.layer,i=this._get(e);let o,a;switch(e){case\"definitionExpression\":case\"floorInfo\":o=\"supportsSublayerDefinitionExpression\";case\"minScale\":case\"maxScale\":case\"visible\":o=\"supportsSublayerVisibility\";break;case\"labelingInfo\":case\"labelsVisible\":case\"opacity\":case\"renderer\":case\"source\":o=\"supportsDynamicLayers\",a=\"supportsModification\"}const s=g(this).getDefaultOrigin();if(\"service\"!==s){if(o&&!1===this.get(`layer.capabilities.exportMap.${o}`))return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${o}'`);if(a&&!1===this.get(`capabilities.exportMap.${a}`))return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${a}'`)}\"source\"!==e||\"not-loaded\"===this.loadStatus?(this._set(e,r),\"service\"!==s&&i!==r&&t&&t.emit&&t.emit(\"sublayer-update\",{propertyName:e,target:this})):this._logLockedError(e,\"'source' can't be changed after calling sublayer.load()\")}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on(\"after-add\",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on(\"after-remove\",(({item:e})=>{e.parent=null,e.layer=null})),e.on(\"before-changes\",(e=>{const r=this.get(\"layer.capabilities.exportMap.supportsSublayersChanges\");null==r||r||(u.getLogger(this.declaredClass).error(new l(\"sublayer:sublayers-non-modifiable\",\"Sublayer can't be added, moved, or removed from the layer's sublayers\",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,r){u.getLogger(this.declaredClass).error(new l(\"sublayer:locked\",`Property '${String(e)}' can't be changed on Sublayer from the layer '${this.layer.id}'`,{reason:r,sublayer:this,layer:this.layer}))}_getLayerDomain(e){const r=this.fieldsIndex.get(e);return r?r.domain:null}};X.test={isMapImageLayerOverridePolicy:e=>e===G||e===B,isTileImageLayerOverridePolicy:e=>e===Q},e([b({readOnly:!0})],X.prototype,\"capabilities\",void 0),e([I(\"service\",\"capabilities\",[\"layerDefinition.canModifyLayer\",\"layerDefinition.capabilities\"])],X.prototype,\"readCapabilities\",null),e([b({type:String,value:null,json:{name:\"layerDefinition.definitionExpression\",write:{allowNull:!0,overridePolicy:B}}})],X.prototype,\"definitionExpression\",null),e([b({type:[_],json:{origins:{service:{read:{source:\"layerDefinition.fields\"}}}}})],X.prototype,\"fields\",void 0),e([b({readOnly:!0})],X.prototype,\"fieldsIndex\",null),e([b({type:V,value:null,json:{name:\"layerDefinition.floorInfo\",read:{source:\"layerDefinition.floorInfo\"},write:{target:\"layerDefinition.floorInfo\",overridePolicy:B},origins:{\"web-scene\":{read:!1,write:!1}}}})],X.prototype,\"floorInfo\",null),e([b({type:k,json:{read:{source:\"layerDefinition.extent\"}}})],X.prototype,\"fullExtent\",void 0),e([b({type:q.apiValues,json:{origins:{service:{name:\"layerDefinition.geometryType\",read:{reader:q.read}}}}})],X.prototype,\"geometryType\",void 0),e([b({type:String})],X.prototype,\"globalIdField\",void 0),e([I(\"service\",\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"])],X.prototype,\"readGlobalIdFieldFromService\",null),e([b({type:D,json:{write:{ignoreOrigin:!0}}})],X.prototype,\"id\",null),e([b({value:null,type:[N],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\"},write:{target:\"layerDefinition.drawingInfo.labelingInfo\",overridePolicy:G}}})],X.prototype,\"labelingInfo\",null),e([w(\"labelingInfo\")],X.prototype,\"writeLabelingInfo\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"layerDefinition.drawingInfo.showLabels\"},write:{target:\"layerDefinition.drawingInfo.showLabels\",overridePolicy:G}}})],X.prototype,\"labelsVisible\",null),e([b({value:null})],X.prototype,\"layer\",null),e([b({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:\"showLegend\"},write:{target:\"showLegend\",overridePolicy:H}}})],X.prototype,\"legendEnabled\",void 0),e([b({type:[\"show\",\"hide\",\"hide-children\"],value:\"show\",json:{read:!1,write:!1,origins:{\"web-scene\":{read:!0,write:!0}}}})],X.prototype,\"listMode\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:G}}})],X.prototype,\"minScale\",null),e([I(\"minScale\",[\"minScale\",\"layerDefinition.minScale\"])],X.prototype,\"readMinScale\",null),e([b({type:Number,value:0,json:{write:{overridePolicy:G}}})],X.prototype,\"maxScale\",null),e([I(\"maxScale\",[\"maxScale\",\"layerDefinition.maxScale\"])],X.prototype,\"readMaxScale\",null),e([b({readOnly:!0})],X.prototype,\"effectiveScaleRange\",null),e([b({type:String})],X.prototype,\"objectIdField\",void 0),e([I(\"service\",\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"])],X.prototype,\"readObjectIdFieldFromService\",null),e([b({type:Number,value:1,json:{write:{target:\"layerDefinition.drawingInfo.transparency\",overridePolicy:G}}})],X.prototype,\"opacity\",null),e([I(\"opacity\",[\"layerDefinition.drawingInfo.transparency\",\"layerDefinition.transparency\"])],X.prototype,\"readOpacity\",null),e([w(\"opacity\")],X.prototype,\"writeOpacity\",null),e([b({json:{type:D,write:{target:\"parentLayerId\",writerEnsuresNonNull:!0,overridePolicy:G}}})],X.prototype,\"parent\",void 0),e([w(\"parent\")],X.prototype,\"writeParent\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:H,writer(e,r,t){r[t]=!e}}}})],X.prototype,\"popupEnabled\",void 0),e([b({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:H}}})],X.prototype,\"popupTemplate\",void 0),e([b({readOnly:!0})],X.prototype,\"defaultPopupTemplate\",null),e([b({types:t,value:null,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:G},origins:{\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:G}}}}})],X.prototype,\"renderer\",null),e([b({types:{key:\"type\",base:null,typeMap:{\"data-layer\":C,\"map-layer\":A}},cast(e){if(e){if(\"mapLayerId\"in e)return E(A,e);if(\"dataSource\"in e)return E(C,e)}return e},json:{name:\"layerDefinition.source\",write:{overridePolicy:G}}})],X.prototype,\"source\",null),e([b()],X.prototype,\"sourceJSON\",void 0),e([b({value:null,json:{type:[D],write:{target:\"subLayerIds\",allowNull:!0,overridePolicy:G}}})],X.prototype,\"sublayers\",null),e([S(\"sublayers\")],X.prototype,\"castSublayers\",null),e([w(\"sublayers\")],X.prototype,\"writeSublayers\",null),e([b({type:String,json:{name:\"name\",write:{overridePolicy:H}}})],X.prototype,\"title\",void 0),e([b({type:String})],X.prototype,\"typeIdField\",void 0),e([I(\"typeIdField\",[\"layerDefinition.typeIdField\"])],X.prototype,\"readTypeIdField\",null),e([b({type:[x],json:{origins:{service:{read:{source:\"layerDefinition.types\"}}}}})],X.prototype,\"types\",void 0),e([b({type:String,json:{read:{source:\"layerUrl\"},write:{target:\"layerUrl\",overridePolicy:Q}}})],X.prototype,\"url\",null),e([b({type:Boolean,value:!0,json:{read:{source:\"defaultVisibility\"},write:{target:\"defaultVisibility\",overridePolicy:G}}})],X.prototype,\"visible\",null),e([w(\"visible\")],X.prototype,\"writeVisible\",null),X=$=e([v(\"esri.layers.support.Sublayer\")],X);const z=X;export{z as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}