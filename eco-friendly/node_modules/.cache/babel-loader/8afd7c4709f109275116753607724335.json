{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isSome as e } from \"../../../core/maybe.js\";\nimport { isSameTagIgnoreNS as t, getElementValue as n, getElements as r, getElement as s, getElementNumericValue as a, getElementNumericValues as i } from \"./xmlUtilities.js\";\nimport l from \"../rasterTransforms/PolynomialTransform.js\";\nimport o from \"../../../geometry/SpatialReference.js\";\n\nfunction f(e, t) {\n  if (!e || !t) return null;\n  const n = [];\n\n  for (let r = 0; r < e.length; r++) n.push(e[r]), n.push(t[r]);\n\n  return n;\n}\n\nfunction u(e) {\n  const t = s(e, \"GeodataXform\"),\n        r = m(a(t, \"SpatialReference/WKID\") || n(t, \"SpatialReference/WKT\"));\n  if (\"typens:PolynomialXform\" !== t.getAttribute(\"xsi:type\")) return {\n    spatialReference: r,\n    transform: null\n  };\n  const o = a(t, \"PolynomialOrder\") ?? 1,\n        u = i(t, \"CoeffX/Double\"),\n        c = i(t, \"CoeffY/Double\"),\n        d = i(t, \"InverseCoeffX/Double\"),\n        p = i(t, \"InverseCoeffY/Double\"),\n        S = f(u, c),\n        C = f(d, p);\n  return {\n    spatialReference: r,\n    transform: S && C && S.length && C.length ? new l({\n      spatialReference: r,\n      polynomialOrder: o,\n      forwardCoefficients: S,\n      inverseCoefficients: C\n    }) : null\n  };\n}\n\nfunction c(e) {\n  const t = a(e, \"NoDataValue\"),\n        i = s(e, \"Histograms/HistItem\"),\n        l = a(i, \"HistMin\"),\n        o = a(i, \"HistMax\"),\n        f = a(i, \"BucketCount\"),\n        u = n(i, \"HistCounts\")?.split(\"|\").map(e => Number(e));\n  let c, m, d, p;\n  r(e, \"Metadata/MDI\").forEach(e => {\n    const t = Number(e.textContent ?? e.nodeValue);\n\n    switch (e.getAttribute(\"key\").toUpperCase()) {\n      case \"STATISTICS_MINIMUM\":\n        c = t;\n        break;\n\n      case \"STATISTICS_MAXIMUM\":\n        m = t;\n        break;\n\n      case \"STATISTICS_MEAN\":\n        d = t;\n        break;\n\n      case \"STATISTICS_STDDEV\":\n        p = t;\n    }\n  });\n  const S = a(e, \"Metadata/SourceBandIndex\");\n  return {\n    noDataValue: t,\n    histogram: u?.length && null != l && null != o ? {\n      min: l,\n      max: o,\n      size: f || u.length,\n      counts: u\n    } : null,\n    sourceBandIndex: S,\n    statistics: null != c && null != m ? {\n      min: c,\n      max: m,\n      avg: d,\n      stddev: p\n    } : null\n  };\n}\n\nfunction m(e) {\n  if (!e) return null;\n  let t = Number(e);\n  if (!isNaN(t) && 0 !== t) return new o({\n    wkid: t\n  });\n\n  if ((e = String(e)).startsWith(\"COMPD_CS\")) {\n    if (!e.includes(\"VERTCS\") || !e.includes(\"GEOGCS\") && !e.startsWith(\"PROJCS\")) return null;\n    const n = e.indexOf(\"VERTCS\"),\n          r = e.indexOf(\"PROJCS\"),\n          s = r > -1 ? r : e.indexOf(\"GEOGCS\");\n    if (-1 === s) return null;\n    const a = e.slice(s, e.lastIndexOf(\"]\", n) + 1).trim(),\n          i = e.slice(n, e.lastIndexOf(\"]\")).trim();\n    t = d(a);\n    const l = new o(t ? {\n      wkid: t\n    } : {\n      wkt: a\n    }),\n          f = d(i);\n    return f && (l.vcsWkid = f), l;\n  }\n\n  return e.startsWith(\"GEOGCS\") || e.startsWith(\"PROJCS\") ? (t = d(e), new o(0 !== t ? {\n    wkid: t\n  } : {\n    wkt: e\n  })) : null;\n}\n\nfunction d(e) {\n  const t = e.replace(/\\]/g, \"[\").replace(/\\\"/g, \"\").split(\"[\").map(e => e.trim()).filter(e => \"\" !== e),\n        n = t[t.length - 1].split(\",\"),\n        r = n[0]?.toLowerCase();\n\n  if ((\"epsg\" === r || \"esri\" === r) && e.endsWith('\"]]')) {\n    const e = Number(n[1]);\n    if (!isNaN(e) && 0 !== e) return e;\n  }\n\n  return 0;\n}\n\nfunction p(s) {\n  if (\"pamdataset\" !== s?.documentElement.tagName?.toLowerCase()) return {};\n  const a = {\n    spatialReference: null,\n    transform: null,\n    metadata: {},\n    rasterBands: [],\n    statistics: null,\n    histograms: null\n  };\n  s.documentElement.childNodes.forEach(e => {\n    if (1 === e.nodeType) if (t(e, \"SRS\")) {\n      if (!a.spatialReference) {\n        const t = n(e);\n        a.spatialReference = m(t);\n      }\n    } else if (t(e, \"Metadata\")) {\n      if (\"xml:ESRI\" === e.getAttribute(\"domain\")) {\n        const {\n          spatialReference: t,\n          transform: n\n        } = u(e);\n        a.transform = n, a.spatialReference || (a.spatialReference = t);\n      } else {\n        r(e, \"MDI\").forEach(e => a.metadata[e.getAttribute(\"key\")] = n(e));\n      }\n    } else if (t(e, \"PAMRasterBand\")) {\n      const t = c(e);\n      null != t.sourceBandIndex && null == a.rasterBands[t.sourceBandIndex] ? a.rasterBands[t.sourceBandIndex] = t : a.rasterBands.push(t);\n    }\n  });\n  const i = a.rasterBands;\n\n  if (i.length) {\n    const t = !!i[0].statistics;\n    a.statistics = t ? i.map(e => e.statistics).filter(e) : null;\n    const n = !!i[0].histogram;\n    a.histograms = n ? i.map(e => e.histogram).filter(e) : null;\n  }\n\n  return a;\n}\n\nexport { p as parsePAMInfo, m as parseSpatialReference };","map":{"version":3,"names":["isSome","e","isSameTagIgnoreNS","t","getElementValue","n","getElements","r","getElement","s","getElementNumericValue","a","getElementNumericValues","i","l","o","f","length","push","u","m","getAttribute","spatialReference","transform","c","d","p","S","C","polynomialOrder","forwardCoefficients","inverseCoefficients","split","map","Number","forEach","textContent","nodeValue","toUpperCase","noDataValue","histogram","min","max","size","counts","sourceBandIndex","statistics","avg","stddev","isNaN","wkid","String","startsWith","includes","indexOf","slice","lastIndexOf","trim","wkt","vcsWkid","replace","filter","toLowerCase","endsWith","documentElement","tagName","metadata","rasterBands","histograms","childNodes","nodeType","parsePAMInfo","parseSpatialReference"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import{isSameTagIgnoreNS as t,getElementValue as n,getElements as r,getElement as s,getElementNumericValue as a,getElementNumericValues as i}from\"./xmlUtilities.js\";import l from\"../rasterTransforms/PolynomialTransform.js\";import o from\"../../../geometry/SpatialReference.js\";function f(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function u(e){const t=s(e,\"GeodataXform\"),r=m(a(t,\"SpatialReference/WKID\")||n(t,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==t.getAttribute(\"xsi:type\"))return{spatialReference:r,transform:null};const o=a(t,\"PolynomialOrder\")??1,u=i(t,\"CoeffX/Double\"),c=i(t,\"CoeffY/Double\"),d=i(t,\"InverseCoeffX/Double\"),p=i(t,\"InverseCoeffY/Double\"),S=f(u,c),C=f(d,p);return{spatialReference:r,transform:S&&C&&S.length&&C.length?new l({spatialReference:r,polynomialOrder:o,forwardCoefficients:S,inverseCoefficients:C}):null}}function c(e){const t=a(e,\"NoDataValue\"),i=s(e,\"Histograms/HistItem\"),l=a(i,\"HistMin\"),o=a(i,\"HistMax\"),f=a(i,\"BucketCount\"),u=n(i,\"HistCounts\")?.split(\"|\").map((e=>Number(e)));let c,m,d,p;r(e,\"Metadata/MDI\").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":c=t;break;case\"STATISTICS_MAXIMUM\":m=t;break;case\"STATISTICS_MEAN\":d=t;break;case\"STATISTICS_STDDEV\":p=t}}));const S=a(e,\"Metadata/SourceBandIndex\");return{noDataValue:t,histogram:u?.length&&null!=l&&null!=o?{min:l,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function m(e){if(!e)return null;let t=Number(e);if(!isNaN(t)&&0!==t)return new o({wkid:t});if((e=String(e)).startsWith(\"COMPD_CS\")){if(!e.includes(\"VERTCS\")||!e.includes(\"GEOGCS\")&&!e.startsWith(\"PROJCS\"))return null;const n=e.indexOf(\"VERTCS\"),r=e.indexOf(\"PROJCS\"),s=r>-1?r:e.indexOf(\"GEOGCS\");if(-1===s)return null;const a=e.slice(s,e.lastIndexOf(\"]\",n)+1).trim(),i=e.slice(n,e.lastIndexOf(\"]\")).trim();t=d(a);const l=new o(t?{wkid:t}:{wkt:a}),f=d(i);return f&&(l.vcsWkid=f),l}return e.startsWith(\"GEOGCS\")||e.startsWith(\"PROJCS\")?(t=d(e),new o(0!==t?{wkid:t}:{wkt:e})):null}function d(e){const t=e.replace(/\\]/g,\"[\").replace(/\\\"/g,\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),n=t[t.length-1].split(\",\"),r=n[0]?.toLowerCase();if((\"epsg\"===r||\"esri\"===r)&&e.endsWith('\"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function p(s){if(\"pamdataset\"!==s?.documentElement.tagName?.toLowerCase())return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};s.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(t(e,\"SRS\")){if(!a.spatialReference){const t=n(e);a.spatialReference=m(t)}}else if(t(e,\"Metadata\"))if(\"xml:ESRI\"===e.getAttribute(\"domain\")){const{spatialReference:t,transform:n}=u(e);a.transform=n,a.spatialReference||(a.spatialReference=t)}else{r(e,\"MDI\").forEach((e=>a.metadata[e.getAttribute(\"key\")]=n(e)))}else if(t(e,\"PAMRasterBand\")){const t=c(e);null!=t.sourceBandIndex&&null==a.rasterBands[t.sourceBandIndex]?a.rasterBands[t.sourceBandIndex]=t:a.rasterBands.push(t)}}));const i=a.rasterBands;if(i.length){const t=!!i[0].statistics;a.statistics=t?i.map((e=>e.statistics)).filter(e):null;const n=!!i[0].histogram;a.histograms=n?i.map((e=>e.histogram)).filter(e):null}return a}export{p as parsePAMInfo,m as parseSpatialReference};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}