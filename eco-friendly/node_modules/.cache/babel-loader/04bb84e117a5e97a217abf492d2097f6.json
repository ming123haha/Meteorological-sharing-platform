{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t, getCoord2D as e } from \"../CIMCursor.js\";\nimport { CurveHelper as s } from \"../CurveHelper.js\";\nimport { ExtremityPlacement as i } from \"../enums.js\";\n\nclass n {\n  static local() {\n    return null === n.instance && (n.instance = new n()), n.instance;\n  }\n\n  execute(t, e, s, i) {\n    return new r(t, e, s);\n  }\n\n}\n\nn.instance = null;\n\nclass r extends t {\n  constructor(t, e, i) {\n    super(t, !1, !0), this._curveHelper = new s(), this._angleToLine = void 0 === e.angleToLine || e.angleToLine, this._offset = void 0 !== e.offset ? e.offset * i : 0, this._type = e.extremityPlacement, this._position = void 0 !== e.offsetAlongLine ? e.offsetAlongLine * i : 0, this._beginProcessed = !1;\n  }\n\n  processPath(t) {\n    let e;\n\n    switch (this._type) {\n      case i.Both:\n      default:\n        this._beginProcessed ? (e = this._atExtremities(t, this._position, !1), this._beginProcessed = !1, this.iteratePath = !1) : (e = this._atExtremities(t, this._position, !0), this._beginProcessed = !0, this.iteratePath = !0);\n        break;\n\n      case i.JustBegin:\n        e = this._atExtremities(t, this._position, !0);\n        break;\n\n      case i.JustEnd:\n        e = this._atExtremities(t, this._position, !1);\n\n      case i.None:\n    }\n\n    return e;\n  }\n\n  _atExtremities(t, s, i) {\n    const n = t.length;\n    if (n < 2) return null;\n    const r = i ? 1 : n - 2,\n          o = i ? n : -1,\n          a = i ? 1 : -1;\n    let l,\n        h = 0,\n        c = i ? t[0] : t[n - 1];\n\n    for (let _ = r; _ !== o; _ += a) {\n      l = c, c = t[_];\n\n      const i = this._curveHelper.calculateLength(l, c);\n\n      if (h + i > s) {\n        const t = (s - h) / i,\n              [n, r] = this._curveHelper.getAngleCS(l, c, t),\n              o = e(l, c, t);\n\n        return this.internalPlacement.setTranslate(o[0] - this._offset * r, o[1] + this._offset * n), this._angleToLine && this.internalPlacement.setRotateCS(-n, -r), this.internalPlacement;\n      }\n\n      h += i;\n    }\n\n    return null;\n  }\n\n}\n\nexport { n as PlacementAtExtremities };","map":{"version":3,"names":["PathTransformationCursor","t","getCoord2D","e","CurveHelper","s","ExtremityPlacement","i","n","local","instance","execute","r","constructor","_curveHelper","_angleToLine","angleToLine","_offset","offset","_type","extremityPlacement","_position","offsetAlongLine","_beginProcessed","processPath","Both","_atExtremities","iteratePath","JustBegin","JustEnd","None","length","o","a","l","h","c","_","calculateLength","getAngleCS","internalPlacement","setTranslate","setRotateCS","PlacementAtExtremities"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t,getCoord2D as e}from\"../CIMCursor.js\";import{CurveHelper as s}from\"../CurveHelper.js\";import{ExtremityPlacement as i}from\"../enums.js\";class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,s,i){return new r(t,e,s)}}n.instance=null;class r extends t{constructor(t,e,i){super(t,!1,!0),this._curveHelper=new s,this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*i:0,this._type=e.extremityPlacement,this._position=void 0!==e.offsetAlongLine?e.offsetAlongLine*i:0,this._beginProcessed=!1}processPath(t){let e;switch(this._type){case i.Both:default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case i.JustBegin:e=this._atExtremities(t,this._position,!0);break;case i.JustEnd:e=this._atExtremities(t,this._position,!1);case i.None:}return e}_atExtremities(t,s,i){const n=t.length;if(n<2)return null;const r=i?1:n-2,o=i?n:-1,a=i?1:-1;let l,h=0,c=i?t[0]:t[n-1];for(let _=r;_!==o;_+=a){l=c,c=t[_];const i=this._curveHelper.calculateLength(l,c);if(h+i>s){const t=(s-h)/i,[n,r]=this._curveHelper.getAngleCS(l,c,t),o=e(l,c,t);return this.internalPlacement.setTranslate(o[0]-this._offset*r,o[1]+this._offset*n),this._angleToLine&&this.internalPlacement.setRotateCS(-n,-r),this.internalPlacement}h+=i}return null}}export{n as PlacementAtExtremities};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}