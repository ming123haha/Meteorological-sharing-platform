{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../core/Error.js\";\nimport { isNone as t, isSome as o } from \"../core/maybe.js\";\nimport { c as r, b as n, e as i, a as s, g as a } from \"./vec3.js\";\nimport { c as l } from \"./vec3f64.js\";\nimport { canProjectToWGS84ComparableLonLat as c } from \"../geometry/projection.js\";\nimport { containsPoint as f, containsPointWithMargin as u, fromExtent as m, create as p } from \"../geometry/support/aaBoundingRect.js\";\nimport { MAX_ROOT_TILES as h } from \"../views/3d/terrain/TerrainConst.js\";\nimport { getMissingTileInfoError as g, TilingScheme as d } from \"../views/3d/terrain/TilingScheme.js\";\nconst M = l(),\n      x = l(),\n      S = l(),\n      j = l();\n\nfunction v(e, o, r = 0) {\n  const n = e.extent;\n  if (t(n)) return !1;\n  if (0 === r) return f(n, o);\n  const i = Math.min(n[2] - n[0], n[3] - n[1]);\n  return u(n, o, r * i);\n}\n\nfunction y(e, t, o, l) {\n  r(M, o), M[l] = t[l];\n  const c = n(M, M, t),\n        f = n(x, e, t),\n        u = i(f, c),\n        m = i(c, c);\n  let p;\n  p = u <= 0 ? t : m <= u ? o : s(M, t, a(c, c, u / m));\n  const h = n(M, e, p);\n  return Math.PI / 2 - Math.atan(h[2] / Math.sqrt(h[0] * h[0] + h[1] * h[1]));\n}\n\nfunction T(e, o, r) {\n  const n = e.extent;\n  if (t(n)) return 0;\n  S[0] = n[0], S[1] = n[1], S[2] = r, j[0] = n[2], j[1] = n[3], j[2] = r;\n  let i = 1 / 0,\n      s = 1 / 0;\n  return o[0] < S[0] ? i = y(o, S, j, 0) : o[0] > j[0] && (i = y(o, j, S, 0)), o[1] < S[1] ? s = y(o, S, j, 1) : o[1] > j[1] && (s = y(o, j, S, 1)), Math.min(i, s);\n}\n\nfunction w(r, n, i) {\n  if (t(r)) return g();\n  if (r.spatialReference.isGeographic && !c(r.spatialReference)) return new e(\"tilingscheme:local-unsupported-spatial-reference\", \"The tiling scheme spatial reference is not supported in local scenes\");\n  const s = d.checkUnsupported(r);\n  if (o(s)) return s;\n  if (t(i)) return new e(\"tilingscheme:extent-not-exist\", \"The layer does not provide a layer extent.\");\n  const a = R(r, i);\n  if (a) return a;\n  const l = r.spatialReference;\n  return o(n) && !(l.equals(n) || n.isWGS84 && l.isWebMercator) ? new e(\"tilingscheme:spatial-reference-mismatch\", \"The tiling scheme does not match the spatial reference of the local scene\") : null;\n}\n\nfunction R(t, o) {\n  const r = t.lods,\n        n = r[0].resolution * 2 ** r[0].level,\n        i = [n * t.size[0], n * t.size[1]],\n        s = [t.origin.x, t.origin.y],\n        a = m(o),\n        l = p();\n  d.computeRowColExtent(a, i, s, l);\n  const c = (l[2] - l[0]) * (l[3] - l[1]);\n\n  if (c > h) {\n    const o = r[0].scale * 2 ** r[0].level;\n    let i = Math.max((a[3] - a[1]) / t.size[1], (a[2] - a[0]) / t.size[0]) * o / n;\n    const s = Math.floor(Math.log(i) / Math.log(10));\n    return i = Math.ceil(i / 10 ** s) * 10 ** s, new e(\"tilingscheme:too-many-root-tiles\", \"Scale of level 0 of the tiling scheme (1:\" + Math.floor(o).toLocaleString() + \") is too large for the layer's extent. Suggested scale: 1:\" + i.toLocaleString() + \".\", {\n      level0Scale: o,\n      suggestedLevel0Scale: i,\n      requiredNumRootTiles: c,\n      allowedNumRootTiles: h\n    });\n  }\n\n  return null;\n}\n\nconst b = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  isInsideExtent: v,\n  tiltToExtentEdge: T,\n  checkIfTileInfoSupportedForViewSR: w\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { T as a, w as c, v as i, b as t };","map":{"version":3,"names":["e","isNone","t","isSome","o","c","r","b","n","i","a","s","g","l","canProjectToWGS84ComparableLonLat","containsPoint","f","containsPointWithMargin","u","fromExtent","m","create","p","MAX_ROOT_TILES","h","getMissingTileInfoError","TilingScheme","d","M","x","S","j","v","extent","Math","min","y","PI","atan","sqrt","T","w","spatialReference","isGeographic","checkUnsupported","R","equals","isWGS84","isWebMercator","lods","resolution","level","size","origin","computeRowColExtent","scale","max","floor","log","ceil","toLocaleString","level0Scale","suggestedLevel0Scale","requiredNumRootTiles","allowedNumRootTiles","Object","freeze","defineProperty","__proto__","isInsideExtent","tiltToExtentEdge","checkIfTileInfoSupportedForViewSR","Symbol","toStringTag","value"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/terrainUtilsPlanar.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isNone as t,isSome as o}from\"../core/maybe.js\";import{c as r,b as n,e as i,a as s,g as a}from\"./vec3.js\";import{c as l}from\"./vec3f64.js\";import{canProjectToWGS84ComparableLonLat as c}from\"../geometry/projection.js\";import{containsPoint as f,containsPointWithMargin as u,fromExtent as m,create as p}from\"../geometry/support/aaBoundingRect.js\";import{MAX_ROOT_TILES as h}from\"../views/3d/terrain/TerrainConst.js\";import{getMissingTileInfoError as g,TilingScheme as d}from\"../views/3d/terrain/TilingScheme.js\";const M=l(),x=l(),S=l(),j=l();function v(e,o,r=0){const n=e.extent;if(t(n))return!1;if(0===r)return f(n,o);const i=Math.min(n[2]-n[0],n[3]-n[1]);return u(n,o,r*i)}function y(e,t,o,l){r(M,o),M[l]=t[l];const c=n(M,M,t),f=n(x,e,t),u=i(f,c),m=i(c,c);let p;p=u<=0?t:m<=u?o:s(M,t,a(c,c,u/m));const h=n(M,e,p);return Math.PI/2-Math.atan(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]))}function T(e,o,r){const n=e.extent;if(t(n))return 0;S[0]=n[0],S[1]=n[1],S[2]=r,j[0]=n[2],j[1]=n[3],j[2]=r;let i=1/0,s=1/0;return o[0]<S[0]?i=y(o,S,j,0):o[0]>j[0]&&(i=y(o,j,S,0)),o[1]<S[1]?s=y(o,S,j,1):o[1]>j[1]&&(s=y(o,j,S,1)),Math.min(i,s)}function w(r,n,i){if(t(r))return g();if(r.spatialReference.isGeographic&&!c(r.spatialReference))return new e(\"tilingscheme:local-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in local scenes\");const s=d.checkUnsupported(r);if(o(s))return s;if(t(i))return new e(\"tilingscheme:extent-not-exist\",\"The layer does not provide a layer extent.\");const a=R(r,i);if(a)return a;const l=r.spatialReference;return o(n)&&!(l.equals(n)||n.isWGS84&&l.isWebMercator)?new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the local scene\"):null}function R(t,o){const r=t.lods,n=r[0].resolution*2**r[0].level,i=[n*t.size[0],n*t.size[1]],s=[t.origin.x,t.origin.y],a=m(o),l=p();d.computeRowColExtent(a,i,s,l);const c=(l[2]-l[0])*(l[3]-l[1]);if(c>h){const o=r[0].scale*2**r[0].level;let i=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*o/n;const s=Math.floor(Math.log(i)/Math.log(10));return i=Math.ceil(i/10**s)*10**s,new e(\"tilingscheme:too-many-root-tiles\",\"Scale of level 0 of the tiling scheme (1:\"+Math.floor(o).toLocaleString()+\") is too large for the layer's extent. Suggested scale: 1:\"+i.toLocaleString()+\".\",{level0Scale:o,suggestedLevel0Scale:i,requiredNumRootTiles:c,allowedNumRootTiles:h})}return null}const b=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:v,tiltToExtentEdge:T,checkIfTileInfoSupportedForViewSR:w},Symbol.toStringTag,{value:\"Module\"}));export{T as a,w as c,v as i,b as t};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}