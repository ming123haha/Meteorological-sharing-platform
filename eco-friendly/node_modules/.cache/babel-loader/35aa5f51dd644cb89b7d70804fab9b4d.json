{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Handles.js\";\nimport { isNone as s, isSome as r, destroyMaybe as o } from \"../../../../core/maybe.js\";\nimport { whenOnce as a, watch as l, syncAndInitial as n } from \"../../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { u as d, m } from \"../../../../chunks/mat4.js\";\nimport { s as u, l as c } from \"../../../../chunks/vec3.js\";\nimport { Z as y } from \"../../../../chunks/vec4f64.js\";\nimport { sv3d as v, sm4d as w } from \"../../../../geometry/support/vectorStacks.js\";\nimport { PLANE_OUTLINE_COLOR as _, PLANE_PREVIEW_OUTLINE_WIDTH as V, PLANE_OUTLINE_WIDTH as f, PLANE_BACKGROUND_COLOR as g, GRID_COLOR as j } from \"./sliceToolConfig.js\";\nimport { createGridVisualElement as E, createOutlineVisualElement as b, calculateBoundedPlaneTranslateRotate as S } from \"./sliceToolUtils.js\";\nimport { createStipplePatternSimple as k } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nlet G = class extends t {\n  constructor(e) {\n    super(e), this._handles = new i(), this._gridVisualElement = null, this._outlineVisualElement = null, this.state = \"pending\", this.showGrid = !1, this.preview = !0;\n  }\n\n  get ready() {\n    return \"ready\" === this.state;\n  }\n\n  initialize() {\n    this._initialize();\n  }\n\n  async _initialize() {\n    if (\"destroyed\" === this.state || \"ready\" === this.state) return;\n    await a(() => this.view.ready);\n    const e = this.analysisViewData;\n    if (s(e)) throw new Error(\"expected internal object to be valid\");\n    this._gridVisualElement = E(this.view), this._outlineVisualElement = b(this.view), this._handles.add([l(() => ({\n      visible: r(e.plane) && this.analysisViewData.visible,\n      active: this.analysisViewData.active,\n      preview: this.preview,\n      showGrid: this.showGrid\n    }), e => this._updateMaterials(e), n), l(() => e.plane, e => this._updatePlane(e), n)], \"internal\"), this._set(\"state\", \"ready\");\n  }\n\n  destroy() {\n    \"destroyed\" !== this.state && \"pending\" !== this.state && (this._handles.destroy(), this._gridVisualElement = o(this._gridVisualElement), this._outlineVisualElement = o(this._outlineVisualElement), this.set(\"view\", null), this._set(\"state\", \"destroyed\"));\n  }\n\n  async whenReady() {\n    await a(() => this.view.ready);\n  }\n\n  _updatePlane(e) {\n    if (s(e)) return;\n    const t = u(v.get(), c(e.basis1), c(e.basis2), 1),\n          i = d(w.get(), t),\n          r = S(e, w.get()),\n          o = m(i, r, i);\n    this._outlineVisualElement.transform = o, this._gridVisualElement.transform = o;\n  }\n\n  _updateMaterials({\n    visible: e,\n    active: t,\n    preview: i,\n    showGrid: s\n  }) {\n    this._outlineVisualElement.color = _, this._outlineVisualElement.width = i ? V : f, this._outlineVisualElement.stipplePattern = t ? null : k(5), this._gridVisualElement.backgroundColor = g, this._gridVisualElement.gridColor = s ? j : y, this._gridVisualElement.visible = e, this._outlineVisualElement.visible = e;\n  }\n\n};\ne([p({\n  readOnly: !0\n})], G.prototype, \"state\", void 0), e([p()], G.prototype, \"view\", void 0), e([p()], G.prototype, \"analysis\", void 0), e([p()], G.prototype, \"analysisViewData\", void 0), e([p()], G.prototype, \"ready\", null), e([p()], G.prototype, \"showGrid\", void 0), e([p()], G.prototype, \"preview\", void 0), G = e([h(\"esri.views.3d.analysis.Slice.SliceVisualization\")], G);\nexport { G as SliceVisualization };","map":{"version":3,"names":["_","e","t","i","isNone","s","isSome","r","destroyMaybe","o","whenOnce","a","watch","l","syncAndInitial","n","property","p","subclass","h","u","d","m","c","Z","y","sv3d","v","sm4d","w","PLANE_OUTLINE_COLOR","PLANE_PREVIEW_OUTLINE_WIDTH","V","PLANE_OUTLINE_WIDTH","f","PLANE_BACKGROUND_COLOR","g","GRID_COLOR","j","createGridVisualElement","E","createOutlineVisualElement","b","calculateBoundedPlaneTranslateRotate","S","createStipplePatternSimple","k","G","constructor","_handles","_gridVisualElement","_outlineVisualElement","state","showGrid","preview","ready","initialize","_initialize","view","analysisViewData","Error","add","visible","plane","active","_updateMaterials","_updatePlane","_set","destroy","set","whenReady","get","basis1","basis2","transform","color","width","stipplePattern","backgroundColor","gridColor","readOnly","prototype","SliceVisualization"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Handles.js\";import{isNone as s,isSome as r,destroyMaybe as o}from\"../../../../core/maybe.js\";import{whenOnce as a,watch as l,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{u as d,m}from\"../../../../chunks/mat4.js\";import{s as u,l as c}from\"../../../../chunks/vec3.js\";import{Z as y}from\"../../../../chunks/vec4f64.js\";import{sv3d as v,sm4d as w}from\"../../../../geometry/support/vectorStacks.js\";import{PLANE_OUTLINE_COLOR as _,PLANE_PREVIEW_OUTLINE_WIDTH as V,PLANE_OUTLINE_WIDTH as f,PLANE_BACKGROUND_COLOR as g,GRID_COLOR as j}from\"./sliceToolConfig.js\";import{createGridVisualElement as E,createOutlineVisualElement as b,calculateBoundedPlaneTranslateRotate as S}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as k}from\"../../webgl-engine/materials/lineStippleUtils.js\";let G=class extends t{constructor(e){super(e),this._handles=new i,this._gridVisualElement=null,this._outlineVisualElement=null,this.state=\"pending\",this.showGrid=!1,this.preview=!0}get ready(){return\"ready\"===this.state}initialize(){this._initialize()}async _initialize(){if(\"destroyed\"===this.state||\"ready\"===this.state)return;await a((()=>this.view.ready));const e=this.analysisViewData;if(s(e))throw new Error(\"expected internal object to be valid\");this._gridVisualElement=E(this.view),this._outlineVisualElement=b(this.view),this._handles.add([l((()=>({visible:r(e.plane)&&this.analysisViewData.visible,active:this.analysisViewData.active,preview:this.preview,showGrid:this.showGrid})),(e=>this._updateMaterials(e)),n),l((()=>e.plane),(e=>this._updatePlane(e)),n)],\"internal\"),this._set(\"state\",\"ready\")}destroy(){\"destroyed\"!==this.state&&\"pending\"!==this.state&&(this._handles.destroy(),this._gridVisualElement=o(this._gridVisualElement),this._outlineVisualElement=o(this._outlineVisualElement),this.set(\"view\",null),this._set(\"state\",\"destroyed\"))}async whenReady(){await a((()=>this.view.ready))}_updatePlane(e){if(s(e))return;const t=u(v.get(),c(e.basis1),c(e.basis2),1),i=d(w.get(),t),r=S(e,w.get()),o=m(i,r,i);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:e,active:t,preview:i,showGrid:s}){this._outlineVisualElement.color=_,this._outlineVisualElement.width=i?V:f,this._outlineVisualElement.stipplePattern=t?null:k(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?j:y,this._gridVisualElement.visible=e,this._outlineVisualElement.visible=e}};e([p({readOnly:!0})],G.prototype,\"state\",void 0),e([p()],G.prototype,\"view\",void 0),e([p()],G.prototype,\"analysis\",void 0),e([p()],G.prototype,\"analysisViewData\",void 0),e([p()],G.prototype,\"ready\",null),e([p()],G.prototype,\"showGrid\",void 0),e([p()],G.prototype,\"preview\",void 0),G=e([h(\"esri.views.3d.analysis.Slice.SliceVisualization\")],G);export{G as SliceVisualization};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}