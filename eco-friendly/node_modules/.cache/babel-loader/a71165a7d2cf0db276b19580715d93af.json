{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as s, isNone as t } from \"../../../../core/maybe.js\";\nimport { OverlayIndex as i } from \"../../terrain/interfaces.js\";\nimport { createQuadVAO as r } from \"./glUtil3D.js\";\nimport { C as e } from \"../../../../chunks/Compositing.glsl.js\";\nimport { CompositingTechnique as a } from \"../shaders/CompositingTechnique.js\";\nimport { CompositingTechniqueConfiguration as o, AlphaMode as n, CompositingFunction as h } from \"../shaders/CompositingTechniqueConfiguration.js\";\nimport { PrimitiveType as c } from \"../../../webgl/enums.js\";\nimport { vertexCount as p } from \"../../../webgl/Util.js\";\n\nclass _ {\n  constructor(s, t) {\n    this._rctx = s, this._techniqueRepository = t, this._configuration = new o(), this._passParameters = new e();\n  }\n\n  dispose() {\n    this._vao = s(this._vao);\n  }\n\n  compositeTransparent(s, t, i, r, e = 1) {\n    this._configuration.alphaMode = n.Alpha, this._configuration.function = h.Transparency, this._configuration.hasOpacityFactor = 1 !== e, this._passParameters.colorTexture = t, this._passParameters.alphaTexture = i, this._passParameters.frontFaceTexture = r;\n\n    const o = this._rctx,\n          _ = this._techniqueRepository.acquire(a, this._configuration);\n\n    o.bindTechnique(_, this._passParameters, s);\n\n    const m = this._ensureVAO();\n\n    o.bindVAO(m), o.drawArrays(c.TRIANGLE_STRIP, 0, p(m, \"geometry\")), _.release();\n  }\n\n  composite(s, t, r = n.None, e = 1, o = h.Standard, _ = i.INNER) {\n    const m = this._rctx;\n    this._configuration.alphaMode = r, this._configuration.function = o, this._configuration.hasOpacityFactor = 1 !== e, this._passParameters.overlayIndex = _, this._passParameters.texture = t, this._passParameters.opacity = e;\n\n    const u = this._techniqueRepository.acquire(a, this._configuration);\n\n    m.bindTechnique(u, this._passParameters, s);\n\n    const f = this._ensureVAO();\n\n    m.bindVAO(f), m.drawArrays(c.TRIANGLE_STRIP, 0, p(f, \"geometry\")), u.release();\n  }\n\n  _ensureVAO() {\n    return t(this._vao) && (this._vao = r(this._rctx)), this._vao;\n  }\n\n}\n\nexport { _ as default };","map":{"version":3,"names":["disposeMaybe","s","isNone","t","OverlayIndex","i","createQuadVAO","r","C","e","CompositingTechnique","a","CompositingTechniqueConfiguration","o","AlphaMode","n","CompositingFunction","h","PrimitiveType","c","vertexCount","p","_","constructor","_rctx","_techniqueRepository","_configuration","_passParameters","dispose","_vao","compositeTransparent","alphaMode","Alpha","function","Transparency","hasOpacityFactor","colorTexture","alphaTexture","frontFaceTexture","acquire","bindTechnique","m","_ensureVAO","bindVAO","drawArrays","TRIANGLE_STRIP","release","composite","None","Standard","INNER","overlayIndex","texture","opacity","u","f","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/CompositingHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as s,isNone as t}from\"../../../../core/maybe.js\";import{OverlayIndex as i}from\"../../terrain/interfaces.js\";import{createQuadVAO as r}from\"./glUtil3D.js\";import{C as e}from\"../../../../chunks/Compositing.glsl.js\";import{CompositingTechnique as a}from\"../shaders/CompositingTechnique.js\";import{CompositingTechniqueConfiguration as o,AlphaMode as n,CompositingFunction as h}from\"../shaders/CompositingTechniqueConfiguration.js\";import{PrimitiveType as c}from\"../../../webgl/enums.js\";import{vertexCount as p}from\"../../../webgl/Util.js\";class _{constructor(s,t){this._rctx=s,this._techniqueRepository=t,this._configuration=new o,this._passParameters=new e}dispose(){this._vao=s(this._vao)}compositeTransparent(s,t,i,r,e=1){this._configuration.alphaMode=n.Alpha,this._configuration.function=h.Transparency,this._configuration.hasOpacityFactor=1!==e,this._passParameters.colorTexture=t,this._passParameters.alphaTexture=i,this._passParameters.frontFaceTexture=r;const o=this._rctx,_=this._techniqueRepository.acquire(a,this._configuration);o.bindTechnique(_,this._passParameters,s);const m=this._ensureVAO();o.bindVAO(m),o.drawArrays(c.TRIANGLE_STRIP,0,p(m,\"geometry\")),_.release()}composite(s,t,r=n.None,e=1,o=h.Standard,_=i.INNER){const m=this._rctx;this._configuration.alphaMode=r,this._configuration.function=o,this._configuration.hasOpacityFactor=1!==e,this._passParameters.overlayIndex=_,this._passParameters.texture=t,this._passParameters.opacity=e;const u=this._techniqueRepository.acquire(a,this._configuration);m.bindTechnique(u,this._passParameters,s);const f=this._ensureVAO();m.bindVAO(f),m.drawArrays(c.TRIANGLE_STRIP,0,p(f,\"geometry\")),u.release()}_ensureVAO(){return t(this._vao)&&(this._vao=r(this._rctx)),this._vao}}export{_ as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}