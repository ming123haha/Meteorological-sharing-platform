{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport o from \"../../request.js\";\nimport r from \"../../core/Handles.js\";\nimport { JSONSupport as s } from \"../../core/JSONSupport.js\";\nimport { clone as t } from \"../../core/lang.js\";\nimport { isNone as i, get as a } from \"../../core/maybe.js\";\nimport { on as p, sync as n } from \"../../core/reactiveUtils.js\";\nimport { property as c } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { reader as l } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as m } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { persistable as u } from \"../../core/accessorSupport/decorators/persistable.js\";\nimport h from \"./PolygonCollection.js\";\nimport { f as d } from \"../../chunks/persistableUrlUtils.js\";\nvar g;\nlet f = g = class extends s {\n  constructor(e) {\n    super(e), this.spatialRelationship = \"disjoint\", this.geometries = new h(), this._geometriesSource = null, this._handles = new r();\n  }\n\n  initialize() {\n    this._handles.add(p(() => this.geometries, \"after-changes\", () => this.geometries = this.geometries, n));\n  }\n\n  destroy() {\n    this._handles.destroy();\n  }\n\n  readGeometries(e, o, r) {\n    this._geometriesSource = {\n      url: d(e, r),\n      context: r\n    };\n  }\n\n  async loadGeometries(e, r) {\n    if (i(this._geometriesSource)) return;\n    const {\n      url: s,\n      context: t\n    } = this._geometriesSource,\n          p = await o(s, {\n      responseType: \"json\",\n      signal: a(r, \"signal\")\n    }),\n          n = e.toJSON(),\n          c = p.data.map(e => ({ ...e,\n      spatialReference: n\n    }));\n    this.geometries = h.fromJSON(c, t), this._geometriesSource = null;\n  }\n\n  clone() {\n    return new g({\n      geometries: t(this.geometries),\n      spatialRelationship: this.spatialRelationship\n    });\n  }\n\n};\ne([c({\n  type: [\"disjoint\", \"contains\"],\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], f.prototype, \"spatialRelationship\", void 0), e([c({\n  type: h,\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n}), u({\n  origins: [\"web-scene\", \"portal-item\"],\n  type: \"resource\",\n  prefix: \"geometries\"\n})], f.prototype, \"geometries\", void 0), e([l([\"web-scene\", \"portal-item\"], \"geometries\")], f.prototype, \"readGeometries\", null), f = g = e([m(\"esri.layers.support.SceneFilter\")], f);\nconst j = f;\nexport { j as default };","map":{"version":3,"names":["_","e","o","r","JSONSupport","s","clone","t","isNone","i","get","a","on","p","sync","n","property","c","reader","l","subclass","m","persistable","u","h","f","d","g","constructor","spatialRelationship","geometries","_geometriesSource","_handles","initialize","add","destroy","readGeometries","url","context","loadGeometries","responseType","signal","toJSON","data","map","spatialReference","fromJSON","type","nonNullable","json","write","prototype","origins","prefix","j","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/SceneFilter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import o from\"../../request.js\";import r from\"../../core/Handles.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{isNone as i,get as a}from\"../../core/maybe.js\";import{on as p,sync as n}from\"../../core/reactiveUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as u}from\"../../core/accessorSupport/decorators/persistable.js\";import h from\"./PolygonCollection.js\";import{f as d}from\"../../chunks/persistableUrlUtils.js\";var g;let f=g=class extends s{constructor(e){super(e),this.spatialRelationship=\"disjoint\",this.geometries=new h,this._geometriesSource=null,this._handles=new r}initialize(){this._handles.add(p((()=>this.geometries),\"after-changes\",(()=>this.geometries=this.geometries),n))}destroy(){this._handles.destroy()}readGeometries(e,o,r){this._geometriesSource={url:d(e,r),context:r}}async loadGeometries(e,r){if(i(this._geometriesSource))return;const{url:s,context:t}=this._geometriesSource,p=await o(s,{responseType:\"json\",signal:a(r,\"signal\")}),n=e.toJSON(),c=p.data.map((e=>({...e,spatialReference:n})));this.geometries=h.fromJSON(c,t),this._geometriesSource=null}clone(){return new g({geometries:t(this.geometries),spatialRelationship:this.spatialRelationship})}};e([c({type:[\"disjoint\",\"contains\"],nonNullable:!0,json:{write:!0}})],f.prototype,\"spatialRelationship\",void 0),e([c({type:h,nonNullable:!0,json:{write:!0}}),u({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"geometries\"})],f.prototype,\"geometries\",void 0),e([l([\"web-scene\",\"portal-item\"],\"geometries\")],f.prototype,\"readGeometries\",null),f=g=e([m(\"esri.layers.support.SceneFilter\")],f);const j=f;export{j as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}