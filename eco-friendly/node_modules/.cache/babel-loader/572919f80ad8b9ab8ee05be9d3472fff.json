{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./BandArithmeticFunctionArguments.js\";\nimport { calculateBandIndex as n } from \"./bandIndexUtils.js\";\nimport i from \"./BaseRasterFunction.js\";\nlet u = class extends i {\n  constructor() {\n    super(...arguments), this.functionName = \"BandArithmetic\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"];\n  }\n\n  _bindSourceRasters() {\n    this.outputPixelType = this._getOutputPixelType(\"f32\");\n    const t = this.sourceRasterInfos[0],\n          s = t.clone();\n    return s.pixelType = this.outputPixelType, s.statistics = null, s.histograms = null, s.bandCount = \"sultan\" === this.functionArguments.method ? t.bandCount : 1, this.rasterInfo = s, {\n      success: !0\n    };\n  }\n\n  _processPixels(t) {\n    const e = t.pixelBlocks?.[0];\n    if (s(e)) return e;\n    const {\n      method: r,\n      bandIndexes: o\n    } = this.functionArguments,\n          i = o.split(\" \").map(t => parseFloat(t));\n    return n(e, {\n      method: r,\n      bandIndexes: i,\n      equation: o\n    });\n  }\n\n};\nt([e({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], u.prototype, \"functionName\", void 0), t([e({\n  type: o,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], u.prototype, \"functionArguments\", void 0), t([e()], u.prototype, \"rasterArgumentNames\", void 0), u = t([r(\"esri.layers.support.rasterFunctions.BandArithmeticFunction\")], u);\nconst a = u;\nexport { a as default };","map":{"version":3,"names":["_","t","isNone","s","property","e","subclass","r","o","calculateBandIndex","n","i","u","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","outputPixelType","_getOutputPixelType","sourceRasterInfos","clone","pixelType","statistics","histograms","bandCount","method","rasterInfo","success","_processPixels","pixelBlocks","bandIndexes","split","map","parseFloat","equation","json","write","name","prototype","type","a","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/BandArithmeticFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"./BandArithmeticFunctionArguments.js\";import{calculateBandIndex as n}from\"./bandIndexUtils.js\";import i from\"./BaseRasterFunction.js\";let u=class extends i{constructor(){super(...arguments),this.functionName=\"BandArithmetic\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType(\"f32\");const t=this.sourceRasterInfos[0],s=t.clone();return s.pixelType=this.outputPixelType,s.statistics=null,s.histograms=null,s.bandCount=\"sultan\"===this.functionArguments.method?t.bandCount:1,this.rasterInfo=s,{success:!0}}_processPixels(t){const e=t.pixelBlocks?.[0];if(s(e))return e;const{method:r,bandIndexes:o}=this.functionArguments,i=o.split(\" \").map((t=>parseFloat(t)));return n(e,{method:r,bandIndexes:i,equation:o})}};t([e({json:{write:!0,name:\"rasterFunction\"}})],u.prototype,\"functionName\",void 0),t([e({type:o,json:{write:!0,name:\"rasterFunctionArguments\"}})],u.prototype,\"functionArguments\",void 0),t([e()],u.prototype,\"rasterArgumentNames\",void 0),u=t([r(\"esri.layers.support.rasterFunctions.BandArithmeticFunction\")],u);const a=u;export{a as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}