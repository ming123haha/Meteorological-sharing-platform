{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { toHSV as t } from \"../../core/colorUtils.js\";\nimport { JSONSupport as r } from \"../../core/JSONSupport.js\";\nimport s from \"../../core/Logger.js\";\nimport { unwrap as o, isSome as a, isNone as n } from \"../../core/maybe.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport u from \"../../layers/support/RasterInfo.js\";\nimport { isValidPixelBlock as c, extractBands as p, colorize as d, remapColor as h, lookupPixels as m, createColormapLUT as f } from \"../../layers/support/rasterFunctions/pixelUtils.js\";\nimport { stretch as b, getStretchCutoff as y, createStretchLUT as g, computeGammaValues as S, createHistogramEqualizationLUT as k } from \"../../layers/support/rasterFunctions/stretchUtils.js\";\nimport { hillshade as x, tintHillshade as R, calculateHillshadeParams as I } from \"../../layers/support/rasterFunctions/surfaceUtils.js\";\nimport { convertColorRampToColormap as C } from \"./colorRampUtils.js\";\n\nconst _ = s.getLogger(\"esri.renderers.support.RasterSymbolizer\");\n\nfunction L(e, t) {\n  const {\n    attributeTable: r,\n    bandCount: s\n  } = e;\n  if (n(r) || s > 1) return !1;\n\n  if (t) {\n    if (null == r.fields.find(e => e.name.toLowerCase() === t.toLowerCase())) return !1;\n  }\n\n  return !0;\n}\n\nfunction V(e) {\n  const {\n    bandCount: t,\n    dataType: r,\n    pixelType: s\n  } = e;\n  return \"elevation\" === r || \"generic\" === r && 1 === t && (\"s16\" === s || \"f32\" === s || \"f64\" === s);\n}\n\nfunction v(e) {\n  const {\n    bandCount: t,\n    colormap: r\n  } = e;\n  return a(r) && r.length && 1 === t;\n}\n\nlet O = class extends r {\n  constructor(e) {\n    super(e);\n  }\n\n  bind() {\n    const {\n      rendererJSON: e\n    } = this;\n    if (!e) return {\n      success: !1\n    };\n    let t;\n\n    switch (this.lookup = {\n      rendererJSON: {}\n    }, e.type) {\n      case \"uniqueValue\":\n        t = this._updateUVRenderer(e);\n        break;\n\n      case \"rasterColormap\":\n        t = this._updateColormapRenderer(e);\n        break;\n\n      case \"rasterStretch\":\n        t = this._updateStretchRenderer(e);\n        break;\n\n      case \"classBreaks\":\n        t = this._updateClassBreaksRenderer(e);\n        break;\n\n      case \"rasterShadedRelief\":\n        t = this._updateShadedReliefRenderer(e);\n        break;\n\n      case \"vectorField\":\n        t = this._updateVectorFieldRenderer();\n        break;\n\n      case \"flowRenderer\":\n        t = this._updateFlowRenderer();\n    }\n\n    return t;\n  }\n\n  symbolize(e) {\n    let t = e && e.pixelBlock;\n    if (!T(t)) return t;\n    if (e.simpleStretchParams && \"rasterStretch\" === this.rendererJSON.type) return this.simpleStretch(t, e.simpleStretchParams);\n\n    try {\n      let r;\n\n      switch (t.pixels.length > 3 && (t = p(t, [0, 1, 2])), this.rendererJSON.type) {\n        case \"uniqueValue\":\n        case \"rasterColormap\":\n          r = this._symbolizeColormap(t);\n          break;\n\n        case \"classBreaks\":\n          r = this._symbolizeClassBreaks(t);\n          break;\n\n        case \"rasterStretch\":\n          r = this._symbolizeStretch(t, e.bandIds);\n          break;\n\n        case \"rasterShadedRelief\":\n          {\n            const {\n              extent: s\n            } = e,\n                  o = s.spatialReference.isGeographic,\n                  a = {\n              x: (s.xmax - s.xmin) / t.width,\n              y: (s.ymax - s.ymin) / t.height\n            };\n            r = this._symbolizeShadedRelief(t, {\n              isGCS: o,\n              resolution: a\n            });\n            break;\n          }\n      }\n\n      return r;\n    } catch (r) {\n      return _.error(\"symbolize\", r.message), t;\n    }\n  }\n\n  simpleStretch(e, t) {\n    if (!T(e)) return e;\n\n    try {\n      return e.pixels.length > 3 && (e = p(e, [0, 1, 2])), b(e, t);\n    } catch (r) {\n      return _.error(\"symbolize\", r.message), e;\n    }\n  }\n\n  generateWebGLParameters(e) {\n    if ([\"uniqueValue\", \"rasterColormap\", \"classBreaks\"].includes(this.rendererJSON.type)) {\n      const {\n        indexedColormap: e,\n        offset: t\n      } = this.lookup?.colormapLut || {};\n      return {\n        colormap: e,\n        colormapOffset: t,\n        type: \"lut\"\n      };\n    }\n\n    const {\n      pixelBlock: t,\n      isGCS: r,\n      resolution: s,\n      bandIds: o\n    } = e,\n          {\n      rendererJSON: a\n    } = this;\n    return \"rasterStretch\" === a.type ? this._generateStretchWebGLParams(t, a, o) : \"rasterShadedRelief\" === a.type ? this._generateShadedReliefWebGLParams(a, r, s) : \"vectorField\" === a.type ? this._generateVectorFieldWebGLParams(a) : null;\n  }\n\n  _isLUTChanged(e) {\n    if (!this.lookup || !this.lookup.rendererJSON) return !0;\n\n    if (\"colorRamp\" in this.rendererJSON) {\n      const t = this.rendererJSON.colorRamp;\n      return e ? JSON.stringify(t) !== JSON.stringify(this.lookup.rendererJSON.colorRamp) : (this.rendererJSON, this.lookup.rendererJSON, JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON));\n    }\n\n    return JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON);\n  }\n\n  _symbolizeColormap(e) {\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n\n    return d(e, this.lookup.colormapLut);\n  }\n\n  _symbolizeClassBreaks(e) {\n    const {\n      canUseIndexedLUT: t\n    } = this._analyzeClassBreaks(this.rendererJSON);\n\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n\n    return t ? d(e, this.lookup.colormapLut) : h(e, this.lookup.remapLut);\n  }\n\n  _symbolizeStretch(e, t) {\n    const {\n      rasterInfo: r\n    } = this,\n          {\n      pixelType: s,\n      bandCount: a\n    } = r,\n          n = this.rendererJSON,\n          i = [\"u8\", \"u16\", \"s8\", \"s16\"].includes(s);\n    let l, u;\n    const {\n      dra: c\n    } = n,\n          {\n      gamma: p\n    } = this.lookup;\n\n    if (\"histogramEqualization\" === n.stretchType) {\n      const s = c ? null : this.lookup.histogramLut,\n            o = y(n, {\n        rasterInfo: r,\n        pixelBlock: e,\n        bandIds: t,\n        returnHistogramLut: !s\n      }),\n            a = b(e, { ...o,\n        gamma: p\n      });\n      u = m(a, {\n        lut: c ? o.histogramLut : s,\n        offset: 0\n      });\n    } else if (i) {\n      if (c) {\n        const o = y(n, {\n          rasterInfo: r,\n          pixelBlock: e,\n          bandIds: t\n        });\n        l = g({\n          pixelType: s,\n          ...o,\n          gamma: p\n        });\n      } else if (this._isLUTChanged()) {\n        if (!this.bind().success) return e;\n        l = this.lookup ? this.lookup.stretchLut : null;\n      } else l = this.lookup ? this.lookup.stretchLut : null;\n\n      if (!l) return e;\n      a > 1 && t?.length === o(e)?.pixels.length && l?.lut.length === a && (l = {\n        lut: t.map(e => l.lut[e]),\n        offset: l.offset\n      }), u = m(e, l);\n    } else {\n      const s = y(n, {\n        rasterInfo: r,\n        pixelBlock: e,\n        bandIds: t\n      });\n      u = b(e, { ...s,\n        gamma: p\n      });\n    }\n\n    if (n.colorRamp) {\n      if (this._isLUTChanged(!0)) {\n        if (!this.bind().success) return e;\n      }\n\n      u = d(u, this.lookup.colormapLut);\n    }\n\n    return u;\n  }\n\n  _symbolizeShadedRelief(e, t) {\n    const r = this.rendererJSON,\n          s = { ...r,\n      ...t\n    },\n          a = x(e, s);\n    if (!r.colorRamp) return a;\n    let n;\n\n    if (this._isLUTChanged(!0)) {\n      if (!this.bind().success) return a;\n      n = this.lookup ? this.lookup.hsvMap : null;\n    } else n = this.lookup ? this.lookup.hsvMap : null;\n\n    if (!n) return a;\n    const i = o(this.rasterInfo.statistics)?.[0] ?? {\n      min: 0,\n      max: 8e3\n    };\n    return R(a, e, n, i), a;\n  }\n\n  _isVectorFieldData() {\n    const {\n      bandCount: e,\n      dataType: t\n    } = this.rasterInfo;\n    return 2 === e && (\"vector-magdir\" === t || \"vector-uv\" === t);\n  }\n\n  _updateVectorFieldRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n\n  _updateFlowRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n\n  _updateUVRenderer(e) {\n    const {\n      bandCount: t,\n      attributeTable: r,\n      pixelType: s\n    } = this.rasterInfo,\n          o = e.field1;\n    if (!o) return {\n      success: !1,\n      error: \"Unsupported renderer; missing UniqueValueRenderer.field.\"\n    };\n    const a = e.defaultSymbol,\n          n = 1 === t && [\"u8\", \"s8\"].includes(s);\n    if (!L(this.rasterInfo, o) && !n) return {\n      success: !1,\n      error: \"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"\n    };\n    const i = [];\n\n    if (r) {\n      const t = r.fields.find(e => \"value\" === e.name.toLowerCase());\n      if (!t) return {\n        success: !1,\n        error: \"Unsupported data; the data's raster attribute table does not have a value field.\"\n      };\n      r.features.forEach(r => {\n        const s = e.uniqueValueInfos.find(e => String(e.value) === String(r.attributes[o]))?.symbol?.color;\n        s ? i.push([r.attributes[t.name]].concat(s)) : a && i.push([r.attributes[t.name]].concat(a.color));\n      });\n    } else {\n      if (\"value\" !== o.toLowerCase()) return {\n        success: !1,\n        error: 'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'\n      };\n      e.uniqueValueInfos.forEach(e => {\n        const t = e?.symbol?.color;\n        t ? i.push([parseInt(\"\" + e.value, 10)].concat(t)) : a && i.push([parseInt(\"\" + e.value, 10)].concat(a.color));\n      });\n    }\n\n    if (0 === i.length) return {\n      success: !1,\n      error: \"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"\n    };\n    const l = f({\n      colormap: i\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: l\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _updateColormapRenderer(e) {\n    if (!v(this.rasterInfo)) return {\n      success: !1,\n      error: \"Unsupported data; the data source does not have a colormap.\"\n    };\n    const t = e.colormapInfos.map(e => [e.value].concat(e.color)).sort((e, t) => e[0] - t[0]);\n    if (!t || 0 === t.length) return {\n      success: !1,\n      error: \"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"\n    };\n    const r = f({\n      colormap: t\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: r\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _updateShadedReliefRenderer(e) {\n    if (!V(this.rasterInfo)) return {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`\n    };\n\n    if (e.colorRamp) {\n      const r = C(e.colorRamp, 256, !0),\n            s = f({\n        colormap: r\n      }),\n            o = [],\n            a = s.indexedColormap;\n\n      for (let e = 0; e < a.length; e += 4) {\n        const r = t({\n          r: a[e],\n          g: a[e + 1],\n          b: a[e + 2]\n        });\n        o.push([r.h / 60, r.s / 100, 255 * r.v / 100]);\n      }\n\n      this.lookup = {\n        rendererJSON: e,\n        colormapLut: s,\n        hsvMap: o\n      };\n    } else this.lookup = null;\n\n    return this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _analyzeClassBreaks(e) {\n    const {\n      attributeTable: t,\n      pixelType: r\n    } = this.rasterInfo,\n          s = a(t) ? t.fields.find(e => \"value\" === e.name.toLowerCase()) : null,\n          o = a(t) ? t.fields.find(t => t.name.toLowerCase() === e.field.toLowerCase()) : null,\n          n = null != s && null !== o;\n    return {\n      canUseIndexedLUT: [\"u8\", \"u16\", \"s8\", \"s16\"].includes(r) || n,\n      tableValueField: s,\n      tableBreakField: o\n    };\n  }\n\n  _updateClassBreaksRenderer(e) {\n    const {\n      attributeTable: t\n    } = this.rasterInfo,\n          {\n      canUseIndexedLUT: r,\n      tableValueField: s,\n      tableBreakField: o\n    } = this._analyzeClassBreaks(e),\n          a = e.classBreakInfos;\n\n    if (!a?.length) return {\n      success: !1,\n      error: \"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"\n    };\n    const n = a.sort((e, t) => e.classMaxValue - t.classMaxValue),\n          i = n[n.length - 1];\n    let l = e.minValue;\n\n    if (!r) {\n      const t = [];\n\n      for (let e = 0; e < n.length; e++) t.push({\n        value: n[e].classMinValue ?? l,\n        mappedColor: n[e].symbol.color\n      }), l = n[e].classMaxValue;\n\n      return t.push({\n        value: i.classMaxValue,\n        mappedColor: i.symbol.color\n      }), this.lookup = {\n        rendererJSON: e,\n        remapLut: t\n      }, this.canRenderInWebGL = !1, {\n        success: !0\n      };\n    }\n\n    const u = [];\n\n    if (null != s && null !== o && s !== o) {\n      const r = s.name,\n            a = o.name,\n            i = n[n.length - 1],\n            {\n        classMaxValue: c\n      } = i;\n      l = e.minValue;\n\n      for (const e of t.features) {\n        const t = e.attributes[r],\n              s = e.attributes[a],\n              o = s === c ? i : s < l ? null : n.find(({\n          classMaxValue: e\n        }) => e > s);\n        o && u.push([t].concat(o.symbol.color));\n      }\n    } else {\n      l = Math.floor(e.minValue);\n\n      for (let e = 0; e < n.length; e++) {\n        const t = n[e];\n\n        for (let e = l; e < t.classMaxValue; e++) u.push([e].concat(t.symbol.color));\n\n        l = Math.ceil(t.classMaxValue);\n      }\n\n      i.classMaxValue === l && u.push([i.classMaxValue].concat(i.symbol.color));\n    }\n\n    const c = f({\n      colormap: u,\n      fillUnspecified: !1\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: c\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _isHistogramRequired(e) {\n    return \"percentClip\" === e || \"histogramEqualization\" === e;\n  }\n\n  _isValidRasterStatistics(e) {\n    return a(e) && e.length > 0 && null != e[0].min && null != e[0].max;\n  }\n\n  _updateStretchRenderer(e) {\n    let {\n      stretchType: t,\n      dra: r\n    } = e;\n    if (!(\"none\" === t || e.statistics?.length || this._isValidRasterStatistics(this.rasterInfo.statistics) || r)) return {\n      success: !1,\n      error: \"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"\n    };\n    const s = o(e.histograms || this.rasterInfo.histograms);\n    !this._isHistogramRequired(e.stretchType) || s?.length || r || (t = \"minMax\");\n    const {\n      computeGamma: a,\n      useGamma: n,\n      colorRamp: i\n    } = e;\n    let {\n      gamma: l\n    } = e;\n\n    if (n && a && !l?.length) {\n      const t = e.statistics?.length ? e.statistics : o(this.rasterInfo.statistics);\n      l = S(this.rasterInfo.pixelType, t);\n    }\n\n    const u = this.rasterInfo.pixelType,\n          c = !r && [\"u8\", \"u16\", \"s8\", \"s16\"].includes(u);\n\n    if (\"histogramEqualization\" === t) {\n      const t = s.map(e => k(e));\n      this.lookup = {\n        rendererJSON: e,\n        histogramLut: t\n      };\n    } else if (c) {\n      const t = y(e, {\n        rasterInfo: this.rasterInfo\n      }),\n            r = g({\n        pixelType: u,\n        ...t,\n        gamma: n ? l : null\n      });\n      this.lookup = {\n        rendererJSON: e,\n        stretchLut: r\n      };\n    }\n\n    if (i) {\n      const t = C(i, 256, !0);\n      this.lookup || (this.lookup = {\n        rendererJSON: e\n      }), this.lookup.colormapLut = f({\n        colormap: t\n      }), this.lookup.rendererJSON = e;\n    }\n\n    return this.lookup.gamma = n && l?.length ? l : null, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _generateStretchWebGLParams(e, t, r) {\n    let s = null,\n        o = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    t.colorRamp && n && (s = n.indexedColormap, o = n.offset), \"histogramEqualization\" === t.stretchType && (t = { ...t,\n      stretchType: \"minMax\"\n    });\n    const {\n      gamma: i\n    } = this.lookup,\n          l = !!(t.useGamma && i && i.some(e => 1 !== e)),\n          {\n      minCutOff: u,\n      maxCutOff: c,\n      outMin: p,\n      outMax: d\n    } = y(t, {\n      rasterInfo: this.rasterInfo,\n      pixelBlock: e,\n      bandIds: r\n    });\n    let h = 0;\n    a(e) && (h = e.getPlaneCount(), 2 === h && ((e = e.clone()).statistics = [e.statistics[0]], e.pixels = [e.pixels[0]]));\n    const m = Math.min(3, r?.length || h || this.rasterInfo.bandCount),\n          f = new Float32Array(m),\n          b = s || l ? 1 : 255;\n    let g;\n\n    for (g = 0; g < m; g++) f[g] = (d - p) / (c[g] - u[g]) / b;\n\n    const S = new Float32Array(m);\n    if (l) for (g = 0; g < m; g++) i[g] > 1 ? i[g] > 2 ? S[g] = 6.5 + (i[g] - 2) ** 2.5 : S[g] = 6.5 + 100 * (2 - i[g]) ** 4 : S[g] = 1;\n    return {\n      bandCount: m,\n      outMin: p / b,\n      outMax: d / b,\n      minCutOff: u,\n      maxCutOff: c,\n      factor: f,\n      useGamma: l,\n      gamma: l ? i : [1, 1, 1],\n      gammaCorrection: l ? S : [1, 1, 1],\n      colormap: s,\n      colormapOffset: o,\n      stretchType: t.stretchType,\n      type: \"stretch\"\n    };\n  }\n\n  _generateShadedReliefWebGLParams(e, t, r) {\n    let s = null,\n        a = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    e.colorRamp && n && (s = n.indexedColormap, a = n.offset);\n    const i = { ...e,\n      isGCS: t,\n      resolution: r\n    },\n          l = I(i),\n          u = o(this.rasterInfo.statistics)?.[0];\n    return { ...l,\n      minValue: u?.min ?? 0,\n      maxValue: u?.max ?? 8e3,\n      hillshadeType: \"traditional\" === e.hillshadeType ? 0 : 1,\n      type: \"hillshade\",\n      colormap: s,\n      colormapOffset: a\n    };\n  }\n\n  _generateVectorFieldWebGLParams(e) {\n    const {\n      style: t,\n      inputUnit: r,\n      outputUnit: s,\n      visualVariables: o,\n      symbolTileSize: n,\n      flowRepresentation: i\n    } = e;\n    let l;\n    const u = this.rasterInfo.statistics?.[0].min ?? 0,\n          c = this.rasterInfo.statistics?.[0].max ?? 50,\n          p = o?.find(e => \"sizeInfo\" === e.type) ?? {\n      type: \"sizeInfo\",\n      field: \"Magnitude\",\n      maxDataValue: c,\n      maxSize: .8 * n,\n      minDataValue: u,\n      minSize: .2 * n\n    },\n          d = p.minDataValue ?? u,\n          h = p.maxDataValue ?? c,\n          m = a(p.maxSize) && a(p.minSize) ? [p.minSize / n, p.maxSize / n] : [.2, .8];\n\n    if (\"wind_speed\" === t) {\n      const e = (m[0] + m[1]) / 2;\n      m[0] = m[1] = e;\n    }\n\n    const f = a(d) && a(h) ? [d, h] : null;\n    if (\"classified_arrow\" === t) if (a(d) && a(h) && a(p)) {\n      l = [];\n      const e = (p.maxDataValue - p.minDataValue) / 5;\n\n      for (let t = 0; t < 6; t++) l.push(p.minDataValue + e * t);\n    } else l = [0, 1e-6, 3.5, 7, 10.5, 14];\n    const b = \"flow_to\" === i === (\"ocean_current_kn\" === t || \"ocean_current_m\" === t) ? 0 : Math.PI,\n          y = o?.find(e => \"rotationInfo\" === e.type);\n    return {\n      breakValues: l,\n      dataRange: f,\n      inputUnit: r,\n      outputUnit: s,\n      symbolTileSize: n,\n      symbolPercentRange: m,\n      style: t || \"single_arrow\",\n      rotation: b,\n      rotationType: this.rasterInfo.storageInfo?.tileInfo && \"vector-uv\" === this.rasterInfo.dataType ? \"geographic\" : y?.rotationType || e.rotationType,\n      type: \"vectorField\"\n    };\n  }\n\n};\n\nfunction T(e) {\n  return c(e) && 0 !== e.validPixelCount;\n}\n\ne([i({\n  json: {\n    write: !0\n  }\n})], O.prototype, \"rendererJSON\", void 0), e([i({\n  type: u,\n  json: {\n    write: !0\n  }\n})], O.prototype, \"rasterInfo\", void 0), e([i({\n  json: {\n    write: !0\n  }\n})], O.prototype, \"lookup\", void 0), e([i()], O.prototype, \"canRenderInWebGL\", void 0), O = e([l(\"esri.renderers.support.RasterSymbolizer\")], O);\nconst U = O;\nexport { U as default };","map":{"version":3,"names":["_","e","toHSV","t","JSONSupport","r","s","unwrap","o","isSome","a","isNone","n","property","i","subclass","l","u","isValidPixelBlock","c","extractBands","p","colorize","d","remapColor","h","lookupPixels","m","createColormapLUT","f","stretch","b","getStretchCutoff","y","createStretchLUT","g","computeGammaValues","S","createHistogramEqualizationLUT","k","hillshade","x","tintHillshade","R","calculateHillshadeParams","I","convertColorRampToColormap","C","getLogger","L","attributeTable","bandCount","fields","find","name","toLowerCase","V","dataType","pixelType","v","colormap","length","O","constructor","bind","rendererJSON","success","lookup","type","_updateUVRenderer","_updateColormapRenderer","_updateStretchRenderer","_updateClassBreaksRenderer","_updateShadedReliefRenderer","_updateVectorFieldRenderer","_updateFlowRenderer","symbolize","pixelBlock","T","simpleStretchParams","simpleStretch","pixels","_symbolizeColormap","_symbolizeClassBreaks","_symbolizeStretch","bandIds","extent","spatialReference","isGeographic","xmax","xmin","width","ymax","ymin","height","_symbolizeShadedRelief","isGCS","resolution","error","message","generateWebGLParameters","includes","indexedColormap","offset","colormapLut","colormapOffset","_generateStretchWebGLParams","_generateShadedReliefWebGLParams","_generateVectorFieldWebGLParams","_isLUTChanged","colorRamp","JSON","stringify","canUseIndexedLUT","_analyzeClassBreaks","remapLut","rasterInfo","dra","gamma","stretchType","histogramLut","returnHistogramLut","lut","stretchLut","map","hsvMap","statistics","min","max","_isVectorFieldData","field1","defaultSymbol","features","forEach","uniqueValueInfos","String","value","attributes","symbol","color","push","concat","parseInt","canRenderInWebGL","colormapInfos","sort","field","tableValueField","tableBreakField","classBreakInfos","classMaxValue","minValue","classMinValue","mappedColor","Math","floor","ceil","fillUnspecified","_isHistogramRequired","_isValidRasterStatistics","histograms","computeGamma","useGamma","some","minCutOff","maxCutOff","outMin","outMax","getPlaneCount","clone","Float32Array","factor","gammaCorrection","maxValue","hillshadeType","style","inputUnit","outputUnit","visualVariables","symbolTileSize","flowRepresentation","maxDataValue","maxSize","minDataValue","minSize","PI","breakValues","dataRange","symbolPercentRange","rotation","rotationType","storageInfo","tileInfo","validPixelCount","json","write","prototype","U","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{toHSV as t}from\"../../core/colorUtils.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import s from\"../../core/Logger.js\";import{unwrap as o,isSome as a,isNone as n}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/RasterInfo.js\";import{isValidPixelBlock as c,extractBands as p,colorize as d,remapColor as h,lookupPixels as m,createColormapLUT as f}from\"../../layers/support/rasterFunctions/pixelUtils.js\";import{stretch as b,getStretchCutoff as y,createStretchLUT as g,computeGammaValues as S,createHistogramEqualizationLUT as k}from\"../../layers/support/rasterFunctions/stretchUtils.js\";import{hillshade as x,tintHillshade as R,calculateHillshadeParams as I}from\"../../layers/support/rasterFunctions/surfaceUtils.js\";import{convertColorRampToColormap as C}from\"./colorRampUtils.js\";const _=s.getLogger(\"esri.renderers.support.RasterSymbolizer\");function L(e,t){const{attributeTable:r,bandCount:s}=e;if(n(r)||s>1)return!1;if(t){if(null==r.fields.find((e=>e.name.toLowerCase()===t.toLowerCase())))return!1}return!0}function V(e){const{bandCount:t,dataType:r,pixelType:s}=e;return\"elevation\"===r||\"generic\"===r&&1===t&&(\"s16\"===s||\"f32\"===s||\"f64\"===s)}function v(e){const{bandCount:t,colormap:r}=e;return a(r)&&r.length&&1===t}let O=class extends r{constructor(e){super(e)}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case\"uniqueValue\":t=this._updateUVRenderer(e);break;case\"rasterColormap\":t=this._updateColormapRenderer(e);break;case\"rasterStretch\":t=this._updateStretchRenderer(e);break;case\"classBreaks\":t=this._updateClassBreaksRenderer(e);break;case\"rasterShadedRelief\":t=this._updateShadedReliefRenderer(e);break;case\"vectorField\":t=this._updateVectorFieldRenderer();break;case\"flowRenderer\":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e&&e.pixelBlock;if(!T(t))return t;if(e.simpleStretchParams&&\"rasterStretch\"===this.rendererJSON.type)return this.simpleStretch(t,e.simpleStretchParams);try{let r;switch(t.pixels.length>3&&(t=p(t,[0,1,2])),this.rendererJSON.type){case\"uniqueValue\":case\"rasterColormap\":r=this._symbolizeColormap(t);break;case\"classBreaks\":r=this._symbolizeClassBreaks(t);break;case\"rasterStretch\":r=this._symbolizeStretch(t,e.bandIds);break;case\"rasterShadedRelief\":{const{extent:s}=e,o=s.spatialReference.isGeographic,a={x:(s.xmax-s.xmin)/t.width,y:(s.ymax-s.ymin)/t.height};r=this._symbolizeShadedRelief(t,{isGCS:o,resolution:a});break}}return r}catch(r){return _.error(\"symbolize\",r.message),t}}simpleStretch(e,t){if(!T(e))return e;try{return e.pixels.length>3&&(e=p(e,[0,1,2])),b(e,t)}catch(r){return _.error(\"symbolize\",r.message),e}}generateWebGLParameters(e){if([\"uniqueValue\",\"rasterColormap\",\"classBreaks\"].includes(this.rendererJSON.type)){const{indexedColormap:e,offset:t}=this.lookup?.colormapLut||{};return{colormap:e,colormapOffset:t,type:\"lut\"}}const{pixelBlock:t,isGCS:r,resolution:s,bandIds:o}=e,{rendererJSON:a}=this;return\"rasterStretch\"===a.type?this._generateStretchWebGLParams(t,a,o):\"rasterShadedRelief\"===a.type?this._generateShadedReliefWebGLParams(a,r,s):\"vectorField\"===a.type?this._generateVectorFieldWebGLParams(a):null}_isLUTChanged(e){if(!this.lookup||!this.lookup.rendererJSON)return!0;if(\"colorRamp\"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return e?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(e){if(this._isLUTChanged()){if(!this.bind().success)return e}return d(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);if(this._isLUTChanged()){if(!this.bind().success)return e}return t?d(e,this.lookup.colormapLut):h(e,this.lookup.remapLut)}_symbolizeStretch(e,t){const{rasterInfo:r}=this,{pixelType:s,bandCount:a}=r,n=this.rendererJSON,i=[\"u8\",\"u16\",\"s8\",\"s16\"].includes(s);let l,u;const{dra:c}=n,{gamma:p}=this.lookup;if(\"histogramEqualization\"===n.stretchType){const s=c?null:this.lookup.histogramLut,o=y(n,{rasterInfo:r,pixelBlock:e,bandIds:t,returnHistogramLut:!s}),a=b(e,{...o,gamma:p});u=m(a,{lut:c?o.histogramLut:s,offset:0})}else if(i){if(c){const o=y(n,{rasterInfo:r,pixelBlock:e,bandIds:t});l=g({pixelType:s,...o,gamma:p})}else if(this._isLUTChanged()){if(!this.bind().success)return e;l=this.lookup?this.lookup.stretchLut:null}else l=this.lookup?this.lookup.stretchLut:null;if(!l)return e;a>1&&t?.length===o(e)?.pixels.length&&l?.lut.length===a&&(l={lut:t.map((e=>l.lut[e])),offset:l.offset}),u=m(e,l)}else{const s=y(n,{rasterInfo:r,pixelBlock:e,bandIds:t});u=b(e,{...s,gamma:p})}if(n.colorRamp){if(this._isLUTChanged(!0)){if(!this.bind().success)return e}u=d(u,this.lookup.colormapLut)}return u}_symbolizeShadedRelief(e,t){const r=this.rendererJSON,s={...r,...t},a=x(e,s);if(!r.colorRamp)return a;let n;if(this._isLUTChanged(!0)){if(!this.bind().success)return a;n=this.lookup?this.lookup.hsvMap:null}else n=this.lookup?this.lookup.hsvMap:null;if(!n)return a;const i=o(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return R(a,e,n,i),a}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return 2===e&&(\"vector-magdir\"===t||\"vector-uv\"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:r,pixelType:s}=this.rasterInfo,o=e.field1;if(!o)return{success:!1,error:\"Unsupported renderer; missing UniqueValueRenderer.field.\"};const a=e.defaultSymbol,n=1===t&&[\"u8\",\"s8\"].includes(s);if(!L(this.rasterInfo,o)&&!n)return{success:!1,error:\"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"};const i=[];if(r){const t=r.fields.find((e=>\"value\"===e.name.toLowerCase()));if(!t)return{success:!1,error:\"Unsupported data; the data's raster attribute table does not have a value field.\"};r.features.forEach((r=>{const s=e.uniqueValueInfos.find((e=>String(e.value)===String(r.attributes[o])))?.symbol?.color;s?i.push([r.attributes[t.name]].concat(s)):a&&i.push([r.attributes[t.name]].concat(a.color))}))}else{if(\"value\"!==o.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'};e.uniqueValueInfos.forEach((e=>{const t=e?.symbol?.color;t?i.push([parseInt(\"\"+e.value,10)].concat(t)):a&&i.push([parseInt(\"\"+e.value,10)].concat(a.color))}))}if(0===i.length)return{success:!1,error:\"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"};const l=f({colormap:i});return this.lookup={rendererJSON:e,colormapLut:l},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(e){if(!v(this.rasterInfo))return{success:!1,error:\"Unsupported data; the data source does not have a colormap.\"};const t=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,t)=>e[0]-t[0]));if(!t||0===t.length)return{success:!1,error:\"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"};const r=f({colormap:t});return this.lookup={rendererJSON:e,colormapLut:r},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(e){if(!V(this.rasterInfo))return{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`};if(e.colorRamp){const r=C(e.colorRamp,256,!0),s=f({colormap:r}),o=[],a=s.indexedColormap;for(let e=0;e<a.length;e+=4){const r=t({r:a[e],g:a[e+1],b:a[e+2]});o.push([r.h/60,r.s/100,255*r.v/100])}this.lookup={rendererJSON:e,colormapLut:s,hsvMap:o}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:r}=this.rasterInfo,s=a(t)?t.fields.find((e=>\"value\"===e.name.toLowerCase())):null,o=a(t)?t.fields.find((t=>t.name.toLowerCase()===e.field.toLowerCase())):null,n=null!=s&&null!==o;return{canUseIndexedLUT:[\"u8\",\"u16\",\"s8\",\"s16\"].includes(r)||n,tableValueField:s,tableBreakField:o}}_updateClassBreaksRenderer(e){const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:r,tableValueField:s,tableBreakField:o}=this._analyzeClassBreaks(e),a=e.classBreakInfos;if(!a?.length)return{success:!1,error:\"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"};const n=a.sort(((e,t)=>e.classMaxValue-t.classMaxValue)),i=n[n.length-1];let l=e.minValue;if(!r){const t=[];for(let e=0;e<n.length;e++)t.push({value:n[e].classMinValue??l,mappedColor:n[e].symbol.color}),l=n[e].classMaxValue;return t.push({value:i.classMaxValue,mappedColor:i.symbol.color}),this.lookup={rendererJSON:e,remapLut:t},this.canRenderInWebGL=!1,{success:!0}}const u=[];if(null!=s&&null!==o&&s!==o){const r=s.name,a=o.name,i=n[n.length-1],{classMaxValue:c}=i;l=e.minValue;for(const e of t.features){const t=e.attributes[r],s=e.attributes[a],o=s===c?i:s<l?null:n.find((({classMaxValue:e})=>e>s));o&&u.push([t].concat(o.symbol.color))}}else{l=Math.floor(e.minValue);for(let e=0;e<n.length;e++){const t=n[e];for(let e=l;e<t.classMaxValue;e++)u.push([e].concat(t.symbol.color));l=Math.ceil(t.classMaxValue)}i.classMaxValue===l&&u.push([i.classMaxValue].concat(i.symbol.color))}const c=f({colormap:u,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:c},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(e){return\"percentClip\"===e||\"histogramEqualization\"===e}_isValidRasterStatistics(e){return a(e)&&e.length>0&&null!=e[0].min&&null!=e[0].max}_updateStretchRenderer(e){let{stretchType:t,dra:r}=e;if(!(\"none\"===t||e.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||r))return{success:!1,error:\"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"};const s=o(e.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(e.stretchType)||s?.length||r||(t=\"minMax\");const{computeGamma:a,useGamma:n,colorRamp:i}=e;let{gamma:l}=e;if(n&&a&&!l?.length){const t=e.statistics?.length?e.statistics:o(this.rasterInfo.statistics);l=S(this.rasterInfo.pixelType,t)}const u=this.rasterInfo.pixelType,c=!r&&[\"u8\",\"u16\",\"s8\",\"s16\"].includes(u);if(\"histogramEqualization\"===t){const t=s.map((e=>k(e)));this.lookup={rendererJSON:e,histogramLut:t}}else if(c){const t=y(e,{rasterInfo:this.rasterInfo}),r=g({pixelType:u,...t,gamma:n?l:null});this.lookup={rendererJSON:e,stretchLut:r}}if(i){const t=C(i,256,!0);this.lookup||(this.lookup={rendererJSON:e}),this.lookup.colormapLut=f({colormap:t}),this.lookup.rendererJSON=e}return this.lookup.gamma=n&&l?.length?l:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(e,t,r){let s=null,o=null;const n=this.lookup&&this.lookup.colormapLut;t.colorRamp&&n&&(s=n.indexedColormap,o=n.offset),\"histogramEqualization\"===t.stretchType&&(t={...t,stretchType:\"minMax\"});const{gamma:i}=this.lookup,l=!!(t.useGamma&&i&&i.some((e=>1!==e))),{minCutOff:u,maxCutOff:c,outMin:p,outMax:d}=y(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:r});let h=0;a(e)&&(h=e.getPlaneCount(),2===h&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const m=Math.min(3,r?.length||h||this.rasterInfo.bandCount),f=new Float32Array(m),b=s||l?1:255;let g;for(g=0;g<m;g++)f[g]=(d-p)/(c[g]-u[g])/b;const S=new Float32Array(m);if(l)for(g=0;g<m;g++)i[g]>1?i[g]>2?S[g]=6.5+(i[g]-2)**2.5:S[g]=6.5+100*(2-i[g])**4:S[g]=1;return{bandCount:m,outMin:p/b,outMax:d/b,minCutOff:u,maxCutOff:c,factor:f,useGamma:l,gamma:l?i:[1,1,1],gammaCorrection:l?S:[1,1,1],colormap:s,colormapOffset:o,stretchType:t.stretchType,type:\"stretch\"}}_generateShadedReliefWebGLParams(e,t,r){let s=null,a=null;const n=this.lookup&&this.lookup.colormapLut;e.colorRamp&&n&&(s=n.indexedColormap,a=n.offset);const i={...e,isGCS:t,resolution:r},l=I(i),u=o(this.rasterInfo.statistics)?.[0];return{...l,minValue:u?.min??0,maxValue:u?.max??8e3,hillshadeType:\"traditional\"===e.hillshadeType?0:1,type:\"hillshade\",colormap:s,colormapOffset:a}}_generateVectorFieldWebGLParams(e){const{style:t,inputUnit:r,outputUnit:s,visualVariables:o,symbolTileSize:n,flowRepresentation:i}=e;let l;const u=this.rasterInfo.statistics?.[0].min??0,c=this.rasterInfo.statistics?.[0].max??50,p=o?.find((e=>\"sizeInfo\"===e.type))??{type:\"sizeInfo\",field:\"Magnitude\",maxDataValue:c,maxSize:.8*n,minDataValue:u,minSize:.2*n},d=p.minDataValue??u,h=p.maxDataValue??c,m=a(p.maxSize)&&a(p.minSize)?[p.minSize/n,p.maxSize/n]:[.2,.8];if(\"wind_speed\"===t){const e=(m[0]+m[1])/2;m[0]=m[1]=e}const f=a(d)&&a(h)?[d,h]:null;if(\"classified_arrow\"===t)if(a(d)&&a(h)&&a(p)){l=[];const e=(p.maxDataValue-p.minDataValue)/5;for(let t=0;t<6;t++)l.push(p.minDataValue+e*t)}else l=[0,1e-6,3.5,7,10.5,14];const b=\"flow_to\"===i===(\"ocean_current_kn\"===t||\"ocean_current_m\"===t)?0:Math.PI,y=o?.find((e=>\"rotationInfo\"===e.type));return{breakValues:l,dataRange:f,inputUnit:r,outputUnit:s,symbolTileSize:n,symbolPercentRange:m,style:t||\"single_arrow\",rotation:b,rotationType:this.rasterInfo.storageInfo?.tileInfo&&\"vector-uv\"===this.rasterInfo.dataType?\"geographic\":y?.rotationType||e.rotationType,type:\"vectorField\"}}};function T(e){return c(e)&&0!==e.validPixelCount}e([i({json:{write:!0}})],O.prototype,\"rendererJSON\",void 0),e([i({type:u,json:{write:!0}})],O.prototype,\"rasterInfo\",void 0),e([i({json:{write:!0}})],O.prototype,\"lookup\",void 0),e([i()],O.prototype,\"canRenderInWebGL\",void 0),O=e([l(\"esri.renderers.support.RasterSymbolizer\")],O);const U=O;export{U as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}