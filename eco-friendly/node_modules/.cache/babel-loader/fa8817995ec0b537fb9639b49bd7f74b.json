{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { ShaderOutput as t } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { ReloadableShaderModule as i } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as s } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as p } from \"../lib/Program.js\";\nimport { depthCompareLess as l, stencilWriteMaskOn as n, stencilToolMaskBaseParams as o, stencilBaseAllZerosParams as a } from \"../lib/StencilUtils.js\";\nimport { N as u } from \"../../../../chunks/NativeLine.glsl.js\";\nimport { BlendFactor as h, PrimitiveType as m } from \"../../../webgl/enums.js\";\nimport { separateBlendingParams as d, makePipelineState as c, defaultColorWriteParams as f, defaultDepthWriteParams as P } from \"../../../webgl/renderState.js\";\n\nclass g extends r {\n  constructor(e, t, i) {\n    super(e, t, i), this.stipplePattern = null, this.stippleTextureBind = null, this.stippleTextureRepository = e.stippleTextureRepository;\n  }\n\n  get stippleEnabled() {\n    return this.configuration.stippleEnabled && this.configuration.output !== t.Highlight;\n  }\n\n  initializeProgram(e) {\n    const t = g.shader.get().build(this.configuration);\n    return new p(e.rctx, t, s);\n  }\n\n  destroy() {\n    super.destroy(), this.stippleTextureRepository.release(this.stipplePattern), this.stipplePattern = null, this.stippleTextureBind = null;\n  }\n\n  bindPass(t, i) {\n    if (this.program.bindPass(t, i), this.stipplePattern !== t.stipplePattern) {\n      const e = t.stipplePattern;\n      this.stippleTextureBind = this.stippleTextureRepository.swap(this.stipplePattern, e), this.stipplePattern = e;\n    }\n\n    if (this.stippleEnabled) {\n      const {\n        pixelSize: t,\n        sdfNormalizer: i,\n        pixels: r\n      } = e(this.stippleTextureBind) ? this.stippleTextureBind(this.program) : {\n        pixelSize: 1,\n        sdfNormalizer: 1,\n        pixels: 1\n      };\n      this.program.setUniform1f(\"stipplePatternSDFNormalizer\", i), this.program.setUniform1f(\"stipplePatternTextureSize\", r), this.program.setUniform1f(\"stipplePatternPixelSize\", t), this.program.setUniform1f(\"stipplePatternPixelSizeInv\", 1 / t);\n    }\n  }\n\n  initializePipeline() {\n    const e = this.configuration,\n          i = d(h.SRC_ALPHA, h.ONE, h.ONE_MINUS_SRC_ALPHA, h.ONE_MINUS_SRC_ALPHA),\n          r = (t, i = null, r = null) => c({\n      blending: i,\n      depthTest: l,\n      depthWrite: r,\n      colorWrite: f,\n      stencilWrite: e.hasOccludees ? n : null,\n      stencilTest: e.hasOccludees ? t ? o : a : null\n    });\n\n    return e.output === t.Color ? (this._occludeePipelineState = r(!0, e.transparent || this.stippleEnabled ? i : null, P), r(!1, e.transparent || this.stippleEnabled ? i : null, P)) : r(!1);\n  }\n\n  get primitiveType() {\n    return m.LINES;\n  }\n\n  getPipelineState(e, t) {\n    return t ? this._occludeePipelineState : super.getPipelineState(e, t);\n  }\n\n}\n\ng.shader = new i(u, () => import(\"./NativeLine.glsl.js\"));\nexport { g as NativeLineTechnique };","map":{"version":3,"names":["isSome","e","ShaderOutput","t","ReloadableShaderModule","i","ShaderTechnique","r","Default3D","s","Program","p","depthCompareLess","l","stencilWriteMaskOn","n","stencilToolMaskBaseParams","o","stencilBaseAllZerosParams","a","N","u","BlendFactor","h","PrimitiveType","m","separateBlendingParams","d","makePipelineState","c","defaultColorWriteParams","f","defaultDepthWriteParams","P","g","constructor","stipplePattern","stippleTextureBind","stippleTextureRepository","stippleEnabled","configuration","output","Highlight","initializeProgram","shader","get","build","rctx","destroy","release","bindPass","program","swap","pixelSize","sdfNormalizer","pixels","setUniform1f","initializePipeline","SRC_ALPHA","ONE","ONE_MINUS_SRC_ALPHA","blending","depthTest","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","Color","_occludeePipelineState","transparent","primitiveType","LINES","getPipelineState","NativeLineTechnique"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as p}from\"../lib/Program.js\";import{depthCompareLess as l,stencilWriteMaskOn as n,stencilToolMaskBaseParams as o,stencilBaseAllZerosParams as a}from\"../lib/StencilUtils.js\";import{N as u}from\"../../../../chunks/NativeLine.glsl.js\";import{BlendFactor as h,PrimitiveType as m}from\"../../../webgl/enums.js\";import{separateBlendingParams as d,makePipelineState as c,defaultColorWriteParams as f,defaultDepthWriteParams as P}from\"../../../webgl/renderState.js\";class g extends r{constructor(e,t,i){super(e,t,i),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}get stippleEnabled(){return this.configuration.stippleEnabled&&this.configuration.output!==t.Highlight}initializeProgram(e){const t=g.shader.get().build(this.configuration);return new p(e.rctx,t,s)}destroy(){super.destroy(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(t,i){if(this.program.bindPass(t,i),this.stipplePattern!==t.stipplePattern){const e=t.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.stippleEnabled){const{pixelSize:t,sdfNormalizer:i,pixels:r}=e(this.stippleTextureBind)?this.stippleTextureBind(this.program):{pixelSize:1,sdfNormalizer:1,pixels:1};this.program.setUniform1f(\"stipplePatternSDFNormalizer\",i),this.program.setUniform1f(\"stipplePatternTextureSize\",r),this.program.setUniform1f(\"stipplePatternPixelSize\",t),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/t)}}initializePipeline(){const e=this.configuration,i=d(h.SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),r=(t,i=null,r=null)=>c({blending:i,depthTest:l,depthWrite:r,colorWrite:f,stencilWrite:e.hasOccludees?n:null,stencilTest:e.hasOccludees?t?o:a:null});return e.output===t.Color?(this._occludeePipelineState=r(!0,e.transparent||this.stippleEnabled?i:null,P),r(!1,e.transparent||this.stippleEnabled?i:null,P)):r(!1)}get primitiveType(){return m.LINES}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}g.shader=new i(u,(()=>import(\"./NativeLine.glsl.js\")));export{g as NativeLineTechnique};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}