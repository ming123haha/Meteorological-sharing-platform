{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { getMetersPerVerticalUnitForSR as e } from \"../../../core/unitUtils.js\";\nimport { equals as t } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { hasGeometry as r, OptimizedFeature as o } from \"../../../layers/graphics/OptimizedFeature.js\";\nimport i from \"../../../layers/graphics/OptimizedFeatureSet.js\";\nimport s from \"../../../layers/graphics/OptimizedGeometry.js\";\nconst n = [\"esriGeometryPoint\", \"esriGeometryMultipoint\", \"esriGeometryPolyline\", \"esriGeometryPolygon\"];\n\nclass a {\n  constructor(e) {\n    this.options = e, this.geometryTypes = n, this._coordinatePtr = 0, this._vertexDimension = 0;\n  }\n\n  createFeatureResult() {\n    return new i();\n  }\n\n  prepareFeatures(e) {\n    this._vertexDimension = 2, e.hasZ && this._vertexDimension++, e.hasM && this._vertexDimension++;\n  }\n\n  finishFeatureResult(o) {\n    if (!o || !o.features || !o.hasZ || !this.options.sourceSpatialReference || !o.spatialReference || t(o.spatialReference, this.options.sourceSpatialReference) || o.spatialReference.vcsWkid) return;\n    const i = e(this.options.sourceSpatialReference) / e(o.spatialReference);\n    if (1 !== i) for (const e of o.features) {\n      if (!r(e)) continue;\n      const t = e.geometry.coords;\n\n      for (let e = 2; e < t.length; e += 3) t[e] *= i;\n    }\n  }\n\n  addFeature(e, t) {\n    e.features.push(t);\n  }\n\n  createFeature() {\n    return new o();\n  }\n\n  createSpatialReference() {\n    return {\n      wkid: 0\n    };\n  }\n\n  createGeometry() {\n    return new s();\n  }\n\n  addField(e, t) {\n    e.fields.push(t);\n  }\n\n  allocateCoordinates(e) {\n    e.coords.length = e.lengths.reduce((e, t) => e + t, 0) * this._vertexDimension, this._coordinatePtr = 0;\n  }\n\n  addCoordinate(e, t) {\n    e.coords[this._coordinatePtr++] = t;\n  }\n\n  addCoordinatePoint(e, t) {\n    e.coords.push(t);\n  }\n\n  addLength(e, t) {\n    e.lengths.push(t);\n  }\n\n  addQueryGeometry(e, t) {\n    e.queryGeometry = t.queryGeometry, e.queryGeometryType = t.queryGeometryType;\n  }\n\n  createPointGeometry() {\n    return new s();\n  }\n\n}\n\nexport { n as OPTIMIZED_GEOMETRY_TYPES, a as OptimizedFeatureSetParserContext };","map":{"version":3,"names":["getMetersPerVerticalUnitForSR","e","equals","t","hasGeometry","r","OptimizedFeature","o","i","s","n","a","constructor","options","geometryTypes","_coordinatePtr","_vertexDimension","createFeatureResult","prepareFeatures","hasZ","hasM","finishFeatureResult","features","sourceSpatialReference","spatialReference","vcsWkid","geometry","coords","length","addFeature","push","createFeature","createSpatialReference","wkid","createGeometry","addField","fields","allocateCoordinates","lengths","reduce","addCoordinate","addCoordinatePoint","addLength","addQueryGeometry","queryGeometry","queryGeometryType","createPointGeometry","OPTIMIZED_GEOMETRY_TYPES","OptimizedFeatureSetParserContext"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";import{equals as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import{hasGeometry as r,OptimizedFeature as o}from\"../../../layers/graphics/OptimizedFeature.js\";import i from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const n=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class a{constructor(e){this.options=e,this.geometryTypes=n,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new i}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(o){if(!o||!o.features||!o.hasZ||!this.options.sourceSpatialReference||!o.spatialReference||t(o.spatialReference,this.options.sourceSpatialReference)||o.spatialReference.vcsWkid)return;const i=e(this.options.sourceSpatialReference)/e(o.spatialReference);if(1!==i)for(const e of o.features){if(!r(e))continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=i}}addFeature(e,t){e.features.push(t)}createFeature(){return new o}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{n as OPTIMIZED_GEOMETRY_TYPES,a as OptimizedFeatureSetParserContext};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,6BAA6B,IAAIC,CAAxC,QAA8C,4BAA9C;AAA2E,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,oDAAvB;AAA4E,SAAOC,WAAW,IAAIC,CAAtB,EAAwBC,gBAAgB,IAAIC,CAA5C,QAAkD,8CAAlD;AAAiG,OAAOC,CAAP,MAAa,iDAAb;AAA+D,OAAOC,CAAP,MAAa,+CAAb;AAA6D,MAAMC,CAAC,GAAC,CAAC,mBAAD,EAAqB,wBAArB,EAA8C,sBAA9C,EAAqE,qBAArE,CAAR;;AAAoG,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACX,CAAD,EAAG;IAAC,KAAKY,OAAL,GAAaZ,CAAb,EAAe,KAAKa,aAAL,GAAmBJ,CAAlC,EAAoC,KAAKK,cAAL,GAAoB,CAAxD,EAA0D,KAAKC,gBAAL,GAAsB,CAAhF;EAAkF;;EAAAC,mBAAmB,GAAE;IAAC,OAAO,IAAIT,CAAJ,EAAP;EAAa;;EAAAU,eAAe,CAACjB,CAAD,EAAG;IAAC,KAAKe,gBAAL,GAAsB,CAAtB,EAAwBf,CAAC,CAACkB,IAAF,IAAQ,KAAKH,gBAAL,EAAhC,EAAwDf,CAAC,CAACmB,IAAF,IAAQ,KAAKJ,gBAAL,EAAhE;EAAwF;;EAAAK,mBAAmB,CAACd,CAAD,EAAG;IAAC,IAAG,CAACA,CAAD,IAAI,CAACA,CAAC,CAACe,QAAP,IAAiB,CAACf,CAAC,CAACY,IAApB,IAA0B,CAAC,KAAKN,OAAL,CAAaU,sBAAxC,IAAgE,CAAChB,CAAC,CAACiB,gBAAnE,IAAqFrB,CAAC,CAACI,CAAC,CAACiB,gBAAH,EAAoB,KAAKX,OAAL,CAAaU,sBAAjC,CAAtF,IAAgJhB,CAAC,CAACiB,gBAAF,CAAmBC,OAAtK,EAA8K;IAAO,MAAMjB,CAAC,GAACP,CAAC,CAAC,KAAKY,OAAL,CAAaU,sBAAd,CAAD,GAAuCtB,CAAC,CAACM,CAAC,CAACiB,gBAAH,CAAhD;IAAqE,IAAG,MAAIhB,CAAP,EAAS,KAAI,MAAMP,CAAV,IAAeM,CAAC,CAACe,QAAjB,EAA0B;MAAC,IAAG,CAACjB,CAAC,CAACJ,CAAD,CAAL,EAAS;MAAS,MAAME,CAAC,GAACF,CAAC,CAACyB,QAAF,CAAWC,MAAnB;;MAA0B,KAAI,IAAI1B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACE,CAAC,CAACyB,MAAhB,EAAuB3B,CAAC,IAAE,CAA1B,EAA4BE,CAAC,CAACF,CAAD,CAAD,IAAMO,CAAN;IAAQ;EAAC;;EAAAqB,UAAU,CAAC5B,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAACqB,QAAF,CAAWQ,IAAX,CAAgB3B,CAAhB;EAAmB;;EAAA4B,aAAa,GAAE;IAAC,OAAO,IAAIxB,CAAJ,EAAP;EAAa;;EAAAyB,sBAAsB,GAAE;IAAC,OAAM;MAACC,IAAI,EAAC;IAAN,CAAN;EAAe;;EAAAC,cAAc,GAAE;IAAC,OAAO,IAAIzB,CAAJ,EAAP;EAAa;;EAAA0B,QAAQ,CAAClC,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAACmC,MAAF,CAASN,IAAT,CAAc3B,CAAd;EAAiB;;EAAAkC,mBAAmB,CAACpC,CAAD,EAAG;IAACA,CAAC,CAAC0B,MAAF,CAASC,MAAT,GAAgB3B,CAAC,CAACqC,OAAF,CAAUC,MAAV,CAAkB,CAACtC,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAA3B,EAA8B,CAA9B,IAAiC,KAAKa,gBAAtD,EAAuE,KAAKD,cAAL,GAAoB,CAA3F;EAA6F;;EAAAyB,aAAa,CAACvC,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAAC0B,MAAF,CAAS,KAAKZ,cAAL,EAAT,IAAgCZ,CAAhC;EAAkC;;EAAAsC,kBAAkB,CAACxC,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAAC0B,MAAF,CAASG,IAAT,CAAc3B,CAAd;EAAiB;;EAAAuC,SAAS,CAACzC,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAACqC,OAAF,CAAUR,IAAV,CAAe3B,CAAf;EAAkB;;EAAAwC,gBAAgB,CAAC1C,CAAD,EAAGE,CAAH,EAAK;IAACF,CAAC,CAAC2C,aAAF,GAAgBzC,CAAC,CAACyC,aAAlB,EAAgC3C,CAAC,CAAC4C,iBAAF,GAAoB1C,CAAC,CAAC0C,iBAAtD;EAAwE;;EAAAC,mBAAmB,GAAE;IAAC,OAAO,IAAIrC,CAAJ,EAAP;EAAa;;AAA/oC;;AAAgpC,SAAOC,CAAC,IAAIqC,wBAAZ,EAAqCpC,CAAC,IAAIqC,gCAA1C"},"metadata":{},"sourceType":"module"}