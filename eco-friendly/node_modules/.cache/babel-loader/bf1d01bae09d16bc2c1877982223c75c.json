{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport i from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { isSome as s, isNone as a } from \"../../../../core/maybe.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { projectBoundingRect as n } from \"../../../../geometry/projection.js\";\nimport { create as c } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { VisibilityFlag as h, VisibilityGroup as o } from \"./enums.js\";\nimport { scaleBoundsPredicate as p } from \"../../../support/layerViewUtils.js\";\nimport { TaskPriority as u } from \"../../../support/Scheduler.js\";\nlet g = class extends i {\n  constructor() {\n    super(...arguments), this._scaleRangeActive = !1, this.layerScaleRangeVisibilityQuery = !1, this.handles = new t(), this.graphicsCoreOwner = null, this.layer = null, this.queryGraphicUIDsInExtent = null, this.extent = null, this.graphicsCore = null, this.basemapTerrain = null, this.layerScaleEnabled = !0, this.suspended = !1, this.updating = !0;\n  }\n\n  setup(e, i, t, s, a) {\n    this.graphicsCoreOwner = e, this.layer = i, this.queryGraphicUIDsInExtent = t, this.graphicsCore = s, this.basemapTerrain = a, this.updateScaleRangeActive();\n    const r = this.graphicsCoreOwner.view.resourceController.scheduler;\n    this.handles.add(r.registerTask(u.SCALE_VISIBILITY, this));\n  }\n\n  destroy() {\n    this.handles.destroy(), this.handles = null, this.graphicsCoreOwner = null, this.extent = null, this.queryGraphicUIDsInExtent = null, this.graphicsCore = null;\n  }\n\n  _setDirty() {\n    this.updating || this._set(\"updating\", !0);\n  }\n\n  setExtent(e) {\n    const i = this.graphicsCoreOwner.view.spatialReference,\n          t = this.graphicsCoreOwner.view.basemapTerrain.spatialReference;\n    if (i === t) this.extent = e;else {\n      const s = c();\n      n(e, i, s, t) ? this.extent = s : this.extent = null;\n    }\n\n    this._setDirty();\n  }\n\n  scaleRangeActive() {\n    return this._scaleRangeActive;\n  }\n\n  updateScaleRangeActive() {\n    const e = this.layer,\n          i = e.effectiveScaleRange;\n    let t = this.layerScaleEnabled && y(i.minScale, i.maxScale);\n    e.labelingInfo && !t && (t = e.labelingInfo.some(e => e && y(e.minScale, e.maxScale)));\n    const s = this._scaleRangeActive !== t;\n    return this._scaleRangeActive = t, t && !this.handles.has(d) && this.basemapTerrain ? (this.handles.add(this.basemapTerrain.on(\"scale-change\", e => this._scaleUpdateHandler(e)), d), this.layerScaleEnabled && this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\", () => this._setDirty()), d)) : !t && this.handles.has(d) && this.handles.remove(d), s;\n  }\n\n  get running() {\n    return !(!this.graphicsCoreOwner.view.basemapTerrain || !this.updating);\n  }\n\n  runTask() {\n    const e = this.graphicsCoreOwner.view.basemapTerrain;\n\n    if (this.extent && e && e.ready && this._scaleRangeActive && this.layerScaleEnabled) {\n      if (!this.layerScaleRangeVisibilityQuery) {\n        this.layerScaleRangeVisibilityQuery = !0;\n        const i = this.layer.effectiveScaleRange;\n        e.queryVisibleScaleRange(this.extent, i.minScale, i.maxScale, e => this._finishUpdate(e));\n      }\n    } else this._finishUpdate(!0);\n  }\n\n  _finishUpdate(e) {\n    this.layerScaleRangeVisibilityQuery = !1, this._set(\"suspended\", !e), this._set(\"updating\", !1);\n  }\n\n  _visibleAtLayerScale(e) {\n    const i = this.layer.effectiveScaleRange;\n    return !this.layerScaleEnabled || p(e, i.minScale || 0, i.maxScale || 0);\n  }\n\n  _visibleAtLabelScale(e, i) {\n    return p(e, i.minScale || 0, i.maxScale || 0);\n  }\n\n  _graphicScale(e) {\n    let i;\n\n    if (s(e.centroid) ? i = e.centroid : s(e.graphic.geometry) && \"point\" === e.graphic.geometry.type && (i = e.graphic.geometry), i) {\n      return this.graphicsCoreOwner.view.basemapTerrain ? this.graphicsCoreOwner.view.basemapTerrain.getScale(i) : 1;\n    }\n\n    return null;\n  }\n\n  _graphicVisible(e) {\n    if (!this.layerScaleEnabled) return !0;\n\n    const i = this._graphicScale(e);\n\n    return this._visibleAtLayerScale(i);\n  }\n\n  updateVisibility(e) {\n    if (this._scaleRangeActive) {\n      const i = this._graphicVisible(e);\n\n      return e.setVisibilityFlag(h.SCALE_RANGE, i, o.GRAPHIC);\n    }\n\n    return !1;\n  }\n\n  updateGraphicLabelScaleVisibility(e) {\n    if (!this._scaleRangeActive) return !1;\n    if (!e.labelGraphics || 0 === e.labelGraphics.length) return !1;\n\n    const i = this._graphicScale(e),\n          t = this._updateLabelScaleVisibility(e, i);\n\n    return t && (this.graphicsCoreOwner.view.deconflictor.setDirty(), this.graphicsCoreOwner.view.labeler.setDirty()), t;\n  }\n\n  _updateLabelScaleVisibility(e, i) {\n    if (!e.labelGraphics || 0 === e.labelGraphics.length) return !1;\n    const t = e.labelGraphics[0]._labelClass;\n\n    if (t && null != t.minScale && null != t.maxScale) {\n      const s = this._visibleAtLabelScale(i, t);\n\n      if (e.setVisibilityFlag(h.SCALE_RANGE, s, o.LABEL)) return !0;\n    }\n\n    return !1;\n  }\n\n  _scaleUpdateHandler(e) {\n    if (this._setDirty(), this.graphicsCoreOwner.suspended) return;\n\n    const i = e.extent,\n          t = e.scale,\n          r = this._visibleAtLayerScale(t);\n\n    let l = !1;\n    this.queryGraphicUIDsInExtent(i, e.spatialReference, e => {\n      const n = this.graphicsCore.getGraphics3DGraphicById(e);\n      if (a(n)) return;\n      const c = n.centroid;\n      s(c) && (i[0] > c.x || i[1] > c.y || i[2] < c.x || i[3] < c.y) || (n.setVisibilityFlag(h.SCALE_RANGE, r, o.GRAPHIC) && (l = !0), this._updateLabelScaleVisibility(n, t) && (l = !0));\n    }), l && (this.graphicsCoreOwner.view.deconflictor.setDirty(), this.graphicsCoreOwner.view.labeler.setDirty());\n  }\n\n  layerMinMaxScaleChangeHandler() {\n    this.updateScaleRangeActive() && !this._scaleRangeActive ? this.graphicsCore.modifyGraphics3DGraphicVisibilities(e => e.clearVisibilityFlag(h.SCALE_RANGE)) : this._scaleRangeActive && this.graphicsCore.updateAllGraphicsVisibility(), this._setDirty();\n  }\n\n};\n\nfunction y(e, i) {\n  return e > 0 || i > 0;\n}\n\ne([r({\n  constructOnly: !0\n})], g.prototype, \"layerScaleEnabled\", void 0), e([r({\n  readOnly: !0\n})], g.prototype, \"suspended\", void 0), e([r({\n  readOnly: !0\n})], g.prototype, \"updating\", void 0), g = e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")], g);\nconst d = \"terrain-events\",\n      b = g;\nexport { b as default };","map":{"version":3,"names":["_","e","i","t","isSome","s","isNone","a","property","r","subclass","l","projectBoundingRect","n","create","c","VisibilityFlag","h","VisibilityGroup","o","scaleBoundsPredicate","p","TaskPriority","u","g","constructor","arguments","_scaleRangeActive","layerScaleRangeVisibilityQuery","handles","graphicsCoreOwner","layer","queryGraphicUIDsInExtent","extent","graphicsCore","basemapTerrain","layerScaleEnabled","suspended","updating","setup","updateScaleRangeActive","view","resourceController","scheduler","add","registerTask","SCALE_VISIBILITY","destroy","_setDirty","_set","setExtent","spatialReference","scaleRangeActive","effectiveScaleRange","y","minScale","maxScale","labelingInfo","some","has","d","on","_scaleUpdateHandler","remove","running","runTask","ready","queryVisibleScaleRange","_finishUpdate","_visibleAtLayerScale","_visibleAtLabelScale","_graphicScale","centroid","graphic","geometry","type","getScale","_graphicVisible","updateVisibility","setVisibilityFlag","SCALE_RANGE","GRAPHIC","updateGraphicLabelScaleVisibility","labelGraphics","length","_updateLabelScaleVisibility","deconflictor","setDirty","labeler","_labelClass","LABEL","scale","getGraphics3DGraphicById","x","layerMinMaxScaleChangeHandler","modifyGraphics3DGraphicVisibilities","clearVisibilityFlag","updateAllGraphicsVisibility","constructOnly","prototype","readOnly","b","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as n}from\"../../../../geometry/projection.js\";import{create as c}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityFlag as h,VisibilityGroup as o}from\"./enums.js\";import{scaleBoundsPredicate as p}from\"../../../support/layerViewUtils.js\";import{TaskPriority as u}from\"../../../support/Scheduler.js\";let g=class extends i{constructor(){super(...arguments),this._scaleRangeActive=!1,this.layerScaleRangeVisibilityQuery=!1,this.handles=new t,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.extent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this.updating=!0}setup(e,i,t,s,a){this.graphicsCoreOwner=e,this.layer=i,this.queryGraphicUIDsInExtent=t,this.graphicsCore=s,this.basemapTerrain=a,this.updateScaleRangeActive();const r=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(r.registerTask(u.SCALE_VISIBILITY,this))}destroy(){this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.extent=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this.extent=e;else{const s=c();n(e,i,s,t)?this.extent=s:this.extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&y(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&y(e.minScale,e.maxScale))));const s=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(d)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),d),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),d)):!t&&this.handles.has(d)&&this.handles.remove(d),s}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(){const e=this.graphicsCoreOwner.view.basemapTerrain;if(this.extent&&e&&e.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(!this.layerScaleRangeVisibilityQuery){this.layerScaleRangeVisibilityQuery=!0;const i=this.layer.effectiveScaleRange;e.queryVisibleScaleRange(this.extent,i.minScale,i.maxScale,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0)}_finishUpdate(e){this.layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._set(\"updating\",!1)}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||p(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return p(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(s(e.centroid)?i=e.centroid:s(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(h.SCALE_RANGE,i,o.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const t=e.labelGraphics[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const s=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(h.SCALE_RANGE,s,o.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),this.graphicsCoreOwner.suspended)return;const i=e.extent,t=e.scale,r=this._visibleAtLayerScale(t);let l=!1;this.queryGraphicUIDsInExtent(i,e.spatialReference,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if(a(n))return;const c=n.centroid;s(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(h.SCALE_RANGE,r,o.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(h.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function y(e,i){return e>0||i>0}e([r({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],g.prototype,\"suspended\",void 0),e([r({readOnly:!0})],g.prototype,\"updating\",void 0),g=e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const d=\"terrain-events\",b=g;export{b as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}