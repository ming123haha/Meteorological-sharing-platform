{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { neverReached as e } from \"../core/compilerUtils.js\";\nimport { ScreenSpacePass as r } from \"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";\nimport { FloatPassUniform as o } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { IntegerPassUniform as a } from \"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";\nimport { NoParameters as t, glsl as s } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as i } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { CompositingFunction as c } from \"../views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js\";\n\nclass d extends t {\n  constructor() {\n    super(...arguments), this.overlayIndex = 0, this.opacity = 1;\n  }\n\n}\n\nfunction u(t) {\n  const d = new i();\n  d.include(r);\n  const u = d.fragment;\n\n  switch (t.function) {\n    case c.Standard:\n      u.uniforms.add(new n(\"tex\", e => e.texture)), t.hasOpacityFactor ? (u.uniforms.add(new o(\"opacity\", e => e.opacity)), u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv) * opacity;\n}`)) : u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv);\n}`);\n      break;\n\n    case c.OverlayWithTransparency:\n      u.uniforms.add(new n(\"tex\", e => e.texture)), u.uniforms.add(new a(\"overlayIdx\", e => e.overlayIndex)), t.hasOpacityFactor && u.uniforms.add(new o(\"opacity\", e => e.opacity)), u.code.add(s`\n        void main() {\n          vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\n          gl_FragColor = texture2D(tex, overlayUV) ${t.hasOpacityFactor ? \"* opacity\" : \"\"};\n        }`);\n      break;\n\n    case c.TransparentToHUDVisibility:\n      u.uniforms.add(new n(\"tex\", e => e.texture)), u.code.add(s`void main() {\ngl_FragColor = vec4(1.0 - texture2D(tex, uv).a);\n}`);\n      break;\n\n    case c.Transparency:\n      u.uniforms.add([new n(\"colorTexture\", e => e.colorTexture), new n(\"alphaTexture\", e => e.alphaTexture), new n(\"frontFaceTexture\", e => e.frontFaceTexture)]), u.code.add(s`void main() {\nvec4 srcColor = texture2D(colorTexture, uv);\nif(srcColor.a <= 1e-5){\ndiscard;\n}\nfloat srcAlpha = texture2D(alphaTexture, uv).r;\nvec4 frontFace = texture2D(frontFaceTexture, uv);\ngl_FragColor = vec4(mix(srcColor.rgb/srcColor.a, frontFace.rgb, frontFace.a), 1.0 - srcAlpha);\n}`);\n      break;\n\n    case c.COUNT:\n      break;\n\n    default:\n      e(t.function);\n  }\n\n  return d;\n}\n\nconst l = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  CompositingPassParameters: d,\n  build: u\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { d as C, l as a, u as b };","map":{"version":3,"names":["neverReached","e","ScreenSpacePass","r","FloatPassUniform","o","IntegerPassUniform","a","NoParameters","t","glsl","s","ShaderBuilder","i","Texture2DPassUniform","n","CompositingFunction","c","d","constructor","arguments","overlayIndex","opacity","u","include","fragment","function","Standard","uniforms","add","texture","hasOpacityFactor","code","OverlayWithTransparency","TransparentToHUDVisibility","Transparency","colorTexture","alphaTexture","frontFaceTexture","COUNT","l","Object","freeze","defineProperty","__proto__","CompositingPassParameters","build","Symbol","toStringTag","value","C","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/Compositing.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../core/compilerUtils.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{NoParameters as t,glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{CompositingFunction as c}from\"../views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js\";class d extends t{constructor(){super(...arguments),this.overlayIndex=0,this.opacity=1}}function u(t){const d=new i;d.include(r);const u=d.fragment;switch(t.function){case c.Standard:u.uniforms.add(new n(\"tex\",(e=>e.texture))),t.hasOpacityFactor?(u.uniforms.add(new o(\"opacity\",(e=>e.opacity))),u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv) * opacity;\n}`)):u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv);\n}`);break;case c.OverlayWithTransparency:u.uniforms.add(new n(\"tex\",(e=>e.texture))),u.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),t.hasOpacityFactor&&u.uniforms.add(new o(\"opacity\",(e=>e.opacity))),u.code.add(s`\n        void main() {\n          vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\n          gl_FragColor = texture2D(tex, overlayUV) ${t.hasOpacityFactor?\"* opacity\":\"\"};\n        }`);break;case c.TransparentToHUDVisibility:u.uniforms.add(new n(\"tex\",(e=>e.texture))),u.code.add(s`void main() {\ngl_FragColor = vec4(1.0 - texture2D(tex, uv).a);\n}`);break;case c.Transparency:u.uniforms.add([new n(\"colorTexture\",(e=>e.colorTexture)),new n(\"alphaTexture\",(e=>e.alphaTexture)),new n(\"frontFaceTexture\",(e=>e.frontFaceTexture))]),u.code.add(s`void main() {\nvec4 srcColor = texture2D(colorTexture, uv);\nif(srcColor.a <= 1e-5){\ndiscard;\n}\nfloat srcAlpha = texture2D(alphaTexture, uv).r;\nvec4 frontFace = texture2D(frontFaceTexture, uv);\ngl_FragColor = vec4(mix(srcColor.rgb/srcColor.a, frontFace.rgb, frontFace.a), 1.0 - srcAlpha);\n}`);break;case c.COUNT:break;default:e(t.function)}return d}const l=Object.freeze(Object.defineProperty({__proto__:null,CompositingPassParameters:d,build:u},Symbol.toStringTag,{value:\"Module\"}));export{d as C,l as a,u as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}