{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Graphic.js\";\nimport i from \"../Viewpoint.js\";\nimport s from \"../core/Collection.js\";\nimport r from \"../core/CollectionFlattener.js\";\nimport n from \"../core/Error.js\";\nimport a from \"../core/has.js\";\nimport { isIterable as o } from \"../core/iteratorUtils.js\";\nimport l from \"../core/Logger.js\";\nimport { isSome as p, unwrap as h, isNone as c } from \"../core/maybe.js\";\nimport { throwIfAborted as d } from \"../core/promiseUtils.js\";\nimport { watch as u, whenOnce as m, sync as g, syncAndInitial as f } from \"../core/reactiveUtils.js\";\nimport { createScreenPoint as y } from \"../core/screenUtils.js\";\nimport w from \"../core/Warning.js\";\nimport { initialize as _ } from \"../core/workers/workers.js\";\nimport { property as v } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as V } from \"../core/accessorSupport/decorators/subclass.js\";\nimport S from \"../geometry/Extent.js\";\nimport j from \"../geometry/Point.js\";\nimport { isLoaded as T, load as R, canProjectWithoutEngine as b, project as x } from \"../geometry/projection.js\";\nimport { equals as M } from \"../geometry/support/spatialReferenceUtils.js\";\nimport O from \"../layers/support/TileInfo.js\";\nimport { BreakpointsOwner as k } from \"./BreakpointsOwner.js\";\nimport { DOMContainer as z } from \"./DOMContainer.js\";\nimport { PopupView as L } from \"./PopupView.js\";\nimport P from \"./View.js\";\nimport C from \"./ViewAnimation.js\";\nimport E from \"./2d/AnimationManager.js\";\nimport G from \"./2d/FrameTask.js\";\nimport { layerView2DImporter as N } from \"./2d/layerViewModuleImportUtils.js\";\nimport q from \"./2d/MapViewConstraints.js\";\nimport D from \"./2d/PaddedViewState.js\";\nimport \"./2d/tiling/PagedTileQueue.js\";\nimport A from \"./2d/tiling/TileInfoView.js\";\nimport \"./2d/tiling/TileKey.js\";\nimport \"./2d/tiling/TileQueue.js\";\nimport \"./2d/tiling/TileStrategy.js\";\nimport { centerAt as F, setExtent as U, rotateTo as I, scaleTo as W, copy as B, create as H, extentToScale as $, resize as J, angleBetween as Q } from \"./2d/viewpointUtils.js\";\nimport Z from \"./2d/input/MapViewInputManager.js\";\nimport K from \"./2d/layers/features/support/TileStore.js\";\nimport Y from \"./2d/support/HighlightOptions.js\";\nimport { Timeline as X } from \"./2d/support/Timeline.js\";\nimport ee from \"./support/createScreenshotPlan.js\";\nimport { encode as te, encodeData as ie, getMaximumResolutionScale as se, getFormatAndQuality as re } from \"./support/screenshotUtils.js\";\nimport { isSupportedScreenPointEvent as ne, createScreenPointFromSupportedEvent as ae } from \"./support/screenUtils.js\";\nimport { check as oe } from \"./support/WebGLRequirements.js\";\nimport le from \"./ui/2d/DefaultUI2D.js\";\nimport pe from \"../webmap/background/ColorBackground.js\";\nconst he = l.getLogger(\"esri.views.MapView\");\nlet ce, de, ue, me, ge, fe;\n\nasync function ye() {\n  const [, {\n    GraphicsView2D: e,\n    GraphicContainer: t,\n    LabelManager: i,\n    MapViewNavigation: s,\n    MagnifierView2D: r,\n    Stage: n\n  }] = await Promise.all([import(\"./2d/webglDeps.js\"), import(\"./2d/mapViewDeps.js\")]);\n  de = e, ue = t, me = i, ge = s, fe = r, ce = n;\n}\n\nconst we = 160;\n\nfunction _e(e) {\n  return e && \"esri.Viewpoint\" === e.declaredClass;\n}\n\nlet ve = class extends k(z(L(P))) {\n  constructor(e) {\n    super(e), this._magnifierView = null, this._stage = null, this._resolveWhenReady = [], this.rootLayerViews = new r({\n      getCollections: () => [this.basemapView?.baseLayerViews, this.layerViews, this.basemapView?.referenceLayerViews],\n      getChildrenFunction: () => null\n    }), this.featuresTilingScheme = null, this.fullOpacity = 1, this.graphicsView = null, this.labelManager = null, this.mapViewNavigation = null, this.renderingOptions = {\n      samplingMode: \"dynamic\",\n      edgeLabelsVisible: !0,\n      labelsAnimationTime: 125,\n      labelCollisionsEnabled: !0\n    }, this.rendering = !1, this.supersampleScreenshotsEnabled = !1, this.supportsGround = !1, this._stationaryTimer = null, this.frameTask = new G(this), this._pePromise = null, this.floors = new s(), this.highlightOptions = new Y(), this.inputManager = new Z({\n      view: this\n    }), this.map = null, this.resizeAlign = \"center\", this.spatialReferenceLocked = !1, this.timeline = new X(), this.type = \"2d\", this.ui = new le(), this._pixelFormat = {\n      flipY: !0,\n      premultipliedAlpha: !0\n    }, this.constraints = new q(), this.padding = {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }, this.handles.add([u(() => this.viewpoint, () => {\n      this._lastStationaryEventTimestamp = performance.now(), this._flipStationary(we);\n    }, g), this.on(\"resize\", e => this._resizeHandler(e)), u(() => this.animationManager?.animation, e => {\n      this.animation = e;\n    })]), _();\n  }\n\n  destroy() {\n    this._set(\"preconditionsReady\", !1), this._gotoTask = this.frameTask = null, this.rootLayerViews.destroy(), this.inputManager.destroy(), this._set(\"inputManager\", null);\n  }\n\n  get graphicsTileStore() {\n    return new K(this.featuresTilingScheme);\n  }\n\n  get initialExtentRequired() {\n    const {\n      scale: e,\n      constraints: t,\n      center: i,\n      viewpoint: s,\n      extent: r\n    } = this;\n    let n = this.zoom;\n    return !(this.map && \"initialViewProperties\" in this.map && this.map.initialViewProperties?.viewpoint) && !r && (t?.effectiveLODs || (n = -1), (!i || 0 === e && -1 === n) && (!s || !p(s.targetGeometry) || \"extent\" !== s.targetGeometry.type && !s.scale));\n  }\n\n  get resourceManager() {\n    return this._stage.resourceManager;\n  }\n\n  get textureManager() {\n    return this._stage.painter.textureManager;\n  }\n\n  get _defaultsFromMapSettings() {\n    return {\n      required: {\n        tileInfo: !0,\n        heightModelInfo: !1,\n        extent: !1\n      },\n      requiresExtentInSpatialReference: this.spatialReferenceLocked\n    };\n  }\n\n  get _projectionEngineLoaded() {\n    return !!T() || (this._pePromise || (this._pePromise = R().finally(() => {\n      this._pePromise = null;\n    })), !1);\n  }\n\n  get typeSpecificPreconditionsReady() {\n    const e = this._getDefaultViewpoint();\n\n    if (!e) return !1;\n    const t = this.spatialReference,\n          i = h(e.targetGeometry);\n    return !!b(i.spatialReference, t) || this._projectionEngineLoaded;\n  }\n\n  set animation(e) {\n    const t = this._get(\"animation\");\n\n    if (e === t) return;\n    if (t && t.stop(), !e || e.isFulfilled()) return void this._set(\"animation\", null);\n    this._set(\"animation\", e), this.frameTask.animationInProgress = !0;\n\n    const i = () => {\n      e === this._get(\"animation\") && (this._set(\"animation\", null), this.frameTask.requestFrame()), this.frameTask.animationInProgress = !1;\n    };\n\n    e.when(i, i);\n  }\n\n  get background() {\n    return this.get(\"map.initialViewProperties.background\") || null;\n  }\n\n  set background(e) {\n    void 0 === e ? this._clearOverride(\"background\") : this._override(\"background\", e);\n  }\n\n  get center() {\n    if (!this.ready) return this._get(\"center\");\n    const {\n      center: e,\n      spatialReference: t\n    } = this.state.paddedViewState;\n    return new j({\n      x: e[0],\n      y: e[1],\n      spatialReference: t\n    });\n  }\n\n  set center(e) {\n    if (null == e) return;\n    if (!this.ready) return this._set(\"center\", e), void this.notifyChange(\"initialExtentRequired\");\n    let t;\n\n    try {\n      t = this._project(e, this.spatialReference);\n    } catch (s) {\n      return void he.error(new n(\"mapview:invalid-center\", \"could not project the value in the view's spatial reference\", {\n        input: e,\n        error: s\n      }));\n    }\n\n    const i = this.viewpoint;\n    F(i, i, t), this.viewpoint = i;\n  }\n\n  set constraints(e) {\n    const t = this._get(\"constraints\");\n\n    t && (this.handles.remove(\"map-view-constraints\"), t.destroy()), this._set(\"constraints\", e), e && (e.view = this, this.ready && (this.state.viewpoint = e.fit(this.state.paddedViewState.viewpoint)), this.handles.add(u(() => e.version, () => {\n      this.ready && this.state && (this.state.viewpoint = e.fit(this.state.paddedViewState.viewpoint));\n    }, g), \"map-view-constraints\"));\n  }\n\n  get extent() {\n    return this.ready ? this.state.paddedViewState.extent.clone() : this._get(\"extent\");\n  }\n\n  set extent(e) {\n    if (null == e) return;\n    if (!e.width || !e.height) return void he.error(new n(\"mapview:invalid-extent\", \"invalid extent size\"));\n    if (!this.ready) return this._set(\"extent\", e), this._set(\"center\", null), this._set(\"viewpoint\", null), this._set(\"scale\", 0), this._set(\"zoom\", -1), void this.notifyChange(\"initialExtentRequired\");\n    let t;\n\n    try {\n      t = this._project(e, this.spatialReference);\n    } catch (s) {\n      return void he.error(new n(\"mapview:invalid-extent\", \"could not project the value in the view's spatial reference\", {\n        error: s\n      }));\n    }\n\n    const i = this.viewpoint;\n    U(i, i, t, this.size, {\n      constraints: this.constraints\n    }), this.viewpoint = i;\n  }\n\n  get padding() {\n    return this.ready ? this.state.padding : this._get(\"padding\");\n  }\n\n  set padding(e) {\n    this.ready ? (this.state.padding = e, this._set(\"padding\", this.state.padding)) : this._set(\"padding\", e);\n  }\n\n  get resolution() {\n    return this.state ? this.state.resolution : 0;\n  }\n\n  get rotation() {\n    return this.ready ? this.state.rotation : this._get(\"rotation\");\n  }\n\n  set rotation(e) {\n    if (isNaN(e)) return;\n    if (!this.ready) return void this._set(\"rotation\", e);\n    const t = this.viewpoint;\n    I(t, t, e), this.viewpoint = t;\n  }\n\n  get scale() {\n    return this.ready ? this.state.scale : this._get(\"scale\");\n  }\n\n  set scale(e) {\n    if (!e || isNaN(e)) return;\n\n    if (!this.ready) {\n      this._set(\"scale\", e), this._set(\"zoom\", -1);\n\n      const t = this._get(\"extent\");\n\n      return t && (this._set(\"extent\", null), this._set(\"center\", t.center)), void this.notifyChange(\"initialExtentRequired\");\n    }\n\n    const t = this.viewpoint;\n    W(t, t, e), this.viewpoint = t;\n  }\n\n  get stationary() {\n    return !(this.animation || this.navigating || this.resizing || this._stationaryTimer);\n  }\n\n  get updating() {\n    return !this.destroyed && (!this.layerViewManager || !this.labelManager || !this.graphicsView || !0 === this.layerViewManager.updating || !0 === this.labelManager.updating || !0 === this.graphicsView.updating || this.allLayerViews.some(e => !e.destroyed && !(\"layerViews\" in e) && !0 === e.updating));\n  }\n\n  get viewpoint() {\n    if (!this.ready) return this._get(\"viewpoint\");\n    const e = this.state.paddedViewState;\n    return e && e.viewpoint.clone();\n  }\n\n  set viewpoint(e) {\n    if (null == e) return;\n    if (!this.ready) return this._set(\"viewpoint\", e), this._set(\"extent\", null), this._set(\"center\", null), this._set(\"zoom\", -1), this._set(\"scale\", 0), void this.notifyChange(\"initialExtentRequired\");\n    let t, s;\n\n    try {\n      t = this._project(e, this.spatialReference), !e.scale || isNaN(e.scale) ? s = new n(\"mapview:invalid-viewpoint\", `invalid scale value of ${e.scale}`) : c(e.targetGeometry) && (s = new n(\"mapview:invalid-viewpoint\", \"geometry not defined\"));\n    } catch (a) {\n      s = new n(\"mapview:invalid-viewpoint\", \"could not project the value in the view's spatial reference\", {\n        error: a\n      });\n    }\n\n    if (s) return void he.error(s);\n    this._scaleBeforeChangingSpatialReference = null;\n    const r = new i({\n      targetGeometry: new j(),\n      scale: 0,\n      rotation: 0\n    });\n    B(r, t), this.constraints.constrain(r, this.state.paddedViewState.viewpoint), this.state.viewpoint = r, this.frameTask.requestFrame(), this._set(\"viewpoint\", r);\n  }\n\n  get zoom() {\n    return this.ready ? this.constraints.scaleToZoom(this.scale) : this._get(\"zoom\");\n  }\n\n  set zoom(e) {\n    if (null == e) return;\n\n    if (!this.ready) {\n      this._set(\"zoom\", e), this._set(\"scale\", 0);\n\n      const t = this._get(\"extent\");\n\n      return t && (this._set(\"extent\", null), this._set(\"center\", t.center)), void this.notifyChange(\"initialExtentRequired\");\n    }\n\n    if (!this.constraints.effectiveLODs) return void this._set(\"zoom\", -1);\n    const t = this.viewpoint;\n    W(t, t, this.constraints.zoomToScale(e)), this.viewpoint = t, this._set(\"zoom\", this.constraints.scaleToZoom(this.scale));\n  }\n\n  get navigating() {\n    return !(!this.mapViewNavigation || !this.mapViewNavigation.interacting);\n  }\n\n  goTo(e, t) {\n    if (e) return this.animation && (this.animation = null), this._createAnimation(), m(() => this.ready, t).then(() => {\n      const i = {\n        animate: !0,\n        ...t\n      },\n            s = H(e, this);\n      return this.animation.update(s), this._gotoTask = {}, i.animate ? this._gotoAnimated(s, i) : this._gotoImmediate(s, i);\n    });\n    he.error(\"#goTo()\", \"target cannot be null or undefined\");\n  }\n\n  async hitTest(e, t) {\n    const i = ne(e) ? ae(this, e) : e;\n    if (!this.ready || isNaN(i.x) || isNaN(i.y)) return {\n      screenPoint: i,\n      results: []\n    };\n    let s = new Set(),\n        r = !1,\n        n = null,\n        a = null;\n    t?.include ? Te(t.include, je(this, e => s.add(e), e => {\n      n || (n = new Set()), n.add(e);\n    }, e => s.add(e), () => r = !0)) : (r = !0, s = new Set(this.allLayerViews)), t?.exclude && Te(t.exclude, je(this, e => s.delete(e), e => {\n      a || (a = new Set()), a.add(e);\n    }));\n    const o = this.allLayerViews.filter(e => !e.suspended && s.has(e)).reverse(),\n          l = this.toMap(i);\n    let h = [...(r ? this.graphicsView.hitTest(l).map(e => ({\n      type: \"graphic\",\n      graphic: e,\n      layer: null,\n      mapPoint: l\n    })) : []), ...(await Promise.all(o.map(e => e.hitTest(l, i)).toArray()))].filter(p).flat().filter(p);\n    return n && (h = h.filter(e => !(\"graphic\" in e) || !e.graphic || n.has(Se(e.graphic)))), a && (h = h.filter(e => !(\"graphic\" in e) || !e.graphic || a.has(Se(e.graphic)))), {\n      screenPoint: i,\n      results: h\n    };\n  }\n\n  async takeScreenshot(e) {\n    const t = this._createScreenshotPlan(e),\n          i = await this._stage.takeScreenshot(t);\n\n    return te(i, {\n      format: t.format,\n      quality: t.quality,\n      rotation: 0,\n      disableDecorations: !1\n    }, this._pixelFormat);\n  }\n\n  async _takeScreenshot(e) {\n    const t = this._createScreenshotPlan(e),\n          i = await this._stage.takeScreenshot(t);\n\n    return ie(i, this._pixelFormat);\n  }\n\n  _createScreenshotPlan(e) {\n    e = e || {};\n    const t = this.supersampleScreenshotsEnabled ? Math.min(4, se(this.size, Math.min(4096, this._stage.context.parameters.maxTextureSize))) : 1;\n    let i;\n    e.layers ? (i = [], e.layers.forEach(e => {\n      const t = this.allLayerViews.find(t => t.layer.id === e.id);\n      t && \"container\" in t && t.container && i.push(t.container);\n    })) : i = this._stage.children;\n    const {\n      format: s,\n      quality: r\n    } = re(e.format, e.quality);\n    return ee(e, t, this.size, this.padding, s, r, i, e.rotation);\n  }\n\n  get test() {\n    return {\n      takeScreenshot: e => this._takeScreenshot(e)\n    };\n  }\n\n  toMap(e) {\n    if (!this.ready) return null;\n    const t = ne(e) ? ae(this, e) : e,\n          i = [0, 0],\n          [s, r] = this.state.toMap(i, [t.x, t.y]),\n          n = this.spatialReference;\n    return new j({\n      x: s,\n      y: r,\n      spatialReference: n\n    });\n  }\n\n  toScreen(e) {\n    if (!this.ready) return null;\n\n    const t = this._project(e, this.spatialReference),\n          i = [t.x, t.y];\n\n    return this.state.toScreen(i, i), y(i[0], i[1]);\n  }\n\n  on(e, t, i, s) {\n    const r = this.inputManager && this.viewEvents.on(e, t, i, s);\n    return r || super.on(e, t);\n  }\n\n  hasEventListener(e) {\n    return super.hasEventListener(e) || this.viewEvents.hasHandler(e);\n  }\n\n  whenLayerView(e) {\n    return super.whenLayerView(e);\n  }\n\n  graphicChanged(e) {\n    if (this.graphicsView) {\n      this.graphicsView.graphicUpdateHandler(e);\n    }\n  }\n\n  whenReady() {\n    return new Promise(e => {\n      this.ready ? e(this) : this._resolveWhenReady.push(e);\n    });\n  }\n\n  forceDOMReadyCycle() {\n    this.forceReadyCycle();\n  }\n\n  getDefaultSpatialReference() {\n    return this.map && \"initialViewProperties\" in this.map && this.map?.initialViewProperties?.spatialReference || this.defaultsFromMap?.spatialReference || null;\n  }\n\n  hasLayerViewModule(e) {\n    return N.hasLayerViewModule(e);\n  }\n\n  importLayerView(e) {\n    return N.importLayerView(e);\n  }\n\n  pixelSizeAt() {\n    return this.ready ? this.state.resolution : (he.error(\"#pixelSizeAt()\", \"Map view cannot be used before it is ready\"), null);\n  }\n\n  popupHitTest(e) {\n    return this.hitTest(e).then(t => ({ ...t,\n      mapPoint: this.toMap(e)\n    }));\n  }\n\n  requestUpdate() {\n    this.ready && this.frameTask.requestUpdate();\n  }\n\n  validate() {\n    let e = oe(this.type);\n    return a(\"safari\") && a(\"safari\") < 9 && (e = new n(\"mapview:browser-not-supported\", \"This browser is not supported by MapView (Safari < 9)\", {\n      type: \"safari\",\n      requiredVersion: 9,\n      detectedVersion: a(\"safari\")\n    })), p(e) ? (he.warn(\"#validate()\", e.message), Promise.reject(e)) : ye();\n  }\n\n  _createAnimation() {\n    return this.animation && !this.animation.done || (this.animation = new C()), this.animation;\n  }\n\n  _cancellableGoTo(e, t, i) {\n    const s = () => e === this._gotoTask,\n          r = i.then(() => {\n      s() && (this.animation = null);\n    }).catch(e => {\n      throw s() && (this.animation = null, t.done || (t.stop(), this.frameTask.animationInProgress = !1)), e;\n    }),\n          n = new Promise(e => e(r));\n\n    return t.when().catch(() => {\n      s() && n.cancel && n.cancel();\n    }), n;\n  }\n\n  _gotoImmediate(e, t) {\n    const i = this._gotoTask,\n          s = this.animation,\n          r = e.then(e => {\n      if (d(t), i !== this._gotoTask) throw new n(\"view:goto-interrupted\", \"Goto was interrupted\");\n      this.viewpoint = s.target = e, s.finish();\n    });\n    return this._cancellableGoTo(i, s, r);\n  }\n\n  _flipStationary(e) {\n    return null !== this._stationaryTimer || (this._stationaryTimer = setTimeout(() => {\n      this._stationaryTimer = null;\n\n      const e = performance.now() - this._lastStationaryEventTimestamp;\n\n      e < we && (this._stationaryTimer = this._flipStationary(e));\n    }, e)), this._stationaryTimer;\n  }\n\n  _getDefaultViewpoint() {\n    const {\n      constraints: e,\n      initialExtent: t,\n      map: s,\n      padding: r,\n      size: n\n    } = this;\n    if (!e) return null;\n    const a = s && \"initialViewProperties\" in s && s.initialViewProperties,\n          o = {\n      zoom: this._get(\"zoom\"),\n      scale: this._get(\"scale\"),\n      center: this._get(\"center\"),\n      extent: this._get(\"extent\"),\n      rotation: this._get(\"rotation\"),\n      viewpoint: this._get(\"viewpoint\"),\n      spatialReference: this._userSpatialReference\n    };\n    e.effectiveLODs ? -1 !== o.zoom && (o.scale = e.zoomToScale(o.zoom)) : o.zoom = -1;\n    let l = null,\n        c = null,\n        d = 0;\n    const u = o.viewpoint && o.viewpoint.rotation,\n          m = o.viewpoint && o.viewpoint.targetGeometry;\n    p(m) && (\"extent\" === m.type ? l = m : \"point\" === m.type && (c = m, d = o.viewpoint.scale));\n    const g = o.extent || l || h(a?.viewpoint?.targetGeometry)?.extent || t,\n          f = o.center || c || g?.center,\n          y = o.scale || d || a?.viewpoint?.scale || g && $(g, [n[0] - r.left - r.right, n[1] - r.top - r.bottom]),\n          w = o.rotation || u || a?.viewpoint?.rotation || 0;\n    return f && y ? new i({\n      targetGeometry: f,\n      scale: y,\n      rotation: w\n    }) : null;\n  }\n\n  _gotoAnimated(e, t) {\n    const i = this._gotoTask,\n          s = this.animation,\n          r = e.then(e => {\n      if (d(t), i !== this._gotoTask) throw new n(\"view:goto-interrupted\", \"Goto was interrupted\");\n      return s.update(e), this.animationManager.animate(s, this.viewpoint, t), s.when().then(() => {}, () => {});\n    });\n    return this._cancellableGoTo(i, s, r);\n  }\n\n  _project(e, t) {\n    const i = e && e.targetGeometry || e;\n    if (!t) return e;\n    if (!i) return null;\n    if (t.imageCoordinateSystem || i.spatialReference?.imageCoordinateSystem) return e;\n    if (M(t, i.spatialReference)) return e;\n    const s = x(i, t);\n    if (!s) throw new n(\"mapview:projection-not-possible\", \"projecting input geometry to target spatial reference returned a null value\", {\n      geometry: i,\n      spatialReference: t\n    });\n    return _e(e) ? (e.targetGeometry = s, e) : s;\n  }\n\n  _resizeHandler(e) {\n    if (!this.ready) return;\n    const t = this.state;\n    let i = this.state.paddedViewState.viewpoint;\n    const s = this.state.paddedViewState.size.concat();\n    t.size = [e.width, e.height], J(i, i, s, this.state.paddedViewState.size, this.resizeAlign), i = this.constraints.constrain(i, null), this.state.viewpoint = i;\n  }\n\n  _startup() {\n    this.timeline.begin(\"MapView Startup\");\n\n    const e = this._getDefaultViewpoint(),\n          t = e.targetGeometry;\n\n    try {\n      this._project(e, this.spatialReference);\n    } catch (o) {\n      he.warn(new w(\"mapview:startup-projection-error\", \"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\", {\n        center: t.toJSON(),\n        spatialReference: this.spatialReference,\n        error: o\n      })), e.targetGeometry = this.defaultsFromMap.extent?.center || new j({\n        x: 0,\n        y: 0,\n        spatialReference: this.spatialReference\n      });\n    }\n\n    this.constraints?.fit(e), this._set(\"state\", new D({\n      padding: this._get(\"padding\"),\n      size: this.size,\n      viewpoint: e\n    })), this.graphics.owner = this;\n    const i = new ce(this.surface, {\n      canvas: this.renderCanvas,\n      supersampleScreenshots: this.supersampleScreenshotsEnabled,\n      contextOptions: {\n        disabledExtensions: this.deactivatedWebGLExtensions,\n        debugWebGLExtensions: this.debugWebGLExtensions\n      },\n      renderingOptions: this.renderingOptions,\n      timeline: this.timeline\n    });\n    this._stage = i, this._magnifierView = new fe(), this._magnifierView.magnifier = this.magnifier;\n    const s = new me({\n      view: this\n    });\n\n    this._set(\"labelManager\", s);\n\n    const r = new E({\n      view: this\n    });\n\n    this._set(\"animationManager\", r);\n\n    const n = new ge({\n      view: this,\n      animationManager: r\n    });\n    this._set(\"mapViewNavigation\", n), this._setupSpatialReferenceDependentProperties(), this.handles.add([this.rootLayerViews.on(\"change\", () => this._updateStageChildren()), i.on(\"post-render\", () => this._set(\"rendering\", i.renderRequested)), i.on(\"will-render\", () => this._set(\"rendering\", i.renderRequested)), i.on(\"webgl-error\", e => this.fatalError = e.error), u(() => this.stationary, e => i.stationary = e, f), u(() => this.background, e => {\n      i.background = e, this._magnifierView.background = e;\n    }, f), u(() => this.magnifier, e => this._magnifierView.magnifier = e, f), u(() => this.renderingOptions, e => i.renderingOptions = e, f), u(() => this.highlightOptions, e => i.highlightOptions = e, f), u(() => this.state.id, () => i.state = this.state, f)], \"map-view\"), this._updateStageChildren();\n    const a = this._resolveWhenReady;\n    this._resolveWhenReady = [], a.forEach(e => e(this)), this.timeline.end(\"MapView Startup\"), this.frameTask && this.frameTask.start(), this._set(\"ready\", !0);\n  }\n\n  _teardown() {\n    this._destroySpatialReferenceDependentProperties(), this.handles.remove(\"map-view\"), this.mapViewNavigation.destroy(), this._set(\"mapViewNavigation\", null), this.animationManager.destroy(), this._set(\"animationManager\", null), this.layerViewManager.clear(), this.labelManager.destroy(), this._magnifierView.destroy(), this._stage.destroy(), this._stage = null, this._set(\"graphicsView\", null), this._magnifierView = null, this._set(\"labelManager\", null), this._set(\"mapViewNavigation\", null), this.graphics.owner = null, this.frameTask && this.frameTask.stop(), this._stationaryTimer && (clearTimeout(this._stationaryTimer), this._stationaryTimer = null), this._set(\"ready\", !1);\n    const {\n      center: [e, t],\n      spatialReference: i,\n      rotation: s,\n      scale: r\n    } = this.state.paddedViewState,\n          n = new j({\n      x: e,\n      y: t,\n      spatialReference: i\n    });\n    this._set(\"viewpoint\", null), this._set(\"extent\", null), this._set(\"center\", n), this._set(\"zoom\", -1), this._set(\"rotation\", s), this._set(\"scale\", r), this._set(\"spatialReference\", i), this._set(\"state\", null), this.animation = null;\n  }\n\n  _updateStageChildren() {\n    this._stage.removeAllChildren(), this.rootLayerViews.forEach(e => {\n      this._stage.addChild(e.container);\n    });\n    const e = this.graphicsView;\n    this._stage.addChild(e.container), this._stage.addChild(this._magnifierView);\n  }\n\n  _setupSpatialReferenceDependentProperties() {\n    const e = new A(O.create({\n      spatialReference: this.spatialReference,\n      size: 512,\n      numLODs: 36\n    }));\n\n    this._set(\"featuresTilingScheme\", e);\n\n    const t = new de({\n      view: this,\n      graphics: this.graphics,\n      requestUpdateCallback: () => this.requestUpdate(),\n      container: new ue(e)\n    });\n    this.frameTask.graphicsView = t, this._set(\"graphicsView\", t);\n  }\n\n  _destroySpatialReferenceDependentProperties() {\n    const e = this.graphicsView;\n    this._set(\"graphicsView\", null), this.frameTask.graphicsView = null, e.destroy(), this._set(\"featuresTilingScheme\", null);\n  }\n\n  _spatialReferenceChanged(e) {\n    if (!this.ready) return;\n    this.frameTask.stop();\n\n    for (const i of this.allLayerViews) i.processDetach();\n\n    this._destroySpatialReferenceDependentProperties();\n\n    const t = this.state.paddedViewState.clone();\n    if (c(this._scaleBeforeChangingSpatialReference)) this._scaleBeforeChangingSpatialReference = t.scale;else {\n      const e = t.viewpoint.clone();\n      e.scale = this._scaleBeforeChangingSpatialReference, t.viewpoint = e;\n    }\n    const s = t.clone(),\n          [r, n] = t.center;\n    let o = null;\n\n    try {\n      o = this._project(new j({\n        x: r,\n        y: n,\n        spatialReference: t.spatialReference\n      }), e);\n    } catch (p) {\n      T() || he.warn(new w(\"mapview:spatial-reference-change\", \"could not project the view's center to the new spatial reference\", {\n        center: o.toJSON(),\n        spatialReference: e,\n        error: p\n      }));\n    }\n\n    o || (o = new j({\n      x: 0,\n      y: 0,\n      spatialReference: e\n    }));\n    const l = F(new i({\n      targetGeometry: new j(),\n      scale: 0,\n      rotation: 0\n    }), t.viewpoint, o);\n    s.viewpoint = l;\n\n    try {\n      const i = 20,\n            r = [t.size[0] / 2, t.size[1] / 2],\n            n = [r[0] + i, r[1]],\n            o = t.toMap([0, 0], n),\n            {\n        x: p,\n        y: h\n      } = this._project(new j({\n        x: o[0],\n        y: o[1],\n        spatialReference: t.spatialReference\n      }), e);\n\n      o[0] = p, o[1] = h, s.toScreen(o, o);\n      const c = Q(r, o, n),\n            d = Math.hypot(o[0] - r[0], o[1] - r[1]) / i;\n      !Number.isFinite(d) || Math.abs(d) > 4 ? (l.rotation = 0, l.targetGeometry = new j({\n        x: 0,\n        y: 0,\n        spatialReference: e\n      })) : (l.scale *= d, l.scale > a(\"mapview-srswitch-adjust-rotation-scale-threshold\") ? l.rotation = 0 : l.rotation += Number.isFinite(c) ? c : 0);\n    } catch {}\n\n    this._get(\"constraints\").constrain(l, null), this._get(\"state\").viewpoint = l, this._stage.state = this.state, this._setupSpatialReferenceDependentProperties();\n\n    for (const i of this.allLayerViews) i.processAttach();\n\n    this.frameTask.requestFrame(), this.frameTask.start(), this._updateStageChildren();\n  }\n\n};\nve.type = \"2d\", e([v({\n  readOnly: !0\n})], ve.prototype, \"animationManager\", void 0), e([v({\n  constructOnly: !0\n})], ve.prototype, \"deactivatedWebGLExtensions\", void 0), e([v({\n  constructOnly: !0\n})], ve.prototype, \"debugWebGLExtensions\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"featuresTilingScheme\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"fullOpacity\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"graphicsTileStore\", null), e([v()], ve.prototype, \"graphicsView\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"state\", void 0), e([v()], ve.prototype, \"initialExtentRequired\", null), e([v()], ve.prototype, \"labelManager\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"resourceManager\", null), e([v({\n  readOnly: !0\n})], ve.prototype, \"textureManager\", null), e([v({\n  readOnly: !0\n})], ve.prototype, \"mapViewNavigation\", void 0), e([v({\n  constructOnly: !0\n})], ve.prototype, \"renderCanvas\", void 0), e([v()], ve.prototype, \"renderingOptions\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"rendering\", void 0), e([v({\n  constructOnly: !0\n})], ve.prototype, \"supersampleScreenshotsEnabled\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"supportsGround\", void 0), e([v()], ve.prototype, \"_stationaryTimer\", void 0), e([v()], ve.prototype, \"_defaultsFromMapSettings\", null), e([v()], ve.prototype, \"_pePromise\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"typeSpecificPreconditionsReady\", null), e([v()], ve.prototype, \"animation\", null), e([v({\n  type: pe\n})], ve.prototype, \"background\", null), e([v({\n  value: null,\n  type: j,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"center\", null), e([v({\n  type: q\n})], ve.prototype, \"constraints\", null), e([v({\n  value: null,\n  type: S,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"extent\", null), e([v()], ve.prototype, \"floors\", void 0), e([v({\n  type: Y\n})], ve.prototype, \"highlightOptions\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"inputManager\", void 0), e([v()], ve.prototype, \"map\", void 0), e([v({\n  value: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  cast: e => ({\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...e\n  })\n})], ve.prototype, \"padding\", null), e([v()], ve.prototype, \"resizeAlign\", void 0), e([v({\n  readOnly: !0,\n  dependsOn: [\"state.id\"]\n})], ve.prototype, \"resolution\", null), e([v({\n  value: 0,\n  type: Number,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"rotation\", null), e([v({\n  value: 0,\n  type: Number,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"scale\", null), e([v({\n  constructOnly: !0\n})], ve.prototype, \"spatialReferenceLocked\", void 0), e([v()], ve.prototype, \"stationary\", null), e([v({\n  type: X,\n  readOnly: !0\n})], ve.prototype, \"timeline\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"type\", void 0), e([v({\n  readOnly: !0\n})], ve.prototype, \"updating\", null), e([v({\n  value: null,\n  type: i,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"viewpoint\", null), e([v({\n  value: -1,\n  dependsOn: [\"state.id\", \"ready\"]\n})], ve.prototype, \"zoom\", null), e([v({\n  type: Boolean\n})], ve.prototype, \"navigating\", null), e([v({\n  type: le\n})], ve.prototype, \"ui\", void 0), ve = e([V(\"esri.views.MapView\")], ve);\nconst Ve = ve;\n\nfunction Se(e) {\n  const t = e.getObjectId();\n  return t ? `${e.layer?.uid ?? e.sourceLayer?.uid ?? \"MapView\"}/${t}` : `\"MapView/${e.uid}`;\n}\n\nfunction je(e, i, s, r, n) {\n  return a => {\n    if (a instanceof t) {\n      if (a.layer === e) n?.();else {\n        const t = e.allLayerViews.find(e => e.layer === a.layer);\n        t && r?.(t);\n      }\n      s(Se(a));\n    } else {\n      const t = e.allLayerViews.find(e => e.layer === a);\n      t && i(t);\n    }\n  };\n}\n\nfunction Te(e, t) {\n  if (e) if (o(e)) {\n    for (const i of e) if (o(i)) for (const e of i) t(e);else t(i);\n  } else t(e);\n}\n\nexport { Ve as default };","map":{"version":3,"names":["_","e","t","i","s","r","n","a","isIterable","o","l","isSome","p","unwrap","h","isNone","c","throwIfAborted","d","watch","u","whenOnce","m","sync","g","syncAndInitial","f","createScreenPoint","y","w","initialize","property","v","subclass","V","S","j","isLoaded","T","load","R","canProjectWithoutEngine","b","project","x","equals","M","O","BreakpointsOwner","k","DOMContainer","z","PopupView","L","P","C","E","G","layerView2DImporter","N","q","D","A","centerAt","F","setExtent","U","rotateTo","I","scaleTo","W","copy","B","create","H","extentToScale","$","resize","J","angleBetween","Q","Z","K","Y","Timeline","X","ee","encode","te","encodeData","ie","getMaximumResolutionScale","se","getFormatAndQuality","re","isSupportedScreenPointEvent","ne","createScreenPointFromSupportedEvent","ae","check","oe","le","pe","he","getLogger","ce","de","ue","me","ge","fe","ye","GraphicsView2D","GraphicContainer","LabelManager","MapViewNavigation","MagnifierView2D","Stage","Promise","all","we","_e","declaredClass","ve","constructor","_magnifierView","_stage","_resolveWhenReady","rootLayerViews","getCollections","basemapView","baseLayerViews","layerViews","referenceLayerViews","getChildrenFunction","featuresTilingScheme","fullOpacity","graphicsView","labelManager","mapViewNavigation","renderingOptions","samplingMode","edgeLabelsVisible","labelsAnimationTime","labelCollisionsEnabled","rendering","supersampleScreenshotsEnabled","supportsGround","_stationaryTimer","frameTask","_pePromise","floors","highlightOptions","inputManager","view","map","resizeAlign","spatialReferenceLocked","timeline","type","ui","_pixelFormat","flipY","premultipliedAlpha","constraints","padding","top","right","bottom","left","handles","add","viewpoint","_lastStationaryEventTimestamp","performance","now","_flipStationary","on","_resizeHandler","animationManager","animation","destroy","_set","_gotoTask","graphicsTileStore","initialExtentRequired","scale","center","extent","zoom","initialViewProperties","effectiveLODs","targetGeometry","resourceManager","textureManager","painter","_defaultsFromMapSettings","required","tileInfo","heightModelInfo","requiresExtentInSpatialReference","_projectionEngineLoaded","finally","typeSpecificPreconditionsReady","_getDefaultViewpoint","spatialReference","_get","stop","isFulfilled","animationInProgress","requestFrame","when","background","get","_clearOverride","_override","ready","state","paddedViewState","notifyChange","_project","error","input","remove","fit","version","clone","width","height","size","resolution","rotation","isNaN","stationary","navigating","resizing","updating","destroyed","layerViewManager","allLayerViews","some","_scaleBeforeChangingSpatialReference","constrain","scaleToZoom","zoomToScale","interacting","goTo","_createAnimation","then","animate","update","_gotoAnimated","_gotoImmediate","hitTest","screenPoint","results","Set","include","Te","je","exclude","delete","filter","suspended","has","reverse","toMap","graphic","layer","mapPoint","toArray","flat","Se","takeScreenshot","_createScreenshotPlan","format","quality","disableDecorations","_takeScreenshot","Math","min","context","parameters","maxTextureSize","layers","forEach","find","id","container","push","children","test","toScreen","viewEvents","hasEventListener","hasHandler","whenLayerView","graphicChanged","graphicUpdateHandler","whenReady","forceDOMReadyCycle","forceReadyCycle","getDefaultSpatialReference","defaultsFromMap","hasLayerViewModule","importLayerView","pixelSizeAt","popupHitTest","requestUpdate","validate","requiredVersion","detectedVersion","warn","message","reject","done","_cancellableGoTo","catch","cancel","target","finish","setTimeout","initialExtent","_userSpatialReference","imageCoordinateSystem","geometry","concat","_startup","begin","toJSON","graphics","owner","surface","canvas","renderCanvas","supersampleScreenshots","contextOptions","disabledExtensions","deactivatedWebGLExtensions","debugWebGLExtensions","magnifier","_setupSpatialReferenceDependentProperties","_updateStageChildren","renderRequested","fatalError","end","start","_teardown","_destroySpatialReferenceDependentProperties","clear","clearTimeout","removeAllChildren","addChild","numLODs","requestUpdateCallback","_spatialReferenceChanged","processDetach","hypot","Number","isFinite","abs","processAttach","readOnly","prototype","constructOnly","value","dependsOn","cast","Boolean","Ve","getObjectId","uid","sourceLayer","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/MapView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Graphic.js\";import i from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import r from\"../core/CollectionFlattener.js\";import n from\"../core/Error.js\";import a from\"../core/has.js\";import{isIterable as o}from\"../core/iteratorUtils.js\";import l from\"../core/Logger.js\";import{isSome as p,unwrap as h,isNone as c}from\"../core/maybe.js\";import{throwIfAborted as d}from\"../core/promiseUtils.js\";import{watch as u,whenOnce as m,sync as g,syncAndInitial as f}from\"../core/reactiveUtils.js\";import{createScreenPoint as y}from\"../core/screenUtils.js\";import w from\"../core/Warning.js\";import{initialize as _}from\"../core/workers/workers.js\";import{property as v}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as V}from\"../core/accessorSupport/decorators/subclass.js\";import S from\"../geometry/Extent.js\";import j from\"../geometry/Point.js\";import{isLoaded as T,load as R,canProjectWithoutEngine as b,project as x}from\"../geometry/projection.js\";import{equals as M}from\"../geometry/support/spatialReferenceUtils.js\";import O from\"../layers/support/TileInfo.js\";import{BreakpointsOwner as k}from\"./BreakpointsOwner.js\";import{DOMContainer as z}from\"./DOMContainer.js\";import{PopupView as L}from\"./PopupView.js\";import P from\"./View.js\";import C from\"./ViewAnimation.js\";import E from\"./2d/AnimationManager.js\";import G from\"./2d/FrameTask.js\";import{layerView2DImporter as N}from\"./2d/layerViewModuleImportUtils.js\";import q from\"./2d/MapViewConstraints.js\";import D from\"./2d/PaddedViewState.js\";import\"./2d/tiling/PagedTileQueue.js\";import A from\"./2d/tiling/TileInfoView.js\";import\"./2d/tiling/TileKey.js\";import\"./2d/tiling/TileQueue.js\";import\"./2d/tiling/TileStrategy.js\";import{centerAt as F,setExtent as U,rotateTo as I,scaleTo as W,copy as B,create as H,extentToScale as $,resize as J,angleBetween as Q}from\"./2d/viewpointUtils.js\";import Z from\"./2d/input/MapViewInputManager.js\";import K from\"./2d/layers/features/support/TileStore.js\";import Y from\"./2d/support/HighlightOptions.js\";import{Timeline as X}from\"./2d/support/Timeline.js\";import ee from\"./support/createScreenshotPlan.js\";import{encode as te,encodeData as ie,getMaximumResolutionScale as se,getFormatAndQuality as re}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as ne,createScreenPointFromSupportedEvent as ae}from\"./support/screenUtils.js\";import{check as oe}from\"./support/WebGLRequirements.js\";import le from\"./ui/2d/DefaultUI2D.js\";import pe from\"../webmap/background/ColorBackground.js\";const he=l.getLogger(\"esri.views.MapView\");let ce,de,ue,me,ge,fe;async function ye(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:s,MagnifierView2D:r,Stage:n}]=await Promise.all([import(\"./2d/webglDeps.js\"),import(\"./2d/mapViewDeps.js\")]);de=e,ue=t,me=i,ge=s,fe=r,ce=n}const we=160;function _e(e){return e&&\"esri.Viewpoint\"===e.declaredClass}let ve=class extends(k(z(L(P)))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new r({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:\"dynamic\",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new G(this),this._pePromise=null,this.floors=new s,this.highlightOptions=new Y,this.inputManager=new Z({view:this}),this.map=null,this.resizeAlign=\"center\",this.spatialReferenceLocked=!1,this.timeline=new X,this.type=\"2d\",this.ui=new le,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new q,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([u((()=>this.viewpoint),(()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(we)}),g),this.on(\"resize\",(e=>this._resizeHandler(e))),u((()=>this.animationManager?.animation),(e=>{this.animation=e}))]),_()}destroy(){this._set(\"preconditionsReady\",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set(\"inputManager\",null)}get graphicsTileStore(){return new K(this.featuresTilingScheme)}get initialExtentRequired(){const{scale:e,constraints:t,center:i,viewpoint:s,extent:r}=this;let n=this.zoom;return!(this.map&&\"initialViewProperties\"in this.map&&this.map.initialViewProperties?.viewpoint)&&(!r&&(t?.effectiveLODs||(n=-1),(!i||0===e&&-1===n)&&(!s||!p(s.targetGeometry)||\"extent\"!==s.targetGeometry.type&&!s.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!T()||(this._pePromise||(this._pePromise=R().finally((()=>{this._pePromise=null}))),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,i=h(e.targetGeometry);return!!b(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get(\"animation\");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set(\"animation\",null);this._set(\"animation\",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get(\"animation\")&&(this._set(\"animation\",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(i,i)}get background(){return this.get(\"map.initialViewProperties.background\")||null}set background(e){void 0===e?this._clearOverride(\"background\"):this._override(\"background\",e)}get center(){if(!this.ready)return this._get(\"center\");const{center:e,spatialReference:t}=this.state.paddedViewState;return new j({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return this._set(\"center\",e),void this.notifyChange(\"initialExtentRequired\");let t;try{t=this._project(e,this.spatialReference)}catch(s){return void he.error(new n(\"mapview:invalid-center\",\"could not project the value in the view's spatial reference\",{input:e,error:s}))}const i=this.viewpoint;F(i,i,t),this.viewpoint=i}set constraints(e){const t=this._get(\"constraints\");t&&(this.handles.remove(\"map-view-constraints\"),t.destroy()),this._set(\"constraints\",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(u((()=>e.version),(()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))}),g),\"map-view-constraints\"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get(\"extent\")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void he.error(new n(\"mapview:invalid-extent\",\"invalid extent size\"));if(!this.ready)return this._set(\"extent\",e),this._set(\"center\",null),this._set(\"viewpoint\",null),this._set(\"scale\",0),this._set(\"zoom\",-1),void this.notifyChange(\"initialExtentRequired\");let t;try{t=this._project(e,this.spatialReference)}catch(s){return void he.error(new n(\"mapview:invalid-extent\",\"could not project the value in the view's spatial reference\",{error:s}))}const i=this.viewpoint;U(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get(\"padding\")}set padding(e){this.ready?(this.state.padding=e,this._set(\"padding\",this.state.padding)):this._set(\"padding\",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get(\"rotation\")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set(\"rotation\",e);const t=this.viewpoint;I(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get(\"scale\")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set(\"scale\",e),this._set(\"zoom\",-1);const t=this._get(\"extent\");return t&&(this._set(\"extent\",null),this._set(\"center\",t.center)),void this.notifyChange(\"initialExtentRequired\")}const t=this.viewpoint;W(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!(\"layerViews\"in e)&&!0===e.updating)))}get viewpoint(){if(!this.ready)return this._get(\"viewpoint\");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set(\"viewpoint\",e),this._set(\"extent\",null),this._set(\"center\",null),this._set(\"zoom\",-1),this._set(\"scale\",0),void this.notifyChange(\"initialExtentRequired\");let t,s;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?s=new n(\"mapview:invalid-viewpoint\",`invalid scale value of ${e.scale}`):c(e.targetGeometry)&&(s=new n(\"mapview:invalid-viewpoint\",\"geometry not defined\"))}catch(a){s=new n(\"mapview:invalid-viewpoint\",\"could not project the value in the view's spatial reference\",{error:a})}if(s)return void he.error(s);this._scaleBeforeChangingSpatialReference=null;const r=new i({targetGeometry:new j,scale:0,rotation:0});B(r,t),this.constraints.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this.frameTask.requestFrame(),this._set(\"viewpoint\",r)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get(\"zoom\")}set zoom(e){if(null==e)return;if(!this.ready){this._set(\"zoom\",e),this._set(\"scale\",0);const t=this._get(\"extent\");return t&&(this._set(\"extent\",null),this._set(\"center\",t.center)),void this.notifyChange(\"initialExtentRequired\")}if(!this.constraints.effectiveLODs)return void this._set(\"zoom\",-1);const t=this.viewpoint;W(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set(\"zoom\",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),m((()=>this.ready),t).then((()=>{const i={animate:!0,...t},s=H(e,this);return this.animation.update(s),this._gotoTask={},i.animate?this._gotoAnimated(s,i):this._gotoImmediate(s,i)}));he.error(\"#goTo()\",\"target cannot be null or undefined\")}async hitTest(e,t){const i=ne(e)?ae(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let s=new Set,r=!1,n=null,a=null;t?.include?Te(t.include,je(this,(e=>s.add(e)),(e=>{n||(n=new Set),n.add(e)}),(e=>s.add(e)),(()=>r=!0))):(r=!0,s=new Set(this.allLayerViews)),t?.exclude&&Te(t.exclude,je(this,(e=>s.delete(e)),(e=>{a||(a=new Set),a.add(e)})));const o=this.allLayerViews.filter((e=>!e.suspended&&s.has(e))).reverse(),l=this.toMap(i);let h=[...r?this.graphicsView.hitTest(l).map((e=>({type:\"graphic\",graphic:e,layer:null,mapPoint:l}))):[],...await Promise.all(o.map((e=>e.hitTest(l,i))).toArray())].filter(p).flat().filter(p);return n&&(h=h.filter((e=>!(\"graphic\"in e)||!e.graphic||n.has(Se(e.graphic))))),a&&(h=h.filter((e=>!(\"graphic\"in e)||!e.graphic||a.has(Se(e.graphic))))),{screenPoint:i,results:h}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return te(i,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return ie(i,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,se(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach((e=>{const t=this.allLayerViews.find((t=>t.layer.id===e.id));t&&\"container\"in t&&t.container&&i.push(t.container)}))):i=this._stage.children;const{format:s,quality:r}=re(e.format,e.quality);return ee(e,t,this.size,this.padding,s,r,i,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=ne(e)?ae(this,e):e,i=[0,0],[s,r]=this.state.toMap(i,[t.x,t.y]),n=this.spatialReference;return new j({x:s,y:r,spatialReference:n})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),y(i[0],i[1])}on(e,t,i,s){const r=this.inputManager&&this.viewEvents.on(e,t,i,s);return r||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){if(this.graphicsView){this.graphicsView.graphicUpdateHandler(e)}}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(e){return N.hasLayerViewModule(e)}importLayerView(e){return N.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(he.error(\"#pixelSizeAt()\",\"Map view cannot be used before it is ready\"),null)}popupHitTest(e){return this.hitTest(e).then((t=>({...t,mapPoint:this.toMap(e)})))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=oe(this.type);return a(\"safari\")&&a(\"safari\")<9&&(e=new n(\"mapview:browser-not-supported\",\"This browser is not supported by MapView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:a(\"safari\")})),p(e)?(he.warn(\"#validate()\",e.message),Promise.reject(e)):ye()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new C),this.animation}_cancellableGoTo(e,t,i){const s=()=>e===this._gotoTask,r=i.then((()=>{s()&&(this.animation=null)})).catch((e=>{throw s()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),e})),n=new Promise((e=>e(r)));return t.when().catch((()=>{s()&&n.cancel&&n.cancel()})),n}_gotoImmediate(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(d(t),i!==this._gotoTask)throw new n(\"view:goto-interrupted\",\"Goto was interrupted\");this.viewpoint=s.target=e,s.finish()}));return this._cancellableGoTo(i,s,r)}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((()=>{this._stationaryTimer=null;const e=performance.now()-this._lastStationaryEventTimestamp;e<we&&(this._stationaryTimer=this._flipStationary(e))}),e)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:s,padding:r,size:n}=this;if(!e)return null;const a=s&&\"initialViewProperties\"in s&&s.initialViewProperties,o={zoom:this._get(\"zoom\"),scale:this._get(\"scale\"),center:this._get(\"center\"),extent:this._get(\"extent\"),rotation:this._get(\"rotation\"),viewpoint:this._get(\"viewpoint\"),spatialReference:this._userSpatialReference};e.effectiveLODs?-1!==o.zoom&&(o.scale=e.zoomToScale(o.zoom)):o.zoom=-1;let l=null,c=null,d=0;const u=o.viewpoint&&o.viewpoint.rotation,m=o.viewpoint&&o.viewpoint.targetGeometry;p(m)&&(\"extent\"===m.type?l=m:\"point\"===m.type&&(c=m,d=o.viewpoint.scale));const g=o.extent||l||h(a?.viewpoint?.targetGeometry)?.extent||t,f=o.center||c||g?.center,y=o.scale||d||a?.viewpoint?.scale||g&&$(g,[n[0]-r.left-r.right,n[1]-r.top-r.bottom]),w=o.rotation||u||a?.viewpoint?.rotation||0;return f&&y?new i({targetGeometry:f,scale:y,rotation:w}):null}_gotoAnimated(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(d(t),i!==this._gotoTask)throw new n(\"view:goto-interrupted\",\"Goto was interrupted\");return s.update(e),this.animationManager.animate(s,this.viewpoint,t),s.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,s,r)}_project(e,t){const i=e&&e.targetGeometry||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return e;if(M(t,i.spatialReference))return e;const s=x(i,t);if(!s)throw new n(\"mapview:projection-not-possible\",\"projecting input geometry to target spatial reference returned a null value\",{geometry:i,spatialReference:t});return _e(e)?(e.targetGeometry=s,e):s}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],J(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){this.timeline.begin(\"MapView Startup\");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(o){he.warn(new w(\"mapview:startup-projection-error\",\"projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.\",{center:t.toJSON(),spatialReference:this.spatialReference,error:o})),e.targetGeometry=this.defaultsFromMap.extent?.center||new j({x:0,y:0,spatialReference:this.spatialReference})}this.constraints?.fit(e),this._set(\"state\",new D({padding:this._get(\"padding\"),size:this.size,viewpoint:e})),this.graphics.owner=this;const i=new ce(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=i,this._magnifierView=new fe,this._magnifierView.magnifier=this.magnifier;const s=new me({view:this});this._set(\"labelManager\",s);const r=new E({view:this});this._set(\"animationManager\",r);const n=new ge({view:this,animationManager:r});this._set(\"mapViewNavigation\",n),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on(\"change\",(()=>this._updateStageChildren())),i.on(\"post-render\",(()=>this._set(\"rendering\",i.renderRequested))),i.on(\"will-render\",(()=>this._set(\"rendering\",i.renderRequested))),i.on(\"webgl-error\",(e=>this.fatalError=e.error)),u((()=>this.stationary),(e=>i.stationary=e),f),u((()=>this.background),(e=>{i.background=e,this._magnifierView.background=e}),f),u((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),f),u((()=>this.renderingOptions),(e=>i.renderingOptions=e),f),u((()=>this.highlightOptions),(e=>i.highlightOptions=e),f),u((()=>this.state.id),(()=>i.state=this.state),f)],\"map-view\"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach((e=>e(this))),this.timeline.end(\"MapView Startup\"),this.frameTask&&this.frameTask.start(),this._set(\"ready\",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove(\"map-view\"),this.mapViewNavigation.destroy(),this._set(\"mapViewNavigation\",null),this.animationManager.destroy(),this._set(\"animationManager\",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set(\"graphicsView\",null),this._magnifierView=null,this._set(\"labelManager\",null),this._set(\"mapViewNavigation\",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set(\"ready\",!1);const{center:[e,t],spatialReference:i,rotation:s,scale:r}=this.state.paddedViewState,n=new j({x:e,y:t,spatialReference:i});this._set(\"viewpoint\",null),this._set(\"extent\",null),this._set(\"center\",n),this._set(\"zoom\",-1),this._set(\"rotation\",s),this._set(\"scale\",r),this._set(\"spatialReference\",i),this._set(\"state\",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this._stage.addChild(e.container)}));const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new A(O.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set(\"featuresTilingScheme\",e);const t=new de({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ue(e)});this.frameTask.graphicsView=t,this._set(\"graphicsView\",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set(\"graphicsView\",null),this.frameTask.graphicsView=null,e.destroy(),this._set(\"featuresTilingScheme\",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(c(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const s=t.clone(),[r,n]=t.center;let o=null;try{o=this._project(new j({x:r,y:n,spatialReference:t.spatialReference}),e)}catch(p){T()||he.warn(new w(\"mapview:spatial-reference-change\",\"could not project the view's center to the new spatial reference\",{center:o.toJSON(),spatialReference:e,error:p}))}o||(o=new j({x:0,y:0,spatialReference:e}));const l=F(new i({targetGeometry:new j,scale:0,rotation:0}),t.viewpoint,o);s.viewpoint=l;try{const i=20,r=[t.size[0]/2,t.size[1]/2],n=[r[0]+i,r[1]],o=t.toMap([0,0],n),{x:p,y:h}=this._project(new j({x:o[0],y:o[1],spatialReference:t.spatialReference}),e);o[0]=p,o[1]=h,s.toScreen(o,o);const c=Q(r,o,n),d=Math.hypot(o[0]-r[0],o[1]-r[1])/i;!Number.isFinite(d)||Math.abs(d)>4?(l.rotation=0,l.targetGeometry=new j({x:0,y:0,spatialReference:e})):(l.scale*=d,l.scale>a(\"mapview-srswitch-adjust-rotation-scale-threshold\")?l.rotation=0:l.rotation+=Number.isFinite(c)?c:0)}catch{}this._get(\"constraints\").constrain(l,null),this._get(\"state\").viewpoint=l,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};ve.type=\"2d\",e([v({readOnly:!0})],ve.prototype,\"animationManager\",void 0),e([v({constructOnly:!0})],ve.prototype,\"deactivatedWebGLExtensions\",void 0),e([v({constructOnly:!0})],ve.prototype,\"debugWebGLExtensions\",void 0),e([v({readOnly:!0})],ve.prototype,\"featuresTilingScheme\",void 0),e([v({readOnly:!0})],ve.prototype,\"fullOpacity\",void 0),e([v({readOnly:!0})],ve.prototype,\"graphicsTileStore\",null),e([v()],ve.prototype,\"graphicsView\",void 0),e([v({readOnly:!0})],ve.prototype,\"state\",void 0),e([v()],ve.prototype,\"initialExtentRequired\",null),e([v()],ve.prototype,\"labelManager\",void 0),e([v({readOnly:!0})],ve.prototype,\"resourceManager\",null),e([v({readOnly:!0})],ve.prototype,\"textureManager\",null),e([v({readOnly:!0})],ve.prototype,\"mapViewNavigation\",void 0),e([v({constructOnly:!0})],ve.prototype,\"renderCanvas\",void 0),e([v()],ve.prototype,\"renderingOptions\",void 0),e([v({readOnly:!0})],ve.prototype,\"rendering\",void 0),e([v({constructOnly:!0})],ve.prototype,\"supersampleScreenshotsEnabled\",void 0),e([v({readOnly:!0})],ve.prototype,\"supportsGround\",void 0),e([v()],ve.prototype,\"_stationaryTimer\",void 0),e([v()],ve.prototype,\"_defaultsFromMapSettings\",null),e([v()],ve.prototype,\"_pePromise\",void 0),e([v({readOnly:!0})],ve.prototype,\"typeSpecificPreconditionsReady\",null),e([v()],ve.prototype,\"animation\",null),e([v({type:pe})],ve.prototype,\"background\",null),e([v({value:null,type:j,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"center\",null),e([v({type:q})],ve.prototype,\"constraints\",null),e([v({value:null,type:S,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"extent\",null),e([v()],ve.prototype,\"floors\",void 0),e([v({type:Y})],ve.prototype,\"highlightOptions\",void 0),e([v({readOnly:!0})],ve.prototype,\"inputManager\",void 0),e([v()],ve.prototype,\"map\",void 0),e([v({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],ve.prototype,\"padding\",null),e([v()],ve.prototype,\"resizeAlign\",void 0),e([v({readOnly:!0,dependsOn:[\"state.id\"]})],ve.prototype,\"resolution\",null),e([v({value:0,type:Number,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"rotation\",null),e([v({value:0,type:Number,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"scale\",null),e([v({constructOnly:!0})],ve.prototype,\"spatialReferenceLocked\",void 0),e([v()],ve.prototype,\"stationary\",null),e([v({type:X,readOnly:!0})],ve.prototype,\"timeline\",void 0),e([v({readOnly:!0})],ve.prototype,\"type\",void 0),e([v({readOnly:!0})],ve.prototype,\"updating\",null),e([v({value:null,type:i,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"viewpoint\",null),e([v({value:-1,dependsOn:[\"state.id\",\"ready\"]})],ve.prototype,\"zoom\",null),e([v({type:Boolean})],ve.prototype,\"navigating\",null),e([v({type:le})],ve.prototype,\"ui\",void 0),ve=e([V(\"esri.views.MapView\")],ve);const Ve=ve;function Se(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??\"MapView\"}/${t}`:`\"MapView/${e.uid}`}function je(e,i,s,r,n){return a=>{if(a instanceof t){if(a.layer===e)n?.();else{const t=e.allLayerViews.find((e=>e.layer===a.layer));t&&r?.(t)}s(Se(a))}else{const t=e.allLayerViews.find((e=>e.layer===a));t&&i(t)}}}function Te(e,t){if(e)if(o(e))for(const i of e)if(o(i))for(const e of i)t(e);else t(i);else t(e)}export{Ve as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,wBAAlB;AAA2C,OAAOC,CAAP,MAAa,eAAb;AAA6B,OAAOC,CAAP,MAAa,iBAAb;AAA+B,OAAOC,CAAP,MAAa,uBAAb;AAAqC,OAAOC,CAAP,MAAa,gCAAb;AAA8C,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,gBAAb;AAA8B,SAAOC,UAAU,IAAIC,CAArB,QAA2B,0BAA3B;AAAsD,OAAOC,CAAP,MAAa,mBAAb;AAAiC,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,EAA+BC,MAAM,IAAIC,CAAzC,QAA+C,kBAA/C;AAAkE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,yBAA/B;AAAyD,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,QAAQ,IAAIC,CAA9B,EAAgCC,IAAI,IAAIC,CAAxC,EAA0CC,cAAc,IAAIC,CAA5D,QAAkE,0BAAlE;AAA6F,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,wBAAlC;AAA2D,OAAOC,CAAP,MAAa,oBAAb;AAAkC,SAAOC,UAAU,IAAI9B,CAArB,QAA2B,4BAA3B;AAAwD,SAAO+B,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAM,uBAAN;AAA8B,OAAM,uCAAN;AAA8C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAOC,CAAP,MAAa,uBAAb;AAAqC,OAAOC,CAAP,MAAa,sBAAb;AAAoC,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,IAAI,IAAIC,CAA7B,EAA+BC,uBAAuB,IAAIC,CAA1D,EAA4DC,OAAO,IAAIC,CAAvE,QAA6E,2BAA7E;AAAyG,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,8CAAvB;AAAsE,OAAOC,CAAP,MAAa,+BAAb;AAA6C,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,uBAAjC;AAAyD,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,mBAA7B;AAAiD,SAAOC,SAAS,IAAIC,CAApB,QAA0B,gBAA1B;AAA2C,OAAOC,CAAP,MAAa,WAAb;AAAyB,OAAOC,CAAP,MAAa,oBAAb;AAAkC,OAAOC,CAAP,MAAa,0BAAb;AAAwC,OAAOC,CAAP,MAAa,mBAAb;AAAiC,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,oCAApC;AAAyE,OAAOC,CAAP,MAAa,4BAAb;AAA0C,OAAOC,CAAP,MAAa,yBAAb;AAAuC,OAAM,+BAAN;AAAsC,OAAOC,CAAP,MAAa,6BAAb;AAA2C,OAAM,wBAAN;AAA+B,OAAM,0BAAN;AAAiC,OAAM,6BAAN;AAAoC,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,SAAS,IAAIC,CAAlC,EAAoCC,QAAQ,IAAIC,CAAhD,EAAkDC,OAAO,IAAIC,CAA7D,EAA+DC,IAAI,IAAIC,CAAvE,EAAyEC,MAAM,IAAIC,CAAnF,EAAqFC,aAAa,IAAIC,CAAtG,EAAwGC,MAAM,IAAIC,CAAlH,EAAoHC,YAAY,IAAIC,CAApI,QAA0I,wBAA1I;AAAmK,OAAOC,CAAP,MAAa,mCAAb;AAAiD,OAAOC,CAAP,MAAa,2CAAb;AAAyD,OAAOC,CAAP,MAAa,kCAAb;AAAgD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,0BAAzB;AAAoD,OAAOC,EAAP,MAAc,mCAAd;AAAkD,SAAOC,MAAM,IAAIC,EAAjB,EAAoBC,UAAU,IAAIC,EAAlC,EAAqCC,yBAAyB,IAAIC,EAAlE,EAAqEC,mBAAmB,IAAIC,EAA5F,QAAmG,8BAAnG;AAAkI,SAAOC,2BAA2B,IAAIC,EAAtC,EAAyCC,mCAAmC,IAAIC,EAAhF,QAAuF,0BAAvF;AAAkH,SAAOC,KAAK,IAAIC,EAAhB,QAAuB,gCAAvB;AAAwD,OAAOC,EAAP,MAAc,wBAAd;AAAuC,OAAOC,EAAP,MAAc,yCAAd;AAAwD,MAAMC,EAAE,GAAC7F,CAAC,CAAC8F,SAAF,CAAY,oBAAZ,CAAT;AAA2C,IAAIC,EAAJ,EAAOC,EAAP,EAAUC,EAAV,EAAaC,EAAb,EAAgBC,EAAhB,EAAmBC,EAAnB;;AAAsB,eAAeC,EAAf,GAAmB;EAAC,MAAK,GAAE;IAACC,cAAc,EAAC/G,CAAhB;IAAkBgH,gBAAgB,EAAC/G,CAAnC;IAAqCgH,YAAY,EAAC/G,CAAlD;IAAoDgH,iBAAiB,EAAC/G,CAAtE;IAAwEgH,eAAe,EAAC/G,CAAxF;IAA0FgH,KAAK,EAAC/G;EAAhG,CAAF,IAAsG,MAAMgH,OAAO,CAACC,GAAR,CAAY,CAAC,OAAO,mBAAP,CAAD,EAA6B,OAAO,qBAAP,CAA7B,CAAZ,CAAjH;EAA0Lb,EAAE,GAACzG,CAAH,EAAK0G,EAAE,GAACzG,CAAR,EAAU0G,EAAE,GAACzG,CAAb,EAAe0G,EAAE,GAACzG,CAAlB,EAAoB0G,EAAE,GAACzG,CAAvB,EAAyBoG,EAAE,GAACnG,CAA5B;AAA8B;;AAAA,MAAMkH,EAAE,GAAC,GAAT;;AAAa,SAASC,EAAT,CAAYxH,CAAZ,EAAc;EAAC,OAAOA,CAAC,IAAE,qBAAmBA,CAAC,CAACyH,aAA/B;AAA6C;;AAAA,IAAIC,EAAE,GAAC,cAAc1E,CAAC,CAACE,CAAC,CAACE,CAAC,CAACC,CAAD,CAAF,CAAF,CAAf,CAAyB;EAACsE,WAAW,CAAC3H,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAK4H,cAAL,GAAoB,IAA7B,EAAkC,KAAKC,MAAL,GAAY,IAA9C,EAAmD,KAAKC,iBAAL,GAAuB,EAA1E,EAA6E,KAAKC,cAAL,GAAoB,IAAI3H,CAAJ,CAAM;MAAC4H,cAAc,EAAC,MAAI,CAAC,KAAKC,WAAL,EAAkBC,cAAnB,EAAkC,KAAKC,UAAvC,EAAkD,KAAKF,WAAL,EAAkBG,mBAApE,CAApB;MAA6GC,mBAAmB,EAAC,MAAI;IAArI,CAAN,CAAjG,EAAmP,KAAKC,oBAAL,GAA0B,IAA7Q,EAAkR,KAAKC,WAAL,GAAiB,CAAnS,EAAqS,KAAKC,YAAL,GAAkB,IAAvT,EAA4T,KAAKC,YAAL,GAAkB,IAA9U,EAAmV,KAAKC,iBAAL,GAAuB,IAA1W,EAA+W,KAAKC,gBAAL,GAAsB;MAACC,YAAY,EAAC,SAAd;MAAwBC,iBAAiB,EAAC,CAAC,CAA3C;MAA6CC,mBAAmB,EAAC,GAAjE;MAAqEC,sBAAsB,EAAC,CAAC;IAA7F,CAArY,EAAqe,KAAKC,SAAL,GAAe,CAAC,CAArf,EAAuf,KAAKC,6BAAL,GAAmC,CAAC,CAA3hB,EAA6hB,KAAKC,cAAL,GAAoB,CAAC,CAAljB,EAAojB,KAAKC,gBAAL,GAAsB,IAA1kB,EAA+kB,KAAKC,SAAL,GAAe,IAAI5F,CAAJ,CAAM,IAAN,CAA9lB,EAA0mB,KAAK6F,UAAL,GAAgB,IAA1nB,EAA+nB,KAAKC,MAAL,GAAY,IAAInJ,CAAJ,EAA3oB,EAAipB,KAAKoJ,gBAAL,GAAsB,IAAIrE,CAAJ,EAAvqB,EAA6qB,KAAKsE,YAAL,GAAkB,IAAIxE,CAAJ,CAAM;MAACyE,IAAI,EAAC;IAAN,CAAN,CAA/rB,EAAktB,KAAKC,GAAL,GAAS,IAA3tB,EAAguB,KAAKC,WAAL,GAAiB,QAAjvB,EAA0vB,KAAKC,sBAAL,GAA4B,CAAC,CAAvxB,EAAyxB,KAAKC,QAAL,GAAc,IAAIzE,CAAJ,EAAvyB,EAA6yB,KAAK0E,IAAL,GAAU,IAAvzB,EAA4zB,KAAKC,EAAL,GAAQ,IAAI3D,EAAJ,EAAp0B,EAA20B,KAAK4D,YAAL,GAAkB;MAACC,KAAK,EAAC,CAAC,CAAR;MAAUC,kBAAkB,EAAC,CAAC;IAA9B,CAA71B,EAA83B,KAAKC,WAAL,GAAiB,IAAIxG,CAAJ,EAA/4B,EAAq5B,KAAKyG,OAAL,GAAa;MAACC,GAAG,EAAC,CAAL;MAAOC,KAAK,EAAC,CAAb;MAAeC,MAAM,EAAC,CAAtB;MAAwBC,IAAI,EAAC;IAA7B,CAAl6B,EAAk8B,KAAKC,OAAL,CAAaC,GAAb,CAAiB,CAACvJ,CAAC,CAAE,MAAI,KAAKwJ,SAAX,EAAuB,MAAI;MAAC,KAAKC,6BAAL,GAAmCC,WAAW,CAACC,GAAZ,EAAnC,EAAqD,KAAKC,eAAL,CAAqBxD,EAArB,CAArD;IAA8E,CAA1G,EAA4GhG,CAA5G,CAAF,EAAiH,KAAKyJ,EAAL,CAAQ,QAAR,EAAkBhL,CAAC,IAAE,KAAKiL,cAAL,CAAoBjL,CAApB,CAArB,CAAjH,EAA+JmB,CAAC,CAAE,MAAI,KAAK+J,gBAAL,EAAuBC,SAA7B,EAAyCnL,CAAC,IAAE;MAAC,KAAKmL,SAAL,GAAenL,CAAf;IAAiB,CAA9D,CAAhK,CAAjB,CAAl8B,EAAsrCD,CAAC,EAAvrC;EAA0rC;;EAAAqL,OAAO,GAAE;IAAC,KAAKC,IAAL,CAAU,oBAAV,EAA+B,CAAC,CAAhC,GAAmC,KAAKC,SAAL,GAAe,KAAKlC,SAAL,GAAe,IAAjE,EAAsE,KAAKrB,cAAL,CAAoBqD,OAApB,EAAtE,EAAoG,KAAK5B,YAAL,CAAkB4B,OAAlB,EAApG,EAAgI,KAAKC,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAAhI;EAA+J;;EAAqB,IAAjBE,iBAAiB,GAAE;IAAC,OAAO,IAAItG,CAAJ,CAAM,KAAKqD,oBAAX,CAAP;EAAwC;;EAAyB,IAArBkD,qBAAqB,GAAE;IAAC,MAAK;MAACC,KAAK,EAACzL,CAAP;MAASmK,WAAW,EAAClK,CAArB;MAAuByL,MAAM,EAACxL,CAA9B;MAAgCyK,SAAS,EAACxK,CAA1C;MAA4CwL,MAAM,EAACvL;IAAnD,IAAsD,IAA3D;IAAgE,IAAIC,CAAC,GAAC,KAAKuL,IAAX;IAAgB,OAAM,EAAE,KAAKlC,GAAL,IAAU,2BAA0B,KAAKA,GAAzC,IAA8C,KAAKA,GAAL,CAASmC,qBAAT,EAAgClB,SAAhF,KAA6F,CAACvK,CAAD,KAAKH,CAAC,EAAE6L,aAAH,KAAmBzL,CAAC,GAAC,CAAC,CAAtB,GAAyB,CAAC,CAACH,CAAD,IAAI,MAAIF,CAAJ,IAAO,CAAC,CAAD,KAAKK,CAAjB,MAAsB,CAACF,CAAD,IAAI,CAACQ,CAAC,CAACR,CAAC,CAAC4L,cAAH,CAAN,IAA0B,aAAW5L,CAAC,CAAC4L,cAAF,CAAiBjC,IAA5B,IAAkC,CAAC3J,CAAC,CAACsL,KAArF,CAA9B,CAAnG;EAA+N;;EAAmB,IAAfO,eAAe,GAAE;IAAC,OAAO,KAAKnE,MAAL,CAAYmE,eAAnB;EAAmC;;EAAkB,IAAdC,cAAc,GAAE;IAAC,OAAO,KAAKpE,MAAL,CAAYqE,OAAZ,CAAoBD,cAA3B;EAA0C;;EAA4B,IAAxBE,wBAAwB,GAAE;IAAC,OAAM;MAACC,QAAQ,EAAC;QAACC,QAAQ,EAAC,CAAC,CAAX;QAAaC,eAAe,EAAC,CAAC,CAA9B;QAAgCX,MAAM,EAAC,CAAC;MAAxC,CAAV;MAAqDY,gCAAgC,EAAC,KAAK3C;IAA3F,CAAN;EAAyH;;EAA2B,IAAvB4C,uBAAuB,GAAE;IAAC,OAAM,CAAC,CAACnK,CAAC,EAAH,KAAQ,KAAKgH,UAAL,KAAkB,KAAKA,UAAL,GAAgB9G,CAAC,GAAGkK,OAAJ,CAAa,MAAI;MAAC,KAAKpD,UAAL,GAAgB,IAAhB;IAAqB,CAAvC,CAAlC,GAA6E,CAAC,CAAtF,CAAN;EAA+F;;EAAkC,IAA9BqD,8BAA8B,GAAE;IAAC,MAAM1M,CAAC,GAAC,KAAK2M,oBAAL,EAAR;;IAAoC,IAAG,CAAC3M,CAAJ,EAAM,OAAM,CAAC,CAAP;IAAS,MAAMC,CAAC,GAAC,KAAK2M,gBAAb;IAAA,MAA8B1M,CAAC,GAACW,CAAC,CAACb,CAAC,CAAC+L,cAAH,CAAjC;IAAoD,OAAM,CAAC,CAACtJ,CAAC,CAACvC,CAAC,CAAC0M,gBAAH,EAAoB3M,CAApB,CAAH,IAA2B,KAAKuM,uBAAtC;EAA8D;;EAAa,IAATrB,SAAS,CAACnL,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAK4M,IAAL,CAAU,WAAV,CAAR;;IAA+B,IAAG7M,CAAC,KAAGC,CAAP,EAAS;IAAO,IAAGA,CAAC,IAAEA,CAAC,CAAC6M,IAAF,EAAH,EAAY,CAAC9M,CAAD,IAAIA,CAAC,CAAC+M,WAAF,EAAnB,EAAmC,OAAO,KAAK,KAAK1B,IAAL,CAAU,WAAV,EAAsB,IAAtB,CAAZ;IAAwC,KAAKA,IAAL,CAAU,WAAV,EAAsBrL,CAAtB,GAAyB,KAAKoJ,SAAL,CAAe4D,mBAAf,GAAmC,CAAC,CAA7D;;IAA+D,MAAM9M,CAAC,GAAC,MAAI;MAACF,CAAC,KAAG,KAAK6M,IAAL,CAAU,WAAV,CAAJ,KAA6B,KAAKxB,IAAL,CAAU,WAAV,EAAsB,IAAtB,GAA4B,KAAKjC,SAAL,CAAe6D,YAAf,EAAzD,GAAwF,KAAK7D,SAAL,CAAe4D,mBAAf,GAAmC,CAAC,CAA5H;IAA8H,CAA3I;;IAA4IhN,CAAC,CAACkN,IAAF,CAAOhN,CAAP,EAASA,CAAT;EAAY;;EAAc,IAAViN,UAAU,GAAE;IAAC,OAAO,KAAKC,GAAL,CAAS,sCAAT,KAAkD,IAAzD;EAA8D;;EAAc,IAAVD,UAAU,CAACnN,CAAD,EAAG;IAAC,KAAK,CAAL,KAASA,CAAT,GAAW,KAAKqN,cAAL,CAAoB,YAApB,CAAX,GAA6C,KAAKC,SAAL,CAAe,YAAf,EAA4BtN,CAA5B,CAA7C;EAA4E;;EAAU,IAAN0L,MAAM,GAAE;IAAC,IAAG,CAAC,KAAK6B,KAAT,EAAe,OAAO,KAAKV,IAAL,CAAU,QAAV,CAAP;IAA2B,MAAK;MAACnB,MAAM,EAAC1L,CAAR;MAAU4M,gBAAgB,EAAC3M;IAA3B,IAA8B,KAAKuN,KAAL,CAAWC,eAA9C;IAA8D,OAAO,IAAItL,CAAJ,CAAM;MAACQ,CAAC,EAAC3C,CAAC,CAAC,CAAD,CAAJ;MAAQ2B,CAAC,EAAC3B,CAAC,CAAC,CAAD,CAAX;MAAe4M,gBAAgB,EAAC3M;IAAhC,CAAN,CAAP;EAAiD;;EAAU,IAANyL,MAAM,CAAC1L,CAAD,EAAG;IAAC,IAAG,QAAMA,CAAT,EAAW;IAAO,IAAG,CAAC,KAAKuN,KAAT,EAAe,OAAO,KAAKlC,IAAL,CAAU,QAAV,EAAmBrL,CAAnB,GAAsB,KAAK,KAAK0N,YAAL,CAAkB,uBAAlB,CAAlC;IAA6E,IAAIzN,CAAJ;;IAAM,IAAG;MAACA,CAAC,GAAC,KAAK0N,QAAL,CAAc3N,CAAd,EAAgB,KAAK4M,gBAArB,CAAF;IAAyC,CAA7C,CAA6C,OAAMzM,CAAN,EAAQ;MAAC,OAAO,KAAKmG,EAAE,CAACsH,KAAH,CAAS,IAAIvN,CAAJ,CAAM,wBAAN,EAA+B,6DAA/B,EAA6F;QAACwN,KAAK,EAAC7N,CAAP;QAAS4N,KAAK,EAACzN;MAAf,CAA7F,CAAT,CAAZ;IAAsI;;IAAA,MAAMD,CAAC,GAAC,KAAKyK,SAAb;IAAuB5G,CAAC,CAAC7D,CAAD,EAAGA,CAAH,EAAKD,CAAL,CAAD,EAAS,KAAK0K,SAAL,GAAezK,CAAxB;EAA0B;;EAAe,IAAXiK,WAAW,CAACnK,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAK4M,IAAL,CAAU,aAAV,CAAR;;IAAiC5M,CAAC,KAAG,KAAKwK,OAAL,CAAaqD,MAAb,CAAoB,sBAApB,GAA4C7N,CAAC,CAACmL,OAAF,EAA/C,CAAD,EAA6D,KAAKC,IAAL,CAAU,aAAV,EAAwBrL,CAAxB,CAA7D,EAAwFA,CAAC,KAAGA,CAAC,CAACyJ,IAAF,GAAO,IAAP,EAAY,KAAK8D,KAAL,KAAa,KAAKC,KAAL,CAAW7C,SAAX,GAAqB3K,CAAC,CAAC+N,GAAF,CAAM,KAAKP,KAAL,CAAWC,eAAX,CAA2B9C,SAAjC,CAAlC,CAAZ,EAA2F,KAAKF,OAAL,CAAaC,GAAb,CAAiBvJ,CAAC,CAAE,MAAInB,CAAC,CAACgO,OAAR,EAAkB,MAAI;MAAC,KAAKT,KAAL,IAAY,KAAKC,KAAjB,KAAyB,KAAKA,KAAL,CAAW7C,SAAX,GAAqB3K,CAAC,CAAC+N,GAAF,CAAM,KAAKP,KAAL,CAAWC,eAAX,CAA2B9C,SAAjC,CAA9C;IAA2F,CAAlH,EAAoHpJ,CAApH,CAAlB,EAAyI,sBAAzI,CAA9F,CAAzF;EAAyV;;EAAU,IAANoK,MAAM,GAAE;IAAC,OAAO,KAAK4B,KAAL,GAAW,KAAKC,KAAL,CAAWC,eAAX,CAA2B9B,MAA3B,CAAkCsC,KAAlC,EAAX,GAAqD,KAAKpB,IAAL,CAAU,QAAV,CAA5D;EAAgF;;EAAU,IAANlB,MAAM,CAAC3L,CAAD,EAAG;IAAC,IAAG,QAAMA,CAAT,EAAW;IAAO,IAAG,CAACA,CAAC,CAACkO,KAAH,IAAU,CAAClO,CAAC,CAACmO,MAAhB,EAAuB,OAAO,KAAK7H,EAAE,CAACsH,KAAH,CAAS,IAAIvN,CAAJ,CAAM,wBAAN,EAA+B,qBAA/B,CAAT,CAAZ;IAA4E,IAAG,CAAC,KAAKkN,KAAT,EAAe,OAAO,KAAKlC,IAAL,CAAU,QAAV,EAAmBrL,CAAnB,GAAsB,KAAKqL,IAAL,CAAU,QAAV,EAAmB,IAAnB,CAAtB,EAA+C,KAAKA,IAAL,CAAU,WAAV,EAAsB,IAAtB,CAA/C,EAA2E,KAAKA,IAAL,CAAU,OAAV,EAAkB,CAAlB,CAA3E,EAAgG,KAAKA,IAAL,CAAU,MAAV,EAAiB,CAAC,CAAlB,CAAhG,EAAqH,KAAK,KAAKqC,YAAL,CAAkB,uBAAlB,CAAjI;IAA4K,IAAIzN,CAAJ;;IAAM,IAAG;MAACA,CAAC,GAAC,KAAK0N,QAAL,CAAc3N,CAAd,EAAgB,KAAK4M,gBAArB,CAAF;IAAyC,CAA7C,CAA6C,OAAMzM,CAAN,EAAQ;MAAC,OAAO,KAAKmG,EAAE,CAACsH,KAAH,CAAS,IAAIvN,CAAJ,CAAM,wBAAN,EAA+B,6DAA/B,EAA6F;QAACuN,KAAK,EAACzN;MAAP,CAA7F,CAAT,CAAZ;IAA8H;;IAAA,MAAMD,CAAC,GAAC,KAAKyK,SAAb;IAAuB1G,CAAC,CAAC/D,CAAD,EAAGA,CAAH,EAAKD,CAAL,EAAO,KAAKmO,IAAZ,EAAiB;MAACjE,WAAW,EAAC,KAAKA;IAAlB,CAAjB,CAAD,EAAkD,KAAKQ,SAAL,GAAezK,CAAjE;EAAmE;;EAAW,IAAPkK,OAAO,GAAE;IAAC,OAAO,KAAKmD,KAAL,GAAW,KAAKC,KAAL,CAAWpD,OAAtB,GAA8B,KAAKyC,IAAL,CAAU,SAAV,CAArC;EAA0D;;EAAW,IAAPzC,OAAO,CAACpK,CAAD,EAAG;IAAC,KAAKuN,KAAL,IAAY,KAAKC,KAAL,CAAWpD,OAAX,GAAmBpK,CAAnB,EAAqB,KAAKqL,IAAL,CAAU,SAAV,EAAoB,KAAKmC,KAAL,CAAWpD,OAA/B,CAAjC,IAA0E,KAAKiB,IAAL,CAAU,SAAV,EAAoBrL,CAApB,CAA1E;EAAiG;;EAAc,IAAVqO,UAAU,GAAE;IAAC,OAAO,KAAKb,KAAL,GAAW,KAAKA,KAAL,CAAWa,UAAtB,GAAiC,CAAxC;EAA0C;;EAAY,IAARC,QAAQ,GAAE;IAAC,OAAO,KAAKf,KAAL,GAAW,KAAKC,KAAL,CAAWc,QAAtB,GAA+B,KAAKzB,IAAL,CAAU,UAAV,CAAtC;EAA4D;;EAAY,IAARyB,QAAQ,CAACtO,CAAD,EAAG;IAAC,IAAGuO,KAAK,CAACvO,CAAD,CAAR,EAAY;IAAO,IAAG,CAAC,KAAKuN,KAAT,EAAe,OAAO,KAAK,KAAKlC,IAAL,CAAU,UAAV,EAAqBrL,CAArB,CAAZ;IAAoC,MAAMC,CAAC,GAAC,KAAK0K,SAAb;IAAuBxG,CAAC,CAAClE,CAAD,EAAGA,CAAH,EAAKD,CAAL,CAAD,EAAS,KAAK2K,SAAL,GAAe1K,CAAxB;EAA0B;;EAAS,IAALwL,KAAK,GAAE;IAAC,OAAO,KAAK8B,KAAL,GAAW,KAAKC,KAAL,CAAW/B,KAAtB,GAA4B,KAAKoB,IAAL,CAAU,OAAV,CAAnC;EAAsD;;EAAS,IAALpB,KAAK,CAACzL,CAAD,EAAG;IAAC,IAAG,CAACA,CAAD,IAAIuO,KAAK,CAACvO,CAAD,CAAZ,EAAgB;;IAAO,IAAG,CAAC,KAAKuN,KAAT,EAAe;MAAC,KAAKlC,IAAL,CAAU,OAAV,EAAkBrL,CAAlB,GAAqB,KAAKqL,IAAL,CAAU,MAAV,EAAiB,CAAC,CAAlB,CAArB;;MAA0C,MAAMpL,CAAC,GAAC,KAAK4M,IAAL,CAAU,QAAV,CAAR;;MAA4B,OAAO5M,CAAC,KAAG,KAAKoL,IAAL,CAAU,QAAV,EAAmB,IAAnB,GAAyB,KAAKA,IAAL,CAAU,QAAV,EAAmBpL,CAAC,CAACyL,MAArB,CAA5B,CAAD,EAA2D,KAAK,KAAKgC,YAAL,CAAkB,uBAAlB,CAAvE;IAAkH;;IAAA,MAAMzN,CAAC,GAAC,KAAK0K,SAAb;IAAuBtG,CAAC,CAACpE,CAAD,EAAGA,CAAH,EAAKD,CAAL,CAAD,EAAS,KAAK2K,SAAL,GAAe1K,CAAxB;EAA0B;;EAAc,IAAVuO,UAAU,GAAE;IAAC,OAAM,EAAE,KAAKrD,SAAL,IAAgB,KAAKsD,UAArB,IAAiC,KAAKC,QAAtC,IAAgD,KAAKvF,gBAAvD,CAAN;EAA+E;;EAAY,IAARwF,QAAQ,GAAE;IAAC,OAAM,CAAC,KAAKC,SAAN,KAAkB,CAAC,KAAKC,gBAAN,IAAwB,CAAC,KAAKpG,YAA9B,IAA4C,CAAC,KAAKD,YAAlD,IAAgE,CAAC,CAAD,KAAK,KAAKqG,gBAAL,CAAsBF,QAA3F,IAAqG,CAAC,CAAD,KAAK,KAAKlG,YAAL,CAAkBkG,QAA5H,IAAsI,CAAC,CAAD,KAAK,KAAKnG,YAAL,CAAkBmG,QAA7J,IAAuK,KAAKG,aAAL,CAAmBC,IAAnB,CAAyB/O,CAAC,IAAE,CAACA,CAAC,CAAC4O,SAAH,IAAc,EAAE,gBAAe5O,CAAjB,CAAd,IAAmC,CAAC,CAAD,KAAKA,CAAC,CAAC2O,QAAtE,CAAzL,CAAN;EAAiR;;EAAa,IAAThE,SAAS,GAAE;IAAC,IAAG,CAAC,KAAK4C,KAAT,EAAe,OAAO,KAAKV,IAAL,CAAU,WAAV,CAAP;IAA8B,MAAM7M,CAAC,GAAC,KAAKwN,KAAL,CAAWC,eAAnB;IAAmC,OAAOzN,CAAC,IAAEA,CAAC,CAAC2K,SAAF,CAAYsD,KAAZ,EAAV;EAA8B;;EAAa,IAATtD,SAAS,CAAC3K,CAAD,EAAG;IAAC,IAAG,QAAMA,CAAT,EAAW;IAAO,IAAG,CAAC,KAAKuN,KAAT,EAAe,OAAO,KAAKlC,IAAL,CAAU,WAAV,EAAsBrL,CAAtB,GAAyB,KAAKqL,IAAL,CAAU,QAAV,EAAmB,IAAnB,CAAzB,EAAkD,KAAKA,IAAL,CAAU,QAAV,EAAmB,IAAnB,CAAlD,EAA2E,KAAKA,IAAL,CAAU,MAAV,EAAiB,CAAC,CAAlB,CAA3E,EAAgG,KAAKA,IAAL,CAAU,OAAV,EAAkB,CAAlB,CAAhG,EAAqH,KAAK,KAAKqC,YAAL,CAAkB,uBAAlB,CAAjI;IAA4K,IAAIzN,CAAJ,EAAME,CAAN;;IAAQ,IAAG;MAACF,CAAC,GAAC,KAAK0N,QAAL,CAAc3N,CAAd,EAAgB,KAAK4M,gBAArB,CAAF,EAAyC,CAAC5M,CAAC,CAACyL,KAAH,IAAU8C,KAAK,CAACvO,CAAC,CAACyL,KAAH,CAAf,GAAyBtL,CAAC,GAAC,IAAIE,CAAJ,CAAM,2BAAN,EAAmC,0BAAyBL,CAAC,CAACyL,KAAM,EAApE,CAA3B,GAAkG1K,CAAC,CAACf,CAAC,CAAC+L,cAAH,CAAD,KAAsB5L,CAAC,GAAC,IAAIE,CAAJ,CAAM,2BAAN,EAAkC,sBAAlC,CAAxB,CAA3I;IAA8N,CAAlO,CAAkO,OAAMC,CAAN,EAAQ;MAACH,CAAC,GAAC,IAAIE,CAAJ,CAAM,2BAAN,EAAkC,6DAAlC,EAAgG;QAACuN,KAAK,EAACtN;MAAP,CAAhG,CAAF;IAA6G;;IAAA,IAAGH,CAAH,EAAK,OAAO,KAAKmG,EAAE,CAACsH,KAAH,CAASzN,CAAT,CAAZ;IAAwB,KAAK6O,oCAAL,GAA0C,IAA1C;IAA+C,MAAM5O,CAAC,GAAC,IAAIF,CAAJ,CAAM;MAAC6L,cAAc,EAAC,IAAI5J,CAAJ,EAAhB;MAAsBsJ,KAAK,EAAC,CAA5B;MAA8B6C,QAAQ,EAAC;IAAvC,CAAN,CAAR;IAAyD/J,CAAC,CAACnE,CAAD,EAAGH,CAAH,CAAD,EAAO,KAAKkK,WAAL,CAAiB8E,SAAjB,CAA2B7O,CAA3B,EAA6B,KAAKoN,KAAL,CAAWC,eAAX,CAA2B9C,SAAxD,CAAP,EAA0E,KAAK6C,KAAL,CAAW7C,SAAX,GAAqBvK,CAA/F,EAAiG,KAAKgJ,SAAL,CAAe6D,YAAf,EAAjG,EAA+H,KAAK5B,IAAL,CAAU,WAAV,EAAsBjL,CAAtB,CAA/H;EAAwJ;;EAAQ,IAAJwL,IAAI,GAAE;IAAC,OAAO,KAAK2B,KAAL,GAAW,KAAKpD,WAAL,CAAiB+E,WAAjB,CAA6B,KAAKzD,KAAlC,CAAX,GAAoD,KAAKoB,IAAL,CAAU,MAAV,CAA3D;EAA6E;;EAAQ,IAAJjB,IAAI,CAAC5L,CAAD,EAAG;IAAC,IAAG,QAAMA,CAAT,EAAW;;IAAO,IAAG,CAAC,KAAKuN,KAAT,EAAe;MAAC,KAAKlC,IAAL,CAAU,MAAV,EAAiBrL,CAAjB,GAAoB,KAAKqL,IAAL,CAAU,OAAV,EAAkB,CAAlB,CAApB;;MAAyC,MAAMpL,CAAC,GAAC,KAAK4M,IAAL,CAAU,QAAV,CAAR;;MAA4B,OAAO5M,CAAC,KAAG,KAAKoL,IAAL,CAAU,QAAV,EAAmB,IAAnB,GAAyB,KAAKA,IAAL,CAAU,QAAV,EAAmBpL,CAAC,CAACyL,MAArB,CAA5B,CAAD,EAA2D,KAAK,KAAKgC,YAAL,CAAkB,uBAAlB,CAAvE;IAAkH;;IAAA,IAAG,CAAC,KAAKvD,WAAL,CAAiB2B,aAArB,EAAmC,OAAO,KAAK,KAAKT,IAAL,CAAU,MAAV,EAAiB,CAAC,CAAlB,CAAZ;IAAiC,MAAMpL,CAAC,GAAC,KAAK0K,SAAb;IAAuBtG,CAAC,CAACpE,CAAD,EAAGA,CAAH,EAAK,KAAKkK,WAAL,CAAiBgF,WAAjB,CAA6BnP,CAA7B,CAAL,CAAD,EAAuC,KAAK2K,SAAL,GAAe1K,CAAtD,EAAwD,KAAKoL,IAAL,CAAU,MAAV,EAAiB,KAAKlB,WAAL,CAAiB+E,WAAjB,CAA6B,KAAKzD,KAAlC,CAAjB,CAAxD;EAAmH;;EAAc,IAAVgD,UAAU,GAAE;IAAC,OAAM,EAAE,CAAC,KAAK/F,iBAAN,IAAyB,CAAC,KAAKA,iBAAL,CAAuB0G,WAAnD,CAAN;EAAsE;;EAAAC,IAAI,CAACrP,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAGD,CAAH,EAAK,OAAO,KAAKmL,SAAL,KAAiB,KAAKA,SAAL,GAAe,IAAhC,GAAsC,KAAKmE,gBAAL,EAAtC,EAA8DjO,CAAC,CAAE,MAAI,KAAKkM,KAAX,EAAkBtN,CAAlB,CAAD,CAAsBsP,IAAtB,CAA4B,MAAI;MAAC,MAAMrP,CAAC,GAAC;QAACsP,OAAO,EAAC,CAAC,CAAV;QAAY,GAAGvP;MAAf,CAAR;MAAA,MAA0BE,CAAC,GAACsE,CAAC,CAACzE,CAAD,EAAG,IAAH,CAA7B;MAAsC,OAAO,KAAKmL,SAAL,CAAesE,MAAf,CAAsBtP,CAAtB,GAAyB,KAAKmL,SAAL,GAAe,EAAxC,EAA2CpL,CAAC,CAACsP,OAAF,GAAU,KAAKE,aAAL,CAAmBvP,CAAnB,EAAqBD,CAArB,CAAV,GAAkC,KAAKyP,cAAL,CAAoBxP,CAApB,EAAsBD,CAAtB,CAApF;IAA6G,CAApL,CAArE;IAA4PoG,EAAE,CAACsH,KAAH,CAAS,SAAT,EAAmB,oCAAnB;EAAyD;;EAAa,MAAPgC,OAAO,CAAC5P,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC6F,EAAE,CAAC/F,CAAD,CAAF,GAAMiG,EAAE,CAAC,IAAD,EAAMjG,CAAN,CAAR,GAAiBA,CAAzB;IAA2B,IAAG,CAAC,KAAKuN,KAAN,IAAagB,KAAK,CAACrO,CAAC,CAACyC,CAAH,CAAlB,IAAyB4L,KAAK,CAACrO,CAAC,CAACyB,CAAH,CAAjC,EAAuC,OAAM;MAACkO,WAAW,EAAC3P,CAAb;MAAe4P,OAAO,EAAC;IAAvB,CAAN;IAAiC,IAAI3P,CAAC,GAAC,IAAI4P,GAAJ,EAAN;IAAA,IAAc3P,CAAC,GAAC,CAAC,CAAjB;IAAA,IAAmBC,CAAC,GAAC,IAArB;IAAA,IAA0BC,CAAC,GAAC,IAA5B;IAAiCL,CAAC,EAAE+P,OAAH,GAAWC,EAAE,CAAChQ,CAAC,CAAC+P,OAAH,EAAWE,EAAE,CAAC,IAAD,EAAOlQ,CAAC,IAAEG,CAAC,CAACuK,GAAF,CAAM1K,CAAN,CAAV,EAAqBA,CAAC,IAAE;MAACK,CAAC,KAAGA,CAAC,GAAC,IAAI0P,GAAJ,EAAL,CAAD,EAAe1P,CAAC,CAACqK,GAAF,CAAM1K,CAAN,CAAf;IAAwB,CAAjD,EAAoDA,CAAC,IAAEG,CAAC,CAACuK,GAAF,CAAM1K,CAAN,CAAvD,EAAkE,MAAII,CAAC,GAAC,CAAC,CAAzE,CAAb,CAAb,IAAyGA,CAAC,GAAC,CAAC,CAAH,EAAKD,CAAC,GAAC,IAAI4P,GAAJ,CAAQ,KAAKjB,aAAb,CAAhH,GAA6I7O,CAAC,EAAEkQ,OAAH,IAAYF,EAAE,CAAChQ,CAAC,CAACkQ,OAAH,EAAWD,EAAE,CAAC,IAAD,EAAOlQ,CAAC,IAAEG,CAAC,CAACiQ,MAAF,CAASpQ,CAAT,CAAV,EAAwBA,CAAC,IAAE;MAACM,CAAC,KAAGA,CAAC,GAAC,IAAIyP,GAAJ,EAAL,CAAD,EAAezP,CAAC,CAACoK,GAAF,CAAM1K,CAAN,CAAf;IAAwB,CAApD,CAAb,CAA3J;IAAgO,MAAMQ,CAAC,GAAC,KAAKsO,aAAL,CAAmBuB,MAAnB,CAA2BrQ,CAAC,IAAE,CAACA,CAAC,CAACsQ,SAAH,IAAcnQ,CAAC,CAACoQ,GAAF,CAAMvQ,CAAN,CAA5C,EAAuDwQ,OAAvD,EAAR;IAAA,MAAyE/P,CAAC,GAAC,KAAKgQ,KAAL,CAAWvQ,CAAX,CAA3E;IAAyF,IAAIW,CAAC,GAAC,CAAC,IAAGT,CAAC,GAAC,KAAKoI,YAAL,CAAkBoH,OAAlB,CAA0BnP,CAA1B,EAA6BiJ,GAA7B,CAAkC1J,CAAC,KAAG;MAAC8J,IAAI,EAAC,SAAN;MAAgB4G,OAAO,EAAC1Q,CAAxB;MAA0B2Q,KAAK,EAAC,IAAhC;MAAqCC,QAAQ,EAACnQ;IAA9C,CAAH,CAAnC,CAAD,GAA2F,EAA/F,CAAD,EAAmG,IAAG,MAAM4G,OAAO,CAACC,GAAR,CAAY9G,CAAC,CAACkJ,GAAF,CAAO1J,CAAC,IAAEA,CAAC,CAAC4P,OAAF,CAAUnP,CAAV,EAAYP,CAAZ,CAAV,EAA2B2Q,OAA3B,EAAZ,CAAT,CAAnG,EAA+JR,MAA/J,CAAsK1P,CAAtK,EAAyKmQ,IAAzK,GAAgLT,MAAhL,CAAuL1P,CAAvL,CAAN;IAAgM,OAAON,CAAC,KAAGQ,CAAC,GAACA,CAAC,CAACwP,MAAF,CAAUrQ,CAAC,IAAE,EAAE,aAAYA,CAAd,KAAkB,CAACA,CAAC,CAAC0Q,OAArB,IAA8BrQ,CAAC,CAACkQ,GAAF,CAAMQ,EAAE,CAAC/Q,CAAC,CAAC0Q,OAAH,CAAR,CAA3C,CAAL,CAAD,EAAyEpQ,CAAC,KAAGO,CAAC,GAACA,CAAC,CAACwP,MAAF,CAAUrQ,CAAC,IAAE,EAAE,aAAYA,CAAd,KAAkB,CAACA,CAAC,CAAC0Q,OAArB,IAA8BpQ,CAAC,CAACiQ,GAAF,CAAMQ,EAAE,CAAC/Q,CAAC,CAAC0Q,OAAH,CAAR,CAA3C,CAAL,CAA1E,EAAkJ;MAACb,WAAW,EAAC3P,CAAb;MAAe4P,OAAO,EAACjP;IAAvB,CAAzJ;EAAmL;;EAAoB,MAAdmQ,cAAc,CAAChR,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKgR,qBAAL,CAA2BjR,CAA3B,CAAR;IAAA,MAAsCE,CAAC,GAAC,MAAM,KAAK2H,MAAL,CAAYmJ,cAAZ,CAA2B/Q,CAA3B,CAA9C;;IAA4E,OAAOsF,EAAE,CAACrF,CAAD,EAAG;MAACgR,MAAM,EAACjR,CAAC,CAACiR,MAAV;MAAiBC,OAAO,EAAClR,CAAC,CAACkR,OAA3B;MAAmC7C,QAAQ,EAAC,CAA5C;MAA8C8C,kBAAkB,EAAC,CAAC;IAAlE,CAAH,EAAwE,KAAKpH,YAA7E,CAAT;EAAoG;;EAAqB,MAAfqH,eAAe,CAACrR,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,KAAKgR,qBAAL,CAA2BjR,CAA3B,CAAR;IAAA,MAAsCE,CAAC,GAAC,MAAM,KAAK2H,MAAL,CAAYmJ,cAAZ,CAA2B/Q,CAA3B,CAA9C;;IAA4E,OAAOwF,EAAE,CAACvF,CAAD,EAAG,KAAK8J,YAAR,CAAT;EAA+B;;EAAAiH,qBAAqB,CAACjR,CAAD,EAAG;IAACA,CAAC,GAACA,CAAC,IAAE,EAAL;IAAQ,MAAMC,CAAC,GAAC,KAAKgJ,6BAAL,GAAmCqI,IAAI,CAACC,GAAL,CAAS,CAAT,EAAW5L,EAAE,CAAC,KAAKyI,IAAN,EAAWkD,IAAI,CAACC,GAAL,CAAS,IAAT,EAAc,KAAK1J,MAAL,CAAY2J,OAAZ,CAAoBC,UAApB,CAA+BC,cAA7C,CAAX,CAAb,CAAnC,GAA0H,CAAlI;IAAoI,IAAIxR,CAAJ;IAAMF,CAAC,CAAC2R,MAAF,IAAUzR,CAAC,GAAC,EAAF,EAAKF,CAAC,CAAC2R,MAAF,CAASC,OAAT,CAAkB5R,CAAC,IAAE;MAAC,MAAMC,CAAC,GAAC,KAAK6O,aAAL,CAAmB+C,IAAnB,CAAyB5R,CAAC,IAAEA,CAAC,CAAC0Q,KAAF,CAAQmB,EAAR,KAAa9R,CAAC,CAAC8R,EAA3C,CAAR;MAAwD7R,CAAC,IAAE,eAAcA,CAAjB,IAAoBA,CAAC,CAAC8R,SAAtB,IAAiC7R,CAAC,CAAC8R,IAAF,CAAO/R,CAAC,CAAC8R,SAAT,CAAjC;IAAqD,CAAnI,CAAf,IAAsJ7R,CAAC,GAAC,KAAK2H,MAAL,CAAYoK,QAApK;IAA6K,MAAK;MAACf,MAAM,EAAC/Q,CAAR;MAAUgR,OAAO,EAAC/Q;IAAlB,IAAqByF,EAAE,CAAC7F,CAAC,CAACkR,MAAH,EAAUlR,CAAC,CAACmR,OAAZ,CAA5B;IAAiD,OAAO9L,EAAE,CAACrF,CAAD,EAAGC,CAAH,EAAK,KAAKmO,IAAV,EAAe,KAAKhE,OAApB,EAA4BjK,CAA5B,EAA8BC,CAA9B,EAAgCF,CAAhC,EAAkCF,CAAC,CAACsO,QAApC,CAAT;EAAuD;;EAAQ,IAAJ4D,IAAI,GAAE;IAAC,OAAM;MAAClB,cAAc,EAAChR,CAAC,IAAE,KAAKqR,eAAL,CAAqBrR,CAArB;IAAnB,CAAN;EAAkD;;EAAAyQ,KAAK,CAACzQ,CAAD,EAAG;IAAC,IAAG,CAAC,KAAKuN,KAAT,EAAe,OAAO,IAAP;IAAY,MAAMtN,CAAC,GAAC8F,EAAE,CAAC/F,CAAD,CAAF,GAAMiG,EAAE,CAAC,IAAD,EAAMjG,CAAN,CAAR,GAAiBA,CAAzB;IAAA,MAA2BE,CAAC,GAAC,CAAC,CAAD,EAAG,CAAH,CAA7B;IAAA,MAAmC,CAACC,CAAD,EAAGC,CAAH,IAAM,KAAKoN,KAAL,CAAWiD,KAAX,CAAiBvQ,CAAjB,EAAmB,CAACD,CAAC,CAAC0C,CAAH,EAAK1C,CAAC,CAAC0B,CAAP,CAAnB,CAAzC;IAAA,MAAuEtB,CAAC,GAAC,KAAKuM,gBAA9E;IAA+F,OAAO,IAAIzK,CAAJ,CAAM;MAACQ,CAAC,EAACxC,CAAH;MAAKwB,CAAC,EAACvB,CAAP;MAASwM,gBAAgB,EAACvM;IAA1B,CAAN,CAAP;EAA2C;;EAAA8R,QAAQ,CAACnS,CAAD,EAAG;IAAC,IAAG,CAAC,KAAKuN,KAAT,EAAe,OAAO,IAAP;;IAAY,MAAMtN,CAAC,GAAC,KAAK0N,QAAL,CAAc3N,CAAd,EAAgB,KAAK4M,gBAArB,CAAR;IAAA,MAA+C1M,CAAC,GAAC,CAACD,CAAC,CAAC0C,CAAH,EAAK1C,CAAC,CAAC0B,CAAP,CAAjD;;IAA2D,OAAO,KAAK6L,KAAL,CAAW2E,QAAX,CAAoBjS,CAApB,EAAsBA,CAAtB,GAAyByB,CAAC,CAACzB,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAjC;EAA6C;;EAAA8K,EAAE,CAAChL,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAOC,CAAP,EAAS;IAAC,MAAMC,CAAC,GAAC,KAAKoJ,YAAL,IAAmB,KAAK4I,UAAL,CAAgBpH,EAAhB,CAAmBhL,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,EAAyBC,CAAzB,CAA3B;IAAuD,OAAOC,CAAC,IAAE,MAAM4K,EAAN,CAAShL,CAAT,EAAWC,CAAX,CAAV;EAAwB;;EAAAoS,gBAAgB,CAACrS,CAAD,EAAG;IAAC,OAAO,MAAMqS,gBAAN,CAAuBrS,CAAvB,KAA2B,KAAKoS,UAAL,CAAgBE,UAAhB,CAA2BtS,CAA3B,CAAlC;EAAgE;;EAAAuS,aAAa,CAACvS,CAAD,EAAG;IAAC,OAAO,MAAMuS,aAAN,CAAoBvS,CAApB,CAAP;EAA8B;;EAAAwS,cAAc,CAACxS,CAAD,EAAG;IAAC,IAAG,KAAKwI,YAAR,EAAqB;MAAC,KAAKA,YAAL,CAAkBiK,oBAAlB,CAAuCzS,CAAvC;IAA0C;EAAC;;EAAA0S,SAAS,GAAE;IAAC,OAAO,IAAIrL,OAAJ,CAAarH,CAAC,IAAE;MAAC,KAAKuN,KAAL,GAAWvN,CAAC,CAAC,IAAD,CAAZ,GAAmB,KAAK8H,iBAAL,CAAuBkK,IAAvB,CAA4BhS,CAA5B,CAAnB;IAAkD,CAAnE,CAAP;EAA6E;;EAAA2S,kBAAkB,GAAE;IAAC,KAAKC,eAAL;EAAuB;;EAAAC,0BAA0B,GAAE;IAAC,OAAO,KAAKnJ,GAAL,IAAU,2BAA0B,KAAKA,GAAzC,IAA8C,KAAKA,GAAL,EAAUmC,qBAAV,EAAiCe,gBAA/E,IAAiG,KAAKkG,eAAL,EAAsBlG,gBAAvH,IAAyI,IAAhJ;EAAqJ;;EAAAmG,kBAAkB,CAAC/S,CAAD,EAAG;IAAC,OAAO0D,CAAC,CAACqP,kBAAF,CAAqB/S,CAArB,CAAP;EAA+B;;EAAAgT,eAAe,CAAChT,CAAD,EAAG;IAAC,OAAO0D,CAAC,CAACsP,eAAF,CAAkBhT,CAAlB,CAAP;EAA4B;;EAAAiT,WAAW,GAAE;IAAC,OAAO,KAAK1F,KAAL,GAAW,KAAKC,KAAL,CAAWa,UAAtB,IAAkC/H,EAAE,CAACsH,KAAH,CAAS,gBAAT,EAA0B,4CAA1B,GAAwE,IAA1G,CAAP;EAAuH;;EAAAsF,YAAY,CAAClT,CAAD,EAAG;IAAC,OAAO,KAAK4P,OAAL,CAAa5P,CAAb,EAAgBuP,IAAhB,CAAsBtP,CAAC,KAAG,EAAC,GAAGA,CAAJ;MAAM2Q,QAAQ,EAAC,KAAKH,KAAL,CAAWzQ,CAAX;IAAf,CAAH,CAAvB,CAAP;EAAkE;;EAAAmT,aAAa,GAAE;IAAC,KAAK5F,KAAL,IAAY,KAAKnE,SAAL,CAAe+J,aAAf,EAAZ;EAA2C;;EAAAC,QAAQ,GAAE;IAAC,IAAIpT,CAAC,GAACmG,EAAE,CAAC,KAAK2D,IAAN,CAAR;IAAoB,OAAOxJ,CAAC,CAAC,QAAD,CAAD,IAAaA,CAAC,CAAC,QAAD,CAAD,GAAY,CAAzB,KAA6BN,CAAC,GAAC,IAAIK,CAAJ,CAAM,+BAAN,EAAsC,uDAAtC,EAA8F;MAACyJ,IAAI,EAAC,QAAN;MAAeuJ,eAAe,EAAC,CAA/B;MAAiCC,eAAe,EAAChT,CAAC,CAAC,QAAD;IAAlD,CAA9F,CAA/B,GAA6LK,CAAC,CAACX,CAAD,CAAD,IAAMsG,EAAE,CAACiN,IAAH,CAAQ,aAAR,EAAsBvT,CAAC,CAACwT,OAAxB,GAAiCnM,OAAO,CAACoM,MAAR,CAAezT,CAAf,CAAvC,IAA0D8G,EAAE,EAAhQ;EAAmQ;;EAAAwI,gBAAgB,GAAE;IAAC,OAAO,KAAKnE,SAAL,IAAgB,CAAC,KAAKA,SAAL,CAAeuI,IAAhC,KAAuC,KAAKvI,SAAL,GAAe,IAAI7H,CAAJ,EAAtD,GAA6D,KAAK6H,SAAzE;EAAmF;;EAAAwI,gBAAgB,CAAC3T,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;IAAC,MAAMC,CAAC,GAAC,MAAIH,CAAC,KAAG,KAAKsL,SAArB;IAAA,MAA+BlL,CAAC,GAACF,CAAC,CAACqP,IAAF,CAAQ,MAAI;MAACpP,CAAC,OAAK,KAAKgL,SAAL,GAAe,IAApB,CAAD;IAA2B,CAAxC,EAA2CyI,KAA3C,CAAkD5T,CAAC,IAAE;MAAC,MAAMG,CAAC,OAAK,KAAKgL,SAAL,GAAe,IAAf,EAAoBlL,CAAC,CAACyT,IAAF,KAASzT,CAAC,CAAC6M,IAAF,IAAS,KAAK1D,SAAL,CAAe4D,mBAAf,GAAmC,CAAC,CAAtD,CAAzB,CAAD,EAAoFhN,CAA1F;IAA4F,CAAlJ,CAAjC;IAAA,MAAsLK,CAAC,GAAC,IAAIgH,OAAJ,CAAarH,CAAC,IAAEA,CAAC,CAACI,CAAD,CAAjB,CAAxL;;IAA+M,OAAOH,CAAC,CAACiN,IAAF,GAAS0G,KAAT,CAAgB,MAAI;MAACzT,CAAC,MAAIE,CAAC,CAACwT,MAAP,IAAexT,CAAC,CAACwT,MAAF,EAAf;IAA0B,CAA/C,GAAkDxT,CAAzD;EAA2D;;EAAAsP,cAAc,CAAC3P,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC,KAAKoL,SAAb;IAAA,MAAuBnL,CAAC,GAAC,KAAKgL,SAA9B;IAAA,MAAwC/K,CAAC,GAACJ,CAAC,CAACuP,IAAF,CAAQvP,CAAC,IAAE;MAAC,IAAGiB,CAAC,CAAChB,CAAD,CAAD,EAAKC,CAAC,KAAG,KAAKoL,SAAjB,EAA2B,MAAM,IAAIjL,CAAJ,CAAM,uBAAN,EAA8B,sBAA9B,CAAN;MAA4D,KAAKsK,SAAL,GAAexK,CAAC,CAAC2T,MAAF,GAAS9T,CAAxB,EAA0BG,CAAC,CAAC4T,MAAF,EAA1B;IAAqC,CAAxI,CAA1C;IAAqL,OAAO,KAAKJ,gBAAL,CAAsBzT,CAAtB,EAAwBC,CAAxB,EAA0BC,CAA1B,CAAP;EAAoC;;EAAA2K,eAAe,CAAC/K,CAAD,EAAG;IAAC,OAAO,SAAO,KAAKmJ,gBAAZ,KAA+B,KAAKA,gBAAL,GAAsB6K,UAAU,CAAE,MAAI;MAAC,KAAK7K,gBAAL,GAAsB,IAAtB;;MAA2B,MAAMnJ,CAAC,GAAC6K,WAAW,CAACC,GAAZ,KAAkB,KAAKF,6BAA/B;;MAA6D5K,CAAC,GAACuH,EAAF,KAAO,KAAK4B,gBAAL,GAAsB,KAAK4B,eAAL,CAAqB/K,CAArB,CAA7B;IAAsD,CAArJ,EAAuJA,CAAvJ,CAA/D,GAA0N,KAAKmJ,gBAAtO;EAAuP;;EAAAwD,oBAAoB,GAAE;IAAC,MAAK;MAACxC,WAAW,EAACnK,CAAb;MAAeiU,aAAa,EAAChU,CAA7B;MAA+ByJ,GAAG,EAACvJ,CAAnC;MAAqCiK,OAAO,EAAChK,CAA7C;MAA+CgO,IAAI,EAAC/N;IAApD,IAAuD,IAA5D;IAAiE,IAAG,CAACL,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAMM,CAAC,GAACH,CAAC,IAAE,2BAA0BA,CAA7B,IAAgCA,CAAC,CAAC0L,qBAA1C;IAAA,MAAgErL,CAAC,GAAC;MAACoL,IAAI,EAAC,KAAKiB,IAAL,CAAU,MAAV,CAAN;MAAwBpB,KAAK,EAAC,KAAKoB,IAAL,CAAU,OAAV,CAA9B;MAAiDnB,MAAM,EAAC,KAAKmB,IAAL,CAAU,QAAV,CAAxD;MAA4ElB,MAAM,EAAC,KAAKkB,IAAL,CAAU,QAAV,CAAnF;MAAuGyB,QAAQ,EAAC,KAAKzB,IAAL,CAAU,UAAV,CAAhH;MAAsIlC,SAAS,EAAC,KAAKkC,IAAL,CAAU,WAAV,CAAhJ;MAAuKD,gBAAgB,EAAC,KAAKsH;IAA7L,CAAlE;IAAsRlU,CAAC,CAAC8L,aAAF,GAAgB,CAAC,CAAD,KAAKtL,CAAC,CAACoL,IAAP,KAAcpL,CAAC,CAACiL,KAAF,GAAQzL,CAAC,CAACmP,WAAF,CAAc3O,CAAC,CAACoL,IAAhB,CAAtB,CAAhB,GAA6DpL,CAAC,CAACoL,IAAF,GAAO,CAAC,CAArE;IAAuE,IAAInL,CAAC,GAAC,IAAN;IAAA,IAAWM,CAAC,GAAC,IAAb;IAAA,IAAkBE,CAAC,GAAC,CAApB;IAAsB,MAAME,CAAC,GAACX,CAAC,CAACmK,SAAF,IAAanK,CAAC,CAACmK,SAAF,CAAY2D,QAAjC;IAAA,MAA0CjN,CAAC,GAACb,CAAC,CAACmK,SAAF,IAAanK,CAAC,CAACmK,SAAF,CAAYoB,cAArE;IAAoFpL,CAAC,CAACU,CAAD,CAAD,KAAO,aAAWA,CAAC,CAACyI,IAAb,GAAkBrJ,CAAC,GAACY,CAApB,GAAsB,YAAUA,CAAC,CAACyI,IAAZ,KAAmB/I,CAAC,GAACM,CAAF,EAAIJ,CAAC,GAACT,CAAC,CAACmK,SAAF,CAAYc,KAArC,CAA7B;IAA0E,MAAMlK,CAAC,GAACf,CAAC,CAACmL,MAAF,IAAUlL,CAAV,IAAaI,CAAC,CAACP,CAAC,EAAEqK,SAAH,EAAcoB,cAAf,CAAD,EAAiCJ,MAA9C,IAAsD1L,CAA9D;IAAA,MAAgEwB,CAAC,GAACjB,CAAC,CAACkL,MAAF,IAAU3K,CAAV,IAAaQ,CAAC,EAAEmK,MAAlF;IAAA,MAAyF/J,CAAC,GAACnB,CAAC,CAACiL,KAAF,IAASxK,CAAT,IAAYX,CAAC,EAAEqK,SAAH,EAAcc,KAA1B,IAAiClK,CAAC,IAAEoD,CAAC,CAACpD,CAAD,EAAG,CAAClB,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAC,CAACoK,IAAP,GAAYpK,CAAC,CAACkK,KAAf,EAAqBjK,CAAC,CAAC,CAAD,CAAD,GAAKD,CAAC,CAACiK,GAAP,GAAWjK,CAAC,CAACmK,MAAlC,CAAH,CAAhI;IAAA,MAA8K3I,CAAC,GAACpB,CAAC,CAAC8N,QAAF,IAAYnN,CAAZ,IAAeb,CAAC,EAAEqK,SAAH,EAAc2D,QAA7B,IAAuC,CAAvN;IAAyN,OAAO7M,CAAC,IAAEE,CAAH,GAAK,IAAIzB,CAAJ,CAAM;MAAC6L,cAAc,EAACtK,CAAhB;MAAkBgK,KAAK,EAAC9J,CAAxB;MAA0B2M,QAAQ,EAAC1M;IAAnC,CAAN,CAAL,GAAkD,IAAzD;EAA8D;;EAAA8N,aAAa,CAAC1P,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC,KAAKoL,SAAb;IAAA,MAAuBnL,CAAC,GAAC,KAAKgL,SAA9B;IAAA,MAAwC/K,CAAC,GAACJ,CAAC,CAACuP,IAAF,CAAQvP,CAAC,IAAE;MAAC,IAAGiB,CAAC,CAAChB,CAAD,CAAD,EAAKC,CAAC,KAAG,KAAKoL,SAAjB,EAA2B,MAAM,IAAIjL,CAAJ,CAAM,uBAAN,EAA8B,sBAA9B,CAAN;MAA4D,OAAOF,CAAC,CAACsP,MAAF,CAASzP,CAAT,GAAY,KAAKkL,gBAAL,CAAsBsE,OAAtB,CAA8BrP,CAA9B,EAAgC,KAAKwK,SAArC,EAA+C1K,CAA/C,CAAZ,EAA8DE,CAAC,CAAC+M,IAAF,GAASqC,IAAT,CAAe,MAAI,CAAE,CAArB,EAAwB,MAAI,CAAE,CAA9B,CAArE;IAAsG,CAAzM,CAA1C;IAAsP,OAAO,KAAKoE,gBAAL,CAAsBzT,CAAtB,EAAwBC,CAAxB,EAA0BC,CAA1B,CAAP;EAAoC;;EAAAuN,QAAQ,CAAC3N,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAACF,CAAC,IAAEA,CAAC,CAAC+L,cAAL,IAAqB/L,CAA7B;IAA+B,IAAG,CAACC,CAAJ,EAAM,OAAOD,CAAP;IAAS,IAAG,CAACE,CAAJ,EAAM,OAAO,IAAP;IAAY,IAAGD,CAAC,CAACkU,qBAAF,IAAyBjU,CAAC,CAAC0M,gBAAF,EAAoBuH,qBAAhD,EAAsE,OAAOnU,CAAP;IAAS,IAAG6C,CAAC,CAAC5C,CAAD,EAAGC,CAAC,CAAC0M,gBAAL,CAAJ,EAA2B,OAAO5M,CAAP;IAAS,MAAMG,CAAC,GAACwC,CAAC,CAACzC,CAAD,EAAGD,CAAH,CAAT;IAAe,IAAG,CAACE,CAAJ,EAAM,MAAM,IAAIE,CAAJ,CAAM,iCAAN,EAAwC,6EAAxC,EAAsH;MAAC+T,QAAQ,EAAClU,CAAV;MAAY0M,gBAAgB,EAAC3M;IAA7B,CAAtH,CAAN;IAA6J,OAAOuH,EAAE,CAACxH,CAAD,CAAF,IAAOA,CAAC,CAAC+L,cAAF,GAAiB5L,CAAjB,EAAmBH,CAA1B,IAA6BG,CAApC;EAAsC;;EAAA8K,cAAc,CAACjL,CAAD,EAAG;IAAC,IAAG,CAAC,KAAKuN,KAAT,EAAe;IAAO,MAAMtN,CAAC,GAAC,KAAKuN,KAAb;IAAmB,IAAItN,CAAC,GAAC,KAAKsN,KAAL,CAAWC,eAAX,CAA2B9C,SAAjC;IAA2C,MAAMxK,CAAC,GAAC,KAAKqN,KAAL,CAAWC,eAAX,CAA2BW,IAA3B,CAAgCiG,MAAhC,EAAR;IAAiDpU,CAAC,CAACmO,IAAF,GAAO,CAACpO,CAAC,CAACkO,KAAH,EAASlO,CAAC,CAACmO,MAAX,CAAP,EAA0BtJ,CAAC,CAAC3E,CAAD,EAAGA,CAAH,EAAKC,CAAL,EAAO,KAAKqN,KAAL,CAAWC,eAAX,CAA2BW,IAAlC,EAAuC,KAAKzE,WAA5C,CAA3B,EAAoFzJ,CAAC,GAAC,KAAKiK,WAAL,CAAiB8E,SAAjB,CAA2B/O,CAA3B,EAA6B,IAA7B,CAAtF,EAAyH,KAAKsN,KAAL,CAAW7C,SAAX,GAAqBzK,CAA9I;EAAgJ;;EAAAoU,QAAQ,GAAE;IAAC,KAAKzK,QAAL,CAAc0K,KAAd,CAAoB,iBAApB;;IAAuC,MAAMvU,CAAC,GAAC,KAAK2M,oBAAL,EAAR;IAAA,MAAoC1M,CAAC,GAACD,CAAC,CAAC+L,cAAxC;;IAAuD,IAAG;MAAC,KAAK4B,QAAL,CAAc3N,CAAd,EAAgB,KAAK4M,gBAArB;IAAuC,CAA3C,CAA2C,OAAMpM,CAAN,EAAQ;MAAC8F,EAAE,CAACiN,IAAH,CAAQ,IAAI3R,CAAJ,CAAM,kCAAN,EAAyC,uGAAzC,EAAiJ;QAAC8J,MAAM,EAACzL,CAAC,CAACuU,MAAF,EAAR;QAAmB5H,gBAAgB,EAAC,KAAKA,gBAAzC;QAA0DgB,KAAK,EAACpN;MAAhE,CAAjJ,CAAR,GAA8NR,CAAC,CAAC+L,cAAF,GAAiB,KAAK+G,eAAL,CAAqBnH,MAArB,EAA6BD,MAA7B,IAAqC,IAAIvJ,CAAJ,CAAM;QAACQ,CAAC,EAAC,CAAH;QAAKhB,CAAC,EAAC,CAAP;QAASiL,gBAAgB,EAAC,KAAKA;MAA/B,CAAN,CAApR;IAA4U;;IAAA,KAAKzC,WAAL,EAAkB4D,GAAlB,CAAsB/N,CAAtB,GAAyB,KAAKqL,IAAL,CAAU,OAAV,EAAkB,IAAIzH,CAAJ,CAAM;MAACwG,OAAO,EAAC,KAAKyC,IAAL,CAAU,SAAV,CAAT;MAA8BuB,IAAI,EAAC,KAAKA,IAAxC;MAA6CzD,SAAS,EAAC3K;IAAvD,CAAN,CAAlB,CAAzB,EAA6G,KAAKyU,QAAL,CAAcC,KAAd,GAAoB,IAAjI;IAAsI,MAAMxU,CAAC,GAAC,IAAIsG,EAAJ,CAAO,KAAKmO,OAAZ,EAAoB;MAACC,MAAM,EAAC,KAAKC,YAAb;MAA0BC,sBAAsB,EAAC,KAAK7L,6BAAtD;MAAoF8L,cAAc,EAAC;QAACC,kBAAkB,EAAC,KAAKC,0BAAzB;QAAoDC,oBAAoB,EAAC,KAAKA;MAA9E,CAAnG;MAAuMvM,gBAAgB,EAAC,KAAKA,gBAA7N;MAA8OkB,QAAQ,EAAC,KAAKA;IAA5P,CAApB,CAAR;IAAmS,KAAKhC,MAAL,GAAY3H,CAAZ,EAAc,KAAK0H,cAAL,GAAoB,IAAIf,EAAJ,EAAlC,EAAyC,KAAKe,cAAL,CAAoBuN,SAApB,GAA8B,KAAKA,SAA5E;IAAsF,MAAMhV,CAAC,GAAC,IAAIwG,EAAJ,CAAO;MAAC8C,IAAI,EAAC;IAAN,CAAP,CAAR;;IAA4B,KAAK4B,IAAL,CAAU,cAAV,EAAyBlL,CAAzB;;IAA4B,MAAMC,CAAC,GAAC,IAAImD,CAAJ,CAAM;MAACkG,IAAI,EAAC;IAAN,CAAN,CAAR;;IAA2B,KAAK4B,IAAL,CAAU,kBAAV,EAA6BjL,CAA7B;;IAAgC,MAAMC,CAAC,GAAC,IAAIuG,EAAJ,CAAO;MAAC6C,IAAI,EAAC,IAAN;MAAWyB,gBAAgB,EAAC9K;IAA5B,CAAP,CAAR;IAA+C,KAAKiL,IAAL,CAAU,mBAAV,EAA8BhL,CAA9B,GAAiC,KAAK+U,yCAAL,EAAjC,EAAkF,KAAK3K,OAAL,CAAaC,GAAb,CAAiB,CAAC,KAAK3C,cAAL,CAAoBiD,EAApB,CAAuB,QAAvB,EAAiC,MAAI,KAAKqK,oBAAL,EAArC,CAAD,EAAoEnV,CAAC,CAAC8K,EAAF,CAAK,aAAL,EAAoB,MAAI,KAAKK,IAAL,CAAU,WAAV,EAAsBnL,CAAC,CAACoV,eAAxB,CAAxB,CAApE,EAAuIpV,CAAC,CAAC8K,EAAF,CAAK,aAAL,EAAoB,MAAI,KAAKK,IAAL,CAAU,WAAV,EAAsBnL,CAAC,CAACoV,eAAxB,CAAxB,CAAvI,EAA0MpV,CAAC,CAAC8K,EAAF,CAAK,aAAL,EAAoBhL,CAAC,IAAE,KAAKuV,UAAL,GAAgBvV,CAAC,CAAC4N,KAAzC,CAA1M,EAA2PzM,CAAC,CAAE,MAAI,KAAKqN,UAAX,EAAwBxO,CAAC,IAAEE,CAAC,CAACsO,UAAF,GAAaxO,CAAxC,EAA2CyB,CAA3C,CAA5P,EAA0SN,CAAC,CAAE,MAAI,KAAKgM,UAAX,EAAwBnN,CAAC,IAAE;MAACE,CAAC,CAACiN,UAAF,GAAanN,CAAb,EAAe,KAAK4H,cAAL,CAAoBuF,UAApB,GAA+BnN,CAA9C;IAAgD,CAA5E,EAA8EyB,CAA9E,CAA3S,EAA4XN,CAAC,CAAE,MAAI,KAAKgU,SAAX,EAAuBnV,CAAC,IAAE,KAAK4H,cAAL,CAAoBuN,SAApB,GAA8BnV,CAAxD,EAA2DyB,CAA3D,CAA7X,EAA2bN,CAAC,CAAE,MAAI,KAAKwH,gBAAX,EAA8B3I,CAAC,IAAEE,CAAC,CAACyI,gBAAF,GAAmB3I,CAApD,EAAuDyB,CAAvD,CAA5b,EAAsfN,CAAC,CAAE,MAAI,KAAKoI,gBAAX,EAA8BvJ,CAAC,IAAEE,CAAC,CAACqJ,gBAAF,GAAmBvJ,CAApD,EAAuDyB,CAAvD,CAAvf,EAAijBN,CAAC,CAAE,MAAI,KAAKqM,KAAL,CAAWsE,EAAjB,EAAsB,MAAI5R,CAAC,CAACsN,KAAF,GAAQ,KAAKA,KAAvC,EAA8C/L,CAA9C,CAAljB,CAAjB,EAAqnB,UAArnB,CAAlF,EAAmtB,KAAK4T,oBAAL,EAAntB;IAA+uB,MAAM/U,CAAC,GAAC,KAAKwH,iBAAb;IAA+B,KAAKA,iBAAL,GAAuB,EAAvB,EAA0BxH,CAAC,CAACsR,OAAF,CAAW5R,CAAC,IAAEA,CAAC,CAAC,IAAD,CAAf,CAA1B,EAAkD,KAAK6J,QAAL,CAAc2L,GAAd,CAAkB,iBAAlB,CAAlD,EAAuF,KAAKpM,SAAL,IAAgB,KAAKA,SAAL,CAAeqM,KAAf,EAAvG,EAA8H,KAAKpK,IAAL,CAAU,OAAV,EAAkB,CAAC,CAAnB,CAA9H;EAAoJ;;EAAAqK,SAAS,GAAE;IAAC,KAAKC,2CAAL,IAAmD,KAAKlL,OAAL,CAAaqD,MAAb,CAAoB,UAApB,CAAnD,EAAmF,KAAKpF,iBAAL,CAAuB0C,OAAvB,EAAnF,EAAoH,KAAKC,IAAL,CAAU,mBAAV,EAA8B,IAA9B,CAApH,EAAwJ,KAAKH,gBAAL,CAAsBE,OAAtB,EAAxJ,EAAwL,KAAKC,IAAL,CAAU,kBAAV,EAA6B,IAA7B,CAAxL,EAA2N,KAAKwD,gBAAL,CAAsB+G,KAAtB,EAA3N,EAAyP,KAAKnN,YAAL,CAAkB2C,OAAlB,EAAzP,EAAqR,KAAKxD,cAAL,CAAoBwD,OAApB,EAArR,EAAmT,KAAKvD,MAAL,CAAYuD,OAAZ,EAAnT,EAAyU,KAAKvD,MAAL,GAAY,IAArV,EAA0V,KAAKwD,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAA1V,EAAyX,KAAKzD,cAAL,GAAoB,IAA7Y,EAAkZ,KAAKyD,IAAL,CAAU,cAAV,EAAyB,IAAzB,CAAlZ,EAAib,KAAKA,IAAL,CAAU,mBAAV,EAA8B,IAA9B,CAAjb,EAAqd,KAAKoJ,QAAL,CAAcC,KAAd,GAAoB,IAAze,EAA8e,KAAKtL,SAAL,IAAgB,KAAKA,SAAL,CAAe0D,IAAf,EAA9f,EAAohB,KAAK3D,gBAAL,KAAwB0M,YAAY,CAAC,KAAK1M,gBAAN,CAAZ,EAAoC,KAAKA,gBAAL,GAAsB,IAAlF,CAAphB,EAA4mB,KAAKkC,IAAL,CAAU,OAAV,EAAkB,CAAC,CAAnB,CAA5mB;IAAkoB,MAAK;MAACK,MAAM,EAAC,CAAC1L,CAAD,EAAGC,CAAH,CAAR;MAAc2M,gBAAgB,EAAC1M,CAA/B;MAAiCoO,QAAQ,EAACnO,CAA1C;MAA4CsL,KAAK,EAACrL;IAAlD,IAAqD,KAAKoN,KAAL,CAAWC,eAArE;IAAA,MAAqFpN,CAAC,GAAC,IAAI8B,CAAJ,CAAM;MAACQ,CAAC,EAAC3C,CAAH;MAAK2B,CAAC,EAAC1B,CAAP;MAAS2M,gBAAgB,EAAC1M;IAA1B,CAAN,CAAvF;IAA2H,KAAKmL,IAAL,CAAU,WAAV,EAAsB,IAAtB,GAA4B,KAAKA,IAAL,CAAU,QAAV,EAAmB,IAAnB,CAA5B,EAAqD,KAAKA,IAAL,CAAU,QAAV,EAAmBhL,CAAnB,CAArD,EAA2E,KAAKgL,IAAL,CAAU,MAAV,EAAiB,CAAC,CAAlB,CAA3E,EAAgG,KAAKA,IAAL,CAAU,UAAV,EAAqBlL,CAArB,CAAhG,EAAwH,KAAKkL,IAAL,CAAU,OAAV,EAAkBjL,CAAlB,CAAxH,EAA6I,KAAKiL,IAAL,CAAU,kBAAV,EAA6BnL,CAA7B,CAA7I,EAA6K,KAAKmL,IAAL,CAAU,OAAV,EAAkB,IAAlB,CAA7K,EAAqM,KAAKF,SAAL,GAAe,IAApN;EAAyN;;EAAAkK,oBAAoB,GAAE;IAAC,KAAKxN,MAAL,CAAYiO,iBAAZ,IAAgC,KAAK/N,cAAL,CAAoB6J,OAApB,CAA6B5R,CAAC,IAAE;MAAC,KAAK6H,MAAL,CAAYkO,QAAZ,CAAqB/V,CAAC,CAAC+R,SAAvB;IAAkC,CAAnE,CAAhC;IAAsG,MAAM/R,CAAC,GAAC,KAAKwI,YAAb;IAA0B,KAAKX,MAAL,CAAYkO,QAAZ,CAAqB/V,CAAC,CAAC+R,SAAvB,GAAkC,KAAKlK,MAAL,CAAYkO,QAAZ,CAAqB,KAAKnO,cAA1B,CAAlC;EAA4E;;EAAAwN,yCAAyC,GAAE;IAAC,MAAMpV,CAAC,GAAC,IAAI6D,CAAJ,CAAMf,CAAC,CAAC0B,MAAF,CAAS;MAACoI,gBAAgB,EAAC,KAAKA,gBAAvB;MAAwCwB,IAAI,EAAC,GAA7C;MAAiD4H,OAAO,EAAC;IAAzD,CAAT,CAAN,CAAR;;IAAsF,KAAK3K,IAAL,CAAU,sBAAV,EAAiCrL,CAAjC;;IAAoC,MAAMC,CAAC,GAAC,IAAIwG,EAAJ,CAAO;MAACgD,IAAI,EAAC,IAAN;MAAWgL,QAAQ,EAAC,KAAKA,QAAzB;MAAkCwB,qBAAqB,EAAC,MAAI,KAAK9C,aAAL,EAA5D;MAAiFpB,SAAS,EAAC,IAAIrL,EAAJ,CAAO1G,CAAP;IAA3F,CAAP,CAAR;IAAsH,KAAKoJ,SAAL,CAAeZ,YAAf,GAA4BvI,CAA5B,EAA8B,KAAKoL,IAAL,CAAU,cAAV,EAAyBpL,CAAzB,CAA9B;EAA0D;;EAAA0V,2CAA2C,GAAE;IAAC,MAAM3V,CAAC,GAAC,KAAKwI,YAAb;IAA0B,KAAK6C,IAAL,CAAU,cAAV,EAAyB,IAAzB,GAA+B,KAAKjC,SAAL,CAAeZ,YAAf,GAA4B,IAA3D,EAAgExI,CAAC,CAACoL,OAAF,EAAhE,EAA4E,KAAKC,IAAL,CAAU,sBAAV,EAAiC,IAAjC,CAA5E;EAAmH;;EAAA6K,wBAAwB,CAAClW,CAAD,EAAG;IAAC,IAAG,CAAC,KAAKuN,KAAT,EAAe;IAAO,KAAKnE,SAAL,CAAe0D,IAAf;;IAAsB,KAAI,MAAM5M,CAAV,IAAe,KAAK4O,aAApB,EAAkC5O,CAAC,CAACiW,aAAF;;IAAkB,KAAKR,2CAAL;;IAAmD,MAAM1V,CAAC,GAAC,KAAKuN,KAAL,CAAWC,eAAX,CAA2BQ,KAA3B,EAAR;IAA2C,IAAGlN,CAAC,CAAC,KAAKiO,oCAAN,CAAJ,EAAgD,KAAKA,oCAAL,GAA0C/O,CAAC,CAACwL,KAA5C,CAAhD,KAAsG;MAAC,MAAMzL,CAAC,GAACC,CAAC,CAAC0K,SAAF,CAAYsD,KAAZ,EAAR;MAA4BjO,CAAC,CAACyL,KAAF,GAAQ,KAAKuD,oCAAb,EAAkD/O,CAAC,CAAC0K,SAAF,GAAY3K,CAA9D;IAAgE;IAAA,MAAMG,CAAC,GAACF,CAAC,CAACgO,KAAF,EAAR;IAAA,MAAkB,CAAC7N,CAAD,EAAGC,CAAH,IAAMJ,CAAC,CAACyL,MAA1B;IAAiC,IAAIlL,CAAC,GAAC,IAAN;;IAAW,IAAG;MAACA,CAAC,GAAC,KAAKmN,QAAL,CAAc,IAAIxL,CAAJ,CAAM;QAACQ,CAAC,EAACvC,CAAH;QAAKuB,CAAC,EAACtB,CAAP;QAASuM,gBAAgB,EAAC3M,CAAC,CAAC2M;MAA5B,CAAN,CAAd,EAAmE5M,CAAnE,CAAF;IAAwE,CAA5E,CAA4E,OAAMW,CAAN,EAAQ;MAAC0B,CAAC,MAAIiE,EAAE,CAACiN,IAAH,CAAQ,IAAI3R,CAAJ,CAAM,kCAAN,EAAyC,kEAAzC,EAA4G;QAAC8J,MAAM,EAAClL,CAAC,CAACgU,MAAF,EAAR;QAAmB5H,gBAAgB,EAAC5M,CAApC;QAAsC4N,KAAK,EAACjN;MAA5C,CAA5G,CAAR,CAAL;IAA0K;;IAAAH,CAAC,KAAGA,CAAC,GAAC,IAAI2B,CAAJ,CAAM;MAACQ,CAAC,EAAC,CAAH;MAAKhB,CAAC,EAAC,CAAP;MAASiL,gBAAgB,EAAC5M;IAA1B,CAAN,CAAL,CAAD;IAA2C,MAAMS,CAAC,GAACsD,CAAC,CAAC,IAAI7D,CAAJ,CAAM;MAAC6L,cAAc,EAAC,IAAI5J,CAAJ,EAAhB;MAAsBsJ,KAAK,EAAC,CAA5B;MAA8B6C,QAAQ,EAAC;IAAvC,CAAN,CAAD,EAAkDrO,CAAC,CAAC0K,SAApD,EAA8DnK,CAA9D,CAAT;IAA0EL,CAAC,CAACwK,SAAF,GAAYlK,CAAZ;;IAAc,IAAG;MAAC,MAAMP,CAAC,GAAC,EAAR;MAAA,MAAWE,CAAC,GAAC,CAACH,CAAC,CAACmO,IAAF,CAAO,CAAP,IAAU,CAAX,EAAanO,CAAC,CAACmO,IAAF,CAAO,CAAP,IAAU,CAAvB,CAAb;MAAA,MAAuC/N,CAAC,GAAC,CAACD,CAAC,CAAC,CAAD,CAAD,GAAKF,CAAN,EAAQE,CAAC,CAAC,CAAD,CAAT,CAAzC;MAAA,MAAuDI,CAAC,GAACP,CAAC,CAACwQ,KAAF,CAAQ,CAAC,CAAD,EAAG,CAAH,CAAR,EAAcpQ,CAAd,CAAzD;MAAA,MAA0E;QAACsC,CAAC,EAAChC,CAAH;QAAKgB,CAAC,EAACd;MAAP,IAAU,KAAK8M,QAAL,CAAc,IAAIxL,CAAJ,CAAM;QAACQ,CAAC,EAACnC,CAAC,CAAC,CAAD,CAAJ;QAAQmB,CAAC,EAACnB,CAAC,CAAC,CAAD,CAAX;QAAeoM,gBAAgB,EAAC3M,CAAC,CAAC2M;MAAlC,CAAN,CAAd,EAAyE5M,CAAzE,CAApF;;MAAgKQ,CAAC,CAAC,CAAD,CAAD,GAAKG,CAAL,EAAOH,CAAC,CAAC,CAAD,CAAD,GAAKK,CAAZ,EAAcV,CAAC,CAACgS,QAAF,CAAW3R,CAAX,EAAaA,CAAb,CAAd;MAA8B,MAAMO,CAAC,GAACgE,CAAC,CAAC3E,CAAD,EAAGI,CAAH,EAAKH,CAAL,CAAT;MAAA,MAAiBY,CAAC,GAACqQ,IAAI,CAAC8E,KAAL,CAAW5V,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAC,CAAC,CAAD,CAAjB,EAAqBI,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAC,CAAC,CAAD,CAA3B,IAAgCF,CAAnD;MAAqD,CAACmW,MAAM,CAACC,QAAP,CAAgBrV,CAAhB,CAAD,IAAqBqQ,IAAI,CAACiF,GAAL,CAAStV,CAAT,IAAY,CAAjC,IAAoCR,CAAC,CAAC6N,QAAF,GAAW,CAAX,EAAa7N,CAAC,CAACsL,cAAF,GAAiB,IAAI5J,CAAJ,CAAM;QAACQ,CAAC,EAAC,CAAH;QAAKhB,CAAC,EAAC,CAAP;QAASiL,gBAAgB,EAAC5M;MAA1B,CAAN,CAAlE,KAAwGS,CAAC,CAACgL,KAAF,IAASxK,CAAT,EAAWR,CAAC,CAACgL,KAAF,GAAQnL,CAAC,CAAC,kDAAD,CAAT,GAA8DG,CAAC,CAAC6N,QAAF,GAAW,CAAzE,GAA2E7N,CAAC,CAAC6N,QAAF,IAAY+H,MAAM,CAACC,QAAP,CAAgBvV,CAAhB,IAAmBA,CAAnB,GAAqB,CAA/N;IAAkO,CAAzd,CAAyd,MAAK,CAAE;;IAAA,KAAK8L,IAAL,CAAU,aAAV,EAAyBoC,SAAzB,CAAmCxO,CAAnC,EAAqC,IAArC,GAA2C,KAAKoM,IAAL,CAAU,OAAV,EAAmBlC,SAAnB,GAA6BlK,CAAxE,EAA0E,KAAKoH,MAAL,CAAY2F,KAAZ,GAAkB,KAAKA,KAAjG,EAAuG,KAAK4H,yCAAL,EAAvG;;IAAwJ,KAAI,MAAMlV,CAAV,IAAe,KAAK4O,aAApB,EAAkC5O,CAAC,CAACsW,aAAF;;IAAkB,KAAKpN,SAAL,CAAe6D,YAAf,IAA8B,KAAK7D,SAAL,CAAeqM,KAAf,EAA9B,EAAqD,KAAKJ,oBAAL,EAArD;EAAiF;;AAAzulB,CAAhC;AAA2wlB3N,EAAE,CAACoC,IAAH,GAAQ,IAAR,EAAa9J,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,kBAAjC,EAAoD,KAAK,CAAzD,CAAd,EAA0E1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC4U,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBjP,EAAE,CAACgP,SAA5B,EAAsC,4BAAtC,EAAmE,KAAK,CAAxE,CAA3E,EAAsJ1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC4U,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBjP,EAAE,CAACgP,SAA5B,EAAsC,sBAAtC,EAA6D,KAAK,CAAlE,CAAvJ,EAA4N1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,sBAAjC,EAAwD,KAAK,CAA7D,CAA7N,EAA6R1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,aAAjC,EAA+C,KAAK,CAApD,CAA9R,EAAqV1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,mBAAjC,EAAqD,IAArD,CAAtV,EAAiZ1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,cAApB,EAAmC,KAAK,CAAxC,CAAlZ,EAA6b1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,OAAjC,EAAyC,KAAK,CAA9C,CAA9b,EAA+e1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,uBAApB,EAA4C,IAA5C,CAAhf,EAAkiB1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,cAApB,EAAmC,KAAK,CAAxC,CAAniB,EAA8kB1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,iBAAjC,EAAmD,IAAnD,CAA/kB,EAAwoB1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,gBAAjC,EAAkD,IAAlD,CAAzoB,EAAisB1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,mBAAjC,EAAqD,KAAK,CAA1D,CAAlsB,EAA+vB1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC4U,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBjP,EAAE,CAACgP,SAA5B,EAAsC,cAAtC,EAAqD,KAAK,CAA1D,CAAhwB,EAA6zB1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,kBAApB,EAAuC,KAAK,CAA5C,CAA9zB,EAA62B1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,WAAjC,EAA6C,KAAK,CAAlD,CAA92B,EAAm6B1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC4U,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBjP,EAAE,CAACgP,SAA5B,EAAsC,+BAAtC,EAAsE,KAAK,CAA3E,CAAp6B,EAAk/B1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,gBAAjC,EAAkD,KAAK,CAAvD,CAAn/B,EAA6iC1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,kBAApB,EAAuC,KAAK,CAA5C,CAA9iC,EAA6lC1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,0BAApB,EAA+C,IAA/C,CAA9lC,EAAmpC1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,YAApB,EAAiC,KAAK,CAAtC,CAAppC,EAA6rC1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,gCAAjC,EAAkE,IAAlE,CAA9rC,EAAswC1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,WAApB,EAAgC,IAAhC,CAAvwC,EAA6yC1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAACzD;AAAN,CAAD,CAAF,CAAD,EAAgBqB,EAAE,CAACgP,SAAnB,EAA6B,YAA7B,EAA0C,IAA1C,CAA9yC,EAA81C1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,IAAP;EAAY9M,IAAI,EAAC3H,CAAjB;EAAmB0U,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAA7B,CAAD,CAAF,CAAD,EAAyDnP,EAAE,CAACgP,SAA5D,EAAsE,QAAtE,EAA+E,IAA/E,CAA/1C,EAAo7C1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAACnG;AAAN,CAAD,CAAF,CAAD,EAAe+D,EAAE,CAACgP,SAAlB,EAA4B,aAA5B,EAA0C,IAA1C,CAAr7C,EAAq+C1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,IAAP;EAAY9M,IAAI,EAAC5H,CAAjB;EAAmB2U,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAA7B,CAAD,CAAF,CAAD,EAAyDnP,EAAE,CAACgP,SAA5D,EAAsE,QAAtE,EAA+E,IAA/E,CAAt+C,EAA2jD1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,QAApB,EAA6B,KAAK,CAAlC,CAA5jD,EAAimD1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAAC5E;AAAN,CAAD,CAAF,CAAD,EAAewC,EAAE,CAACgP,SAAlB,EAA4B,kBAA5B,EAA+C,KAAK,CAApD,CAAlmD,EAAypD1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,cAAjC,EAAgD,KAAK,CAArD,CAA1pD,EAAktD1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,KAApB,EAA0B,KAAK,CAA/B,CAAntD,EAAqvD1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC;IAACvM,GAAG,EAAC,CAAL;IAAOC,KAAK,EAAC,CAAb;IAAeC,MAAM,EAAC,CAAtB;IAAwBC,IAAI,EAAC;EAA7B,CAAP;EAAuCsM,IAAI,EAAC9W,CAAC,KAAG;IAACqK,GAAG,EAAC,CAAL;IAAOC,KAAK,EAAC,CAAb;IAAeC,MAAM,EAAC,CAAtB;IAAwBC,IAAI,EAAC,CAA7B;IAA+B,GAAGxK;EAAlC,CAAH;AAA7C,CAAD,CAAF,CAAD,EAA6F0H,EAAE,CAACgP,SAAhG,EAA0G,SAA1G,EAAoH,IAApH,CAAtvD,EAAg3D1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,aAApB,EAAkC,KAAK,CAAvC,CAAj3D,EAA25D1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC,CAAX;EAAaI,SAAS,EAAC,CAAC,UAAD;AAAvB,CAAD,CAAF,CAAD,EAA2CnP,EAAE,CAACgP,SAA9C,EAAwD,YAAxD,EAAqE,IAArE,CAA55D,EAAu+D1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,CAAP;EAAS9M,IAAI,EAACuM,MAAd;EAAqBQ,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAA/B,CAAD,CAAF,CAAD,EAA2DnP,EAAE,CAACgP,SAA9D,EAAwE,UAAxE,EAAmF,IAAnF,CAAx+D,EAAikE1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,CAAP;EAAS9M,IAAI,EAACuM,MAAd;EAAqBQ,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAA/B,CAAD,CAAF,CAAD,EAA2DnP,EAAE,CAACgP,SAA9D,EAAwE,OAAxE,EAAgF,IAAhF,CAAlkE,EAAwpE1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC4U,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyBjP,EAAE,CAACgP,SAA5B,EAAsC,wBAAtC,EAA+D,KAAK,CAApE,CAAzpE,EAAguE1W,CAAC,CAAC,CAAC+B,CAAC,EAAF,CAAD,EAAO2F,EAAE,CAACgP,SAAV,EAAoB,YAApB,EAAiC,IAAjC,CAAjuE,EAAwwE1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAAC1E,CAAN;EAAQqR,QAAQ,EAAC,CAAC;AAAlB,CAAD,CAAF,CAAD,EAA2B/O,EAAE,CAACgP,SAA9B,EAAwC,UAAxC,EAAmD,KAAK,CAAxD,CAAzwE,EAAo0E1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,MAAjC,EAAwC,KAAK,CAA7C,CAAr0E,EAAq3E1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC0U,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB/O,EAAE,CAACgP,SAAvB,EAAiC,UAAjC,EAA4C,IAA5C,CAAt3E,EAAw6E1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,IAAP;EAAY9M,IAAI,EAAC5J,CAAjB;EAAmB2W,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAA7B,CAAD,CAAF,CAAD,EAAyDnP,EAAE,CAACgP,SAA5D,EAAsE,WAAtE,EAAkF,IAAlF,CAAz6E,EAAigF1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC6U,KAAK,EAAC,CAAC,CAAR;EAAUC,SAAS,EAAC,CAAC,UAAD,EAAY,OAAZ;AAApB,CAAD,CAAF,CAAD,EAAgDnP,EAAE,CAACgP,SAAnD,EAA6D,MAA7D,EAAoE,IAApE,CAAlgF,EAA4kF1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAACiN;AAAN,CAAD,CAAF,CAAD,EAAqBrP,EAAE,CAACgP,SAAxB,EAAkC,YAAlC,EAA+C,IAA/C,CAA7kF,EAAkoF1W,CAAC,CAAC,CAAC+B,CAAC,CAAC;EAAC+H,IAAI,EAAC1D;AAAN,CAAD,CAAF,CAAD,EAAgBsB,EAAE,CAACgP,SAAnB,EAA6B,IAA7B,EAAkC,KAAK,CAAvC,CAAnoF,EAA6qFhP,EAAE,GAAC1H,CAAC,CAAC,CAACiC,CAAC,CAAC,oBAAD,CAAF,CAAD,EAA2ByF,EAA3B,CAAjrF;AAAgtF,MAAMsP,EAAE,GAACtP,EAAT;;AAAY,SAASqJ,EAAT,CAAY/Q,CAAZ,EAAc;EAAC,MAAMC,CAAC,GAACD,CAAC,CAACiX,WAAF,EAAR;EAAwB,OAAOhX,CAAC,GAAE,GAAED,CAAC,CAAC2Q,KAAF,EAASuG,GAAT,IAAclX,CAAC,CAACmX,WAAF,EAAeD,GAA7B,IAAkC,SAAU,IAAGjX,CAAE,EAArD,GAAwD,YAAWD,CAAC,CAACkX,GAAI,EAAjF;AAAmF;;AAAA,SAAShH,EAAT,CAAYlQ,CAAZ,EAAcE,CAAd,EAAgBC,CAAhB,EAAkBC,CAAlB,EAAoBC,CAApB,EAAsB;EAAC,OAAOC,CAAC,IAAE;IAAC,IAAGA,CAAC,YAAYL,CAAhB,EAAkB;MAAC,IAAGK,CAAC,CAACqQ,KAAF,KAAU3Q,CAAb,EAAeK,CAAC,KAAhB,KAAyB;QAAC,MAAMJ,CAAC,GAACD,CAAC,CAAC8O,aAAF,CAAgB+C,IAAhB,CAAsB7R,CAAC,IAAEA,CAAC,CAAC2Q,KAAF,KAAUrQ,CAAC,CAACqQ,KAArC,CAAR;QAAqD1Q,CAAC,IAAEG,CAAC,GAAGH,CAAH,CAAJ;MAAU;MAAAE,CAAC,CAAC4Q,EAAE,CAACzQ,CAAD,CAAH,CAAD;IAAS,CAArH,MAAyH;MAAC,MAAML,CAAC,GAACD,CAAC,CAAC8O,aAAF,CAAgB+C,IAAhB,CAAsB7R,CAAC,IAAEA,CAAC,CAAC2Q,KAAF,KAAUrQ,CAAnC,CAAR;MAA+CL,CAAC,IAAEC,CAAC,CAACD,CAAD,CAAJ;IAAQ;EAAC,CAA7L;AAA8L;;AAAA,SAASgQ,EAAT,CAAYjQ,CAAZ,EAAcC,CAAd,EAAgB;EAAC,IAAGD,CAAH,EAAK,IAAGQ,CAAC,CAACR,CAAD,CAAJ;IAAQ,KAAI,MAAME,CAAV,IAAeF,CAAf,EAAiB,IAAGQ,CAAC,CAACN,CAAD,CAAJ,EAAQ,KAAI,MAAMF,CAAV,IAAeE,CAAf,EAAiBD,CAAC,CAACD,CAAD,CAAD,CAAzB,KAAmCC,CAAC,CAACC,CAAD,CAAD;EAA5D,OAAsED,CAAC,CAACD,CAAD,CAAD;AAAK;;AAAA,SAAOgX,EAAE,IAAII,OAAb"},"metadata":{},"sourceType":"module"}