{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isNumericField as e, getFieldDefaultValue as i, normalizeFieldName as t } from \"./fieldUtils.js\";\n\nfunction s(e) {\n  return \"date\" === e.type || \"esriFieldTypeDate\" === e.type;\n}\n\nfunction l(e) {\n  return \"oid\" === e.type || \"esriFieldTypeOID\" === e.type;\n}\n\nfunction d(e) {\n  return \"global-id\" === e.type || \"esriFieldTypeGlobalID\" === e.type;\n}\n\nclass r {\n  constructor(i = []) {\n    if (this.fields = [], this._fieldsMap = new Map(), this._normalizedFieldsMap = new Map(), this._dateFieldsSet = new Set(), this._numericFieldsSet = new Set(), this.dateFields = [], this.numericFields = [], this._requiredFields = null, !i) return;\n    this.fields = i;\n    const t = [];\n\n    for (const r of i) {\n      const i = r && r.name;\n\n      if (i) {\n        const u = n(i),\n              h = a(i);\n        this._fieldsMap.set(i, r), this._fieldsMap.set(u, r), this._normalizedFieldsMap.set(h, r), t.push(u), s(r) ? (this.dateFields.push(r), this._dateFieldsSet.add(r)) : e(r) && (this._numericFieldsSet.add(r), this.numericFields.push(r)), l(r) || d(r) || (r.editable = null == r.editable || !!r.editable, r.nullable = null == r.nullable || !!r.nullable);\n      }\n    }\n\n    t.sort(), this.uid = t.join(\",\");\n  }\n\n  destroy() {\n    this._fieldsMap.clear();\n  }\n\n  get requiredFields() {\n    if (!this._requiredFields) {\n      this._requiredFields = [];\n\n      for (const e of this.fields) l(e) || d(e) || e.nullable || void 0 !== i(e) || this._requiredFields.push(e);\n    }\n\n    return this._requiredFields;\n  }\n\n  has(e) {\n    return null != this.get(e);\n  }\n\n  get(e) {\n    if (!e) return;\n\n    let i = this._fieldsMap.get(e);\n\n    return i || (i = this._fieldsMap.get(n(e)) ?? this._normalizedFieldsMap.get(a(e)), i && this._fieldsMap.set(e, i), i);\n  }\n\n  isDateField(e) {\n    return this._dateFieldsSet.has(this.get(e));\n  }\n\n  isNumericField(e) {\n    return this._numericFieldsSet.has(this.get(e));\n  }\n\n  normalizeFieldName(e) {\n    const i = this.get(e);\n    if (i) return i.name ?? void 0;\n  }\n\n}\n\nfunction n(e) {\n  return e.trim().toLowerCase();\n}\n\nfunction a(e) {\n  return t(e).toLowerCase();\n}\n\nexport { r as default };","map":{"version":3,"names":["isNumericField","e","getFieldDefaultValue","i","normalizeFieldName","t","s","type","l","d","r","constructor","fields","_fieldsMap","Map","_normalizedFieldsMap","_dateFieldsSet","Set","_numericFieldsSet","dateFields","numericFields","_requiredFields","name","u","n","h","a","set","push","add","editable","nullable","sort","uid","join","destroy","clear","requiredFields","has","get","isDateField","trim","toLowerCase","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/FieldsIndex.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNumericField as e,getFieldDefaultValue as i,normalizeFieldName as t}from\"./fieldUtils.js\";function s(e){return\"date\"===e.type||\"esriFieldTypeDate\"===e.type}function l(e){return\"oid\"===e.type||\"esriFieldTypeOID\"===e.type}function d(e){return\"global-id\"===e.type||\"esriFieldTypeGlobalID\"===e.type}class r{constructor(i=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!i)return;this.fields=i;const t=[];for(const r of i){const i=r&&r.name;if(i){const u=n(i),h=a(i);this._fieldsMap.set(i,r),this._fieldsMap.set(u,r),this._normalizedFieldsMap.set(h,r),t.push(u),s(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):e(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),l(r)||d(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}t.sort(),this.uid=t.join(\",\")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)l(e)||d(e)||e.nullable||void 0!==i(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){if(!e)return;let i=this._fieldsMap.get(e);return i||(i=this._fieldsMap.get(n(e))??this._normalizedFieldsMap.get(a(e)),i&&this._fieldsMap.set(e,i),i)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const i=this.get(e);if(i)return i.name??void 0}}function n(e){return e.trim().toLowerCase()}function a(e){return t(e).toLowerCase()}export{r as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}