{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isNone as n, isSome as o } from \"../../../../../core/maybe.js\";\nimport { isAborted as t, throwIfAborted as e } from \"../../../../../core/promiseUtils.js\";\nimport { c as i } from \"../../../../../chunks/vec3f64.js\";\nimport { empty as r, expandWithVec3 as s, center as c, diameter as u } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { LodComponentData as a } from \"./LodComponentData.js\";\n\nclass h {\n  constructor(n, o) {\n    this.minScreenSpaceRadius = n, this.components = o;\n  }\n\n  static async create(n, o, i) {\n    const r = await Promise.allSettled(o.components.map(o => n.schedule(() => new a(n, o), i))),\n          s = r.map(n => \"fulfilled\" === n.status ? n.value : null).filter(n => n);\n\n    if (t(i) || s.length !== r.length) {\n      s.forEach(n => n.destroy()), e(i);\n\n      for (const n of r) if (\"rejected\" === n.status) throw n.reason;\n    }\n\n    return new h(o.minScreenSpaceRadius, s);\n  }\n\n  destroy() {\n    this.components.forEach(n => n.destroy());\n  }\n\n  intersect(n, o, t, e, i, r, s) {\n    this.components.forEach(c => c.intersect(n, o, t, e, i, r, this.boundingSphere, s));\n  }\n\n  get boundingBox() {\n    if (n(this._boundingBox)) {\n      const n = r();\n      this.components.forEach(t => {\n        o(t.boundingInfo) && (s(n, t.boundingInfo.bbMin), s(n, t.boundingInfo.bbMax));\n      }), this._boundingBox = n;\n    }\n\n    return this._boundingBox;\n  }\n\n  get boundingSphere() {\n    if (n(this._boundingSphere)) {\n      const n = this.boundingBox,\n            o = i();\n      c(n, o), this._boundingSphere = {\n        center: o,\n        radius: .5 * u(n)\n      };\n    }\n\n    return this._boundingSphere;\n  }\n\n  get triangleCount() {\n    return this.components.reduce((n, o) => n + o.triangleCount, 0);\n  }\n\n}\n\nexport { h as LodLevel };","map":{"version":3,"names":["isNone","n","isSome","o","isAborted","t","throwIfAborted","e","c","i","empty","r","expandWithVec3","s","center","diameter","u","LodComponentData","a","h","constructor","minScreenSpaceRadius","components","create","Promise","allSettled","map","schedule","status","value","filter","length","forEach","destroy","reason","intersect","boundingSphere","boundingBox","_boundingBox","boundingInfo","bbMin","bbMax","_boundingSphere","radius","triangleCount","reduce","LodLevel"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as n,isSome as o}from\"../../../../../core/maybe.js\";import{isAborted as t,throwIfAborted as e}from\"../../../../../core/promiseUtils.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{empty as r,expandWithVec3 as s,center as c,diameter as u}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as a}from\"./LodComponentData.js\";class h{constructor(n,o){this.minScreenSpaceRadius=n,this.components=o}static async create(n,o,i){const r=await Promise.allSettled(o.components.map((o=>n.schedule((()=>new a(n,o)),i)))),s=r.map((n=>\"fulfilled\"===n.status?n.value:null)).filter((n=>n));if(t(i)||s.length!==r.length){s.forEach((n=>n.destroy())),e(i);for(const n of r)if(\"rejected\"===n.status)throw n.reason}return new h(o.minScreenSpaceRadius,s)}destroy(){this.components.forEach((n=>n.destroy()))}intersect(n,o,t,e,i,r,s){this.components.forEach((c=>c.intersect(n,o,t,e,i,r,this.boundingSphere,s)))}get boundingBox(){if(n(this._boundingBox)){const n=r();this.components.forEach((t=>{o(t.boundingInfo)&&(s(n,t.boundingInfo.bbMin),s(n,t.boundingInfo.bbMax))})),this._boundingBox=n}return this._boundingBox}get boundingSphere(){if(n(this._boundingSphere)){const n=this.boundingBox,o=i();c(n,o),this._boundingSphere={center:o,radius:.5*u(n)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((n,o)=>n+o.triangleCount),0)}}export{h as LodLevel};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}