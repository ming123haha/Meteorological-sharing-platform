{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport l from \"../../../../layers/support/TileInfo.js\";\nconst e = 1e-6;\n\nfunction n(l, n) {\n  if (l === n) return !0;\n  if (null == l && null != n) return !1;\n  if (null != l && null == n) return !1;\n  if (null == l || null == n) return !1;\n  if (!l.spatialReference.equals(n.spatialReference) || l.dpi !== n.dpi) return !1;\n  const s = l.origin,\n        r = n.origin;\n  if (Math.abs(s.x - r.x) >= e || Math.abs(s.y - r.y) >= e) return !1;\n  let o, t;\n  l.lods[0].scale > n.lods[0].scale ? (o = l, t = n) : (t = l, o = n);\n\n  for (let i = o.lods[0].scale; i >= t.lods[t.lods.length - 1].scale - e; i /= 2) if (Math.abs(i - t.lods[0].scale) < e) return !0;\n\n  return !1;\n}\n\nfunction s(e, n) {\n  if (e === n) return e;\n  if (null == e && null != n) return n;\n  if (null != e && null == n) return e;\n  if (null == e || null == n) return null;\n  const s = e.size[0],\n        r = e.format,\n        o = e.dpi,\n        t = {\n    x: e.origin.x,\n    y: e.origin.y\n  },\n        i = e.spatialReference.toJSON(),\n        u = e.lods[0].scale > n.lods[0].scale ? e.lods[0] : n.lods[0],\n        a = e.lods[e.lods.length - 1].scale <= n.lods[n.lods.length - 1].scale ? e.lods[e.lods.length - 1] : n.lods[n.lods.length - 1],\n        f = u.scale,\n        d = u.resolution,\n        c = a.scale,\n        p = [];\n  let g = f,\n      h = d,\n      x = 0;\n\n  for (; g > c;) p.push({\n    level: x,\n    resolution: h,\n    scale: g\n  }), x++, g /= 2, h /= 2;\n\n  return new l({\n    size: [s, s],\n    dpi: o,\n    format: r || \"pbf\",\n    origin: t,\n    lods: p,\n    spatialReference: i\n  });\n}\n\nexport { n as areSchemasOverlapping, s as unionTileInfos };","map":{"version":3,"names":["l","e","n","spatialReference","equals","dpi","s","origin","r","Math","abs","x","y","o","t","lods","scale","i","length","size","format","toJSON","u","a","f","d","resolution","c","p","g","h","push","level","areSchemasOverlapping","unionTileInfos"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/tileInfoUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport l from\"../../../../layers/support/TileInfo.js\";const e=1e-6;function n(l,n){if(l===n)return!0;if(null==l&&null!=n)return!1;if(null!=l&&null==n)return!1;if(null==l||null==n)return!1;if(!l.spatialReference.equals(n.spatialReference)||l.dpi!==n.dpi)return!1;const s=l.origin,r=n.origin;if(Math.abs(s.x-r.x)>=e||Math.abs(s.y-r.y)>=e)return!1;let o,t;l.lods[0].scale>n.lods[0].scale?(o=l,t=n):(t=l,o=n);for(let i=o.lods[0].scale;i>=t.lods[t.lods.length-1].scale-e;i/=2)if(Math.abs(i-t.lods[0].scale)<e)return!0;return!1}function s(e,n){if(e===n)return e;if(null==e&&null!=n)return n;if(null!=e&&null==n)return e;if(null==e||null==n)return null;const s=e.size[0],r=e.format,o=e.dpi,t={x:e.origin.x,y:e.origin.y},i=e.spatialReference.toJSON(),u=e.lods[0].scale>n.lods[0].scale?e.lods[0]:n.lods[0],a=e.lods[e.lods.length-1].scale<=n.lods[n.lods.length-1].scale?e.lods[e.lods.length-1]:n.lods[n.lods.length-1],f=u.scale,d=u.resolution,c=a.scale,p=[];let g=f,h=d,x=0;for(;g>c;)p.push({level:x,resolution:h,scale:g}),x++,g/=2,h/=2;return new l({size:[s,s],dpi:o,format:r||\"pbf\",origin:t,lods:p,spatialReference:i})}export{n as areSchemasOverlapping,s as unionTileInfos};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}