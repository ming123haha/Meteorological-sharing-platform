{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../config.js\";\nimport \"../geometry.js\";\nimport r from \"../Graphic.js\";\nimport o from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/PieChartRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport \"../renderers/SimpleRenderer.js\";\nimport \"../renderers/UniqueValueRenderer.js\";\nimport { read as i } from \"../renderers/support/jsonUtils.js\";\nimport s from \"../core/Collection.js\";\nimport n from \"../core/Error.js\";\nimport { HandleOwnerMixin as a } from \"../core/HandleOwner.js\";\nimport l from \"../core/Logger.js\";\nimport { isSome as p, isNone as u, unwrap as m, unwrapOrValue as c } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as y } from \"../core/MultiOriginJSONSupport.js\";\nimport { setDeepValue as f } from \"../core/object.js\";\nimport { isAbortError as d } from \"../core/promiseUtils.js\";\nimport { on as h } from \"../core/reactiveUtils.js\";\nimport { convertUnit as w } from \"../core/unitUtils.js\";\nimport { urlToObject as S } from \"../core/urlUtils.js\";\nimport { property as g } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { reader as b } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as v } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as B } from \"../core/accessorSupport/decorators/writer.js\";\nimport { updateOrigins as P } from \"../core/accessorSupport/originUtils.js\";\nimport j from \"../geometry/Extent.js\";\nimport { initializeProjection as I, project as N } from \"../geometry/projection.js\";\nimport { WGS84 as _ } from \"../geometry/support/spatialReferenceUtils.js\";\nimport R from \"./Layer.js\";\nimport { BlendLayer as D } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as L } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as C } from \"./mixins/PortalLayer.js\";\nimport { ScaleRangeLayer as O } from \"./mixins/ScaleRangeLayer.js\";\nimport { sanitizeUrl as F } from \"./support/arcgisLayerUrl.js\";\nimport T from \"./support/RouteSymbols.js\";\nimport x from \"../portal/Portal.js\";\nimport k from \"../portal/PortalItem.js\";\nimport { TypeKeyword as A } from \"../portal/support/portalItemUtils.js\";\nimport { fetchServiceDescription as J } from \"../rest/networkService.js\";\nimport { solve as G } from \"../rest/route.js\";\nimport U from \"../rest/support/DirectionLine.js\";\nimport M from \"../rest/support/DirectionPoint.js\";\nimport { directionsTimeUnitJsonMap as q, directionsLengthUnitJsonMap as E } from \"../rest/support/networkEnums.js\";\nimport W from \"../rest/support/PointBarrier.js\";\nimport V from \"../rest/support/PolygonBarrier.js\";\nimport H from \"../rest/support/PolylineBarrier.js\";\nimport z from \"../rest/support/RouteInfo.js\";\nimport K from \"../rest/support/RouteParameters.js\";\nimport Q from \"../rest/support/RouteSettings.js\";\nimport Y from \"../rest/support/Stop.js\";\nimport Z from \"../geometry/SpatialReference.js\";\nimport $ from \"../geometry/Multipoint.js\";\n\nfunction X(e) {\n  return e.length ? e : null;\n}\n\nfunction ee(e) {\n  const {\n    defaultTravelMode: t,\n    supportedTravelModes: r\n  } = e;\n  return r?.find(({\n    id: e\n  }) => e === t);\n}\n\nfunction te(e) {\n  switch (e) {\n    case \"esriGeometryPoint\":\n      return {\n        type: \"esriSMS\",\n        style: \"esriSMSCircle\",\n        size: 12,\n        color: [0, 0, 0, 0],\n        outline: te(\"esriGeometryPolyline\")\n      };\n\n    case \"esriGeometryPolyline\":\n      return {\n        type: \"esriSLS\",\n        style: \"esriSLSSolid\",\n        width: 1,\n        color: [0, 0, 0, 0]\n      };\n\n    case \"esriGeometryPolygon\":\n      return {\n        type: \"esriSFS\",\n        style: \"esriSFSNull\",\n        outline: te(\"esriGeometryPolyline\")\n      };\n  }\n}\n\nfunction re(e) {\n  return \"layers\" in e;\n}\n\nfunction oe(e) {\n  return \"esri.rest.support.FeatureSet\" === e.declaredClass;\n}\n\nfunction ie(e) {\n  return \"esri.rest.support.NetworkFeatureSet\" === e.declaredClass;\n}\n\nfunction se(e, t, r) {\n  const o = t.networkDataset?.networkAttributes,\n        i = o?.filter(e => \"cost\" === e.usageType) ?? [],\n        s = ee(t),\n        a = r.travelMode ?? s;\n  if (u(a)) return void we.warn(\"route-layer:missing-travel-mode\", \"The routing service must have a default travel mode or one must be specified in the route parameter.\");\n  const {\n    timeAttributeName: l,\n    distanceAttributeName: c\n  } = a,\n        y = i.find(e => e.name === l),\n        f = i.find(e => e.name === c),\n        d = m(r.travelMode)?.impedanceAttributeName ?? m(r.impedanceAttribute) ?? t.impedance,\n        h = q.fromJSON(y?.units),\n        w = E.fromJSON(f?.units);\n  if (!h || !w) throw new n(\"routelayer:unknown-impedance-units\", \"the units of either the distance or time impedance are unknown\");\n\n  const S = r.directionsLanguage ?? t.directionsLanguage,\n        g = m(r.accumulateAttributes) ?? t.accumulateAttributeNames ?? [],\n        b = new Set(i.filter(({\n    name: e\n  }) => e === l || e === c || e === d || null != e && g.includes(e)).map(({\n    name: e\n  }) => e)),\n        v = e => {\n    for (const t in e) b.has(t) || delete e[t];\n  };\n\n  for (const n of e.pointBarriers) p(n.costs) && (n.addedCost = n.costs[d] ?? 0, v(n.costs));\n\n  for (const n of e.polygonBarriers) p(n.costs) && (n.scaleFactor = n.costs[d] ?? 1, v(n.costs));\n\n  for (const n of e.polylineBarriers) p(n.costs) && (n.scaleFactor = n.costs[d] ?? 1, v(n.costs));\n\n  const {\n    routeInfo: B\n  } = e,\n        {\n    findBestSequence: P,\n    preserveFirstStop: j,\n    preserveLastStop: I,\n    startTimeIsUTC: N,\n    timeWindowsAreUTC: _\n  } = r;\n  B.analysisSettings = new Q({\n    accumulateAttributes: g,\n    directionsLanguage: S,\n    findBestSequence: P,\n    preserveFirstStop: j,\n    preserveLastStop: I,\n    startTimeIsUTC: N,\n    timeWindowsAreUTC: _,\n    travelMode: a\n  }), B.totalDuration = ae(B.totalCosts[l] ?? 0, h), B.totalDistance = le(B.totalCosts[c] ?? 0, w), B.totalLateDuration = ae(B.totalViolations[l] ?? 0, h), B.totalWaitDuration = ae(B.totalWait[l] ?? 0, h), p(B.totalCosts) && v(B.totalCosts), p(B.totalViolations) && v(B.totalViolations), p(B.totalWait) && v(B.totalWait);\n\n  for (const n of e.stops) p(n.serviceCosts) && (n.serviceDuration = ae(n.serviceCosts[l] ?? 0, h), n.serviceDistance = le(n.serviceCosts[c] ?? 0, w), v(n.serviceCosts)), p(n.cumulativeCosts) && (n.cumulativeDuration = ae(n.cumulativeCosts[l] ?? 0, h), n.cumulativeDistance = le(n.cumulativeCosts[c] ?? 0, w), v(n.cumulativeCosts)), p(n.violations) && (n.lateDuration = ae(n.violations[l] ?? 0, h), v(n.violations)), p(n.wait) && (n.waitDuration = ae(n.wait[l] ?? 0, h), v(n.wait));\n}\n\nasync function ne(e) {\n  const t = Z.WGS84;\n  return await I(e.spatialReference, t), N(e, t);\n}\n\nfunction ae(e, t) {\n  switch (t) {\n    case \"seconds\":\n      return e / 60;\n\n    case \"hours\":\n      return 60 * e;\n\n    case \"days\":\n      return 60 * e * 24;\n\n    default:\n      return e;\n  }\n}\n\nfunction le(e, t) {\n  return \"decimal-degrees\" === t || \"points\" === t || \"unknown\" === t ? e : w(e, t, \"meters\");\n}\n\nfunction pe(e) {\n  const {\n    attributes: t,\n    geometry: r,\n    popupTemplate: o,\n    symbol: i\n  } = e.toGraphic().toJSON();\n  return {\n    attributes: t,\n    geometry: r,\n    popupInfo: o,\n    symbol: i\n  };\n}\n\nconst ue = s.ofType(U),\n      me = s.ofType(M),\n      ce = s.ofType(W),\n      ye = s.ofType(V),\n      fe = s.ofType(H),\n      de = s.ofType(Y),\n      he = \"esri.layers.RouteLayer\",\n      we = l.getLogger(he);\nlet Se = class extends D(O(L(C(y(a(R)))))) {\n  constructor(e) {\n    super(e), this._cachedServiceDescription = null, this._featureCollection = null, this._type = \"Feature Collection\", this.defaultSymbols = new T(), this.directionLines = null, this.directionPoints = null, this.featureCollectionType = \"route\", this.legendEnabled = !1, this.maxScale = 0, this.minScale = 0, this.pointBarriers = new ce(), this.polygonBarriers = new ye(), this.polylineBarriers = new fe(), this.routeInfo = null, this.spatialReference = Z.WGS84, this.stops = new de(), this.type = \"route\";\n\n    const t = () => {\n      this._setStopSymbol(this.stops);\n    };\n\n    this.addHandles(h(() => this.stops, \"change\", t, {\n      sync: !0,\n      onListenerAdd: t\n    }));\n  }\n\n  writeFeatureCollectionWebmap(e, t, r, o) {\n    const i = [this._writePolygonBarriers(), this._writePolylineBarriers(), this._writePointBarriers(), this._writeRouteInfo(), this._writeDirectionLines(), this._writeDirectionPoints(), this._writeStops()].filter(e => !!e),\n          s = i.map((e, t) => t),\n          n = \"web-map\" === o.origin ? \"featureCollection.layers\" : \"layers\";\n    f(n, i, t), t.opacity = this.opacity, t.visibility = this.visible, t.visibleLayers = s;\n  }\n\n  readDirectionLines(e, t) {\n    return this._getNetworkFeatures(t, \"DirectionLines\", e => U.fromGraphic(e));\n  }\n\n  readDirectionPoints(e, t) {\n    return this._getNetworkFeatures(t, \"DirectionPoints\", e => M.fromGraphic(e));\n  }\n\n  get fullExtent() {\n    const e = new j({\n      xmin: -180,\n      ymin: -90,\n      xmax: 180,\n      ymax: 90,\n      spatialReference: Z.WGS84\n    });\n    if (p(this.routeInfo) && p(this.routeInfo.geometry)) return this.routeInfo.geometry.extent ?? e;\n    if (u(this.stops)) return e;\n    const t = this.stops.filter(e => p(e.geometry));\n    if (t.length < 2) return e;\n    const {\n      spatialReference: r\n    } = t.getItemAt(0).geometry;\n    if (u(r)) return e;\n    const o = t.toArray().map(e => {\n      const t = e.geometry;\n      return [t.x, t.y];\n    });\n    return new $({\n      points: o,\n      spatialReference: r\n    }).extent;\n  }\n\n  readMaxScale(e, t) {\n    return (re(t) ? t.layers : t.featureCollection.layers).find(e => p(e.layerDefinition.maxScale))?.layerDefinition.maxScale ?? 0;\n  }\n\n  readMinScale(e, t) {\n    return (re(t) ? t.layers : t.featureCollection.layers).find(e => p(e.layerDefinition.minScale))?.layerDefinition.minScale ?? 0;\n  }\n\n  readPointBarriers(e, t) {\n    return this._getNetworkFeatures(t, \"Barriers\", e => W.fromGraphic(e));\n  }\n\n  readPolygonBarriers(e, t) {\n    return this._getNetworkFeatures(t, \"PolygonBarriers\", e => V.fromGraphic(e));\n  }\n\n  readPolylineBarriers(e, t) {\n    return this._getNetworkFeatures(t, \"PolylineBarriers\", e => H.fromGraphic(e));\n  }\n\n  readRouteInfo(e, t) {\n    const r = this._getNetworkFeatures(t, \"RouteInfo\", e => z.fromGraphic(e));\n\n    return r.length > 0 ? r.getItemAt(0) : null;\n  }\n\n  readSpatialReference(e, t) {\n    const r = re(t) ? t.layers : t.featureCollection.layers;\n    if (!r.length) return Z.WGS84;\n\n    const {\n      layerDefinition: o,\n      featureSet: i\n    } = r[0],\n          s = i.features[0],\n          n = m(s?.geometry)?.spatialReference ?? i.spatialReference ?? o.spatialReference ?? o.extent.spatialReference ?? _;\n\n    return Z.fromJSON(n);\n  }\n\n  readStops(e, t) {\n    return this._getNetworkFeatures(t, \"Stops\", e => Y.fromGraphic(e), e => this._setStopSymbol(e));\n  }\n\n  get title() {\n    return p(this.routeInfo) && p(this.routeInfo.name) ? this.routeInfo.name : \"Route\";\n  }\n\n  set title(e) {\n    this._overrideIfSome(\"title\", e);\n  }\n\n  get url() {\n    return t.routeServiceUrl;\n  }\n\n  set url(e) {\n    null != e ? this._set(\"url\", F(e, we)) : this._set(\"url\", t.routeServiceUrl);\n  }\n\n  load(e) {\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"Feature Collection\"]\n    }, e)), Promise.resolve(this);\n  }\n\n  removeAll() {\n    this.removeResult(), this.pointBarriers.removeAll(), this.polygonBarriers.removeAll(), this.polylineBarriers.removeAll(), this.stops.removeAll();\n  }\n\n  removeResult() {\n    p(this.directionLines) && (this.directionLines.removeAll(), this._set(\"directionLines\", null)), p(this.directionPoints) && (this.directionPoints.removeAll(), this._set(\"directionPoints\", null)), p(this.routeInfo) && this._set(\"routeInfo\", null);\n  }\n\n  async save() {\n    await this.load();\n    const {\n      fullExtent: e,\n      portalItem: t\n    } = this;\n    if (!t) throw new n(\"routelayer:portal-item-not-set\", \"save() requires to the layer to have a portal item\");\n    if (!t.id) throw new n(\"routelayer:portal-item-not-saved\", \"Please use saveAs() first to save the routelayer\");\n    if (\"Feature Collection\" !== t.type) throw new n(\"routelayer:portal-item-wrong-type\", 'Portal item needs to have type \"Feature Collection\"');\n    if (u(this.routeInfo)) throw new n(\"routelayer:route-unsolved\", \"save() requires a solved route\");\n    const {\n      portal: r\n    } = t;\n    await r._signIn(), r.user || (await t.reload());\n    const {\n      itemUrl: o,\n      itemControl: i\n    } = t;\n    if (\"admin\" !== i && \"update\" !== i) throw new n(\"routelayer:insufficient-permissions\", \"To save this layer, you need to be the owner or an administrator of your organization\");\n    const s = {\n      messages: [],\n      origin: \"portal-item\",\n      portal: r,\n      url: o && S(o),\n      writtenProperties: []\n    },\n          a = this.write(null, s);\n    return t.extent = await ne(e), t.title = this.title, await t.update({\n      data: a\n    }), t;\n  }\n\n  async saveAs(e, t = {}) {\n    if (await this.load(), u(this.routeInfo)) throw new n(\"routelayer:route-unsolved\", \"saveAs() requires a solved route\");\n    const r = k.from(e).clone();\n    r.extent ?? (r.extent = await ne(this.fullExtent)), r.id = null, r.portal ?? (r.portal = x.getDefault()), r.title ?? (r.title = this.title), r.type = \"Feature Collection\", r.typeKeywords = [\"Data\", \"Feature Collection\", A.MULTI_LAYER, \"Route Layer\"];\n    const {\n      portal: o\n    } = r,\n          i = {\n      messages: [],\n      origin: \"portal-item\",\n      portal: o,\n      url: null,\n      writtenProperties: []\n    };\n    await o._signIn();\n    const s = t?.folder,\n          a = this.write(null, i);\n    return await o.user.addItem({\n      item: r,\n      folder: s,\n      data: a\n    }), this.portalItem = r, P(i), i.portalItem = r, r;\n  }\n\n  async solve(e, t) {\n    const r = e?.stops ?? this.stops,\n          o = e?.pointBarriers ?? X(this.pointBarriers),\n          i = e?.polylineBarriers ?? X(this.polylineBarriers),\n          a = e?.polygonBarriers ?? X(this.polygonBarriers);\n    if (u(r)) throw new n(\"routelayer:undefined-stops\", \"the route layer must have stops defined in the route parameters.\");\n    if ((oe(r) || ie(r)) && r.features.length < 2 || s.isCollection(r) && r.length < 2) throw new n(\"routelayer:insufficent-stops\", \"the route layer must have two or more stops to solve a route.\");\n    if (s.isCollection(r)) for (const s of r) s.routeName = null;\n    const l = e?.apiKey,\n          m = this.url,\n          y = await this._getServiceDescription(m, l, t),\n          f = ee(y),\n          h = e?.travelMode ?? f,\n          w = c(e?.accumulateAttributes, []);\n    p(h) && (w.push(h.distanceAttributeName), h.timeAttributeName && w.push(h.timeAttributeName));\n    const S = {\n      startTime: new Date()\n    },\n          g = {\n      accumulateAttributes: w,\n      directionsOutputType: \"featuresets\",\n      ignoreInvalidLocations: !0,\n      pointBarriers: o,\n      polylineBarriers: i,\n      polygonBarriers: a,\n      preserveFirstStop: !0,\n      preserveLastStop: !0,\n      returnBarriers: !!o,\n      returnDirections: !0,\n      returnPolygonBarriers: !!a,\n      returnPolylineBarriers: !!i,\n      returnRoutes: !0,\n      returnStops: !0,\n      stops: r\n    },\n          b = e ? K.from(e) : new K();\n\n    for (const s in S) null == b[s] && (b[s] = S[s]);\n\n    let v;\n    b.set(g);\n\n    try {\n      v = await G(m, b, t);\n    } catch (P) {\n      throw d(P) ? P : new n(\"routelayer:failed-route-request\", \"the routing request failed\", {\n        error: P\n      });\n    }\n\n    const B = this._toRouteLayerSolution(v);\n\n    return this._isOverridden(\"title\") || (this.title = c(B.routeInfo.name, \"Route\")), se(B, y, b), B;\n  }\n\n  update(e) {\n    const {\n      stops: t,\n      directionLines: r,\n      directionPoints: o,\n      pointBarriers: i,\n      polylineBarriers: s,\n      polygonBarriers: n,\n      routeInfo: a\n    } = e;\n    this.set({\n      stops: t,\n      pointBarriers: i,\n      polylineBarriers: s,\n      polygonBarriers: n\n    }), this._set(\"directionLines\", r), this._set(\"directionPoints\", o), this._set(\"routeInfo\", a), p(a.geometry) && (this.spatialReference = a.geometry.spatialReference);\n  }\n\n  _getNetworkFeatures(e, t, n, a) {\n    const l = (re(e) ? e.layers : e.featureCollection.layers).find(e => e.layerDefinition.name === t);\n    if (u(l)) return new s();\n    const {\n      layerDefinition: m,\n      popupInfo: c,\n      featureSet: y\n    } = l,\n          f = m.drawingInfo.renderer,\n          {\n      features: d\n    } = y,\n          h = y.spatialReference ?? m.spatialReference ?? m.extent.spatialReference ?? _,\n          w = f && i(f),\n          S = Z.fromJSON(h),\n          g = d.map(e => {\n      const i = r.fromJSON(e);\n      p(i.geometry) && p(e.geometry) && u(e.geometry.spatialReference) && (i.geometry.spatialReference = S);\n      const s = n(i);\n      return s.symbol ?? (s.symbol = w?.getSymbol(i) ?? this._getNetworkSymbol(t)), s.popupTemplate ?? (s.popupTemplate = c && o.fromJSON(c)), s;\n    });\n    return a && g.some(e => !e.symbol) && a(g), new s(g);\n  }\n\n  _getNetworkSymbol(e) {\n    switch (e) {\n      case \"Barriers\":\n        return this.defaultSymbols.pointBarriers;\n\n      case \"DirectionPoints\":\n        return this.defaultSymbols.directionPoints;\n\n      case \"DirectionLines\":\n        return this.defaultSymbols.directionLines;\n\n      case \"PolylineBarriers\":\n        return this.defaultSymbols.polylineBarriers;\n\n      case \"PolygonBarriers\":\n        return this.defaultSymbols.polygonBarriers;\n\n      case \"RouteInfo\":\n        return this.defaultSymbols.routeInfo;\n\n      case \"Stops\":\n        return null;\n    }\n  }\n\n  async _getServiceDescription(e, t, r) {\n    if (p(this._cachedServiceDescription) && this._cachedServiceDescription.url === e) return this._cachedServiceDescription.serviceDescription;\n    const o = await J(e, t, r);\n    return this._cachedServiceDescription = {\n      serviceDescription: o,\n      url: e\n    }, o;\n  }\n\n  _setStopSymbol(e) {\n    if (!e || 0 === e.length) return;\n    if (u(this.defaultSymbols.stops)) return;\n    if (e.every(e => p(e.symbol))) return;\n    const {\n      first: t,\n      last: r,\n      middle: o,\n      unlocated: i,\n      waypoint: s,\n      break: n\n    } = this.defaultSymbols.stops;\n    if (u(this.routeInfo) || 1 === e.length) return void e.forEach((i, s) => {\n      switch (s) {\n        case 0:\n          i.symbol = t;\n          break;\n\n        case e.length - 1:\n          i.symbol = r;\n          break;\n\n        default:\n          i.symbol = o;\n      }\n    });\n    const a = e.map(e => e.sequence).filter(e => p(e)),\n          l = Math.min(...a),\n          m = Math.max(...a);\n\n    for (const p of e) p.sequence !== l ? p.sequence !== m ? \"ok\" === p.status || \"not-located-on-closest\" === p.status ? \"waypoint\" !== p.locationType ? \"break\" !== p.locationType ? p.symbol = o : p.symbol = n : p.symbol = s : p.symbol = i : p.symbol = r : p.symbol = t;\n  }\n\n  _toRouteLayerSolution(e) {\n    const t = e.routeResults[0].stops.map(e => Y.fromJSON(e.toJSON()));\n\n    this._setStopSymbol(t);\n\n    const r = new de(t),\n          o = new ye(e.polygonBarriers?.map(e => {\n      const t = V.fromJSON(e.toJSON());\n      return t.symbol = this.defaultSymbols.polygonBarriers, t;\n    })),\n          i = new fe(e.polylineBarriers?.map(e => {\n      const t = H.fromJSON(e.toJSON());\n      return t.symbol = this.defaultSymbols.polylineBarriers, t;\n    })),\n          s = new ce(e.pointBarriers?.map(e => {\n      const t = W.fromJSON(e.toJSON());\n      return t.symbol = this.defaultSymbols.pointBarriers, t;\n    })),\n          n = z.fromJSON(e.routeResults[0].route.toJSON());\n    n.symbol = this.defaultSymbols.routeInfo;\n    const a = new me(e.routeResults[0].directionPoints?.features.map(e => {\n      const t = M.fromJSON(e.toJSON());\n      return t.symbol = this.defaultSymbols.directionPoints, t;\n    }));\n    return {\n      directionLines: new ue(e.routeResults[0].directionLines?.features.map(e => {\n        const t = U.fromJSON(e.toJSON());\n        return t.symbol = this.defaultSymbols.directionLines, t;\n      })),\n      directionPoints: a,\n      pointBarriers: s,\n      polygonBarriers: o,\n      polylineBarriers: i,\n      routeInfo: n,\n      stops: r\n    };\n  }\n\n  _writeDirectionLines() {\n    return this._writeNetworkFeatures(this.directionLines, this.defaultSymbols.directionLines, \"esriGeometryPolyline\", U.fields, U.popupInfo, \"DirectionLines\", \"Direction Lines\");\n  }\n\n  _writeDirectionPoints() {\n    return this._writeNetworkFeatures(this.directionPoints, this.defaultSymbols.directionPoints, \"esriGeometryPoint\", M.fields, M.popupInfo, \"DirectionPoints\", \"Direction Points\");\n  }\n\n  _writeNetworkFeatures(e, t, r, o, i, s, n) {\n    if (u(e) || !e.length) return null;\n    const a = this.spatialReference.toJSON(),\n          {\n      fullExtent: l,\n      maxScale: m,\n      minScale: c\n    } = this;\n    return {\n      featureSet: {\n        features: e.toArray().map(e => pe(e)),\n        geometryType: r,\n        spatialReference: a\n      },\n      layerDefinition: {\n        capabilities: \"Query,Update,Editing\",\n        drawingInfo: {\n          renderer: {\n            type: \"simple\",\n            symbol: p(t) ? t.toJSON() : te(r)\n          }\n        },\n        extent: l.toJSON(),\n        fields: o,\n        geometryType: r,\n        hasM: !1,\n        hasZ: !1,\n        maxScale: m,\n        minScale: c,\n        name: s,\n        objectIdField: \"ObjectID\",\n        spatialReference: a,\n        title: n,\n        type: \"Feature Layer\",\n        typeIdField: \"\"\n      },\n      popupInfo: i\n    };\n  }\n\n  _writePointBarriers() {\n    return this._writeNetworkFeatures(this.pointBarriers, this.defaultSymbols.pointBarriers, \"esriGeometryPoint\", W.fields, W.popupInfo, \"Barriers\", \"Point Barriers\");\n  }\n\n  _writePolygonBarriers() {\n    return this._writeNetworkFeatures(this.polygonBarriers, this.defaultSymbols.polygonBarriers, \"esriGeometryPolygon\", V.fields, V.popupInfo, \"PolygonBarriers\", \"Polygon Barriers\");\n  }\n\n  _writePolylineBarriers() {\n    return this._writeNetworkFeatures(this.polylineBarriers, this.defaultSymbols.polylineBarriers, \"esriGeometryPolyline\", H.fields, H.popupInfo, \"PolylineBarriers\", \"Line Barriers\");\n  }\n\n  _writeRouteInfo() {\n    return this._writeNetworkFeatures(p(this.routeInfo) ? new s([this.routeInfo]) : null, this.defaultSymbols.routeInfo, \"esriGeometryPolyline\", z.fields, z.popupInfo, \"RouteInfo\", \"Route Details\");\n  }\n\n  _writeStops() {\n    const e = this._writeNetworkFeatures(this.stops, null, \"esriGeometryPoint\", Y.fields, Y.popupInfo, \"Stops\", \"Stops\");\n\n    if (u(e)) return null;\n    const {\n      stops: t\n    } = this.defaultSymbols,\n          r = p(t) && p(t.first) && t.first.toJSON(),\n          o = p(t) && p(t.middle) && t.middle.toJSON(),\n          i = p(t) && p(t.last) && t.last.toJSON();\n    return e.layerDefinition.drawingInfo.renderer = {\n      type: \"uniqueValue\",\n      field1: \"Sequence\",\n      defaultSymbol: o,\n      uniqueValueInfos: [{\n        value: \"1\",\n        symbol: r,\n        label: \"First Stop\"\n      }, {\n        value: `${this.stops.length}`,\n        symbol: i,\n        label: \"Last Stop\"\n      }]\n    }, e;\n  }\n\n};\ne([g({\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      \"portal-item\": {\n        write: {\n          allowNull: !0,\n          ignoreOrigin: !0\n        }\n      },\n      \"web-map\": {\n        write: {\n          overridePolicy() {\n            return {\n              allowNull: !0,\n              ignoreOrigin: null == this.portalItem\n            };\n          }\n\n        }\n      }\n    }\n  }\n})], Se.prototype, \"_featureCollection\", void 0), e([B([\"web-map\", \"portal-item\"], \"_featureCollection\")], Se.prototype, \"writeFeatureCollectionWebmap\", null), e([g({\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      \"web-map\": {\n        write: {\n          target: \"type\",\n\n          overridePolicy() {\n            return {\n              ignoreOrigin: null != this.portalItem\n            };\n          }\n\n        }\n      }\n    }\n  }\n})], Se.prototype, \"_type\", void 0), e([g({\n  nonNullable: !0,\n  type: T\n})], Se.prototype, \"defaultSymbols\", void 0), e([g({\n  readOnly: !0\n})], Se.prototype, \"directionLines\", void 0), e([b([\"web-map\", \"portal-item\"], \"directionLines\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readDirectionLines\", null), e([g({\n  readOnly: !0\n})], Se.prototype, \"directionPoints\", void 0), e([b([\"web-map\", \"portal-item\"], \"directionPoints\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readDirectionPoints\", null), e([g({\n  readOnly: !0,\n  json: {\n    read: !1,\n    origins: {\n      \"web-map\": {\n        write: {\n          ignoreOrigin: !0\n        }\n      }\n    }\n  }\n})], Se.prototype, \"featureCollectionType\", void 0), e([g({\n  readOnly: !0\n})], Se.prototype, \"fullExtent\", null), e([g({\n  json: {\n    origins: {\n      \"web-map\": {\n        name: \"featureCollection.showLegend\"\n      }\n    },\n    write: !0\n  }\n})], Se.prototype, \"legendEnabled\", void 0), e([g({\n  type: [\"show\", \"hide\"]\n})], Se.prototype, \"listMode\", void 0), e([g({\n  type: Number,\n  nonNullable: !0,\n  json: {\n    write: !1\n  }\n})], Se.prototype, \"maxScale\", void 0), e([b([\"web-map\", \"portal-item\"], \"maxScale\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readMaxScale\", null), e([g({\n  type: Number,\n  nonNullable: !0,\n  json: {\n    write: !1\n  }\n})], Se.prototype, \"minScale\", void 0), e([b([\"web-map\", \"portal-item\"], \"minScale\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readMinScale\", null), e([g({\n  type: [\"ArcGISFeatureLayer\"],\n  value: \"ArcGISFeatureLayer\"\n})], Se.prototype, \"operationalLayerType\", void 0), e([g({\n  nonNullable: !0,\n  type: s.ofType(W)\n})], Se.prototype, \"pointBarriers\", void 0), e([b([\"web-map\", \"portal-item\"], \"pointBarriers\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readPointBarriers\", null), e([g({\n  nonNullable: !0,\n  type: s.ofType(V)\n})], Se.prototype, \"polygonBarriers\", void 0), e([b([\"web-map\", \"portal-item\"], \"polygonBarriers\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readPolygonBarriers\", null), e([g({\n  nonNullable: !0,\n  type: s.ofType(H)\n})], Se.prototype, \"polylineBarriers\", void 0), e([b([\"web-map\", \"portal-item\"], \"polylineBarriers\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readPolylineBarriers\", null), e([g({\n  readOnly: !0\n})], Se.prototype, \"routeInfo\", void 0), e([b([\"web-map\", \"portal-item\"], \"routeInfo\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readRouteInfo\", null), e([g({\n  type: Z\n})], Se.prototype, \"spatialReference\", void 0), e([b([\"web-map\", \"portal-item\"], \"spatialReference\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readSpatialReference\", null), e([g({\n  nonNullable: !0,\n  type: s.ofType(Y)\n})], Se.prototype, \"stops\", void 0), e([b([\"web-map\", \"portal-item\"], \"stops\", [\"layers\", \"featureCollection.layers\"])], Se.prototype, \"readStops\", null), e([g()], Se.prototype, \"title\", null), e([g({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], Se.prototype, \"type\", void 0), e([g()], Se.prototype, \"url\", null), Se = e([v(he)], Se);\nconst ge = Se;\nexport { ge as default };","map":{"version":3,"names":["_","e","t","r","o","read","i","s","n","HandleOwnerMixin","a","l","isSome","p","isNone","u","unwrap","m","unwrapOrValue","c","MultiOriginJSONMixin","y","setDeepValue","f","isAbortError","d","on","h","convertUnit","w","urlToObject","S","property","g","reader","b","subclass","v","writer","B","updateOrigins","P","j","initializeProjection","I","project","N","WGS84","R","BlendLayer","D","OperationalLayer","L","PortalLayer","C","ScaleRangeLayer","O","sanitizeUrl","F","T","x","k","TypeKeyword","A","fetchServiceDescription","J","solve","G","U","M","directionsTimeUnitJsonMap","q","directionsLengthUnitJsonMap","E","W","V","H","z","K","Q","Y","Z","$","X","length","ee","defaultTravelMode","supportedTravelModes","find","id","te","type","style","size","color","outline","width","re","oe","declaredClass","ie","se","networkDataset","networkAttributes","filter","usageType","travelMode","we","warn","timeAttributeName","distanceAttributeName","name","impedanceAttributeName","impedanceAttribute","impedance","fromJSON","units","directionsLanguage","accumulateAttributes","accumulateAttributeNames","Set","includes","map","has","pointBarriers","costs","addedCost","polygonBarriers","scaleFactor","polylineBarriers","routeInfo","findBestSequence","preserveFirstStop","preserveLastStop","startTimeIsUTC","timeWindowsAreUTC","analysisSettings","totalDuration","ae","totalCosts","totalDistance","le","totalLateDuration","totalViolations","totalWaitDuration","totalWait","stops","serviceCosts","serviceDuration","serviceDistance","cumulativeCosts","cumulativeDuration","cumulativeDistance","violations","lateDuration","wait","waitDuration","ne","spatialReference","pe","attributes","geometry","popupTemplate","symbol","toGraphic","toJSON","popupInfo","ue","ofType","me","ce","ye","fe","de","he","getLogger","Se","constructor","_cachedServiceDescription","_featureCollection","_type","defaultSymbols","directionLines","directionPoints","featureCollectionType","legendEnabled","maxScale","minScale","_setStopSymbol","addHandles","sync","onListenerAdd","writeFeatureCollectionWebmap","_writePolygonBarriers","_writePolylineBarriers","_writePointBarriers","_writeRouteInfo","_writeDirectionLines","_writeDirectionPoints","_writeStops","origin","opacity","visibility","visible","visibleLayers","readDirectionLines","_getNetworkFeatures","fromGraphic","readDirectionPoints","fullExtent","xmin","ymin","xmax","ymax","extent","getItemAt","toArray","points","readMaxScale","layers","featureCollection","layerDefinition","readMinScale","readPointBarriers","readPolygonBarriers","readPolylineBarriers","readRouteInfo","readSpatialReference","featureSet","features","readStops","title","_overrideIfSome","url","routeServiceUrl","_set","load","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","removeAll","removeResult","save","portalItem","portal","_signIn","user","reload","itemUrl","itemControl","messages","writtenProperties","write","update","data","saveAs","from","clone","getDefault","typeKeywords","MULTI_LAYER","folder","addItem","item","isCollection","routeName","apiKey","_getServiceDescription","push","startTime","Date","directionsOutputType","ignoreInvalidLocations","returnBarriers","returnDirections","returnPolygonBarriers","returnPolylineBarriers","returnRoutes","returnStops","set","error","_toRouteLayerSolution","_isOverridden","drawingInfo","renderer","getSymbol","_getNetworkSymbol","some","serviceDescription","every","first","last","middle","unlocated","waypoint","break","forEach","sequence","Math","min","max","status","locationType","routeResults","route","_writeNetworkFeatures","fields","geometryType","capabilities","hasM","hasZ","objectIdField","typeIdField","field1","defaultSymbol","uniqueValueInfos","value","label","readOnly","json","origins","allowNull","ignoreOrigin","overridePolicy","prototype","target","nonNullable","Number","ge","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/RouteLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import\"../geometry.js\";import r from\"../Graphic.js\";import o from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import{read as i}from\"../renderers/support/jsonUtils.js\";import s from\"../core/Collection.js\";import n from\"../core/Error.js\";import{HandleOwnerMixin as a}from\"../core/HandleOwner.js\";import l from\"../core/Logger.js\";import{isSome as p,isNone as u,unwrap as m,unwrapOrValue as c}from\"../core/maybe.js\";import{MultiOriginJSONMixin as y}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as f}from\"../core/object.js\";import{isAbortError as d}from\"../core/promiseUtils.js\";import{on as h}from\"../core/reactiveUtils.js\";import{convertUnit as w}from\"../core/unitUtils.js\";import{urlToObject as S}from\"../core/urlUtils.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as b}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as v}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as B}from\"../core/accessorSupport/decorators/writer.js\";import{updateOrigins as P}from\"../core/accessorSupport/originUtils.js\";import j from\"../geometry/Extent.js\";import{initializeProjection as I,project as N}from\"../geometry/projection.js\";import{WGS84 as _}from\"../geometry/support/spatialReferenceUtils.js\";import R from\"./Layer.js\";import{BlendLayer as D}from\"./mixins/BlendLayer.js\";import{OperationalLayer as L}from\"./mixins/OperationalLayer.js\";import{PortalLayer as C}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{sanitizeUrl as F}from\"./support/arcgisLayerUrl.js\";import T from\"./support/RouteSymbols.js\";import x from\"../portal/Portal.js\";import k from\"../portal/PortalItem.js\";import{TypeKeyword as A}from\"../portal/support/portalItemUtils.js\";import{fetchServiceDescription as J}from\"../rest/networkService.js\";import{solve as G}from\"../rest/route.js\";import U from\"../rest/support/DirectionLine.js\";import M from\"../rest/support/DirectionPoint.js\";import{directionsTimeUnitJsonMap as q,directionsLengthUnitJsonMap as E}from\"../rest/support/networkEnums.js\";import W from\"../rest/support/PointBarrier.js\";import V from\"../rest/support/PolygonBarrier.js\";import H from\"../rest/support/PolylineBarrier.js\";import z from\"../rest/support/RouteInfo.js\";import K from\"../rest/support/RouteParameters.js\";import Q from\"../rest/support/RouteSettings.js\";import Y from\"../rest/support/Stop.js\";import Z from\"../geometry/SpatialReference.js\";import $ from\"../geometry/Multipoint.js\";function X(e){return e.length?e:null}function ee(e){const{defaultTravelMode:t,supportedTravelModes:r}=e;return r?.find((({id:e})=>e===t))}function te(e){switch(e){case\"esriGeometryPoint\":return{type:\"esriSMS\",style:\"esriSMSCircle\",size:12,color:[0,0,0,0],outline:te(\"esriGeometryPolyline\")};case\"esriGeometryPolyline\":return{type:\"esriSLS\",style:\"esriSLSSolid\",width:1,color:[0,0,0,0]};case\"esriGeometryPolygon\":return{type:\"esriSFS\",style:\"esriSFSNull\",outline:te(\"esriGeometryPolyline\")}}}function re(e){return\"layers\"in e}function oe(e){return\"esri.rest.support.FeatureSet\"===e.declaredClass}function ie(e){return\"esri.rest.support.NetworkFeatureSet\"===e.declaredClass}function se(e,t,r){const o=t.networkDataset?.networkAttributes,i=o?.filter((e=>\"cost\"===e.usageType))??[],s=ee(t),a=r.travelMode??s;if(u(a))return void we.warn(\"route-layer:missing-travel-mode\",\"The routing service must have a default travel mode or one must be specified in the route parameter.\");const{timeAttributeName:l,distanceAttributeName:c}=a,y=i.find((e=>e.name===l)),f=i.find((e=>e.name===c)),d=m(r.travelMode)?.impedanceAttributeName??m(r.impedanceAttribute)??t.impedance,h=q.fromJSON(y?.units),w=E.fromJSON(f?.units);if(!h||!w)throw new n(\"routelayer:unknown-impedance-units\",\"the units of either the distance or time impedance are unknown\");const S=r.directionsLanguage??t.directionsLanguage,g=m(r.accumulateAttributes)??t.accumulateAttributeNames??[],b=new Set(i.filter((({name:e})=>e===l||e===c||e===d||null!=e&&g.includes(e))).map((({name:e})=>e))),v=e=>{for(const t in e)b.has(t)||delete e[t]};for(const n of e.pointBarriers)p(n.costs)&&(n.addedCost=n.costs[d]??0,v(n.costs));for(const n of e.polygonBarriers)p(n.costs)&&(n.scaleFactor=n.costs[d]??1,v(n.costs));for(const n of e.polylineBarriers)p(n.costs)&&(n.scaleFactor=n.costs[d]??1,v(n.costs));const{routeInfo:B}=e,{findBestSequence:P,preserveFirstStop:j,preserveLastStop:I,startTimeIsUTC:N,timeWindowsAreUTC:_}=r;B.analysisSettings=new Q({accumulateAttributes:g,directionsLanguage:S,findBestSequence:P,preserveFirstStop:j,preserveLastStop:I,startTimeIsUTC:N,timeWindowsAreUTC:_,travelMode:a}),B.totalDuration=ae(B.totalCosts[l]??0,h),B.totalDistance=le(B.totalCosts[c]??0,w),B.totalLateDuration=ae(B.totalViolations[l]??0,h),B.totalWaitDuration=ae(B.totalWait[l]??0,h),p(B.totalCosts)&&v(B.totalCosts),p(B.totalViolations)&&v(B.totalViolations),p(B.totalWait)&&v(B.totalWait);for(const n of e.stops)p(n.serviceCosts)&&(n.serviceDuration=ae(n.serviceCosts[l]??0,h),n.serviceDistance=le(n.serviceCosts[c]??0,w),v(n.serviceCosts)),p(n.cumulativeCosts)&&(n.cumulativeDuration=ae(n.cumulativeCosts[l]??0,h),n.cumulativeDistance=le(n.cumulativeCosts[c]??0,w),v(n.cumulativeCosts)),p(n.violations)&&(n.lateDuration=ae(n.violations[l]??0,h),v(n.violations)),p(n.wait)&&(n.waitDuration=ae(n.wait[l]??0,h),v(n.wait))}async function ne(e){const t=Z.WGS84;return await I(e.spatialReference,t),N(e,t)}function ae(e,t){switch(t){case\"seconds\":return e/60;case\"hours\":return 60*e;case\"days\":return 60*e*24;default:return e}}function le(e,t){return\"decimal-degrees\"===t||\"points\"===t||\"unknown\"===t?e:w(e,t,\"meters\")}function pe(e){const{attributes:t,geometry:r,popupTemplate:o,symbol:i}=e.toGraphic().toJSON();return{attributes:t,geometry:r,popupInfo:o,symbol:i}}const ue=s.ofType(U),me=s.ofType(M),ce=s.ofType(W),ye=s.ofType(V),fe=s.ofType(H),de=s.ofType(Y),he=\"esri.layers.RouteLayer\",we=l.getLogger(he);let Se=class extends(D(O(L(C(y(a(R))))))){constructor(e){super(e),this._cachedServiceDescription=null,this._featureCollection=null,this._type=\"Feature Collection\",this.defaultSymbols=new T,this.directionLines=null,this.directionPoints=null,this.featureCollectionType=\"route\",this.legendEnabled=!1,this.maxScale=0,this.minScale=0,this.pointBarriers=new ce,this.polygonBarriers=new ye,this.polylineBarriers=new fe,this.routeInfo=null,this.spatialReference=Z.WGS84,this.stops=new de,this.type=\"route\";const t=()=>{this._setStopSymbol(this.stops)};this.addHandles(h((()=>this.stops),\"change\",t,{sync:!0,onListenerAdd:t}))}writeFeatureCollectionWebmap(e,t,r,o){const i=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((e=>!!e)),s=i.map(((e,t)=>t)),n=\"web-map\"===o.origin?\"featureCollection.layers\":\"layers\";f(n,i,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=s}readDirectionLines(e,t){return this._getNetworkFeatures(t,\"DirectionLines\",(e=>U.fromGraphic(e)))}readDirectionPoints(e,t){return this._getNetworkFeatures(t,\"DirectionPoints\",(e=>M.fromGraphic(e)))}get fullExtent(){const e=new j({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:Z.WGS84});if(p(this.routeInfo)&&p(this.routeInfo.geometry))return this.routeInfo.geometry.extent??e;if(u(this.stops))return e;const t=this.stops.filter((e=>p(e.geometry)));if(t.length<2)return e;const{spatialReference:r}=t.getItemAt(0).geometry;if(u(r))return e;const o=t.toArray().map((e=>{const t=e.geometry;return[t.x,t.y]}));return new $({points:o,spatialReference:r}).extent}readMaxScale(e,t){return(re(t)?t.layers:t.featureCollection.layers).find((e=>p(e.layerDefinition.maxScale)))?.layerDefinition.maxScale??0}readMinScale(e,t){return(re(t)?t.layers:t.featureCollection.layers).find((e=>p(e.layerDefinition.minScale)))?.layerDefinition.minScale??0}readPointBarriers(e,t){return this._getNetworkFeatures(t,\"Barriers\",(e=>W.fromGraphic(e)))}readPolygonBarriers(e,t){return this._getNetworkFeatures(t,\"PolygonBarriers\",(e=>V.fromGraphic(e)))}readPolylineBarriers(e,t){return this._getNetworkFeatures(t,\"PolylineBarriers\",(e=>H.fromGraphic(e)))}readRouteInfo(e,t){const r=this._getNetworkFeatures(t,\"RouteInfo\",(e=>z.fromGraphic(e)));return r.length>0?r.getItemAt(0):null}readSpatialReference(e,t){const r=re(t)?t.layers:t.featureCollection.layers;if(!r.length)return Z.WGS84;const{layerDefinition:o,featureSet:i}=r[0],s=i.features[0],n=m(s?.geometry)?.spatialReference??i.spatialReference??o.spatialReference??o.extent.spatialReference??_;return Z.fromJSON(n)}readStops(e,t){return this._getNetworkFeatures(t,\"Stops\",(e=>Y.fromGraphic(e)),(e=>this._setStopSymbol(e)))}get title(){return p(this.routeInfo)&&p(this.routeInfo.name)?this.routeInfo.name:\"Route\"}set title(e){this._overrideIfSome(\"title\",e)}get url(){return t.routeServiceUrl}set url(e){null!=e?this._set(\"url\",F(e,we)):this._set(\"url\",t.routeServiceUrl)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Collection\"]},e)),Promise.resolve(this)}removeAll(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}removeResult(){p(this.directionLines)&&(this.directionLines.removeAll(),this._set(\"directionLines\",null)),p(this.directionPoints)&&(this.directionPoints.removeAll(),this._set(\"directionPoints\",null)),p(this.routeInfo)&&this._set(\"routeInfo\",null)}async save(){await this.load();const{fullExtent:e,portalItem:t}=this;if(!t)throw new n(\"routelayer:portal-item-not-set\",\"save() requires to the layer to have a portal item\");if(!t.id)throw new n(\"routelayer:portal-item-not-saved\",\"Please use saveAs() first to save the routelayer\");if(\"Feature Collection\"!==t.type)throw new n(\"routelayer:portal-item-wrong-type\",'Portal item needs to have type \"Feature Collection\"');if(u(this.routeInfo))throw new n(\"routelayer:route-unsolved\",\"save() requires a solved route\");const{portal:r}=t;await r._signIn(),r.user||await t.reload();const{itemUrl:o,itemControl:i}=t;if(\"admin\"!==i&&\"update\"!==i)throw new n(\"routelayer:insufficient-permissions\",\"To save this layer, you need to be the owner or an administrator of your organization\");const s={messages:[],origin:\"portal-item\",portal:r,url:o&&S(o),writtenProperties:[]},a=this.write(null,s);return t.extent=await ne(e),t.title=this.title,await t.update({data:a}),t}async saveAs(e,t={}){if(await this.load(),u(this.routeInfo))throw new n(\"routelayer:route-unsolved\",\"saveAs() requires a solved route\");const r=k.from(e).clone();r.extent??(r.extent=await ne(this.fullExtent)),r.id=null,r.portal??(r.portal=x.getDefault()),r.title??(r.title=this.title),r.type=\"Feature Collection\",r.typeKeywords=[\"Data\",\"Feature Collection\",A.MULTI_LAYER,\"Route Layer\"];const{portal:o}=r,i={messages:[],origin:\"portal-item\",portal:o,url:null,writtenProperties:[]};await o._signIn();const s=t?.folder,a=this.write(null,i);return await o.user.addItem({item:r,folder:s,data:a}),this.portalItem=r,P(i),i.portalItem=r,r}async solve(e,t){const r=e?.stops??this.stops,o=e?.pointBarriers??X(this.pointBarriers),i=e?.polylineBarriers??X(this.polylineBarriers),a=e?.polygonBarriers??X(this.polygonBarriers);if(u(r))throw new n(\"routelayer:undefined-stops\",\"the route layer must have stops defined in the route parameters.\");if((oe(r)||ie(r))&&r.features.length<2||s.isCollection(r)&&r.length<2)throw new n(\"routelayer:insufficent-stops\",\"the route layer must have two or more stops to solve a route.\");if(s.isCollection(r))for(const s of r)s.routeName=null;const l=e?.apiKey,m=this.url,y=await this._getServiceDescription(m,l,t),f=ee(y),h=e?.travelMode??f,w=c(e?.accumulateAttributes,[]);p(h)&&(w.push(h.distanceAttributeName),h.timeAttributeName&&w.push(h.timeAttributeName));const S={startTime:new Date},g={accumulateAttributes:w,directionsOutputType:\"featuresets\",ignoreInvalidLocations:!0,pointBarriers:o,polylineBarriers:i,polygonBarriers:a,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!o,returnDirections:!0,returnPolygonBarriers:!!a,returnPolylineBarriers:!!i,returnRoutes:!0,returnStops:!0,stops:r},b=e?K.from(e):new K;for(const s in S)null==b[s]&&(b[s]=S[s]);let v;b.set(g);try{v=await G(m,b,t)}catch(P){throw d(P)?P:new n(\"routelayer:failed-route-request\",\"the routing request failed\",{error:P})}const B=this._toRouteLayerSolution(v);return this._isOverridden(\"title\")||(this.title=c(B.routeInfo.name,\"Route\")),se(B,y,b),B}update(e){const{stops:t,directionLines:r,directionPoints:o,pointBarriers:i,polylineBarriers:s,polygonBarriers:n,routeInfo:a}=e;this.set({stops:t,pointBarriers:i,polylineBarriers:s,polygonBarriers:n}),this._set(\"directionLines\",r),this._set(\"directionPoints\",o),this._set(\"routeInfo\",a),p(a.geometry)&&(this.spatialReference=a.geometry.spatialReference)}_getNetworkFeatures(e,t,n,a){const l=(re(e)?e.layers:e.featureCollection.layers).find((e=>e.layerDefinition.name===t));if(u(l))return new s;const{layerDefinition:m,popupInfo:c,featureSet:y}=l,f=m.drawingInfo.renderer,{features:d}=y,h=y.spatialReference??m.spatialReference??m.extent.spatialReference??_,w=f&&i(f),S=Z.fromJSON(h),g=d.map((e=>{const i=r.fromJSON(e);p(i.geometry)&&p(e.geometry)&&u(e.geometry.spatialReference)&&(i.geometry.spatialReference=S);const s=n(i);return s.symbol??(s.symbol=w?.getSymbol(i)??this._getNetworkSymbol(t)),s.popupTemplate??(s.popupTemplate=c&&o.fromJSON(c)),s}));return a&&g.some((e=>!e.symbol))&&a(g),new s(g)}_getNetworkSymbol(e){switch(e){case\"Barriers\":return this.defaultSymbols.pointBarriers;case\"DirectionPoints\":return this.defaultSymbols.directionPoints;case\"DirectionLines\":return this.defaultSymbols.directionLines;case\"PolylineBarriers\":return this.defaultSymbols.polylineBarriers;case\"PolygonBarriers\":return this.defaultSymbols.polygonBarriers;case\"RouteInfo\":return this.defaultSymbols.routeInfo;case\"Stops\":return null}}async _getServiceDescription(e,t,r){if(p(this._cachedServiceDescription)&&this._cachedServiceDescription.url===e)return this._cachedServiceDescription.serviceDescription;const o=await J(e,t,r);return this._cachedServiceDescription={serviceDescription:o,url:e},o}_setStopSymbol(e){if(!e||0===e.length)return;if(u(this.defaultSymbols.stops))return;if(e.every((e=>p(e.symbol))))return;const{first:t,last:r,middle:o,unlocated:i,waypoint:s,break:n}=this.defaultSymbols.stops;if(u(this.routeInfo)||1===e.length)return void e.forEach(((i,s)=>{switch(s){case 0:i.symbol=t;break;case e.length-1:i.symbol=r;break;default:i.symbol=o}}));const a=e.map((e=>e.sequence)).filter((e=>p(e))),l=Math.min(...a),m=Math.max(...a);for(const p of e)p.sequence!==l?p.sequence!==m?\"ok\"===p.status||\"not-located-on-closest\"===p.status?\"waypoint\"!==p.locationType?\"break\"!==p.locationType?p.symbol=o:p.symbol=n:p.symbol=s:p.symbol=i:p.symbol=r:p.symbol=t}_toRouteLayerSolution(e){const t=e.routeResults[0].stops.map((e=>Y.fromJSON(e.toJSON())));this._setStopSymbol(t);const r=new de(t),o=new ye(e.polygonBarriers?.map((e=>{const t=V.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polygonBarriers,t}))),i=new fe(e.polylineBarriers?.map((e=>{const t=H.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polylineBarriers,t}))),s=new ce(e.pointBarriers?.map((e=>{const t=W.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.pointBarriers,t}))),n=z.fromJSON(e.routeResults[0].route.toJSON());n.symbol=this.defaultSymbols.routeInfo;const a=new me(e.routeResults[0].directionPoints?.features.map((e=>{const t=M.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionPoints,t})));return{directionLines:new ue(e.routeResults[0].directionLines?.features.map((e=>{const t=U.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionLines,t}))),directionPoints:a,pointBarriers:s,polygonBarriers:o,polylineBarriers:i,routeInfo:n,stops:r}}_writeDirectionLines(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,\"esriGeometryPolyline\",U.fields,U.popupInfo,\"DirectionLines\",\"Direction Lines\")}_writeDirectionPoints(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,\"esriGeometryPoint\",M.fields,M.popupInfo,\"DirectionPoints\",\"Direction Points\")}_writeNetworkFeatures(e,t,r,o,i,s,n){if(u(e)||!e.length)return null;const a=this.spatialReference.toJSON(),{fullExtent:l,maxScale:m,minScale:c}=this;return{featureSet:{features:e.toArray().map((e=>pe(e))),geometryType:r,spatialReference:a},layerDefinition:{capabilities:\"Query,Update,Editing\",drawingInfo:{renderer:{type:\"simple\",symbol:p(t)?t.toJSON():te(r)}},extent:l.toJSON(),fields:o,geometryType:r,hasM:!1,hasZ:!1,maxScale:m,minScale:c,name:s,objectIdField:\"ObjectID\",spatialReference:a,title:n,type:\"Feature Layer\",typeIdField:\"\"},popupInfo:i}}_writePointBarriers(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,\"esriGeometryPoint\",W.fields,W.popupInfo,\"Barriers\",\"Point Barriers\")}_writePolygonBarriers(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,\"esriGeometryPolygon\",V.fields,V.popupInfo,\"PolygonBarriers\",\"Polygon Barriers\")}_writePolylineBarriers(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,\"esriGeometryPolyline\",H.fields,H.popupInfo,\"PolylineBarriers\",\"Line Barriers\")}_writeRouteInfo(){return this._writeNetworkFeatures(p(this.routeInfo)?new s([this.routeInfo]):null,this.defaultSymbols.routeInfo,\"esriGeometryPolyline\",z.fields,z.popupInfo,\"RouteInfo\",\"Route Details\")}_writeStops(){const e=this._writeNetworkFeatures(this.stops,null,\"esriGeometryPoint\",Y.fields,Y.popupInfo,\"Stops\",\"Stops\");if(u(e))return null;const{stops:t}=this.defaultSymbols,r=p(t)&&p(t.first)&&t.first.toJSON(),o=p(t)&&p(t.middle)&&t.middle.toJSON(),i=p(t)&&p(t.last)&&t.last.toJSON();return e.layerDefinition.drawingInfo.renderer={type:\"uniqueValue\",field1:\"Sequence\",defaultSymbol:o,uniqueValueInfos:[{value:\"1\",symbol:r,label:\"First Stop\"},{value:`${this.stops.length}`,symbol:i,label:\"Last Stop\"}]},e}};e([g({readOnly:!0,json:{read:!1,origins:{\"portal-item\":{write:{allowNull:!0,ignoreOrigin:!0}},\"web-map\":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],Se.prototype,\"_featureCollection\",void 0),e([B([\"web-map\",\"portal-item\"],\"_featureCollection\")],Se.prototype,\"writeFeatureCollectionWebmap\",null),e([g({readOnly:!0,json:{read:!1,origins:{\"web-map\":{write:{target:\"type\",overridePolicy(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],Se.prototype,\"_type\",void 0),e([g({nonNullable:!0,type:T})],Se.prototype,\"defaultSymbols\",void 0),e([g({readOnly:!0})],Se.prototype,\"directionLines\",void 0),e([b([\"web-map\",\"portal-item\"],\"directionLines\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readDirectionLines\",null),e([g({readOnly:!0})],Se.prototype,\"directionPoints\",void 0),e([b([\"web-map\",\"portal-item\"],\"directionPoints\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readDirectionPoints\",null),e([g({readOnly:!0,json:{read:!1,origins:{\"web-map\":{write:{ignoreOrigin:!0}}}}})],Se.prototype,\"featureCollectionType\",void 0),e([g({readOnly:!0})],Se.prototype,\"fullExtent\",null),e([g({json:{origins:{\"web-map\":{name:\"featureCollection.showLegend\"}},write:!0}})],Se.prototype,\"legendEnabled\",void 0),e([g({type:[\"show\",\"hide\"]})],Se.prototype,\"listMode\",void 0),e([g({type:Number,nonNullable:!0,json:{write:!1}})],Se.prototype,\"maxScale\",void 0),e([b([\"web-map\",\"portal-item\"],\"maxScale\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readMaxScale\",null),e([g({type:Number,nonNullable:!0,json:{write:!1}})],Se.prototype,\"minScale\",void 0),e([b([\"web-map\",\"portal-item\"],\"minScale\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readMinScale\",null),e([g({type:[\"ArcGISFeatureLayer\"],value:\"ArcGISFeatureLayer\"})],Se.prototype,\"operationalLayerType\",void 0),e([g({nonNullable:!0,type:s.ofType(W)})],Se.prototype,\"pointBarriers\",void 0),e([b([\"web-map\",\"portal-item\"],\"pointBarriers\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readPointBarriers\",null),e([g({nonNullable:!0,type:s.ofType(V)})],Se.prototype,\"polygonBarriers\",void 0),e([b([\"web-map\",\"portal-item\"],\"polygonBarriers\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readPolygonBarriers\",null),e([g({nonNullable:!0,type:s.ofType(H)})],Se.prototype,\"polylineBarriers\",void 0),e([b([\"web-map\",\"portal-item\"],\"polylineBarriers\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readPolylineBarriers\",null),e([g({readOnly:!0})],Se.prototype,\"routeInfo\",void 0),e([b([\"web-map\",\"portal-item\"],\"routeInfo\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readRouteInfo\",null),e([g({type:Z})],Se.prototype,\"spatialReference\",void 0),e([b([\"web-map\",\"portal-item\"],\"spatialReference\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readSpatialReference\",null),e([g({nonNullable:!0,type:s.ofType(Y)})],Se.prototype,\"stops\",void 0),e([b([\"web-map\",\"portal-item\"],\"stops\",[\"layers\",\"featureCollection.layers\"])],Se.prototype,\"readStops\",null),e([g()],Se.prototype,\"title\",null),e([g({readOnly:!0,json:{read:!1}})],Se.prototype,\"type\",void 0),e([g()],Se.prototype,\"url\",null),Se=e([v(he)],Se);const ge=Se;export{ge as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}