{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { g as e, h as t, d as s } from \"../../../../chunks/mat3.js\";\nimport { c as r } from \"../../../../chunks/mat3f32.js\";\nimport { BufferObject as a } from \"../../../webgl/BufferObject.js\";\nimport \"../../../webgl/FramebufferObject.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../webgl/checkWebGLError.js\";\nimport \"../../../webgl/context-util.js\";\nimport { DataType as i, BlendFactor as o, PrimitiveType as n, Usage as m } from \"../../../webgl/enums.js\";\nimport \"../../../../chunks/builtins.js\";\nimport \"../../../webgl/Texture.js\";\nimport { VertexArrayObject as f } from \"../../../webgl/VertexArrayObject.js\";\nimport { DisplayObject as h } from \"../../engine/DisplayObject.js\";\nimport { VertexElementDescriptor as c } from \"../../../webgl/VertexElementDescriptor.js\";\nconst _ = {\n  geometry: [new c(\"a_PositionAndFlags\", 3, i.SHORT, 0, 6)]\n},\n      u = new Map();\nu.set(\"a_PositionAndFlags\", 0);\nconst l = {\n  vsPath: \"debug/overlay\",\n  fsPath: \"debug/overlay\",\n  attributes: u\n};\n\nclass d extends h {\n  constructor(e) {\n    super(), this._conf = e;\n  }\n\n  static makeFlags(e, t) {\n    return e | t << 2;\n  }\n\n  _createTransforms() {\n    return {\n      dvs: r()\n    };\n  }\n\n  doRender(e) {\n    this._updateTransforms(e), this._ensureResources(e);\n    const {\n      context: t\n    } = e;\n    t.useProgram(this._program), this._program.setUniformMatrix3fv(\"u_dvsMat3\", this.transforms.dvs), this._program.setUniform4fv(\"u_colors\", this._conf.getColors(e)), this._program.setUniform1fv(\"u_opacities\", this._conf.getOpacities(e));\n\n    const {\n      vertexData: s,\n      indexData: r\n    } = this._conf.getMesh(e);\n\n    this._vertexBuffer.setData(s), this._indexBuffer.setData(r), t.bindVAO(this._vertexArray), t.setBlendingEnabled(!0), t.setBlendFunction(o.ONE, o.ONE_MINUS_SRC_ALPHA), t.setDepthTestEnabled(!1), t.setStencilTestEnabled(!1), t.setColorMask(!0, !0, !0, !0), t.drawElements(n.TRIANGLES, r.length, i.UNSIGNED_INT, 0);\n  }\n\n  onDetach() {\n    this._vertexArray && (this._vertexArray.dispose(), this._vertexArray = null);\n  }\n\n  _updateTransforms(r) {\n    e(this.transforms.dvs), t(this.transforms.dvs, this.transforms.dvs, [-1, 1]), s(this.transforms.dvs, this.transforms.dvs, [2 / r.state.size[0], -2 / r.state.size[1], 1]);\n  }\n\n  _ensureResources(e) {\n    const {\n      context: t\n    } = e;\n    this._program || (this._program = e.painter.materialManager.getProgram(l)), this._vertexBuffer || (this._vertexBuffer = a.createVertex(t, m.STREAM_DRAW)), this._indexBuffer || (this._indexBuffer = a.createIndex(t, m.STREAM_DRAW)), this._vertexArray || (this._vertexArray = new f(t, u, _, {\n      geometry: this._vertexBuffer\n    }, this._indexBuffer));\n  }\n\n}\n\nexport { d as default };","map":{"version":3,"names":["g","e","h","t","d","s","c","r","BufferObject","a","DataType","i","BlendFactor","o","PrimitiveType","n","Usage","m","VertexArrayObject","f","DisplayObject","VertexElementDescriptor","_","geometry","SHORT","u","Map","set","l","vsPath","fsPath","attributes","constructor","_conf","makeFlags","_createTransforms","dvs","doRender","_updateTransforms","_ensureResources","context","useProgram","_program","setUniformMatrix3fv","transforms","setUniform4fv","getColors","setUniform1fv","getOpacities","vertexData","indexData","getMesh","_vertexBuffer","setData","_indexBuffer","bindVAO","_vertexArray","setBlendingEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setDepthTestEnabled","setStencilTestEnabled","setColorMask","drawElements","TRIANGLES","length","UNSIGNED_INT","onDetach","dispose","state","size","painter","materialManager","getProgram","createVertex","STREAM_DRAW","createIndex","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/support/DebugOverlay.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{g as e,h as t,d as s}from\"../../../../chunks/mat3.js\";import{c as r}from\"../../../../chunks/mat3f32.js\";import{BufferObject as a}from\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/context-util.js\";import{DataType as i,BlendFactor as o,PrimitiveType as n,Usage as m}from\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/Texture.js\";import{VertexArrayObject as f}from\"../../../webgl/VertexArrayObject.js\";import{DisplayObject as h}from\"../../engine/DisplayObject.js\";import{VertexElementDescriptor as c}from\"../../../webgl/VertexElementDescriptor.js\";const _={geometry:[new c(\"a_PositionAndFlags\",3,i.SHORT,0,6)]},u=new Map;u.set(\"a_PositionAndFlags\",0);const l={vsPath:\"debug/overlay\",fsPath:\"debug/overlay\",attributes:u};class d extends h{constructor(e){super(),this._conf=e}static makeFlags(e,t){return e|t<<2}_createTransforms(){return{dvs:r()}}doRender(e){this._updateTransforms(e),this._ensureResources(e);const{context:t}=e;t.useProgram(this._program),this._program.setUniformMatrix3fv(\"u_dvsMat3\",this.transforms.dvs),this._program.setUniform4fv(\"u_colors\",this._conf.getColors(e)),this._program.setUniform1fv(\"u_opacities\",this._conf.getOpacities(e));const{vertexData:s,indexData:r}=this._conf.getMesh(e);this._vertexBuffer.setData(s),this._indexBuffer.setData(r),t.bindVAO(this._vertexArray),t.setBlendingEnabled(!0),t.setBlendFunction(o.ONE,o.ONE_MINUS_SRC_ALPHA),t.setDepthTestEnabled(!1),t.setStencilTestEnabled(!1),t.setColorMask(!0,!0,!0,!0),t.drawElements(n.TRIANGLES,r.length,i.UNSIGNED_INT,0)}onDetach(){this._vertexArray&&(this._vertexArray.dispose(),this._vertexArray=null)}_updateTransforms(r){e(this.transforms.dvs),t(this.transforms.dvs,this.transforms.dvs,[-1,1]),s(this.transforms.dvs,this.transforms.dvs,[2/r.state.size[0],-2/r.state.size[1],1])}_ensureResources(e){const{context:t}=e;this._program||(this._program=e.painter.materialManager.getProgram(l)),this._vertexBuffer||(this._vertexBuffer=a.createVertex(t,m.STREAM_DRAW)),this._indexBuffer||(this._indexBuffer=a.createIndex(t,m.STREAM_DRAW)),this._vertexArray||(this._vertexArray=new f(t,u,_,{geometry:this._vertexBuffer},this._indexBuffer))}}export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}