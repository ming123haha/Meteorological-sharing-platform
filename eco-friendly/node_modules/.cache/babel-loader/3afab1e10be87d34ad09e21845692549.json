{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Error.js\";\nimport { JSONSupport as e } from \"../core/JSONSupport.js\";\nimport { unwrapOrThrow as o } from \"../core/maybe.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport { ensureType as n } from \"../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport l from \"./PortalQueryParams.js\";\nlet u = class extends e {\n  constructor(t) {\n    super(t), this.access = null, this.created = null, this.description = null, this.id = null, this.isInvitationOnly = !1, this.modified = null, this.owner = null, this.portal = null, this.snippet = null, this.sortField = null, this.sortOrder = null, this.tags = null, this.title = null;\n  }\n\n  get thumbnailUrl() {\n    const t = this.url,\n          r = this.thumbnail;\n    return t && r && this.portal ? this.portal?._normalizeUrl(`${t}/info/${r}?f=json`) : null;\n  }\n\n  get url() {\n    const t = this.get(\"portal.restUrl\");\n    return t ? t + \"/community/groups/\" + this.id : null;\n  }\n\n  fetchCategorySchema(t) {\n    return o(this.portal)._request(this.url + \"/categorySchema\", t).then(r => {\n      const e = r.categorySchema || [];\n      return e.some(t => \"contentCategorySetsGroupQuery.LivingAtlas\" === t.source) ? this._fetchCategorySchemaSet(\"LivingAtlas\", t) : e;\n    });\n  }\n\n  fetchMembers(t) {\n    return o(this.portal)._request(this.url + \"/users\", t);\n  }\n\n  getThumbnailUrl(t) {\n    let r = this.thumbnailUrl;\n    return r && t && (r += `&w=${t}`), r;\n  }\n\n  toJSON() {\n    throw new r(\"internal:not-yet-implemented\", \"PortalGroup.toJSON is not yet implemented\");\n  }\n\n  queryItems(t, r) {\n    let e = n(l, t);\n    const s = o(this.portal);\n    return parseFloat(s.currentVersion) > 5 ? (e = e || new l(), s._queryPortal(`/content/groups/${this.id}/search`, e, \"PortalItem\", r)) : (e = e ? e.clone() : new l(), e.query = \"group:\" + this.id + (e.query ? \" \" + e.query : \"\"), s.queryItems(e, r));\n  }\n\n  _fetchCategorySchemaSet(t, e) {\n    const s = o(this.portal);\n    return s._fetchSelf(s.authMode, !0, e).then(t => {\n      const o = t.contentCategorySetsGroupQuery;\n\n      if (o) {\n        const t = new l();\n        return t.disableExtraQuery = !0, t.num = 1, t.query = o, s.queryGroups(t, e);\n      }\n\n      throw new r(\"portal-group:fetchCategorySchema\", \"contentCategorySetsGroupQuery value not found\");\n    }).then(o => {\n      if (o.total) {\n        const r = o.results[0],\n              s = new l();\n        return s.num = 1, s.query = `typekeywords:\"${t}\"`, r.queryItems(s, e);\n      }\n\n      throw new r(\"portal-group:fetchCategorySchema\", \"contentCategorySetsGroupQuery group not found\");\n    }).then(t => {\n      if (t.total) {\n        return t.results[0].fetchData(\"json\", e).then(t => {\n          const r = t && t.categorySchema;\n          return r && r.length ? r : [];\n        });\n      }\n\n      return [];\n    });\n  }\n\n};\nt([s()], u.prototype, \"access\", void 0), t([s({\n  type: Date\n})], u.prototype, \"created\", void 0), t([s()], u.prototype, \"description\", void 0), t([s()], u.prototype, \"id\", void 0), t([s()], u.prototype, \"isInvitationOnly\", void 0), t([s({\n  type: Date\n})], u.prototype, \"modified\", void 0), t([s()], u.prototype, \"owner\", void 0), t([s()], u.prototype, \"portal\", void 0), t([s()], u.prototype, \"snippet\", void 0), t([s()], u.prototype, \"sortField\", void 0), t([s()], u.prototype, \"sortOrder\", void 0), t([s()], u.prototype, \"tags\", void 0), t([s()], u.prototype, \"thumbnail\", void 0), t([s({\n  readOnly: !0\n})], u.prototype, \"thumbnailUrl\", null), t([s()], u.prototype, \"title\", void 0), t([s({\n  readOnly: !0\n})], u.prototype, \"url\", null), u = t([i(\"esri.portal.PortalGroup\")], u);\nconst p = u;\nexport { p as default };","map":{"version":3,"names":["_","t","r","JSONSupport","e","unwrapOrThrow","o","property","s","ensureType","n","subclass","i","l","u","constructor","access","created","description","id","isInvitationOnly","modified","owner","portal","snippet","sortField","sortOrder","tags","title","thumbnailUrl","url","thumbnail","_normalizeUrl","get","fetchCategorySchema","_request","then","categorySchema","some","source","_fetchCategorySchemaSet","fetchMembers","getThumbnailUrl","toJSON","queryItems","parseFloat","currentVersion","_queryPortal","clone","query","_fetchSelf","authMode","contentCategorySetsGroupQuery","disableExtraQuery","num","queryGroups","total","results","fetchData","length","prototype","type","Date","readOnly","p","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/portal/PortalGroup.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{unwrapOrThrow as o}from\"../core/maybe.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{ensureType as n}from\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./PortalQueryParams.js\";let u=class extends e{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,r=this.thumbnail;return t&&r&&this.portal?this.portal?._normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){const t=this.get(\"portal.restUrl\");return t?t+\"/community/groups/\"+this.id:null}fetchCategorySchema(t){return o(this.portal)._request(this.url+\"/categorySchema\",t).then((r=>{const e=r.categorySchema||[];return e.some((t=>\"contentCategorySetsGroupQuery.LivingAtlas\"===t.source))?this._fetchCategorySchemaSet(\"LivingAtlas\",t):e}))}fetchMembers(t){return o(this.portal)._request(this.url+\"/users\",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new r(\"internal:not-yet-implemented\",\"PortalGroup.toJSON is not yet implemented\")}queryItems(t,r){let e=n(l,t);const s=o(this.portal);return parseFloat(s.currentVersion)>5?(e=e||new l,s._queryPortal(`/content/groups/${this.id}/search`,e,\"PortalItem\",r)):(e=e?e.clone():new l,e.query=\"group:\"+this.id+(e.query?\" \"+e.query:\"\"),s.queryItems(e,r))}_fetchCategorySchemaSet(t,e){const s=o(this.portal);return s._fetchSelf(s.authMode,!0,e).then((t=>{const o=t.contentCategorySetsGroupQuery;if(o){const t=new l;return t.disableExtraQuery=!0,t.num=1,t.query=o,s.queryGroups(t,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery value not found\")})).then((o=>{if(o.total){const r=o.results[0],s=new l;return s.num=1,s.query=`typekeywords:\"${t}\"`,r.queryItems(s,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery group not found\")})).then((t=>{if(t.total){return t.results[0].fetchData(\"json\",e).then((t=>{const r=t&&t.categorySchema;return r&&r.length?r:[]}))}return[]}))}};t([s()],u.prototype,\"access\",void 0),t([s({type:Date})],u.prototype,\"created\",void 0),t([s()],u.prototype,\"description\",void 0),t([s()],u.prototype,\"id\",void 0),t([s()],u.prototype,\"isInvitationOnly\",void 0),t([s({type:Date})],u.prototype,\"modified\",void 0),t([s()],u.prototype,\"owner\",void 0),t([s()],u.prototype,\"portal\",void 0),t([s()],u.prototype,\"snippet\",void 0),t([s()],u.prototype,\"sortField\",void 0),t([s()],u.prototype,\"sortOrder\",void 0),t([s()],u.prototype,\"tags\",void 0),t([s()],u.prototype,\"thumbnail\",void 0),t([s({readOnly:!0})],u.prototype,\"thumbnailUrl\",null),t([s()],u.prototype,\"title\",void 0),t([s({readOnly:!0})],u.prototype,\"url\",null),u=t([i(\"esri.portal.PortalGroup\")],u);const p=u;export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}