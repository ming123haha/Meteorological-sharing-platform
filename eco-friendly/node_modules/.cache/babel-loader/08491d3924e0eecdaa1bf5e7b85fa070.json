{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../geometry/Extent.js\";\nimport i from \"../../geometry/Point.js\";\nimport r from \"../../layers/support/RasterInfo.js\";\nimport s from \"../../layers/support/RasterStorageInfo.js\";\nimport { parseUrl as a, encode as l, asValidOptions as o } from \"../utils.js\";\n\nasync function n(n, m, p) {\n  const f = a(n),\n        u = l({ ...f?.query,\n    f: \"json\"\n  }),\n        h = o(u, p),\n        d = `${f?.path}/${m}/info`,\n        c = e(`${d}`, h),\n        g = e(`${d}/keyProperties`, h),\n        x = await Promise.allSettled([c, g]),\n        y = \"fulfilled\" === x[0].status ? x[0].value.data : null,\n        v = \"fulfilled\" === x[1].status ? x[1].value.data : null;\n  let P = null;\n  y.statistics?.length && (P = y.statistics.map(e => ({\n    min: e[0],\n    max: e[1],\n    avg: e[2],\n    stddev: e[3]\n  })));\n  const S = t.fromJSON(y.extent),\n        j = Math.ceil(S.width / y.pixelSizeX - .1),\n        w = Math.ceil(S.height / y.pixelSizeY - .1),\n        b = S.spatialReference,\n        k = new i({\n    x: y.pixelSizeX,\n    y: y.pixelSizeY,\n    spatialReference: b\n  }),\n        z = y.histograms?.length ? y.histograms : null,\n        L = new s({\n    origin: y.origin,\n    blockWidth: y.blockWidth,\n    blockHeight: y.blockHeight,\n    firstPyramidLevel: y.firstPyramidLevel,\n    maximumPyramidLevel: y.maxPyramidLevel\n  });\n  return new r({\n    width: j,\n    height: w,\n    bandCount: y.bandCount,\n    extent: S,\n    spatialReference: b,\n    pixelSize: k,\n    pixelType: y.pixelType.toLowerCase(),\n    statistics: P,\n    histograms: z,\n    keyProperties: v,\n    storageInfo: L\n  });\n}\n\nexport { n as getCatalogItemRasterInfo };","map":{"version":3,"names":["e","t","i","r","s","parseUrl","a","encode","l","asValidOptions","o","n","m","p","f","u","query","h","d","path","c","g","x","Promise","allSettled","y","status","value","data","v","P","statistics","length","map","min","max","avg","stddev","S","fromJSON","extent","j","Math","ceil","width","pixelSizeX","w","height","pixelSizeY","b","spatialReference","k","z","histograms","L","origin","blockWidth","blockHeight","firstPyramidLevel","maximumPyramidLevel","maxPyramidLevel","bandCount","pixelSize","pixelType","toLowerCase","keyProperties","storageInfo","getCatalogItemRasterInfo"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/rest/imageService/getCatalogItemRasterInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../geometry/Extent.js\";import i from\"../../geometry/Point.js\";import r from\"../../layers/support/RasterInfo.js\";import s from\"../../layers/support/RasterStorageInfo.js\";import{parseUrl as a,encode as l,asValidOptions as o}from\"../utils.js\";async function n(n,m,p){const f=a(n),u=l({...f?.query,f:\"json\"}),h=o(u,p),d=`${f?.path}/${m}/info`,c=e(`${d}`,h),g=e(`${d}/keyProperties`,h),x=await Promise.allSettled([c,g]),y=\"fulfilled\"===x[0].status?x[0].value.data:null,v=\"fulfilled\"===x[1].status?x[1].value.data:null;let P=null;y.statistics?.length&&(P=y.statistics.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))));const S=t.fromJSON(y.extent),j=Math.ceil(S.width/y.pixelSizeX-.1),w=Math.ceil(S.height/y.pixelSizeY-.1),b=S.spatialReference,k=new i({x:y.pixelSizeX,y:y.pixelSizeY,spatialReference:b}),z=y.histograms?.length?y.histograms:null,L=new s({origin:y.origin,blockWidth:y.blockWidth,blockHeight:y.blockHeight,firstPyramidLevel:y.firstPyramidLevel,maximumPyramidLevel:y.maxPyramidLevel});return new r({width:j,height:w,bandCount:y.bandCount,extent:S,spatialReference:b,pixelSize:k,pixelType:y.pixelType.toLowerCase(),statistics:P,histograms:z,keyProperties:v,storageInfo:L})}export{n as getCatalogItemRasterInfo};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}