{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../Color.js\";\nimport { toCIMSymbolJSON as t, isCIMMarker as o, isCIMStroke as r, isCIMFill as n, isCIMMarkerStrokePlacement as s, fromCIMColor as a } from \"../cim/utils.js\";\n\nfunction i(e) {\n  const s = t(e);\n  if (\"CIMTextSymbol\" === s?.type) return s.height ?? 0;\n  let a = 0;\n  if (s?.symbolLayers) for (const t of s.symbolLayers) o(t) && null != t.size && t.size > a ? a = t.size : r(t) && null != t.width && t.width > a ? a = t.width : n(t);\n  return a;\n}\n\nfunction c(e, o, r) {\n  if (!e) return;\n  const n = t(e),\n        s = i(e);\n  if (0 === s) return void f(n, o);\n  l(n, o / s, !1, r);\n}\n\nfunction f(e, t) {\n  if (e) if (\"CIMTextSymbol\" !== e.type) {\n    if (e.symbolLayers) for (const o of e.symbolLayers) switch (o.type) {\n      case \"CIMPictureMarker\":\n      case \"CIMVectorMarker\":\n        o.size = t;\n        break;\n\n      case \"CIMPictureStroke\":\n      case \"CIMSolidStroke\":\n        o.width = t;\n    }\n  } else e.height = t;\n}\n\nfunction l(e, t, o, r) {\n  if (e) if (\"CIMTextSymbol\" !== e.type) {\n    if (o && e.effects) for (const o of e.effects) y(o, t);\n    if (e.symbolLayers) for (const o of e.symbolLayers) switch (o.type) {\n      case \"CIMPictureMarker\":\n      case \"CIMVectorMarker\":\n        m(o, t, r);\n        break;\n\n      case \"CIMPictureStroke\":\n      case \"CIMSolidStroke\":\n        !r?.preserveOutlineWidth && o.width && (o.width *= t);\n        break;\n\n      case \"CIMPictureFill\":\n        o.height && (o.height *= t), o.offsetX && (o.offsetX *= t), o.offsetY && (o.offsetY *= t);\n        break;\n\n      case \"CIMHatchFill\":\n        l(o.lineSymbol, t, !0, { ...r,\n          preserveOutlineWidth: !1\n        }), o.offsetX && (o.offsetX *= t), o.offsetY && (o.offsetY *= t), o.separation && (o.separation *= t);\n    }\n  } else null != e.height && (e.height *= t);\n}\n\nfunction m(e, t, o) {\n  if (e && (e.markerPlacement && M(e.markerPlacement, t), e.offsetX && (e.offsetX *= t), e.offsetY && (e.offsetY *= t), e.anchorPoint && \"Absolute\" === e.anchorPointUnits && (e.anchorPoint = {\n    x: e.anchorPoint.x * t,\n    y: e.anchorPoint.y * t\n  }), e.size = null != e.size ? e.size * t : 0, \"CIMVectorMarker\" === e.type && e.markerGraphics)) for (const r of e.markerGraphics) e.scaleSymbolsProportionally || l(r.symbol, t, !0, o);\n}\n\nfunction M(e, t) {\n  switch (s(e) && e.offset && (e.offset *= t), e.type) {\n    case \"CIMMarkerPlacementAlongLineRandomSize\":\n    case \"CIMMarkerPlacementAlongLineSameSize\":\n      if (e.customEndingOffset && (e.customEndingOffset *= t), e.offsetAlongLine && (e.offsetAlongLine *= t), e.placementTemplate && e.placementTemplate.length) {\n        const o = e.placementTemplate.map(e => e * t);\n        e.placementTemplate = o;\n      }\n\n      break;\n\n    case \"CIMMarkerPlacementAlongLineVariableSize\":\n      if (e.maxRandomOffset && (e.maxRandomOffset *= t), e.placementTemplate && e.placementTemplate.length) {\n        const o = e.placementTemplate.map(e => e * t);\n        e.placementTemplate = o;\n      }\n\n      break;\n\n    case \"CIMMarkerPlacementOnLine\":\n      e.startPointOffset && (e.startPointOffset *= t);\n      break;\n\n    case \"CIMMarkerPlacementAtExtremities\":\n      e.offsetAlongLine && (e.offsetAlongLine *= t);\n      break;\n\n    case \"CIMMarkerPlacementAtMeasuredUnits\":\n    case \"CIMMarkerPlacementOnVertices\":\n      break;\n\n    case \"CIMMarkerPlacementAtRatioPositions\":\n      e.beginPosition && (e.beginPosition *= t), e.endPosition && (e.endPosition *= t);\n      break;\n\n    case \"CIMMarkerPlacementPolygonCenter\":\n      e.offsetX && (e.offsetX *= t), e.offsetY && (e.offsetY *= t);\n      break;\n\n    case \"CIMMarkerPlacementInsidePolygon\":\n      e.offsetX && (e.offsetX *= t), e.offsetY && (e.offsetY *= t), e.stepX && (e.stepX *= t), e.stepY && (e.stepY *= t);\n  }\n}\n\nfunction y(e, t) {\n  switch (e.type) {\n    case \"CIMGeometricEffectArrow\":\n    case \"CIMGeometricEffectDonut\":\n      e.width && (e.width *= t);\n      break;\n\n    case \"CIMGeometricEffectBuffer\":\n      e.size && (e.size *= t);\n      break;\n\n    case \"CIMGeometricEffectCut\":\n      e.beginCut && (e.beginCut *= t), e.endCut && (e.endCut *= t), e.middleCut && (e.middleCut *= t);\n      break;\n\n    case \"CIMGeometricEffectDashes\":\n      if (e.customEndingOffset && (e.customEndingOffset *= t), e.offsetAlongLine && (e.offsetAlongLine *= t), e.dashTemplate && e.dashTemplate.length) {\n        const o = e.dashTemplate.map(e => e * t);\n        e.dashTemplate = o;\n      }\n\n      break;\n\n    case \"CIMGeometricEffectExtension\":\n    case \"CIMGeometricEffectJog\":\n    case \"CIMGeometricEffectRadial\":\n      e.length && (e.length *= t);\n      break;\n\n    case \"CIMGeometricEffectMove\":\n      e.offsetX && (e.offsetX *= t), e.offsetY && (e.offsetY *= t);\n      break;\n\n    case \"CIMGeometricEffectOffset\":\n    case \"CIMGeometricEffectOffsetTangent\":\n      e.offset && (e.offset *= t);\n      break;\n\n    case \"CIMGeometricEffectRegularPolygon\":\n      e.radius && (e.radius *= t);\n      break;\n\n    case \"CIMGeometricEffectTaperedPolygon\":\n      e.fromWidth && (e.fromWidth *= t), e.length && (e.length *= t), e.toWidth && (e.toWidth *= t);\n      break;\n\n    case \"CIMGeometricEffectWave\":\n      e.amplitude && (e.amplitude *= t), e.period && (e.period *= t);\n  }\n}\n\nfunction C(o) {\n  const r = [];\n  return u(t(o), r), r.length ? new e(a(r[0])) : null;\n}\n\nfunction u(e, t) {\n  if (!e) return;\n  let n;\n  n = \"CIMTextSymbol\" === e.type ? e.symbol : e;\n  const a = \"CIMPolygonSymbol\" === e.type;\n  if (n?.symbolLayers) for (const i of n.symbolLayers) if (!(i.colorLocked || a && (r(i) || o(i) && i.markerPlacement && s(i.markerPlacement)))) switch (i.type) {\n    case \"CIMPictureMarker\":\n    case \"CIMPictureStroke\":\n    case \"CIMPictureFill\":\n      i.tintColor && b(t, i.tintColor);\n      break;\n\n    case \"CIMVectorMarker\":\n      i.markerGraphics?.forEach(e => {\n        u(e.symbol, t);\n      });\n      break;\n\n    case \"CIMSolidStroke\":\n    case \"CIMSolidFill\":\n      b(t, i.color);\n      break;\n\n    case \"CIMHatchFill\":\n      u(i.lineSymbol, t);\n  }\n}\n\nfunction b(e, t) {\n  for (const o of e) if (o.join(\".\") === t.join(\".\")) return;\n\n  e.push(t);\n}\n\nfunction I(o, r, n) {\n  r instanceof e || (r = new e(r));\n  const s = t(o);\n  s && k(s, r, n);\n}\n\nfunction k(e, t, a) {\n  if (!e) return;\n  let i;\n  i = \"CIMTextSymbol\" === e.type ? e.symbol : e;\n  const c = \"CIMPolygonSymbol\" === i?.type;\n  if (i?.symbolLayers) for (const f of i.symbolLayers) {\n    if (f.colorLocked) continue;\n    if (c) if (a) {\n      const {\n        layersToColor: e\n      } = a;\n      if ((r(f) || o(f) && f.markerPlacement && s(f.markerPlacement)) && \"fill\" === e || n(f) && \"outline\" === e) continue;\n    } else if (r(f) || o(f) && f.markerPlacement && s(f.markerPlacement)) continue;\n    const e = t.toArray();\n\n    switch (f.type) {\n      case \"CIMPictureMarker\":\n      case \"CIMPictureStroke\":\n      case \"CIMPictureFill\":\n        f.tintColor = e;\n        break;\n\n      case \"CIMVectorMarker\":\n        f.markerGraphics?.forEach(e => {\n          k(e.symbol, t, a);\n        });\n        break;\n\n      case \"CIMSolidStroke\":\n      case \"CIMSolidFill\":\n        f.color = e;\n        break;\n\n      case \"CIMHatchFill\":\n        k(f.lineSymbol, t, a);\n    }\n  }\n}\n\nfunction p(e, o = !1) {\n  const r = t(e);\n\n  if (\"CIMTextSymbol\" === r?.type || \"CIMPointSymbol\" === r?.type) {\n    const e = r.angle;\n    return null != e && 0 !== e && o ? 360 - e : e ?? 0;\n  }\n\n  return 0;\n}\n\nfunction h(e, r, n = !1) {\n  const s = t(e);\n\n  if (n && 0 !== r && (r = 360 - r), \"CIMTextSymbol\" !== s?.type) {\n    if (\"CIMPointSymbol\" === s?.type && s.symbolLayers) {\n      const e = r - (s.angle || 0);\n\n      for (const t of s.symbolLayers) if (o(t)) {\n        let o = t.rotation || 0;\n        t.rotateClockwise ? o -= e : o += e, t.rotation = o;\n      }\n\n      s.angle = r;\n    }\n  } else s.angle = r;\n}\n\nfunction P(e) {\n  const o = t(e);\n  if (!o) return null;\n\n  switch (o.type) {\n    case \"CIMPointSymbol\":\n      return \"CIMPointSymbol\";\n\n    case \"CIMLineSymbol\":\n      return \"CIMLineSymbol\";\n\n    case \"CIMPolygonSymbol\":\n      return \"CIMPolygonSymbol\";\n\n    case \"CIMTextSymbol\":\n      return \"CIMTextSymbol\";\n\n    case \"CIMMeshSymbol\":\n      return \"CIMMeshSymbol\";\n\n    default:\n      return null;\n  }\n}\n\nexport { I as applyCIMSymbolColor, h as applyCIMSymbolRotation, C as getCIMSymbolColor, p as getCIMSymbolRotation, i as getCIMSymbolSize, P as getCIMSymbolType, m as scaleCIMMarker, l as scaleCIMSymbol, c as scaleCIMSymbolTo };","map":{"version":3,"names":["e","toCIMSymbolJSON","t","isCIMMarker","o","isCIMStroke","r","isCIMFill","n","isCIMMarkerStrokePlacement","s","fromCIMColor","a","i","type","height","symbolLayers","size","width","c","f","l","effects","y","m","preserveOutlineWidth","offsetX","offsetY","lineSymbol","separation","markerPlacement","M","anchorPoint","anchorPointUnits","x","markerGraphics","scaleSymbolsProportionally","symbol","offset","customEndingOffset","offsetAlongLine","placementTemplate","length","map","maxRandomOffset","startPointOffset","beginPosition","endPosition","stepX","stepY","beginCut","endCut","middleCut","dashTemplate","radius","fromWidth","toWidth","amplitude","period","C","u","colorLocked","tintColor","b","forEach","color","join","push","I","k","layersToColor","toArray","p","angle","h","rotation","rotateClockwise","P","applyCIMSymbolColor","applyCIMSymbolRotation","getCIMSymbolColor","getCIMSymbolRotation","getCIMSymbolSize","getCIMSymbolType","scaleCIMMarker","scaleCIMSymbol","scaleCIMSymbolTo"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{toCIMSymbolJSON as t,isCIMMarker as o,isCIMStroke as r,isCIMFill as n,isCIMMarkerStrokePlacement as s,fromCIMColor as a}from\"../cim/utils.js\";function i(e){const s=t(e);if(\"CIMTextSymbol\"===s?.type)return s.height??0;let a=0;if(s?.symbolLayers)for(const t of s.symbolLayers)o(t)&&null!=t.size&&t.size>a?a=t.size:r(t)&&null!=t.width&&t.width>a?a=t.width:n(t);return a}function c(e,o,r){if(!e)return;const n=t(e),s=i(e);if(0===s)return void f(n,o);l(n,o/s,!1,r)}function f(e,t){if(e)if(\"CIMTextSymbol\"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":o.size=t;break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":o.width=t}}else e.height=t}function l(e,t,o,r){if(e)if(\"CIMTextSymbol\"!==e.type){if(o&&e.effects)for(const o of e.effects)y(o,t);if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":m(o,t,r);break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":!r?.preserveOutlineWidth&&o.width&&(o.width*=t);break;case\"CIMPictureFill\":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case\"CIMHatchFill\":l(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&M(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&\"Absolute\"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,\"CIMVectorMarker\"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||l(r.symbol,t,!0,o)}function M(e,t){switch(s(e)&&e.offset&&(e.offset*=t),e.type){case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineSameSize\":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementAlongLineVariableSize\":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementOnLine\":e.startPointOffset&&(e.startPointOffset*=t);break;case\"CIMMarkerPlacementAtExtremities\":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementOnVertices\":break;case\"CIMMarkerPlacementAtRatioPositions\":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case\"CIMMarkerPlacementPolygonCenter\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case\"CIMMarkerPlacementInsidePolygon\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function y(e,t){switch(e.type){case\"CIMGeometricEffectArrow\":case\"CIMGeometricEffectDonut\":e.width&&(e.width*=t);break;case\"CIMGeometricEffectBuffer\":e.size&&(e.size*=t);break;case\"CIMGeometricEffectCut\":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case\"CIMGeometricEffectDashes\":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectJog\":case\"CIMGeometricEffectRadial\":e.length&&(e.length*=t);break;case\"CIMGeometricEffectMove\":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":e.offset&&(e.offset*=t);break;case\"CIMGeometricEffectRegularPolygon\":e.radius&&(e.radius*=t);break;case\"CIMGeometricEffectTaperedPolygon\":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case\"CIMGeometricEffectWave\":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function C(o){const r=[];return u(t(o),r),r.length?new e(a(r[0])):null}function u(e,t){if(!e)return;let n;n=\"CIMTextSymbol\"===e.type?e.symbol:e;const a=\"CIMPolygonSymbol\"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||a&&(r(i)||o(i)&&i.markerPlacement&&s(i.markerPlacement))))switch(i.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":i.tintColor&&b(t,i.tintColor);break;case\"CIMVectorMarker\":i.markerGraphics?.forEach((e=>{u(e.symbol,t)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":b(t,i.color);break;case\"CIMHatchFill\":u(i.lineSymbol,t)}}function b(e,t){for(const o of e)if(o.join(\".\")===t.join(\".\"))return;e.push(t)}function I(o,r,n){r instanceof e||(r=new e(r));const s=t(o);s&&k(s,r,n)}function k(e,t,a){if(!e)return;let i;i=\"CIMTextSymbol\"===e.type?e.symbol:e;const c=\"CIMPolygonSymbol\"===i?.type;if(i?.symbolLayers)for(const f of i.symbolLayers){if(f.colorLocked)continue;if(c)if(a){const{layersToColor:e}=a;if((r(f)||o(f)&&f.markerPlacement&&s(f.markerPlacement))&&\"fill\"===e||n(f)&&\"outline\"===e)continue}else if(r(f)||o(f)&&f.markerPlacement&&s(f.markerPlacement))continue;const e=t.toArray();switch(f.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":f.tintColor=e;break;case\"CIMVectorMarker\":f.markerGraphics?.forEach((e=>{k(e.symbol,t,a)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":f.color=e;break;case\"CIMHatchFill\":k(f.lineSymbol,t,a)}}}function p(e,o=!1){const r=t(e);if(\"CIMTextSymbol\"===r?.type||\"CIMPointSymbol\"===r?.type){const e=r.angle;return null!=e&&0!==e&&o?360-e:e??0}return 0}function h(e,r,n=!1){const s=t(e);if(n&&0!==r&&(r=360-r),\"CIMTextSymbol\"!==s?.type){if(\"CIMPointSymbol\"===s?.type&&s.symbolLayers){const e=r-(s.angle||0);for(const t of s.symbolLayers)if(o(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}s.angle=r}}else s.angle=r}function P(e){const o=t(e);if(!o)return null;switch(o.type){case\"CIMPointSymbol\":return\"CIMPointSymbol\";case\"CIMLineSymbol\":return\"CIMLineSymbol\";case\"CIMPolygonSymbol\":return\"CIMPolygonSymbol\";case\"CIMTextSymbol\":return\"CIMTextSymbol\";case\"CIMMeshSymbol\":return\"CIMMeshSymbol\";default:return null}}export{I as applyCIMSymbolColor,h as applyCIMSymbolRotation,C as getCIMSymbolColor,p as getCIMSymbolRotation,i as getCIMSymbolSize,P as getCIMSymbolType,m as scaleCIMMarker,l as scaleCIMSymbol,c as scaleCIMSymbolTo};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}