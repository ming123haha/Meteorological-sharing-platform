{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../../Color.js\";\nimport { isSome as t } from \"../../../../../../core/maybe.js\";\nimport { pt2px as o } from \"../../../../../../core/screenUtils.js\";\nimport { writeColor as r } from \"../../color.js\";\nimport { CHART_MAX_FIELDS as a } from \"../../definitions.js\";\nimport { Technique as n } from \"../Technique.js\";\nimport { DataType as i } from \"../../../../../webgl/enums.js\";\n\nclass l extends n {\n  static getStorageSpec({\n    attributes: e\n  }) {\n    return {\n      visualVariables: !0,\n      attributes: e ?? null\n    };\n  }\n\n  static _createRendererSchema() {\n    return {\n      type: \"pie-chart\",\n      colors: new Float32Array(4 * a),\n      defaultColor: new Float32Array(4),\n      othersColor: new Float32Array(4),\n      outlineColor: new Float32Array(4),\n      holePercentage: 0,\n      sectorThreshold: 0,\n      outlineWidth: 1,\n      numberOfFields: 10\n    };\n  }\n\n  static createOrUpdateRendererSchema(n, i) {\n    const {\n      attributes: l,\n      defaultColor: s,\n      holePercentage: c,\n      othersCategory: m,\n      outline: u\n    } = i,\n          d = t(n) && \"pie-chart\" === n.type ? n : this._createRendererSchema();\n\n    for (let t = 0; t < a; t++) {\n      const o = t >= l.length ? new e([0, 0, 0, 0]) : l[t].color;\n      r(d.colors, o, 4 * t);\n    }\n\n    return r(d.defaultColor, s), r(d.othersColor, m?.color), r(d.outlineColor, u?.color), d.outlineWidth = o(u?.width || 0), d.holePercentage = c, d.sectorThreshold = m?.threshold || 0, d.numberOfFields = l.length, d;\n  }\n\n  static getVariation(e) {\n    return {\n      numberOfFields: e.numberOfFields\n    };\n  }\n\n  static getVariationHash(e) {\n    return e.numberOfFields;\n  }\n\n}\n\nl.type = \"pie-chart\", l.programSpec = {\n  shader: \"materials/pie\",\n  vertexLayout: {\n    geometry: [{\n      location: 0,\n      name: \"a_pos\",\n      count: 2,\n      type: i.SHORT\n    }, {\n      location: 1,\n      name: \"a_vertexOffset\",\n      count: 2,\n      type: i.SHORT\n    }, {\n      location: 2,\n      name: \"a_texCoords\",\n      count: 2,\n      type: i.UNSIGNED_SHORT\n    }, {\n      location: 3,\n      name: \"a_bitSetAndDistRatio\",\n      count: 2,\n      type: i.UNSIGNED_SHORT\n    }, {\n      location: 4,\n      name: \"a_id\",\n      count: 4,\n      type: i.UNSIGNED_BYTE\n    }, {\n      location: 5,\n      name: \"a_color\",\n      count: 4,\n      type: i.UNSIGNED_BYTE,\n      normalized: !0\n    }, {\n      location: 6,\n      name: \"a_outlineColor\",\n      count: 4,\n      type: i.UNSIGNED_BYTE,\n      normalized: !0\n    }, {\n      location: 7,\n      name: \"a_sizeAndOutlineWidth\",\n      count: 4,\n      type: i.UNSIGNED_BYTE\n    }, {\n      location: 8,\n      name: \"a_zoomRange\",\n      count: 2,\n      type: i.UNSIGNED_SHORT\n    }]\n  },\n  hittestAttributes: [\"a_vertexOffset\", \"a_texCoords\"]\n};\nexport { l as PieChartTechnique };","map":{"version":3,"names":["e","isSome","t","pt2px","o","writeColor","r","CHART_MAX_FIELDS","a","Technique","n","DataType","i","l","getStorageSpec","attributes","visualVariables","_createRendererSchema","type","colors","Float32Array","defaultColor","othersColor","outlineColor","holePercentage","sectorThreshold","outlineWidth","numberOfFields","createOrUpdateRendererSchema","s","c","othersCategory","m","outline","u","d","length","color","width","threshold","getVariation","getVariationHash","programSpec","shader","vertexLayout","geometry","location","name","count","SHORT","UNSIGNED_SHORT","UNSIGNED_BYTE","normalized","hittestAttributes","PieChartTechnique"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/techniques/pieChart/TechniquePieChart.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../Color.js\";import{isSome as t}from\"../../../../../../core/maybe.js\";import{pt2px as o}from\"../../../../../../core/screenUtils.js\";import{writeColor as r}from\"../../color.js\";import{CHART_MAX_FIELDS as a}from\"../../definitions.js\";import{Technique as n}from\"../Technique.js\";import{DataType as i}from\"../../../../../webgl/enums.js\";class l extends n{static getStorageSpec({attributes:e}){return{visualVariables:!0,attributes:e??null}}static _createRendererSchema(){return{type:\"pie-chart\",colors:new Float32Array(4*a),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}static createOrUpdateRendererSchema(n,i){const{attributes:l,defaultColor:s,holePercentage:c,othersCategory:m,outline:u}=i,d=t(n)&&\"pie-chart\"===n.type?n:this._createRendererSchema();for(let t=0;t<a;t++){const o=t>=l.length?new e([0,0,0,0]):l[t].color;r(d.colors,o,4*t)}return r(d.defaultColor,s),r(d.othersColor,m?.color),r(d.outlineColor,u?.color),d.outlineWidth=o(u?.width||0),d.holePercentage=c,d.sectorThreshold=m?.threshold||0,d.numberOfFields=l.length,d}static getVariation(e){return{numberOfFields:e.numberOfFields}}static getVariationHash(e){return e.numberOfFields}}l.type=\"pie-chart\",l.programSpec={shader:\"materials/pie\",vertexLayout:{geometry:[{location:0,name:\"a_pos\",count:2,type:i.SHORT},{location:1,name:\"a_vertexOffset\",count:2,type:i.SHORT},{location:2,name:\"a_texCoords\",count:2,type:i.UNSIGNED_SHORT},{location:3,name:\"a_bitSetAndDistRatio\",count:2,type:i.UNSIGNED_SHORT},{location:4,name:\"a_id\",count:4,type:i.UNSIGNED_BYTE},{location:5,name:\"a_color\",count:4,type:i.UNSIGNED_BYTE,normalized:!0},{location:6,name:\"a_outlineColor\",count:4,type:i.UNSIGNED_BYTE,normalized:!0},{location:7,name:\"a_sizeAndOutlineWidth\",count:4,type:i.UNSIGNED_BYTE},{location:8,name:\"a_zoomRange\",count:2,type:i.UNSIGNED_SHORT}]},hittestAttributes:[\"a_vertexOffset\",\"a_texCoords\"]};export{l as PieChartTechnique};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}