{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../Graphic.js\";\nimport t from \"../../core/Collection.js\";\nimport a from \"../../core/Error.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport { isSome as s, isNone as i } from \"../../core/maybe.js\";\nimport { dataComponents as o } from \"../../core/urlUtils.js\";\nimport { generateUUID as d } from \"../../core/uuid.js\";\nimport { normalizeCentralMeridian as n } from \"../../geometry/support/normalizeUtils.js\";\nimport { isEditBusLayer as l, editEventBus as u } from \"../mixins/EditBusLayer.js\";\nimport { AssetType as p } from \"../support/infoFor3D.js\";\n\nfunction c(e) {\n  return e && null != e.applyEdits;\n}\n\nasync function h(e, t, a, s = {}) {\n  let i, o;\n  const d = {\n    edits: a,\n    result: new Promise((e, t) => {\n      i = e, o = t;\n    })\n  };\n  e.emit(\"apply-edits\", d);\n\n  try {\n    const {\n      results: o,\n      edits: d\n    } = await m(e, t, a, s),\n          n = e => e.filter(e => !e.error).map(r),\n          p = {\n      edits: d,\n      addedFeatures: n(o.addFeatureResults),\n      updatedFeatures: n(o.updateFeatureResults),\n      deletedFeatures: n(o.deleteFeatureResults),\n      addedAttachments: n(o.addAttachmentResults),\n      updatedAttachments: n(o.updateAttachmentResults),\n      deletedAttachments: n(o.deleteAttachmentResults)\n    };\n\n    return o.editedFeatureResults?.length && (p.editedFeatures = o.editedFeatureResults), (p.addedFeatures.length || p.updatedFeatures.length || p.deletedFeatures.length || p.addedAttachments.length || p.updatedAttachments.length || p.deletedAttachments.length) && (e.emit(\"edits\", p), l(e) && u.emit(\"edits\", {\n      layer: e,\n      event: p\n    })), i(p), o;\n  } catch (n) {\n    throw o(n), n;\n  }\n}\n\nasync function m(e, t, r, s) {\n  if (await e.load(), !c(t)) throw new a(`${e.type}-layer:no-editing-support`, \"Layer source does not support applyEdits capability\", {\n    layer: e\n  });\n  if (!e.editingEnabled) throw new a(`${e.type}-layer:editing-disabled`, \"Editing is disabled for layer\", {\n    layer: e\n  });\n  const {\n    edits: i,\n    options: o\n  } = await y(e, r, s);\n  return i.addFeatures.length || i.updateFeatures.length || i.deleteFeatures.length || i.addAttachments.length || i.updateAttachments.length || i.deleteAttachments.length ? {\n    edits: i,\n    results: await t.applyEdits(i, o)\n  } : {\n    edits: i,\n    results: {\n      addFeatureResults: [],\n      updateFeatureResults: [],\n      deleteFeatureResults: [],\n      addAttachmentResults: [],\n      updateAttachmentResults: [],\n      deleteAttachmentResults: []\n    }\n  };\n}\n\nasync function y(e, r, i) {\n  const o = r && (r.addFeatures || r.updateFeatures || r.deleteFeatures),\n        d = r && (r.addAttachments || r.updateAttachments || r.deleteAttachments),\n        n = s(e.infoFor3D);\n  if (!r || !o && !d) throw new a(`${e.type}-layer:missing-parameters`, \"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");\n  if (!e.capabilities.data.isVersioned && i && i.gdbVersion) throw new a(`${e.type}-layer:invalid-parameter`, \"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");\n  if (!e.capabilities.editing.supportsRollbackOnFailure && i && i.rollbackOnFailureEnabled) throw new a(`${e.type}-layer:invalid-parameter`, \"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");\n  if (!e.capabilities.editing.supportsGlobalId && i && i.globalIdUsed) throw new a(`${e.type}-layer:invalid-parameter`, \"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");\n  if (!e.capabilities.editing.supportsGlobalId && d) throw new a(`${e.type}-layer:invalid-parameter`, \"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");\n  if ((!i || !i.globalIdUsed) && d) throw new a(`${e.type}-layer:invalid-parameter`, \"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");\n  const l = { ...i\n  };\n  if (null != l.rollbackOnFailureEnabled || e.capabilities.editing.supportsRollbackOnFailure || (l.rollbackOnFailureEnabled = !0), !1 === l.rollbackOnFailureEnabled && \"original-and-current-features\" === l.returnServiceEditsOption) throw new a(`${e.type}-layer:invalid-parameter`, \"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true.\");\n  if (!e.capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference && l.returnServiceEditsInSourceSR) throw new a(`${e.type}-layer:invalid-parameter`, \"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");\n  if (l.returnServiceEditsInSourceSR && \"original-and-current-features\" !== l.returnServiceEditsOption) throw new a(`${e.type}-layer:invalid-parameter`, \"'returnServiceEditsOption' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");\n  const u = { ...r\n  };\n  if (u.addFeatures = r && t.isCollection(r.addFeatures) ? r.addFeatures.toArray() : u.addFeatures || [], u.updateFeatures = r && t.isCollection(r.updateFeatures) ? r.updateFeatures.toArray() : u.updateFeatures || [], u.deleteFeatures = r && t.isCollection(r.deleteFeatures) ? r.deleteFeatures.toArray() : u.deleteFeatures || [], u.addFeatures.length && !e.capabilities.operations.supportsAdd) throw new a(`${e.type}-layer:unsupported-operation`, \"Layer does not support adding features.\");\n  if (u.updateFeatures.length && !e.capabilities.operations.supportsUpdate) throw new a(`${e.type}-layer:unsupported-operation`, \"Layer does not support updating features.\");\n  if (u.deleteFeatures.length && !e.capabilities.operations.supportsDelete) throw new a(`${e.type}-layer:unsupported-operation`, \"Layer does not support deleting features.\");\n  u.addAttachments = u.addAttachments || [], u.updateAttachments = u.updateAttachments || [], u.deleteAttachments = u.deleteAttachments || [], u.addFeatures = u.addFeatures.map(v), u.updateFeatures = u.updateFeatures.map(v), u.addAssets = [];\n  const p = i && i.globalIdUsed || n;\n  u.addFeatures.forEach(t => g(t, e, p)), u.updateFeatures.forEach(t => F(t, e, p)), u.deleteFeatures.forEach(t => b(t, e, p)), u.addAttachments.forEach(t => w(t, e)), u.updateAttachments.forEach(t => w(t, e)), n && (await I(u, e));\n  return {\n    edits: await A(u),\n    options: l\n  };\n}\n\nfunction f(e, t, r) {\n  if (r) {\n    if (\"attributes\" in e && !e.attributes[t.globalIdField]) throw new a(`${t.type}-layer:invalid-parameter`, \"Feature should have 'globalId' when 'globalIdUsed' is true\");\n    if (!(\"attributes\" in e) && !e.globalId) throw new a(`${t.type}-layer:invalid-parameter`, \"'globalId' of the feature should be passed when 'globalIdUsed' is true\");\n  }\n\n  if (\"geometry\" in e && s(e.geometry)) {\n    if (e.geometry.hasZ && !1 === t.capabilities.data.supportsZ) throw new a(`${t.type}-layer:z-unsupported`, \"Layer does not support z values while feature has z values.\");\n    if (e.geometry.hasM && !1 === t.capabilities.data.supportsM) throw new a(`${t.type}-layer:m-unsupported`, \"Layer does not support m values while feature has m values.\");\n  }\n}\n\nfunction g(e, t, a) {\n  f(e, t, a);\n}\n\nfunction b(e, t, a) {\n  f(e, t, a);\n}\n\nfunction F(e, t, r) {\n  if (f(e, t, r), \"geometry\" in e && s(e.geometry) && !t.capabilities.editing.supportsGeometryUpdate) throw new a(`${t.type}-layer:unsupported-operation`, \"Layer does not support geometry updates.\");\n}\n\nfunction w(e, t) {\n  const {\n    feature: r,\n    attachment: s\n  } = e;\n  if (!r || \"attributes\" in r && !r.attributes[t.globalIdField]) throw new a(`${t.type}-layer:invalid-parameter`, \"Attachment should have reference to a feature with 'globalId'\");\n  if (!(\"attributes\" in r) && !r.globalId) throw new a(`${t.type}-layer:invalid-parameter`, \"Attachment should have reference to 'globalId' of the parent feature\");\n  if (!s.globalId) throw new a(`${t.type}-layer:invalid-parameter`, \"Attachment should have 'globalId'\");\n  if (!s.data && !s.uploadId) throw new a(`${t.type}-layer:invalid-parameter`, \"Attachment should have 'data' or 'uploadId'\");\n  if (!(s.data instanceof File && !!s.data.name) && !s.name) throw new a(`${t.type}-layer:invalid-parameter`, \"'name' is required when attachment is specified as Base64 encoded string using 'data'\");\n  if (!t.capabilities.editing.supportsUploadWithItemId && s.uploadId) throw new a(`${t.type}-layer:invalid-parameter`, \"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");\n\n  if (\"string\" == typeof s.data) {\n    const e = o(s.data);\n    if (e && !e.isBase64) throw new a(`${t.type}-layer:invalid-parameter`, \"Attachment 'data' should be a Blob, File or Base64 encoded string\");\n  }\n}\n\nasync function A(e) {\n  const t = e.addFeatures,\n        a = e.updateFeatures,\n        r = t.concat(a).map(e => e.geometry),\n        s = await n(r),\n        i = t.length,\n        o = a.length;\n  return s.slice(0, i).forEach((t, a) => e.addFeatures[a].geometry = t), s.slice(i, i + o).forEach((t, a) => e.updateFeatures[a].geometry = t), e;\n}\n\nfunction v(t) {\n  const a = new e();\n  return t.attributes || (t.attributes = {}), a.geometry = t.geometry, a.attributes = t.attributes, a;\n}\n\nasync function I(e, t) {\n  if (i(t.infoFor3D)) return;\n  const {\n    infoFor3D: a\n  } = t;\n  let r = !1;\n\n  for (const i of a.editFormats) if (i === p.GLTF_BINARY) {\n    r = !0;\n    break;\n  }\n\n  const s = [];\n\n  for (const i of e.addFeatures) s.push(E(i, e, t, r));\n\n  for (const i of e.updateFeatures) s.push(E(i, e, t, r));\n\n  const o = await Promise.allSettled(s);\n\n  for (const i of o) if (\"rejected\" === i.status) throw i.reason;\n}\n\nasync function E(e, t, r, o) {\n  if (i(e.geometry) || \"mesh\" !== e.geometry.type) return;\n  const n = e.geometry,\n        l = r.globalIdField;\n  if (s(r.parsedUrl) && s(n.external) && Array.isArray(n.external.source) && 1 === n.external.source.length && \"source\" in n.external.source[0] && \"string\" == typeof n.external.source[0].source && n.external.source[0].source.startsWith(r.parsedUrl.path)) return;\n  if (!o) throw new a(`${r.type}-layer:binary-gltf-asset-not-supported`, \"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");\n  const u = await n.toBinaryGLTF(),\n        c = await u.buffer(),\n        h = `{${d()}}`,\n        m = `${h}.glb`;\n  t.addAssets.push({\n    featureGlobalId: e.getAttribute(l),\n    assetMapGlobalId: h,\n    assetName: m,\n    flags: 0,\n    data: c.data,\n    mimeType: c.type,\n    assetType: p.GLTF_BINARY,\n    feature: e\n  });\n}\n\nexport { h as applyEdits };","map":{"version":3,"names":["e","t","a","clone","r","isSome","s","isNone","i","dataComponents","o","generateUUID","d","normalizeCentralMeridian","n","isEditBusLayer","l","editEventBus","u","AssetType","p","c","applyEdits","h","edits","result","Promise","emit","results","m","filter","error","map","addedFeatures","addFeatureResults","updatedFeatures","updateFeatureResults","deletedFeatures","deleteFeatureResults","addedAttachments","addAttachmentResults","updatedAttachments","updateAttachmentResults","deletedAttachments","deleteAttachmentResults","editedFeatureResults","length","editedFeatures","layer","event","load","type","editingEnabled","options","y","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","capabilities","data","isVersioned","gdbVersion","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsGlobalId","globalIdUsed","returnServiceEditsOption","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","isCollection","toArray","operations","supportsAdd","supportsUpdate","supportsDelete","v","addAssets","forEach","g","F","b","w","I","A","f","attributes","globalIdField","globalId","geometry","hasZ","supportsZ","hasM","supportsM","supportsGeometryUpdate","feature","attachment","uploadId","File","name","supportsUploadWithItemId","isBase64","concat","slice","editFormats","GLTF_BINARY","push","E","allSettled","status","reason","parsedUrl","external","Array","isArray","source","startsWith","path","toBinaryGLTF","buffer","featureGlobalId","getAttribute","assetMapGlobalId","assetName","flags","mimeType","assetType"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import{isSome as s,isNone as i}from\"../../core/maybe.js\";import{dataComponents as o}from\"../../core/urlUtils.js\";import{generateUUID as d}from\"../../core/uuid.js\";import{normalizeCentralMeridian as n}from\"../../geometry/support/normalizeUtils.js\";import{isEditBusLayer as l,editEventBus as u}from\"../mixins/EditBusLayer.js\";import{AssetType as p}from\"../support/infoFor3D.js\";function c(e){return e&&null!=e.applyEdits}async function h(e,t,a,s={}){let i,o;const d={edits:a,result:new Promise(((e,t)=>{i=e,o=t}))};e.emit(\"apply-edits\",d);try{const{results:o,edits:d}=await m(e,t,a,s),n=e=>e.filter((e=>!e.error)).map(r),p={edits:d,addedFeatures:n(o.addFeatureResults),updatedFeatures:n(o.updateFeatureResults),deletedFeatures:n(o.deleteFeatureResults),addedAttachments:n(o.addAttachmentResults),updatedAttachments:n(o.updateAttachmentResults),deletedAttachments:n(o.deleteAttachmentResults)};return o.editedFeatureResults?.length&&(p.editedFeatures=o.editedFeatureResults),(p.addedFeatures.length||p.updatedFeatures.length||p.deletedFeatures.length||p.addedAttachments.length||p.updatedAttachments.length||p.deletedAttachments.length)&&(e.emit(\"edits\",p),l(e)&&u.emit(\"edits\",{layer:e,event:p})),i(p),o}catch(n){throw o(n),n}}async function m(e,t,r,s){if(await e.load(),!c(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!e.editingEnabled)throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:o}=await y(e,r,s);return i.addFeatures.length||i.updateFeatures.length||i.deleteFeatures.length||i.addAttachments.length||i.updateAttachments.length||i.deleteAttachments.length?{edits:i,results:await t.applyEdits(i,o)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function y(e,r,i){const o=r&&(r.addFeatures||r.updateFeatures||r.deleteFeatures),d=r&&(r.addAttachments||r.updateAttachments||r.deleteAttachments),n=s(e.infoFor3D);if(!r||!o&&!d)throw new a(`${e.type}-layer:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!e.capabilities.data.isVersioned&&i&&i.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!e.capabilities.editing.supportsRollbackOnFailure&&i&&i.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");if(!e.capabilities.editing.supportsGlobalId&&i&&i.globalIdUsed)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!e.capabilities.editing.supportsGlobalId&&d)throw new a(`${e.type}-layer:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if((!i||!i.globalIdUsed)&&d)throw new a(`${e.type}-layer:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");const l={...i};if(null!=l.rollbackOnFailureEnabled||e.capabilities.editing.supportsRollbackOnFailure||(l.rollbackOnFailureEnabled=!0),!1===l.rollbackOnFailureEnabled&&\"original-and-current-features\"===l.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true.\");if(!e.capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference&&l.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(l.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==l.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsOption' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u={...r};if(u.addFeatures=r&&t.isCollection(r.addFeatures)?r.addFeatures.toArray():u.addFeatures||[],u.updateFeatures=r&&t.isCollection(r.updateFeatures)?r.updateFeatures.toArray():u.updateFeatures||[],u.deleteFeatures=r&&t.isCollection(r.deleteFeatures)?r.deleteFeatures.toArray():u.deleteFeatures||[],u.addFeatures.length&&!e.capabilities.operations.supportsAdd)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support adding features.\");if(u.updateFeatures.length&&!e.capabilities.operations.supportsUpdate)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support updating features.\");if(u.deleteFeatures.length&&!e.capabilities.operations.supportsDelete)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support deleting features.\");u.addAttachments=u.addAttachments||[],u.updateAttachments=u.updateAttachments||[],u.deleteAttachments=u.deleteAttachments||[],u.addFeatures=u.addFeatures.map(v),u.updateFeatures=u.updateFeatures.map(v),u.addAssets=[];const p=i&&i.globalIdUsed||n;u.addFeatures.forEach((t=>g(t,e,p))),u.updateFeatures.forEach((t=>F(t,e,p))),u.deleteFeatures.forEach((t=>b(t,e,p))),u.addAttachments.forEach((t=>w(t,e))),u.updateAttachments.forEach((t=>w(t,e))),n&&await I(u,e);return{edits:await A(u),options:l}}function f(e,t,r){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Feature should have 'globalId' when 'globalIdUsed' is true\");if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(\"geometry\"in e&&s(e.geometry)){if(e.geometry.hasZ&&!1===t.capabilities.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function g(e,t,a){f(e,t,a)}function b(e,t,a){f(e,t,a)}function F(e,t,r){if(f(e,t,r),\"geometry\"in e&&s(e.geometry)&&!t.capabilities.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function w(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=o(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}async function A(e){const t=e.addFeatures,a=e.updateFeatures,r=t.concat(a).map((e=>e.geometry)),s=await n(r),i=t.length,o=a.length;return s.slice(0,i).forEach(((t,a)=>e.addFeatures[a].geometry=t)),s.slice(i,i+o).forEach(((t,a)=>e.updateFeatures[a].geometry=t)),e}function v(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function I(e,t){if(i(t.infoFor3D))return;const{infoFor3D:a}=t;let r=!1;for(const i of a.editFormats)if(i===p.GLTF_BINARY){r=!0;break}const s=[];for(const i of e.addFeatures)s.push(E(i,e,t,r));for(const i of e.updateFeatures)s.push(E(i,e,t,r));const o=await Promise.allSettled(s);for(const i of o)if(\"rejected\"===i.status)throw i.reason}async function E(e,t,r,o){if(i(e.geometry)||\"mesh\"!==e.geometry.type)return;const n=e.geometry,l=r.globalIdField;if(s(r.parsedUrl)&&s(n.external)&&Array.isArray(n.external.source)&&1===n.external.source.length&&\"source\"in n.external.source[0]&&\"string\"==typeof n.external.source[0].source&&n.external.source[0].source.startsWith(r.parsedUrl.path))return;if(!o)throw new a(`${r.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");const u=await n.toBinaryGLTF(),c=await u.buffer(),h=`{${d()}}`,m=`${h}.glb`;t.addAssets.push({featureGlobalId:e.getAttribute(l),assetMapGlobalId:h,assetName:m,flags:0,data:c.data,mimeType:c.type,assetType:p.GLTF_BINARY,feature:e})}export{h as applyEdits};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,0BAAb;AAAwC,OAAOC,CAAP,MAAa,qBAAb;AAAmC,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,oBAAtB;AAA2C,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,qBAAnC;AAAyD,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,wBAA/B;AAAwD,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,oBAA7B;AAAkD,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,0CAAzC;AAAoF,SAAOC,cAAc,IAAIC,CAAzB,EAA2BC,YAAY,IAAIC,CAA3C,QAAiD,2BAAjD;AAA6E,SAAOC,SAAS,IAAIC,CAApB,QAA0B,yBAA1B;;AAAoD,SAASC,CAAT,CAAWrB,CAAX,EAAa;EAAC,OAAOA,CAAC,IAAE,QAAMA,CAAC,CAACsB,UAAlB;AAA6B;;AAAA,eAAeC,CAAf,CAAiBvB,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuBI,CAAC,GAAC,EAAzB,EAA4B;EAAC,IAAIE,CAAJ,EAAME,CAAN;EAAQ,MAAME,CAAC,GAAC;IAACY,KAAK,EAACtB,CAAP;IAASuB,MAAM,EAAC,IAAIC,OAAJ,CAAa,CAAC1B,CAAD,EAAGC,CAAH,KAAO;MAACO,CAAC,GAACR,CAAF,EAAIU,CAAC,GAACT,CAAN;IAAQ,CAA7B;EAAhB,CAAR;EAAyDD,CAAC,CAAC2B,IAAF,CAAO,aAAP,EAAqBf,CAArB;;EAAwB,IAAG;IAAC,MAAK;MAACgB,OAAO,EAAClB,CAAT;MAAWc,KAAK,EAACZ;IAAjB,IAAoB,MAAMiB,CAAC,CAAC7B,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAOI,CAAP,CAAhC;IAAA,MAA0CQ,CAAC,GAACd,CAAC,IAAEA,CAAC,CAAC8B,MAAF,CAAU9B,CAAC,IAAE,CAACA,CAAC,CAAC+B,KAAhB,EAAwBC,GAAxB,CAA4B5B,CAA5B,CAA/C;IAAA,MAA8EgB,CAAC,GAAC;MAACI,KAAK,EAACZ,CAAP;MAASqB,aAAa,EAACnB,CAAC,CAACJ,CAAC,CAACwB,iBAAH,CAAxB;MAA8CC,eAAe,EAACrB,CAAC,CAACJ,CAAC,CAAC0B,oBAAH,CAA/D;MAAwFC,eAAe,EAACvB,CAAC,CAACJ,CAAC,CAAC4B,oBAAH,CAAzG;MAAkIC,gBAAgB,EAACzB,CAAC,CAACJ,CAAC,CAAC8B,oBAAH,CAApJ;MAA6KC,kBAAkB,EAAC3B,CAAC,CAACJ,CAAC,CAACgC,uBAAH,CAAjM;MAA6NC,kBAAkB,EAAC7B,CAAC,CAACJ,CAAC,CAACkC,uBAAH;IAAjP,CAAhF;;IAA8V,OAAOlC,CAAC,CAACmC,oBAAF,EAAwBC,MAAxB,KAAiC1B,CAAC,CAAC2B,cAAF,GAAiBrC,CAAC,CAACmC,oBAApD,GAA0E,CAACzB,CAAC,CAACa,aAAF,CAAgBa,MAAhB,IAAwB1B,CAAC,CAACe,eAAF,CAAkBW,MAA1C,IAAkD1B,CAAC,CAACiB,eAAF,CAAkBS,MAApE,IAA4E1B,CAAC,CAACmB,gBAAF,CAAmBO,MAA/F,IAAuG1B,CAAC,CAACqB,kBAAF,CAAqBK,MAA5H,IAAoI1B,CAAC,CAACuB,kBAAF,CAAqBG,MAA1J,MAAoK9C,CAAC,CAAC2B,IAAF,CAAO,OAAP,EAAeP,CAAf,GAAkBJ,CAAC,CAAChB,CAAD,CAAD,IAAMkB,CAAC,CAACS,IAAF,CAAO,OAAP,EAAe;MAACqB,KAAK,EAAChD,CAAP;MAASiD,KAAK,EAAC7B;IAAf,CAAf,CAA5L,CAA1E,EAAySZ,CAAC,CAACY,CAAD,CAA1S,EAA8SV,CAArT;EAAuT,CAAzpB,CAAypB,OAAMI,CAAN,EAAQ;IAAC,MAAMJ,CAAC,CAACI,CAAD,CAAD,EAAKA,CAAX;EAAa;AAAC;;AAAA,eAAee,CAAf,CAAiB7B,CAAjB,EAAmBC,CAAnB,EAAqBG,CAArB,EAAuBE,CAAvB,EAAyB;EAAC,IAAG,MAAMN,CAAC,CAACkD,IAAF,EAAN,EAAe,CAAC7B,CAAC,CAACpB,CAAD,CAApB,EAAwB,MAAM,IAAIC,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,2BAAhB,EAA2C,qDAA3C,EAAiG;IAACH,KAAK,EAAChD;EAAP,CAAjG,CAAN;EAAkH,IAAG,CAACA,CAAC,CAACoD,cAAN,EAAqB,MAAM,IAAIlD,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,yBAAhB,EAAyC,+BAAzC,EAAyE;IAACH,KAAK,EAAChD;EAAP,CAAzE,CAAN;EAA0F,MAAK;IAACwB,KAAK,EAAChB,CAAP;IAAS6C,OAAO,EAAC3C;EAAjB,IAAoB,MAAM4C,CAAC,CAACtD,CAAD,EAAGI,CAAH,EAAKE,CAAL,CAAhC;EAAwC,OAAOE,CAAC,CAAC+C,WAAF,CAAcT,MAAd,IAAsBtC,CAAC,CAACgD,cAAF,CAAiBV,MAAvC,IAA+CtC,CAAC,CAACiD,cAAF,CAAiBX,MAAhE,IAAwEtC,CAAC,CAACkD,cAAF,CAAiBZ,MAAzF,IAAiGtC,CAAC,CAACmD,iBAAF,CAAoBb,MAArH,IAA6HtC,CAAC,CAACoD,iBAAF,CAAoBd,MAAjJ,GAAwJ;IAACtB,KAAK,EAAChB,CAAP;IAASoB,OAAO,EAAC,MAAM3B,CAAC,CAACqB,UAAF,CAAad,CAAb,EAAeE,CAAf;EAAvB,CAAxJ,GAAkM;IAACc,KAAK,EAAChB,CAAP;IAASoB,OAAO,EAAC;MAACM,iBAAiB,EAAC,EAAnB;MAAsBE,oBAAoB,EAAC,EAA3C;MAA8CE,oBAAoB,EAAC,EAAnE;MAAsEE,oBAAoB,EAAC,EAA3F;MAA8FE,uBAAuB,EAAC,EAAtH;MAAyHE,uBAAuB,EAAC;IAAjJ;EAAjB,CAAzM;AAAgX;;AAAA,eAAeU,CAAf,CAAiBtD,CAAjB,EAAmBI,CAAnB,EAAqBI,CAArB,EAAuB;EAAC,MAAME,CAAC,GAACN,CAAC,KAAGA,CAAC,CAACmD,WAAF,IAAenD,CAAC,CAACoD,cAAjB,IAAiCpD,CAAC,CAACqD,cAAtC,CAAT;EAAA,MAA+D7C,CAAC,GAACR,CAAC,KAAGA,CAAC,CAACsD,cAAF,IAAkBtD,CAAC,CAACuD,iBAApB,IAAuCvD,CAAC,CAACwD,iBAA5C,CAAlE;EAAA,MAAiI9C,CAAC,GAACR,CAAC,CAACN,CAAC,CAAC6D,SAAH,CAApI;EAAkJ,IAAG,CAACzD,CAAD,IAAI,CAACM,CAAD,IAAI,CAACE,CAAZ,EAAc,MAAM,IAAIV,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,2BAAhB,EAA2C,uIAA3C,CAAN;EAA0L,IAAG,CAACnD,CAAC,CAAC8D,YAAF,CAAeC,IAAf,CAAoBC,WAArB,IAAkCxD,CAAlC,IAAqCA,CAAC,CAACyD,UAA1C,EAAqD,MAAM,IAAI/D,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,4GAA1C,CAAN;EAA8J,IAAG,CAACnD,CAAC,CAAC8D,YAAF,CAAeI,OAAf,CAAuBC,yBAAxB,IAAmD3D,CAAnD,IAAsDA,CAAC,CAAC4D,wBAA3D,EAAoF,MAAM,IAAIlE,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,yHAA1C,CAAN;EAA2K,IAAG,CAACnD,CAAC,CAAC8D,YAAF,CAAeI,OAAf,CAAuBG,gBAAxB,IAA0C7D,CAA1C,IAA6CA,CAAC,CAAC8D,YAAlD,EAA+D,MAAM,IAAIpE,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,oGAA1C,CAAN;EAAsJ,IAAG,CAACnD,CAAC,CAAC8D,YAAF,CAAeI,OAAf,CAAuBG,gBAAxB,IAA0CzD,CAA7C,EAA+C,MAAM,IAAIV,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,kKAA1C,CAAN;EAAoN,IAAG,CAAC,CAAC3C,CAAD,IAAI,CAACA,CAAC,CAAC8D,YAAR,KAAuB1D,CAA1B,EAA4B,MAAM,IAAIV,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,oHAA1C,CAAN;EAAsK,MAAMnC,CAAC,GAAC,EAAC,GAAGR;EAAJ,CAAR;EAAe,IAAG,QAAMQ,CAAC,CAACoD,wBAAR,IAAkCpE,CAAC,CAAC8D,YAAF,CAAeI,OAAf,CAAuBC,yBAAzD,KAAqFnD,CAAC,CAACoD,wBAAF,GAA2B,CAAC,CAAjH,GAAoH,CAAC,CAAD,KAAKpD,CAAC,CAACoD,wBAAP,IAAiC,oCAAkCpD,CAAC,CAACuD,wBAA5L,EAAqN,MAAM,IAAIrE,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,gHAA1C,CAAN;EAAkK,IAAG,CAACnD,CAAC,CAAC8D,YAAF,CAAeI,OAAf,CAAuBM,kDAAxB,IAA4ExD,CAAC,CAACyD,4BAAjF,EAA8G,MAAM,IAAIvE,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,sJAA1C,CAAN;EAAwM,IAAGnC,CAAC,CAACyD,4BAAF,IAAgC,oCAAkCzD,CAAC,CAACuD,wBAAvE,EAAgG,MAAM,IAAIrE,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,0BAAhB,EAA0C,oHAA1C,CAAN;EAAsK,MAAMjC,CAAC,GAAC,EAAC,GAAGd;EAAJ,CAAR;EAAe,IAAGc,CAAC,CAACqC,WAAF,GAAcnD,CAAC,IAAEH,CAAC,CAACyE,YAAF,CAAetE,CAAC,CAACmD,WAAjB,CAAH,GAAiCnD,CAAC,CAACmD,WAAF,CAAcoB,OAAd,EAAjC,GAAyDzD,CAAC,CAACqC,WAAF,IAAe,EAAtF,EAAyFrC,CAAC,CAACsC,cAAF,GAAiBpD,CAAC,IAAEH,CAAC,CAACyE,YAAF,CAAetE,CAAC,CAACoD,cAAjB,CAAH,GAAoCpD,CAAC,CAACoD,cAAF,CAAiBmB,OAAjB,EAApC,GAA+DzD,CAAC,CAACsC,cAAF,IAAkB,EAA3L,EAA8LtC,CAAC,CAACuC,cAAF,GAAiBrD,CAAC,IAAEH,CAAC,CAACyE,YAAF,CAAetE,CAAC,CAACqD,cAAjB,CAAH,GAAoCrD,CAAC,CAACqD,cAAF,CAAiBkB,OAAjB,EAApC,GAA+DzD,CAAC,CAACuC,cAAF,IAAkB,EAAhS,EAAmSvC,CAAC,CAACqC,WAAF,CAAcT,MAAd,IAAsB,CAAC9C,CAAC,CAAC8D,YAAF,CAAec,UAAf,CAA0BC,WAAvV,EAAmW,MAAM,IAAI3E,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,8BAAhB,EAA8C,yCAA9C,CAAN;EAA+F,IAAGjC,CAAC,CAACsC,cAAF,CAAiBV,MAAjB,IAAyB,CAAC9C,CAAC,CAAC8D,YAAF,CAAec,UAAf,CAA0BE,cAAvD,EAAsE,MAAM,IAAI5E,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,8BAAhB,EAA8C,2CAA9C,CAAN;EAAiG,IAAGjC,CAAC,CAACuC,cAAF,CAAiBX,MAAjB,IAAyB,CAAC9C,CAAC,CAAC8D,YAAF,CAAec,UAAf,CAA0BG,cAAvD,EAAsE,MAAM,IAAI7E,CAAJ,CAAO,GAAEF,CAAC,CAACmD,IAAK,8BAAhB,EAA8C,2CAA9C,CAAN;EAAiGjC,CAAC,CAACwC,cAAF,GAAiBxC,CAAC,CAACwC,cAAF,IAAkB,EAAnC,EAAsCxC,CAAC,CAACyC,iBAAF,GAAoBzC,CAAC,CAACyC,iBAAF,IAAqB,EAA/E,EAAkFzC,CAAC,CAAC0C,iBAAF,GAAoB1C,CAAC,CAAC0C,iBAAF,IAAqB,EAA3H,EAA8H1C,CAAC,CAACqC,WAAF,GAAcrC,CAAC,CAACqC,WAAF,CAAcvB,GAAd,CAAkBgD,CAAlB,CAA5I,EAAiK9D,CAAC,CAACsC,cAAF,GAAiBtC,CAAC,CAACsC,cAAF,CAAiBxB,GAAjB,CAAqBgD,CAArB,CAAlL,EAA0M9D,CAAC,CAAC+D,SAAF,GAAY,EAAtN;EAAyN,MAAM7D,CAAC,GAACZ,CAAC,IAAEA,CAAC,CAAC8D,YAAL,IAAmBxD,CAA3B;EAA6BI,CAAC,CAACqC,WAAF,CAAc2B,OAAd,CAAuBjF,CAAC,IAAEkF,CAAC,CAAClF,CAAD,EAAGD,CAAH,EAAKoB,CAAL,CAA3B,GAAqCF,CAAC,CAACsC,cAAF,CAAiB0B,OAAjB,CAA0BjF,CAAC,IAAEmF,CAAC,CAACnF,CAAD,EAAGD,CAAH,EAAKoB,CAAL,CAA9B,CAArC,EAA6EF,CAAC,CAACuC,cAAF,CAAiByB,OAAjB,CAA0BjF,CAAC,IAAEoF,CAAC,CAACpF,CAAD,EAAGD,CAAH,EAAKoB,CAAL,CAA9B,CAA7E,EAAqHF,CAAC,CAACwC,cAAF,CAAiBwB,OAAjB,CAA0BjF,CAAC,IAAEqF,CAAC,CAACrF,CAAD,EAAGD,CAAH,CAA9B,CAArH,EAA2JkB,CAAC,CAACyC,iBAAF,CAAoBuB,OAApB,CAA6BjF,CAAC,IAAEqF,CAAC,CAACrF,CAAD,EAAGD,CAAH,CAAjC,CAA3J,EAAoMc,CAAC,KAAE,MAAMyE,CAAC,CAACrE,CAAD,EAAGlB,CAAH,CAAT,CAArM;EAAoN,OAAM;IAACwB,KAAK,EAAC,MAAMgE,CAAC,CAACtE,CAAD,CAAd;IAAkBmC,OAAO,EAACrC;EAA1B,CAAN;AAAmC;;AAAA,SAASyE,CAAT,CAAWzF,CAAX,EAAaC,CAAb,EAAeG,CAAf,EAAiB;EAAC,IAAGA,CAAH,EAAK;IAAC,IAAG,gBAAeJ,CAAf,IAAkB,CAACA,CAAC,CAAC0F,UAAF,CAAazF,CAAC,CAAC0F,aAAf,CAAtB,EAAoD,MAAM,IAAIzF,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,4DAA1C,CAAN;IAA8G,IAAG,EAAE,gBAAenD,CAAjB,KAAqB,CAACA,CAAC,CAAC4F,QAA3B,EAAoC,MAAM,IAAI1F,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,wEAA1C,CAAN;EAA0H;;EAAA,IAAG,cAAanD,CAAb,IAAgBM,CAAC,CAACN,CAAC,CAAC6F,QAAH,CAApB,EAAiC;IAAC,IAAG7F,CAAC,CAAC6F,QAAF,CAAWC,IAAX,IAAiB,CAAC,CAAD,KAAK7F,CAAC,CAAC6D,YAAF,CAAeC,IAAf,CAAoBgC,SAA7C,EAAuD,MAAM,IAAI7F,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,sBAAhB,EAAsC,6DAAtC,CAAN;IAA2G,IAAGnD,CAAC,CAAC6F,QAAF,CAAWG,IAAX,IAAiB,CAAC,CAAD,KAAK/F,CAAC,CAAC6D,YAAF,CAAeC,IAAf,CAAoBkC,SAA7C,EAAuD,MAAM,IAAI/F,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,sBAAhB,EAAsC,6DAAtC,CAAN;EAA2G;AAAC;;AAAA,SAASgC,CAAT,CAAWnF,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;EAACuF,CAAC,CAACzF,CAAD,EAAGC,CAAH,EAAKC,CAAL,CAAD;AAAS;;AAAA,SAASmF,CAAT,CAAWrF,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;EAACuF,CAAC,CAACzF,CAAD,EAAGC,CAAH,EAAKC,CAAL,CAAD;AAAS;;AAAA,SAASkF,CAAT,CAAWpF,CAAX,EAAaC,CAAb,EAAeG,CAAf,EAAiB;EAAC,IAAGqF,CAAC,CAACzF,CAAD,EAAGC,CAAH,EAAKG,CAAL,CAAD,EAAS,cAAaJ,CAAb,IAAgBM,CAAC,CAACN,CAAC,CAAC6F,QAAH,CAAjB,IAA+B,CAAC5F,CAAC,CAAC6D,YAAF,CAAeI,OAAf,CAAuBgC,sBAAnE,EAA0F,MAAM,IAAIhG,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,8BAAhB,EAA8C,0CAA9C,CAAN;AAAgG;;AAAA,SAASmC,CAAT,CAAWtF,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAK;IAACkG,OAAO,EAAC/F,CAAT;IAAWgG,UAAU,EAAC9F;EAAtB,IAAyBN,CAA9B;EAAgC,IAAG,CAACI,CAAD,IAAI,gBAAeA,CAAf,IAAkB,CAACA,CAAC,CAACsF,UAAF,CAAazF,CAAC,CAAC0F,aAAf,CAA1B,EAAwD,MAAM,IAAIzF,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,+DAA1C,CAAN;EAAiH,IAAG,EAAE,gBAAe/C,CAAjB,KAAqB,CAACA,CAAC,CAACwF,QAA3B,EAAoC,MAAM,IAAI1F,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,sEAA1C,CAAN;EAAwH,IAAG,CAAC7C,CAAC,CAACsF,QAAN,EAAe,MAAM,IAAI1F,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,mCAA1C,CAAN;EAAqF,IAAG,CAAC7C,CAAC,CAACyD,IAAH,IAAS,CAACzD,CAAC,CAAC+F,QAAf,EAAwB,MAAM,IAAInG,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,6CAA1C,CAAN;EAA+F,IAAG,EAAE7C,CAAC,CAACyD,IAAF,YAAkBuC,IAAlB,IAAwB,CAAC,CAAChG,CAAC,CAACyD,IAAF,CAAOwC,IAAnC,KAA0C,CAACjG,CAAC,CAACiG,IAAhD,EAAqD,MAAM,IAAIrG,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,uFAA1C,CAAN;EAAyI,IAAG,CAAClD,CAAC,CAAC6D,YAAF,CAAeI,OAAf,CAAuBsC,wBAAxB,IAAkDlG,CAAC,CAAC+F,QAAvD,EAAgE,MAAM,IAAInG,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,wGAA1C,CAAN;;EAA0J,IAAG,YAAU,OAAO7C,CAAC,CAACyD,IAAtB,EAA2B;IAAC,MAAM/D,CAAC,GAACU,CAAC,CAACJ,CAAC,CAACyD,IAAH,CAAT;IAAkB,IAAG/D,CAAC,IAAE,CAACA,CAAC,CAACyG,QAAT,EAAkB,MAAM,IAAIvG,CAAJ,CAAO,GAAED,CAAC,CAACkD,IAAK,0BAAhB,EAA0C,mEAA1C,CAAN;EAAqH;AAAC;;AAAA,eAAeqC,CAAf,CAAiBxF,CAAjB,EAAmB;EAAC,MAAMC,CAAC,GAACD,CAAC,CAACuD,WAAV;EAAA,MAAsBrD,CAAC,GAACF,CAAC,CAACwD,cAA1B;EAAA,MAAyCpD,CAAC,GAACH,CAAC,CAACyG,MAAF,CAASxG,CAAT,EAAY8B,GAAZ,CAAiBhC,CAAC,IAAEA,CAAC,CAAC6F,QAAtB,CAA3C;EAAA,MAA4EvF,CAAC,GAAC,MAAMQ,CAAC,CAACV,CAAD,CAArF;EAAA,MAAyFI,CAAC,GAACP,CAAC,CAAC6C,MAA7F;EAAA,MAAoGpC,CAAC,GAACR,CAAC,CAAC4C,MAAxG;EAA+G,OAAOxC,CAAC,CAACqG,KAAF,CAAQ,CAAR,EAAUnG,CAAV,EAAa0E,OAAb,CAAsB,CAACjF,CAAD,EAAGC,CAAH,KAAOF,CAAC,CAACuD,WAAF,CAAcrD,CAAd,EAAiB2F,QAAjB,GAA0B5F,CAAvD,GAA2DK,CAAC,CAACqG,KAAF,CAAQnG,CAAR,EAAUA,CAAC,GAACE,CAAZ,EAAewE,OAAf,CAAwB,CAACjF,CAAD,EAAGC,CAAH,KAAOF,CAAC,CAACwD,cAAF,CAAiBtD,CAAjB,EAAoB2F,QAApB,GAA6B5F,CAA5D,CAA3D,EAA2HD,CAAlI;AAAoI;;AAAA,SAASgF,CAAT,CAAW/E,CAAX,EAAa;EAAC,MAAMC,CAAC,GAAC,IAAIF,CAAJ,EAAR;EAAc,OAAOC,CAAC,CAACyF,UAAF,KAAezF,CAAC,CAACyF,UAAF,GAAa,EAA5B,GAAgCxF,CAAC,CAAC2F,QAAF,GAAW5F,CAAC,CAAC4F,QAA7C,EAAsD3F,CAAC,CAACwF,UAAF,GAAazF,CAAC,CAACyF,UAArE,EAAgFxF,CAAvF;AAAyF;;AAAA,eAAeqF,CAAf,CAAiBvF,CAAjB,EAAmBC,CAAnB,EAAqB;EAAC,IAAGO,CAAC,CAACP,CAAC,CAAC4D,SAAH,CAAJ,EAAkB;EAAO,MAAK;IAACA,SAAS,EAAC3D;EAAX,IAAcD,CAAnB;EAAqB,IAAIG,CAAC,GAAC,CAAC,CAAP;;EAAS,KAAI,MAAMI,CAAV,IAAeN,CAAC,CAAC0G,WAAjB,EAA6B,IAAGpG,CAAC,KAAGY,CAAC,CAACyF,WAAT,EAAqB;IAACzG,CAAC,GAAC,CAAC,CAAH;IAAK;EAAM;;EAAA,MAAME,CAAC,GAAC,EAAR;;EAAW,KAAI,MAAME,CAAV,IAAeR,CAAC,CAACuD,WAAjB,EAA6BjD,CAAC,CAACwG,IAAF,CAAOC,CAAC,CAACvG,CAAD,EAAGR,CAAH,EAAKC,CAAL,EAAOG,CAAP,CAAR;;EAAmB,KAAI,MAAMI,CAAV,IAAeR,CAAC,CAACwD,cAAjB,EAAgClD,CAAC,CAACwG,IAAF,CAAOC,CAAC,CAACvG,CAAD,EAAGR,CAAH,EAAKC,CAAL,EAAOG,CAAP,CAAR;;EAAmB,MAAMM,CAAC,GAAC,MAAMgB,OAAO,CAACsF,UAAR,CAAmB1G,CAAnB,CAAd;;EAAoC,KAAI,MAAME,CAAV,IAAeE,CAAf,EAAiB,IAAG,eAAaF,CAAC,CAACyG,MAAlB,EAAyB,MAAMzG,CAAC,CAAC0G,MAAR;AAAe;;AAAA,eAAeH,CAAf,CAAiB/G,CAAjB,EAAmBC,CAAnB,EAAqBG,CAArB,EAAuBM,CAAvB,EAAyB;EAAC,IAAGF,CAAC,CAACR,CAAC,CAAC6F,QAAH,CAAD,IAAe,WAAS7F,CAAC,CAAC6F,QAAF,CAAW1C,IAAtC,EAA2C;EAAO,MAAMrC,CAAC,GAACd,CAAC,CAAC6F,QAAV;EAAA,MAAmB7E,CAAC,GAACZ,CAAC,CAACuF,aAAvB;EAAqC,IAAGrF,CAAC,CAACF,CAAC,CAAC+G,SAAH,CAAD,IAAgB7G,CAAC,CAACQ,CAAC,CAACsG,QAAH,CAAjB,IAA+BC,KAAK,CAACC,OAAN,CAAcxG,CAAC,CAACsG,QAAF,CAAWG,MAAzB,CAA/B,IAAiE,MAAIzG,CAAC,CAACsG,QAAF,CAAWG,MAAX,CAAkBzE,MAAvF,IAA+F,YAAWhC,CAAC,CAACsG,QAAF,CAAWG,MAAX,CAAkB,CAAlB,CAA1G,IAAgI,YAAU,OAAOzG,CAAC,CAACsG,QAAF,CAAWG,MAAX,CAAkB,CAAlB,EAAqBA,MAAtK,IAA8KzG,CAAC,CAACsG,QAAF,CAAWG,MAAX,CAAkB,CAAlB,EAAqBA,MAArB,CAA4BC,UAA5B,CAAuCpH,CAAC,CAAC+G,SAAF,CAAYM,IAAnD,CAAjL,EAA0O;EAAO,IAAG,CAAC/G,CAAJ,EAAM,MAAM,IAAIR,CAAJ,CAAO,GAAEE,CAAC,CAAC+C,IAAK,wCAAhB,EAAwD,sFAAxD,CAAN;EAAsJ,MAAMjC,CAAC,GAAC,MAAMJ,CAAC,CAAC4G,YAAF,EAAd;EAAA,MAA+BrG,CAAC,GAAC,MAAMH,CAAC,CAACyG,MAAF,EAAvC;EAAA,MAAkDpG,CAAC,GAAE,IAAGX,CAAC,EAAG,GAA5D;EAAA,MAA+DiB,CAAC,GAAE,GAAEN,CAAE,MAAtE;EAA4EtB,CAAC,CAACgF,SAAF,CAAY6B,IAAZ,CAAiB;IAACc,eAAe,EAAC5H,CAAC,CAAC6H,YAAF,CAAe7G,CAAf,CAAjB;IAAmC8G,gBAAgB,EAACvG,CAApD;IAAsDwG,SAAS,EAAClG,CAAhE;IAAkEmG,KAAK,EAAC,CAAxE;IAA0EjE,IAAI,EAAC1C,CAAC,CAAC0C,IAAjF;IAAsFkE,QAAQ,EAAC5G,CAAC,CAAC8B,IAAjG;IAAsG+E,SAAS,EAAC9G,CAAC,CAACyF,WAAlH;IAA8HV,OAAO,EAACnG;EAAtI,CAAjB;AAA2J;;AAAA,SAAOuB,CAAC,IAAID,UAAZ"},"metadata":{},"sourceType":"module"}