{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { ShaderOutput as t } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { ResourceState as a } from \"../lib/basicInterfaces.js\";\nimport s from \"../lib/GLMaterial.js\";\nimport { WaterTechnique as r } from \"./WaterTechnique.js\";\n\nclass o extends s {\n  _updateShadowState(e) {\n    e.shadowMap.enabled !== this._material.parameters.receiveShadows && this._material.setParameters({\n      receiveShadows: e.shadowMap.enabled\n    });\n  }\n\n  _updateSSRState(e) {\n    e.ssr.enabled !== this._material.parameters.hasScreenSpaceReflections && this._material.setParameters({\n      hasScreenSpaceReflections: e.ssr.enabled\n    });\n  }\n\n  _updateCloudsReflectionState(t) {\n    const a = e(t.clouds.data);\n    a !== this._material.parameters.hasCloudsReflections && this._material.setParameters({\n      hasCloudsReflections: a\n    });\n  }\n\n  ensureResources(e) {\n    const t = this._techniqueRepository.constructionContext.waterTextureRepository;\n    return t.resourceState === a.NOT_LOADED && t.loadTextures(e), t.resourceState;\n  }\n\n  beginSlot(e) {\n    return this._output === t.Color && (this._updateShadowState(e), this._updateSSRState(e), this._updateCloudsReflectionState(e)), this.ensureTechnique(r, e);\n  }\n\n}\n\nexport { o as WaterGLMaterial };","map":{"version":3,"names":["isSome","e","ShaderOutput","t","ResourceState","a","s","WaterTechnique","r","o","_updateShadowState","shadowMap","enabled","_material","parameters","receiveShadows","setParameters","_updateSSRState","ssr","hasScreenSpaceReflections","_updateCloudsReflectionState","clouds","data","hasCloudsReflections","ensureResources","_techniqueRepository","constructionContext","waterTextureRepository","resourceState","NOT_LOADED","loadTextures","beginSlot","_output","Color","ensureTechnique","WaterGLMaterial"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{ResourceState as a}from\"../lib/basicInterfaces.js\";import s from\"../lib/GLMaterial.js\";import{WaterTechnique as r}from\"./WaterTechnique.js\";class o extends s{_updateShadowState(e){e.shadowMap.enabled!==this._material.parameters.receiveShadows&&this._material.setParameters({receiveShadows:e.shadowMap.enabled})}_updateSSRState(e){e.ssr.enabled!==this._material.parameters.hasScreenSpaceReflections&&this._material.setParameters({hasScreenSpaceReflections:e.ssr.enabled})}_updateCloudsReflectionState(t){const a=e(t.clouds.data);a!==this._material.parameters.hasCloudsReflections&&this._material.setParameters({hasCloudsReflections:a})}ensureResources(e){const t=this._techniqueRepository.constructionContext.waterTextureRepository;return t.resourceState===a.NOT_LOADED&&t.loadTextures(e),t.resourceState}beginSlot(e){return this._output===t.Color&&(this._updateShadowState(e),this._updateSSRState(e),this._updateCloudsReflectionState(e)),this.ensureTechnique(r,e)}}export{o as WaterGLMaterial};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,8CAA7B;AAA4E,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,2BAA9B;AAA0D,OAAOC,CAAP,MAAa,sBAAb;AAAoC,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,qBAA/B;;AAAqD,MAAMC,CAAN,SAAgBH,CAAhB,CAAiB;EAACI,kBAAkB,CAACT,CAAD,EAAG;IAACA,CAAC,CAACU,SAAF,CAAYC,OAAZ,KAAsB,KAAKC,SAAL,CAAeC,UAAf,CAA0BC,cAAhD,IAAgE,KAAKF,SAAL,CAAeG,aAAf,CAA6B;MAACD,cAAc,EAACd,CAAC,CAACU,SAAF,CAAYC;IAA5B,CAA7B,CAAhE;EAAmI;;EAAAK,eAAe,CAAChB,CAAD,EAAG;IAACA,CAAC,CAACiB,GAAF,CAAMN,OAAN,KAAgB,KAAKC,SAAL,CAAeC,UAAf,CAA0BK,yBAA1C,IAAqE,KAAKN,SAAL,CAAeG,aAAf,CAA6B;MAACG,yBAAyB,EAAClB,CAAC,CAACiB,GAAF,CAAMN;IAAjC,CAA7B,CAArE;EAA6I;;EAAAQ,4BAA4B,CAACjB,CAAD,EAAG;IAAC,MAAME,CAAC,GAACJ,CAAC,CAACE,CAAC,CAACkB,MAAF,CAASC,IAAV,CAAT;IAAyBjB,CAAC,KAAG,KAAKQ,SAAL,CAAeC,UAAf,CAA0BS,oBAA9B,IAAoD,KAAKV,SAAL,CAAeG,aAAf,CAA6B;MAACO,oBAAoB,EAAClB;IAAtB,CAA7B,CAApD;EAA2G;;EAAAmB,eAAe,CAACvB,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,KAAKsB,oBAAL,CAA0BC,mBAA1B,CAA8CC,sBAAtD;IAA6E,OAAOxB,CAAC,CAACyB,aAAF,KAAkBvB,CAAC,CAACwB,UAApB,IAAgC1B,CAAC,CAAC2B,YAAF,CAAe7B,CAAf,CAAhC,EAAkDE,CAAC,CAACyB,aAA3D;EAAyE;;EAAAG,SAAS,CAAC9B,CAAD,EAAG;IAAC,OAAO,KAAK+B,OAAL,KAAe7B,CAAC,CAAC8B,KAAjB,KAAyB,KAAKvB,kBAAL,CAAwBT,CAAxB,GAA2B,KAAKgB,eAAL,CAAqBhB,CAArB,CAA3B,EAAmD,KAAKmB,4BAAL,CAAkCnB,CAAlC,CAA5E,GAAkH,KAAKiC,eAAL,CAAqB1B,CAArB,EAAuBP,CAAvB,CAAzH;EAAmJ;;AAAvyB;;AAAwyB,SAAOQ,CAAC,IAAI0B,eAAZ"},"metadata":{},"sourceType":"module"}