{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { generateUID as i } from \"../../../../core/uid.js\";\nimport { I as r } from \"../../../../chunks/mat4f64.js\";\nimport { b as o } from \"../../../../chunks/vec3.js\";\nimport { c as s } from \"../../../../chunks/vec3f64.js\";\nimport { f as e } from \"../../../../chunks/vec4f64.js\";\nimport { projectBuffer as a } from \"../../../../geometry/projection.js\";\nimport { PrimitiveType as n } from \"./basicInterfaces.js\";\nimport { Geometry as h } from \"./Geometry.js\";\nimport { fromValues as m } from \"./LocalOriginFactory.js\";\nimport { Object3D as c } from \"./Object3D.js\";\nimport { gridLocalOriginFactory as d } from \"./testUtils.js\";\nimport { VertexAttribute as g } from \"./VertexAttribute.js\";\nimport { WebGLLayer as f } from \"./WebGLLayer.js\";\nimport { RibbonLineMaterial as _ } from \"../materials/RibbonLineMaterial.js\";\n\nclass j {\n  constructor(t, r = 125e4) {\n    this._originSR = t, this._gridSize = r, this._origins = new Map(), this._objects = new Map(), this._rootOriginId = \"root/\" + i();\n  }\n\n  getOrigin(i) {\n    const r = this._origins.get(this._rootOriginId);\n\n    if (null == r) {\n      const r = d.rootOrigin;\n      if (t(r)) return this._origins.set(this._rootOriginId, m(r[0], r[1], r[2], this._rootOriginId)), this.getOrigin(i);\n      const o = m(i[0] + Math.random() - .5, i[1] + Math.random() - .5, i[2] + Math.random() - .5, this._rootOriginId);\n      return this._origins.set(this._rootOriginId, o), o;\n    }\n\n    const s = this._gridSize,\n          e = Math.round(i[0] / s),\n          a = Math.round(i[1] / s),\n          n = Math.round(i[2] / s),\n          h = `${e}/${a}/${n}`;\n\n    let c = this._origins.get(h);\n\n    const g = .5 * s;\n\n    if (o(p, i, r.vec3), p[0] = Math.abs(p[0]), p[1] = Math.abs(p[1]), p[2] = Math.abs(p[2]), p[0] < g && p[1] < g && p[2] < g) {\n      if (c) {\n        const t = Math.max(...p);\n        o(p, i, c.vec3), p[0] = Math.abs(p[0]), p[1] = Math.abs(p[1]), p[2] = Math.abs(p[2]);\n        if (Math.max(...p) < t) return c;\n      }\n\n      return r;\n    }\n\n    return c || (c = m(e * s, a * s, n * s, h), this._origins.set(h, c)), c;\n  }\n\n  _drawOriginBox(t, i = e(1, 1, 0, 1)) {\n    const o = window.view,\n          s = o._stage,\n          m = i.toString();\n\n    if (!this._objects.has(m)) {\n      this._material = new _({\n        width: 2,\n        color: i\n      }), s.add(this._material);\n      const t = new f({\n        isPickable: !1\n      }),\n            r = new c({\n        castShadow: !1\n      });\n      s.add(r), t.add(r), s.add(t), this._objects.set(m, r);\n    }\n\n    const d = this._objects.get(m),\n          j = [0, 1, 5, 4, 0, 2, 1, 7, 6, 2, 0, 1, 3, 7, 5, 4, 6, 2, 0],\n          p = j.length,\n          b = new Array(3 * p),\n          l = new Uint16Array(2 * (p - 1)),\n          u = .5 * this._gridSize;\n\n    for (let r = 0; r < p; r++) b[3 * r + 0] = t[0] + (1 & j[r] ? u : -u), b[3 * r + 1] = t[1] + (2 & j[r] ? u : -u), b[3 * r + 2] = t[2] + (4 & j[r] ? u : -u), r > 0 && (l[2 * r + 0] = r - 1, l[2 * r + 1] = r);\n\n    a(b, this._originSR, 0, b, o.renderSpatialReference, 0, p);\n    const M = new h([[g.POSITION, {\n      size: 3,\n      data: b,\n      exclusive: !0\n    }]], [[g.POSITION, l]], n.Line);\n    s.add(M), d.addGeometry(M, this._material, r);\n  }\n\n}\n\nconst p = s();\nexport { j as GridLocalOriginFactory };","map":{"version":3,"names":["isSome","t","generateUID","i","I","r","b","o","c","s","f","e","projectBuffer","a","PrimitiveType","n","Geometry","h","fromValues","m","Object3D","gridLocalOriginFactory","d","VertexAttribute","g","WebGLLayer","RibbonLineMaterial","_","j","constructor","_originSR","_gridSize","_origins","Map","_objects","_rootOriginId","getOrigin","get","rootOrigin","set","Math","random","round","p","vec3","abs","max","_drawOriginBox","window","view","_stage","toString","has","_material","width","color","add","isPickable","castShadow","length","Array","l","Uint16Array","u","renderSpatialReference","M","POSITION","size","data","exclusive","Line","addGeometry","GridLocalOriginFactory"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{generateUID as i}from\"../../../../core/uid.js\";import{I as r}from\"../../../../chunks/mat4f64.js\";import{b as o}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as e}from\"../../../../chunks/vec4f64.js\";import{projectBuffer as a}from\"../../../../geometry/projection.js\";import{PrimitiveType as n}from\"./basicInterfaces.js\";import{Geometry as h}from\"./Geometry.js\";import{fromValues as m}from\"./LocalOriginFactory.js\";import{Object3D as c}from\"./Object3D.js\";import{gridLocalOriginFactory as d}from\"./testUtils.js\";import{VertexAttribute as g}from\"./VertexAttribute.js\";import{WebGLLayer as f}from\"./WebGLLayer.js\";import{RibbonLineMaterial as _}from\"../materials/RibbonLineMaterial.js\";class j{constructor(t,r=125e4){this._originSR=t,this._gridSize=r,this._origins=new Map,this._objects=new Map,this._rootOriginId=\"root/\"+i()}getOrigin(i){const r=this._origins.get(this._rootOriginId);if(null==r){const r=d.rootOrigin;if(t(r))return this._origins.set(this._rootOriginId,m(r[0],r[1],r[2],this._rootOriginId)),this.getOrigin(i);const o=m(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,o),o}const s=this._gridSize,e=Math.round(i[0]/s),a=Math.round(i[1]/s),n=Math.round(i[2]/s),h=`${e}/${a}/${n}`;let c=this._origins.get(h);const g=.5*s;if(o(p,i,r.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]),p[0]<g&&p[1]<g&&p[2]<g){if(c){const t=Math.max(...p);o(p,i,c.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]);if(Math.max(...p)<t)return c}return r}return c||(c=m(e*s,a*s,n*s,h),this._origins.set(h,c)),c}_drawOriginBox(t,i=e(1,1,0,1)){const o=window.view,s=o._stage,m=i.toString();if(!this._objects.has(m)){this._material=new _({width:2,color:i}),s.add(this._material);const t=new f({isPickable:!1}),r=new c({castShadow:!1});s.add(r),t.add(r),s.add(t),this._objects.set(m,r)}const d=this._objects.get(m),j=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=j.length,b=new Array(3*p),l=new Uint16Array(2*(p-1)),u=.5*this._gridSize;for(let r=0;r<p;r++)b[3*r+0]=t[0]+(1&j[r]?u:-u),b[3*r+1]=t[1]+(2&j[r]?u:-u),b[3*r+2]=t[2]+(4&j[r]?u:-u),r>0&&(l[2*r+0]=r-1,l[2*r+1]=r);a(b,this._originSR,0,b,o.renderSpatialReference,0,p);const M=new h([[g.POSITION,{size:3,data:b,exclusive:!0}]],[[g.POSITION,l]],n.Line);s.add(M),d.addGeometry(M,this._material,r)}}const p=s();export{j as GridLocalOriginFactory};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}