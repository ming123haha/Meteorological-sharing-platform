{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Collection.js\";\nimport t from \"../core/CollectionFlattener.js\";\nimport s from \"../core/Error.js\";\nimport { clone as i } from \"../core/lang.js\";\nimport { loadAll as o } from \"../core/loadAll.js\";\nimport a from \"../core/Logger.js\";\nimport { isSome as l } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as n } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as p } from \"../core/promiseUtils.js\";\nimport { join as y } from \"../core/urlUtils.js\";\nimport { property as u } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { reader as d } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as c } from \"../core/accessorSupport/decorators/subclass.js\";\nimport m from \"../geometry/SpatialReference.js\";\nimport h from \"./Layer.js\";\nimport b from \"./buildingSublayers/BuildingComponentSublayer.js\";\nimport f from \"./buildingSublayers/BuildingGroupSublayer.js\";\nimport { APIKeyMixin as v } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as g } from \"./mixins/ArcGISService.js\";\nimport { OperationalLayer as S } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as j } from \"./mixins/PortalLayer.js\";\nimport { ScaleRangeLayer as w } from \"./mixins/ScaleRangeLayer.js\";\nimport { SceneService as O, SaveOperationType as I } from \"./mixins/SceneService.js\";\nimport _ from \"./support/BuildingFilter.js\";\nimport L from \"./support/BuildingSummaryStatistics.js\";\nimport { sceneLayerFullExtent as x, readOnlyService as T, elevationInfo as A } from \"./support/commonProperties.js\";\nimport { FetchAssociatedFeatureLayer as E } from \"./support/FetchAssociatedFeatureLayer.js\";\nconst F = r.ofType(_),\n      B = i(f.sublayersProperty);\nB.json.origins[\"web-scene\"] = {\n  type: [b],\n  write: {\n    enabled: !0,\n    overridePolicy: () => ({\n      enabled: !1\n    })\n  }\n}, B.json.origins[\"portal-item\"] = {\n  type: [b],\n  write: {\n    enabled: !0,\n    overridePolicy: () => ({\n      enabled: !1\n    })\n  }\n};\nlet P = class extends O(g(S(j(w(n(v(h))))))) {\n  constructor(e) {\n    super(e), this.operationalLayerType = \"BuildingSceneLayer\", this.allSublayers = new t({\n      getCollections: () => [this.sublayers],\n      getChildrenFunction: e => \"building-group\" === e.type ? e.sublayers : null\n    }), this.sublayers = null, this._sublayerOverrides = null, this.filters = new F(), this.activeFilterId = null, this.summaryStatistics = null, this.outFields = null, this.type = \"building-scene\";\n  }\n\n  normalizeCtorArgs(e) {\n    return \"string\" == typeof e ? {\n      url: e\n    } : e ?? {};\n  }\n\n  destroy() {\n    this.allSublayers.destroy();\n  }\n\n  readSublayers(e, r, t) {\n    const s = f.readSublayers(e, r, t);\n    return f.forEachSublayer(s, e => e.layer = this), this._sublayerOverrides && (this.applySublayerOverrides(s, this._sublayerOverrides), this._sublayerOverrides = null), s;\n  }\n\n  applySublayerOverrides(e, {\n    overrides: r,\n    context: t\n  }) {\n    f.forEachSublayer(e, e => e.read(r.get(e.id), t));\n  }\n\n  readSublayerOverrides(e, r) {\n    const t = new Map();\n\n    for (const i of e) null != i && \"object\" == typeof i && \"number\" == typeof i.id ? t.set(i.id, i) : r.messages?.push(new s(\"building-scene-layer:invalid-sublayer-override\", \"Invalid value for sublayer override. Not an object or no id specified.\", {\n      value: i\n    }));\n\n    return {\n      overrides: t,\n      context: r\n    };\n  }\n\n  writeSublayerOverrides(e, r, t) {\n    const s = [];\n    f.forEachSublayer(this.sublayers, e => {\n      const r = e.write({}, t);\n      Object.keys(r).length > 1 && s.push(r);\n    }), s.length > 0 && (r.sublayers = s);\n  }\n\n  writeUnappliedOverrides(e, r) {\n    r.sublayers = [], e.overrides.forEach(e => {\n      r.sublayers.push(i(e));\n    });\n  }\n\n  write(e, r) {\n    return e = super.write(e, r), !r || \"web-scene\" !== r.origin && \"portal-item\" !== r.origin || (this.sublayers ? this.writeSublayerOverrides(this.sublayers, e, r) : this._sublayerOverrides && this.writeUnappliedOverrides(this._sublayerOverrides, e)), e;\n  }\n\n  read(e, r) {\n    if (super.read(e, r), r && (\"web-scene\" === r.origin || \"portal-item\" === r.origin) && null != e && Array.isArray(e.sublayers)) {\n      const t = this.readSublayerOverrides(e.sublayers, r);\n      this.sublayers ? this.applySublayerOverrides(this.sublayers, t) : this._sublayerOverrides = t;\n    }\n  }\n\n  readSummaryStatistics(e, r) {\n    if (\"string\" == typeof r.statisticsHRef) {\n      const e = y(this.parsedUrl?.path, r.statisticsHRef);\n      return new L({\n        url: e\n      });\n    }\n\n    return null;\n  }\n\n  set elevationInfo(e) {\n    this._set(\"elevationInfo\", e), this._validateElevationInfo();\n  }\n\n  load(e) {\n    const r = l(e) ? e.signal : null,\n          t = this.loadFromPortal({\n      supportedTypes: [\"Scene Service\"]\n    }, e).catch(p).then(() => this._fetchService(r)).then(() => this._fetchAssociatedFeatureService(r));\n    return this.addResolvingPromise(t), Promise.resolve(this);\n  }\n\n  loadAll() {\n    return o(this, e => {\n      f.forEachSublayer(this.sublayers, r => {\n        \"building-group\" !== r.type && e(r);\n      }), this.summaryStatistics && e(this.summaryStatistics);\n    });\n  }\n\n  async saveAs(e, r) {\n    return this._debouncedSaveOperations(I.SAVE_AS, { ...r,\n      getTypeKeywords: () => this._getTypeKeywords(),\n      portalItemLayerType: \"building-scene\"\n    }, e);\n  }\n\n  async save() {\n    const e = {\n      getTypeKeywords: () => this._getTypeKeywords(),\n      portalItemLayerType: \"building-scene\"\n    };\n    return this._debouncedSaveOperations(I.SAVE, e);\n  }\n\n  validateLayer(e) {\n    if (!e.layerType || \"Building\" !== e.layerType) throw new s(\"buildingscenelayer:layer-type-not-supported\", \"BuildingSceneLayer does not support this layer type\", {\n      layerType: e.layerType\n    });\n  }\n\n  _getTypeKeywords() {\n    return [\"Building\"];\n  }\n\n  _validateElevationInfo() {\n    const e = this.elevationInfo;\n    e && (\"absolute-height\" !== e.mode && a.getLogger(this.declaredClass).warn(\".elevationInfo=\", \"Building scene layers only support absolute-height elevation mode\"), e.featureExpressionInfo && \"0\" !== e.featureExpressionInfo.expression && a.getLogger(this.declaredClass).warn(\".elevationInfo=\", \"Building scene layers do not support featureExpressionInfo\"));\n  }\n\n  async _fetchAssociatedFeatureService(e) {\n    const r = new E(this.parsedUrl, this.portalItem, this.apiKey, e);\n\n    try {\n      this.associatedFeatureServiceItem = await r.fetchPortalItem();\n    } catch (t) {\n      a.getLogger(this.declaredClass).warn(\"Associated feature service item could not be loaded\", t);\n    }\n  }\n\n};\ne([u({\n  type: [\"BuildingSceneLayer\"]\n})], P.prototype, \"operationalLayerType\", void 0), e([u({\n  readOnly: !0\n})], P.prototype, \"allSublayers\", void 0), e([u(B)], P.prototype, \"sublayers\", void 0), e([d(\"service\", \"sublayers\")], P.prototype, \"readSublayers\", null), e([u({\n  type: F,\n  nonNullable: !0,\n  json: {\n    write: !0\n  }\n})], P.prototype, \"filters\", void 0), e([u({\n  type: String,\n  json: {\n    write: !0\n  }\n})], P.prototype, \"activeFilterId\", void 0), e([u({\n  readOnly: !0,\n  type: L\n})], P.prototype, \"summaryStatistics\", void 0), e([d(\"summaryStatistics\", [\"statisticsHRef\"])], P.prototype, \"readSummaryStatistics\", null), e([u({\n  type: [String],\n  json: {\n    read: !1\n  }\n})], P.prototype, \"outFields\", void 0), e([u(x)], P.prototype, \"fullExtent\", void 0), e([u({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], P.prototype, \"listMode\", void 0), e([u(T(m))], P.prototype, \"spatialReference\", void 0), e([u(A)], P.prototype, \"elevationInfo\", null), e([u({\n  json: {\n    read: !1\n  },\n  readOnly: !0\n})], P.prototype, \"type\", void 0), e([u()], P.prototype, \"associatedFeatureServiceItem\", void 0), P = e([c(\"esri.layers.BuildingSceneLayer\")], P);\nconst C = P;\nexport { C as default };","map":{"version":3,"names":["_","e","r","t","s","clone","i","loadAll","o","a","isSome","l","MultiOriginJSONMixin","n","throwIfAbortError","p","join","y","property","u","reader","d","subclass","c","m","h","b","f","APIKeyMixin","v","ArcGISService","g","OperationalLayer","S","PortalLayer","j","ScaleRangeLayer","w","SceneService","O","SaveOperationType","I","L","sceneLayerFullExtent","x","readOnlyService","T","elevationInfo","A","FetchAssociatedFeatureLayer","E","F","ofType","B","sublayersProperty","json","origins","type","write","enabled","overridePolicy","P","constructor","operationalLayerType","allSublayers","getCollections","sublayers","getChildrenFunction","_sublayerOverrides","filters","activeFilterId","summaryStatistics","outFields","normalizeCtorArgs","url","destroy","readSublayers","forEachSublayer","layer","applySublayerOverrides","overrides","context","read","get","id","readSublayerOverrides","Map","set","messages","push","value","writeSublayerOverrides","Object","keys","length","writeUnappliedOverrides","forEach","origin","Array","isArray","readSummaryStatistics","statisticsHRef","parsedUrl","path","_set","_validateElevationInfo","load","signal","loadFromPortal","supportedTypes","catch","then","_fetchService","_fetchAssociatedFeatureService","addResolvingPromise","Promise","resolve","saveAs","_debouncedSaveOperations","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","save","SAVE","validateLayer","layerType","mode","getLogger","declaredClass","warn","featureExpressionInfo","expression","portalItem","apiKey","associatedFeatureServiceItem","fetchPortalItem","prototype","readOnly","nonNullable","String","C","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/BuildingSceneLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import t from\"../core/CollectionFlattener.js\";import s from\"../core/Error.js\";import{clone as i}from\"../core/lang.js\";import{loadAll as o}from\"../core/loadAll.js\";import a from\"../core/Logger.js\";import{isSome as l}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as p}from\"../core/promiseUtils.js\";import{join as y}from\"../core/urlUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as d}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"../geometry/SpatialReference.js\";import h from\"./Layer.js\";import b from\"./buildingSublayers/BuildingComponentSublayer.js\";import f from\"./buildingSublayers/BuildingGroupSublayer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as g}from\"./mixins/ArcGISService.js\";import{OperationalLayer as S}from\"./mixins/OperationalLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as w}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as O,SaveOperationType as I}from\"./mixins/SceneService.js\";import _ from\"./support/BuildingFilter.js\";import L from\"./support/BuildingSummaryStatistics.js\";import{sceneLayerFullExtent as x,readOnlyService as T,elevationInfo as A}from\"./support/commonProperties.js\";import{FetchAssociatedFeatureLayer as E}from\"./support/FetchAssociatedFeatureLayer.js\";const F=r.ofType(_),B=i(f.sublayersProperty);B.json.origins[\"web-scene\"]={type:[b],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},B.json.origins[\"portal-item\"]={type:[b],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}};let P=class extends(O(g(S(j(w(n(v(h)))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new t({getCollections:()=>[this.sublayers],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this._sublayerOverrides=null,this.filters=new F,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e??{}}destroy(){this.allSublayers.destroy()}readSublayers(e,r,t){const s=f.readSublayers(e,r,t);return f.forEachSublayer(s,(e=>e.layer=this)),this._sublayerOverrides&&(this.applySublayerOverrides(s,this._sublayerOverrides),this._sublayerOverrides=null),s}applySublayerOverrides(e,{overrides:r,context:t}){f.forEachSublayer(e,(e=>e.read(r.get(e.id),t)))}readSublayerOverrides(e,r){const t=new Map;for(const i of e)null!=i&&\"object\"==typeof i&&\"number\"==typeof i.id?t.set(i.id,i):r.messages?.push(new s(\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:i}));return{overrides:t,context:r}}writeSublayerOverrides(e,r,t){const s=[];f.forEachSublayer(this.sublayers,(e=>{const r=e.write({},t);Object.keys(r).length>1&&s.push(r)})),s.length>0&&(r.sublayers=s)}writeUnappliedOverrides(e,r){r.sublayers=[],e.overrides.forEach((e=>{r.sublayers.push(i(e))}))}write(e,r){return e=super.write(e,r),!r||\"web-scene\"!==r.origin&&\"portal-item\"!==r.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,r):this._sublayerOverrides&&this.writeUnappliedOverrides(this._sublayerOverrides,e)),e}read(e,r){if(super.read(e,r),r&&(\"web-scene\"===r.origin||\"portal-item\"===r.origin)&&null!=e&&Array.isArray(e.sublayers)){const t=this.readSublayerOverrides(e.sublayers,r);this.sublayers?this.applySublayerOverrides(this.sublayers,t):this._sublayerOverrides=t}}readSummaryStatistics(e,r){if(\"string\"==typeof r.statisticsHRef){const e=y(this.parsedUrl?.path,r.statisticsHRef);return new L({url:e})}return null}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}load(e){const r=l(e)?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(p).then((()=>this._fetchService(r))).then((()=>this._fetchAssociatedFeatureService(r)));return this.addResolvingPromise(t),Promise.resolve(this)}loadAll(){return o(this,(e=>{f.forEachSublayer(this.sublayers,(r=>{\"building-group\"!==r.type&&e(r)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,r){return this._debouncedSaveOperations(I.SAVE_AS,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"};return this._debouncedSaveOperations(I.SAVE,e)}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new s(\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"absolute-height\"!==e.mode&&a.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Building scene layers only support absolute-height elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&a.getLogger(this.declaredClass).warn(\".elevationInfo=\",\"Building scene layers do not support featureExpressionInfo\"))}async _fetchAssociatedFeatureService(e){const r=new E(this.parsedUrl,this.portalItem,this.apiKey,e);try{this.associatedFeatureServiceItem=await r.fetchPortalItem()}catch(t){a.getLogger(this.declaredClass).warn(\"Associated feature service item could not be loaded\",t)}}};e([u({type:[\"BuildingSceneLayer\"]})],P.prototype,\"operationalLayerType\",void 0),e([u({readOnly:!0})],P.prototype,\"allSublayers\",void 0),e([u(B)],P.prototype,\"sublayers\",void 0),e([d(\"service\",\"sublayers\")],P.prototype,\"readSublayers\",null),e([u({type:F,nonNullable:!0,json:{write:!0}})],P.prototype,\"filters\",void 0),e([u({type:String,json:{write:!0}})],P.prototype,\"activeFilterId\",void 0),e([u({readOnly:!0,type:L})],P.prototype,\"summaryStatistics\",void 0),e([d(\"summaryStatistics\",[\"statisticsHRef\"])],P.prototype,\"readSummaryStatistics\",null),e([u({type:[String],json:{read:!1}})],P.prototype,\"outFields\",void 0),e([u(x)],P.prototype,\"fullExtent\",void 0),e([u({type:[\"show\",\"hide\",\"hide-children\"]})],P.prototype,\"listMode\",void 0),e([u(T(m))],P.prototype,\"spatialReference\",void 0),e([u(A)],P.prototype,\"elevationInfo\",null),e([u({json:{read:!1},readOnly:!0})],P.prototype,\"type\",void 0),e([u()],P.prototype,\"associatedFeatureServiceItem\",void 0),P=e([c(\"esri.layers.BuildingSceneLayer\")],P);const C=P;export{C as default};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,wBAAlB;AAA2C,OAAOC,CAAP,MAAa,uBAAb;AAAqC,OAAOC,CAAP,MAAa,gCAAb;AAA8C,OAAOC,CAAP,MAAa,kBAAb;AAAgC,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,iBAAtB;AAAwC,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,oBAAxB;AAA6C,OAAOC,CAAP,MAAa,mBAAb;AAAiC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,kBAAvB;AAA0C,SAAOC,oBAAoB,IAAIC,CAA/B,QAAqC,mCAArC;AAAyE,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,yBAAlC;AAA4D,SAAOC,IAAI,IAAIC,CAAf,QAAqB,qBAArB;AAA2C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAM,uCAAN;AAA8C,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,8CAAvB;AAAsE,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,gDAAzB;AAA0E,OAAOC,CAAP,MAAa,iCAAb;AAA+C,OAAOC,CAAP,MAAa,YAAb;AAA0B,OAAOC,CAAP,MAAa,kDAAb;AAAgE,OAAOC,CAAP,MAAa,8CAAb;AAA4D,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,yBAA5B;AAAsD,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,2BAA9B;AAA0D,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,8BAAjC;AAAgE,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,yBAA5B;AAAsD,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,6BAAhC;AAA8D,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,iBAAiB,IAAIC,CAA9C,QAAoD,0BAApD;AAA+E,OAAOzC,CAAP,MAAa,6BAAb;AAA2C,OAAO0C,CAAP,MAAa,wCAAb;AAAsD,SAAOC,oBAAoB,IAAIC,CAA/B,EAAiCC,eAAe,IAAIC,CAApD,EAAsDC,aAAa,IAAIC,CAAvE,QAA6E,+BAA7E;AAA6G,SAAOC,2BAA2B,IAAIC,CAAtC,QAA4C,0CAA5C;AAAuF,MAAMC,CAAC,GAACjD,CAAC,CAACkD,MAAF,CAASpD,CAAT,CAAR;AAAA,MAAoBqD,CAAC,GAAC/C,CAAC,CAACqB,CAAC,CAAC2B,iBAAH,CAAvB;AAA6CD,CAAC,CAACE,IAAF,CAAOC,OAAP,CAAe,WAAf,IAA4B;EAACC,IAAI,EAAC,CAAC/B,CAAD,CAAN;EAAUgC,KAAK,EAAC;IAACC,OAAO,EAAC,CAAC,CAAV;IAAYC,cAAc,EAAC,OAAK;MAACD,OAAO,EAAC,CAAC;IAAV,CAAL;EAA3B;AAAhB,CAA5B,EAA4FN,CAAC,CAACE,IAAF,CAAOC,OAAP,CAAe,aAAf,IAA8B;EAACC,IAAI,EAAC,CAAC/B,CAAD,CAAN;EAAUgC,KAAK,EAAC;IAACC,OAAO,EAAC,CAAC,CAAV;IAAYC,cAAc,EAAC,OAAK;MAACD,OAAO,EAAC,CAAC;IAAV,CAAL;EAA3B;AAAhB,CAA1H;AAA0L,IAAIE,CAAC,GAAC,cAActB,CAAC,CAACR,CAAC,CAACE,CAAC,CAACE,CAAC,CAACE,CAAC,CAACxB,CAAC,CAACgB,CAAC,CAACJ,CAAD,CAAF,CAAF,CAAF,CAAF,CAAF,CAAF,CAAf,CAAqC;EAACqC,WAAW,CAAC7D,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAK8D,oBAAL,GAA0B,oBAAnC,EAAwD,KAAKC,YAAL,GAAkB,IAAI7D,CAAJ,CAAM;MAAC8D,cAAc,EAAC,MAAI,CAAC,KAAKC,SAAN,CAApB;MAAqCC,mBAAmB,EAAClE,CAAC,IAAE,qBAAmBA,CAAC,CAACwD,IAArB,GAA0BxD,CAAC,CAACiE,SAA5B,GAAsC;IAAlG,CAAN,CAA1E,EAAyL,KAAKA,SAAL,GAAe,IAAxM,EAA6M,KAAKE,kBAAL,GAAwB,IAArO,EAA0O,KAAKC,OAAL,GAAa,IAAIlB,CAAJ,EAAvP,EAA6P,KAAKmB,cAAL,GAAoB,IAAjR,EAAsR,KAAKC,iBAAL,GAAuB,IAA7S,EAAkT,KAAKC,SAAL,GAAe,IAAjU,EAAsU,KAAKf,IAAL,GAAU,gBAAhV;EAAiW;;EAAAgB,iBAAiB,CAACxE,CAAD,EAAG;IAAC,OAAM,YAAU,OAAOA,CAAjB,GAAmB;MAACyE,GAAG,EAACzE;IAAL,CAAnB,GAA2BA,CAAC,IAAE,EAApC;EAAuC;;EAAA0E,OAAO,GAAE;IAAC,KAAKX,YAAL,CAAkBW,OAAlB;EAA4B;;EAAAC,aAAa,CAAC3E,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;IAAC,MAAMC,CAAC,GAACuB,CAAC,CAACiD,aAAF,CAAgB3E,CAAhB,EAAkBC,CAAlB,EAAoBC,CAApB,CAAR;IAA+B,OAAOwB,CAAC,CAACkD,eAAF,CAAkBzE,CAAlB,EAAqBH,CAAC,IAAEA,CAAC,CAAC6E,KAAF,GAAQ,IAAhC,GAAuC,KAAKV,kBAAL,KAA0B,KAAKW,sBAAL,CAA4B3E,CAA5B,EAA8B,KAAKgE,kBAAnC,GAAuD,KAAKA,kBAAL,GAAwB,IAAzG,CAAvC,EAAsJhE,CAA7J;EAA+J;;EAAA2E,sBAAsB,CAAC9E,CAAD,EAAG;IAAC+E,SAAS,EAAC9E,CAAX;IAAa+E,OAAO,EAAC9E;EAArB,CAAH,EAA2B;IAACwB,CAAC,CAACkD,eAAF,CAAkB5E,CAAlB,EAAqBA,CAAC,IAAEA,CAAC,CAACiF,IAAF,CAAOhF,CAAC,CAACiF,GAAF,CAAMlF,CAAC,CAACmF,EAAR,CAAP,EAAmBjF,CAAnB,CAAxB;EAAgD;;EAAAkF,qBAAqB,CAACpF,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAMC,CAAC,GAAC,IAAImF,GAAJ,EAAR;;IAAgB,KAAI,MAAMhF,CAAV,IAAeL,CAAf,EAAiB,QAAMK,CAAN,IAAS,YAAU,OAAOA,CAA1B,IAA6B,YAAU,OAAOA,CAAC,CAAC8E,EAAhD,GAAmDjF,CAAC,CAACoF,GAAF,CAAMjF,CAAC,CAAC8E,EAAR,EAAW9E,CAAX,CAAnD,GAAiEJ,CAAC,CAACsF,QAAF,EAAYC,IAAZ,CAAiB,IAAIrF,CAAJ,CAAM,gDAAN,EAAuD,wEAAvD,EAAgI;MAACsF,KAAK,EAACpF;IAAP,CAAhI,CAAjB,CAAjE;;IAA8N,OAAM;MAAC0E,SAAS,EAAC7E,CAAX;MAAa8E,OAAO,EAAC/E;IAArB,CAAN;EAA8B;;EAAAyF,sBAAsB,CAAC1F,CAAD,EAAGC,CAAH,EAAKC,CAAL,EAAO;IAAC,MAAMC,CAAC,GAAC,EAAR;IAAWuB,CAAC,CAACkD,eAAF,CAAkB,KAAKX,SAAvB,EAAkCjE,CAAC,IAAE;MAAC,MAAMC,CAAC,GAACD,CAAC,CAACyD,KAAF,CAAQ,EAAR,EAAWvD,CAAX,CAAR;MAAsByF,MAAM,CAACC,IAAP,CAAY3F,CAAZ,EAAe4F,MAAf,GAAsB,CAAtB,IAAyB1F,CAAC,CAACqF,IAAF,CAAOvF,CAAP,CAAzB;IAAmC,CAA/F,GAAkGE,CAAC,CAAC0F,MAAF,GAAS,CAAT,KAAa5F,CAAC,CAACgE,SAAF,GAAY9D,CAAzB,CAAlG;EAA8H;;EAAA2F,uBAAuB,CAAC9F,CAAD,EAAGC,CAAH,EAAK;IAACA,CAAC,CAACgE,SAAF,GAAY,EAAZ,EAAejE,CAAC,CAAC+E,SAAF,CAAYgB,OAAZ,CAAqB/F,CAAC,IAAE;MAACC,CAAC,CAACgE,SAAF,CAAYuB,IAAZ,CAAiBnF,CAAC,CAACL,CAAD,CAAlB;IAAuB,CAAhD,CAAf;EAAkE;;EAAAyD,KAAK,CAACzD,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAOD,CAAC,GAAC,MAAMyD,KAAN,CAAYzD,CAAZ,EAAcC,CAAd,CAAF,EAAmB,CAACA,CAAD,IAAI,gBAAcA,CAAC,CAAC+F,MAAhB,IAAwB,kBAAgB/F,CAAC,CAAC+F,MAA9C,KAAuD,KAAK/B,SAAL,GAAe,KAAKyB,sBAAL,CAA4B,KAAKzB,SAAjC,EAA2CjE,CAA3C,EAA6CC,CAA7C,CAAf,GAA+D,KAAKkE,kBAAL,IAAyB,KAAK2B,uBAAL,CAA6B,KAAK3B,kBAAlC,EAAqDnE,CAArD,CAA/I,CAAnB,EAA2NA,CAAlO;EAAoO;;EAAAiF,IAAI,CAACjF,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,MAAMgF,IAAN,CAAWjF,CAAX,EAAaC,CAAb,GAAgBA,CAAC,KAAG,gBAAcA,CAAC,CAAC+F,MAAhB,IAAwB,kBAAgB/F,CAAC,CAAC+F,MAA7C,CAAD,IAAuD,QAAMhG,CAA7D,IAAgEiG,KAAK,CAACC,OAAN,CAAclG,CAAC,CAACiE,SAAhB,CAAnF,EAA8G;MAAC,MAAM/D,CAAC,GAAC,KAAKkF,qBAAL,CAA2BpF,CAAC,CAACiE,SAA7B,EAAuChE,CAAvC,CAAR;MAAkD,KAAKgE,SAAL,GAAe,KAAKa,sBAAL,CAA4B,KAAKb,SAAjC,EAA2C/D,CAA3C,CAAf,GAA6D,KAAKiE,kBAAL,GAAwBjE,CAArF;IAAuF;EAAC;;EAAAiG,qBAAqB,CAACnG,CAAD,EAAGC,CAAH,EAAK;IAAC,IAAG,YAAU,OAAOA,CAAC,CAACmG,cAAtB,EAAqC;MAAC,MAAMpG,CAAC,GAACgB,CAAC,CAAC,KAAKqF,SAAL,EAAgBC,IAAjB,EAAsBrG,CAAC,CAACmG,cAAxB,CAAT;MAAiD,OAAO,IAAI3D,CAAJ,CAAM;QAACgC,GAAG,EAACzE;MAAL,CAAN,CAAP;IAAsB;;IAAA,OAAO,IAAP;EAAY;;EAAiB,IAAb8C,aAAa,CAAC9C,CAAD,EAAG;IAAC,KAAKuG,IAAL,CAAU,eAAV,EAA0BvG,CAA1B,GAA6B,KAAKwG,sBAAL,EAA7B;EAA2D;;EAAAC,IAAI,CAACzG,CAAD,EAAG;IAAC,MAAMC,CAAC,GAACS,CAAC,CAACV,CAAD,CAAD,GAAKA,CAAC,CAAC0G,MAAP,GAAc,IAAtB;IAAA,MAA2BxG,CAAC,GAAC,KAAKyG,cAAL,CAAoB;MAACC,cAAc,EAAC,CAAC,eAAD;IAAhB,CAApB,EAAuD5G,CAAvD,EAA0D6G,KAA1D,CAAgE/F,CAAhE,EAAmEgG,IAAnE,CAAyE,MAAI,KAAKC,aAAL,CAAmB9G,CAAnB,CAA7E,EAAqG6G,IAArG,CAA2G,MAAI,KAAKE,8BAAL,CAAoC/G,CAApC,CAA/G,CAA7B;IAAqL,OAAO,KAAKgH,mBAAL,CAAyB/G,CAAzB,GAA4BgH,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAnC;EAAyD;;EAAA7G,OAAO,GAAE;IAAC,OAAOC,CAAC,CAAC,IAAD,EAAOP,CAAC,IAAE;MAAC0B,CAAC,CAACkD,eAAF,CAAkB,KAAKX,SAAvB,EAAkChE,CAAC,IAAE;QAAC,qBAAmBA,CAAC,CAACuD,IAArB,IAA2BxD,CAAC,CAACC,CAAD,CAA5B;MAAgC,CAAtE,GAAyE,KAAKqE,iBAAL,IAAwBtE,CAAC,CAAC,KAAKsE,iBAAN,CAAlG;IAA2H,CAAtI,CAAR;EAAiJ;;EAAY,MAAN8C,MAAM,CAACpH,CAAD,EAAGC,CAAH,EAAK;IAAC,OAAO,KAAKoH,wBAAL,CAA8B7E,CAAC,CAAC8E,OAAhC,EAAwC,EAAC,GAAGrH,CAAJ;MAAMsH,eAAe,EAAC,MAAI,KAAKC,gBAAL,EAA1B;MAAkDC,mBAAmB,EAAC;IAAtE,CAAxC,EAAgIzH,CAAhI,CAAP;EAA0I;;EAAU,MAAJ0H,IAAI,GAAE;IAAC,MAAM1H,CAAC,GAAC;MAACuH,eAAe,EAAC,MAAI,KAAKC,gBAAL,EAArB;MAA6CC,mBAAmB,EAAC;IAAjE,CAAR;IAA2F,OAAO,KAAKJ,wBAAL,CAA8B7E,CAAC,CAACmF,IAAhC,EAAqC3H,CAArC,CAAP;EAA+C;;EAAA4H,aAAa,CAAC5H,CAAD,EAAG;IAAC,IAAG,CAACA,CAAC,CAAC6H,SAAH,IAAc,eAAa7H,CAAC,CAAC6H,SAAhC,EAA0C,MAAM,IAAI1H,CAAJ,CAAM,6CAAN,EAAoD,qDAApD,EAA0G;MAAC0H,SAAS,EAAC7H,CAAC,CAAC6H;IAAb,CAA1G,CAAN;EAAyI;;EAAAL,gBAAgB,GAAE;IAAC,OAAM,CAAC,UAAD,CAAN;EAAmB;;EAAAhB,sBAAsB,GAAE;IAAC,MAAMxG,CAAC,GAAC,KAAK8C,aAAb;IAA2B9C,CAAC,KAAG,sBAAoBA,CAAC,CAAC8H,IAAtB,IAA4BtH,CAAC,CAACuH,SAAF,CAAY,KAAKC,aAAjB,EAAgCC,IAAhC,CAAqC,iBAArC,EAAuD,mEAAvD,CAA5B,EAAwJjI,CAAC,CAACkI,qBAAF,IAAyB,QAAMlI,CAAC,CAACkI,qBAAF,CAAwBC,UAAvD,IAAmE3H,CAAC,CAACuH,SAAF,CAAY,KAAKC,aAAjB,EAAgCC,IAAhC,CAAqC,iBAArC,EAAuD,4DAAvD,CAA9N,CAAD;EAAqV;;EAAoC,MAA9BjB,8BAA8B,CAAChH,CAAD,EAAG;IAAC,MAAMC,CAAC,GAAC,IAAIgD,CAAJ,CAAM,KAAKoD,SAAX,EAAqB,KAAK+B,UAA1B,EAAqC,KAAKC,MAA1C,EAAiDrI,CAAjD,CAAR;;IAA4D,IAAG;MAAC,KAAKsI,4BAAL,GAAkC,MAAMrI,CAAC,CAACsI,eAAF,EAAxC;IAA4D,CAAhE,CAAgE,OAAMrI,CAAN,EAAQ;MAACM,CAAC,CAACuH,SAAF,CAAY,KAAKC,aAAjB,EAAgCC,IAAhC,CAAqC,qDAArC,EAA2F/H,CAA3F;IAA8F;EAAC;;AAA/lH,CAA3C;AAA4oHF,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACsC,IAAI,EAAC,CAAC,oBAAD;AAAN,CAAD,CAAF,CAAD,EAAoCI,CAAC,CAAC4E,SAAtC,EAAgD,sBAAhD,EAAuE,KAAK,CAA5E,CAAD,EAAgFxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACuH,QAAQ,EAAC,CAAC;AAAX,CAAD,CAAF,CAAD,EAAoB7E,CAAC,CAAC4E,SAAtB,EAAgC,cAAhC,EAA+C,KAAK,CAApD,CAAjF,EAAwIxI,CAAC,CAAC,CAACkB,CAAC,CAACkC,CAAD,CAAF,CAAD,EAAQQ,CAAC,CAAC4E,SAAV,EAAoB,WAApB,EAAgC,KAAK,CAArC,CAAzI,EAAiLxI,CAAC,CAAC,CAACoB,CAAC,CAAC,SAAD,EAAW,WAAX,CAAF,CAAD,EAA4BwC,CAAC,CAAC4E,SAA9B,EAAwC,eAAxC,EAAwD,IAAxD,CAAlL,EAAgPxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACsC,IAAI,EAACN,CAAN;EAAQwF,WAAW,EAAC,CAAC,CAArB;EAAuBpF,IAAI,EAAC;IAACG,KAAK,EAAC,CAAC;EAAR;AAA5B,CAAD,CAAF,CAAD,EAA8CG,CAAC,CAAC4E,SAAhD,EAA0D,SAA1D,EAAoE,KAAK,CAAzE,CAAjP,EAA6TxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACsC,IAAI,EAACmF,MAAN;EAAarF,IAAI,EAAC;IAACG,KAAK,EAAC,CAAC;EAAR;AAAlB,CAAD,CAAF,CAAD,EAAoCG,CAAC,CAAC4E,SAAtC,EAAgD,gBAAhD,EAAiE,KAAK,CAAtE,CAA9T,EAAuYxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACuH,QAAQ,EAAC,CAAC,CAAX;EAAajF,IAAI,EAACf;AAAlB,CAAD,CAAF,CAAD,EAA2BmB,CAAC,CAAC4E,SAA7B,EAAuC,mBAAvC,EAA2D,KAAK,CAAhE,CAAxY,EAA2cxI,CAAC,CAAC,CAACoB,CAAC,CAAC,mBAAD,EAAqB,CAAC,gBAAD,CAArB,CAAF,CAAD,EAA6CwC,CAAC,CAAC4E,SAA/C,EAAyD,uBAAzD,EAAiF,IAAjF,CAA5c,EAAmiBxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACsC,IAAI,EAAC,CAACmF,MAAD,CAAN;EAAerF,IAAI,EAAC;IAAC2B,IAAI,EAAC,CAAC;EAAP;AAApB,CAAD,CAAF,CAAD,EAAqCrB,CAAC,CAAC4E,SAAvC,EAAiD,WAAjD,EAA6D,KAAK,CAAlE,CAApiB,EAAymBxI,CAAC,CAAC,CAACkB,CAAC,CAACyB,CAAD,CAAF,CAAD,EAAQiB,CAAC,CAAC4E,SAAV,EAAoB,YAApB,EAAiC,KAAK,CAAtC,CAA1mB,EAAmpBxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACsC,IAAI,EAAC,CAAC,MAAD,EAAQ,MAAR,EAAe,eAAf;AAAN,CAAD,CAAF,CAAD,EAA6CI,CAAC,CAAC4E,SAA/C,EAAyD,UAAzD,EAAoE,KAAK,CAAzE,CAAppB,EAAguBxI,CAAC,CAAC,CAACkB,CAAC,CAAC2B,CAAC,CAACtB,CAAD,CAAF,CAAF,CAAD,EAAWqC,CAAC,CAAC4E,SAAb,EAAuB,kBAAvB,EAA0C,KAAK,CAA/C,CAAjuB,EAAmxBxI,CAAC,CAAC,CAACkB,CAAC,CAAC6B,CAAD,CAAF,CAAD,EAAQa,CAAC,CAAC4E,SAAV,EAAoB,eAApB,EAAoC,IAApC,CAApxB,EAA8zBxI,CAAC,CAAC,CAACkB,CAAC,CAAC;EAACoC,IAAI,EAAC;IAAC2B,IAAI,EAAC,CAAC;EAAP,CAAN;EAAgBwD,QAAQ,EAAC,CAAC;AAA1B,CAAD,CAAF,CAAD,EAAmC7E,CAAC,CAAC4E,SAArC,EAA+C,MAA/C,EAAsD,KAAK,CAA3D,CAA/zB,EAA63BxI,CAAC,CAAC,CAACkB,CAAC,EAAF,CAAD,EAAO0C,CAAC,CAAC4E,SAAT,EAAmB,8BAAnB,EAAkD,KAAK,CAAvD,CAA93B,EAAw7B5E,CAAC,GAAC5D,CAAC,CAAC,CAACsB,CAAC,CAAC,gCAAD,CAAF,CAAD,EAAuCsC,CAAvC,CAA37B;AAAq+B,MAAMgF,CAAC,GAAChF,CAAR;AAAU,SAAOgF,CAAC,IAAIC,OAAZ"},"metadata":{},"sourceType":"module"}