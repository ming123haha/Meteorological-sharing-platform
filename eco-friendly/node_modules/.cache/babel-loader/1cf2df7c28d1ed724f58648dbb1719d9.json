{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { unwrap as e } from \"../core/maybe.js\";\nimport { makeAbsolute as r, makeRelative as t, isAbsolute as o, normalize as l, isDataProtocol as s, splitPathExtension as n, changeDomain as a, hasSameOrigin as u, getAppUrl as i } from \"../core/urlUtils.js\";\n\nfunction c(e, o) {\n  const l = o && o.url && o.url.path;\n\n  if (e && l && (e = r(e, l, {\n    preserveProtocolRelative: !0\n  }), o.portalItem && o.readResourcePaths)) {\n    const r = t(e, o.portalItem.itemUrl);\n    null != r && v.test(r) && o.readResourcePaths.push(o.portalItem.resourceFromPath(r).path);\n  }\n\n  return I(e, o && o.portal);\n}\n\nfunction m(e, n, a = R.YES) {\n  if (null == e) return e;\n  !o(e) && n && n.blockedRelativeUrls && n.blockedRelativeUrls.push(e);\n  let u = r(e);\n\n  if (n) {\n    const r = n.verifyItemRelativeUrls && n.verifyItemRelativeUrls.rootPath || n.url && n.url.path;\n\n    if (r) {\n      const o = I(r, n.portal);\n      u = t(I(u, n.portal), o, o), null != u && u !== e && n.verifyItemRelativeUrls && n.verifyItemRelativeUrls.writtenUrls.push(u);\n    }\n  }\n\n  return u = y(u, n?.portal), o(u) && (u = l(u)), n?.resources && n?.portalItem && !o(u) && !s(u) && a === R.YES && n.resources.toKeep.push({\n    resource: n.portalItem.resourceFromPath(u),\n    compress: !1\n  }), u;\n}\n\nfunction p(e, r, t) {\n  return c(e, t);\n}\n\nfunction f(e, r, t, o) {\n  const l = m(e, o);\n  void 0 !== l && (r[t] = l);\n}\n\nconst h = /\\/items\\/([^\\/]+)\\/resources\\/(.*)/,\n      v = /^\\.\\/resources\\//;\n\nfunction U(e) {\n  return (e?.match(h) ?? null)?.[1] ?? null;\n}\n\nfunction d(r) {\n  const t = r?.match(h) ?? null;\n  if (null == t) return null;\n  const o = t[2],\n        l = o.lastIndexOf(\"/\");\n\n  if (-1 === l) {\n    const {\n      path: r,\n      extension: t\n    } = n(o);\n    return {\n      prefix: null,\n      filename: r,\n      extension: e(t)\n    };\n  }\n\n  const {\n    path: s,\n    extension: a\n  } = n(o.slice(l + 1));\n  return {\n    prefix: o.slice(0, l),\n    filename: s,\n    extension: e(a)\n  };\n}\n\nfunction y(e, r) {\n  return r && !r.isPortal && r.urlKey && r.customBaseUrl ? a(e, `${r.urlKey}.${r.customBaseUrl}`, r.portalHostname) : e;\n}\n\nfunction I(e, r) {\n  if (!r || r.isPortal || !r.urlKey || !r.customBaseUrl) return e;\n  const t = `${r.urlKey}.${r.customBaseUrl}`,\n        o = i();\n  return u(o, `${o.scheme}://${t}`) ? a(e, r.portalHostname, t) : a(e, t, r.portalHostname);\n}\n\nvar R;\n!function (e) {\n  e[e.YES = 0] = \"YES\", e[e.NO = 1] = \"NO\";\n}(R || (R = {}));\nconst x = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  fromJSON: c,\n  toJSON: m,\n  read: p,\n  write: f,\n  itemIdFromResourceUrl: U,\n  prefixAndFilenameFromResourceUrl: d,\n  ensureMainOnlineDomain: y,\n\n  get MarkKeep() {\n    return R;\n  }\n\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { R as M, x as a, y as e, c as f, U as i, d as p, p as r, m as t, f as w };","map":{"version":3,"names":["unwrap","e","makeAbsolute","r","makeRelative","t","isAbsolute","o","normalize","l","isDataProtocol","s","splitPathExtension","n","changeDomain","a","hasSameOrigin","u","getAppUrl","i","c","url","path","preserveProtocolRelative","portalItem","readResourcePaths","itemUrl","v","test","push","resourceFromPath","I","portal","m","R","YES","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","y","resources","toKeep","resource","compress","p","f","h","U","match","d","lastIndexOf","extension","prefix","filename","slice","isPortal","urlKey","customBaseUrl","portalHostname","scheme","NO","x","Object","freeze","defineProperty","__proto__","fromJSON","toJSON","read","write","itemIdFromResourceUrl","prefixAndFilenameFromResourceUrl","ensureMainOnlineDomain","MarkKeep","Symbol","toStringTag","value","M","w"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/persistableUrlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../core/maybe.js\";import{makeAbsolute as r,makeRelative as t,isAbsolute as o,normalize as l,isDataProtocol as s,splitPathExtension as n,changeDomain as a,hasSameOrigin as u,getAppUrl as i}from\"../core/urlUtils.js\";function c(e,o){const l=o&&o.url&&o.url.path;if(e&&l&&(e=r(e,l,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const r=t(e,o.portalItem.itemUrl);null!=r&&v.test(r)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(r).path)}return I(e,o&&o.portal)}function m(e,n,a=R.YES){if(null==e)return e;!o(e)&&n&&n.blockedRelativeUrls&&n.blockedRelativeUrls.push(e);let u=r(e);if(n){const r=n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.rootPath||n.url&&n.url.path;if(r){const o=I(r,n.portal);u=t(I(u,n.portal),o,o),null!=u&&u!==e&&n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.writtenUrls.push(u)}}return u=y(u,n?.portal),o(u)&&(u=l(u)),n?.resources&&n?.portalItem&&!o(u)&&!s(u)&&a===R.YES&&n.resources.toKeep.push({resource:n.portalItem.resourceFromPath(u),compress:!1}),u}function p(e,r,t){return c(e,t)}function f(e,r,t,o){const l=m(e,o);void 0!==l&&(r[t]=l)}const h=/\\/items\\/([^\\/]+)\\/resources\\/(.*)/,v=/^\\.\\/resources\\//;function U(e){return(e?.match(h)??null)?.[1]??null}function d(r){const t=r?.match(h)??null;if(null==t)return null;const o=t[2],l=o.lastIndexOf(\"/\");if(-1===l){const{path:r,extension:t}=n(o);return{prefix:null,filename:r,extension:e(t)}}const{path:s,extension:a}=n(o.slice(l+1));return{prefix:o.slice(0,l),filename:s,extension:e(a)}}function y(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?a(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function I(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,o=i();return u(o,`${o.scheme}://${t}`)?a(e,r.portalHostname,t):a(e,t,r.portalHostname)}var R;!function(e){e[e.YES=0]=\"YES\",e[e.NO=1]=\"NO\"}(R||(R={}));const x=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:c,toJSON:m,read:p,write:f,itemIdFromResourceUrl:U,prefixAndFilenameFromResourceUrl:d,ensureMainOnlineDomain:y,get MarkKeep(){return R}},Symbol.toStringTag,{value:\"Module\"}));export{R as M,x as a,y as e,c as f,U as i,d as p,p as r,m as t,f as w};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}