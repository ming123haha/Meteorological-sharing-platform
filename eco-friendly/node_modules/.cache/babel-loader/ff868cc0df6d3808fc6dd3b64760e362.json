{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isBlockStatement as t, isVariableDeclarator as n, isBlockComment as e, isProgram as s } from \"./types.js\";\n\nfunction i(t, n) {\n  return !!n && n.loc.end.line === t.loc.start.line && n.loc.end.column <= t.loc.start.column;\n}\n\nfunction m(t, n) {\n  return t.range[0] >= n.range[0] && t.range[1] <= n.range[1];\n}\n\nclass o {\n  constructor() {\n    this.comments = [], this._nodeStack = [], this._newComments = [];\n  }\n\n  insertInnerComments(n) {\n    if (!t(n) || 0 !== n.body.length) return;\n    const e = [];\n\n    for (let t = this._newComments.length - 1; t >= 0; --t) {\n      const s = this._newComments[t];\n      n.range[1] >= s.range[0] && (e.unshift(s), this._newComments.splice(t, 1));\n    }\n\n    e.length && (n.innerComments = e);\n  }\n\n  attachTrailingComments(n) {\n    if (!n) return;\n    const e = this._nodeStack[this._nodeStack.length - 1];\n    if (t(n) && m(e, n)) for (let t = this._newComments.length - 1; t >= 0; --t) {\n      const s = this._newComments[t];\n      m(s, n) && (e.trailingComments = [...(e.trailingComments ?? []), s], this._newComments.splice(t, 1));\n    }\n    let s = [];\n    if (this._newComments.length > 0) for (let t = this._newComments.length - 1; t >= 0; --t) {\n      const m = this._newComments[t];\n      i(m, e) ? (e.trailingComments = [...(e.trailingComments ?? []), m], this._newComments.splice(t, 1)) : i(m, n) && (s.unshift(m), this._newComments.splice(t, 1));\n    }\n\n    if (e?.trailingComments) {\n      i(e.trailingComments[0], n) && (s = [...s, ...e.trailingComments], delete e.trailingComments);\n    }\n\n    s.length > 0 && (n.trailingComments = s);\n  }\n\n  attachLeadingComments(t) {\n    if (!t) return;\n    let s;\n\n    for (; this._nodeStack.length > 0;) {\n      const n = this._nodeStack[this._nodeStack.length - 1];\n      if (!(t.range[0] <= n.range[0])) break;\n      s = n, this._nodeStack.pop();\n    }\n\n    const i = [],\n          m = [];\n\n    if (s) {\n      for (let o = (s.leadingComments?.length ?? 0) - 1; o >= 0; --o) {\n        const l = s.leadingComments[o];\n        t.range[0] >= l.range[1] ? (i.unshift(l), s.leadingComments.splice(o, 1)) : n(t) && !e(l) && (m.unshift(l), s.leadingComments.splice(o, 1));\n      }\n\n      return 0 === s.leadingComments?.length && delete s.leadingComments, i.length && (t.leadingComments = i), void (m.length && (t.trailingComments = [...m, ...(t.trailingComments ?? [])]));\n    }\n\n    for (let n = this._newComments.length - 1; n >= 0; --n) {\n      const e = this._newComments[n];\n      t.range[0] >= e.range[0] && (i.unshift(e), this._newComments.splice(n, 1));\n    }\n\n    i.length && (t.leadingComments = i);\n  }\n\n  attachComments(t) {\n    if (s(t) && t.body.length > 0) {\n      const n = this._nodeStack[this._nodeStack.length - 1];\n      return n ? (n.trailingComments = [...(n.trailingComments ?? []), ...this._newComments], this._newComments.length = 0, void this._nodeStack.pop()) : (t.trailingComments = [...this._newComments], void (this._newComments.length = 0));\n    }\n\n    this.attachTrailingComments(t), this.attachLeadingComments(t), this.insertInnerComments(t), this._nodeStack.push(t);\n  }\n\n  collectComment(t) {\n    this.comments.push(t), this._newComments.push(t);\n  }\n\n}\n\nexport { o as CommentHandler };","map":{"version":3,"names":["isBlockStatement","t","isVariableDeclarator","n","isBlockComment","e","isProgram","s","i","loc","end","line","start","column","m","range","o","constructor","comments","_nodeStack","_newComments","insertInnerComments","body","length","unshift","splice","innerComments","attachTrailingComments","trailingComments","attachLeadingComments","pop","leadingComments","l","attachComments","push","collectComment","CommentHandler"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/lib/comment-handler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isBlockStatement as t,isVariableDeclarator as n,isBlockComment as e,isProgram as s}from\"./types.js\";function i(t,n){return!!n&&(n.loc.end.line===t.loc.start.line&&n.loc.end.column<=t.loc.start.column)}function m(t,n){return t.range[0]>=n.range[0]&&t.range[1]<=n.range[1]}class o{constructor(){this.comments=[],this._nodeStack=[],this._newComments=[]}insertInnerComments(n){if(!t(n)||0!==n.body.length)return;const e=[];for(let t=this._newComments.length-1;t>=0;--t){const s=this._newComments[t];n.range[1]>=s.range[0]&&(e.unshift(s),this._newComments.splice(t,1))}e.length&&(n.innerComments=e)}attachTrailingComments(n){if(!n)return;const e=this._nodeStack[this._nodeStack.length-1];if(t(n)&&m(e,n))for(let t=this._newComments.length-1;t>=0;--t){const s=this._newComments[t];m(s,n)&&(e.trailingComments=[...e.trailingComments??[],s],this._newComments.splice(t,1))}let s=[];if(this._newComments.length>0)for(let t=this._newComments.length-1;t>=0;--t){const m=this._newComments[t];i(m,e)?(e.trailingComments=[...e.trailingComments??[],m],this._newComments.splice(t,1)):i(m,n)&&(s.unshift(m),this._newComments.splice(t,1))}if(e?.trailingComments){i(e.trailingComments[0],n)&&(s=[...s,...e.trailingComments],delete e.trailingComments)}s.length>0&&(n.trailingComments=s)}attachLeadingComments(t){if(!t)return;let s;for(;this._nodeStack.length>0;){const n=this._nodeStack[this._nodeStack.length-1];if(!(t.range[0]<=n.range[0]))break;s=n,this._nodeStack.pop()}const i=[],m=[];if(s){for(let o=(s.leadingComments?.length??0)-1;o>=0;--o){const l=s.leadingComments[o];t.range[0]>=l.range[1]?(i.unshift(l),s.leadingComments.splice(o,1)):n(t)&&!e(l)&&(m.unshift(l),s.leadingComments.splice(o,1))}return 0===s.leadingComments?.length&&delete s.leadingComments,i.length&&(t.leadingComments=i),void(m.length&&(t.trailingComments=[...m,...t.trailingComments??[]]))}for(let n=this._newComments.length-1;n>=0;--n){const e=this._newComments[n];t.range[0]>=e.range[0]&&(i.unshift(e),this._newComments.splice(n,1))}i.length&&(t.leadingComments=i)}attachComments(t){if(s(t)&&t.body.length>0){const n=this._nodeStack[this._nodeStack.length-1];return n?(n.trailingComments=[...n.trailingComments??[],...this._newComments],this._newComments.length=0,void this._nodeStack.pop()):(t.trailingComments=[...this._newComments],void(this._newComments.length=0))}this.attachTrailingComments(t),this.attachLeadingComments(t),this.insertInnerComments(t),this._nodeStack.push(t)}collectComment(t){this.comments.push(t),this._newComments.push(t)}}export{o as CommentHandler};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}