{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clone as t } from \"../../../../../core/lang.js\";\nimport { urlToObject as e, isAbsolute as i, join as r, addQueryParameters as l } from \"../../../../../core/urlUtils.js\";\nimport s from \"../../../../../geometry/Extent.js\";\nimport { readServiceTileInfo as o } from \"../../../../../layers/support/serviceTileInfoProperty.js\";\nimport { TilemapCache as n } from \"../../../../../layers/support/TilemapCache.js\";\nimport a from \"../TilemapIndex.js\";\nimport p from \"../TilemapRequest.js\";\nimport { request as u } from \"./VectorTilesRequestManager.js\";\n\nclass h {\n  constructor(u, h, m) {\n    this.tilemap = null, this.tileInfo = null, this.capabilities = null, this.fullExtent = null, this.name = u, this.sourceUrl = h;\n    const f = e(this.sourceUrl),\n          c = t(m),\n          x = c.tiles;\n    if (f) for (let t = 0; t < x.length; t++) {\n      const s = e(x[t]);\n      s && (i(s.path) || (s.path = r(f.path, s.path)), x[t] = l(s.path, { ...f.query,\n        ...s.query\n      }));\n    }\n    this.tileServers = x;\n    const d = m.capabilities && m.capabilities.split(\",\").map(t => t.toLowerCase().trim()),\n          y = !0 === m?.exportTilesAllowed,\n          T = !0 === d?.includes(\"tilemap\"),\n          g = y && m.hasOwnProperty(\"maxExportTilesCount\") ? m.maxExportTilesCount : 0;\n    this.capabilities = {\n      operations: {\n        supportsExportTiles: y,\n        supportsTileMap: T\n      },\n      exportTiles: y ? {\n        maxExportTilesCount: +g\n      } : null\n    }, this.tileInfo = o(c.tileInfo, c, null, {\n      ignoreMinMaxLOD: !0\n    });\n    const M = m.tileMap ? l(r(f.path, m.tileMap), f.query) : null;\n    T ? (this.type = \"vector-tile\", this.tilemap = new p(new n({\n      layer: {\n        parsedUrl: f,\n        tileInfo: this.tileInfo,\n        type: \"vector-tile\",\n        tileServers: this.tileServers\n      }\n    }), M)) : M && (this.tilemap = new a(M)), this.fullExtent = s.fromJSON(m.fullExtent);\n  }\n\n  destroy() {}\n\n  async getRefKey(t, e) {\n    return this.tilemap?.dataKey(t, e) ?? t;\n  }\n\n  requestTile(t, e, i, r) {\n    const l = this.tileServers[e % this.tileServers.length];\n    return u(l, t, e, i, r);\n  }\n\n  isCompatibleWith(t) {\n    const e = this.tileInfo,\n          i = t.tileInfo;\n    if (!e.spatialReference.equals(i.spatialReference)) return !1;\n    if (!e.origin.equals(i.origin)) return !1;\n    if (Math.round(e.dpi) !== Math.round(i.dpi)) return !1;\n    const r = e.lods,\n          l = i.lods,\n          s = Math.min(r.length, l.length);\n\n    for (let o = 0; o < s; o++) {\n      const t = r[o],\n            e = l[o];\n      if (t.level !== e.level || Math.round(t.scale) !== Math.round(e.scale)) return !1;\n    }\n\n    return !0;\n  }\n\n}\n\nexport { h as default };","map":{"version":3,"names":["clone","t","urlToObject","e","isAbsolute","i","join","r","addQueryParameters","l","s","readServiceTileInfo","o","TilemapCache","n","a","p","request","u","h","constructor","m","tilemap","tileInfo","capabilities","fullExtent","name","sourceUrl","f","c","x","tiles","length","path","query","tileServers","d","split","map","toLowerCase","trim","y","exportTilesAllowed","T","includes","g","hasOwnProperty","maxExportTilesCount","operations","supportsExportTiles","supportsTileMap","exportTiles","ignoreMinMaxLOD","M","tileMap","type","layer","parsedUrl","fromJSON","destroy","getRefKey","dataKey","requestTile","isCompatibleWith","spatialReference","equals","origin","Math","round","dpi","lods","min","level","scale","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../../core/lang.js\";import{urlToObject as e,isAbsolute as i,join as r,addQueryParameters as l}from\"../../../../../core/urlUtils.js\";import s from\"../../../../../geometry/Extent.js\";import{readServiceTileInfo as o}from\"../../../../../layers/support/serviceTileInfoProperty.js\";import{TilemapCache as n}from\"../../../../../layers/support/TilemapCache.js\";import a from\"../TilemapIndex.js\";import p from\"../TilemapRequest.js\";import{request as u}from\"./VectorTilesRequestManager.js\";class h{constructor(u,h,m){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=u,this.sourceUrl=h;const f=e(this.sourceUrl),c=t(m),x=c.tiles;if(f)for(let t=0;t<x.length;t++){const s=e(x[t]);s&&(i(s.path)||(s.path=r(f.path,s.path)),x[t]=l(s.path,{...f.query,...s.query}))}this.tileServers=x;const d=m.capabilities&&m.capabilities.split(\",\").map((t=>t.toLowerCase().trim())),y=!0===m?.exportTilesAllowed,T=!0===d?.includes(\"tilemap\"),g=y&&m.hasOwnProperty(\"maxExportTilesCount\")?m.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:y,supportsTileMap:T},exportTiles:y?{maxExportTilesCount:+g}:null},this.tileInfo=o(c.tileInfo,c,null,{ignoreMinMaxLOD:!0});const M=m.tileMap?l(r(f.path,m.tileMap),f.query):null;T?(this.type=\"vector-tile\",this.tilemap=new p(new n({layer:{parsedUrl:f,tileInfo:this.tileInfo,type:\"vector-tile\",tileServers:this.tileServers}}),M)):M&&(this.tilemap=new a(M)),this.fullExtent=s.fromJSON(m.fullExtent)}destroy(){}async getRefKey(t,e){return this.tilemap?.dataKey(t,e)??t}requestTile(t,e,i,r){const l=this.tileServers[e%this.tileServers.length];return u(l,t,e,i,r)}isCompatibleWith(t){const e=this.tileInfo,i=t.tileInfo;if(!e.spatialReference.equals(i.spatialReference))return!1;if(!e.origin.equals(i.origin))return!1;if(Math.round(e.dpi)!==Math.round(i.dpi))return!1;const r=e.lods,l=i.lods,s=Math.min(r.length,l.length);for(let o=0;o<s;o++){const t=r[o],e=l[o];if(t.level!==e.level||Math.round(t.scale)!==Math.round(e.scale))return!1}return!0}}export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}