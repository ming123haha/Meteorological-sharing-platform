{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport e from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport o from \"../core/Evented.js\";\nimport { IdentifiableMixin as i } from \"../core/Identifiable.js\";\nimport s from \"../core/Loadable.js\";\nimport a from \"../core/Logger.js\";\nimport { isAbortError as l } from \"../core/promiseUtils.js\";\nimport { urlToObject as n } from \"../core/urlUtils.js\";\nimport { property as p } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as y } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { fromPortalItem as d } from \"./support/fromPortalItem.js\";\nimport u from \"../geometry/Extent.js\";\nimport c from \"../geometry/SpatialReference.js\";\nlet m = 0,\n    h = class extends o.EventedMixin(i(s)) {\n  constructor() {\n    super(...arguments), this.attributionDataUrl = null, this.fullExtent = new u(-180, -90, 180, 90, c.WGS84), this.id = Date.now().toString(16) + \"-layer-\" + m++, this.legendEnabled = !0, this.listMode = \"show\", this.opacity = 1, this.parent = null, this.popupEnabled = !0, this.attributionVisible = !0, this.spatialReference = c.WGS84, this.title = null, this.type = null, this.url = null, this.visible = !0;\n  }\n\n  static async fromArcGISServerUrl(t) {\n    const e = \"string\" == typeof t ? {\n      url: t\n    } : t;\n    return (await import(\"./support/arcgisLayers.js\")).fromUrl(e);\n  }\n\n  static fromPortalItem(t) {\n    return d(t);\n  }\n\n  initialize() {\n    this.when().catch(t => {\n      l(t) || a.getLogger(this.declaredClass).error(\"#load()\", `Failed to load layer (title: '${this.title ?? \"no title\"}', id: '${this.id ?? \"no id\"}')`, {\n        error: t\n      });\n    });\n  }\n\n  destroy() {\n    if (this.parent) {\n      const t = this,\n            e = this.parent;\n      \"layers\" in e && e.layers.includes(t) ? e.layers.remove(t) : \"tables\" in e && e.tables.includes(t) ? e.tables.remove(t) : \"baseLayers\" in e && e.baseLayers.includes(t) ? e.baseLayers.remove(t) : \"baseLayers\" in e && e.referenceLayers.includes(t) && e.referenceLayers.remove(t);\n    }\n  }\n\n  get hasAttributionData() {\n    return null != this.attributionDataUrl;\n  }\n\n  get parsedUrl() {\n    return n(this.url);\n  }\n\n  async fetchAttributionData() {\n    const t = this.attributionDataUrl;\n\n    if (this.hasAttributionData && t) {\n      return (await e(t, {\n        query: {\n          f: \"json\"\n        },\n        responseType: \"json\"\n      })).data;\n    }\n\n    throw new r(\"layer:no-attribution-data\", \"Layer does not have attribution data\");\n  }\n\n};\nt([p({\n  type: String\n})], h.prototype, \"attributionDataUrl\", void 0), t([p({\n  type: u\n})], h.prototype, \"fullExtent\", void 0), t([p({\n  readOnly: !0\n})], h.prototype, \"hasAttributionData\", null), t([p({\n  type: String,\n  clonable: !1\n})], h.prototype, \"id\", void 0), t([p({\n  type: Boolean,\n  nonNullable: !0\n})], h.prototype, \"legendEnabled\", void 0), t([p({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], h.prototype, \"listMode\", void 0), t([p({\n  type: Number,\n  range: {\n    min: 0,\n    max: 1\n  },\n  nonNullable: !0\n})], h.prototype, \"opacity\", void 0), t([p({\n  clonable: !1\n})], h.prototype, \"parent\", void 0), t([p({\n  readOnly: !0\n})], h.prototype, \"parsedUrl\", null), t([p({\n  type: Boolean\n})], h.prototype, \"popupEnabled\", void 0), t([p({\n  type: Boolean\n})], h.prototype, \"attributionVisible\", void 0), t([p({\n  type: c\n})], h.prototype, \"spatialReference\", void 0), t([p({\n  type: String\n})], h.prototype, \"title\", void 0), t([p({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], h.prototype, \"type\", void 0), t([p()], h.prototype, \"url\", void 0), t([p({\n  type: Boolean,\n  nonNullable: !0\n})], h.prototype, \"visible\", void 0), h = t([y(\"esri.layers.Layer\")], h);\nconst b = h;\nexport { b as default };","map":{"version":3,"names":["_","t","e","r","o","IdentifiableMixin","i","s","a","isAbortError","l","urlToObject","n","property","p","subclass","y","fromPortalItem","d","u","c","m","h","EventedMixin","constructor","arguments","attributionDataUrl","fullExtent","WGS84","id","Date","now","toString","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","title","type","url","visible","fromArcGISServerUrl","fromUrl","initialize","when","catch","getLogger","declaredClass","error","destroy","layers","includes","remove","tables","baseLayers","referenceLayers","hasAttributionData","parsedUrl","fetchAttributionData","query","f","responseType","data","String","prototype","readOnly","clonable","Boolean","nonNullable","Number","range","min","max","json","read","b","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/Layer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import e from\"../request.js\";import r from\"../core/Error.js\";import o from\"../core/Evented.js\";import{IdentifiableMixin as i}from\"../core/Identifiable.js\";import s from\"../core/Loadable.js\";import a from\"../core/Logger.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{fromPortalItem as d}from\"./support/fromPortalItem.js\";import u from\"../geometry/Extent.js\";import c from\"../geometry/SpatialReference.js\";let m=0,h=class extends(o.EventedMixin(i(s))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new u(-180,-90,180,90,c.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=c.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=\"string\"==typeof t?{url:t}:t;return(await import(\"./support/arcgisLayers.js\")).fromUrl(e)}static fromPortalItem(t){return d(t)}initialize(){this.when().catch((t=>{l(t)||a.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${this.title??\"no title\"}', id: '${this.id??\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,e=this.parent;\"layers\"in e&&e.layers.includes(t)?e.layers.remove(t):\"tables\"in e&&e.tables.includes(t)?e.tables.remove(t):\"baseLayers\"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):\"baseLayers\"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return n(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await e(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new r(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([p({type:String})],h.prototype,\"attributionDataUrl\",void 0),t([p({type:u})],h.prototype,\"fullExtent\",void 0),t([p({readOnly:!0})],h.prototype,\"hasAttributionData\",null),t([p({type:String,clonable:!1})],h.prototype,\"id\",void 0),t([p({type:Boolean,nonNullable:!0})],h.prototype,\"legendEnabled\",void 0),t([p({type:[\"show\",\"hide\",\"hide-children\"]})],h.prototype,\"listMode\",void 0),t([p({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,\"opacity\",void 0),t([p({clonable:!1})],h.prototype,\"parent\",void 0),t([p({readOnly:!0})],h.prototype,\"parsedUrl\",null),t([p({type:Boolean})],h.prototype,\"popupEnabled\",void 0),t([p({type:Boolean})],h.prototype,\"attributionVisible\",void 0),t([p({type:c})],h.prototype,\"spatialReference\",void 0),t([p({type:String})],h.prototype,\"title\",void 0),t([p({readOnly:!0,json:{read:!1}})],h.prototype,\"type\",void 0),t([p()],h.prototype,\"url\",void 0),t([p({type:Boolean,nonNullable:!0})],h.prototype,\"visible\",void 0),h=t([y(\"esri.layers.Layer\")],h);const b=h;export{b as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}