{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../request.js\";\nimport t from \"../../../../../core/Error.js\";\nimport has from \"../../../../../core/has.js\";\nimport r from \"../../../../../core/Logger.js\";\nimport { isSome as s, unwrapOr as i, isNone as a } from \"../../../../../core/maybe.js\";\nimport { throwIfAborted as o, isAbortError as n } from \"../../../../../core/promiseUtils.js\";\nimport { createSourceAdapter as u } from \"../controllers/support/sourceAdapters.js\";\nimport { DataTileSource as c } from \"./DataTileSource.js\";\nimport { QueueProcessor as l } from \"../../../../support/QueueProcessor.js\";\nconst p = 4;\n\nclass d extends c {\n  constructor(e) {\n    super(e), this.type = \"feature\", this.mode = \"on-demand\", this._adapter = u(e.serviceInfo), this._queue = new l({\n      concurrency: 8,\n      process: async e => {\n        if (o(e), s(e.tile)) {\n          const t = e.tile.key.id,\n                {\n            signal: r\n          } = e,\n                s = has(\"esri-tiles-debug\") ? {\n            tile: t.replace(/\\//g, \".\"),\n            depth: e.depth\n          } : void 0,\n                i = await this._adapter.executeQuery(e.query, {\n            signal: r,\n            query: { ...s,\n              ...this._schema.customParameters\n            }\n          });\n          return i.level = e.tile.key.level, i;\n        }\n\n        return this._adapter.executeQuery(e.query, { ...e,\n          query: this._schema.customParameters\n        });\n      }\n    }), this._patchQueue = new l({\n      concurrency: 8,\n      process: async e => {\n        if (o(e), s(e.tile)) {\n          const t = e.tile.key.id,\n                {\n            signal: r\n          } = e,\n                s = has(\"esri-tiles-debug\") ? {\n            tile: t.replace(/\\//g, \".\"),\n            depth: e.depth\n          } : void 0,\n                i = await this._adapter.executeQuery(e.query, {\n            signal: r,\n            query: { ...s,\n              ...this._schema.customParameters\n            }\n          });\n          return i.level = e.tile.key.level, i;\n        }\n\n        return this._adapter.executeQuery(e.query, { ...e,\n          query: this._schema.customParameters\n        });\n      }\n    });\n  }\n\n  destroy() {\n    super.destroy(), this._adapter.destroy(), this._queue.destroy(), this._patchQueue.destroy();\n  }\n\n  get updating() {\n    return !!this._queue.length || Array.from(this._subscriptions.values()).some(e => !e.done);\n  }\n\n  get maxRecordCountFactor() {\n    const {\n      query: e\n    } = this._serviceInfo.capabilities;\n    return e.supportsMaxRecordCountFactor ? p : null;\n  }\n\n  get maxPageSize() {\n    const {\n      query: e\n    } = this._serviceInfo.capabilities;\n    return (e.maxRecordCount ?? 8e3) * i(this.maxRecordCountFactor, 1);\n  }\n\n  get pageSize() {\n    return Math.min(8e3, this.maxPageSize);\n  }\n\n  enableEvent(e, t) {}\n\n  subscribe(e, s) {\n    super.subscribe(e, s);\n\n    const i = this._subscriptions.get(e.id);\n\n    this._fetchDataTile(e).catch(s => {\n      n(s) || r.getLogger(\"esri.views.2d.layers.features.sources.BaseFeatureSource\").error(new t(\"mapview-query-error\", \"Encountered error when fetching tile\", {\n        tile: e,\n        error: s\n      }));\n    }).then(() => i.end());\n  }\n\n  unsubscribe(e) {\n    super.unsubscribe(e);\n  }\n\n  readers(e) {\n    return this._subscriptions.get(e).readers();\n  }\n\n  async query(e) {\n    return this._adapter.executeQuery(e, {\n      query: this._schema.customParameters\n    });\n  }\n\n  async queryLastEditDate() {\n    const t = this._serviceInfo.source,\n          r = { ...t.query,\n      f: \"json\"\n    };\n    return (await e(t.path, {\n      query: r,\n      responseType: \"json\"\n    })).data.editingInfo.lastEditDate;\n  }\n\n  createTileQuery(e, t = {}) {\n    const r = this._serviceInfo.geometryType,\n          s = this.createQuery(t);\n    s.quantizationParameters = t.quantizationParameters ?? e.getQuantizationParameters(), s.resultType = \"tile\", s.geometry = e.extent, this._serviceInfo.capabilities.query.supportsQuantization ? \"esriGeometryPolyline\" === r && (s.maxAllowableOffset = e.resolution * has(\"feature-polyline-generalization-factor\")) : \"esriGeometryPolyline\" !== r && \"esriGeometryPolygon\" !== r || (s.maxAllowableOffset = e.resolution, \"esriGeometryPolyline\" === r && (s.maxAllowableOffset *= has(\"feature-polyline-generalization-factor\")));\n    const i = this._serviceInfo.capabilities.query;\n    return s.defaultSpatialReferenceEnabled = i.supportsDefaultSpatialReference, s.compactGeometryEnabled = i.supportsCompactGeometry, s;\n  }\n\n  async _executePatchQuery(e, t, r, i) {\n    const a = t.clone();\n    a.outFields = [this._serviceInfo.objectIdField, ...r], a.returnCentroid = !1, a.returnGeometry = !1;\n    const o = s(a.start) ? a.start / 8e3 : 0,\n          n = i.signal;\n    return this._patchQueue.push({\n      tile: e,\n      query: a,\n      signal: n,\n      depth: o\n    });\n  }\n\n  async _resend(e, t) {\n    const {\n      query: r,\n      message: i\n    } = e,\n          n = s(r.outFields) ? r.outFields : [],\n          u = this._queryInfo.outFields,\n          c = u.filter(e => !n.includes(e));\n    if (a(i.addOrUpdate)) this._onMessage({ ...i,\n      type: \"append\"\n    });else if (c.length) try {\n      const e = this._subscriptions.get(i.id).tile,\n            s = await this._executePatchQuery(e, r, c, t);\n\n      o(t), r.outFields = u, i.addOrUpdate.joinAttributes(s), this._onMessage({ ...i,\n        end: i.end,\n        type: \"append\"\n      });\n    } catch (l) {} else this._onMessage({ ...i,\n      type: \"append\"\n    });\n  }\n\n  async _resendSubscription(e) {\n    if (has(\"esri-2d-update-debug\") && console.debug(e.tile.id, \"Resend Subscription\"), e.empty) return this._onMessage({\n      id: e.tile.id,\n      addOrUpdate: null,\n      end: !1,\n      type: \"append\"\n    });\n    const t = e.signal;\n\n    for (const r of e.requests.done) await this._resend(r, {\n      signal: t\n    });\n\n    return s(e.edits) ? this._onMessage(e.edits) : void 0;\n  }\n\n  async resend() {\n    const e = Array.from(this._subscriptions.values());\n    await Promise.all(e.map(e => this._resendSubscription(e)));\n  }\n\n}\n\nexport { d as BaseFeatureSource };","map":{"version":3,"names":["e","t","has","r","isSome","s","unwrapOr","i","isNone","a","throwIfAborted","o","isAbortError","n","createSourceAdapter","u","DataTileSource","c","QueueProcessor","l","p","d","constructor","type","mode","_adapter","serviceInfo","_queue","concurrency","process","tile","key","id","signal","replace","depth","executeQuery","query","_schema","customParameters","level","_patchQueue","destroy","updating","length","Array","from","_subscriptions","values","some","done","maxRecordCountFactor","_serviceInfo","capabilities","supportsMaxRecordCountFactor","maxPageSize","maxRecordCount","pageSize","Math","min","enableEvent","subscribe","get","_fetchDataTile","catch","getLogger","error","then","end","unsubscribe","readers","queryLastEditDate","source","f","path","responseType","data","editingInfo","lastEditDate","createTileQuery","geometryType","createQuery","quantizationParameters","getQuantizationParameters","resultType","geometry","extent","supportsQuantization","maxAllowableOffset","resolution","defaultSpatialReferenceEnabled","supportsDefaultSpatialReference","compactGeometryEnabled","supportsCompactGeometry","_executePatchQuery","clone","outFields","objectIdField","returnCentroid","returnGeometry","start","push","_resend","message","_queryInfo","filter","includes","addOrUpdate","_onMessage","joinAttributes","_resendSubscription","console","debug","empty","requests","edits","resend","Promise","all","map","BaseFeatureSource"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/sources/BaseFeatureSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../request.js\";import t from\"../../../../../core/Error.js\";import has from\"../../../../../core/has.js\";import r from\"../../../../../core/Logger.js\";import{isSome as s,unwrapOr as i,isNone as a}from\"../../../../../core/maybe.js\";import{throwIfAborted as o,isAbortError as n}from\"../../../../../core/promiseUtils.js\";import{createSourceAdapter as u}from\"../controllers/support/sourceAdapters.js\";import{DataTileSource as c}from\"./DataTileSource.js\";import{QueueProcessor as l}from\"../../../../support/QueueProcessor.js\";const p=4;class d extends c{constructor(e){super(e),this.type=\"feature\",this.mode=\"on-demand\",this._adapter=u(e.serviceInfo),this._queue=new l({concurrency:8,process:async e=>{if(o(e),s(e.tile)){const t=e.tile.key.id,{signal:r}=e,s=has(\"esri-tiles-debug\")?{tile:t.replace(/\\//g,\".\"),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema.customParameters})}}),this._patchQueue=new l({concurrency:8,process:async e=>{if(o(e),s(e.tile)){const t=e.tile.key.id,{signal:r}=e,s=has(\"esri-tiles-debug\")?{tile:t.replace(/\\//g,\".\"),depth:e.depth}:void 0,i=await this._adapter.executeQuery(e.query,{signal:r,query:{...s,...this._schema.customParameters}});return i.level=e.tile.key.level,i}return this._adapter.executeQuery(e.query,{...e,query:this._schema.customParameters})}})}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy()}get updating(){return!!this._queue.length||Array.from(this._subscriptions.values()).some((e=>!e.done))}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?p:null}get maxPageSize(){const{query:e}=this._serviceInfo.capabilities;return(e.maxRecordCount??8e3)*i(this.maxRecordCountFactor,1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e,s){super.subscribe(e,s);const i=this._subscriptions.get(e.id);this._fetchDataTile(e).catch((s=>{n(s)||r.getLogger(\"esri.views.2d.layers.features.sources.BaseFeatureSource\").error(new t(\"mapview-query-error\",\"Encountered error when fetching tile\",{tile:e,error:s}))})).then((()=>i.end()))}unsubscribe(e){super.unsubscribe(e)}readers(e){return this._subscriptions.get(e).readers()}async query(e){return this._adapter.executeQuery(e,{query:this._schema.customParameters})}async queryLastEditDate(){const t=this._serviceInfo.source,r={...t.query,f:\"json\"};return(await e(t.path,{query:r,responseType:\"json\"})).data.editingInfo.lastEditDate}createTileQuery(e,t={}){const r=this._serviceInfo.geometryType,s=this.createQuery(t);s.quantizationParameters=t.quantizationParameters??e.getQuantizationParameters(),s.resultType=\"tile\",s.geometry=e.extent,this._serviceInfo.capabilities.query.supportsQuantization?\"esriGeometryPolyline\"===r&&(s.maxAllowableOffset=e.resolution*has(\"feature-polyline-generalization-factor\")):\"esriGeometryPolyline\"!==r&&\"esriGeometryPolygon\"!==r||(s.maxAllowableOffset=e.resolution,\"esriGeometryPolyline\"===r&&(s.maxAllowableOffset*=has(\"feature-polyline-generalization-factor\")));const i=this._serviceInfo.capabilities.query;return s.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference,s.compactGeometryEnabled=i.supportsCompactGeometry,s}async _executePatchQuery(e,t,r,i){const a=t.clone();a.outFields=[this._serviceInfo.objectIdField,...r],a.returnCentroid=!1,a.returnGeometry=!1;const o=s(a.start)?a.start/8e3:0,n=i.signal;return this._patchQueue.push({tile:e,query:a,signal:n,depth:o})}async _resend(e,t){const{query:r,message:i}=e,n=s(r.outFields)?r.outFields:[],u=this._queryInfo.outFields,c=u.filter((e=>!n.includes(e)));if(a(i.addOrUpdate))this._onMessage({...i,type:\"append\"});else if(c.length)try{const e=this._subscriptions.get(i.id).tile,s=await this._executePatchQuery(e,r,c,t);o(t),r.outFields=u,i.addOrUpdate.joinAttributes(s),this._onMessage({...i,end:i.end,type:\"append\"})}catch(l){}else this._onMessage({...i,type:\"append\"})}async _resendSubscription(e){if(has(\"esri-2d-update-debug\")&&console.debug(e.tile.id,\"Resend Subscription\"),e.empty)return this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:\"append\"});const t=e.signal;for(const r of e.requests.done)await this._resend(r,{signal:t});return s(e.edits)?this._onMessage(e.edits):void 0}async resend(){const e=Array.from(this._subscriptions.values());await Promise.all(e.map((e=>this._resendSubscription(e))))}}export{d as BaseFeatureSource};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,2BAAb;AAAyC,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAOC,GAAP,MAAe,4BAAf;AAA4C,OAAOC,CAAP,MAAa,+BAAb;AAA6C,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,QAAQ,IAAIC,CAA/B,EAAiCC,MAAM,IAAIC,CAA3C,QAAiD,8BAAjD;AAAgF,SAAOC,cAAc,IAAIC,CAAzB,EAA2BC,YAAY,IAAIC,CAA3C,QAAiD,qCAAjD;AAAuF,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,0CAApC;AAA+E,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,qBAA/B;AAAqD,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,uCAA/B;AAAuE,MAAMC,CAAC,GAAC,CAAR;;AAAU,MAAMC,CAAN,SAAgBJ,CAAhB,CAAiB;EAACK,WAAW,CAACtB,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKuB,IAAL,GAAU,SAAnB,EAA6B,KAAKC,IAAL,GAAU,WAAvC,EAAmD,KAAKC,QAAL,GAAcV,CAAC,CAACf,CAAC,CAAC0B,WAAH,CAAlE,EAAkF,KAAKC,MAAL,GAAY,IAAIR,CAAJ,CAAM;MAACS,WAAW,EAAC,CAAb;MAAeC,OAAO,EAAC,MAAM7B,CAAN,IAAS;QAAC,IAAGW,CAAC,CAACX,CAAD,CAAD,EAAKK,CAAC,CAACL,CAAC,CAAC8B,IAAH,CAAT,EAAkB;UAAC,MAAM7B,CAAC,GAACD,CAAC,CAAC8B,IAAF,CAAOC,GAAP,CAAWC,EAAnB;UAAA,MAAsB;YAACC,MAAM,EAAC9B;UAAR,IAAWH,CAAjC;UAAA,MAAmCK,CAAC,GAACH,GAAG,CAAC,kBAAD,CAAH,GAAwB;YAAC4B,IAAI,EAAC7B,CAAC,CAACiC,OAAF,CAAU,KAAV,EAAgB,GAAhB,CAAN;YAA2BC,KAAK,EAACnC,CAAC,CAACmC;UAAnC,CAAxB,GAAkE,KAAK,CAA5G;UAAA,MAA8G5B,CAAC,GAAC,MAAM,KAAKkB,QAAL,CAAcW,YAAd,CAA2BpC,CAAC,CAACqC,KAA7B,EAAmC;YAACJ,MAAM,EAAC9B,CAAR;YAAUkC,KAAK,EAAC,EAAC,GAAGhC,CAAJ;cAAM,GAAG,KAAKiC,OAAL,CAAaC;YAAtB;UAAhB,CAAnC,CAAtH;UAAmN,OAAOhC,CAAC,CAACiC,KAAF,GAAQxC,CAAC,CAAC8B,IAAF,CAAOC,GAAP,CAAWS,KAAnB,EAAyBjC,CAAhC;QAAkC;;QAAA,OAAO,KAAKkB,QAAL,CAAcW,YAAd,CAA2BpC,CAAC,CAACqC,KAA7B,EAAmC,EAAC,GAAGrC,CAAJ;UAAMqC,KAAK,EAAC,KAAKC,OAAL,CAAaC;QAAzB,CAAnC,CAAP;MAAsF;IAA/X,CAAN,CAA9F,EAAse,KAAKE,WAAL,GAAiB,IAAItB,CAAJ,CAAM;MAACS,WAAW,EAAC,CAAb;MAAeC,OAAO,EAAC,MAAM7B,CAAN,IAAS;QAAC,IAAGW,CAAC,CAACX,CAAD,CAAD,EAAKK,CAAC,CAACL,CAAC,CAAC8B,IAAH,CAAT,EAAkB;UAAC,MAAM7B,CAAC,GAACD,CAAC,CAAC8B,IAAF,CAAOC,GAAP,CAAWC,EAAnB;UAAA,MAAsB;YAACC,MAAM,EAAC9B;UAAR,IAAWH,CAAjC;UAAA,MAAmCK,CAAC,GAACH,GAAG,CAAC,kBAAD,CAAH,GAAwB;YAAC4B,IAAI,EAAC7B,CAAC,CAACiC,OAAF,CAAU,KAAV,EAAgB,GAAhB,CAAN;YAA2BC,KAAK,EAACnC,CAAC,CAACmC;UAAnC,CAAxB,GAAkE,KAAK,CAA5G;UAAA,MAA8G5B,CAAC,GAAC,MAAM,KAAKkB,QAAL,CAAcW,YAAd,CAA2BpC,CAAC,CAACqC,KAA7B,EAAmC;YAACJ,MAAM,EAAC9B,CAAR;YAAUkC,KAAK,EAAC,EAAC,GAAGhC,CAAJ;cAAM,GAAG,KAAKiC,OAAL,CAAaC;YAAtB;UAAhB,CAAnC,CAAtH;UAAmN,OAAOhC,CAAC,CAACiC,KAAF,GAAQxC,CAAC,CAAC8B,IAAF,CAAOC,GAAP,CAAWS,KAAnB,EAAyBjC,CAAhC;QAAkC;;QAAA,OAAO,KAAKkB,QAAL,CAAcW,YAAd,CAA2BpC,CAAC,CAACqC,KAA7B,EAAmC,EAAC,GAAGrC,CAAJ;UAAMqC,KAAK,EAAC,KAAKC,OAAL,CAAaC;QAAzB,CAAnC,CAAP;MAAsF;IAA/X,CAAN,CAAvf;EAA+3B;;EAAAG,OAAO,GAAE;IAAC,MAAMA,OAAN,IAAgB,KAAKjB,QAAL,CAAciB,OAAd,EAAhB,EAAwC,KAAKf,MAAL,CAAYe,OAAZ,EAAxC,EAA8D,KAAKD,WAAL,CAAiBC,OAAjB,EAA9D;EAAyF;;EAAY,IAARC,QAAQ,GAAE;IAAC,OAAM,CAAC,CAAC,KAAKhB,MAAL,CAAYiB,MAAd,IAAsBC,KAAK,CAACC,IAAN,CAAW,KAAKC,cAAL,CAAoBC,MAApB,EAAX,EAAyCC,IAAzC,CAA+CjD,CAAC,IAAE,CAACA,CAAC,CAACkD,IAArD,CAA5B;EAAwF;;EAAwB,IAApBC,oBAAoB,GAAE;IAAC,MAAK;MAACd,KAAK,EAACrC;IAAP,IAAU,KAAKoD,YAAL,CAAkBC,YAAjC;IAA8C,OAAOrD,CAAC,CAACsD,4BAAF,GAA+BlC,CAA/B,GAAiC,IAAxC;EAA6C;;EAAe,IAAXmC,WAAW,GAAE;IAAC,MAAK;MAAClB,KAAK,EAACrC;IAAP,IAAU,KAAKoD,YAAL,CAAkBC,YAAjC;IAA8C,OAAM,CAACrD,CAAC,CAACwD,cAAF,IAAkB,GAAnB,IAAwBjD,CAAC,CAAC,KAAK4C,oBAAN,EAA2B,CAA3B,CAA/B;EAA6D;;EAAY,IAARM,QAAQ,GAAE;IAAC,OAAOC,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa,KAAKJ,WAAlB,CAAP;EAAsC;;EAAAK,WAAW,CAAC5D,CAAD,EAAGC,CAAH,EAAK,CAAE;;EAAA4D,SAAS,CAAC7D,CAAD,EAAGK,CAAH,EAAK;IAAC,MAAMwD,SAAN,CAAgB7D,CAAhB,EAAkBK,CAAlB;;IAAqB,MAAME,CAAC,GAAC,KAAKwC,cAAL,CAAoBe,GAApB,CAAwB9D,CAAC,CAACgC,EAA1B,CAAR;;IAAsC,KAAK+B,cAAL,CAAoB/D,CAApB,EAAuBgE,KAAvB,CAA8B3D,CAAC,IAAE;MAACQ,CAAC,CAACR,CAAD,CAAD,IAAMF,CAAC,CAAC8D,SAAF,CAAY,yDAAZ,EAAuEC,KAAvE,CAA6E,IAAIjE,CAAJ,CAAM,qBAAN,EAA4B,sCAA5B,EAAmE;QAAC6B,IAAI,EAAC9B,CAAN;QAAQkE,KAAK,EAAC7D;MAAd,CAAnE,CAA7E,CAAN;IAAyK,CAA3M,EAA8M8D,IAA9M,CAAoN,MAAI5D,CAAC,CAAC6D,GAAF,EAAxN;EAAkO;;EAAAC,WAAW,CAACrE,CAAD,EAAG;IAAC,MAAMqE,WAAN,CAAkBrE,CAAlB;EAAqB;;EAAAsE,OAAO,CAACtE,CAAD,EAAG;IAAC,OAAO,KAAK+C,cAAL,CAAoBe,GAApB,CAAwB9D,CAAxB,EAA2BsE,OAA3B,EAAP;EAA4C;;EAAW,MAALjC,KAAK,CAACrC,CAAD,EAAG;IAAC,OAAO,KAAKyB,QAAL,CAAcW,YAAd,CAA2BpC,CAA3B,EAA6B;MAACqC,KAAK,EAAC,KAAKC,OAAL,CAAaC;IAApB,CAA7B,CAAP;EAA2E;;EAAuB,MAAjBgC,iBAAiB,GAAE;IAAC,MAAMtE,CAAC,GAAC,KAAKmD,YAAL,CAAkBoB,MAA1B;IAAA,MAAiCrE,CAAC,GAAC,EAAC,GAAGF,CAAC,CAACoC,KAAN;MAAYoC,CAAC,EAAC;IAAd,CAAnC;IAAyD,OAAM,CAAC,MAAMzE,CAAC,CAACC,CAAC,CAACyE,IAAH,EAAQ;MAACrC,KAAK,EAAClC,CAAP;MAASwE,YAAY,EAAC;IAAtB,CAAR,CAAR,EAAgDC,IAAhD,CAAqDC,WAArD,CAAiEC,YAAvE;EAAoF;;EAAAC,eAAe,CAAC/E,CAAD,EAAGC,CAAC,GAAC,EAAL,EAAQ;IAAC,MAAME,CAAC,GAAC,KAAKiD,YAAL,CAAkB4B,YAA1B;IAAA,MAAuC3E,CAAC,GAAC,KAAK4E,WAAL,CAAiBhF,CAAjB,CAAzC;IAA6DI,CAAC,CAAC6E,sBAAF,GAAyBjF,CAAC,CAACiF,sBAAF,IAA0BlF,CAAC,CAACmF,yBAAF,EAAnD,EAAiF9E,CAAC,CAAC+E,UAAF,GAAa,MAA9F,EAAqG/E,CAAC,CAACgF,QAAF,GAAWrF,CAAC,CAACsF,MAAlH,EAAyH,KAAKlC,YAAL,CAAkBC,YAAlB,CAA+BhB,KAA/B,CAAqCkD,oBAArC,GAA0D,2BAAyBpF,CAAzB,KAA6BE,CAAC,CAACmF,kBAAF,GAAqBxF,CAAC,CAACyF,UAAF,GAAavF,GAAG,CAAC,wCAAD,CAAlE,CAA1D,GAAwK,2BAAyBC,CAAzB,IAA4B,0BAAwBA,CAApD,KAAwDE,CAAC,CAACmF,kBAAF,GAAqBxF,CAAC,CAACyF,UAAvB,EAAkC,2BAAyBtF,CAAzB,KAA6BE,CAAC,CAACmF,kBAAF,IAAsBtF,GAAG,CAAC,wCAAD,CAAtD,CAA1F,CAAjS;IAA8d,MAAMK,CAAC,GAAC,KAAK6C,YAAL,CAAkBC,YAAlB,CAA+BhB,KAAvC;IAA6C,OAAOhC,CAAC,CAACqF,8BAAF,GAAiCnF,CAAC,CAACoF,+BAAnC,EAAmEtF,CAAC,CAACuF,sBAAF,GAAyBrF,CAAC,CAACsF,uBAA9F,EAAsHxF,CAA7H;EAA+H;;EAAwB,MAAlByF,kBAAkB,CAAC9F,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOI,CAAP,EAAS;IAAC,MAAME,CAAC,GAACR,CAAC,CAAC8F,KAAF,EAAR;IAAkBtF,CAAC,CAACuF,SAAF,GAAY,CAAC,KAAK5C,YAAL,CAAkB6C,aAAnB,EAAiC,GAAG9F,CAApC,CAAZ,EAAmDM,CAAC,CAACyF,cAAF,GAAiB,CAAC,CAArE,EAAuEzF,CAAC,CAAC0F,cAAF,GAAiB,CAAC,CAAzF;IAA2F,MAAMxF,CAAC,GAACN,CAAC,CAACI,CAAC,CAAC2F,KAAH,CAAD,GAAW3F,CAAC,CAAC2F,KAAF,GAAQ,GAAnB,GAAuB,CAA/B;IAAA,MAAiCvF,CAAC,GAACN,CAAC,CAAC0B,MAArC;IAA4C,OAAO,KAAKQ,WAAL,CAAiB4D,IAAjB,CAAsB;MAACvE,IAAI,EAAC9B,CAAN;MAAQqC,KAAK,EAAC5B,CAAd;MAAgBwB,MAAM,EAACpB,CAAvB;MAAyBsB,KAAK,EAACxB;IAA/B,CAAtB,CAAP;EAAgE;;EAAa,MAAP2F,OAAO,CAACtG,CAAD,EAAGC,CAAH,EAAK;IAAC,MAAK;MAACoC,KAAK,EAAClC,CAAP;MAASoG,OAAO,EAAChG;IAAjB,IAAoBP,CAAzB;IAAA,MAA2Ba,CAAC,GAACR,CAAC,CAACF,CAAC,CAAC6F,SAAH,CAAD,GAAe7F,CAAC,CAAC6F,SAAjB,GAA2B,EAAxD;IAAA,MAA2DjF,CAAC,GAAC,KAAKyF,UAAL,CAAgBR,SAA7E;IAAA,MAAuF/E,CAAC,GAACF,CAAC,CAAC0F,MAAF,CAAUzG,CAAC,IAAE,CAACa,CAAC,CAAC6F,QAAF,CAAW1G,CAAX,CAAd,CAAzF;IAAuH,IAAGS,CAAC,CAACF,CAAC,CAACoG,WAAH,CAAJ,EAAoB,KAAKC,UAAL,CAAgB,EAAC,GAAGrG,CAAJ;MAAMgB,IAAI,EAAC;IAAX,CAAhB,EAApB,KAA+D,IAAGN,CAAC,CAAC2B,MAAL,EAAY,IAAG;MAAC,MAAM5C,CAAC,GAAC,KAAK+C,cAAL,CAAoBe,GAApB,CAAwBvD,CAAC,CAACyB,EAA1B,EAA8BF,IAAtC;MAAA,MAA2CzB,CAAC,GAAC,MAAM,KAAKyF,kBAAL,CAAwB9F,CAAxB,EAA0BG,CAA1B,EAA4Bc,CAA5B,EAA8BhB,CAA9B,CAAnD;;MAAoFU,CAAC,CAACV,CAAD,CAAD,EAAKE,CAAC,CAAC6F,SAAF,GAAYjF,CAAjB,EAAmBR,CAAC,CAACoG,WAAF,CAAcE,cAAd,CAA6BxG,CAA7B,CAAnB,EAAmD,KAAKuG,UAAL,CAAgB,EAAC,GAAGrG,CAAJ;QAAM6D,GAAG,EAAC7D,CAAC,CAAC6D,GAAZ;QAAgB7C,IAAI,EAAC;MAArB,CAAhB,CAAnD;IAAmG,CAA3L,CAA2L,OAAMJ,CAAN,EAAQ,CAAE,CAAjN,MAAsN,KAAKyF,UAAL,CAAgB,EAAC,GAAGrG,CAAJ;MAAMgB,IAAI,EAAC;IAAX,CAAhB;EAAsC;;EAAyB,MAAnBuF,mBAAmB,CAAC9G,CAAD,EAAG;IAAC,IAAGE,GAAG,CAAC,sBAAD,CAAH,IAA6B6G,OAAO,CAACC,KAAR,CAAchH,CAAC,CAAC8B,IAAF,CAAOE,EAArB,EAAwB,qBAAxB,CAA7B,EAA4EhC,CAAC,CAACiH,KAAjF,EAAuF,OAAO,KAAKL,UAAL,CAAgB;MAAC5E,EAAE,EAAChC,CAAC,CAAC8B,IAAF,CAAOE,EAAX;MAAc2E,WAAW,EAAC,IAA1B;MAA+BvC,GAAG,EAAC,CAAC,CAApC;MAAsC7C,IAAI,EAAC;IAA3C,CAAhB,CAAP;IAA6E,MAAMtB,CAAC,GAACD,CAAC,CAACiC,MAAV;;IAAiB,KAAI,MAAM9B,CAAV,IAAeH,CAAC,CAACkH,QAAF,CAAWhE,IAA1B,EAA+B,MAAM,KAAKoD,OAAL,CAAanG,CAAb,EAAe;MAAC8B,MAAM,EAAChC;IAAR,CAAf,CAAN;;IAAiC,OAAOI,CAAC,CAACL,CAAC,CAACmH,KAAH,CAAD,GAAW,KAAKP,UAAL,CAAgB5G,CAAC,CAACmH,KAAlB,CAAX,GAAoC,KAAK,CAAhD;EAAkD;;EAAY,MAANC,MAAM,GAAE;IAAC,MAAMpH,CAAC,GAAC6C,KAAK,CAACC,IAAN,CAAW,KAAKC,cAAL,CAAoBC,MAApB,EAAX,CAAR;IAAiD,MAAMqE,OAAO,CAACC,GAAR,CAAYtH,CAAC,CAACuH,GAAF,CAAOvH,CAAC,IAAE,KAAK8G,mBAAL,CAAyB9G,CAAzB,CAAV,CAAZ,CAAN;EAA2D;;AAAz3H;;AAA03H,SAAOqB,CAAC,IAAImG,iBAAZ"},"metadata":{},"sourceType":"module"}