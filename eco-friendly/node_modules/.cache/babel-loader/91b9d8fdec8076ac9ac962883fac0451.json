{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Collection.js\";\nimport s from \"../../../../core/Handles.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { isSome as n, isNone as o, removeMaybe as l, destroyMaybe as h } from \"../../../../core/maybe.js\";\nimport a from \"../../../../core/PooledArray.js\";\nimport { watch as c, sync as d, syncAndInitial as p } from \"../../../../core/reactiveUtils.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as m } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as _, empty as f, expand as g, height as T, intersects as y } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { FeatureTileDescriptor3D as S, Visibility as E } from \"./FeatureTileDescriptor3D.js\";\nimport { FeatureTileMeasurements3D as v } from \"./FeatureTileMeasurements3D.js\";\nimport { toBoundingRect as w } from \"../../support/extentUtils.js\";\nimport { TaskPriority as R, noBudget as x } from \"../../../support/Scheduler.js\";\nconst C = r.getLogger(\"esri.views.3d.layers.support.FeatureTileTree3D\");\nlet j = class extends t {\n  constructor(e) {\n    super(e), this.tiles = new i(), this.tileSize = 512, this._idToTile = new Map(), this._handles = new s(), this._clients = new Set(), this._dirty = !1, this._newTiles = new a();\n  }\n\n  get tilingScheme() {\n    const e = this.tilingSchemeOwner.tilingScheme;\n    if (!e) return null;\n    return e.clone();\n  }\n\n  set filterExtent(e) {\n    if (n(e) && !e.spatialReference.equals(this.viewState.spatialReference)) return void C.error(\"#extent\", \"extent spatial reference needs to be in the same spatial reference as the view\");\n\n    const t = this._get(\"filterExtent\");\n\n    if (t === e || n(t) && e && t.equals(e)) return;\n    const i = n(e) ? e.clone() : null;\n    this._set(\"filterExtent\", i), this._setDirty();\n  }\n\n  get filterExtentRect() {\n    if (o(this.filterExtent) || !this.tilingScheme) return null;\n\n    const e = _();\n\n    return w(this.filterExtent, e, this.tilingScheme.spatialReference), e;\n  }\n\n  get rootTileIds() {\n    return this.filterExtentRect ? this.tilingScheme.rootTilesInExtent(this.filterExtentRect) : [[0, 0, 0]];\n  }\n\n  set suspended(e) {\n    e !== this._get(\"suspended\") && (this._set(\"suspended\", e), this._setDirty());\n  }\n\n  get updating() {\n    return this._dirty || !!this._pendingTiles;\n  }\n\n  initialize() {\n    this._handles.add([c(() => [this.tilingScheme, this.tileSize], () => this._reset(), d), c(() => [this.tileSize, this.cameraOnSurface?.location, this.tilingScheme, this.viewState?.contentCamera, this.focus?.location], () => this._setDirty(), p)]), this.scheduler && (this._frameWorker = this.scheduler.registerTask(R.FEATURE_TILE_TREE, this));\n  }\n\n  destroy() {\n    this._frameWorker = l(this._frameWorker), this._handles = h(this._handles);\n  }\n\n  addClient() {\n    const e = I();\n    return this._clients.add(e), 1 === this._clients.size && this._setDirty(), {\n      remove: () => this._removeClient(e)\n    };\n  }\n\n  _removeClient(e) {\n    this._clients.delete(e), this._hasClients || this._clear();\n  }\n\n  get _hasClients() {\n    return this._clients.size > 0;\n  }\n\n  _setDirty() {\n    !this._hasClients || this.suspended || this._dirty || (this._frameWorker ? (this._dirty = !0, this.notifyChange(\"updating\")) : this.runTask(x));\n  }\n\n  _clear() {\n    this.tiles.removeAll(), this._idToTile.clear(), this._reset(), this._dirty = !1, this.notifyChange(\"updating\");\n  }\n\n  get running() {\n    return this.updating;\n  }\n\n  runTask(e) {\n    this._dirty = !1, this._pendingTiles || (this._startUpdate(), n(this._frameWorker) && (this._frameWorker.priority = R.FEATURE_TILE_TREE_ACTIVE)), this._subdivideTilesForView(e), !this._pendingTiles && n(this._frameWorker) && (this._frameWorker.priority = R.FEATURE_TILE_TREE), this.notifyChange(\"updating\");\n  }\n\n  _startUpdate() {\n    if (this.suspended) return;\n    if (!this.tilingScheme) return void this._clear();\n    this._tileMeasurements || (this._tileMeasurements = new v({\n      renderCoordsHelper: this.renderCoordsHelper,\n      tilingScheme: this.tilingScheme,\n      tileSize: this.tileSize\n    }));\n    const e = this.viewState.contentCamera;\n    this._tileMeasurements.begin(e, this.focus.location, this.cameraOnSurface.location.z), this._pendingTiles = this._getRootTiles();\n  }\n\n  _reset() {\n    this._newTiles.clear(), this._tileMeasurements = null, this._pendingTiles = null, this._setDirty();\n  }\n\n  _getRootTiles() {\n    return this.rootTileIds.map(e => new S(e[0], e[1], e[2], this.tilingScheme));\n  }\n\n  _purgeHorizonTiles(e) {\n    e.sort((e, t) => {\n      const i = e.measures.screenRect,\n            s = t.measures.screenRect;\n      return i[1] + i[3] - (s[1] + s[3]);\n    }), f(k);\n\n    for (let t = 0; t < e.length; t++) if (g(k, e.data[t].measures.screenRect, k), T(k) > z) return e.data.slice(t, e.length);\n\n    return [];\n  }\n\n  _subdivideTilesForView(e) {\n    if (this._pendingTiles) {\n      for (; this._pendingTiles.length > 0 && !e.done;) {\n        const t = this._pendingTiles.pop();\n\n        e.madeProgress(), this.filterExtentRect && !y(this.filterExtentRect, t.extent) || (this._tileMeasurements.updateTile(t), t.measures.visibility !== E.INVISIBLE && (t.measures.shouldSplit ? (this.tilingScheme.ensureMaxLod(t.lij[0] + 1), this._pendingTiles.push(...t.getChildren())) : this._newTiles.push(t)));\n      }\n\n      0 === this._pendingTiles.length && (this._updateTiles(this._purgeHorizonTiles(this._newTiles)), this._newTiles.clear(), this._tileMeasurements.end(), this._pendingTiles = null);\n    }\n  }\n\n  _updateTiles(e) {\n    for (const s of this.tiles.items) s.used = !1;\n\n    const t = e.filter(e => {\n      const t = this._idToTile.get(e.id);\n\n      return t ? (t.copyMeasurementsFrom(e), t.used = !0) : this._idToTile.set(e.id, e), !t;\n    }),\n          i = this.tiles.items.filter(e => !e.used && (this._idToTile.delete(e.id), !0));\n    this.tiles.removeMany(i), this.tiles.addMany(t), this._sortTiles();\n  }\n\n  _sortTiles() {\n    this.viewState.fixedContentCamera || this.tiles.sort((e, t) => e.measures.visibility !== t.measures.visibility ? e.measures.visibility === E.VISIBLE_ON_SURFACE ? -1 : 1 : e.measures.distance - t.measures.distance), this.tiles.forEach((e, t) => e.loadPriority = t);\n  }\n\n};\ne([u({\n  constructOnly: !0\n})], j.prototype, \"scheduler\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"renderCoordsHelper\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"tilingSchemeOwner\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"cameraOnSurface\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"focus\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"viewState\", void 0), e([u({\n  constructOnly: !0\n})], j.prototype, \"terrain\", void 0), e([u()], j.prototype, \"tiles\", void 0), e([u()], j.prototype, \"tileSize\", void 0), e([u({\n  readOnly: !0\n})], j.prototype, \"tilingScheme\", null), e([u()], j.prototype, \"filterExtent\", null), e([u({\n  readOnly: !0\n})], j.prototype, \"filterExtentRect\", null), e([u({\n  readOnly: !0\n})], j.prototype, \"rootTileIds\", null), e([u({\n  value: !1\n})], j.prototype, \"suspended\", null), e([u({\n  readOnly: !0\n})], j.prototype, \"updating\", null), j = e([m(\"esri.views.3d.layers.support.FeatureTileTree3D\")], j);\nlet O = 0;\n\nfunction I() {\n  return O++;\n}\n\nconst k = _(),\n      z = 10;\n\nexport { j as FeatureTileTree3D };","map":{"version":3,"names":["_","e","t","i","s","r","isSome","n","isNone","o","removeMaybe","l","destroyMaybe","h","a","watch","c","sync","d","syncAndInitial","p","property","u","subclass","m","create","empty","f","expand","g","height","T","intersects","y","FeatureTileDescriptor3D","S","Visibility","E","FeatureTileMeasurements3D","v","toBoundingRect","w","TaskPriority","R","noBudget","x","C","getLogger","j","constructor","tiles","tileSize","_idToTile","Map","_handles","_clients","Set","_dirty","_newTiles","tilingScheme","tilingSchemeOwner","clone","filterExtent","spatialReference","equals","viewState","error","_get","_set","_setDirty","filterExtentRect","rootTileIds","rootTilesInExtent","suspended","updating","_pendingTiles","initialize","add","_reset","cameraOnSurface","location","contentCamera","focus","scheduler","_frameWorker","registerTask","FEATURE_TILE_TREE","destroy","addClient","I","size","remove","_removeClient","delete","_hasClients","_clear","notifyChange","runTask","removeAll","clear","running","_startUpdate","priority","FEATURE_TILE_TREE_ACTIVE","_subdivideTilesForView","_tileMeasurements","renderCoordsHelper","begin","z","_getRootTiles","map","_purgeHorizonTiles","sort","measures","screenRect","k","length","data","slice","done","pop","madeProgress","extent","updateTile","visibility","INVISIBLE","shouldSplit","ensureMaxLod","lij","push","getChildren","_updateTiles","end","items","used","filter","get","id","copyMeasurementsFrom","set","removeMany","addMany","_sortTiles","fixedContentCamera","VISIBLE_ON_SURFACE","distance","forEach","loadPriority","constructOnly","prototype","readOnly","value","O","FeatureTileTree3D"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isSome as n,isNone as o,removeMaybe as l,destroyMaybe as h}from\"../../../../core/maybe.js\";import a from\"../../../../core/PooledArray.js\";import{watch as c,sync as d,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,empty as f,expand as g,height as T,intersects as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{FeatureTileDescriptor3D as S,Visibility as E}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileMeasurements3D as v}from\"./FeatureTileMeasurements3D.js\";import{toBoundingRect as w}from\"../../support/extentUtils.js\";import{TaskPriority as R,noBudget as x}from\"../../../support/Scheduler.js\";const C=r.getLogger(\"esri.views.3d.layers.support.FeatureTileTree3D\");let j=class extends t{constructor(e){super(e),this.tiles=new i,this.tileSize=512,this._idToTile=new Map,this._handles=new s,this._clients=new Set,this._dirty=!1,this._newTiles=new a}get tilingScheme(){const e=this.tilingSchemeOwner.tilingScheme;if(!e)return null;return e.clone()}set filterExtent(e){if(n(e)&&!e.spatialReference.equals(this.viewState.spatialReference))return void C.error(\"#extent\",\"extent spatial reference needs to be in the same spatial reference as the view\");const t=this._get(\"filterExtent\");if(t===e||n(t)&&e&&t.equals(e))return;const i=n(e)?e.clone():null;this._set(\"filterExtent\",i),this._setDirty()}get filterExtentRect(){if(o(this.filterExtent)||!this.tilingScheme)return null;const e=_();return w(this.filterExtent,e,this.tilingScheme.spatialReference),e}get rootTileIds(){return this.filterExtentRect?this.tilingScheme.rootTilesInExtent(this.filterExtentRect):[[0,0,0]]}set suspended(e){e!==this._get(\"suspended\")&&(this._set(\"suspended\",e),this._setDirty())}get updating(){return this._dirty||!!this._pendingTiles}initialize(){this._handles.add([c((()=>[this.tilingScheme,this.tileSize]),(()=>this._reset()),d),c((()=>[this.tileSize,this.cameraOnSurface?.location,this.tilingScheme,this.viewState?.contentCamera,this.focus?.location]),(()=>this._setDirty()),p)]),this.scheduler&&(this._frameWorker=this.scheduler.registerTask(R.FEATURE_TILE_TREE,this))}destroy(){this._frameWorker=l(this._frameWorker),this._handles=h(this._handles)}addClient(){const e=I();return this._clients.add(e),1===this._clients.size&&this._setDirty(),{remove:()=>this._removeClient(e)}}_removeClient(e){this._clients.delete(e),this._hasClients||this._clear()}get _hasClients(){return this._clients.size>0}_setDirty(){!this._hasClients||this.suspended||this._dirty||(this._frameWorker?(this._dirty=!0,this.notifyChange(\"updating\")):this.runTask(x))}_clear(){this.tiles.removeAll(),this._idToTile.clear(),this._reset(),this._dirty=!1,this.notifyChange(\"updating\")}get running(){return this.updating}runTask(e){this._dirty=!1,this._pendingTiles||(this._startUpdate(),n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE_ACTIVE)),this._subdivideTilesForView(e),!this._pendingTiles&&n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE),this.notifyChange(\"updating\")}_startUpdate(){if(this.suspended)return;if(!this.tilingScheme)return void this._clear();this._tileMeasurements||(this._tileMeasurements=new v({renderCoordsHelper:this.renderCoordsHelper,tilingScheme:this.tilingScheme,tileSize:this.tileSize}));const e=this.viewState.contentCamera;this._tileMeasurements.begin(e,this.focus.location,this.cameraOnSurface.location.z),this._pendingTiles=this._getRootTiles()}_reset(){this._newTiles.clear(),this._tileMeasurements=null,this._pendingTiles=null,this._setDirty()}_getRootTiles(){return this.rootTileIds.map((e=>new S(e[0],e[1],e[2],this.tilingScheme)))}_purgeHorizonTiles(e){e.sort(((e,t)=>{const i=e.measures.screenRect,s=t.measures.screenRect;return i[1]+i[3]-(s[1]+s[3])})),f(k);for(let t=0;t<e.length;t++)if(g(k,e.data[t].measures.screenRect,k),T(k)>z)return e.data.slice(t,e.length);return[]}_subdivideTilesForView(e){if(this._pendingTiles){for(;this._pendingTiles.length>0&&!e.done;){const t=this._pendingTiles.pop();e.madeProgress(),this.filterExtentRect&&!y(this.filterExtentRect,t.extent)||(this._tileMeasurements.updateTile(t),t.measures.visibility!==E.INVISIBLE&&(t.measures.shouldSplit?(this.tilingScheme.ensureMaxLod(t.lij[0]+1),this._pendingTiles.push(...t.getChildren())):this._newTiles.push(t)))}0===this._pendingTiles.length&&(this._updateTiles(this._purgeHorizonTiles(this._newTiles)),this._newTiles.clear(),this._tileMeasurements.end(),this._pendingTiles=null)}}_updateTiles(e){for(const s of this.tiles.items)s.used=!1;const t=e.filter((e=>{const t=this._idToTile.get(e.id);return t?(t.copyMeasurementsFrom(e),t.used=!0):this._idToTile.set(e.id,e),!t})),i=this.tiles.items.filter((e=>!e.used&&(this._idToTile.delete(e.id),!0)));this.tiles.removeMany(i),this.tiles.addMany(t),this._sortTiles()}_sortTiles(){this.viewState.fixedContentCamera||this.tiles.sort(((e,t)=>e.measures.visibility!==t.measures.visibility?e.measures.visibility===E.VISIBLE_ON_SURFACE?-1:1:e.measures.distance-t.measures.distance)),this.tiles.forEach(((e,t)=>e.loadPriority=t))}};e([u({constructOnly:!0})],j.prototype,\"scheduler\",void 0),e([u({constructOnly:!0})],j.prototype,\"renderCoordsHelper\",void 0),e([u({constructOnly:!0})],j.prototype,\"tilingSchemeOwner\",void 0),e([u({constructOnly:!0})],j.prototype,\"cameraOnSurface\",void 0),e([u({constructOnly:!0})],j.prototype,\"focus\",void 0),e([u({constructOnly:!0})],j.prototype,\"viewState\",void 0),e([u({constructOnly:!0})],j.prototype,\"terrain\",void 0),e([u()],j.prototype,\"tiles\",void 0),e([u()],j.prototype,\"tileSize\",void 0),e([u({readOnly:!0})],j.prototype,\"tilingScheme\",null),e([u()],j.prototype,\"filterExtent\",null),e([u({readOnly:!0})],j.prototype,\"filterExtentRect\",null),e([u({readOnly:!0})],j.prototype,\"rootTileIds\",null),e([u({value:!1})],j.prototype,\"suspended\",null),e([u({readOnly:!0})],j.prototype,\"updating\",null),j=e([m(\"esri.views.3d.layers.support.FeatureTileTree3D\")],j);let O=0;function I(){return O++}const k=_(),z=10;export{j as FeatureTileTree3D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}