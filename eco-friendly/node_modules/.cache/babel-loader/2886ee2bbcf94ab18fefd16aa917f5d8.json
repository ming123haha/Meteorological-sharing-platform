{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Error.js\";\nimport t from \"../../../../../core/Logger.js\";\nimport { isNone as r, isSome as s, assertIsSome as i } from \"../../../../../core/maybe.js\";\nimport n from \"../../../../../core/pbf.js\";\nimport { convertToGeometry as a, unquantizeOptimizedGeometry as h } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as o } from \"../../../../../layers/graphics/OptimizedFeature.js\";\nimport d from \"../../../../../layers/graphics/OptimizedGeometry.js\";\nimport { FeatureSetReader as u } from \"./FeatureSetReader.js\";\nimport { parseHeader as c } from \"./FeatureSetReaderPBFHeader.js\";\nconst g = !0,\n      l = 268435455,\n      _ = 128,\n      f = 128e3,\n      y = {\n  small: {\n    delta: new Int32Array(_),\n    decoded: new Int32Array(_)\n  },\n  large: {\n    delta: new Int32Array(f),\n    decoded: new Int32Array(f)\n  }\n};\n\nfunction I(e) {\n  return e <= y.small.delta.length ? y.small : (e <= y.large.delta.length || (y.large.delta = new Int32Array(Math.round(1.25 * e)), y.large.decoded = new Int32Array(Math.round(1.25 * e))), y.large);\n}\n\nfunction p(e) {\n  return e.toLowerCase().trim();\n}\n\nfunction m(r) {\n  try {\n    const e = 2,\n          t = new n(new Uint8Array(r), new DataView(r));\n\n    for (; t.next();) {\n      if (t.tag() === e) return x(t.getMessage());\n      t.skip();\n    }\n  } catch (s) {\n    const r = new e(\"query:parsing-pbf\", \"Error while parsing FeatureSet PBF payload\", {\n      error: s\n    });\n    t.getLogger(\"esri.view.2d.layers.features.support.FeatureSetReaderPBF\").error(r);\n  }\n\n  return null;\n}\n\nfunction x(e) {\n  const t = 1;\n\n  for (; e.next();) {\n    if (e.tag() === t) return e.getMessage();\n    e.skip();\n  }\n\n  return null;\n}\n\nfunction S(e) {\n  const t = 1,\n        r = 2,\n        s = 3,\n        i = 4,\n        n = 5,\n        a = 6,\n        h = 7,\n        o = 8,\n        d = 9,\n        u = e.getLength(),\n        c = e.pos() + u;\n\n  for (; e.pos() < c && e.next();) switch (e.tag()) {\n    case t:\n      return e.getString();\n\n    case r:\n      return e.getFloat();\n\n    case s:\n      return e.getDouble();\n\n    case i:\n      return e.getSInt32();\n\n    case n:\n      return e.getUInt32();\n\n    case a:\n      return e.getInt64();\n\n    case h:\n      return e.getUInt64();\n\n    case o:\n      return e.getSInt64();\n\n    case d:\n      return e.getBool();\n\n    default:\n      return e.skip(), null;\n  }\n\n  return null;\n}\n\nfunction F(e, t, r, s, i, n) {\n  return .5 * Math.abs(e * s + r * n + i * t - e * n - r * t - i * s);\n}\n\nfunction v(e, t, r, s) {\n  return 0 === e * s - r * t && e * r + t * s > 0;\n}\n\nclass G extends u {\n  constructor(e, t, r, s) {\n    super(e, s), this._hasNext = !1, this._isPoints = !1, this._featureIndex = -1, this._featureOffset = 0, this._cache = {\n      area: 0,\n      unquantGeometry: void 0,\n      geometry: void 0,\n      centroid: void 0,\n      legacyFeature: void 0,\n      optFeature: void 0\n    }, this._geometryType = s.geometryType, this._reader = t, this._header = r, this._hasNext = r.hasFeatures, this._isPoints = \"esriGeometryPoint\" === s.geometryType;\n  }\n\n  static fromBuffer(e, t, r = !1) {\n    const s = t.geometryType,\n          i = m(e),\n          n = c(i, \"esriGeometryPoint\" === s, r),\n          a = u.createInstance();\n    return new G(a, i, n, t);\n  }\n\n  get geometryType() {\n    return this._geometryType;\n  }\n\n  get _size() {\n    return this._header.featureCount;\n  }\n\n  get hasZ() {\n    return !1;\n  }\n\n  get hasM() {\n    return !1;\n  }\n\n  get stride() {\n    return 2 + (this.hasZ ? 1 : 0) + (this.hasM ? 1 : 0);\n  }\n\n  get hasFeatures() {\n    return this._header.hasFeatures;\n  }\n\n  get hasNext() {\n    return this._hasNext;\n  }\n\n  get exceededTransferLimit() {\n    return this._header.exceededTransferLimit;\n  }\n\n  hasField(e) {\n    return this._header.hasField(e) || this._header.hasField(p(e));\n  }\n\n  getFieldNames() {\n    return this._header.fields.map(e => e.fieldName);\n  }\n\n  getSize() {\n    return this._size;\n  }\n\n  getQuantizationTransform() {\n    return this._header.transform;\n  }\n\n  getCursor() {\n    return this.copy();\n  }\n\n  getIndex() {\n    return this._featureIndex;\n  }\n\n  setIndex(e) {\n    this._cache.area = 0, this._cache.unquantGeometry = void 0, this._cache.geometry = void 0, this._cache.centroid = void 0, this._cache.legacyFeature = void 0, this._cache.optFeature = void 0, this._featureIndex = e;\n  }\n\n  getAttributeHash() {\n    let e = \"\";\n    return this._header.fields.forEach(({\n      index: t\n    }) => {\n      e += this._readAttributeAtIndex(t) + \".\";\n    }), e;\n  }\n\n  getObjectId() {\n    return this._readAttributeAtIndex(this._header.objectIdFieldIndex);\n  }\n\n  getDisplayId() {\n    return this._header.displayIds[this._featureIndex];\n  }\n\n  setDisplayId(e) {\n    this._header.displayIds[this._featureIndex] = e;\n  }\n\n  getGroupId() {\n    return this._header.groupIds[this._featureIndex];\n  }\n\n  setGroupId(e) {\n    this._header.groupIds[this._featureIndex] = e;\n  }\n\n  readLegacyFeature() {\n    if (void 0 === this._cache.legacyFeature) {\n      const e = this.readCentroid(),\n            t = {\n        attributes: this.readAttributes(),\n        geometry: this._isPoints ? this.readLegacyPointGeometry() : this.readLegacyGeometry(),\n        centroid: (e && {\n          x: e.coords[0],\n          y: e.coords[1]\n        }) ?? null\n      };\n      return this._cache.legacyFeature = t, t;\n    }\n\n    return this._cache.legacyFeature;\n  }\n\n  readOptimizedFeature() {\n    if (void 0 === this._cache.optFeature) {\n      const e = new o(this.readGeometry(), this.readAttributes(), this.readCentroid());\n      return e.objectId = this.getObjectId(), e.displayId = this.getDisplayId(), this._cache.optFeature = e, e;\n    }\n\n    return this._cache.optFeature;\n  }\n\n  getXHydrated() {\n    const e = this._header.centroid[2 * this._featureIndex],\n          t = this.getQuantizationTransform();\n    return r(t) ? e : e * t.scale[0] + t.translate[0];\n  }\n\n  getYHydrated() {\n    const e = this._header.centroid[2 * this._featureIndex + 1],\n          t = this.getQuantizationTransform();\n    return r(t) ? e : t.translate[1] - e * t.scale[1];\n  }\n\n  getX() {\n    return this._header.centroid[2 * this._featureIndex] * this._sx + this._tx;\n  }\n\n  getY() {\n    return this._header.centroid[2 * this._featureIndex + 1] * this._sy + this._ty;\n  }\n\n  readLegacyPointGeometry() {\n    return {\n      x: this.getX(),\n      y: this.getY()\n    };\n  }\n\n  readLegacyGeometry(e) {\n    const t = this.readGeometry(e);\n    return a(t, this.geometryType, !1, !1);\n  }\n\n  readLegacyCentroid() {\n    const e = this.readCentroid();\n    if (!e) return null;\n    const [t, r] = e.coords;\n    return {\n      x: t,\n      y: r\n    };\n  }\n\n  readGeometryArea() {\n    return this._cache.area || this.readGeometry(!0), this._cache.area;\n  }\n\n  readUnquantizedGeometry(e = !1) {\n    if (void 0 === this._cache.unquantGeometry) {\n      const t = this.readGeometry(e);\n      if (!t) return this._cache.unquantGeometry = void 0, null;\n      const r = I(t.coords.length).decoded,\n            s = t.clone(r),\n            i = s.coords;\n      let n = 0;\n\n      for (const e of s.lengths) {\n        for (let t = 1; t < e; t++) {\n          const e = 2 * (n + t),\n                r = 2 * (n + t - 1);\n          i[e] += i[r], i[e + 1] += i[r + 1];\n        }\n\n        n += e;\n      }\n\n      return this._cache.unquantGeometry = s, s;\n    }\n\n    return this._cache.unquantGeometry;\n  }\n\n  readHydratedGeometry() {\n    if (this._isPoints) {\n      if (this._header.centroid[2 * this._featureIndex] === l) return null;\n      const e = this.getXHydrated(),\n            t = this.getYHydrated();\n      return new d([], [e, t]);\n    }\n\n    const e = this.readGeometry();\n    if (!e) return null;\n    const t = e.clone(),\n          r = this.getQuantizationTransform();\n    return s(r) && h(t, t, this.hasZ, this.hasM, r), t;\n  }\n\n  readGeometry(e = !1) {\n    if (void 0 === this._cache.geometry) {\n      let r = null;\n\n      if (this._isPoints) {\n        if (this._header.centroid[2 * this._featureIndex] === l) return null;\n        const e = this.getX(),\n              t = this.getY();\n        r = new d([], [e, t]);\n      } else {\n        const s = this._header.offsets.geometry[this._featureIndex],\n              i = this._reader;\n\n        if (0 === s) {\n          const e = this._readServerCentroid();\n\n          if (!e) return null;\n          const [t, r] = e.coords;\n          return this.createQuantizedExtrudedQuad(t, r);\n        }\n\n        i.move(s);\n\n        try {\n          if (r = e ? this._parseGeometryForDisplay(i) : this._parseGeometry(i), null === r) {\n            const e = this._readServerCentroid();\n\n            if (!e) return null;\n            const [t, r] = e.coords;\n            return this.createQuantizedExtrudedQuad(t, r);\n          }\n        } catch (t) {\n          return console.error(\"Failed to parse geometry!\", t), null;\n        }\n      }\n\n      return this._cache.geometry = r, r;\n    }\n\n    return this._cache.geometry;\n  }\n\n  readCentroid() {\n    if (void 0 === this._cache.centroid) {\n      let e;\n      return e = this._computeCentroid(), e || (e = this._readServerCentroid()), this._cache.centroid = e ?? void 0, e ?? null;\n    }\n\n    return this._cache.centroid;\n  }\n\n  copy() {\n    const e = this._reader.clone(),\n          t = new G(this.instance, e, this._header, this.fullSchema());\n\n    return this.copyInto(t), t;\n  }\n\n  next() {\n    for (this._cache.area = 0, this._cache.unquantGeometry = void 0, this._cache.geometry = void 0, this._cache.centroid = void 0, this._cache.legacyFeature = void 0, this._cache.optFeature = void 0; ++this._featureIndex < this._size && !this._getExists(););\n\n    return this._featureIndex < this._size;\n  }\n\n  _readAttribute(e, t) {\n    const r = this._header.hasField(e) ? e : p(e),\n          s = this._header.getFieldIndex(r);\n\n    if (null == s) return;\n\n    const i = this._readAttributeAtIndex(s);\n\n    if (!t) return i;\n    if (null == i) return i;\n    return this._header.isDateField(r) ? new Date(i) : i;\n  }\n\n  _readAttributes() {\n    const e = {};\n    return this._header.fields.forEach(({\n      fieldName: t,\n      index: r\n    }) => {\n      e[t] = this._readAttributeAtIndex(r);\n    }), e;\n  }\n\n  copyInto(e) {\n    super.copyInto(e), e._featureIndex = this._featureIndex, e._featureOffset = this._featureOffset, e._hasNext = this._hasNext;\n  }\n\n  _readAttributeAtIndex(e) {\n    const t = this._header.offsets.attributes[this._featureIndex * this._header.fieldCount + e],\n          r = this._reader;\n    return r.move(t), S(r);\n  }\n\n  _readServerCentroid() {\n    const e = this._header.centroid[2 * this._featureIndex] + this._tx,\n          t = this._header.centroid[2 * this._featureIndex + 1] + this._ty;\n    return e === l ? null : new d([], [e, t]);\n  }\n\n  _parseGeometry(e) {\n    const t = 2,\n          r = 3,\n          s = e.asUnsafe(),\n          i = s.getLength(),\n          n = s.pos() + i,\n          a = [],\n          h = [];\n\n    for (; s.pos() < n && s.next();) switch (s.tag()) {\n      case t:\n        {\n          const e = s.getUInt32(),\n                t = s.pos() + e;\n\n          for (; s.pos() < t;) h.push(s.getUInt32());\n\n          break;\n        }\n\n      case r:\n        {\n          const e = s.getUInt32(),\n                t = s.pos() + e;\n\n          for (a.push(s.getSInt32() + this._tx), a.push(s.getSInt32() + this._ty), this.hasZ && s.getSInt32(), this.hasM && s.getSInt32(); s.pos() < t;) a.push(s.getSInt32()), a.push(s.getSInt32()), this.hasZ && s.getSInt32(), this.hasM && s.getSInt32();\n\n          break;\n        }\n\n      default:\n        s.skip();\n    }\n\n    return new d(h, a);\n  }\n\n  _parseGeometryForDisplay(e) {\n    const t = 2,\n          r = 3,\n          s = e.asUnsafe(),\n          n = s.getLength(),\n          a = s.pos() + n,\n          h = [],\n          o = [];\n    let u = 0,\n        c = 0,\n        l = null,\n        _ = 0;\n    const f = \"esriGeometryPolygon\" === this.geometryType;\n\n    for (; s.pos() < a && s.next();) switch (s.tag()) {\n      case t:\n        {\n          const e = s.getUInt32(),\n                t = s.pos() + e;\n\n          for (; s.pos() < t;) {\n            const e = s.getUInt32();\n            h.push(e), u += e;\n          }\n\n          l = I(2 * u).delta;\n          break;\n        }\n\n      case r:\n        {\n          s.getUInt32();\n          const e = 2 + (this.hasZ ? 1 : 0) + (this.hasM ? 1 : 0);\n          i(l);\n\n          for (const t of h) if (c + e * t > l.length) for (let e = 0; e < t; e++) s.getSInt32(), s.getSInt32(), this.hasZ && s.getSInt32(), this.hasM && s.getSInt32();else if (f && g) {\n            const e = this.getAreaSimplificationThreshold(t, this._header.vertexCount);\n            let r = 2,\n                i = 1;\n            const n = !1;\n            let a = s.getSInt32(),\n                h = s.getSInt32();\n            l[c++] = a, l[c++] = h, this.hasZ && s.getSInt32(), this.hasM && s.getSInt32();\n            let d = s.getSInt32(),\n                u = s.getSInt32();\n\n            for (this.hasZ && s.getSInt32(), this.hasM && s.getSInt32(); r < t;) {\n              let t = s.getSInt32(),\n                  n = s.getSInt32();\n              this.hasZ && s.getSInt32(), this.hasM && s.getSInt32();\n              const o = a + d,\n                    g = h + u;\n              F(a, h, o, g, o + t, g + n) >= e ? (_ += -.5 * (o - a) * (g + h), i > 1 && v(l[c - 2], l[c - 1], d, u) ? (l[c - 2] += d, l[c - 1] += u) : (l[c++] = d, l[c++] = u, i++), a = o, h = g) : (t += d, n += u), d = t, u = n, r++;\n            }\n\n            i < 3 || n ? c -= 2 * i : (_ += -.5 * (a + d - a) * (h + u + h), v(l[c - 2], l[c - 1], d, u) ? (l[c - 2] += d, l[c - 1] += u, o.push(i)) : (l[c++] = d, l[c++] = u, o.push(++i)));\n          } else {\n            let e = 0,\n                r = s.getSInt32(),\n                i = s.getSInt32();\n            this.hasZ && s.getSInt32(), this.hasM && s.getSInt32(), l[c++] = r, l[c++] = i, e += 1;\n\n            for (let n = 1; n < t; n++) {\n              const t = s.getSInt32(),\n                    a = s.getSInt32(),\n                    h = r + t,\n                    o = i + a;\n              _ += -.5 * (h - r) * (o + i), this.hasZ && s.getSInt32(), this.hasM && s.getSInt32(), n > 2 && v(l[c - 2], l[c - 1], t, a) ? (l[c - 2] += t, l[c - 1] += a) : (l[c++] = t, l[c++] = a, e += 1), r = h, i = o;\n            }\n\n            o.push(e);\n          }\n\n          break;\n        }\n\n      default:\n        s.skip();\n    }\n\n    if (this._cache.area = _, !o.length) return null;\n\n    if (this._tx || this._ty) {\n      let e = 0;\n      i(l);\n\n      for (const t of o) l[2 * e] += this._tx, l[2 * e + 1] += this._ty, e += t;\n    }\n\n    return new d(o, l);\n  }\n\n}\n\nexport { G as FeatureSetReaderPBF };","map":{"version":3,"names":["e","t","isNone","r","isSome","s","assertIsSome","i","n","convertToGeometry","a","unquantizeOptimizedGeometry","h","OptimizedFeature","o","d","FeatureSetReader","u","parseHeader","c","g","l","_","f","y","small","delta","Int32Array","decoded","large","I","length","Math","round","p","toLowerCase","trim","m","Uint8Array","DataView","next","tag","x","getMessage","skip","error","getLogger","S","getLength","pos","getString","getFloat","getDouble","getSInt32","getUInt32","getInt64","getUInt64","getSInt64","getBool","F","abs","v","G","constructor","_hasNext","_isPoints","_featureIndex","_featureOffset","_cache","area","unquantGeometry","geometry","centroid","legacyFeature","optFeature","_geometryType","geometryType","_reader","_header","hasFeatures","fromBuffer","createInstance","_size","featureCount","hasZ","hasM","stride","hasNext","exceededTransferLimit","hasField","getFieldNames","fields","map","fieldName","getSize","getQuantizationTransform","transform","getCursor","copy","getIndex","setIndex","getAttributeHash","forEach","index","_readAttributeAtIndex","getObjectId","objectIdFieldIndex","getDisplayId","displayIds","setDisplayId","getGroupId","groupIds","setGroupId","readLegacyFeature","readCentroid","attributes","readAttributes","readLegacyPointGeometry","readLegacyGeometry","coords","readOptimizedFeature","readGeometry","objectId","displayId","getXHydrated","scale","translate","getYHydrated","getX","_sx","_tx","getY","_sy","_ty","readLegacyCentroid","readGeometryArea","readUnquantizedGeometry","clone","lengths","readHydratedGeometry","offsets","_readServerCentroid","createQuantizedExtrudedQuad","move","_parseGeometryForDisplay","_parseGeometry","console","_computeCentroid","instance","fullSchema","copyInto","_getExists","_readAttribute","getFieldIndex","isDateField","Date","_readAttributes","fieldCount","asUnsafe","push","getAreaSimplificationThreshold","vertexCount","FeatureSetReaderPBF"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBF.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import t from\"../../../../../core/Logger.js\";import{isNone as r,isSome as s,assertIsSome as i}from\"../../../../../core/maybe.js\";import n from\"../../../../../core/pbf.js\";import{convertToGeometry as a,unquantizeOptimizedGeometry as h}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as o}from\"../../../../../layers/graphics/OptimizedFeature.js\";import d from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{FeatureSetReader as u}from\"./FeatureSetReader.js\";import{parseHeader as c}from\"./FeatureSetReaderPBFHeader.js\";const g=!0,l=268435455,_=128,f=128e3,y={small:{delta:new Int32Array(_),decoded:new Int32Array(_)},large:{delta:new Int32Array(f),decoded:new Int32Array(f)}};function I(e){return e<=y.small.delta.length?y.small:(e<=y.large.delta.length||(y.large.delta=new Int32Array(Math.round(1.25*e)),y.large.decoded=new Int32Array(Math.round(1.25*e))),y.large)}function p(e){return e.toLowerCase().trim()}function m(r){try{const e=2,t=new n(new Uint8Array(r),new DataView(r));for(;t.next();){if(t.tag()===e)return x(t.getMessage());t.skip()}}catch(s){const r=new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s});t.getLogger(\"esri.view.2d.layers.features.support.FeatureSetReaderPBF\").error(r)}return null}function x(e){const t=1;for(;e.next();){if(e.tag()===t)return e.getMessage();e.skip()}return null}function S(e){const t=1,r=2,s=3,i=4,n=5,a=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case n:return e.getUInt32();case a:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}function F(e,t,r,s,i,n){return.5*Math.abs(e*s+r*n+i*t-e*n-r*t-i*s)}function v(e,t,r,s){return 0===e*s-r*t&&e*r+t*s>0}class G extends u{constructor(e,t,r,s){super(e,s),this._hasNext=!1,this._isPoints=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s.geometryType,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints=\"esriGeometryPoint\"===s.geometryType}static fromBuffer(e,t,r=!1){const s=t.geometryType,i=m(e),n=c(i,\"esriGeometryPoint\"===s,r),a=u.createInstance();return new G(a,i,n,t)}get geometryType(){return this._geometryType}get _size(){return this._header.featureCount}get hasZ(){return!1}get hasM(){return!1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}hasField(e){return this._header.hasField(e)||this._header.hasField(p(e))}getFieldNames(){return this._header.fields.map((e=>e.fieldName))}getSize(){return this._size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e}getAttributeHash(){let e=\"\";return this._header.fields.forEach((({index:t})=>{e+=this._readAttributeAtIndex(t)+\".\"})),e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e}readLegacyFeature(){if(void 0===this._cache.legacyFeature){const e=this.readCentroid(),t={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:(e&&{x:e.coords[0],y:e.coords[1]})??null};return this._cache.legacyFeature=t,t}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new o(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrated(){const e=this._header.centroid[2*this._featureIndex],t=this.getQuantizationTransform();return r(t)?e:e*t.scale[0]+t.translate[0]}getYHydrated(){const e=this._header.centroid[2*this._featureIndex+1],t=this.getQuantizationTransform();return r(t)?e:t.translate[1]-e*t.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return{x:this.getX(),y:this.getY()}}readLegacyGeometry(e){const t=this.readGeometry(e);return a(t,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return{x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(!0),this._cache.area}readUnquantizedGeometry(e=!1){if(void 0===this._cache.unquantGeometry){const t=this.readGeometry(e);if(!t)return this._cache.unquantGeometry=void 0,null;const r=I(t.coords.length).decoded,s=t.clone(r),i=s.coords;let n=0;for(const e of s.lengths){for(let t=1;t<e;t++){const e=2*(n+t),r=2*(n+t-1);i[e]+=i[r],i[e+1]+=i[r+1]}n+=e}return this._cache.unquantGeometry=s,s}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===l)return null;const e=this.getXHydrated(),t=this.getYHydrated();return new d([],[e,t])}const e=this.readGeometry();if(!e)return null;const t=e.clone(),r=this.getQuantizationTransform();return s(r)&&h(t,t,this.hasZ,this.hasM,r),t}readGeometry(e=!1){if(void 0===this._cache.geometry){let r=null;if(this._isPoints){if(this._header.centroid[2*this._featureIndex]===l)return null;const e=this.getX(),t=this.getY();r=new d([],[e,t])}else{const s=this._header.offsets.geometry[this._featureIndex],i=this._reader;if(0===s){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}i.move(s);try{if(r=e?this._parseGeometryForDisplay(i):this._parseGeometry(i),null===r){const e=this._readServerCentroid();if(!e)return null;const[t,r]=e.coords;return this.createQuantizedExtrudedQuad(t,r)}}catch(t){return console.error(\"Failed to parse geometry!\",t),null}}return this._cache.geometry=r,r}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e;return e=this._computeCentroid(),e||(e=this._readServerCentroid()),this._cache.centroid=e??void 0,e??null}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new G(this.instance,e,this._header,this.fullSchema());return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this._size&&!this._getExists(););return this._featureIndex<this._size}_readAttribute(e,t){const r=this._header.hasField(e)?e:p(e),s=this._header.getFieldIndex(r);if(null==s)return;const i=this._readAttributeAtIndex(s);if(!t)return i;if(null==i)return i;return this._header.isDateField(r)?new Date(i):i}_readAttributes(){const e={};return this._header.fields.forEach((({fieldName:t,index:r})=>{e[t]=this._readAttributeAtIndex(r)})),e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),S(r)}_readServerCentroid(){const e=this._header.centroid[2*this._featureIndex]+this._tx,t=this._header.centroid[2*this._featureIndex+1]+this._ty;return e===l?null:new d([],[e,t])}_parseGeometry(e){const t=2,r=3,s=e.asUnsafe(),i=s.getLength(),n=s.pos()+i,a=[],h=[];for(;s.pos()<n&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;)h.push(s.getUInt32());break}case r:{const e=s.getUInt32(),t=s.pos()+e;for(a.push(s.getSInt32()+this._tx),a.push(s.getSInt32()+this._ty),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();s.pos()<t;)a.push(s.getSInt32()),a.push(s.getSInt32()),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();break}default:s.skip()}return new d(h,a)}_parseGeometryForDisplay(e){const t=2,r=3,s=e.asUnsafe(),n=s.getLength(),a=s.pos()+n,h=[],o=[];let u=0,c=0,l=null,_=0;const f=\"esriGeometryPolygon\"===this.geometryType;for(;s.pos()<a&&s.next();)switch(s.tag()){case t:{const e=s.getUInt32(),t=s.pos()+e;for(;s.pos()<t;){const e=s.getUInt32();h.push(e),u+=e}l=I(2*u).delta;break}case r:{s.getUInt32();const e=2+(this.hasZ?1:0)+(this.hasM?1:0);i(l);for(const t of h)if(c+e*t>l.length)for(let e=0;e<t;e++)s.getSInt32(),s.getSInt32(),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();else if(f&&g){const e=this.getAreaSimplificationThreshold(t,this._header.vertexCount);let r=2,i=1;const n=!1;let a=s.getSInt32(),h=s.getSInt32();l[c++]=a,l[c++]=h,this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();let d=s.getSInt32(),u=s.getSInt32();for(this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();r<t;){let t=s.getSInt32(),n=s.getSInt32();this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32();const o=a+d,g=h+u;F(a,h,o,g,o+t,g+n)>=e?(_+=-.5*(o-a)*(g+h),i>1&&v(l[c-2],l[c-1],d,u)?(l[c-2]+=d,l[c-1]+=u):(l[c++]=d,l[c++]=u,i++),a=o,h=g):(t+=d,n+=u),d=t,u=n,r++}i<3||n?c-=2*i:(_+=-.5*(a+d-a)*(h+u+h),v(l[c-2],l[c-1],d,u)?(l[c-2]+=d,l[c-1]+=u,o.push(i)):(l[c++]=d,l[c++]=u,o.push(++i)))}else{let e=0,r=s.getSInt32(),i=s.getSInt32();this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32(),l[c++]=r,l[c++]=i,e+=1;for(let n=1;n<t;n++){const t=s.getSInt32(),a=s.getSInt32(),h=r+t,o=i+a;_+=-.5*(h-r)*(o+i),this.hasZ&&s.getSInt32(),this.hasM&&s.getSInt32(),n>2&&v(l[c-2],l[c-1],t,a)?(l[c-2]+=t,l[c-1]+=a):(l[c++]=t,l[c++]=a,e+=1),r=h,i=o}o.push(e)}break}default:s.skip()}if(this._cache.area=_,!o.length)return null;if(this._tx||this._ty){let e=0;i(l);for(const t of o)l[2*e]+=this._tx,l[2*e+1]+=this._ty,e+=t}return new d(o,l)}}export{G as FeatureSetReaderPBF};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}