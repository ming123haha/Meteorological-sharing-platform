{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { readSymbol as e } from \"../../symbols.js\";\nimport o from \"../../core/Error.js\";\nimport { isSome as n, isNone as t } from \"../../core/maybe.js\";\nimport s from \"../Symbol3D.js\";\nimport { to3D as r } from \"./symbolConversion.js\";\nimport i from \"../WebStyleSymbol.js\";\nconst l = [\"building-scene\", \"integrated-mesh\", \"point-cloud\", \"scene\"];\n\nfunction m(e, o, t, s) {\n  const r = a(e, {}, {\n    context: s,\n    isLabelSymbol: !1\n  });\n  n(r) && (o[t] = r);\n}\n\nfunction c(e, o, t, s) {\n  const r = a(e, {}, {\n    context: s,\n    isLabelSymbol: !0\n  });\n  n(r) && (o[t] = r);\n}\n\nfunction b(e) {\n  return e instanceof s || e instanceof i;\n}\n\nfunction a(e, s, i) {\n  if (t(e)) return null;\n  const {\n    context: m,\n    isLabelSymbol: c\n  } = i,\n        a = m?.origin,\n        p = m?.messages;\n\n  if (\"web-scene\" === a && !b(e)) {\n    const t = r(e, {\n      retainCIM: !0,\n      hasLabelingContext: c\n    });\n    return n(t.symbol) ? t.symbol.write(s, m) : (p?.push(new o(\"symbol:unsupported\", `Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`, {\n      symbol: e,\n      context: m,\n      error: t.error\n    })), null);\n  }\n\n  const y = m?.layer?.type;\n  return \"web-map\" !== a && (\"portal-item\" !== a || y && l.includes(y)) || !b(e) ? e.write(s, m) : (p?.push(new o(\"symbol:unsupported\", `Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`, {\n    symbol: e,\n    context: m\n  })), null);\n}\n\nfunction p(o, n) {\n  return e(o, null, n);\n}\n\nexport { p as fromJSON, m as write, c as writeLabelSymbol };","map":{"version":3,"names":["readSymbol","e","o","isSome","n","isNone","t","s","to3D","r","i","l","m","a","context","isLabelSymbol","c","b","origin","p","messages","retainCIM","hasLabelingContext","symbol","write","push","declaredClass","error","y","layer","type","includes","fromJSON","writeLabelSymbol"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/support/jsonUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import o from\"../../core/Error.js\";import{isSome as n,isNone as t}from\"../../core/maybe.js\";import s from\"../Symbol3D.js\";import{to3D as r}from\"./symbolConversion.js\";import i from\"../WebStyleSymbol.js\";const l=[\"building-scene\",\"integrated-mesh\",\"point-cloud\",\"scene\"];function m(e,o,t,s){const r=a(e,{},{context:s,isLabelSymbol:!1});n(r)&&(o[t]=r)}function c(e,o,t,s){const r=a(e,{},{context:s,isLabelSymbol:!0});n(r)&&(o[t]=r)}function b(e){return e instanceof s||e instanceof i}function a(e,s,i){if(t(e))return null;const{context:m,isLabelSymbol:c}=i,a=m?.origin,p=m?.messages;if(\"web-scene\"===a&&!b(e)){const t=r(e,{retainCIM:!0,hasLabelingContext:c});return n(t.symbol)?t.symbol.write(s,m):(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:t.error})),null)}const y=m?.layer?.type;return\"web-map\"!==a&&(\"portal-item\"!==a||y&&l.includes(y))||!b(e)?e.write(s,m):(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:m})),null)}function p(o,n){return e(o,null,n)}export{p as fromJSON,m as write,c as writeLabelSymbol};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}