{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t } from \"../../../../../core/maybe.js\";\nimport { TranslateAnchor as r } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { WGLDrawPhase as i } from \"../enums.js\";\nimport { u32to4Xu8 as n } from \"../number.js\";\nimport a from \"./WGLBrush.js\";\nimport { CompareFunction as s, PrimitiveType as o, DataType as l } from \"../../../../webgl/enums.js\";\n\nclass c extends a {\n  constructor() {\n    super(...arguments), this._programOptions = {\n      id: !1\n    };\n  }\n\n  dispose() {}\n\n  drawMany(a, c) {\n    const {\n      context: m,\n      displayLevel: f,\n      requiredLevel: u,\n      state: d,\n      drawPhase: p,\n      painter: y,\n      spriteMosaic: g,\n      styleLayerUID: v,\n      requestRender: E\n    } = a;\n    if (!c.some(e => e.layerData.get(v)?.circleIndexCount ?? !1)) return;\n\n    const M = a.styleLayer,\n          T = M.circleMaterial,\n          x = y.vectorTilesMaterialManager,\n          I = 1.2,\n          U = M.getPaintValue(\"circle-translate\", f),\n          _ = M.getPaintValue(\"circle-translate-anchor\", f),\n          h = p === i.HITTEST,\n          L = this._programOptions;\n\n    L.id = h;\n    const R = x.getMaterialProgram(m, T, L);\n    if (!h && e(E) && !R.isCompiled) return void E();\n    m.useProgram(R), R.setUniformMatrix3fv(\"u_displayMat3\", _ === r.VIEWPORT ? d.displayMat3 : d.displayViewMat3), R.setUniform2fv(\"u_circleTranslation\", U), R.setUniform1f(\"u_depth\", M.z), R.setUniform1f(\"u_antialiasingWidth\", I);\n    let S = -1;\n\n    if (h) {\n      const e = n(v + 1);\n      R.setUniform4fv(\"u_id\", e);\n    }\n\n    for (const e of c) {\n      if (!e.layerData.has(v)) continue;\n      e.key.level !== S && (S = e.key.level, T.setDataUniforms(R, f, M, S, g));\n      const r = e.layerData.get(v);\n      if (!r.circleIndexCount) continue;\n      r.prepareForRendering(m);\n      const i = r.circleVertexArrayObject;\n      t(i) || (m.bindVAO(i), R.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.dvs), u !== e.key.level ? m.setStencilFunction(s.EQUAL, e.stencilRef, 255) : m.setStencilFunction(s.GREATER, 255, 255), m.drawElements(o.TRIANGLES, r.circleIndexCount, l.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * r.circleIndexStart), e.triangleCount += r.circleIndexCount / 3);\n    }\n  }\n\n}\n\nexport { c as WGLBrushVTLCircle };","map":{"version":3,"names":["isSome","e","isNone","t","TranslateAnchor","r","WGLDrawPhase","i","u32to4Xu8","n","a","CompareFunction","s","PrimitiveType","o","DataType","l","c","constructor","arguments","_programOptions","id","dispose","drawMany","context","m","displayLevel","f","requiredLevel","u","state","d","drawPhase","p","painter","y","spriteMosaic","g","styleLayerUID","v","requestRender","E","some","layerData","get","circleIndexCount","M","styleLayer","T","circleMaterial","x","vectorTilesMaterialManager","I","U","getPaintValue","_","h","HITTEST","L","R","getMaterialProgram","isCompiled","useProgram","setUniformMatrix3fv","VIEWPORT","displayMat3","displayViewMat3","setUniform2fv","setUniform1f","z","S","setUniform4fv","has","key","level","setDataUniforms","prepareForRendering","circleVertexArrayObject","bindVAO","transforms","dvs","setStencilFunction","EQUAL","stencilRef","GREATER","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","circleIndexStart","triangleCount","WGLBrushVTLCircle"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../../core/maybe.js\";import{TranslateAnchor as r}from\"../../vectorTiles/style/StyleDefinition.js\";import{WGLDrawPhase as i}from\"../enums.js\";import{u32to4Xu8 as n}from\"../number.js\";import a from\"./WGLBrush.js\";import{CompareFunction as s,PrimitiveType as o,DataType as l}from\"../../../../webgl/enums.js\";class c extends a{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(a,c){const{context:m,displayLevel:f,requiredLevel:u,state:d,drawPhase:p,painter:y,spriteMosaic:g,styleLayerUID:v,requestRender:E}=a;if(!c.some((e=>e.layerData.get(v)?.circleIndexCount??!1)))return;const M=a.styleLayer,T=M.circleMaterial,x=y.vectorTilesMaterialManager,I=1.2,U=M.getPaintValue(\"circle-translate\",f),_=M.getPaintValue(\"circle-translate-anchor\",f),h=p===i.HITTEST,L=this._programOptions;L.id=h;const R=x.getMaterialProgram(m,T,L);if(!h&&e(E)&&!R.isCompiled)return void E();m.useProgram(R),R.setUniformMatrix3fv(\"u_displayMat3\",_===r.VIEWPORT?d.displayMat3:d.displayViewMat3),R.setUniform2fv(\"u_circleTranslation\",U),R.setUniform1f(\"u_depth\",M.z),R.setUniform1f(\"u_antialiasingWidth\",I);let S=-1;if(h){const e=n(v+1);R.setUniform4fv(\"u_id\",e)}for(const e of c){if(!e.layerData.has(v))continue;e.key.level!==S&&(S=e.key.level,T.setDataUniforms(R,f,M,S,g));const r=e.layerData.get(v);if(!r.circleIndexCount)continue;r.prepareForRendering(m);const i=r.circleVertexArrayObject;t(i)||(m.bindVAO(i),R.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.dvs),u!==e.key.level?m.setStencilFunction(s.EQUAL,e.stencilRef,255):m.setStencilFunction(s.GREATER,255,255),m.drawElements(o.TRIANGLES,r.circleIndexCount,l.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*r.circleIndexStart),e.triangleCount+=r.circleIndexCount/3)}}}export{c as WGLBrushVTLCircle};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,8BAAnC;AAAkE,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,4CAAhC;AAA6E,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,aAA7B;AAA2C,SAAOC,SAAS,IAAIC,CAApB,QAA0B,cAA1B;AAAyC,OAAOC,CAAP,MAAa,eAAb;AAA6B,SAAOC,eAAe,IAAIC,CAA1B,EAA4BC,aAAa,IAAIC,CAA7C,EAA+CC,QAAQ,IAAIC,CAA3D,QAAiE,4BAAjE;;AAA8F,MAAMC,CAAN,SAAgBP,CAAhB,CAAiB;EAACQ,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKC,eAAL,GAAqB;MAACC,EAAE,EAAC,CAAC;IAAL,CAAzC;EAAiD;;EAAAC,OAAO,GAAE,CAAE;;EAAAC,QAAQ,CAACb,CAAD,EAAGO,CAAH,EAAK;IAAC,MAAK;MAACO,OAAO,EAACC,CAAT;MAAWC,YAAY,EAACC,CAAxB;MAA0BC,aAAa,EAACC,CAAxC;MAA0CC,KAAK,EAACC,CAAhD;MAAkDC,SAAS,EAACC,CAA5D;MAA8DC,OAAO,EAACC,CAAtE;MAAwEC,YAAY,EAACC,CAArF;MAAuFC,aAAa,EAACC,CAArG;MAAuGC,aAAa,EAACC;IAArH,IAAwH/B,CAA7H;IAA+H,IAAG,CAACO,CAAC,CAACyB,IAAF,CAAQzC,CAAC,IAAEA,CAAC,CAAC0C,SAAF,CAAYC,GAAZ,CAAgBL,CAAhB,GAAoBM,gBAApB,IAAsC,CAAC,CAAlD,CAAJ,EAA0D;;IAAO,MAAMC,CAAC,GAACpC,CAAC,CAACqC,UAAV;IAAA,MAAqBC,CAAC,GAACF,CAAC,CAACG,cAAzB;IAAA,MAAwCC,CAAC,GAACf,CAAC,CAACgB,0BAA5C;IAAA,MAAuEC,CAAC,GAAC,GAAzE;IAAA,MAA6EC,CAAC,GAACP,CAAC,CAACQ,aAAF,CAAgB,kBAAhB,EAAmC3B,CAAnC,CAA/E;IAAA,MAAqH4B,CAAC,GAACT,CAAC,CAACQ,aAAF,CAAgB,yBAAhB,EAA0C3B,CAA1C,CAAvH;IAAA,MAAoK6B,CAAC,GAACvB,CAAC,KAAG1B,CAAC,CAACkD,OAA5K;IAAA,MAAoLC,CAAC,GAAC,KAAKtC,eAA3L;;IAA2MsC,CAAC,CAACrC,EAAF,GAAKmC,CAAL;IAAO,MAAMG,CAAC,GAACT,CAAC,CAACU,kBAAF,CAAqBnC,CAArB,EAAuBuB,CAAvB,EAAyBU,CAAzB,CAAR;IAAoC,IAAG,CAACF,CAAD,IAAIvD,CAAC,CAACwC,CAAD,CAAL,IAAU,CAACkB,CAAC,CAACE,UAAhB,EAA2B,OAAO,KAAKpB,CAAC,EAAb;IAAgBhB,CAAC,CAACqC,UAAF,CAAaH,CAAb,GAAgBA,CAAC,CAACI,mBAAF,CAAsB,eAAtB,EAAsCR,CAAC,KAAGlD,CAAC,CAAC2D,QAAN,GAAejC,CAAC,CAACkC,WAAjB,GAA6BlC,CAAC,CAACmC,eAArE,CAAhB,EAAsGP,CAAC,CAACQ,aAAF,CAAgB,qBAAhB,EAAsCd,CAAtC,CAAtG,EAA+IM,CAAC,CAACS,YAAF,CAAe,SAAf,EAAyBtB,CAAC,CAACuB,CAA3B,CAA/I,EAA6KV,CAAC,CAACS,YAAF,CAAe,qBAAf,EAAqChB,CAArC,CAA7K;IAAqN,IAAIkB,CAAC,GAAC,CAAC,CAAP;;IAAS,IAAGd,CAAH,EAAK;MAAC,MAAMvD,CAAC,GAACQ,CAAC,CAAC8B,CAAC,GAAC,CAAH,CAAT;MAAeoB,CAAC,CAACY,aAAF,CAAgB,MAAhB,EAAuBtE,CAAvB;IAA0B;;IAAA,KAAI,MAAMA,CAAV,IAAegB,CAAf,EAAiB;MAAC,IAAG,CAAChB,CAAC,CAAC0C,SAAF,CAAY6B,GAAZ,CAAgBjC,CAAhB,CAAJ,EAAuB;MAAStC,CAAC,CAACwE,GAAF,CAAMC,KAAN,KAAcJ,CAAd,KAAkBA,CAAC,GAACrE,CAAC,CAACwE,GAAF,CAAMC,KAAR,EAAc1B,CAAC,CAAC2B,eAAF,CAAkBhB,CAAlB,EAAoBhC,CAApB,EAAsBmB,CAAtB,EAAwBwB,CAAxB,EAA0BjC,CAA1B,CAAhC;MAA8D,MAAMhC,CAAC,GAACJ,CAAC,CAAC0C,SAAF,CAAYC,GAAZ,CAAgBL,CAAhB,CAAR;MAA2B,IAAG,CAAClC,CAAC,CAACwC,gBAAN,EAAuB;MAASxC,CAAC,CAACuE,mBAAF,CAAsBnD,CAAtB;MAAyB,MAAMlB,CAAC,GAACF,CAAC,CAACwE,uBAAV;MAAkC1E,CAAC,CAACI,CAAD,CAAD,KAAOkB,CAAC,CAACqD,OAAF,CAAUvE,CAAV,GAAaoD,CAAC,CAACI,mBAAF,CAAsB,WAAtB,EAAkC9D,CAAC,CAAC8E,UAAF,CAAaC,GAA/C,CAAb,EAAiEnD,CAAC,KAAG5B,CAAC,CAACwE,GAAF,CAAMC,KAAV,GAAgBjD,CAAC,CAACwD,kBAAF,CAAqBrE,CAAC,CAACsE,KAAvB,EAA6BjF,CAAC,CAACkF,UAA/B,EAA0C,GAA1C,CAAhB,GAA+D1D,CAAC,CAACwD,kBAAF,CAAqBrE,CAAC,CAACwE,OAAvB,EAA+B,GAA/B,EAAmC,GAAnC,CAAhI,EAAwK3D,CAAC,CAAC4D,YAAF,CAAevE,CAAC,CAACwE,SAAjB,EAA2BjF,CAAC,CAACwC,gBAA7B,EAA8C7B,CAAC,CAACuE,YAAhD,EAA6DC,WAAW,CAACC,iBAAZ,GAA8BpF,CAAC,CAACqF,gBAA7F,CAAxK,EAAuRzF,CAAC,CAAC0F,aAAF,IAAiBtF,CAAC,CAACwC,gBAAF,GAAmB,CAAlU;IAAqU;EAAC;;AAAn3C;;AAAo3C,SAAO5B,CAAC,IAAI2E,iBAAZ"},"metadata":{},"sourceType":"module"}