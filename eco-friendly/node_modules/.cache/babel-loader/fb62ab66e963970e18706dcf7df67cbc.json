{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { i as n, c as r, r as t, b as o, a as i } from \"../../../../chunks/vec3.js\";\nimport { c as s } from \"../../../../chunks/vec3f64.js\";\nimport { wrap as c } from \"../../../../geometry/support/ray.js\";\nimport { h as a, l as f } from \"../../../../chunks/sphere.js\";\nimport { defaultApplyOptions as m, interactionDirectionTowardsConstraintMinimization as u, InteractionType as p, adjustRangeForInteraction as d } from \"./common.js\";\n\nfunction y(e, n, r = m) {\n  if (!e.state.isLocal) return 0;\n  const t = e.state.constraints.distance;\n  if (!e.pointsOfInterest.surfaceOrigin.renderLocation || t === 1 / 0) return 0;\n  x.min = 0, x.max = t, g(e, r, x);\n  const o = j(e, n),\n        i = x.max - o;\n  return i >= -1e-6 ? 0 : i;\n}\n\nfunction O(n, t, s = m) {\n  const p = y(n, t, s);\n  if (0 === p) return !1;\n  const d = n.pointsOfInterest.surfaceOrigin,\n        O = j(n, t) + p,\n        g = r(h, t.eye),\n        x = u(t, s.interactionDirection, l(n, t, k), L);\n  if (!a(f(d.renderLocation, O), c(t.eye, x), C)) return !1;\n  t.eye = C;\n  const N = o(I, t.eye, g);\n  t.center = i(C, t.center, N);\n  const b = n.renderCoordsHelper.getAltitude(t.center),\n        v = n.renderCoordsHelper.intersectInfiniteManifold(t.ray, b, C);\n  return e(v) && (t.center = v), !0;\n}\n\nfunction g(e, n, r) {\n  const t = n.interactionType;\n  if (t === p.NONE) return;\n  const {\n    min: o,\n    max: i\n  } = r,\n        {\n    interactionStartCamera: s,\n    interactionFactor: c\n  } = n,\n        a = t === p.ZOOM || t === p.PAN,\n        f = y(e, s),\n        m = 0 === f ? 0 : j(e, s);\n  r.min = o, r.max = i;\n  d(f, m, a, c, .05 * m, r);\n}\n\nfunction j(e, r) {\n  const t = e.pointsOfInterest.surfaceOrigin;\n  return n(r.eye, t.renderLocation);\n}\n\nfunction l(e, n, r) {\n  const o = e.pointsOfInterest.surfaceOrigin;\n  return t(r, n.eye, o.renderLocation);\n}\n\nconst x = {\n  min: 0,\n  max: 0\n},\n      h = s(),\n      I = s(),\n      L = s(),\n      k = s(),\n      C = s();\nexport { O as applyDistanceConstraint, y as getDistanceConstraintError };","map":{"version":3,"names":["isSome","e","i","n","c","r","t","b","o","a","s","wrap","h","l","f","defaultApplyOptions","m","interactionDirectionTowardsConstraintMinimization","u","InteractionType","p","adjustRangeForInteraction","d","y","state","isLocal","constraints","distance","pointsOfInterest","surfaceOrigin","renderLocation","x","min","max","g","j","O","eye","interactionDirection","k","L","C","N","I","center","renderCoordsHelper","getAltitude","v","intersectInfiniteManifold","ray","interactionType","NONE","interactionStartCamera","interactionFactor","ZOOM","PAN","applyDistanceConstraint","getDistanceConstraintError"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/camera/constraintUtils/distance.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{i as n,c as r,r as t,b as o,a as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{h as a,l as f}from\"../../../../chunks/sphere.js\";import{defaultApplyOptions as m,interactionDirectionTowardsConstraintMinimization as u,InteractionType as p,adjustRangeForInteraction as d}from\"./common.js\";function y(e,n,r=m){if(!e.state.isLocal)return 0;const t=e.state.constraints.distance;if(!e.pointsOfInterest.surfaceOrigin.renderLocation||t===1/0)return 0;x.min=0,x.max=t,g(e,r,x);const o=j(e,n),i=x.max-o;return i>=-1e-6?0:i}function O(n,t,s=m){const p=y(n,t,s);if(0===p)return!1;const d=n.pointsOfInterest.surfaceOrigin,O=j(n,t)+p,g=r(h,t.eye),x=u(t,s.interactionDirection,l(n,t,k),L);if(!a(f(d.renderLocation,O),c(t.eye,x),C))return!1;t.eye=C;const N=o(I,t.eye,g);t.center=i(C,t.center,N);const b=n.renderCoordsHelper.getAltitude(t.center),v=n.renderCoordsHelper.intersectInfiniteManifold(t.ray,b,C);return e(v)&&(t.center=v),!0}function g(e,n,r){const t=n.interactionType;if(t===p.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:c}=n,a=t===p.ZOOM||t===p.PAN,f=y(e,s),m=0===f?0:j(e,s);r.min=o,r.max=i;d(f,m,a,c,.05*m,r)}function j(e,r){const t=e.pointsOfInterest.surfaceOrigin;return n(r.eye,t.renderLocation)}function l(e,n,r){const o=e.pointsOfInterest.surfaceOrigin;return t(r,n.eye,o.renderLocation)}const x={min:0,max:0},h=s(),I=s(),L=s(),k=s(),C=s();export{O as applyDistanceConstraint,y as getDistanceConstraintError};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}