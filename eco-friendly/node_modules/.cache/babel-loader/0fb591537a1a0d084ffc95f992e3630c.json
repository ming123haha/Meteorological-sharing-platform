{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { FeatureServiceDatabaseType as e } from \"./shared.js\";\nimport { WhereClause as r } from \"../../../core/sql/WhereClause.js\";\nimport { DateTime as t } from \"luxon\";\n\nfunction n(e, r) {\n  return c(e.parseTree, r, e.parameters);\n}\n\nfunction a(e, r, t) {\n  return c(e, r, t);\n}\n\nfunction s(t, n, a, s) {\n  return r.create(c(t.parseTree, e.Standardised, t.parameters, n, a), s);\n}\n\nfunction o(t, a, s = \"AND\") {\n  return r.create(\"((\" + n(t, e.Standardised) + \")\" + s + \"(\" + n(a, e.Standardised) + \"))\", t.fieldsIndex);\n}\n\nfunction c(e, r, t, n = null, a = null) {\n  let s, o, f, d;\n\n  switch (e.type) {\n    case \"interval\":\n      return T(c(e.value, r, t, n, a), e.qualifier, e.op);\n\n    case \"case-expression\":\n      {\n        let s = \" CASE \";\n        \"simple\" === e.format && (s += c(e.operand, r, t, n, a));\n\n        for (let o = 0; o < e.clauses.length; o++) s += \" WHEN \" + c(e.clauses[o].operand, r, t, n, a) + \" THEN \" + c(e.clauses[o].value, r, t, n, a);\n\n        return null !== e.else && (s += \" ELSE \" + c(e.else, r, t, n, a)), s += \" END \", s;\n      }\n\n    case \"parameter\":\n      {\n        const n = t[e.value.toLowerCase()];\n\n        if (\"string\" == typeof n) {\n          return \"'\" + t[e.value.toLowerCase()].toString().replace(/'/g, \"''\") + \"'\";\n        }\n\n        if (n instanceof Date) return i(n, r);\n\n        if (n instanceof Array) {\n          const e = [];\n\n          for (let t = 0; t < n.length; t++) \"string\" == typeof n[t] ? e.push(\"'\" + n[t].toString().replace(/'/g, \"''\") + \"'\") : n[t] instanceof Date ? e.push(i(n[t], r)) : e.push(n[t].toString());\n\n          return e;\n        }\n\n        return n.toString();\n      }\n\n    case \"expression-list\":\n      o = [];\n\n      for (const s of e.value) o.push(c(s, r, t, n, a));\n\n      return o;\n\n    case \"unary-expression\":\n      return \" ( NOT \" + c(e.expr, r, t, n, a) + \" ) \";\n\n    case \"binary-expression\":\n      switch (e.operator) {\n        case \"AND\":\n          return \" (\" + c(e.left, r, t, n, a) + \" AND \" + c(e.right, r, t, n, a) + \") \";\n\n        case \"OR\":\n          return \" (\" + c(e.left, r, t, n, a) + \" OR \" + c(e.right, r, t, n, a) + \") \";\n\n        case \"IS\":\n          if (\"null\" !== e.right.type) throw new Error(\"Unsupported RHS for IS\");\n          return \" (\" + c(e.left, r, t, n, a) + \" IS NULL )\";\n\n        case \"ISNOT\":\n          if (\"null\" !== e.right.type) throw new Error(\"Unsupported RHS for IS\");\n          return \" (\" + c(e.left, r, t, n, a) + \" IS NOT NULL )\";\n\n        case \"IN\":\n          return s = [], \"expression-list\" === e.right.type ? (s = c(e.right, r, t, n, a), \" (\" + c(e.left, r, t, n, a) + \" IN (\" + s.join(\",\") + \")) \") : (d = c(e.right, r, t, n, a), d instanceof Array ? \" (\" + c(e.left, r, t, n, a) + \" IN (\" + d.join(\",\") + \")) \" : \" (\" + c(e.left, r, t, n, a) + \" IN (\" + d + \")) \");\n\n        case \"NOT IN\":\n          return s = [], \"expression-list\" === e.right.type ? (s = c(e.right, r, t, n, a), \" (\" + c(e.left, r, t, n, a) + \" NOT IN (\" + s.join(\",\") + \")) \") : (d = c(e.right, r, t, n, a), d instanceof Array ? \" (\" + c(e.left, r, t, n, a) + \" NOT IN (\" + d.join(\",\") + \")) \" : \" (\" + c(e.left, r, t, n, a) + \" NOT IN (\" + d + \")) \");\n\n        case \"BETWEEN\":\n          return f = c(e.right, r, t, n, a), \" (\" + c(e.left, r, t, n, a) + \" BETWEEN \" + f[0] + \" AND \" + f[1] + \" ) \";\n\n        case \"NOTBETWEEN\":\n          return f = c(e.right, r, t, n, a), \" (\" + c(e.left, r, t, n, a) + \" NOT BETWEEN \" + f[0] + \" AND \" + f[1] + \" ) \";\n\n        case \"LIKE\":\n          return \"\" !== e.escape ? \" (\" + c(e.left, r, t, n, a) + \" LIKE \" + c(e.right, r, t, n, a) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + c(e.left, r, t, n, a) + \" LIKE \" + c(e.right, r, t, n, a) + \") \";\n\n        case \"NOT LIKE\":\n          return \"\" !== e.escape ? \" (\" + c(e.left, r, t, n, a) + \" NOT LIKE \" + c(e.right, r, t, n, a) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + c(e.left, r, t, n, a) + \" NOT LIKE \" + c(e.right, r, t, n, a) + \") \";\n\n        case \"<>\":\n        case \"<\":\n        case \">\":\n        case \">=\":\n        case \"<=\":\n        case \"=\":\n        case \"*\":\n        case \"-\":\n        case \"+\":\n        case \"/\":\n          return \" (\" + c(e.left, r, t, n, a) + \" \" + e.operator + \" \" + c(e.right, r, t, n, a) + \") \";\n      }\n\n      throw new Error(\"Not Supported Operator \" + e.operator);\n\n    case \"null\":\n      return \"null\";\n\n    case \"boolean\":\n      return !0 === e.value ? \"1\" : \"0\";\n\n    case \"string\":\n      return \"'\" + e.value.toString().replace(/'/g, \"''\") + \"'\";\n\n    case \"timestamp\":\n    case \"date\":\n      return i(e.value, r);\n\n    case \"number\":\n      return e.value.toString();\n\n    case \"current-time\":\n      return u(\"date\" === e.mode, r);\n\n    case \"column-reference\":\n      return n && n.toLowerCase() === e.column.toLowerCase() ? \"(\" + a + \")\" : e.column;\n\n    case \"function\":\n      {\n        const s = c(e.args, r, t, n, a);\n        return l(e.name, s, r);\n      }\n  }\n\n  throw new Error(\"Unsupported sql syntax \" + e.type);\n}\n\nfunction l(r, t, n) {\n  switch (r.toLowerCase().trim()) {\n    case \"abs\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for call to ABS\");\n      return \"abs(\" + t[0] + \")\";\n\n    case \"ceiling\":\n    case \"ceil\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for call to CEILING\");\n\n      switch (n) {\n        case e.Standardised:\n        case e.StandardisedNoInterval:\n      }\n\n      return \"CEILING(\" + t[0] + \")\";\n\n    case \"floor\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for call to Floor\");\n      return \"FLOOR(\" + t[0] + \")\";\n\n    case \"log\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for call to LOG\");\n      return \"LOG(\" + t[0] + \")\";\n\n    case \"log10\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for call to LOG10\");\n      return \"LOG10(\" + t[0] + \")\";\n\n    case \"power\":\n      if (2 !== t.length) throw new Error(\"Invalid Parameter for call to POWER\");\n      return \"POWER(\" + t[0] + \",\" + t[1] + \")\";\n\n    case \"round\":\n      if (2 === t.length) return \"ROUND(\" + t[0] + \",\" + t[1] + \")\";\n      if (1 === t.length) return \"ROUND(\" + t[0] + \")\";\n      throw new Error(\"Invalid Parameter for call to ROUND\");\n\n    case \"truncate\":\n      if (t.length < 1 || t.length > 2) throw new Error(\"Invalid Parameter for TRUNCATE function\");\n      return n === e.SqlServer ? \"ROUND(\" + t[0] + (1 === t.length ? \"0\" : \",\" + t[1]) + \",1)\" : \"TRUNCATE(\" + t[0] + (1 === t.length ? \")\" : \",\" + t[1] + \")\");\n\n    case \"char_length\":\n    case \"len\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for CHAR_LENGTH function\");\n\n      switch (n) {\n        case e.SqlServer:\n          return \"LEN(\" + t[0] + \")\";\n\n        case e.Oracle:\n          return \"LENGTH(\" + t[0] + \")\";\n\n        default:\n          return \"CHAR_LENGTH(\" + t[0] + \")\";\n      }\n\n    case \"concat\":\n      if (t.length < 1) throw new Error(\"Invalid Parameter for CONCAT function\");\n      {\n        let e = \"CONCAT(\";\n\n        for (let r = 0; r < t.length; r++) 0 !== r && (e += \",\"), e += t[r];\n\n        return e += \")\", e;\n      }\n\n    case \"lower\":\n    case \"lcase\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for Lower function\");\n      return \"LOWER(\" + t[0] + \")\";\n\n    case \"upper\":\n    case \"ucase\":\n      if (1 !== t.length) throw new Error(\"Invalid Parameter for Upper function\");\n      return \"UPPER(\" + t[0] + \")\";\n\n    case \"substring\":\n      {\n        let r = \"\";\n\n        switch (n) {\n          case e.Oracle:\n            return r = \"SUBSTR(\" + t[0] + \",\" + t[1], 3 === t.length && (r += \",\" + t[2]), r += \")\", r;\n\n          case e.SqlServer:\n            return r = 3 === t.length ? \"SUBSTRING(\" + t[0] + \",\" + t[1] + \",\" + t[2] + \")\" : \"SUBSTRING(\" + t[0] + \",  \" + t[1] + \", LEN(\" + t[0] + \") - \" + t[1] + \")\", r;\n\n          default:\n            return r = \"SUBSTRING(\" + t[0] + \" FROM \" + t[1], 3 === t.length && (r += \" FOR \" + t[2]), r += \")\", r;\n        }\n      }\n\n    case \"extract\":\n      return \"EXTRACT(\" + t[0].replace(/\\'/g, \"\") + \" FROM \" + t[1] + \")\";\n  }\n\n  throw new Error(\"Function Not Recognised\");\n}\n\nfunction i(r, n) {\n  const a = r instanceof Date ? t.fromJSDate(r) : t.fromSQL(r),\n        s = 0 === a.hour && 0 === a.minute && 0 === a.second && 0 === a.millisecond;\n\n  switch (n) {\n    case e.FILEGDB:\n    case e.Standardised:\n    case e.StandardisedNoInterval:\n      return s ? `date '${a.toFormat(\"yyyy-LL-dd\")}'` : `date '${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    case e.Oracle:\n      return s ? `TO_DATE('${a.toFormat(\"yyyy-LL-dd\")}','YYYY-MM-DD')` : `TO_DATE('${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}','YYYY-MM-DD HH24:MI:SS')`;\n\n    case e.SqlServer:\n      return `'${a.toFormat(s ? \"yyyy-LL-dd\" : \"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    case e.PGDB:\n      return `#${a.toFormat(s ? \"LL-dd-yyyy\" : \"LL-dd-yyyy HH:mm:ss\")}#`;\n\n    case e.Postgres:\n      return `TIMESTAMP '${a.toFormat(s ? \"yyyy-LL-dd\" : \"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    default:\n      return `date '${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;\n  }\n}\n\nfunction u(r, t) {\n  switch (t) {\n    case e.FILEGDB:\n    case e.Standardised:\n    case e.StandardisedNoInterval:\n    case e.Oracle:\n      return r ? \"CURRENT_DATE\" : \"CURRENT_TIMESTAMP\";\n\n    case e.SqlServer:\n      return r ? \"CAST(GETDATE() AS DATE)\" : \"GETDATE()\";\n\n    case e.PGDB:\n    case e.Postgres:\n    default:\n      return r ? \"CURRENT_DATE\" : \"CURRENT_TIMESTAMP\";\n  }\n}\n\nfunction f(e, r, t = {}) {\n  const n = {},\n        a = {},\n        s = {\n    esriFieldTypeSmallInteger: \"integer\",\n    esriFieldTypeInteger: \"integer\",\n    esriFieldTypeSingle: \"double\",\n    esriFieldTypeDouble: \"double\",\n    esriFieldTypeString: \"string\",\n    esriFieldTypeDate: \"date\",\n    esriFieldTypeOID: \"integer\",\n    oid: \"integer\",\n    long: \"integer\",\n    \"small-integer\": \"integer\",\n    integer: \"integer\",\n    single: \"double\",\n    double: \"double\",\n    date: \"date\",\n    string: \"string\"\n  };\n\n  for (const o of r) {\n    const e = s[o.type];\n    n[o.name.toLowerCase()] = void 0 === e ? \"\" : e;\n  }\n\n  for (const o in t) {\n    const e = s[t[o]];\n    a[o.toLowerCase()] = void 0 === e ? \"\" : e;\n  }\n\n  switch (d(n, e.parseTree, e.parameters, a)) {\n    case \"double\":\n      return \"double\";\n\n    case \"integer\":\n      return \"integer\";\n\n    case \"date\":\n      return \"date\";\n\n    case \"string\":\n      return \"string\";\n  }\n\n  return \"\";\n}\n\nfunction d(e, r, t, n) {\n  let a;\n\n  switch (r.type) {\n    case \"interval\":\n      return \"integer\";\n\n    case \"case-expression\":\n      {\n        const a = [];\n\n        if (\"simple\" === r.format) {\n          for (let s = 0; s < r.clauses.length; s++) a.push(d(e, r.clauses[s].value, t, n));\n\n          null !== r.else && a.push(d(e, r.else, t, n));\n        } else {\n          for (let s = 0; s < r.clauses.length; s++) a.push(d(e, r.else, t, n));\n\n          null !== r.else && a.push(d(e, r.else, t, n));\n        }\n\n        return g(a);\n      }\n\n    case \"parameter\":\n      {\n        const e = n[r.value.toLowerCase()];\n\n        if (void 0 === e && t) {\n          const e = t[r.value.toLowerCase()];\n          if (void 0 === e) return \"\";\n          if (null === e) return \"\";\n          if (\"string\" == typeof e || e instanceof String) return \"string\";\n          if (\"boolean\" == typeof e) return \"boolean\";\n          if (e instanceof Date) return \"date\";\n          if (\"number\" == typeof e) return e % 1 == 0 ? \"integer\" : \"double\";\n        }\n\n        return void 0 === e ? \"\" : e;\n      }\n\n    case \"expression-list\":\n      {\n        const a = [];\n\n        for (const s of r.value) a.push(d(e, s, t, n));\n\n        return a;\n      }\n\n    case \"unary-expression\":\n      return \"boolean\";\n\n    case \"binary-expression\":\n      switch (r.operator) {\n        case \"AND\":\n        case \"OR\":\n        case \"IN\":\n        case \"NOT IN\":\n        case \"BETWEEN\":\n        case \"NOTBETWEEN\":\n        case \"LIKE\":\n        case \"NOT LIKE\":\n        case \"<>\":\n        case \"<\":\n        case \">\":\n        case \">=\":\n        case \"<=\":\n        case \"=\":\n          return \"boolean\";\n\n        case \"IS\":\n        case \"ISNOT\":\n          if (\"null\" !== r.right.type) throw new Error(\"Unsupported RHS for IS\");\n          return \"boolean\";\n\n        case \"*\":\n        case \"-\":\n        case \"+\":\n        case \"/\":\n          return g([d(e, r.left, t, n), d(e, r.right, t, n)]);\n\n        default:\n          throw new Error(\"Not Supported Operator \" + r.operator);\n      }\n\n    case \"null\":\n      return \"\";\n\n    case \"boolean\":\n      return \"boolean\";\n\n    case \"string\":\n      return \"string\";\n\n    case \"number\":\n      return null === r.value ? \"\" : r.value % 1 == 0 ? \"integer\" : \"double\";\n\n    case \"date\":\n    case \"timestamp\":\n    case \"current-time\":\n      return \"date\";\n\n    case \"column-reference\":\n      {\n        const t = e[r.column.toLowerCase()];\n        return void 0 === t ? \"\" : t;\n      }\n\n    case \"function\":\n      switch (r.name.toLowerCase()) {\n        case \"position\":\n        case \"extract\":\n        case \"char_length\":\n          return \"integer\";\n\n        case \"round\":\n          return a = d(e, r.args, t, n), a instanceof Array ? a.length > 0 ? a[0] : \"\" : a;\n\n        case \"sign\":\n          return a = d(e, r.args, t, n), a instanceof Array && (a = g(a)), \"integer\" === a || \"double\" === a ? a : \"double\";\n\n        case \"ceiling\":\n        case \"floor\":\n        case \"abs\":\n          {\n            const a = d(e, r.args, t, n);\n            return a instanceof Array ? g(a) : a;\n          }\n\n        case \"area\":\n        case \"length\":\n        case \"log\":\n        case \"log10\":\n        case \"sin\":\n        case \"cos\":\n        case \"tan\":\n        case \"asin\":\n        case \"acos\":\n        case \"atan\":\n        case \"power\":\n        case \"truncate\":\n          return \"double\";\n\n        case \"substring\":\n        case \"trim\":\n        case \"concat\":\n        case \"lower\":\n        case \"upper\":\n          return \"string\";\n      }\n\n      return \"\";\n  }\n\n  throw new Error(\"Unsupported sql syntax \" + r.type);\n}\n\nconst p = {\n  boolean: 1,\n  string: 2,\n  integer: 3,\n  double: 4,\n  date: 5\n};\n\nfunction g(e) {\n  if (e) {\n    let r = \"\";\n\n    for (const t of e) \"\" !== t && (r = \"\" === r || p[r] < p[t] ? t : r);\n\n    return r;\n  }\n\n  return \"\";\n}\n\nfunction h(e, r) {\n  return y(e.parseTree, r);\n}\n\nfunction E(e) {\n  return \"column-reference\" === e.parseTree.type;\n}\n\nfunction y(e, r) {\n  if (null == e) return !1;\n\n  switch (e.type) {\n    case \"when-clause\":\n      return y(e.operand, r) || y(e.value, r);\n\n    case \"case-expression\":\n      for (const t of e.clauses) if (y(t, r)) return !0;\n\n      return !(\"simple\" !== e.format || !y(e.operand, r)) || !(null === e.else || !y(e.else, r));\n\n    case \"parameter\":\n    case \"null\":\n    case \"boolean\":\n    case \"date\":\n    case \"timestamp\":\n    case \"string\":\n    case \"number\":\n      return !1;\n\n    case \"expression-list\":\n      for (const t of e.value) if (y(t, r)) return !0;\n\n      return !1;\n\n    case \"unary-expression\":\n      return y(e.expr, r);\n\n    case \"binary-expression\":\n      return y(e.left, r) || y(e.right, r);\n\n    case \"column-reference\":\n      return r.toLowerCase() === e.column.toLowerCase();\n\n    case \"function\":\n      return y(e.args, r);\n  }\n\n  return !1;\n}\n\nfunction m(e) {\n  let r = \"\";\n  return r += e.period.toUpperCase(), r;\n}\n\nfunction T(e, r, t) {\n  let n = \"\";\n  return n = \"interval-period\" === r.type ? m(r) : m(r.start) + \" TO \" + m(r.end), \"INTERVAL \" + t + \" \" + e + \" \" + n;\n}\n\nexport { o as combine, T as convertIntervalToSql, E as isSingleField, i as makeDateString, u as makeToday, f as predictType, s as reformulateWithoutField, h as scanForField, n as toWhereClause, a as toWhereClauseFromTree, l as translateFunctionToDatabaseSpecific };","map":{"version":3,"names":["FeatureServiceDatabaseType","e","WhereClause","r","DateTime","t","n","c","parseTree","parameters","a","s","create","Standardised","o","fieldsIndex","f","d","type","T","value","qualifier","op","format","operand","clauses","length","else","toLowerCase","toString","replace","Date","i","Array","push","expr","operator","left","right","Error","join","escape","u","mode","column","args","l","name","trim","StandardisedNoInterval","SqlServer","Oracle","fromJSDate","fromSQL","hour","minute","second","millisecond","FILEGDB","toFormat","PGDB","Postgres","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","oid","long","integer","single","double","date","string","g","String","p","boolean","h","y","E","m","period","toUpperCase","start","end","combine","convertIntervalToSql","isSingleField","makeDateString","makeToday","predictType","reformulateWithoutField","scanForField","toWhereClause","toWhereClauseFromTree","translateFunctionToDatabaseSpecific"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{FeatureServiceDatabaseType as e}from\"./shared.js\";import{WhereClause as r}from\"../../../core/sql/WhereClause.js\";import{DateTime as t}from\"luxon\";function n(e,r){return c(e.parseTree,r,e.parameters)}function a(e,r,t){return c(e,r,t)}function s(t,n,a,s){return r.create(c(t.parseTree,e.Standardised,t.parameters,n,a),s)}function o(t,a,s=\"AND\"){return r.create(\"((\"+n(t,e.Standardised)+\")\"+s+\"(\"+n(a,e.Standardised)+\"))\",t.fieldsIndex)}function c(e,r,t,n=null,a=null){let s,o,f,d;switch(e.type){case\"interval\":return T(c(e.value,r,t,n,a),e.qualifier,e.op);case\"case-expression\":{let s=\" CASE \";\"simple\"===e.format&&(s+=c(e.operand,r,t,n,a));for(let o=0;o<e.clauses.length;o++)s+=\" WHEN \"+c(e.clauses[o].operand,r,t,n,a)+\" THEN \"+c(e.clauses[o].value,r,t,n,a);return null!==e.else&&(s+=\" ELSE \"+c(e.else,r,t,n,a)),s+=\" END \",s}case\"parameter\":{const n=t[e.value.toLowerCase()];if(\"string\"==typeof n){return\"'\"+t[e.value.toLowerCase()].toString().replace(/'/g,\"''\")+\"'\"}if(n instanceof Date)return i(n,r);if(n instanceof Array){const e=[];for(let t=0;t<n.length;t++)\"string\"==typeof n[t]?e.push(\"'\"+n[t].toString().replace(/'/g,\"''\")+\"'\"):n[t]instanceof Date?e.push(i(n[t],r)):e.push(n[t].toString());return e}return n.toString()}case\"expression-list\":o=[];for(const s of e.value)o.push(c(s,r,t,n,a));return o;case\"unary-expression\":return\" ( NOT \"+c(e.expr,r,t,n,a)+\" ) \";case\"binary-expression\":switch(e.operator){case\"AND\":return\" (\"+c(e.left,r,t,n,a)+\" AND \"+c(e.right,r,t,n,a)+\") \";case\"OR\":return\" (\"+c(e.left,r,t,n,a)+\" OR \"+c(e.right,r,t,n,a)+\") \";case\"IS\":if(\"null\"!==e.right.type)throw new Error(\"Unsupported RHS for IS\");return\" (\"+c(e.left,r,t,n,a)+\" IS NULL )\";case\"ISNOT\":if(\"null\"!==e.right.type)throw new Error(\"Unsupported RHS for IS\");return\" (\"+c(e.left,r,t,n,a)+\" IS NOT NULL )\";case\"IN\":return s=[],\"expression-list\"===e.right.type?(s=c(e.right,r,t,n,a),\" (\"+c(e.left,r,t,n,a)+\" IN (\"+s.join(\",\")+\")) \"):(d=c(e.right,r,t,n,a),d instanceof Array?\" (\"+c(e.left,r,t,n,a)+\" IN (\"+d.join(\",\")+\")) \":\" (\"+c(e.left,r,t,n,a)+\" IN (\"+d+\")) \");case\"NOT IN\":return s=[],\"expression-list\"===e.right.type?(s=c(e.right,r,t,n,a),\" (\"+c(e.left,r,t,n,a)+\" NOT IN (\"+s.join(\",\")+\")) \"):(d=c(e.right,r,t,n,a),d instanceof Array?\" (\"+c(e.left,r,t,n,a)+\" NOT IN (\"+d.join(\",\")+\")) \":\" (\"+c(e.left,r,t,n,a)+\" NOT IN (\"+d+\")) \");case\"BETWEEN\":return f=c(e.right,r,t,n,a),\" (\"+c(e.left,r,t,n,a)+\" BETWEEN \"+f[0]+\" AND \"+f[1]+\" ) \";case\"NOTBETWEEN\":return f=c(e.right,r,t,n,a),\" (\"+c(e.left,r,t,n,a)+\" NOT BETWEEN \"+f[0]+\" AND \"+f[1]+\" ) \";case\"LIKE\":return\"\"!==e.escape?\" (\"+c(e.left,r,t,n,a)+\" LIKE \"+c(e.right,r,t,n,a)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+c(e.left,r,t,n,a)+\" LIKE \"+c(e.right,r,t,n,a)+\") \";case\"NOT LIKE\":return\"\"!==e.escape?\" (\"+c(e.left,r,t,n,a)+\" NOT LIKE \"+c(e.right,r,t,n,a)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+c(e.left,r,t,n,a)+\" NOT LIKE \"+c(e.right,r,t,n,a)+\") \";case\"<>\":case\"<\":case\">\":case\">=\":case\"<=\":case\"=\":case\"*\":case\"-\":case\"+\":case\"/\":return\" (\"+c(e.left,r,t,n,a)+\" \"+e.operator+\" \"+c(e.right,r,t,n,a)+\") \"}throw new Error(\"Not Supported Operator \"+e.operator);case\"null\":return\"null\";case\"boolean\":return!0===e.value?\"1\":\"0\";case\"string\":return\"'\"+e.value.toString().replace(/'/g,\"''\")+\"'\";case\"timestamp\":case\"date\":return i(e.value,r);case\"number\":return e.value.toString();case\"current-time\":return u(\"date\"===e.mode,r);case\"column-reference\":return n&&n.toLowerCase()===e.column.toLowerCase()?\"(\"+a+\")\":e.column;case\"function\":{const s=c(e.args,r,t,n,a);return l(e.name,s,r)}}throw new Error(\"Unsupported sql syntax \"+e.type)}function l(r,t,n){switch(r.toLowerCase().trim()){case\"abs\":if(1!==t.length)throw new Error(\"Invalid Parameter for call to ABS\");return\"abs(\"+t[0]+\")\";case\"ceiling\":case\"ceil\":if(1!==t.length)throw new Error(\"Invalid Parameter for call to CEILING\");switch(n){case e.Standardised:case e.StandardisedNoInterval:}return\"CEILING(\"+t[0]+\")\";case\"floor\":if(1!==t.length)throw new Error(\"Invalid Parameter for call to Floor\");return\"FLOOR(\"+t[0]+\")\";case\"log\":if(1!==t.length)throw new Error(\"Invalid Parameter for call to LOG\");return\"LOG(\"+t[0]+\")\";case\"log10\":if(1!==t.length)throw new Error(\"Invalid Parameter for call to LOG10\");return\"LOG10(\"+t[0]+\")\";case\"power\":if(2!==t.length)throw new Error(\"Invalid Parameter for call to POWER\");return\"POWER(\"+t[0]+\",\"+t[1]+\")\";case\"round\":if(2===t.length)return\"ROUND(\"+t[0]+\",\"+t[1]+\")\";if(1===t.length)return\"ROUND(\"+t[0]+\")\";throw new Error(\"Invalid Parameter for call to ROUND\");case\"truncate\":if(t.length<1||t.length>2)throw new Error(\"Invalid Parameter for TRUNCATE function\");return n===e.SqlServer?\"ROUND(\"+t[0]+(1===t.length?\"0\":\",\"+t[1])+\",1)\":\"TRUNCATE(\"+t[0]+(1===t.length?\")\":\",\"+t[1]+\")\");case\"char_length\":case\"len\":if(1!==t.length)throw new Error(\"Invalid Parameter for CHAR_LENGTH function\");switch(n){case e.SqlServer:return\"LEN(\"+t[0]+\")\";case e.Oracle:return\"LENGTH(\"+t[0]+\")\";default:return\"CHAR_LENGTH(\"+t[0]+\")\"}case\"concat\":if(t.length<1)throw new Error(\"Invalid Parameter for CONCAT function\");{let e=\"CONCAT(\";for(let r=0;r<t.length;r++)0!==r&&(e+=\",\"),e+=t[r];return e+=\")\",e}case\"lower\":case\"lcase\":if(1!==t.length)throw new Error(\"Invalid Parameter for Lower function\");return\"LOWER(\"+t[0]+\")\";case\"upper\":case\"ucase\":if(1!==t.length)throw new Error(\"Invalid Parameter for Upper function\");return\"UPPER(\"+t[0]+\")\";case\"substring\":{let r=\"\";switch(n){case e.Oracle:return r=\"SUBSTR(\"+t[0]+\",\"+t[1],3===t.length&&(r+=\",\"+t[2]),r+=\")\",r;case e.SqlServer:return r=3===t.length?\"SUBSTRING(\"+t[0]+\",\"+t[1]+\",\"+t[2]+\")\":\"SUBSTRING(\"+t[0]+\",  \"+t[1]+\", LEN(\"+t[0]+\") - \"+t[1]+\")\",r;default:return r=\"SUBSTRING(\"+t[0]+\" FROM \"+t[1],3===t.length&&(r+=\" FOR \"+t[2]),r+=\")\",r}}case\"extract\":return\"EXTRACT(\"+t[0].replace(/\\'/g,\"\")+\" FROM \"+t[1]+\")\"}throw new Error(\"Function Not Recognised\")}function i(r,n){const a=r instanceof Date?t.fromJSDate(r):t.fromSQL(r),s=0===a.hour&&0===a.minute&&0===a.second&&0===a.millisecond;switch(n){case e.FILEGDB:case e.Standardised:case e.StandardisedNoInterval:return s?`date '${a.toFormat(\"yyyy-LL-dd\")}'`:`date '${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;case e.Oracle:return s?`TO_DATE('${a.toFormat(\"yyyy-LL-dd\")}','YYYY-MM-DD')`:`TO_DATE('${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}','YYYY-MM-DD HH24:MI:SS')`;case e.SqlServer:return`'${a.toFormat(s?\"yyyy-LL-dd\":\"yyyy-LL-dd HH:mm:ss\")}'`;case e.PGDB:return`#${a.toFormat(s?\"LL-dd-yyyy\":\"LL-dd-yyyy HH:mm:ss\")}#`;case e.Postgres:return`TIMESTAMP '${a.toFormat(s?\"yyyy-LL-dd\":\"yyyy-LL-dd HH:mm:ss\")}'`;default:return`date '${a.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`}}function u(r,t){switch(t){case e.FILEGDB:case e.Standardised:case e.StandardisedNoInterval:case e.Oracle:return r?\"CURRENT_DATE\":\"CURRENT_TIMESTAMP\";case e.SqlServer:return r?\"CAST(GETDATE() AS DATE)\":\"GETDATE()\";case e.PGDB:case e.Postgres:default:return r?\"CURRENT_DATE\":\"CURRENT_TIMESTAMP\"}}function f(e,r,t={}){const n={},a={},s={esriFieldTypeSmallInteger:\"integer\",esriFieldTypeInteger:\"integer\",esriFieldTypeSingle:\"double\",esriFieldTypeDouble:\"double\",esriFieldTypeString:\"string\",esriFieldTypeDate:\"date\",esriFieldTypeOID:\"integer\",oid:\"integer\",long:\"integer\",\"small-integer\":\"integer\",integer:\"integer\",single:\"double\",double:\"double\",date:\"date\",string:\"string\"};for(const o of r){const e=s[o.type];n[o.name.toLowerCase()]=void 0===e?\"\":e}for(const o in t){const e=s[t[o]];a[o.toLowerCase()]=void 0===e?\"\":e}switch(d(n,e.parseTree,e.parameters,a)){case\"double\":return\"double\";case\"integer\":return\"integer\";case\"date\":return\"date\";case\"string\":return\"string\"}return\"\"}function d(e,r,t,n){let a;switch(r.type){case\"interval\":return\"integer\";case\"case-expression\":{const a=[];if(\"simple\"===r.format){for(let s=0;s<r.clauses.length;s++)a.push(d(e,r.clauses[s].value,t,n));null!==r.else&&a.push(d(e,r.else,t,n))}else{for(let s=0;s<r.clauses.length;s++)a.push(d(e,r.else,t,n));null!==r.else&&a.push(d(e,r.else,t,n))}return g(a)}case\"parameter\":{const e=n[r.value.toLowerCase()];if(void 0===e&&t){const e=t[r.value.toLowerCase()];if(void 0===e)return\"\";if(null===e)return\"\";if(\"string\"==typeof e||e instanceof String)return\"string\";if(\"boolean\"==typeof e)return\"boolean\";if(e instanceof Date)return\"date\";if(\"number\"==typeof e)return e%1==0?\"integer\":\"double\"}return void 0===e?\"\":e}case\"expression-list\":{const a=[];for(const s of r.value)a.push(d(e,s,t,n));return a}case\"unary-expression\":return\"boolean\";case\"binary-expression\":switch(r.operator){case\"AND\":case\"OR\":case\"IN\":case\"NOT IN\":case\"BETWEEN\":case\"NOTBETWEEN\":case\"LIKE\":case\"NOT LIKE\":case\"<>\":case\"<\":case\">\":case\">=\":case\"<=\":case\"=\":return\"boolean\";case\"IS\":case\"ISNOT\":if(\"null\"!==r.right.type)throw new Error(\"Unsupported RHS for IS\");return\"boolean\";case\"*\":case\"-\":case\"+\":case\"/\":return g([d(e,r.left,t,n),d(e,r.right,t,n)]);default:throw new Error(\"Not Supported Operator \"+r.operator)}case\"null\":return\"\";case\"boolean\":return\"boolean\";case\"string\":return\"string\";case\"number\":return null===r.value?\"\":r.value%1==0?\"integer\":\"double\";case\"date\":case\"timestamp\":case\"current-time\":return\"date\";case\"column-reference\":{const t=e[r.column.toLowerCase()];return void 0===t?\"\":t}case\"function\":switch(r.name.toLowerCase()){case\"position\":case\"extract\":case\"char_length\":return\"integer\";case\"round\":return a=d(e,r.args,t,n),a instanceof Array?a.length>0?a[0]:\"\":a;case\"sign\":return a=d(e,r.args,t,n),a instanceof Array&&(a=g(a)),\"integer\"===a||\"double\"===a?a:\"double\";case\"ceiling\":case\"floor\":case\"abs\":{const a=d(e,r.args,t,n);return a instanceof Array?g(a):a}case\"area\":case\"length\":case\"log\":case\"log10\":case\"sin\":case\"cos\":case\"tan\":case\"asin\":case\"acos\":case\"atan\":case\"power\":case\"truncate\":return\"double\";case\"substring\":case\"trim\":case\"concat\":case\"lower\":case\"upper\":return\"string\"}return\"\"}throw new Error(\"Unsupported sql syntax \"+r.type)}const p={boolean:1,string:2,integer:3,double:4,date:5};function g(e){if(e){let r=\"\";for(const t of e)\"\"!==t&&(r=\"\"===r||p[r]<p[t]?t:r);return r}return\"\"}function h(e,r){return y(e.parseTree,r)}function E(e){return\"column-reference\"===e.parseTree.type}function y(e,r){if(null==e)return!1;switch(e.type){case\"when-clause\":return y(e.operand,r)||y(e.value,r);case\"case-expression\":for(const t of e.clauses)if(y(t,r))return!0;return!(\"simple\"!==e.format||!y(e.operand,r))||!(null===e.else||!y(e.else,r));case\"parameter\":case\"null\":case\"boolean\":case\"date\":case\"timestamp\":case\"string\":case\"number\":return!1;case\"expression-list\":for(const t of e.value)if(y(t,r))return!0;return!1;case\"unary-expression\":return y(e.expr,r);case\"binary-expression\":return y(e.left,r)||y(e.right,r);case\"column-reference\":return r.toLowerCase()===e.column.toLowerCase();case\"function\":return y(e.args,r)}return!1}function m(e){let r=\"\";return r+=e.period.toUpperCase(),r}function T(e,r,t){let n=\"\";return n=\"interval-period\"===r.type?m(r):m(r.start)+\" TO \"+m(r.end),\"INTERVAL \"+t+\" \"+e+\" \"+n}export{o as combine,T as convertIntervalToSql,E as isSingleField,i as makeDateString,u as makeToday,f as predictType,s as reformulateWithoutField,h as scanForField,n as toWhereClause,a as toWhereClauseFromTree,l as translateFunctionToDatabaseSpecific};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}