{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport s from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { clamp as i } from \"../../../../core/mathUtils.js\";\nimport { isNone as a, isSome as o, applySome as n } from \"../../../../core/maybe.js\";\nimport { createTask as m } from \"../../../../core/promiseUtils.js\";\nimport { watch as u } from \"../../../../core/reactiveUtils.js\";\nimport { createScreenPointArray as l, createRenderScreenPointArray as p, screenPointObjectToArray as h } from \"../../../../core/screenUtils.js\";\nimport { isSVG as c } from \"../../../../core/urlUtils.js\";\nimport { property as _ } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as d } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as g } from \"../../../../support/requestImageUtils.js\";\nimport { Pos2 as f } from \"./DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as T } from \"./glUtil3D.js\";\nimport { Program as v } from \"./Program.js\";\nimport { VertexAttribute as y } from \"./VertexAttribute.js\";\nimport { MagnifierPassParameters as k, build as R } from \"../shaders/Magnifier.glsl.js\";\nimport { loadMagnifierResources as L } from \"../../../magnifier/resources.js\";\nimport { PrimitiveType as S, BlendFactor as x, TextureType as E, PixelFormat as b, PixelType as j, TextureWrapMode as A, TextureSamplingMode as P } from \"../../../webgl/enums.js\";\nimport { makePipelineState as w, simpleBlendingParams as M, defaultColorWriteParams as U } from \"../../../webgl/renderState.js\";\nimport { Texture as I } from \"../../../webgl/Texture.js\";\nlet N = class extends s {\n  constructor() {\n    super(...arguments), this._handles = new t(), this._magnifier = null, this._imageSources = null, this._imageLoadTask = null, this._resources = null, this._passParameters = new k(), this.events = new r(), this.attributeLocations = new Map([[y.POSITION, 0]]), this.tmpScreenPoint = l(), this.tmpRenderPoint = p();\n  }\n\n  get updating() {\n    return a(this._imageSources) && o(this._imageLoadTask) && !this._imageLoadTask.task.finished;\n  }\n\n  get magnifier() {\n    return this._magnifier;\n  }\n\n  set magnifier(e) {\n    if (e === this._magnifier) return;\n    this._handles.removeAll(), this._magnifier = e;\n\n    const s = () => {\n      this._updateResourceLoading(), this.events.emit(\"request-render\");\n    };\n\n    o(this._magnifier) && this._handles.add(u(() => n(this._magnifier, e => e.version), s)), s();\n  }\n\n  get enabled() {\n    return o(this._validMagnifier);\n  }\n\n  get _validMagnifier() {\n    return o(this._magnifier) && this._magnifier.visible && o(this._magnifier.position) && this._magnifier.size > 0 ? this._magnifier : null;\n  }\n\n  get factor() {\n    return o(this._magnifier) && this._magnifier.factor || 1;\n  }\n\n  dispose() {\n    this._magnifier = null, this._handles.destroy(), o(this._imageLoadTask) && (this._imageLoadTask.task.abort(), this._imageLoadTask = null), this._disposeResources();\n  }\n\n  render(e, s) {\n    const r = this._validMagnifier;\n    if (a(r)) return;\n    const t = s.camera.pixelRatio,\n          o = Math.ceil(t * r.size);\n    if (this._updateResources(e, o), a(this._resources)) return;\n    this._passParameters.maskEnabled = r.maskEnabled, this._passParameters.overlayEnabled = r.overlayEnabled;\n    const n = this._resources.program;\n    e.useProgram(n), n.bindPass(this._passParameters, s);\n    const m = this._resources.textures,\n          u = Math.ceil(1 / this.factor * o);\n    m.input.resize(u, u);\n    const l = s.camera.fullWidth,\n          p = s.camera.fullHeight;\n    h(r.position, this.tmpScreenPoint);\n\n    const c = s.camera.screenToRender(this.tmpScreenPoint, this.tmpRenderPoint),\n          _ = .5 * u,\n          d = .5 * u;\n\n    c[0] = i(c[0], _, l - _ - 1), c[1] = i(c[1], d, p - d - 1);\n    const g = Math.floor(c[0] - _),\n          f = Math.floor(c[1] - d);\n    n.bindTexture(\"textureInput\", m.input), e.gl.copyTexImage2D(m.input.descriptor.target, 0, m.input.descriptor.pixelFormat, g, f, u, u, 0);\n    const T = r.offset.x * t,\n          v = r.offset.y * t,\n          y = (c[0] + T) / l * 2 - 1,\n          k = (c[1] - v) / p * 2 - 1,\n          R = o / l * 2,\n          L = o / p * 2;\n    e.bindVAO(this._resources.vao), n.bindTexture(\"textureOverlay\", m.overlay), n.bindTexture(\"textureMask\", m.mask), n.setUniform4f(\"drawPosition\", y, k, R, L), e.setPipelineState(this._resources.pipelineState), e.drawArrays(S.TRIANGLE_STRIP, 0, 4);\n  }\n\n  _updateResourceLoading() {\n    const e = this._validMagnifier;\n    if (a(e)) return;\n    const s = e.maskUrl,\n          r = e.overlayUrl;\n    !o(this._imageLoadTask) || this._imageLoadTask.maskUrl === s && this._imageLoadTask.overlayUrl === r || (this._imageLoadTask.task.abort(), this._imageLoadTask = null, this._imageSources = null), o(this._imageSources) || o(this._imageLoadTask) || (this._imageLoadTask = {\n      maskUrl: s,\n      overlayUrl: r,\n      task: m(async e => {\n        const t = a(s) || a(r) ? L(e) : null,\n              i = o(s) ? g(s, {\n          signal: e\n        }) : t.then(e => e.mask),\n              n = o(r) ? g(r, {\n          signal: e\n        }) : t.then(e => e.overlay);\n        this._imageSources = {\n          mask: await i,\n          overlay: await n\n        }, this._disposeResources(), this.events.emit(\"request-render\");\n      })\n    }, this._imageLoadTask.task.promise.then(() => this.notifyChange(\"updating\"), () => this.notifyChange(\"updating\")));\n  }\n\n  _updateResources(e, s) {\n    if (!this.enabled) return void this._disposeResources();\n\n    if (o(this._resources)) {\n      if (this._resources.textures.size !== s) {\n        const r = this._createTextureResources(e, s);\n\n        if (a(r)) return void this._disposeResources();\n        this._disposeTextureResources(this._resources.textures), this._resources.textures = r;\n      }\n\n      return;\n    }\n\n    const r = this._createTextureResources(e, s);\n\n    a(r) || (this._resources = {\n      textures: r,\n      program: this._createProgram(e),\n      vao: T(e, f, this.attributeLocations, 0, 1),\n      pipelineState: w({\n        blending: M(x.ONE, x.ONE_MINUS_SRC_ALPHA),\n        depthTest: null,\n        depthWrite: null,\n        colorWrite: U\n      })\n    });\n  }\n\n  _disposeResources() {\n    a(this._resources) || (this._disposeTextureResources(this._resources.textures), this._resources.program.dispose(), this._resources.vao.dispose(), this._resources = null);\n  }\n\n  _disposeTextureResources(e) {\n    e.mask.dispose(), e.overlay.dispose(), e.input.dispose();\n  }\n\n  _createTextureResources(e, s) {\n    if (a(this._imageSources)) return null;\n    this._imageSources.overlay.width = s, this._imageSources.overlay.height = s, this._imageSources.mask.width = s, this._imageSources.mask.height = s;\n    const r = new I(e, {\n      target: E.TEXTURE_2D,\n      pixelFormat: b.RGBA,\n      internalFormat: b.RGBA,\n      dataType: j.UNSIGNED_BYTE,\n      wrapMode: A.CLAMP_TO_EDGE,\n      samplingMode: P.LINEAR,\n      flipped: !0,\n      preMultiplyAlpha: !c(this._imageSources.overlay.src) || !e.driverTest.svgAlwaysPremultipliesAlpha\n    }, this._imageSources.overlay),\n          t = new I(e, {\n      target: E.TEXTURE_2D,\n      pixelFormat: b.ALPHA,\n      internalFormat: b.ALPHA,\n      dataType: j.UNSIGNED_BYTE,\n      wrapMode: A.CLAMP_TO_EDGE,\n      samplingMode: P.LINEAR,\n      flipped: !0\n    }, this._imageSources.mask);\n    return {\n      input: new I(e, {\n        target: E.TEXTURE_2D,\n        pixelFormat: b.RGBA,\n        internalFormat: b.RGBA,\n        dataType: j.UNSIGNED_BYTE,\n        wrapMode: A.CLAMP_TO_EDGE,\n        samplingMode: P.LINEAR,\n        flipped: !1\n      }),\n      mask: t,\n      overlay: r,\n      size: s\n    };\n  }\n\n  _createProgram(e) {\n    return new v(e, R(), this.attributeLocations);\n  }\n\n};\ne([_()], N.prototype, \"_imageSources\", void 0), e([_()], N.prototype, \"_imageLoadTask\", void 0), e([_({\n  readOnly: !0\n})], N.prototype, \"updating\", null), N = e([d(\"esri/views/3d/webgl-engine/lib/MagnifierHelper\")], N);\nexport { N as MagnifierHelper };","map":{"version":3,"names":["_","e","s","r","t","clamp","i","isNone","a","isSome","o","applySome","n","createTask","m","watch","u","createScreenPointArray","l","createRenderScreenPointArray","p","screenPointObjectToArray","h","isSVG","c","property","subclass","d","requestImage","g","Pos2","f","createQuadVAO","T","Program","v","VertexAttribute","y","MagnifierPassParameters","k","build","R","loadMagnifierResources","L","PrimitiveType","S","BlendFactor","x","TextureType","E","PixelFormat","b","PixelType","j","TextureWrapMode","A","TextureSamplingMode","P","makePipelineState","w","simpleBlendingParams","M","defaultColorWriteParams","U","Texture","I","N","constructor","arguments","_handles","_magnifier","_imageSources","_imageLoadTask","_resources","_passParameters","events","attributeLocations","Map","POSITION","tmpScreenPoint","tmpRenderPoint","updating","task","finished","magnifier","removeAll","_updateResourceLoading","emit","add","version","enabled","_validMagnifier","visible","position","size","factor","dispose","destroy","abort","_disposeResources","render","camera","pixelRatio","Math","ceil","_updateResources","maskEnabled","overlayEnabled","program","useProgram","bindPass","textures","input","resize","fullWidth","fullHeight","screenToRender","floor","bindTexture","gl","copyTexImage2D","descriptor","target","pixelFormat","offset","bindVAO","vao","overlay","mask","setUniform4f","setPipelineState","pipelineState","drawArrays","TRIANGLE_STRIP","maskUrl","overlayUrl","signal","then","promise","notifyChange","_createTextureResources","_disposeTextureResources","_createProgram","blending","ONE","ONE_MINUS_SRC_ALPHA","depthTest","depthWrite","colorWrite","width","height","TEXTURE_2D","RGBA","internalFormat","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","LINEAR","flipped","preMultiplyAlpha","src","driverTest","svgAlwaysPremultipliesAlpha","ALPHA","prototype","readOnly","MagnifierHelper"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/MagnifierHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o,applySome as n}from\"../../../../core/maybe.js\";import{createTask as m}from\"../../../../core/promiseUtils.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray as p,screenPointObjectToArray as h}from\"../../../../core/screenUtils.js\";import{isSVG as c}from\"../../../../core/urlUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as g}from\"../../../../support/requestImageUtils.js\";import{Pos2 as f}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as T}from\"./glUtil3D.js\";import{Program as v}from\"./Program.js\";import{VertexAttribute as y}from\"./VertexAttribute.js\";import{MagnifierPassParameters as k,build as R}from\"../shaders/Magnifier.glsl.js\";import{loadMagnifierResources as L}from\"../../../magnifier/resources.js\";import{PrimitiveType as S,BlendFactor as x,TextureType as E,PixelFormat as b,PixelType as j,TextureWrapMode as A,TextureSamplingMode as P}from\"../../../webgl/enums.js\";import{makePipelineState as w,simpleBlendingParams as M,defaultColorWriteParams as U}from\"../../../webgl/renderState.js\";import{Texture as I}from\"../../../webgl/Texture.js\";let N=class extends s{constructor(){super(...arguments),this._handles=new t,this._magnifier=null,this._imageSources=null,this._imageLoadTask=null,this._resources=null,this._passParameters=new k,this.events=new r,this.attributeLocations=new Map([[y.POSITION,0]]),this.tmpScreenPoint=l(),this.tmpRenderPoint=p()}get updating(){return a(this._imageSources)&&o(this._imageLoadTask)&&!this._imageLoadTask.task.finished}get magnifier(){return this._magnifier}set magnifier(e){if(e===this._magnifier)return;this._handles.removeAll(),this._magnifier=e;const s=()=>{this._updateResourceLoading(),this.events.emit(\"request-render\")};o(this._magnifier)&&this._handles.add(u((()=>n(this._magnifier,(e=>e.version))),s)),s()}get enabled(){return o(this._validMagnifier)}get _validMagnifier(){return o(this._magnifier)&&this._magnifier.visible&&o(this._magnifier.position)&&this._magnifier.size>0?this._magnifier:null}get factor(){return o(this._magnifier)&&this._magnifier.factor||1}dispose(){this._magnifier=null,this._handles.destroy(),o(this._imageLoadTask)&&(this._imageLoadTask.task.abort(),this._imageLoadTask=null),this._disposeResources()}render(e,s){const r=this._validMagnifier;if(a(r))return;const t=s.camera.pixelRatio,o=Math.ceil(t*r.size);if(this._updateResources(e,o),a(this._resources))return;this._passParameters.maskEnabled=r.maskEnabled,this._passParameters.overlayEnabled=r.overlayEnabled;const n=this._resources.program;e.useProgram(n),n.bindPass(this._passParameters,s);const m=this._resources.textures,u=Math.ceil(1/this.factor*o);m.input.resize(u,u);const l=s.camera.fullWidth,p=s.camera.fullHeight;h(r.position,this.tmpScreenPoint);const c=s.camera.screenToRender(this.tmpScreenPoint,this.tmpRenderPoint),_=.5*u,d=.5*u;c[0]=i(c[0],_,l-_-1),c[1]=i(c[1],d,p-d-1);const g=Math.floor(c[0]-_),f=Math.floor(c[1]-d);n.bindTexture(\"textureInput\",m.input),e.gl.copyTexImage2D(m.input.descriptor.target,0,m.input.descriptor.pixelFormat,g,f,u,u,0);const T=r.offset.x*t,v=r.offset.y*t,y=(c[0]+T)/l*2-1,k=(c[1]-v)/p*2-1,R=o/l*2,L=o/p*2;e.bindVAO(this._resources.vao),n.bindTexture(\"textureOverlay\",m.overlay),n.bindTexture(\"textureMask\",m.mask),n.setUniform4f(\"drawPosition\",y,k,R,L),e.setPipelineState(this._resources.pipelineState),e.drawArrays(S.TRIANGLE_STRIP,0,4)}_updateResourceLoading(){const e=this._validMagnifier;if(a(e))return;const s=e.maskUrl,r=e.overlayUrl;!o(this._imageLoadTask)||this._imageLoadTask.maskUrl===s&&this._imageLoadTask.overlayUrl===r||(this._imageLoadTask.task.abort(),this._imageLoadTask=null,this._imageSources=null),o(this._imageSources)||o(this._imageLoadTask)||(this._imageLoadTask={maskUrl:s,overlayUrl:r,task:m((async e=>{const t=a(s)||a(r)?L(e):null,i=o(s)?g(s,{signal:e}):t.then((e=>e.mask)),n=o(r)?g(r,{signal:e}):t.then((e=>e.overlay));this._imageSources={mask:await i,overlay:await n},this._disposeResources(),this.events.emit(\"request-render\")}))},this._imageLoadTask.task.promise.then((()=>this.notifyChange(\"updating\")),(()=>this.notifyChange(\"updating\"))))}_updateResources(e,s){if(!this.enabled)return void this._disposeResources();if(o(this._resources)){if(this._resources.textures.size!==s){const r=this._createTextureResources(e,s);if(a(r))return void this._disposeResources();this._disposeTextureResources(this._resources.textures),this._resources.textures=r}return}const r=this._createTextureResources(e,s);a(r)||(this._resources={textures:r,program:this._createProgram(e),vao:T(e,f,this.attributeLocations,0,1),pipelineState:w({blending:M(x.ONE,x.ONE_MINUS_SRC_ALPHA),depthTest:null,depthWrite:null,colorWrite:U})})}_disposeResources(){a(this._resources)||(this._disposeTextureResources(this._resources.textures),this._resources.program.dispose(),this._resources.vao.dispose(),this._resources=null)}_disposeTextureResources(e){e.mask.dispose(),e.overlay.dispose(),e.input.dispose()}_createTextureResources(e,s){if(a(this._imageSources))return null;this._imageSources.overlay.width=s,this._imageSources.overlay.height=s,this._imageSources.mask.width=s,this._imageSources.mask.height=s;const r=new I(e,{target:E.TEXTURE_2D,pixelFormat:b.RGBA,internalFormat:b.RGBA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!0,preMultiplyAlpha:!c(this._imageSources.overlay.src)||!e.driverTest.svgAlwaysPremultipliesAlpha},this._imageSources.overlay),t=new I(e,{target:E.TEXTURE_2D,pixelFormat:b.ALPHA,internalFormat:b.ALPHA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!0},this._imageSources.mask);return{input:new I(e,{target:E.TEXTURE_2D,pixelFormat:b.RGBA,internalFormat:b.RGBA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!1}),mask:t,overlay:r,size:s}}_createProgram(e){return new v(e,R(),this.attributeLocations)}};e([_()],N.prototype,\"_imageSources\",void 0),e([_()],N.prototype,\"_imageLoadTask\",void 0),e([_({readOnly:!0})],N.prototype,\"updating\",null),N=e([d(\"esri/views/3d/webgl-engine/lib/MagnifierHelper\")],N);export{N as MagnifierHelper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}