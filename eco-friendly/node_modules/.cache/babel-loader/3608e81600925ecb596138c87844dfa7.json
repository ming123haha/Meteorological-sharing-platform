{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { Float3PassUniform as e } from \"../../shaderModules/Float3PassUniform.js\";\nimport { Float4sPassUniform as o } from \"../../shaderModules/Float4sPassUniform.js\";\nimport { FloatsPassUniform as r } from \"../../shaderModules/FloatsPassUniform.js\";\nimport { glsl as v } from \"../../shaderModules/interfaces.js\";\nimport { Matrix3PassUniform as t } from \"../../shaderModules/Matrix3PassUniform.js\";\nimport { VertexAttribute as a } from \"../../../lib/VertexAttribute.js\";\nimport { vvColorNumber as i } from \"../../../materials/VisualVariablePassParameters.js\";\n\nfunction s(s, n) {\n  n.hasVvInstancing && (n.vvSize || n.vvColor) && s.attributes.add(a.INSTANCEFEATUREATTRIBUTE, \"vec4\");\n  const l = s.vertex;\n  n.vvSize ? (l.uniforms.add(new e(\"vvSizeMinSize\", e => e.vvSizeMinSize)), l.uniforms.add(new e(\"vvSizeMaxSize\", e => e.vvSizeMaxSize)), l.uniforms.add(new e(\"vvSizeOffset\", e => e.vvSizeOffset)), l.uniforms.add(new e(\"vvSizeFactor\", e => e.vvSizeFactor)), l.uniforms.add(new t(\"vvSymbolRotationMatrix\", e => e.vvSymbolRotationMatrix)), l.uniforms.add(new e(\"vvSymbolAnchor\", e => e.vvSymbolAnchor)), l.code.add(v`vec3 vvScale(vec4 _featureAttribute) {\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}`), l.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${n.hasVvInstancing ? v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }` : \"\"}\n    `)) : l.code.add(v`vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`), n.vvColor ? (l.constants.add(\"vvColorNumber\", \"int\", i), n.hasVvInstancing && l.uniforms.add([new r(\"vvColorValues\", e => e.vvColorValues, i), new o(\"vvColorColors\", e => e.vvColorColors, i)]), l.code.add(v`\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${n.hasVvInstancing ? v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }` : \"\"}\n    `)) : l.code.add(v`vec4 vvColor() { return vec4(1.0); }`);\n}\n\nexport { s as VisualVariables };","map":{"version":3,"names":["Float3PassUniform","e","Float4sPassUniform","o","FloatsPassUniform","r","glsl","v","Matrix3PassUniform","t","VertexAttribute","a","vvColorNumber","i","s","n","hasVvInstancing","vvSize","vvColor","attributes","add","INSTANCEFEATUREATTRIBUTE","l","vertex","uniforms","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSymbolRotationMatrix","vvSymbolAnchor","code","constants","vvColorValues","vvColorColors","VisualVariables"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Float3PassUniform as e}from\"../../shaderModules/Float3PassUniform.js\";import{Float4sPassUniform as o}from\"../../shaderModules/Float4sPassUniform.js\";import{FloatsPassUniform as r}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as v}from\"../../shaderModules/interfaces.js\";import{Matrix3PassUniform as t}from\"../../shaderModules/Matrix3PassUniform.js\";import{VertexAttribute as a}from\"../../../lib/VertexAttribute.js\";import{vvColorNumber as i}from\"../../../materials/VisualVariablePassParameters.js\";function s(s,n){n.hasVvInstancing&&(n.vvSize||n.vvColor)&&s.attributes.add(a.INSTANCEFEATUREATTRIBUTE,\"vec4\");const l=s.vertex;n.vvSize?(l.uniforms.add(new e(\"vvSizeMinSize\",(e=>e.vvSizeMinSize))),l.uniforms.add(new e(\"vvSizeMaxSize\",(e=>e.vvSizeMaxSize))),l.uniforms.add(new e(\"vvSizeOffset\",(e=>e.vvSizeOffset))),l.uniforms.add(new e(\"vvSizeFactor\",(e=>e.vvSizeFactor))),l.uniforms.add(new t(\"vvSymbolRotationMatrix\",(e=>e.vvSymbolRotationMatrix))),l.uniforms.add(new e(\"vvSymbolAnchor\",(e=>e.vvSymbolAnchor))),l.code.add(v`vec3 vvScale(vec4 _featureAttribute) {\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}`),l.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${n.hasVvInstancing?v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):l.code.add(v`vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),n.vvColor?(l.constants.add(\"vvColorNumber\",\"int\",i),n.hasVvInstancing&&l.uniforms.add([new r(\"vvColorValues\",(e=>e.vvColorValues),i),new o(\"vvColorColors\",(e=>e.vvColorColors),i)]),l.code.add(v`\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${n.hasVvInstancing?v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }`:\"\"}\n    `)):l.code.add(v`vec4 vvColor() { return vec4(1.0); }`)}export{s as VisualVariables};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}