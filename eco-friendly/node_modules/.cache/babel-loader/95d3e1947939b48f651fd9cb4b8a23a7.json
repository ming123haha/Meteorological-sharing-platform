{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../../core/maybe.js\";\nimport { TEXTURE_BINDING_BITMAP as t } from \"../definitions.js\";\nimport i from \"../VertexStream.js\";\nimport s from \"./WGLBrush.js\";\nimport { TextureSamplingMode as n, BlendFactor as r, CompareFunction as a } from \"../../../../webgl/enums.js\";\n\nconst o = {\n  nearest: {\n    defines: [],\n    samplingMode: n.NEAREST,\n    mips: !1\n  },\n  bilinear: {\n    defines: [],\n    samplingMode: n.LINEAR,\n    mips: !1\n  },\n  bicubic: {\n    defines: [\"bicubic\"],\n    samplingMode: n.LINEAR,\n    mips: !1\n  },\n  trilinear: {\n    defines: [],\n    samplingMode: n.LINEAR_MIPMAP_LINEAR,\n    mips: !0\n  }\n},\n      d = (e, t, i) => {\n  if (\"dynamic\" === i.samplingMode) {\n    const {\n      state: i\n    } = e,\n          s = t.resolution / t.pixelRatio / i.resolution,\n          n = Math.round(e.pixelRatio) !== e.pixelRatio,\n          r = s > 1.05 || s < .95;\n    return i.rotation || r || n || t.isSourceScaled || t.rotation ? o.bilinear : o.nearest;\n  }\n\n  return o[i.samplingMode];\n};\n\nclass m extends s {\n  constructor() {\n    super(...arguments), this._desc = {\n      vsPath: \"raster/bitmap\",\n      fsPath: \"raster/bitmap\",\n      attributes: new Map([[\"a_pos\", 0]])\n    };\n  }\n\n  dispose() {\n    this._quad && this._quad.dispose();\n  }\n\n  prepareState({\n    context: e\n  }, t) {\n    e.setBlendingEnabled(!0), \"additive\" === t.blendFunction ? e.setBlendFunctionSeparate(r.ONE, r.ONE, r.ONE, r.ONE) : e.setBlendFunctionSeparate(r.ONE, r.ONE_MINUS_SRC_ALPHA, r.ONE, r.ONE_MINUS_SRC_ALPHA), e.setColorMask(!0, !0, !0, !0), e.setStencilWriteMask(0), e.setStencilTestEnabled(!0), e.setStencilFunction(a.EQUAL, t.stencilRef, 255);\n  }\n\n  draw(s, n) {\n    const {\n      context: r,\n      renderingOptions: a,\n      painter: o,\n      requestRender: m\n    } = s;\n    if (!n.source) return;\n    const c = d(s, n, a),\n          l = o.materialManager.getProgram(this._desc, c.defines);\n    if (e(m) && !l.isCompiled) return void m();\n    s.timeline.begin(this.name), this._quad || (this._quad = new i(r, [0, 0, 1, 0, 0, 1, 1, 1]));\n    const {\n      coordScale: p,\n      computedOpacity: u,\n      transforms: f\n    } = n;\n    n.setSamplingProfile(c), n.bind(s.context, t), r.useProgram(l), l.setUniformMatrix3fv(\"u_dvsMat3\", f.dvs), l.setUniform1i(\"u_texture\", t), l.setUniform2fv(\"u_coordScale\", p), l.setUniform1f(\"u_opacity\", u), this._quad.draw(), s.timeline.end(this.name);\n  }\n\n}\n\nexport { m as default };","map":{"version":3,"names":["isSome","e","TEXTURE_BINDING_BITMAP","t","i","s","TextureSamplingMode","n","BlendFactor","r","CompareFunction","a","o","nearest","defines","samplingMode","NEAREST","mips","bilinear","LINEAR","bicubic","trilinear","LINEAR_MIPMAP_LINEAR","d","state","resolution","pixelRatio","Math","round","rotation","isSourceScaled","m","constructor","arguments","_desc","vsPath","fsPath","attributes","Map","dispose","_quad","prepareState","context","setBlendingEnabled","blendFunction","setBlendFunctionSeparate","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","setStencilWriteMask","setStencilTestEnabled","setStencilFunction","EQUAL","stencilRef","draw","renderingOptions","painter","requestRender","source","c","l","materialManager","getProgram","isCompiled","timeline","begin","name","coordScale","p","computedOpacity","u","transforms","f","setSamplingProfile","bind","useProgram","setUniformMatrix3fv","dvs","setUniform1i","setUniform2fv","setUniform1f","end","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/BrushBitmap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{TEXTURE_BINDING_BITMAP as t}from\"../definitions.js\";import i from\"../VertexStream.js\";import s from\"./WGLBrush.js\";import{TextureSamplingMode as n,BlendFactor as r,CompareFunction as a}from\"../../../../webgl/enums.js\";const o={nearest:{defines:[],samplingMode:n.NEAREST,mips:!1},bilinear:{defines:[],samplingMode:n.LINEAR,mips:!1},bicubic:{defines:[\"bicubic\"],samplingMode:n.LINEAR,mips:!1},trilinear:{defines:[],samplingMode:n.LINEAR_MIPMAP_LINEAR,mips:!0}},d=(e,t,i)=>{if(\"dynamic\"===i.samplingMode){const{state:i}=e,s=t.resolution/t.pixelRatio/i.resolution,n=Math.round(e.pixelRatio)!==e.pixelRatio,r=s>1.05||s<.95;return i.rotation||r||n||t.isSourceScaled||t.rotation?o.bilinear:o.nearest}return o[i.samplingMode]};class m extends s{constructor(){super(...arguments),this._desc={vsPath:\"raster/bitmap\",fsPath:\"raster/bitmap\",attributes:new Map([[\"a_pos\",0]])}}dispose(){this._quad&&this._quad.dispose()}prepareState({context:e},t){e.setBlendingEnabled(!0),\"additive\"===t.blendFunction?e.setBlendFunctionSeparate(r.ONE,r.ONE,r.ONE,r.ONE):e.setBlendFunctionSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0),e.setStencilWriteMask(0),e.setStencilTestEnabled(!0),e.setStencilFunction(a.EQUAL,t.stencilRef,255)}draw(s,n){const{context:r,renderingOptions:a,painter:o,requestRender:m}=s;if(!n.source)return;const c=d(s,n,a),l=o.materialManager.getProgram(this._desc,c.defines);if(e(m)&&!l.isCompiled)return void m();s.timeline.begin(this.name),this._quad||(this._quad=new i(r,[0,0,1,0,0,1,1,1]));const{coordScale:p,computedOpacity:u,transforms:f}=n;n.setSamplingProfile(c),n.bind(s.context,t),r.useProgram(l),l.setUniformMatrix3fv(\"u_dvsMat3\",f.dvs),l.setUniform1i(\"u_texture\",t),l.setUniform2fv(\"u_coordScale\",p),l.setUniform1f(\"u_opacity\",u),this._quad.draw(),s.timeline.end(this.name)}}export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}