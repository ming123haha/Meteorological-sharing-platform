{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as i, unwrap as t, disposeMaybe as s } from \"../../../../core/maybe.js\";\nimport n from \"../../../../core/PooledArray.js\";\nimport { f as r, m as o } from \"../../../../chunks/mat4.js\";\nimport { c as h } from \"../../../../chunks/mat4f32.js\";\nimport { b as a, l, g as c, o as d, e as u, p as m, s as g } from \"../../../../chunks/vec3.js\";\nimport { c as p } from \"../../../../chunks/vec3f32.js\";\nimport { c as f } from \"../../../../chunks/vec3f64.js\";\nimport { s as _ } from \"../../../../chunks/vec4.js\";\nimport { create as S, POSITIVE_INFINITY as x, offset as z, contains as b, containsPoint as P, equals as w, set as R } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as A } from \"../../../../geometry/support/plane.js\";\nimport { fromPoints as q } from \"../../../../geometry/support/ray.js\";\nimport { PointHighlights as y } from \"./PointHighlights.js\";\nimport { minimumDistancePlane as j, maximumDistancePlane as M, intersectLine as I, toAaBoundingBox as v } from \"../../support/orientedBoundingBox.js\";\nimport { ShaderOutput as H } from \"../../webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";\nimport { SlicePlaneParameters as T } from \"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { NoParameters as L } from \"../../webgl-engine/core/shaderModules/interfaces.js\";\nimport { Default3D as F } from \"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { newIntersectorResult as E } from \"../../webgl-engine/lib/Intersector.js\";\nimport { IntersectorType as V, StoreResults as O } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { RenderPass as U } from \"../../webgl-engine/lib/RenderPass.js\";\nimport { VertexAttribute as N } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { PointRendererTechnique as C } from \"../../webgl-engine/shaders/PointRendererTechnique.js\";\nimport { PointRendererTechniqueConfiguration as B } from \"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";\nimport { BufferObject as D } from \"../../../webgl/BufferObject.js\";\nimport { DataType as W, PrimitiveType as G, Usage as k } from \"../../../webgl/enums.js\";\nimport { VertexArrayObject as Y } from \"../../../webgl/VertexArrayObject.js\";\nimport { VertexElementDescriptor as J } from \"../../../webgl/VertexElementDescriptor.js\";\nconst K = {\n  positions: [new J(N.POSITION, 3, W.FLOAT, 0, 12)],\n  colors: [new J(N.COLOR, 3, W.UNSIGNED_BYTE, 0, 3, !0)]\n};\n\nclass Q {\n  constructor(e) {\n    this._params = e, this.type = V.PCL, this.isGround = !1, this._highlights = new y({\n      forEachNode: e => this.forEachNode(e),\n      addHighlight: (e, i, t) => this._addHighlight(e, i, t),\n      removeHighlight: (e, i) => this._removeHighlight(e, i)\n    }), this.canRender = !0, this.layerUid = \"\", this._useFixedSizes = !1, this._scaleFactor = 1, this._minSizePx = 0, this._useRealWorldSymbolSizes = !1, this._size = 0, this._sizePx = 0, this._slicePlaneEnabled = !1, this._clipBox = S(x), this._techniqueConfig = new B(), this.tempMatrix4 = h(), this.tempVec3 = p(), this.nodes = new n();\n  }\n\n  get needsHighlight() {\n    return this._highlights.hasHighlights;\n  }\n\n  initializeRenderContext(e) {\n    this._context = e, this._techniqueRep = this._context.shaderTechniqueRepository, e.requestRender();\n  }\n\n  uninitializeRenderContext() {}\n\n  intersect(e, i, t, s) {\n    const n = f(),\n          r = f(),\n          o = f(),\n          h = f(),\n          g = A(),\n          p = e.camera.perScreenPixelRatio / 2,\n          x = e.camera.near,\n          w = this._getSizeParams();\n\n    a(r, s, t);\n    const R = 1 / l(r);\n    c(r, r, R), d(o, r), _(g, r[0], r[1], r[2], -u(r, t));\n    const y = new re(),\n          H = new re(),\n          T = new Array(),\n          L = S(),\n          F = S(this._clipBox);\n    z(F, -t[0], -t[1], -t[2], F), this.nodes.forAll(l => {\n      const c = l.splatSize * this._scaleFactor;\n      let d = j(l.obb, g),\n          f = M(l.obb, g);\n      d -= ee(c, d + x, w, p, l.isLeaf), f -= ee(c, f + x, w, p, l.isLeaf);\n\n      const _ = f < 0,\n            S = null != y.dist && null != H.dist && y.dist < d * R && H.dist > f * R;\n\n      if (_ || S) return;\n      const A = $(c, f + x, w, p, l.isLeaf);\n      if (!I(l.obb, t, r, A)) return;\n      const q = A * A;\n      v(l.obb, L), z(L, -t[0], -t[1], -t[2], L);\n      const E = !b(F, L);\n      a(h, l.origin, t);\n      const V = l.coordinates.length / 3;\n\n      for (let a = 0; a < V; a++) {\n        if (n[0] = h[0] + l.coordinates[3 * a], n[1] = h[1] + l.coordinates[3 * a + 1], n[2] = h[2] + l.coordinates[3 * a + 2], E && !P(F, n)) continue;\n        const d = u(n, r),\n              g = m(n) - d * d;\n        if (g > q) continue;\n        let f = d + x;\n\n        const _ = ee(c, f, w, p, l.isLeaf);\n\n        if (d - _ < 0) continue;\n        f -= _;\n        const S = $(c, f, w, p, l.isLeaf);\n        if (g > S * S) continue;\n\n        const z = (d - _) * R,\n              b = e => (e.point = ie(l, a, e.point), e.dist = z, e.normal = o, e.node = l, e.pointId = a, e.layerUid = this.layerUid, e);\n\n        if ((null == y.dist || z < y.dist) && (null == i || i(t, s, z)) && b(y), e.options.store !== O.MIN && (null == H.dist || z > H.dist) && (null == i || i(t, s, z)) && b(H), e.options.store === O.ALL && (null == i || i(t, s, z))) {\n          const e = new re();\n          T.push(b(e));\n        }\n      }\n    });\n\n    const V = e => {\n      const {\n        layerUid: i,\n        node: t,\n        pointId: s\n      } = e;\n      return {\n        point: e.point,\n        layerUid: i,\n        graphicUid: s,\n        createGraphic: () => this._params.createGraphic(t, s, e.point)\n      };\n    },\n          U = (e, i) => {\n      const t = V(i);\n      e.set(this.type, t, i.dist, i.normal);\n    };\n\n    if (oe(y)) {\n      const i = e.results.min;\n      (null == i.dist || y.dist < i.dist) && U(i, y);\n    }\n\n    if (oe(H) && e.options.store !== O.MIN) {\n      const i = e.results.max;\n      (null == i.dist || H.dist > i.dist) && U(i, H);\n    }\n\n    if (e.options.store === O.ALL) {\n      const i = q(t, s);\n\n      for (const t of T) {\n        const s = E(i);\n        U(s, t), e.results.all.push(s);\n      }\n    }\n  }\n\n  prepareTechnique(e) {\n    if (0 === this.nodes.length || e.pass !== U.MATERIAL && e.pass !== U.MATERIAL_DEPTH && e.pass !== U.MATERIAL_HIGHLIGHT) return null;\n    this.nodes.forAll(i => {\n      null == i.vao && this._initNode(e, i);\n    });\n\n    const i = this._getSizeParams();\n\n    return this._techniqueConfig.drawScreenSize = i.drawScreenSpace, this._techniqueConfig.hasSlicePlane = this._slicePlaneEnabled, this._techniqueConfig.hasOccludees = e.bindParameters.hasOccludees, this._techniqueConfig.output = e.pass === U.MATERIAL_DEPTH ? H.Depth : e.pass === U.MATERIAL_HIGHLIGHT ? H.Highlight : H.Color, this._techniqueRep.releaseAndAcquire(C, this._techniqueConfig, this._technique);\n  }\n\n  render(e, i) {\n    const t = e.rctx,\n          s = t.bindTechnique(i, he, e.bindParameters),\n          n = e.bindParameters.camera,\n          h = this._clipBox,\n          a = !w(h, x, (e, i) => e === i);\n    a || (g(this.tempVec3, -1 / 0, -1 / 0, -1 / 0), s.setUniform3fv(\"clipMin\", this.tempVec3), g(this.tempVec3, 1 / 0, 1 / 0, 1 / 0), s.setUniform3fv(\"clipMax\", this.tempVec3));\n\n    const l = this._getSizeParams(),\n          c = n.pixelRatio;\n\n    l.drawFixedSize && s.setUniform2f(\"pointScale\", l.fixedSize * c, n.fullHeight), this.nodes.forAll(d => {\n      if (0 === d.coordinates.length || e.isHighlightPass && !d.highlights) return;\n\n      if (s.setUniform2f(\"screenMinMaxSize\", l.screenMinSize * c, Z(d.isLeaf) * c), !l.drawFixedSize) {\n        const e = d.splatSize * this._scaleFactor;\n        s.setUniform2f(\"pointScale\", e * c, n.fullHeight / c);\n      }\n\n      const u = d.origin;\n      a && (g(this.tempVec3, h[0] - u[0], h[1] - u[1], h[2] - u[2]), s.setUniform3fv(\"clipMin\", this.tempVec3), g(this.tempVec3, h[3] - u[0], h[4] - u[1], h[5] - u[2]), s.setUniform3fv(\"clipMax\", this.tempVec3)), r(this.tempMatrix4, u), o(this.tempMatrix4, n.viewMatrix, this.tempMatrix4), s.setUniformMatrix4fv(\"modelView\", this.tempMatrix4), i.bindDraw(new T(u), e.bindParameters), t.bindVAO(d.vao), e.isHighlightPass ? this._renderHighlightFragments(t, d) : t.drawArrays(G.POINTS, 0, d.coordinates.length / 3);\n    });\n  }\n\n  _renderHighlightFragments(e, s) {\n    const n = s.highlights;\n    if (i(n)) return;\n    let r = t(n[0].component),\n        o = r + 1;\n\n    for (let i = 1; i < n.length; i++) {\n      const s = t(n[i].component);\n\n      if (s !== o) {\n        const i = o - r;\n        i > 0 && e.drawArrays(G.POINTS, r, i), r = s;\n      }\n\n      o = s + 1;\n    }\n\n    const h = o - r;\n    h > 0 && e.drawArrays(G.POINTS, r, h);\n  }\n\n  set useFixedSizes(e) {\n    this._useFixedSizes !== e && (this._useFixedSizes = e, this._requestRender());\n  }\n\n  get useFixedSizes() {\n    return this._useFixedSizes;\n  }\n\n  set scaleFactor(e) {\n    this._scaleFactor !== e && (this._scaleFactor = e, this._requestRender());\n  }\n\n  get scaleFactor() {\n    return this._scaleFactor;\n  }\n\n  set minSizePx(e) {\n    this._minSizePx !== e && (this._minSizePx = e, this._requestRender());\n  }\n\n  get minSizePx() {\n    return this._minSizePx;\n  }\n\n  set useRealWorldSymbolSizes(e) {\n    this._useRealWorldSymbolSizes !== e && (this._useRealWorldSymbolSizes = e, this._requestRender());\n  }\n\n  get useRealWorldSymbolSizes() {\n    return this._useRealWorldSymbolSizes;\n  }\n\n  set size(e) {\n    this._size !== e && (this._size = e, this._requestRender());\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  set sizePx(e) {\n    this._sizePx !== e && (this._sizePx = e, this._requestRender());\n  }\n\n  get sizePx() {\n    return this._sizePx;\n  }\n\n  set clippingBox(e) {\n    R(this._clipBox, e || x);\n  }\n\n  get slicePlaneEnabled() {\n    return this._slicePlaneEnabled;\n  }\n\n  set slicePlaneEnabled(e) {\n    this._slicePlaneEnabled !== e && (this._slicePlaneEnabled = e, this._requestRender());\n  }\n\n  addNode(e) {\n    this.nodes.push(e), this._highlights.nodeAdded(e), this._requestRender();\n  }\n\n  removeNode(e) {\n    let i = null;\n    return this.nodes.filterInPlace(t => t.id !== e || (i = t, t.vao = s(t.vao), this._highlights.nodeRemoved(t), !1)), this._requestRender(), i;\n  }\n\n  forEachNode(e) {\n    this.nodes.forAll(e);\n  }\n\n  removeAll() {\n    this.nodes.forAll(e => e.vao = s(e.vao)), this._highlights.removeAll(), this.nodes.clear(), this._requestRender();\n  }\n\n  highlight(e) {\n    return this._highlights.add(e);\n  }\n\n  _addHighlight(e, i, t) {\n    e.highlights = se(e.highlights, i, t), this._requestRender();\n  }\n\n  _removeHighlight(e, i) {\n    e.highlights = ne(e.highlights, i), this._requestRender();\n  }\n\n  _initNode(e, i) {\n    const t = e.rctx;\n    i.vao = new Y(t, F, K, {\n      positions: D.createVertex(t, k.STATIC_DRAW, i.coordinates),\n      colors: D.createVertex(t, k.STATIC_DRAW, i.rgb)\n    });\n  }\n\n  _requestRender() {\n    this._context && this._context.requestRender();\n  }\n\n  _getSizeParams() {\n    const e = this._useFixedSizes,\n          i = e && !this._useRealWorldSymbolSizes;\n    return {\n      drawScreenSpace: i,\n      drawFixedSize: e,\n      fixedSize: i ? this._sizePx : this._size,\n      screenMinSize: e ? 0 : this._minSizePx\n    };\n  }\n\n}\n\nfunction X(e) {\n  return e.hasOwnProperty(\"splatSize\");\n}\n\nfunction Z(e) {\n  return e ? 256 : 64;\n}\n\nfunction $(e, i, t, s, n) {\n  if (t.drawScreenSpace) return t.fixedSize * i * s;\n  const r = Z(n) * i * s;\n  return t.drawFixedSize ? Math.min(t.fixedSize / 2, r) : t.screenMinSize > 0 ? Math.min(Math.max(t.screenMinSize * i * s, e / 2), r) : Math.min(e / 2, r);\n}\n\nfunction ee(e, i, t, s, n) {\n  return t.drawScreenSpace ? 0 : $(e, i, t, s, n);\n}\n\nfunction ie(e, t, s) {\n  return i(s) && (s = f()), s[0] = e.origin[0] + e.coordinates[3 * t], s[1] = e.origin[1] + e.coordinates[3 * t + 1], s[2] = e.origin[2] + e.coordinates[3 * t + 2], s;\n}\n\nfunction te(i) {\n  return e(i.component) ? i.component : -1;\n}\n\nfunction se(e, t, s) {\n  i(e) && (e = []);\n  const n = {\n    component: t,\n    id: s\n  };\n  e.push(n);\n  const r = te(n);\n  let o = e.length - 1;\n\n  for (; o > 0 && r < te(e[o - 1]);) [e[o - 1], e[o]] = [e[o], e[o - 1]], --o;\n\n  return e;\n}\n\nfunction ne(e, t) {\n  if (i(e)) return e;\n  const s = e.filter(e => e.id !== t);\n  return 0 === s.length ? null : s;\n}\n\nclass re {\n  constructor() {\n    this.node = null, this.pointId = null, this.point = null, this.dist = null, this.normal = null, this.layerUid = \"\";\n  }\n\n}\n\nfunction oe(i) {\n  return e(i.dist) && e(i.point) && e(i.pointId) && e(i.node);\n}\n\nconst he = new L();\nexport { Q as PointRenderer, X as isInstanceOfNode };","map":{"version":3,"names":["isSome","e","isNone","i","unwrap","t","disposeMaybe","s","n","f","r","m","o","c","h","b","a","l","g","d","u","p","_","create","S","POSITIVE_INFINITY","x","offset","z","contains","containsPoint","P","equals","w","set","R","A","fromPoints","q","PointHighlights","y","minimumDistancePlane","j","maximumDistancePlane","M","intersectLine","I","toAaBoundingBox","v","ShaderOutput","H","SlicePlaneParameters","T","NoParameters","L","Default3D","F","newIntersectorResult","E","IntersectorType","V","StoreResults","O","RenderPass","U","VertexAttribute","N","PointRendererTechnique","C","PointRendererTechniqueConfiguration","B","BufferObject","D","DataType","W","PrimitiveType","G","Usage","k","VertexArrayObject","Y","VertexElementDescriptor","J","K","positions","POSITION","FLOAT","colors","COLOR","UNSIGNED_BYTE","Q","constructor","_params","type","PCL","isGround","_highlights","forEachNode","addHighlight","_addHighlight","removeHighlight","_removeHighlight","canRender","layerUid","_useFixedSizes","_scaleFactor","_minSizePx","_useRealWorldSymbolSizes","_size","_sizePx","_slicePlaneEnabled","_clipBox","_techniqueConfig","tempMatrix4","tempVec3","nodes","needsHighlight","hasHighlights","initializeRenderContext","_context","_techniqueRep","shaderTechniqueRepository","requestRender","uninitializeRenderContext","intersect","camera","perScreenPixelRatio","near","_getSizeParams","re","Array","forAll","splatSize","obb","ee","isLeaf","dist","$","origin","coordinates","length","point","ie","normal","node","pointId","options","store","MIN","ALL","push","graphicUid","createGraphic","oe","results","min","max","all","prepareTechnique","pass","MATERIAL","MATERIAL_DEPTH","MATERIAL_HIGHLIGHT","vao","_initNode","drawScreenSize","drawScreenSpace","hasSlicePlane","hasOccludees","bindParameters","output","Depth","Highlight","Color","releaseAndAcquire","_technique","render","rctx","bindTechnique","he","setUniform3fv","pixelRatio","drawFixedSize","setUniform2f","fixedSize","fullHeight","isHighlightPass","highlights","screenMinSize","Z","viewMatrix","setUniformMatrix4fv","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","POINTS","component","useFixedSizes","_requestRender","scaleFactor","minSizePx","useRealWorldSymbolSizes","size","sizePx","clippingBox","slicePlaneEnabled","addNode","nodeAdded","removeNode","filterInPlace","id","nodeRemoved","removeAll","clear","highlight","add","se","ne","createVertex","STATIC_DRAW","rgb","X","hasOwnProperty","Math","te","filter","PointRenderer","isInstanceOfNode"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as i,unwrap as t,disposeMaybe as s}from\"../../../../core/maybe.js\";import n from\"../../../../core/PooledArray.js\";import{f as r,m as o}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f32.js\";import{b as a,l,g as c,o as d,e as u,p as m,s as g}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f32.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{s as _}from\"../../../../chunks/vec4.js\";import{create as S,POSITIVE_INFINITY as x,offset as z,contains as b,containsPoint as P,equals as w,set as R}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as A}from\"../../../../geometry/support/plane.js\";import{fromPoints as q}from\"../../../../geometry/support/ray.js\";import{PointHighlights as y}from\"./PointHighlights.js\";import{minimumDistancePlane as j,maximumDistancePlane as M,intersectLine as I,toAaBoundingBox as v}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as H}from\"../../webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SlicePlaneParameters as T}from\"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{NoParameters as L}from\"../../webgl-engine/core/shaderModules/interfaces.js\";import{Default3D as F}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as E}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as V,StoreResults as O}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderPass as U}from\"../../webgl-engine/lib/RenderPass.js\";import{VertexAttribute as N}from\"../../webgl-engine/lib/VertexAttribute.js\";import{PointRendererTechnique as C}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as B}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as D}from\"../../../webgl/BufferObject.js\";import{DataType as W,PrimitiveType as G,Usage as k}from\"../../../webgl/enums.js\";import{VertexArrayObject as Y}from\"../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as J}from\"../../../webgl/VertexElementDescriptor.js\";const K={positions:[new J(N.POSITION,3,W.FLOAT,0,12)],colors:[new J(N.COLOR,3,W.UNSIGNED_BYTE,0,3,!0)]};class Q{constructor(e){this._params=e,this.type=V.PCL,this.isGround=!1,this._highlights=new y({forEachNode:e=>this.forEachNode(e),addHighlight:(e,i,t)=>this._addHighlight(e,i,t),removeHighlight:(e,i)=>this._removeHighlight(e,i)}),this.canRender=!0,this.layerUid=\"\",this._useFixedSizes=!1,this._scaleFactor=1,this._minSizePx=0,this._useRealWorldSymbolSizes=!1,this._size=0,this._sizePx=0,this._slicePlaneEnabled=!1,this._clipBox=S(x),this._techniqueConfig=new B,this.tempMatrix4=h(),this.tempVec3=p(),this.nodes=new n}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,i,t,s){const n=f(),r=f(),o=f(),h=f(),g=A(),p=e.camera.perScreenPixelRatio/2,x=e.camera.near,w=this._getSizeParams();a(r,s,t);const R=1/l(r);c(r,r,R),d(o,r),_(g,r[0],r[1],r[2],-u(r,t));const y=new re,H=new re,T=new Array,L=S(),F=S(this._clipBox);z(F,-t[0],-t[1],-t[2],F),this.nodes.forAll((l=>{const c=l.splatSize*this._scaleFactor;let d=j(l.obb,g),f=M(l.obb,g);d-=ee(c,d+x,w,p,l.isLeaf),f-=ee(c,f+x,w,p,l.isLeaf);const _=f<0,S=null!=y.dist&&null!=H.dist&&y.dist<d*R&&H.dist>f*R;if(_||S)return;const A=$(c,f+x,w,p,l.isLeaf);if(!I(l.obb,t,r,A))return;const q=A*A;v(l.obb,L),z(L,-t[0],-t[1],-t[2],L);const E=!b(F,L);a(h,l.origin,t);const V=l.coordinates.length/3;for(let a=0;a<V;a++){if(n[0]=h[0]+l.coordinates[3*a],n[1]=h[1]+l.coordinates[3*a+1],n[2]=h[2]+l.coordinates[3*a+2],E&&!P(F,n))continue;const d=u(n,r),g=m(n)-d*d;if(g>q)continue;let f=d+x;const _=ee(c,f,w,p,l.isLeaf);if(d-_<0)continue;f-=_;const S=$(c,f,w,p,l.isLeaf);if(g>S*S)continue;const z=(d-_)*R,b=e=>(e.point=ie(l,a,e.point),e.dist=z,e.normal=o,e.node=l,e.pointId=a,e.layerUid=this.layerUid,e);if((null==y.dist||z<y.dist)&&(null==i||i(t,s,z))&&b(y),e.options.store!==O.MIN&&(null==H.dist||z>H.dist)&&(null==i||i(t,s,z))&&b(H),e.options.store===O.ALL&&(null==i||i(t,s,z))){const e=new re;T.push(b(e))}}}));const V=e=>{const{layerUid:i,node:t,pointId:s}=e;return{point:e.point,layerUid:i,graphicUid:s,createGraphic:()=>this._params.createGraphic(t,s,e.point)}},U=(e,i)=>{const t=V(i);e.set(this.type,t,i.dist,i.normal)};if(oe(y)){const i=e.results.min;(null==i.dist||y.dist<i.dist)&&U(i,y)}if(oe(H)&&e.options.store!==O.MIN){const i=e.results.max;(null==i.dist||H.dist>i.dist)&&U(i,H)}if(e.options.store===O.ALL){const i=q(t,s);for(const t of T){const s=E(i);U(s,t),e.results.all.push(s)}}}prepareTechnique(e){if(0===this.nodes.length||e.pass!==U.MATERIAL&&e.pass!==U.MATERIAL_DEPTH&&e.pass!==U.MATERIAL_HIGHLIGHT)return null;this.nodes.forAll((i=>{null==i.vao&&this._initNode(e,i)}));const i=this._getSizeParams();return this._techniqueConfig.drawScreenSize=i.drawScreenSpace,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.output=e.pass===U.MATERIAL_DEPTH?H.Depth:e.pass===U.MATERIAL_HIGHLIGHT?H.Highlight:H.Color,this._techniqueRep.releaseAndAcquire(C,this._techniqueConfig,this._technique)}render(e,i){const t=e.rctx,s=t.bindTechnique(i,he,e.bindParameters),n=e.bindParameters.camera,h=this._clipBox,a=!w(h,x,((e,i)=>e===i));a||(g(this.tempVec3,-1/0,-1/0,-1/0),s.setUniform3fv(\"clipMin\",this.tempVec3),g(this.tempVec3,1/0,1/0,1/0),s.setUniform3fv(\"clipMax\",this.tempVec3));const l=this._getSizeParams(),c=n.pixelRatio;l.drawFixedSize&&s.setUniform2f(\"pointScale\",l.fixedSize*c,n.fullHeight),this.nodes.forAll((d=>{if(0===d.coordinates.length||e.isHighlightPass&&!d.highlights)return;if(s.setUniform2f(\"screenMinMaxSize\",l.screenMinSize*c,Z(d.isLeaf)*c),!l.drawFixedSize){const e=d.splatSize*this._scaleFactor;s.setUniform2f(\"pointScale\",e*c,n.fullHeight/c)}const u=d.origin;a&&(g(this.tempVec3,h[0]-u[0],h[1]-u[1],h[2]-u[2]),s.setUniform3fv(\"clipMin\",this.tempVec3),g(this.tempVec3,h[3]-u[0],h[4]-u[1],h[5]-u[2]),s.setUniform3fv(\"clipMax\",this.tempVec3)),r(this.tempMatrix4,u),o(this.tempMatrix4,n.viewMatrix,this.tempMatrix4),s.setUniformMatrix4fv(\"modelView\",this.tempMatrix4),i.bindDraw(new T(u),e.bindParameters),t.bindVAO(d.vao),e.isHighlightPass?this._renderHighlightFragments(t,d):t.drawArrays(G.POINTS,0,d.coordinates.length/3)}))}_renderHighlightFragments(e,s){const n=s.highlights;if(i(n))return;let r=t(n[0].component),o=r+1;for(let i=1;i<n.length;i++){const s=t(n[i].component);if(s!==o){const i=o-r;i>0&&e.drawArrays(G.POINTS,r,i),r=s}o=s+1}const h=o-r;h>0&&e.drawArrays(G.POINTS,r,h)}set useFixedSizes(e){this._useFixedSizes!==e&&(this._useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._useFixedSizes}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this._requestRender())}get scaleFactor(){return this._scaleFactor}set minSizePx(e){this._minSizePx!==e&&(this._minSizePx=e,this._requestRender())}get minSizePx(){return this._minSizePx}set useRealWorldSymbolSizes(e){this._useRealWorldSymbolSizes!==e&&(this._useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._useRealWorldSymbolSizes}set size(e){this._size!==e&&(this._size=e,this._requestRender())}get size(){return this._size}set sizePx(e){this._sizePx!==e&&(this._sizePx=e,this._requestRender())}get sizePx(){return this._sizePx}set clippingBox(e){R(this._clipBox,e||x)}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this.nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let i=null;return this.nodes.filterInPlace((t=>t.id!==e||(i=t,t.vao=s(t.vao),this._highlights.nodeRemoved(t),!1))),this._requestRender(),i}forEachNode(e){this.nodes.forAll(e)}removeAll(){this.nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this.nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,i,t){e.highlights=se(e.highlights,i,t),this._requestRender()}_removeHighlight(e,i){e.highlights=ne(e.highlights,i),this._requestRender()}_initNode(e,i){const t=e.rctx;i.vao=new Y(t,F,K,{positions:D.createVertex(t,k.STATIC_DRAW,i.coordinates),colors:D.createVertex(t,k.STATIC_DRAW,i.rgb)})}_requestRender(){this._context&&this._context.requestRender()}_getSizeParams(){const e=this._useFixedSizes,i=e&&!this._useRealWorldSymbolSizes;return{drawScreenSpace:i,drawFixedSize:e,fixedSize:i?this._sizePx:this._size,screenMinSize:e?0:this._minSizePx}}}function X(e){return e.hasOwnProperty(\"splatSize\")}function Z(e){return e?256:64}function $(e,i,t,s,n){if(t.drawScreenSpace)return t.fixedSize*i*s;const r=Z(n)*i*s;return t.drawFixedSize?Math.min(t.fixedSize/2,r):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*i*s,e/2),r):Math.min(e/2,r)}function ee(e,i,t,s,n){return t.drawScreenSpace?0:$(e,i,t,s,n)}function ie(e,t,s){return i(s)&&(s=f()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function te(i){return e(i.component)?i.component:-1}function se(e,t,s){i(e)&&(e=[]);const n={component:t,id:s};e.push(n);const r=te(n);let o=e.length-1;for(;o>0&&r<te(e[o-1]);)[e[o-1],e[o]]=[e[o],e[o-1]],--o;return e}function ne(e,t){if(i(e))return e;const s=e.filter((e=>e.id!==t));return 0===s.length?null:s}class re{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function oe(i){return e(i.dist)&&e(i.point)&&e(i.pointId)&&e(i.node)}const he=new L;export{Q as PointRenderer,X as isInstanceOfNode};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}