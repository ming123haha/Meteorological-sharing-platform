{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { result as i } from \"../../../core/asyncUtils.js\";\nimport r from \"../../../core/Collection.js\";\nimport \"../../../core/has.js\";\nimport s from \"../../../core/Error.js\";\nimport a from \"../../../core/Handles.js\";\nimport { clone as o } from \"../../../core/lang.js\";\nimport n from \"../../../core/Logger.js\";\nimport { isSome as l, destroyMaybe as c, removeMaybe as h, isNone as u } from \"../../../core/maybe.js\";\nimport { EsriPromiseMixin as d } from \"../../../core/Promise.js\";\nimport { isAbortError as m, eachAlways as p } from \"../../../core/promiseUtils.js\";\nimport { initial as f, whenOnce as y, watch as g, syncAndInitial as x, sync as F } from \"../../../core/reactiveUtils.js\";\nimport { property as v } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as _ } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { WatchUpdatingTracking as T } from \"../../../core/support/WatchUpdatingTracking.js\";\nimport { isHostedAgolService as E } from \"../../support/arcgisLayerUrl.js\";\nimport { projectGeometry as w } from \"../../../portal/support/geometryServiceUtils.js\";\nimport C from \"../../../rest/support/StatisticDefinition.js\";\nimport { FeatureTileFetcher3D as b } from \"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";\nimport { FeatureTileFetcher3DDebugger as D } from \"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";\nimport S from \"../../../views/3d/support/debugFlags.js\";\nconst O = n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");\nlet I = class extends d(t) {\n  constructor(e) {\n    super(e), this.type = \"feature-tile-3d\", this.watchUpdatingTracking = new T(), this.serviceDataExtent = null, this.serviceDataCount = P.NO_SERVICE_DATA_COUNT, this.vertexLimitExceeded = !1, this.displayFeatureLimit = null, this.suspended = !1, this.tileFetcher = null, this.handles = new a(), this.fetchDataInfoPromise = null, this.fetchDataInfoAbortController = null, this.lifeCycleAbortController = new AbortController();\n  }\n\n  set extent(e) {\n    if (e && !e.spatialReference.equals(this.layerView.view.spatialReference)) return void O.error(\"#extent=\", \"extent needs to be in the same spatial reference as the view\");\n\n    const t = this._get(\"extent\");\n\n    if (t === e) return;\n    if (t && e && t.equals(e)) return;\n    const i = e ? e.clone() : null;\n\n    this._set(\"extent\", i);\n  }\n\n  get updating() {\n    return !!(l(this.tileFetcher) && this.tileFetcher.updating || null != this.fetchDataInfoPromise || \"tiles\" === this.mode && this.layerView.view.featureTiles && this.layerView.view.featureTiles.updating || this.watchUpdatingTracking && this.watchUpdatingTracking.updating);\n  }\n\n  get updatingTotal() {\n    return this.updating && l(this.tileFetcher) ? this.tileFetcher.updatingTotal : 0;\n  }\n\n  get updatingRemaining() {\n    return this.updating && l(this.tileFetcher) ? this.tileFetcher.updatingRemaining : 0;\n  }\n\n  get expectedFeatureDiff() {\n    return this.updating && l(this.tileFetcher) ? this.tileFetcher.expectedFeatureDiff : 0;\n  }\n\n  get memoryForUnusedFeatures() {\n    return l(this.tileFetcher) ? this.tileFetcher.memoryForUnusedFeatures : 0;\n  }\n\n  get maximumNumberOfFeaturesExceeded() {\n    return !(!l(this.tileFetcher) || !this.tileFetcher.maximumNumberOfFeaturesExceeded);\n  }\n\n  get maximumNumberOfFeatures() {\n    return l(this.displayFeatureLimit) ? this.displayFeatureLimit.maximumNumberOfFeatures : 0;\n  }\n\n  set maximumNumberOfFeatures(e) {\n    e !== this.maximumNumberOfFeatures && (null == e ? this._clearOverride(\"maximumNumberOfFeatures\") : this._override(\"maximumNumberOfFeatures\", e));\n  }\n\n  get hasMaximumNumberOfFeaturesOverride() {\n    return this._isOverridden(\"maximumNumberOfFeatures\");\n  }\n\n  get mode() {\n    const e = this.layerView.layer;\n    if (\"feature\" === e.type && l(e.infoFor3D)) return \"snapshot\";\n    if (!1 === this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable || this.serviceDataCount === P.NO_SERVICE_DATA_COUNT || this.vertexLimitExceeded) return \"tiles\";\n    const t = this.layerView.view,\n          i = t && t.featureTiles,\n          r = i && i.tilingScheme;\n\n    if (e && e.minScale && this.serviceDataExtent && r) {\n      const t = this._approximateExtentSizeAtScale(e.minScale, r);\n\n      if ((this.serviceDataExtent.width / t + this.serviceDataExtent.height / t) / 2 > P.MAX_SNAPSHOT_MIN_SCALE_FACTOR) return \"tiles\";\n    }\n\n    return !this.maximumNumberOfFeatures || this.serviceDataCount <= this.maximumNumberOfFeatures ? \"snapshot\" : \"tiles\";\n  }\n\n  get maxTotalSnapshotVertices() {\n    const e = this._get(\"maxTotalSnapshotVertices\") || 0,\n          t = \"snapshot\" === this.mode && l(this.tileFetcher) && this.tileFetcher.totalVertices || 0;\n    return Math.max(e, t);\n  }\n\n  _approximateExtentSizeAtScale(e, t) {\n    const i = this.layerView.view,\n          r = Math.ceil((i.width / t.pixelSize + i.height / t.pixelSize) / 2),\n          s = t.levels[0];\n    return r * ((s.tileSize[0] / (s.scale / e) + s.tileSize[1] / (s.scale / e)) / 2);\n  }\n\n  get tileDescriptors() {\n    return \"snapshot\" === this.mode ? new r([{\n      id: \"dummy-tile-full-extent\",\n      lij: [0, 0, 0]\n    }]) : this.layerView.view.featureTiles ? this.layerView.view.featureTiles.tiles : new r();\n  }\n\n  get test() {\n    return {\n      fetchDataInfoPromise: this.fetchDataInfoPromise,\n      tileFetcher: this.tileFetcher\n    };\n  }\n\n  initialize() {\n    this.watchUpdatingTracking.add(() => this.vertexLimitInfo, () => this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null, this.lifeCycleAbortController.signal))), this.watchUpdatingTracking.add(() => this.mode, () => this._modeChanged(), f), this.addResolvingPromise(Promise.resolve().then(() => this._verifyCapabilities()).then(() => this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo())).then(() => this._initializeTileFetcher()));\n  }\n\n  _verifyCapabilities() {\n    const e = this.layerView.layer;\n    if (!e.get(\"capabilities.operations.supportsQuery\") && \"ogc-feature\" !== e.type) throw new s(\"graphicscontroller:query-capability-required\", \"Service requires query capabilities to be used as a feature layer\", {\n      layer: e\n    });\n  }\n\n  destroy() {\n    this._cancelFetchServiceDataInfo(), this.tileFetcher = c(this.tileFetcher), this.handles = c(this.handles), this.tilesHandle = h(this.tilesHandle), this.lifeCycleAbortController && (this.lifeCycleAbortController.abort(), this.lifeCycleAbortController = null), this.watchUpdatingTracking.destroy(), this._set(\"watchUpdatingTracking\", null);\n  }\n\n  suspend() {\n    this.suspended || (this.suspended = !0, l(this.tileFetcher) && this.tileFetcher.suspend());\n  }\n\n  resume() {\n    this.suspended && (this.suspended = !1, l(this.tileFetcher) && this.tileFetcher.resume());\n  }\n\n  restart() {\n    const e = () => {\n      l(this.tileFetcher) && this.tileFetcher.restart();\n    };\n\n    this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e, e));\n  }\n\n  refetch() {\n    const e = () => {\n      l(this.tileFetcher) && this.tileFetcher.refetch();\n    };\n\n    this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e, e));\n  }\n\n  _initializeTileFetcher() {\n    const e = this.layerView.view;\n    if (!e) return;\n    const t = y(() => e.featureTiles?.tilingScheme, this.lifeCycleAbortController.signal);\n    this.watchUpdatingTracking.addPromise(t), t.then(() => {\n      const {\n        layerView: t,\n        tileDescriptors: i\n      } = this,\n            r = t.layer,\n            s = new b({\n        context: this.context,\n        filterExtent: this.extent,\n        tileDescriptors: i,\n        features: this.graphics\n      });\n      this.tileFetcher = s, this.suspended ? this.tileFetcher.suspend() : this.tileFetcher.resume();\n      const a = this.layerView.view.resourceController;\n      a && this.handles.add(g(() => a.memoryController.memoryFactor, e => s.memoryFactor = e, x));\n      const o = \"polygon\" === this.context.geometryType ? \"polygonLodFactor\" : \"polyline\" === this.context.geometryType ? \"polylineLodFactor\" : null;\n      o && this.handles.add(g(() => this.layerView.view?.qualitySettings?.graphics3D?.[o], e => s.lodFactor = e || 1, f));\n\n      const n = e => {\n        s.maximumNumberOfFeatures = e, s.useTileCount = this.serviceDataCount > e;\n      },\n            l = e => s.useTileCount = e > this.maximumNumberOfFeatures;\n\n      \"ogc-feature\" !== r.type && this.watchUpdatingTracking.add(() => r.createQueryVersion, () => this._dataFilterChanged()), this.watchUpdatingTracking.add(() => t.availableFields, (e, t) => this._availableFieldsChanged(t, e)), this.watchUpdatingTracking.add(() => t.requiredFields, (e, t) => this._requiredFieldsChanged(t, e)), this.handles.add([r.on(\"apply-edits\", e => this._applyEdits(e)), g(() => this.extent, e => s.filterExtent = e, F), g(() => this.tileDescriptors, e => s.tileDescriptors = e, F), g(() => this.maximumNumberOfFeatures, n, x), g(() => this.serviceDataCount, l, x), g(() => S.FEATURE_TILE_FETCH_SHOW_TILES, t => {\n        t && s && !s.debugger ? (s.debugger = new D(s, e.featureTiles.tilingScheme.toTileInfo(), e), s.debugger.update()) : !t && this.tileFetcher && s.debugger && (s.debugger.destroy(), s.debugger = null);\n      }, x)]), this.supportsExceedsLimitQuery || this.watchUpdatingTracking.add(() => this.maxTotalSnapshotVertices, () => this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null, this.lifeCycleAbortController.signal)));\n    }).catch(() => {});\n  }\n\n  _modeChanged() {\n    switch (this.mode) {\n      case \"tiles\":\n        this.tilesHandle || (this.tilesHandle = this.layerView.view.featureTiles.addClient());\n        break;\n\n      default:\n        O.warn(\"Unhandled feature layer mode \" + this.mode);\n\n      case \"snapshot\":\n        l(this.tilesHandle) && (this.tilesHandle.remove(), this.tilesHandle = null);\n    }\n  }\n\n  _dataFilterChanged() {\n    this._set(\"maxTotalSnapshotVertices\", 0), this.notifyChange(\"maxTotalSnapshotVertices\"), this.refetch();\n  }\n\n  _applyEdits(e) {\n    u(this.tileFetcher) || this.tileFetcher.applyEdits(e).then(e => {\n      e && (e.deletedFeatures.length || e.updatedFeatures.length || e.addedFeatures.length) && this.watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this.lifeCycleAbortController.signal));\n    }).catch(e => {\n      if (!m(e)) throw e;\n    });\n  }\n\n  _availableFieldsChanged(e, t) {\n    l(this.tileFetcher) && L(this.tileFetcher.availableFields, t) && this.refetch();\n  }\n\n  _requiredFieldsChanged(e, t) {\n    l(this.tileFetcher) && L(this.tileFetcher.availableFields, t) && this.restart();\n  }\n\n  _createVertexLimitExceededQuery(e) {\n    const t = this.layerView.layer,\n          i = t.createQuery();\n    return i.outStatistics = [new C({\n      statisticType: \"exceedslimit\",\n      maxVertexCount: e,\n      outStatisticFieldName: \"exceedslimit\",\n      maxPointCount: 1e8,\n      maxRecordCount: 1e8\n    })], t.capabilities.query.supportsCacheHint && (i.cacheHint = !0), i;\n  }\n\n  _createDataInfoQuery() {\n    const e = this.layerView.layer,\n          t = e.createQuery();\n    return t.outSpatialReference = this.layerView.view.spatialReference, e.capabilities.query.supportsCacheHint && (t.cacheHint = !0), t;\n  }\n\n  _fullExtentIsAccurate() {\n    const e = this.layerView.layer;\n    if (e.definitionExpression) return !1;\n\n    switch (e.type) {\n      case \"feature\":\n        return E(e.url);\n\n      case \"csv\":\n      case \"geojson\":\n      case \"ogc-feature\":\n      case \"wfs\":\n        return !0;\n\n      default:\n        return;\n    }\n  }\n\n  async _updateServiceDataExtent(e) {\n    try {\n      await this._tryUpdateServiceDataExtent(e);\n    } catch (t) {\n      m(t) || this._set(\"serviceDataExtent\", o(this.layerView.fullExtentInLocalViewSpatialReference));\n    }\n  }\n\n  async _tryUpdateServiceDataExtent(e) {\n    const t = this.layerView,\n          i = t.layer,\n          r = i.capabilities.query.supportsExtent,\n          s = o(t.fullExtentInLocalViewSpatialReference),\n          a = i.fullExtent,\n          n = this._fullExtentIsAccurate(),\n          c = this.serviceDataCount;\n\n    if (r && c <= P.MAX_FEATURE_COUNT_FOR_EXTENT && (!s || !n) && \"queryExtent\" in i) {\n      const t = this._createDataInfoQuery(),\n            r = await i.queryExtent(t, {\n        timeout: P.QUERY_EXTENT_TIMEOUT,\n        signal: e\n      });\n\n      this._set(\"serviceDataExtent\", r.extent);\n    } else if (s) this._set(\"serviceDataExtent\", s);else if (l(a)) {\n      const r = \"portalItem\" in i ? i.portalItem : null,\n            s = await w(a, t.view.spatialReference, r, e);\n\n      this._set(\"serviceDataExtent\", s);\n    } else this._set(\"serviceDataExtent\", null);\n  }\n\n  async _updateServiceDataCount(e) {\n    const t = this.layerView.layer;\n    if (!(\"queryFeatureCount\" in t)) return void this._set(\"serviceDataCount\", P.NO_SERVICE_DATA_COUNT);\n    const r = await i(t.queryFeatureCount(this._createDataInfoQuery(), {\n      timeout: P.QUERY_STATISTICS_TIMEOUT,\n      signal: e\n    }));\n    if (!0 === r.ok) this._set(\"serviceDataCount\", r.value);else {\n      if (m(r.error)) throw r.error;\n\n      this._set(\"serviceDataCount\", P.NO_SERVICE_DATA_COUNT);\n    }\n  }\n\n  get vertexLimitInfo() {\n    if (u(this.displayFeatureLimit) || u(this.displayFeatureLimit.averageSymbolComplexity)) return null;\n\n    const {\n      averageSymbolComplexity: e,\n      maximumTotalNumberOfPrimitives: t\n    } = this.displayFeatureLimit,\n          {\n      primitivesPerCoordinate: i,\n      primitivesPerFeature: r\n    } = e,\n          s = this._get(\"vertexLimitInfo\");\n\n    return u(s) || s.maximumTotalNumberOfPrimitives !== t || s.primitivesPerCoordinate !== i || s.primitivesPerFeature !== r ? {\n      primitivesPerCoordinate: i,\n      primitivesPerFeature: r,\n      maximumTotalNumberOfPrimitives: t\n    } : s;\n  }\n\n  get supportsExceedsLimitQuery() {\n    const e = this.layerView.layer;\n    return e.capabilities && e.capabilities.operations && e.capabilities.operations.supportsExceedsLimitStatistics;\n  }\n\n  get minimumNumberOfVerticesForGeometry() {\n    switch (this.layerView.layer.geometryType) {\n      case \"point\":\n      case \"multipoint\":\n        return 1;\n\n      case \"polygon\":\n        return 4;\n\n      case \"polyline\":\n        return 2;\n\n      case \"multipatch\":\n      case \"mesh\":\n        return 3;\n\n      default:\n        return 0;\n    }\n  }\n\n  async _updateVertexLimitExceeded(e, t) {\n    const r = this.vertexLimitInfo;\n    if (u(r)) return void this._set(\"vertexLimitExceeded\", !1);\n    const s = r.primitivesPerFeature <= 0,\n          a = this.minimumNumberOfVerticesForGeometry > 1;\n    if (!s && !a) return void this._set(\"vertexLimitExceeded\", !1);\n    const {\n      primitivesPerFeature: o,\n      primitivesPerCoordinate: n,\n      maximumTotalNumberOfPrimitives: c\n    } = r;\n    let h;\n    0 !== o && l(e) && (await e);\n    const d = this.serviceDataCount,\n          p = d !== P.NO_SERVICE_DATA_COUNT;\n    if (h = p ? Math.ceil((c - d * o) / (n || 1)) : Math.ceil(c / (n || 1)), a && (h = Math.min(h, N)), p && this.minimumNumberOfVerticesForGeometry * d > h) return void this._set(\"vertexLimitExceeded\", !0);\n    if (!this.supportsExceedsLimitQuery) return void this._set(\"vertexLimitExceeded\", this.maxTotalSnapshotVertices > h);\n    const f = await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h), {\n      timeout: P.QUERY_STATISTICS_TIMEOUT,\n      signal: t\n    }));\n\n    if (!1 === f.ok) {\n      if (m(f.error)) throw f.error;\n      return void this._set(\"vertexLimitExceeded\", !1);\n    }\n\n    const y = f.value.features[0];\n    y && y.attributes ? this._set(\"vertexLimitExceeded\", !!y.attributes.exceedslimit) : this._set(\"vertexLimitExceeded\", !1);\n  }\n\n  async _fetchServiceDataInfo() {\n    this._cancelFetchServiceDataInfo();\n\n    let e = new AbortController();\n\n    const t = e.signal,\n          i = this._updateServiceDataCount(t),\n          r = p([i, this._updateVertexLimitExceeded(i, t)]),\n          s = r.then(() => this._updateServiceDataExtent(t)).catch(e => {\n      m(e) || O.error(\"#fetchServiceDataInfo()\", e);\n    }).then(() => {\n      s === this.fetchDataInfoPromise && (this.fetchDataInfoPromise = null, this.fetchDataInfoAbortController = null), e = null;\n    });\n\n    return e && (this.fetchDataInfoPromise = s), this.fetchDataInfoAbortController = e, r.then(() => {}, () => {});\n  }\n\n  _cancelFetchServiceDataInfo() {\n    const e = this.fetchDataInfoAbortController;\n    e && (this.fetchDataInfoAbortController = null, this.fetchDataInfoPromise = null, e.abort());\n  }\n\n  get debug() {\n    return {\n      storedFeatures: l(this.tileFetcher) ? this.tileFetcher.storedFeatures : 0,\n      totalFeatures: l(this.tileFetcher) ? this.tileFetcher.totalFeatures : 0,\n      totalVertices: l(this.tileFetcher) ? this.tileFetcher.totalVertices : 0\n    };\n  }\n\n};\ne([v({\n  readOnly: !0\n})], I.prototype, \"type\", void 0), e([v({\n  constructOnly: !0\n})], I.prototype, \"graphics\", void 0), e([v({\n  constructOnly: !0\n})], I.prototype, \"layerView\", void 0), e([v({\n  constructOnly: !0\n})], I.prototype, \"context\", void 0), e([v()], I.prototype, \"extent\", null), e([v()], I.prototype, \"updating\", null), e([v({\n  readOnly: !0\n})], I.prototype, \"watchUpdatingTracking\", void 0), e([v()], I.prototype, \"updatingTotal\", null), e([v()], I.prototype, \"updatingRemaining\", null), e([v()], I.prototype, \"expectedFeatureDiff\", null), e([v()], I.prototype, \"memoryForUnusedFeatures\", null), e([v()], I.prototype, \"maximumNumberOfFeaturesExceeded\", null), e([v({\n  readOnly: !0\n})], I.prototype, \"serviceDataExtent\", void 0), e([v({\n  readOnly: !0\n})], I.prototype, \"serviceDataCount\", void 0), e([v({\n  readOnly: !0\n})], I.prototype, \"vertexLimitExceeded\", void 0), e([v()], I.prototype, \"displayFeatureLimit\", void 0), e([v({\n  type: Number\n})], I.prototype, \"maximumNumberOfFeatures\", null), e([v({\n  readOnly: !0\n})], I.prototype, \"mode\", null), e([v({\n  readOnly: !0\n})], I.prototype, \"maxTotalSnapshotVertices\", null), e([v({\n  readOnly: !0,\n  dependsOn: [\"mode\"]\n})], I.prototype, \"tileDescriptors\", null), e([v()], I.prototype, \"tileFetcher\", void 0), e([v()], I.prototype, \"fetchDataInfoPromise\", void 0), e([v({\n  readOnly: !0\n})], I.prototype, \"vertexLimitInfo\", null), I = e([_(\"esri.layers.graphics.controllers.FeatureTileController3D\")], I);\nconst V = 1e4,\n      U = 12e3,\n      A = 1e4,\n      N = 5e6;\n\nfunction L(e, t) {\n  if (!t) return !1;\n\n  for (const i of t) if (!e.has(i)) return !0;\n\n  return !1;\n}\n\nvar P;\n!function (e) {\n  function t() {\n    e.MAX_FEATURE_COUNT_FOR_EXTENT = V, e.QUERY_STATISTICS_TIMEOUT = U, e.QUERY_EXTENT_TIMEOUT = A;\n  }\n\n  e.NO_SERVICE_DATA_COUNT = 1 / 0, e.MAX_SNAPSHOT_MIN_SCALE_FACTOR = 5, e.reset = t;\n}(P || (P = {})), P.reset();\nexport { I as FeatureTileController3D, P as FeatureTileController3DConstants };","map":{"version":3,"names":["_","e","t","result","i","r","s","a","clone","o","n","isSome","l","destroyMaybe","c","removeMaybe","h","isNone","u","EsriPromiseMixin","d","isAbortError","m","eachAlways","p","initial","f","whenOnce","y","watch","g","syncAndInitial","x","sync","F","property","v","subclass","WatchUpdatingTracking","T","isHostedAgolService","E","projectGeometry","w","C","FeatureTileFetcher3D","b","FeatureTileFetcher3DDebugger","D","S","O","getLogger","I","constructor","type","watchUpdatingTracking","serviceDataExtent","serviceDataCount","P","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","displayFeatureLimit","suspended","tileFetcher","handles","fetchDataInfoPromise","fetchDataInfoAbortController","lifeCycleAbortController","AbortController","extent","spatialReference","equals","layerView","view","error","_get","_set","updating","mode","featureTiles","updatingTotal","updatingRemaining","expectedFeatureDiff","memoryForUnusedFeatures","maximumNumberOfFeaturesExceeded","maximumNumberOfFeatures","_clearOverride","_override","hasMaximumNumberOfFeaturesOverride","_isOverridden","layer","infoFor3D","qualitySettings","graphics3D","snapshotAvailable","tilingScheme","minScale","_approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","maxTotalSnapshotVertices","totalVertices","Math","max","ceil","pixelSize","levels","tileSize","scale","tileDescriptors","id","lij","tiles","test","initialize","add","vertexLimitInfo","addPromise","_updateVertexLimitExceeded","signal","_modeChanged","addResolvingPromise","Promise","resolve","then","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","get","destroy","_cancelFetchServiceDataInfo","tilesHandle","abort","suspend","resume","restart","refetch","context","filterExtent","features","graphics","resourceController","memoryController","memoryFactor","geometryType","lodFactor","useTileCount","createQueryVersion","_dataFilterChanged","availableFields","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","on","_applyEdits","FEATURE_TILE_FETCH_SHOW_TILES","debugger","toTileInfo","update","supportsExceedsLimitQuery","catch","addClient","warn","remove","notifyChange","applyEdits","deletedFeatures","length","updatedFeatures","addedFeatures","_updateServiceDataExtent","L","_createVertexLimitExceededQuery","createQuery","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","maxRecordCount","capabilities","query","supportsCacheHint","cacheHint","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtent","MAX_FEATURE_COUNT_FOR_EXTENT","queryExtent","timeout","QUERY_EXTENT_TIMEOUT","portalItem","_updateServiceDataCount","queryFeatureCount","QUERY_STATISTICS_TIMEOUT","ok","value","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","operations","supportsExceedsLimitStatistics","minimumNumberOfVerticesForGeometry","min","N","queryFeatures","attributes","exceedslimit","debug","storedFeatures","totalFeatures","readOnly","prototype","constructOnly","Number","dependsOn","V","U","A","has","reset","FeatureTileController3D","FeatureTileController3DConstants"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{isAbortError as m,eachAlways as p}from\"../../../core/promiseUtils.js\";import{initial as f,whenOnce as y,watch as g,syncAndInitial as x,sync as F}from\"../../../core/reactiveUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as T}from\"../../../core/support/WatchUpdatingTracking.js\";import{isHostedAgolService as E}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as w}from\"../../../portal/support/geometryServiceUtils.js\";import C from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as b}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as D}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import S from\"../../../views/3d/support/debugFlags.js\";const O=n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");let I=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this.watchUpdatingTracking=new T,this.serviceDataExtent=null,this.serviceDataCount=P.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this.suspended=!1,this.tileFetcher=null,this.handles=new a,this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null,this.lifeCycleAbortController=new AbortController}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void O.error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this.tileFetcher)&&this.tileFetcher.updating||null!=this.fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this.watchUpdatingTracking&&this.watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this.tileFetcher)?this.tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this.tileFetcher)||!this.tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&(null==e?this._clearOverride(\"maximumNumberOfFeatures\"):this._override(\"maximumNumberOfFeatures\",e))}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(!1===this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===P.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>P.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this.tileFetcher)&&this.tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this.fetchDataInfoPromise,tileFetcher:this.tileFetcher}}initialize(){this.watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal)))),this.watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),f),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this.tileFetcher=c(this.tileFetcher),this.handles=c(this.handles),this.tilesHandle=h(this.tilesHandle),this.lifeCycleAbortController&&(this.lifeCycleAbortController.abort(),this.lifeCycleAbortController=null),this.watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this.suspended||(this.suspended=!0,l(this.tileFetcher)&&this.tileFetcher.suspend())}resume(){this.suspended&&(this.suspended=!1,l(this.tileFetcher)&&this.tileFetcher.resume())}restart(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.restart()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.refetch()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=y((()=>e.featureTiles?.tilingScheme),this.lifeCycleAbortController.signal);this.watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new b({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this.tileFetcher=s,this.suspended?this.tileFetcher.suspend():this.tileFetcher.resume();const a=this.layerView.view.resourceController;a&&this.handles.add(g((()=>a.memoryController.memoryFactor),(e=>s.memoryFactor=e),x));const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this.handles.add(g((()=>this.layerView.view?.qualitySettings?.graphics3D?.[o]),(e=>s.lodFactor=e||1),f));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this.watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this.watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this.watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),g((()=>this.extent),(e=>s.filterExtent=e),F),g((()=>this.tileDescriptors),(e=>s.tileDescriptors=e),F),g((()=>this.maximumNumberOfFeatures),n,x),g((()=>this.serviceDataCount),l,x),g((()=>S.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new D(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this.tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),x)]),this.supportsExceedsLimitQuery||this.watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this.tilesHandle||(this.tilesHandle=this.layerView.view.featureTiles.addClient());break;default:O.warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this.tilesHandle)&&(this.tilesHandle.remove(),this.tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){u(this.tileFetcher)||this.tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this.watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this.lifeCycleAbortController.signal))})).catch((e=>{if(!m(e))throw e}))}_availableFieldsChanged(e,t){l(this.tileFetcher)&&L(this.tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this.tileFetcher)&&L(this.tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new C({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":return E(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){m(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),c=this.serviceDataCount;if(r&&c<=P.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:P.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await w(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",P.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:P.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(m(r.error))throw r.error;this._set(\"serviceDataCount\",P.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this.minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,p=d!==P.NO_SERVICE_DATA_COUNT;if(h=p?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,N)),p&&this.minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this.supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h),{timeout:P.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===f.ok){if(m(f.error))throw f.error;return void this._set(\"vertexLimitExceeded\",!1)}const y=f.value.features[0];y&&y.attributes?this._set(\"vertexLimitExceeded\",!!y.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=p([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{m(e)||O.error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this.fetchDataInfoPromise&&(this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null),e=null}));return e&&(this.fetchDataInfoPromise=s),this.fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this.fetchDataInfoAbortController;e&&(this.fetchDataInfoAbortController=null,this.fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this.tileFetcher)?this.tileFetcher.storedFeatures:0,totalFeatures:l(this.tileFetcher)?this.tileFetcher.totalFeatures:0,totalVertices:l(this.tileFetcher)?this.tileFetcher.totalVertices:0}}};e([v({readOnly:!0})],I.prototype,\"type\",void 0),e([v({constructOnly:!0})],I.prototype,\"graphics\",void 0),e([v({constructOnly:!0})],I.prototype,\"layerView\",void 0),e([v({constructOnly:!0})],I.prototype,\"context\",void 0),e([v()],I.prototype,\"extent\",null),e([v()],I.prototype,\"updating\",null),e([v({readOnly:!0})],I.prototype,\"watchUpdatingTracking\",void 0),e([v()],I.prototype,\"updatingTotal\",null),e([v()],I.prototype,\"updatingRemaining\",null),e([v()],I.prototype,\"expectedFeatureDiff\",null),e([v()],I.prototype,\"memoryForUnusedFeatures\",null),e([v()],I.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([v({readOnly:!0})],I.prototype,\"serviceDataExtent\",void 0),e([v({readOnly:!0})],I.prototype,\"serviceDataCount\",void 0),e([v({readOnly:!0})],I.prototype,\"vertexLimitExceeded\",void 0),e([v()],I.prototype,\"displayFeatureLimit\",void 0),e([v({type:Number})],I.prototype,\"maximumNumberOfFeatures\",null),e([v({readOnly:!0})],I.prototype,\"mode\",null),e([v({readOnly:!0})],I.prototype,\"maxTotalSnapshotVertices\",null),e([v({readOnly:!0,dependsOn:[\"mode\"]})],I.prototype,\"tileDescriptors\",null),e([v()],I.prototype,\"tileFetcher\",void 0),e([v()],I.prototype,\"fetchDataInfoPromise\",void 0),e([v({readOnly:!0})],I.prototype,\"vertexLimitInfo\",null),I=e([_(\"esri.layers.graphics.controllers.FeatureTileController3D\")],I);const V=1e4,U=12e3,A=1e4,N=5e6;function L(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var P;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=V,e.QUERY_STATISTICS_TIMEOUT=U,e.QUERY_EXTENT_TIMEOUT=A}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(P||(P={})),P.reset();export{I as FeatureTileController3D,P as FeatureTileController3DConstants};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}