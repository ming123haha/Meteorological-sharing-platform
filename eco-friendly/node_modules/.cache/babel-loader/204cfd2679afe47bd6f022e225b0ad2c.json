{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { getAssetUrl as e } from \"../../../../../assets.js\";\nimport r from \"../../../../../core/Accessor.js\";\nimport s from \"../../../../../core/Logger.js\";\nimport { property as a } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/arrayUtils.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as i } from \"../../../../../support/requestImageUtils.js\";\nimport { ResourceState as p } from \"../../lib/basicInterfaces.js\";\nimport { TextureType as m, PixelFormat as n, PixelType as l, TextureWrapMode as c, TextureSamplingMode as h } from \"../../../../webgl/enums.js\";\nimport { Texture as d } from \"../../../../webgl/Texture.js\";\nconst u = s.getLogger(\"esri.views.3d.webgl-engine.materials.internal.waterMaterialUtils\");\nlet g = class extends r {\n  constructor() {\n    super(...arguments), this._data = new Array(), this._state = p.NOT_LOADED;\n  }\n\n  dispose() {\n    this._state = p.NOT_LOADED, this._data.forEach(t => t.dispose()), this._data.length = 0;\n  }\n\n  get updating() {\n    return this._state === p.LOADING;\n  }\n\n  get resourceState() {\n    return this._state;\n  }\n\n  loadTextures(t) {\n    const r = [e(\"esri/images/materials/water/normals.jpg\"), e(\"esri/images/materials/water/perturbation.jpg\")];\n    this._state = p.LOADING, Promise.all(r.map(t => i(t))).then(e => {\n      e.forEach(e => this._data.push(new d(t, {\n        target: m.TEXTURE_2D,\n        pixelFormat: n.RGBA,\n        dataType: l.UNSIGNED_BYTE,\n        wrapMode: c.REPEAT,\n        samplingMode: h.LINEAR_MIPMAP_LINEAR,\n        hasMipmap: !0,\n        maxAnisotropy: 8,\n        width: e.width,\n        height: e.height\n      }, e))), this._state = p.LOADED;\n    }).catch(t => {\n      u.error(\"Failed to load textures for water material.\", t), this._state = p.NOT_LOADED;\n    });\n  }\n\n  bind(t) {\n    this._state === p.LOADED && (t.bindTexture(\"texWaveNormal\", this._data[0]), t.bindTexture(\"texWavePerturbation\", this._data[1]));\n  }\n\n};\nt([a()], g.prototype, \"_state\", void 0), t([a({\n  type: Boolean,\n  readOnly: !0\n})], g.prototype, \"updating\", null), g = t([o(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")], g);\nexport { g as WaterTextureRepository };","map":{"version":3,"names":["_","t","getAssetUrl","e","r","s","property","a","subclass","o","requestImage","i","ResourceState","p","TextureType","m","PixelFormat","n","PixelType","l","TextureWrapMode","c","TextureSamplingMode","h","Texture","d","u","getLogger","g","constructor","arguments","_data","Array","_state","NOT_LOADED","dispose","forEach","length","updating","LOADING","resourceState","loadTextures","Promise","all","map","then","push","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","wrapMode","REPEAT","samplingMode","LINEAR_MIPMAP_LINEAR","hasMipmap","maxAnisotropy","width","height","LOADED","catch","error","bind","bindTexture","prototype","type","Boolean","readOnly","WaterTextureRepository"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{getAssetUrl as e}from\"../../../../../assets.js\";import r from\"../../../../../core/Accessor.js\";import s from\"../../../../../core/Logger.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as i}from\"../../../../../support/requestImageUtils.js\";import{ResourceState as p}from\"../../lib/basicInterfaces.js\";import{TextureType as m,PixelFormat as n,PixelType as l,TextureWrapMode as c,TextureSamplingMode as h}from\"../../../../webgl/enums.js\";import{Texture as d}from\"../../../../webgl/Texture.js\";const u=s.getLogger(\"esri.views.3d.webgl-engine.materials.internal.waterMaterialUtils\");let g=class extends r{constructor(){super(...arguments),this._data=new Array,this._state=p.NOT_LOADED}dispose(){this._state=p.NOT_LOADED,this._data.forEach((t=>t.dispose())),this._data.length=0}get updating(){return this._state===p.LOADING}get resourceState(){return this._state}loadTextures(t){const r=[e(\"esri/images/materials/water/normals.jpg\"),e(\"esri/images/materials/water/perturbation.jpg\")];this._state=p.LOADING,Promise.all(r.map((t=>i(t)))).then((e=>{e.forEach((e=>this._data.push(new d(t,{target:m.TEXTURE_2D,pixelFormat:n.RGBA,dataType:l.UNSIGNED_BYTE,wrapMode:c.REPEAT,samplingMode:h.LINEAR_MIPMAP_LINEAR,hasMipmap:!0,maxAnisotropy:8,width:e.width,height:e.height},e)))),this._state=p.LOADED})).catch((t=>{u.error(\"Failed to load textures for water material.\",t),this._state=p.NOT_LOADED}))}bind(t){this._state===p.LOADED&&(t.bindTexture(\"texWaveNormal\",this._data[0]),t.bindTexture(\"texWavePerturbation\",this._data[1]))}};t([a()],g.prototype,\"_state\",void 0),t([a({type:Boolean,readOnly:!0})],g.prototype,\"updating\",null),g=t([o(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")],g);export{g as WaterTextureRepository};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}