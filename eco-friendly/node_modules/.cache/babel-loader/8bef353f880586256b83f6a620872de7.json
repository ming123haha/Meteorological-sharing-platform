{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as t, isNone as e } from \"../../../core/maybe.js\";\nimport n from \"../../../core/PooledArray.js\";\n\nclass r {\n  constructor() {\n    this._queue = new n(), this._last = null, this.remove = () => {};\n  }\n\n  get done() {\n    return 0 === this._queue.length && (!this._last || this._last.isLeaf);\n  }\n\n  resetOne(t) {\n    this._queue.clear(), this._queue.push(t), this._last = null;\n  }\n\n  reset(e = null) {\n    this._queue.clear(), t(e) && this._queue.pushArray(e), this._last = null;\n  }\n\n  skipSubtree() {\n    this._last = null;\n  }\n\n  next() {\n    return this._last && !this._last.isLeaf && this._queue.pushArray(this._last.children), this._last = this._queue.pop(), this._last;\n  }\n\n}\n\nclass i {\n  constructor() {\n    this.q = new n();\n  }\n\n  get done() {\n    return 0 === this.q.length;\n  }\n\n  reset(t) {\n    if (this.q.clear(), !e(t)) {\n      this.q.pushArray(t);\n\n      for (let t = 0; t < this.q.length; ++t) {\n        const e = this.q.data[t];\n        e.isLeaf || this.q.pushArray(e.children);\n      }\n    }\n  }\n\n  next() {\n    return this.q.pop();\n  }\n\n}\n\nfunction s(t, e) {\n  if (Array.isArray(t)) for (let n = 0; n < t.length; n++) l(t[n], e);else l(t, e);\n}\n\nfunction l(t, e) {\n  if (e(t), !t.isLeaf) for (const n of t.children) l(n, e);\n}\n\nfunction u(t, n, r) {\n  if (e(n) || e(n.fullExtent)) return !1;\n  const i = n.fullExtent,\n        s = t.extent;\n\n  if (r) {\n    if (s[0] < i.xmin || s[1] < i.ymin || s[2] > i.xmax || s[3] > i.ymax) return !1;\n  } else if (i.xmin > s[2] || i.ymin > s[3] || i.xmax < s[0] || i.ymax < s[1]) return !1;\n\n  const l = t.surface.tilingScheme.levels[t.level].scale;\n  return !(n.minScale > 0 && l > 1.00000001 * n.minScale) && !(n.maxScale > 0 && l < .99999999 * n.maxScale);\n}\n\nfunction o(t, e) {\n  return t.lij[0] - e.lij[0] || t.lij[1] - e.lij[1] || t.lij[2] - e.lij[2];\n}\n\nfunction a(t, e) {\n  e.sort((e, n) => h(e, n, t));\n}\n\nfunction h(t, e, n) {\n  const r = t.screenDepth,\n        i = e.screenDepth;\n  return r < i ? -n : r > i ? n : o(t, e);\n}\n\nfunction c(t, e) {\n  const n = new Map();\n  t.forAll(t => n.set(t.lij, t.distanceToSquared(e))), t.sort((t, e) => n.get(t.lij) - n.get(e.lij) || o(t, e));\n}\n\nfunction f(t, e, n) {\n  let r = 1,\n      i = 0,\n      s = 0;\n\n  for (; t !== e;) if (r *= .5, i *= .5, s *= .5, 1 & t.lij[2] && (i += .5), 0 == (1 & t.lij[1]) && (s += .5), null == (t = t.parent)) throw new Error(\"tile was not a descendant of upsampleTile\");\n\n  n.init(e, i, s, r);\n}\n\nfunction m(t) {\n  for (let e = 0; e < t.length; e++) {\n    const n = t[e],\n          r = n.parent;\n    if (r) for (let t = 0; t < 4; t++) {\n      const e = r.children[t];\n      if (e && e !== n && e.loadable) return !0;\n    }\n  }\n\n  return !1;\n}\n\nfunction p(t, e) {\n  if (!t || !e || t[0] === e[0]) return !1;\n  const n = t[0] < e[0],\n        r = n ? t : e,\n        i = n ? e : t,\n        s = 1 << i[0] - r[0];\n  return Math.floor(i[1] / s) === r[1] && Math.floor(i[2] / s) === r[2];\n}\n\nexport { i as IteratorPostorder, r as IteratorPreorder, h as compareTiles, f as computeUpsampleInfo, u as fallsWithinLayer, m as hasLoadableSiblings, a as sortTiles, c as sortTilesByPOI, p as tilesAreRelated, s as traverseTilesPreorder };","map":{"version":3,"names":["isSome","t","isNone","e","n","r","constructor","_queue","_last","remove","done","length","isLeaf","resetOne","clear","push","reset","pushArray","skipSubtree","next","children","pop","i","q","data","s","Array","isArray","l","u","fullExtent","extent","xmin","ymin","xmax","ymax","surface","tilingScheme","levels","level","scale","minScale","maxScale","o","lij","a","sort","h","screenDepth","c","Map","forAll","set","distanceToSquared","get","f","parent","Error","init","m","loadable","p","Math","floor","IteratorPostorder","IteratorPreorder","compareTiles","computeUpsampleInfo","fallsWithinLayer","hasLoadableSiblings","sortTiles","sortTilesByPOI","tilesAreRelated","traverseTilesPreorder"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/tileUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../core/maybe.js\";import n from\"../../../core/PooledArray.js\";class r{constructor(){this._queue=new n,this._last=null,this.remove=()=>{}}get done(){return 0===this._queue.length&&(!this._last||this._last.isLeaf)}resetOne(t){this._queue.clear(),this._queue.push(t),this._last=null}reset(e=null){this._queue.clear(),t(e)&&this._queue.pushArray(e),this._last=null}skipSubtree(){this._last=null}next(){return this._last&&!this._last.isLeaf&&this._queue.pushArray(this._last.children),this._last=this._queue.pop(),this._last}}class i{constructor(){this.q=new n}get done(){return 0===this.q.length}reset(t){if(this.q.clear(),!e(t)){this.q.pushArray(t);for(let t=0;t<this.q.length;++t){const e=this.q.data[t];e.isLeaf||this.q.pushArray(e.children)}}}next(){return this.q.pop()}}function s(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)l(t[n],e);else l(t,e)}function l(t,e){if(e(t),!t.isLeaf)for(const n of t.children)l(n,e)}function u(t,n,r){if(e(n)||e(n.fullExtent))return!1;const i=n.fullExtent,s=t.extent;if(r){if(s[0]<i.xmin||s[1]<i.ymin||s[2]>i.xmax||s[3]>i.ymax)return!1}else if(i.xmin>s[2]||i.ymin>s[3]||i.xmax<s[0]||i.ymax<s[1])return!1;const l=t.surface.tilingScheme.levels[t.level].scale;return!(n.minScale>0&&l>1.00000001*n.minScale)&&!(n.maxScale>0&&l<.99999999*n.maxScale)}function o(t,e){return t.lij[0]-e.lij[0]||t.lij[1]-e.lij[1]||t.lij[2]-e.lij[2]}function a(t,e){e.sort(((e,n)=>h(e,n,t)))}function h(t,e,n){const r=t.screenDepth,i=e.screenDepth;return r<i?-n:r>i?n:o(t,e)}function c(t,e){const n=new Map;t.forAll((t=>n.set(t.lij,t.distanceToSquared(e)))),t.sort(((t,e)=>n.get(t.lij)-n.get(e.lij)||o(t,e)))}function f(t,e,n){let r=1,i=0,s=0;for(;t!==e;)if(r*=.5,i*=.5,s*=.5,1&t.lij[2]&&(i+=.5),0==(1&t.lij[1])&&(s+=.5),null==(t=t.parent))throw new Error(\"tile was not a descendant of upsampleTile\");n.init(e,i,s,r)}function m(t){for(let e=0;e<t.length;e++){const n=t[e],r=n.parent;if(r)for(let t=0;t<4;t++){const e=r.children[t];if(e&&e!==n&&e.loadable)return!0}}return!1}function p(t,e){if(!t||!e||t[0]===e[0])return!1;const n=t[0]<e[0],r=n?t:e,i=n?e:t,s=1<<i[0]-r[0];return Math.floor(i[1]/s)===r[1]&&Math.floor(i[2]/s)===r[2]}export{i as IteratorPostorder,r as IteratorPreorder,h as compareTiles,f as computeUpsampleInfo,u as fallsWithinLayer,m as hasLoadableSiblings,a as sortTiles,c as sortTilesByPOI,p as tilesAreRelated,s as traverseTilesPreorder};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}