{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Fragment } from '@stencil/core/internal/client/index.js';\nimport { t as toAriaBoolean, i as isPrimaryPointerButton, f as focusElement } from './dom.js';\nimport { g as getRoundRobinIndex } from './array.js';\nimport { g as guid } from './guid.js';\nimport { i as isActivationKey } from './key.js';\nimport { d as defineCustomElement$4 } from './action.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './loader.js';\nimport { d as defineCustomElement$1 } from './popover.js';\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\nconst actionMenuCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}\";\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = /*@__PURE__*/proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.__attachShadow();\n\n    this.calciteActionMenuOpenChange = createEvent(this, \"calciteActionMenuOpenChange\", 6); // --------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    // --------------------------------------------------------------------------\n\n    /**\n     * When `true`, the component is expanded.\n     */\n\n    this.expanded = false;\n    /**\n     * When `true`, the component is open.\n     */\n\n    this.open = false;\n    /**\n     * Determines the type of positioning to use for the overlaid content.\n     *\n     * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n     * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n     *\n     */\n\n    this.overlayPositioning = \"absolute\";\n    /**\n     * Determines where the component will be positioned relative to the `referenceElement`.\n     *\n     * @see [LogicalPlacement](https://github.com/Esri/calcite-components/blob/master/src/utils/floating-ui.ts#L25)\n     */\n\n    this.placement = \"auto\";\n    this.actionElements = [];\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.menuId = `${this.guid}-menu`;\n    this.menuButtonId = `${this.guid}-menu-button`;\n    this.activeMenuItemIndex = -1; // --------------------------------------------------------------------------\n    //\n    //  Component Methods\n    //\n    // --------------------------------------------------------------------------\n\n    this.connectMenuButtonEl = () => {\n      const {\n        menuButtonId,\n        menuId,\n        open,\n        label\n      } = this;\n      const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n\n      if (this.menuButtonEl === menuButtonEl) {\n        return;\n      }\n\n      this.disconnectMenuButtonEl();\n      this.menuButtonEl = menuButtonEl;\n      this.setTooltipReferenceElement();\n\n      if (!menuButtonEl) {\n        return;\n      }\n\n      menuButtonEl.active = open;\n      menuButtonEl.setAttribute(\"aria-controls\", menuId);\n      menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n      menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n\n      if (!menuButtonEl.id) {\n        menuButtonEl.id = menuButtonId;\n      }\n\n      if (!menuButtonEl.label) {\n        menuButtonEl.label = label;\n      }\n\n      if (!menuButtonEl.text) {\n        menuButtonEl.text = label;\n      }\n\n      menuButtonEl.addEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n\n    this.disconnectMenuButtonEl = () => {\n      const {\n        menuButtonEl\n      } = this;\n\n      if (!menuButtonEl) {\n        return;\n      }\n\n      menuButtonEl.removeEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n\n    this.setMenuButtonEl = event => {\n      const actions = event.target.assignedElements({\n        flatten: true\n      }).filter(el => el === null || el === void 0 ? void 0 : el.matches(\"calcite-action\"));\n      this.slottedMenuButtonEl = actions[0];\n      this.connectMenuButtonEl();\n    };\n\n    this.setDefaultMenuButtonEl = el => {\n      this.defaultMenuButtonEl = el;\n      this.connectMenuButtonEl();\n    }; // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n\n\n    this.handleCalciteActionClick = () => {\n      this.open = false;\n      this.setFocus();\n    };\n\n    this.menuButtonClick = event => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n\n      this.toggleOpen();\n    };\n\n    this.updateTooltip = event => {\n      const tooltips = event.target.assignedElements({\n        flatten: true\n      }).filter(el => el === null || el === void 0 ? void 0 : el.matches(\"calcite-tooltip\"));\n      this.tooltipEl = tooltips[0];\n      this.setTooltipReferenceElement();\n    };\n\n    this.setTooltipReferenceElement = () => {\n      const {\n        tooltipEl,\n        expanded,\n        menuButtonEl,\n        open\n      } = this;\n\n      if (tooltipEl) {\n        tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n      }\n    };\n\n    this.updateAction = (action, index) => {\n      const {\n        guid,\n        activeMenuItemIndex\n      } = this;\n      const id = `${guid}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n\n      if (!action.id) {\n        action.id = id;\n      }\n\n      action.active = index === activeMenuItemIndex;\n    };\n\n    this.updateActions = actions => {\n      actions === null || actions === void 0 ? void 0 : actions.forEach(this.updateAction);\n    };\n\n    this.handleDefaultSlotChange = event => {\n      const actions = event.target.assignedElements({\n        flatten: true\n      }).filter(el => el === null || el === void 0 ? void 0 : el.matches(\"calcite-action\"));\n      this.actionElements = actions;\n    };\n\n    this.menuButtonKeyDown = event => {\n      const {\n        key\n      } = event;\n      const {\n        actionElements,\n        activeMenuItemIndex,\n        open\n      } = this;\n\n      if (!actionElements.length) {\n        return;\n      }\n\n      if (isActivationKey(key)) {\n        event.preventDefault();\n\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n\n        const action = actionElements[activeMenuItemIndex];\n        action ? action.click() : this.toggleOpen(false);\n      }\n\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n\n      this.handleActionNavigation(event, key, actionElements);\n    };\n\n    this.handleActionNavigation = (event, key, actions) => {\n      if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!this.open) {\n        this.toggleOpen();\n\n        if (key === \"Home\" || key === \"ArrowDown\") {\n          this.activeMenuItemIndex = 0;\n        }\n\n        if (key === \"End\" || key === \"ArrowUp\") {\n          this.activeMenuItemIndex = actions.length - 1;\n        }\n\n        return;\n      }\n\n      if (key === \"Home\") {\n        this.activeMenuItemIndex = 0;\n      }\n\n      if (key === \"End\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n\n      const currentIndex = this.activeMenuItemIndex;\n\n      if (key === \"ArrowUp\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n      }\n\n      if (key === \"ArrowDown\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n      }\n    };\n\n    this.toggleOpenEnd = () => {\n      this.setFocus();\n      this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n    };\n\n    this.toggleOpen = (value = !this.open) => {\n      this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n      this.open = value;\n    };\n  } // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n\n\n  disconnectedCallback() {\n    this.disconnectMenuButtonEl();\n  }\n\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n\n  openHandler(open) {\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n\n    this.calciteActionMenuOpenChange.emit(open);\n    this.setTooltipReferenceElement();\n  }\n\n  closeCalciteActionMenuOnClick(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n\n    const composedPath = event.composedPath();\n\n    if (composedPath.includes(this.el)) {\n      return;\n    }\n\n    this.open = false;\n  }\n\n  activeMenuItemIndexHandler() {\n    this.updateActions(this.actionElements);\n  } // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n\n\n  async setFocus() {\n    focusElement(this.menuButtonEl);\n  }\n\n  renderMenuButton() {\n    const {\n      label,\n      scale,\n      expanded\n    } = this;\n    const menuButtonSlot = h(\"slot\", {\n      name: SLOTS.trigger,\n      onSlotchange: this.setMenuButtonEl\n    }, h(\"calcite-action\", {\n      class: CSS.defaultTrigger,\n      icon: ICONS.menu,\n      ref: this.setDefaultMenuButtonEl,\n      scale: scale,\n      text: label,\n      textEnabled: expanded\n    }));\n    return menuButtonSlot;\n  }\n\n  renderMenuItems() {\n    const {\n      actionElements,\n      activeMenuItemIndex,\n      open,\n      menuId,\n      menuButtonEl,\n      label,\n      placement,\n      overlayPositioning,\n      flipPlacements\n    } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = (activeAction === null || activeAction === void 0 ? void 0 : activeAction.id) || null;\n    return h(\"calcite-popover\", {\n      disablePointer: true,\n      flipPlacements: flipPlacements,\n      label: label,\n      offsetDistance: 0,\n      open: open,\n      overlayPositioning: overlayPositioning,\n      placement: placement,\n      referenceElement: menuButtonEl\n    }, h(\"div\", {\n      \"aria-activedescendant\": activeDescendantId,\n      \"aria-labelledby\": menuButtonEl === null || menuButtonEl === void 0 ? void 0 : menuButtonEl.id,\n      class: CSS.menu,\n      id: menuId,\n      onClick: this.handleCalciteActionClick,\n      role: \"menu\",\n      tabIndex: -1\n    }, h(\"slot\", {\n      onSlotchange: this.handleDefaultSlotChange\n    })));\n  }\n\n  render() {\n    return h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", {\n      name: SLOTS.tooltip,\n      onSlotchange: this.updateTooltip\n    }));\n  }\n\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find(k => k === key);\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"expanded\": [\"expandedHandler\"],\n      \"open\": [\"openHandler\"],\n      \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n    };\n  }\n\n  static get style() {\n    return actionMenuCss;\n  }\n\n}, [1, \"calcite-action-menu\", {\n  \"expanded\": [516],\n  \"flipPlacements\": [16],\n  \"label\": [1],\n  \"open\": [1540],\n  \"overlayPositioning\": [513, \"overlay-positioning\"],\n  \"placement\": [513],\n  \"scale\": [513],\n  \"menuButtonEl\": [32],\n  \"activeMenuItemIndex\": [32],\n  \"setFocus\": [64]\n}, [[9, \"pointerdown\", \"closeCalciteActionMenuOnClick\"]]]);\n\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"calcite-action-menu\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"calcite-action-menu\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, ActionMenu);\n        }\n\n        break;\n\n      case \"calcite-action\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$4();\n        }\n\n        break;\n\n      case \"calcite-icon\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$3();\n        }\n\n        break;\n\n      case \"calcite-loader\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$2();\n        }\n\n        break;\n\n      case \"calcite-popover\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$1();\n        }\n\n        break;\n    }\n  });\n}\n\ndefineCustomElement();\nexport { ActionMenu as A, SLOTS as S, defineCustomElement as d };","map":{"version":3,"names":["proxyCustomElement","HTMLElement","createEvent","h","Fragment","t","toAriaBoolean","i","isPrimaryPointerButton","f","focusElement","g","getRoundRobinIndex","guid","isActivationKey","d","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","defineCustomElement$1","CSS","menu","defaultTrigger","SLOTS","tooltip","trigger","ICONS","actionMenuCss","SUPPORTED_MENU_NAV_KEYS","ActionMenu","constructor","__registerHost","__attachShadow","calciteActionMenuOpenChange","expanded","open","overlayPositioning","placement","actionElements","menuId","menuButtonId","activeMenuItemIndex","connectMenuButtonEl","label","menuButtonEl","slottedMenuButtonEl","defaultMenuButtonEl","disconnectMenuButtonEl","setTooltipReferenceElement","active","setAttribute","id","text","addEventListener","menuButtonClick","menuButtonKeyDown","removeEventListener","setMenuButtonEl","event","actions","target","assignedElements","flatten","filter","el","matches","setDefaultMenuButtonEl","handleCalciteActionClick","setFocus","toggleOpen","updateTooltip","tooltips","tooltipEl","referenceElement","updateAction","action","index","tabIndex","updateActions","forEach","handleDefaultSlotChange","key","length","preventDefault","click","handleActionNavigation","isValidKey","currentIndex","Math","max","toggleOpenEnd","value","disconnectedCallback","expandedHandler","openHandler","emit","closeCalciteActionMenuOnClick","composedPath","includes","activeMenuItemIndexHandler","renderMenuButton","scale","menuButtonSlot","name","onSlotchange","class","icon","ref","textEnabled","renderMenuItems","flipPlacements","activeAction","activeDescendantId","disablePointer","offsetDistance","onClick","role","render","supportedKeys","find","k","watchers","style","defineCustomElement","customElements","components","tagName","get","define","A","S"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@esri/calcite-components/dist/components/action-menu.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Fragment } from '@stencil/core/internal/client/index.js';\nimport { t as toAriaBoolean, i as isPrimaryPointerButton, f as focusElement } from './dom.js';\nimport { g as getRoundRobinIndex } from './array.js';\nimport { g as guid } from './guid.js';\nimport { i as isActivationKey } from './key.js';\nimport { d as defineCustomElement$4 } from './action.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './loader.js';\nimport { d as defineCustomElement$1 } from './popover.js';\n\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\n\nconst actionMenuCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}\";\n\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteActionMenuOpenChange = createEvent(this, \"calciteActionMenuOpenChange\", 6);\n    // --------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * When `true`, the component is expanded.\n     */\n    this.expanded = false;\n    /**\n     * When `true`, the component is open.\n     */\n    this.open = false;\n    /**\n     * Determines the type of positioning to use for the overlaid content.\n     *\n     * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n     * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n     *\n     */\n    this.overlayPositioning = \"absolute\";\n    /**\n     * Determines where the component will be positioned relative to the `referenceElement`.\n     *\n     * @see [LogicalPlacement](https://github.com/Esri/calcite-components/blob/master/src/utils/floating-ui.ts#L25)\n     */\n    this.placement = \"auto\";\n    this.actionElements = [];\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.menuId = `${this.guid}-menu`;\n    this.menuButtonId = `${this.guid}-menu-button`;\n    this.activeMenuItemIndex = -1;\n    // --------------------------------------------------------------------------\n    //\n    //  Component Methods\n    //\n    // --------------------------------------------------------------------------\n    this.connectMenuButtonEl = () => {\n      const { menuButtonId, menuId, open, label } = this;\n      const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n      if (this.menuButtonEl === menuButtonEl) {\n        return;\n      }\n      this.disconnectMenuButtonEl();\n      this.menuButtonEl = menuButtonEl;\n      this.setTooltipReferenceElement();\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.active = open;\n      menuButtonEl.setAttribute(\"aria-controls\", menuId);\n      menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n      menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n      if (!menuButtonEl.id) {\n        menuButtonEl.id = menuButtonId;\n      }\n      if (!menuButtonEl.label) {\n        menuButtonEl.label = label;\n      }\n      if (!menuButtonEl.text) {\n        menuButtonEl.text = label;\n      }\n      menuButtonEl.addEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.disconnectMenuButtonEl = () => {\n      const { menuButtonEl } = this;\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.removeEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.setMenuButtonEl = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el === null || el === void 0 ? void 0 : el.matches(\"calcite-action\"));\n      this.slottedMenuButtonEl = actions[0];\n      this.connectMenuButtonEl();\n    };\n    this.setDefaultMenuButtonEl = (el) => {\n      this.defaultMenuButtonEl = el;\n      this.connectMenuButtonEl();\n    };\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.handleCalciteActionClick = () => {\n      this.open = false;\n      this.setFocus();\n    };\n    this.menuButtonClick = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      this.toggleOpen();\n    };\n    this.updateTooltip = (event) => {\n      const tooltips = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el === null || el === void 0 ? void 0 : el.matches(\"calcite-tooltip\"));\n      this.tooltipEl = tooltips[0];\n      this.setTooltipReferenceElement();\n    };\n    this.setTooltipReferenceElement = () => {\n      const { tooltipEl, expanded, menuButtonEl, open } = this;\n      if (tooltipEl) {\n        tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n      }\n    };\n    this.updateAction = (action, index) => {\n      const { guid, activeMenuItemIndex } = this;\n      const id = `${guid}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.active = index === activeMenuItemIndex;\n    };\n    this.updateActions = (actions) => {\n      actions === null || actions === void 0 ? void 0 : actions.forEach(this.updateAction);\n    };\n    this.handleDefaultSlotChange = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el === null || el === void 0 ? void 0 : el.matches(\"calcite-action\"));\n      this.actionElements = actions;\n    };\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex, open } = this;\n      if (!actionElements.length) {\n        return;\n      }\n      if (isActivationKey(key)) {\n        event.preventDefault();\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n        const action = actionElements[activeMenuItemIndex];\n        action ? action.click() : this.toggleOpen(false);\n      }\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n      this.handleActionNavigation(event, key, actionElements);\n    };\n    this.handleActionNavigation = (event, key, actions) => {\n      if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n      if (!this.open) {\n        this.toggleOpen();\n        if (key === \"Home\" || key === \"ArrowDown\") {\n          this.activeMenuItemIndex = 0;\n        }\n        if (key === \"End\" || key === \"ArrowUp\") {\n          this.activeMenuItemIndex = actions.length - 1;\n        }\n        return;\n      }\n      if (key === \"Home\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      const currentIndex = this.activeMenuItemIndex;\n      if (key === \"ArrowUp\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n      }\n      if (key === \"ArrowDown\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n      }\n    };\n    this.toggleOpenEnd = () => {\n      this.setFocus();\n      this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n    };\n    this.toggleOpen = (value = !this.open) => {\n      this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n      this.open = value;\n    };\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  disconnectedCallback() {\n    this.disconnectMenuButtonEl();\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    this.calciteActionMenuOpenChange.emit(open);\n    this.setTooltipReferenceElement();\n  }\n  closeCalciteActionMenuOnClick(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el)) {\n      return;\n    }\n    this.open = false;\n  }\n  activeMenuItemIndexHandler() {\n    this.updateActions(this.actionElements);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    focusElement(this.menuButtonEl);\n  }\n  renderMenuButton() {\n    const { label, scale, expanded } = this;\n    const menuButtonSlot = (h(\"slot\", { name: SLOTS.trigger, onSlotchange: this.setMenuButtonEl }, h(\"calcite-action\", { class: CSS.defaultTrigger, icon: ICONS.menu, ref: this.setDefaultMenuButtonEl, scale: scale, text: label, textEnabled: expanded })));\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, open, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = (activeAction === null || activeAction === void 0 ? void 0 : activeAction.id) || null;\n    return (h(\"calcite-popover\", { disablePointer: true, flipPlacements: flipPlacements, label: label, offsetDistance: 0, open: open, overlayPositioning: overlayPositioning, placement: placement, referenceElement: menuButtonEl }, h(\"div\", { \"aria-activedescendant\": activeDescendantId, \"aria-labelledby\": menuButtonEl === null || menuButtonEl === void 0 ? void 0 : menuButtonEl.id, class: CSS.menu, id: menuId, onClick: this.handleCalciteActionClick, role: \"menu\", tabIndex: -1 }, h(\"slot\", { onSlotchange: this.handleDefaultSlotChange }))));\n  }\n  render() {\n    return (h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", { name: SLOTS.tooltip, onSlotchange: this.updateTooltip })));\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"expanded\": [\"expandedHandler\"],\n    \"open\": [\"openHandler\"],\n    \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n  }; }\n  static get style() { return actionMenuCss; }\n}, [1, \"calcite-action-menu\", {\n    \"expanded\": [516],\n    \"flipPlacements\": [16],\n    \"label\": [1],\n    \"open\": [1540],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"placement\": [513],\n    \"scale\": [513],\n    \"menuButtonEl\": [32],\n    \"activeMenuItemIndex\": [32],\n    \"setFocus\": [64]\n  }, [[9, \"pointerdown\", \"closeCalciteActionMenuOnClick\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-action-menu\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-action-menu\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, ActionMenu);\n      }\n      break;\n    case \"calcite-action\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$4();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$3();\n      }\n      break;\n    case \"calcite-loader\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-popover\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { ActionMenu as A, SLOTS as S, defineCustomElement as d };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}