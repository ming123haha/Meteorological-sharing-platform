{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isNone as t, isSome as n } from \"../../../../../core/maybe.js\";\nimport { s as e, b as o, f as r, n as s } from \"../../../../../chunks/vec3.js\";\nimport { c as a } from \"../../../../../chunks/vec3f64.js\";\nimport i from \"../../../../Point.js\";\n\nfunction f(t, n) {\n  if (t.components) for (const e of t.components) e.faces && \"smooth\" === e.shading && c(e, n);\n}\n\nfunction c(n, a) {\n  t(a.normal) && (a.normal = new Float32Array(a.position.length));\n  const i = n.faces,\n        {\n    position: f,\n    normal: c\n  } = a,\n        m = i.length / 3;\n\n  for (let t = 0; t < m; ++t) {\n    const n = 3 * i[3 * t + 0],\n          s = 3 * i[3 * t + 1],\n          a = 3 * i[3 * t + 2],\n          m = e(l, f[n + 0], f[n + 1], f[n + 2]),\n          h = e(p, f[s + 0], f[s + 1], f[s + 2]),\n          g = e(x, f[a + 0], f[a + 1], f[a + 2]),\n          u = o(h, h, m),\n          j = o(g, g, m),\n          y = r(u, u, j);\n    c[n + 0] += y[0], c[n + 1] += y[1], c[n + 2] += y[2], c[s + 0] += y[0], c[s + 1] += y[1], c[s + 2] += y[2], c[a + 0] += y[0], c[a + 1] += y[1], c[a + 2] += y[2];\n  }\n\n  for (let t = 0; t < c.length; t += 3) e(h, c[t], c[t + 1], c[t + 2]), s(h, h), c[t + 0] = h[0], c[t + 1] = h[1], c[t + 2] = h[2];\n}\n\nfunction m(t) {\n  if (n(t.transform)) return t.transform.getOriginPoint(t.spatialReference);\n  const e = t.extent.xmax - t.extent.width / 2,\n        o = t.extent.ymax - t.extent.height / 2,\n        r = t.extent.zmin;\n  return new i({\n    x: e,\n    y: o,\n    z: r,\n    spatialReference: t.extent.spatialReference\n  });\n}\n\nconst l = a(),\n      p = a(),\n      x = a(),\n      h = a();\nexport { m as computeOrigin, f as smoothNormals };","map":{"version":3,"names":["isNone","t","isSome","n","s","e","b","o","f","r","c","a","i","components","faces","shading","normal","Float32Array","position","length","m","l","h","p","g","x","u","j","y","transform","getOriginPoint","spatialReference","extent","xmax","width","ymax","height","zmin","z","computeOrigin","smoothNormals"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as n}from\"../../../../../core/maybe.js\";import{s as e,b as o,f as r,n as s}from\"../../../../../chunks/vec3.js\";import{c as a}from\"../../../../../chunks/vec3f64.js\";import i from\"../../../../Point.js\";function f(t,n){if(t.components)for(const e of t.components)e.faces&&\"smooth\"===e.shading&&c(e,n)}function c(n,a){t(a.normal)&&(a.normal=new Float32Array(a.position.length));const i=n.faces,{position:f,normal:c}=a,m=i.length/3;for(let t=0;t<m;++t){const n=3*i[3*t+0],s=3*i[3*t+1],a=3*i[3*t+2],m=e(l,f[n+0],f[n+1],f[n+2]),h=e(p,f[s+0],f[s+1],f[s+2]),g=e(x,f[a+0],f[a+1],f[a+2]),u=o(h,h,m),j=o(g,g,m),y=r(u,u,j);c[n+0]+=y[0],c[n+1]+=y[1],c[n+2]+=y[2],c[s+0]+=y[0],c[s+1]+=y[1],c[s+2]+=y[2],c[a+0]+=y[0],c[a+1]+=y[1],c[a+2]+=y[2]}for(let t=0;t<c.length;t+=3)e(h,c[t],c[t+1],c[t+2]),s(h,h),c[t+0]=h[0],c[t+1]=h[1],c[t+2]=h[2]}function m(t){if(n(t.transform))return t.transform.getOriginPoint(t.spatialReference);const e=t.extent.xmax-t.extent.width/2,o=t.extent.ymax-t.extent.height/2,r=t.extent.zmin;return new i({x:e,y:o,z:r,spatialReference:t.extent.spatialReference})}const l=a(),p=a(),x=a(),h=a();export{m as computeOrigin,f as smoothNormals};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}