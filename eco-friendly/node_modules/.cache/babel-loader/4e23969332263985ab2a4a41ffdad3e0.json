{"ast":null,"code":"export default {\n  name: 'pm-distribution',\n  components: {},\n\n  mounted() {\n    // 获取位置信息\n    this.getCity();\n  },\n\n  methods: {\n    getCity() {\n      var map = new BMap.Map(\"allmap\");\n      var point = new BMap.Point(116.331398, 39.897445);\n      map.centerAndZoom(point, 12);\n      var geoc = new BMap.Geocoder();\n      map.addEventListener(\"click\", function (e) {\n        var pt = e.point;\n        geoc.getLocation(pt, function (rs) {\n          var addComp = rs.addressComponents;\n          alert(addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber);\n        });\n      });\n\n      function myFun(result) {\n        var cityName = result.name;\n        map.setCenter(cityName); // alert(\"当前定位城市:\"+cityName);\n      }\n\n      var myCity = new BMap.LocalCity();\n      myCity.get(myFun);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAMA;EACAA,uBADA;EAEAC,cAFA;;EAKAC;IACA;IACA;EACA,CARA;;EASAC;IACAC;MACA;MACA;MACAC;MACA;MACAA;QACA;QACAC;UACA;UACAC;QACA,CAHA;MAIA,CANA;;MAOA;QACA;QACAF,wBAFA,CAGA;MACA;;MACA;MACAG;IACA;;EApBA;AATA","names":["name","components","mounted","methods","getCity","map","geoc","alert","myCity"],"sourceRoot":"src/views","sources":["TrackingOfPollutants.vue"],"sourcesContent":["<template>\r\n  <div class=\"dv\" id=\"allmap\"></div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'pm-distribution',\r\n  components: {\r\n\r\n  },\r\n  mounted() {\r\n    // 获取位置信息\r\n    this.getCity();\r\n  },\r\n  methods: {\r\n    getCity() {\r\n      var map = new BMap.Map(\"allmap\");\r\n      var point = new BMap.Point(116.331398,39.897445);\r\n      map.centerAndZoom(point,12);\r\n      var geoc = new BMap.Geocoder();\r\n      map.addEventListener(\"click\", function(e){\r\n        var pt = e.point;\r\n        geoc.getLocation(pt, function(rs){\r\n          var addComp = rs.addressComponents;\r\n          alert(addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber);\r\n        });\r\n      });\r\n      function myFun(result){\r\n        var cityName = result.name;\r\n        map.setCenter(cityName);\r\n        // alert(\"当前定位城市:\"+cityName);\r\n      }\r\n      var myCity = new BMap.LocalCity();\r\n      myCity.get(myFun);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dv { width: 100%; height: 500px; }\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}