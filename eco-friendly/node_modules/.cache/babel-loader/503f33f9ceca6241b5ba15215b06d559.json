{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { nullifyNonNullableForDispose as e } from \"../../core/maybe.js\";\nimport { ContextType as t } from \"./context-util.js\";\nimport { ResourceType as r } from \"./enums.js\";\n\nclass s {\n  constructor(e, s) {\n    this._context = e, this._desc = s, this.type = \"renderbuffer\", this._context.instanceCounter.increment(r.Renderbuffer, this);\n    const i = this._context.gl;\n    this.glName = i.createRenderbuffer(), this._context.bindRenderbuffer(this);\n    const {\n      width: n,\n      height: o,\n      internalFormat: h,\n      multisampled: c\n    } = s;\n\n    if (c) {\n      if (this._context.type !== t.WEBGL2) throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");\n      i.renderbufferStorageMultisample(i.RENDERBUFFER, this.samples, h, n, o);\n    } else i.renderbufferStorage(i.RENDERBUFFER, h, n, o);\n  }\n\n  get descriptor() {\n    return this._desc;\n  }\n\n  get samples() {\n    const e = this._desc.samples,\n          t = this._context.parameters.maxSamples;\n    return e ? Math.min(e, t) : t;\n  }\n\n  resize(e, t) {\n    const r = this._desc;\n    if (r.width === e && r.height === t) return;\n    r.width = e, r.height = t;\n    const s = this._context.gl;\n\n    if (this._context.bindRenderbuffer(this), r.multisampled) {\n      s.renderbufferStorageMultisample(s.RENDERBUFFER, this.samples, r.internalFormat, r.width, r.height);\n    } else s.renderbufferStorage(s.RENDERBUFFER, r.internalFormat, r.width, r.height);\n  }\n\n  dispose() {\n    this._context && (this._context.gl.deleteRenderbuffer(this.glName), this._context.instanceCounter.decrement(r.Renderbuffer, this), this._context = e(this._context));\n  }\n\n}\n\nexport { s as Renderbuffer };","map":{"version":3,"names":["nullifyNonNullableForDispose","e","ContextType","t","ResourceType","r","s","constructor","_context","_desc","type","instanceCounter","increment","Renderbuffer","i","gl","glName","createRenderbuffer","bindRenderbuffer","width","n","height","o","internalFormat","h","multisampled","c","WEBGL2","Error","renderbufferStorageMultisample","RENDERBUFFER","samples","renderbufferStorage","descriptor","parameters","maxSamples","Math","min","resize","dispose","deleteRenderbuffer","decrement"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/webgl/Renderbuffer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{nullifyNonNullableForDispose as e}from\"../../core/maybe.js\";import{ContextType as t}from\"./context-util.js\";import{ResourceType as r}from\"./enums.js\";class s{constructor(e,s){this._context=e,this._desc=s,this.type=\"renderbuffer\",this._context.instanceCounter.increment(r.Renderbuffer,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:n,height:o,internalFormat:h,multisampled:c}=s;if(c){if(this._context.type!==t.WEBGL2)throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");i.renderbufferStorageMultisample(i.RENDERBUFFER,this.samples,h,n,o)}else i.renderbufferStorage(i.RENDERBUFFER,h,n,o)}get descriptor(){return this._desc}get samples(){const e=this._desc.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}resize(e,t){const r=this._desc;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(r.Renderbuffer,this),this._context=e(this._context))}}export{s as Renderbuffer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}