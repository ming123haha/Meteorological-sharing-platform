{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Collection.js\";\nimport i from \"../core/Error.js\";\nimport o from \"../core/Logger.js\";\nimport { isSome as t } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as s } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as n } from \"../core/promiseUtils.js\";\nimport { property as l } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport { Integer as a } from \"../core/accessorSupport/ensureType.js\";\nimport { reader as c } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as u } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { n as m } from \"../chunks/vec3.js\";\nimport { f as p } from \"../chunks/vec3f64.js\";\nimport y from \"../geometry/Extent.js\";\nimport d from \"./Layer.js\";\nimport { APIKeyMixin as f } from \"./mixins/APIKeyMixin.js\";\nimport { ArcGISService as v } from \"./mixins/ArcGISService.js\";\nimport { OperationalLayer as h } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as b } from \"./mixins/PortalLayer.js\";\nimport { ScaleRangeLayer as S } from \"./mixins/ScaleRangeLayer.js\";\nimport { SceneService as g } from \"./mixins/SceneService.js\";\nimport { sanitizeUrl as V } from \"./support/arcgisLayerUrl.js\";\nimport { popupEnabled as x, legendEnabled as j, url as w } from \"./support/commonProperties.js\";\nimport I from \"./voxel/VoxelSection.js\";\nimport D from \"./voxel/VoxelSimpleShading.js\";\nimport F from \"./voxel/VoxelVariable.js\";\nimport N from \"./voxel/VoxelVariableStyle.js\";\nimport T from \"./voxel/VoxelVolume.js\";\nimport L from \"./voxel/VoxelVolumeIndex.js\";\nimport A from \"./voxel/VoxelVolumeStyle.js\";\nconst E = \"esri.layers.VoxelLayer\",\n      R = o.getLogger(E);\nlet M = class extends g(v(h(b(S(s(f(d))))))) {\n  constructor(e) {\n    super(e), this.serviceRoot = \"\", this.popupEnabled = !0, this.operationalLayerType = \"Voxel\", this.legendEnabled = !0, this.title = null, this.sections = null, this.currentVariableId = 0, this.volumeStyles = null, this.renderMode = \"volume\", this.variableStyles = null, this.enableSlices = !0, this.enableSections = !0, this.enableDynamicSections = !0, this.enableIsosurfaces = !0, this.shading = new D(), this.opacity = 1, this.variables = new r(), this.volumes = new r(), this.index = null, this.minScale = 0, this.maxScale = 0, this.type = \"voxel\", this.version = {\n      major: Number.NaN,\n      minor: Number.NaN,\n      versionString: \"\"\n    }, this.fullExtent = null, this.volumeStyles = new (r.ofType(A))(), this.variableStyles = new (r.ofType(N))(), this.sections = new (r.ofType(I))();\n  }\n\n  set url(e) {\n    this._set(\"url\", V(e, R));\n  }\n\n  load(e) {\n    const r = t(e) ? e.signal : null,\n          i = this.loadFromPortal({\n      supportedTypes: [\"Scene Service\"]\n    }, e).catch(n).then(() => this._fetchService(r)).then(() => this.serviceRoot = this.url);\n    return this.addResolvingPromise(i), Promise.resolve(this);\n  }\n\n  read(e, r) {\n    super.read(e, r);\n\n    for (const i of this.volumes) i.spatialReference = this.spatialReference;\n  }\n\n  readVersion(e, r) {\n    return super.parseVersionString(e);\n  }\n\n  validateLayer(e) {\n    if (e.layerType && e.layerType !== this.operationalLayerType) throw new i(\"voxel-layer:layer-type-not-supported\", \"VoxelLayer does not support this layer type\", {\n      layerType: e.layerType\n    });\n    if (isNaN(this.version.major) || isNaN(this.version.minor) || this.version.major < 3) throw new i(\"layer:service-version-not-supported\", \"Service version is not supported.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"3.x\"\n    });\n    if (this.version.major > 3) throw new i(\"layer:service-version-too-new\", \"Service version is too new.\", {\n      serviceVersion: this.version.versionString,\n      supportedVersions: \"3.x\"\n    });\n  }\n\n  readFullExtent(e, r, i) {\n    if (null != e && \"object\" == typeof e) {\n      const o = y.fromJSON(e, i);\n\n      if (0 === o.zmin && 0 === o.zmax && Array.isArray(r.volumes)) {\n        const e = T.fromJSON(r.volumes[0]);\n\n        if (e.isValid && \"xyt\" !== e.volumeType) {\n          const r = e.dimensions[2];\n\n          if (r.isRegular) {\n            let e = r.regularSpacing.offset,\n                i = r.regularSpacing.offset + r.regularSpacing.scale * (r.size - 1);\n\n            if (e > i) {\n              const r = e;\n              e = i, i = r;\n            }\n\n            o.zmin = e, o.zmax = i;\n          }\n        }\n      }\n\n      return o;\n    }\n\n    return null;\n  }\n\n  getConfiguration() {\n    const e = {\n      layerType: this.operationalLayerType,\n      version: this.version.versionString,\n      name: this.title,\n      spatialReference: this.spatialReference,\n      fullExtent: this.fullExtent,\n      volumes: this.volumes.toJSON(),\n      variables: this.variables.toJSON(),\n      index: this.index.toJSON(),\n      sections: this.getSections(),\n      style: {\n        volumeStyles: this.getVolumeStyles(),\n        currentVariableId: this.currentVariableId,\n        renderMode: this.renderMode,\n        variableStyles: this.getVariableStyles(),\n        enableSections: this.enableSections,\n        enableDynamicSections: this.enableDynamicSections,\n        enableIsosurfaces: this.enableIsosurfaces,\n        enableSlices: this.enableSlices,\n        shading: this.shading\n      }\n    };\n    return e.index && this.index.isValid() ? JSON.stringify(e) : \"\";\n  }\n\n  getVariableStyle(e) {\n    let r = -1;\n    r = t(e) ? e : this.currentVariableId;\n    if (!this.variableStyles || -1 === r) return null;\n    const i = this.variableStyles.findIndex(e => e.variableId === r);\n    return i < 0 ? null : this.variableStyles.getItemAt(i);\n  }\n\n  getVariable(e) {\n    let r = -1;\n    if (r = t(e) ? e : this.currentVariableId, !this.variables || -1 === r) return null;\n    const i = this.variables.findIndex(e => e.id === r);\n    return i < 0 ? null : this.variables.getItemAt(i);\n  }\n\n  getVolume(e) {\n    const r = this.getVariable(e);\n    return t(r) ? this.volumes.find(({\n      id: e\n    }) => e === r.volumeId) : null;\n  }\n\n  getVolumeStyle(e) {\n    const r = this.getVariable(e);\n    return t(r) ? this.volumeStyles.find(({\n      volumeId: e\n    }) => e === r.volumeId) : null;\n  }\n\n  getColorForContinuousDataValue(e, r, i) {\n    const o = this.getVariable(e);\n    if (!t(o) || \"continuous\" !== o.renderingFormat.continuity) return null;\n    if (!this.variableStyles) return null;\n    const s = this.variableStyles.findIndex(r => r.variableId === e);\n    if (s < 0) return null;\n    const n = this.variableStyles.getItemAt(s);\n    return n.transferFunction ? n.transferFunction.getColorForContinuousDataValue(r, i) : null;\n  }\n\n  getSections() {\n    const e = [];\n\n    for (const r of this.sections) e.push(new I({\n      enabled: r.enabled,\n      href: r.href,\n      id: r.id,\n      label: r.label,\n      normal: r.normal,\n      point: r.point,\n      sizeInPixel: r.sizeInPixel,\n      slices: r.slices,\n      timeId: r.timeId,\n      variableId: r.variableId\n    }));\n\n    return e;\n  }\n\n  getVariableStyles() {\n    const e = [];\n\n    for (const r of this.variableStyles) {\n      const i = this._getVariable(r);\n\n      if (t(i)) {\n        const o = r.clone();\n        o.isosurfaces.length > 4 && (o.isosurfaces = o.isosurfaces.slice(0, 3), R.error(\"A maximum of 4 isosurfaces are supported for Voxel Layers.\"));\n\n        for (const e of o.isosurfaces) if (e.colorLocked) {\n          const r = this.getColorForContinuousDataValue(o.variableId, e.value, !1);\n          null === r || r.equals(e.color) || (e.color = r);\n        }\n\n        if (\"continuous\" === i.renderingFormat.continuity) (null === o.transferFunction || o.transferFunction.colorStops.length < 2) && R.error(`VoxelVariableStyle for variable ${i.id} is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.`), null !== o.transferFunction && (Array.isArray(o.transferFunction.stretchRange) && 2 === o.transferFunction.stretchRange.length || (R.error(`VoxelVariableStyle for variable ${i.id} is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].`), o.transferFunction.stretchRange = [0, 1], o.transferFunction.colorStops.removeAll()));else if (\"discrete\" === i.renderingFormat.continuity) if (0 === r.uniqueValues.length) R.error(`VoxelVariableStyle for variable ${i.id} is invalid. Unique values are required for discrete Voxel Layer variables.`);else for (const e of r.uniqueValues) null !== e.label && void 0 !== e.label || null === e.value || void 0 === e.value || (e.label = e.value.toString());\n        e.push(o);\n      } else R.error(`VoxelVariable ID=${r.variableId} doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored.`);\n    }\n\n    return e;\n  }\n\n  getVolumeStyles() {\n    const e = [];\n\n    for (const r of this.volumeStyles) {\n      const i = this._getVolumeFromVolumeId(r.volumeId);\n\n      if (t(i)) {\n        const o = r.clone();\n\n        for (const e of o.slices) this._isPlaneValid(e, [0, 1, i.zDimension], i.dimensions) || (e.enabled = !1, e.label = \"invalid\");\n\n        for (const e of o.dynamicSections) this._isPlaneValid(e, [0, 1, i.zDimension], i.dimensions) || (e.enabled = !1, e.label = \"invalid\");\n\n        e.push(o);\n      } else R.error(`VoxelVolume ID=${r.volumeId} doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored.`);\n    }\n\n    return e;\n  }\n\n  _getVariable(e) {\n    const r = e.variableId;\n\n    for (const i of this.variables) if (i.id === r) return i;\n\n    return null;\n  }\n\n  _getVolumeFromVolumeId(e) {\n    for (const r of this.volumes) if (r.id === e) return r;\n\n    return null;\n  }\n\n  _isPlaneValid(e, r, i) {\n    if (!e.point) return !1;\n    if (!Array.isArray(e.point) || 3 !== e.point.length) return !1;\n    if (!e.normal) return !1;\n    if (!Array.isArray(e.normal) || 3 !== e.normal.length) return !1;\n\n    for (let s = 0; s < 3; ++s) {\n      const o = e.point[s];\n      if (o < 0 || o >= i[r[s]].size) return !1;\n    }\n\n    const o = p(e.normal[0], e.normal[1], e.normal[2]);\n    m(o, o);\n    const t = 1e-6;\n    return !(Math.abs(o[0]) + Math.abs(o[1]) + Math.abs(o[2]) < t) && (e.normal[0] = o[0], e.normal[1] = o[1], e.normal[2] = o[2], !0);\n  }\n\n};\ne([l(x)], M.prototype, \"popupEnabled\", void 0), e([l({\n  type: [\"Voxel\"]\n})], M.prototype, \"operationalLayerType\", void 0), e([l(j)], M.prototype, \"legendEnabled\", void 0), e([l({\n  json: {\n    write: !0\n  }\n})], M.prototype, \"title\", void 0), e([l(w)], M.prototype, \"url\", null), e([l({\n  type: r.ofType(I),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.sections\",\n        write: !0\n      }\n    }\n  }\n})], M.prototype, \"sections\", void 0), e([l({\n  type: a,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.currentVariableId\",\n        write: {\n          enabled: !0,\n          isRequired: !0,\n          ignoreOrigin: !0\n        }\n      },\n      service: {\n        name: \"style.currentVariableId\"\n      }\n    }\n  }\n})], M.prototype, \"currentVariableId\", void 0), e([l({\n  type: r.ofType(A),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.volumeStyles\",\n        write: !0\n      },\n      service: {\n        name: \"style.volumeStyles\"\n      }\n    }\n  }\n})], M.prototype, \"volumeStyles\", void 0), e([l({\n  type: [\"volume\", \"surfaces\"],\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.renderMode\",\n        write: !0\n      },\n      service: {\n        name: \"style.renderMode\"\n      }\n    }\n  }\n})], M.prototype, \"renderMode\", void 0), e([l({\n  type: r.ofType(N),\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.variableStyles\",\n        write: !0\n      },\n      service: {\n        name: \"style.variableStyles\"\n      }\n    }\n  }\n})], M.prototype, \"variableStyles\", void 0), e([l({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableSlices\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableSlices\"\n      }\n    }\n  }\n})], M.prototype, \"enableSlices\", void 0), e([l({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableSections\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableSections\"\n      }\n    }\n  }\n})], M.prototype, \"enableSections\", void 0), e([l({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableDynamicSections\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableDynamicSections\"\n      }\n    }\n  }\n})], M.prototype, \"enableDynamicSections\", void 0), e([l({\n  type: Boolean,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.enableIsosurfaces\",\n        write: !0\n      },\n      service: {\n        name: \"style.enableIsosurfaces\"\n      }\n    }\n  }\n})], M.prototype, \"enableIsosurfaces\", void 0), e([l({\n  type: D,\n  json: {\n    origins: {\n      \"web-scene\": {\n        name: \"layerDefinition.style.shading\",\n        write: !0\n      },\n      service: {\n        name: \"style.shading\"\n      }\n    }\n  }\n})], M.prototype, \"shading\", void 0), e([l({\n  type: [\"show\", \"hide\"]\n})], M.prototype, \"listMode\", void 0), e([l({\n  type: Number,\n  range: {\n    min: 0,\n    max: 1\n  },\n  nonNullable: !0,\n  json: {\n    read: !1,\n    write: !1,\n    origins: {\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      },\n      \"portal-item\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], M.prototype, \"opacity\", void 0), e([l({\n  type: r.ofType(F)\n})], M.prototype, \"variables\", void 0), e([l({\n  type: r.ofType(T)\n})], M.prototype, \"volumes\", void 0), e([l({\n  type: L\n})], M.prototype, \"index\", void 0), e([l({\n  type: Number,\n  json: {\n    name: \"layerDefinition.minScale\",\n    read: !1,\n    write: !1,\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], M.prototype, \"minScale\", void 0), e([l({\n  type: Number,\n  json: {\n    name: \"layerDefinition.maxScale\",\n    read: !1,\n    write: !1,\n    origins: {\n      service: {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], M.prototype, \"maxScale\", void 0), e([l({\n  json: {\n    read: !1\n  },\n  readOnly: !0\n})], M.prototype, \"type\", void 0), e([l({\n  readOnly: !0,\n  json: {\n    name: \"serviceVersion\"\n  }\n})], M.prototype, \"version\", void 0), e([c(\"service\", \"version\")], M.prototype, \"readVersion\", null), e([l({\n  type: y\n})], M.prototype, \"fullExtent\", void 0), e([c(\"service\", \"fullExtent\", [\"fullExtent\"])], M.prototype, \"readFullExtent\", null), M = e([u(E)], M);\nconst O = M;\nexport { O as default };","map":{"version":3,"names":["_","e","r","i","o","isSome","t","MultiOriginJSONMixin","s","throwIfAbortError","n","property","l","Integer","a","reader","c","subclass","u","m","f","p","y","d","APIKeyMixin","ArcGISService","v","OperationalLayer","h","PortalLayer","b","ScaleRangeLayer","S","SceneService","g","sanitizeUrl","V","popupEnabled","x","legendEnabled","j","url","w","I","D","F","N","T","L","A","E","R","getLogger","M","constructor","serviceRoot","operationalLayerType","title","sections","currentVariableId","volumeStyles","renderMode","variableStyles","enableSlices","enableSections","enableDynamicSections","enableIsosurfaces","shading","opacity","variables","volumes","index","minScale","maxScale","type","version","major","Number","NaN","minor","versionString","fullExtent","ofType","_set","load","signal","loadFromPortal","supportedTypes","catch","then","_fetchService","addResolvingPromise","Promise","resolve","read","spatialReference","readVersion","parseVersionString","validateLayer","layerType","isNaN","serviceVersion","supportedVersions","readFullExtent","fromJSON","zmin","zmax","Array","isArray","isValid","volumeType","dimensions","isRegular","regularSpacing","offset","scale","size","getConfiguration","name","toJSON","getSections","style","getVolumeStyles","getVariableStyles","JSON","stringify","getVariableStyle","findIndex","variableId","getItemAt","getVariable","id","getVolume","find","volumeId","getVolumeStyle","getColorForContinuousDataValue","renderingFormat","continuity","transferFunction","push","enabled","href","label","normal","point","sizeInPixel","slices","timeId","_getVariable","clone","isosurfaces","length","slice","error","colorLocked","value","equals","color","colorStops","stretchRange","removeAll","uniqueValues","toString","_getVolumeFromVolumeId","_isPlaneValid","zDimension","dynamicSections","Math","abs","prototype","json","write","origins","isRequired","ignoreOrigin","service","Boolean","range","min","max","nonNullable","readOnly","O","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/VoxelLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import i from\"../core/Error.js\";import o from\"../core/Logger.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as n}from\"../core/promiseUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{Integer as a}from\"../core/accessorSupport/ensureType.js\";import{reader as c}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";import{n as m}from\"../chunks/vec3.js\";import{f as p}from\"../chunks/vec3f64.js\";import y from\"../geometry/Extent.js\";import d from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as v}from\"./mixins/ArcGISService.js\";import{OperationalLayer as h}from\"./mixins/OperationalLayer.js\";import{PortalLayer as b}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as S}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as g}from\"./mixins/SceneService.js\";import{sanitizeUrl as V}from\"./support/arcgisLayerUrl.js\";import{popupEnabled as x,legendEnabled as j,url as w}from\"./support/commonProperties.js\";import I from\"./voxel/VoxelSection.js\";import D from\"./voxel/VoxelSimpleShading.js\";import F from\"./voxel/VoxelVariable.js\";import N from\"./voxel/VoxelVariableStyle.js\";import T from\"./voxel/VoxelVolume.js\";import L from\"./voxel/VoxelVolumeIndex.js\";import A from\"./voxel/VoxelVolumeStyle.js\";const E=\"esri.layers.VoxelLayer\",R=o.getLogger(E);let M=class extends(g(v(h(b(S(s(f(d)))))))){constructor(e){super(e),this.serviceRoot=\"\",this.popupEnabled=!0,this.operationalLayerType=\"Voxel\",this.legendEnabled=!0,this.title=null,this.sections=null,this.currentVariableId=0,this.volumeStyles=null,this.renderMode=\"volume\",this.variableStyles=null,this.enableSlices=!0,this.enableSections=!0,this.enableDynamicSections=!0,this.enableIsosurfaces=!0,this.shading=new D,this.opacity=1,this.variables=new r,this.volumes=new r,this.index=null,this.minScale=0,this.maxScale=0,this.type=\"voxel\",this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.fullExtent=null,this.volumeStyles=new(r.ofType(A)),this.variableStyles=new(r.ofType(N)),this.sections=new(r.ofType(I))}set url(e){this._set(\"url\",V(e,R))}load(e){const r=t(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(n).then((()=>this._fetchService(r))).then((()=>this.serviceRoot=this.url));return this.addResolvingPromise(i),Promise.resolve(this)}read(e,r){super.read(e,r);for(const i of this.volumes)i.spatialReference=this.spatialReference}readVersion(e,r){return super.parseVersionString(e)}validateLayer(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new i(\"voxel-layer:layer-type-not-supported\",\"VoxelLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new i(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"});if(this.version.major>3)throw new i(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"3.x\"})}readFullExtent(e,r,i){if(null!=e&&\"object\"==typeof e){const o=y.fromJSON(e,i);if(0===o.zmin&&0===o.zmax&&Array.isArray(r.volumes)){const e=T.fromJSON(r.volumes[0]);if(e.isValid&&\"xyt\"!==e.volumeType){const r=e.dimensions[2];if(r.isRegular){let e=r.regularSpacing.offset,i=r.regularSpacing.offset+r.regularSpacing.scale*(r.size-1);if(e>i){const r=e;e=i,i=r}o.zmin=e,o.zmax=i}}}return o}return null}getConfiguration(){const e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.getSections(),style:{volumeStyles:this.getVolumeStyles(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.getVariableStyles(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return e.index&&this.index.isValid()?JSON.stringify(e):\"\"}getVariableStyle(e){let r=-1;r=t(e)?e:this.currentVariableId;if(!this.variableStyles||-1===r)return null;const i=this.variableStyles.findIndex((e=>e.variableId===r));return i<0?null:this.variableStyles.getItemAt(i)}getVariable(e){let r=-1;if(r=t(e)?e:this.currentVariableId,!this.variables||-1===r)return null;const i=this.variables.findIndex((e=>e.id===r));return i<0?null:this.variables.getItemAt(i)}getVolume(e){const r=this.getVariable(e);return t(r)?this.volumes.find((({id:e})=>e===r.volumeId)):null}getVolumeStyle(e){const r=this.getVariable(e);return t(r)?this.volumeStyles.find((({volumeId:e})=>e===r.volumeId)):null}getColorForContinuousDataValue(e,r,i){const o=this.getVariable(e);if(!t(o)||\"continuous\"!==o.renderingFormat.continuity)return null;if(!this.variableStyles)return null;const s=this.variableStyles.findIndex((r=>r.variableId===e));if(s<0)return null;const n=this.variableStyles.getItemAt(s);return n.transferFunction?n.transferFunction.getColorForContinuousDataValue(r,i):null}getSections(){const e=[];for(const r of this.sections)e.push(new I({enabled:r.enabled,href:r.href,id:r.id,label:r.label,normal:r.normal,point:r.point,sizeInPixel:r.sizeInPixel,slices:r.slices,timeId:r.timeId,variableId:r.variableId}));return e}getVariableStyles(){const e=[];for(const r of this.variableStyles){const i=this._getVariable(r);if(t(i)){const o=r.clone();o.isosurfaces.length>4&&(o.isosurfaces=o.isosurfaces.slice(0,3),R.error(\"A maximum of 4 isosurfaces are supported for Voxel Layers.\"));for(const e of o.isosurfaces)if(e.colorLocked){const r=this.getColorForContinuousDataValue(o.variableId,e.value,!1);null===r||r.equals(e.color)||(e.color=r)}if(\"continuous\"===i.renderingFormat.continuity)(null===o.transferFunction||o.transferFunction.colorStops.length<2)&&R.error(`VoxelVariableStyle for variable ${i.id} is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.`),null!==o.transferFunction&&(Array.isArray(o.transferFunction.stretchRange)&&2===o.transferFunction.stretchRange.length||(R.error(`VoxelVariableStyle for variable ${i.id} is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].`),o.transferFunction.stretchRange=[0,1],o.transferFunction.colorStops.removeAll()));else if(\"discrete\"===i.renderingFormat.continuity)if(0===r.uniqueValues.length)R.error(`VoxelVariableStyle for variable ${i.id} is invalid. Unique values are required for discrete Voxel Layer variables.`);else for(const e of r.uniqueValues)null!==e.label&&void 0!==e.label||null===e.value||void 0===e.value||(e.label=e.value.toString());e.push(o)}else R.error(`VoxelVariable ID=${r.variableId} doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored.`)}return e}getVolumeStyles(){const e=[];for(const r of this.volumeStyles){const i=this._getVolumeFromVolumeId(r.volumeId);if(t(i)){const o=r.clone();for(const e of o.slices)this._isPlaneValid(e,[0,1,i.zDimension],i.dimensions)||(e.enabled=!1,e.label=\"invalid\");for(const e of o.dynamicSections)this._isPlaneValid(e,[0,1,i.zDimension],i.dimensions)||(e.enabled=!1,e.label=\"invalid\");e.push(o)}else R.error(`VoxelVolume ID=${r.volumeId} doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored.`)}return e}_getVariable(e){const r=e.variableId;for(const i of this.variables)if(i.id===r)return i;return null}_getVolumeFromVolumeId(e){for(const r of this.volumes)if(r.id===e)return r;return null}_isPlaneValid(e,r,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(let s=0;s<3;++s){const o=e.point[s];if(o<0||o>=i[r[s]].size)return!1}const o=p(e.normal[0],e.normal[1],e.normal[2]);m(o,o);const t=1e-6;return!(Math.abs(o[0])+Math.abs(o[1])+Math.abs(o[2])<t)&&(e.normal[0]=o[0],e.normal[1]=o[1],e.normal[2]=o[2],!0)}};e([l(x)],M.prototype,\"popupEnabled\",void 0),e([l({type:[\"Voxel\"]})],M.prototype,\"operationalLayerType\",void 0),e([l(j)],M.prototype,\"legendEnabled\",void 0),e([l({json:{write:!0}})],M.prototype,\"title\",void 0),e([l(w)],M.prototype,\"url\",null),e([l({type:r.ofType(I),json:{origins:{\"web-scene\":{name:\"layerDefinition.sections\",write:!0}}}})],M.prototype,\"sections\",void 0),e([l({type:a,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.currentVariableId\",write:{enabled:!0,isRequired:!0,ignoreOrigin:!0}},service:{name:\"style.currentVariableId\"}}}})],M.prototype,\"currentVariableId\",void 0),e([l({type:r.ofType(A),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.volumeStyles\",write:!0},service:{name:\"style.volumeStyles\"}}}})],M.prototype,\"volumeStyles\",void 0),e([l({type:[\"volume\",\"surfaces\"],json:{origins:{\"web-scene\":{name:\"layerDefinition.style.renderMode\",write:!0},service:{name:\"style.renderMode\"}}}})],M.prototype,\"renderMode\",void 0),e([l({type:r.ofType(N),json:{origins:{\"web-scene\":{name:\"layerDefinition.style.variableStyles\",write:!0},service:{name:\"style.variableStyles\"}}}})],M.prototype,\"variableStyles\",void 0),e([l({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSlices\",write:!0},service:{name:\"style.enableSlices\"}}}})],M.prototype,\"enableSlices\",void 0),e([l({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableSections\",write:!0},service:{name:\"style.enableSections\"}}}})],M.prototype,\"enableSections\",void 0),e([l({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableDynamicSections\",write:!0},service:{name:\"style.enableDynamicSections\"}}}})],M.prototype,\"enableDynamicSections\",void 0),e([l({type:Boolean,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.enableIsosurfaces\",write:!0},service:{name:\"style.enableIsosurfaces\"}}}})],M.prototype,\"enableIsosurfaces\",void 0),e([l({type:D,json:{origins:{\"web-scene\":{name:\"layerDefinition.style.shading\",write:!0},service:{name:\"style.shading\"}}}})],M.prototype,\"shading\",void 0),e([l({type:[\"show\",\"hide\"]})],M.prototype,\"listMode\",void 0),e([l({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-scene\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],M.prototype,\"opacity\",void 0),e([l({type:r.ofType(F)})],M.prototype,\"variables\",void 0),e([l({type:r.ofType(T)})],M.prototype,\"volumes\",void 0),e([l({type:L})],M.prototype,\"index\",void 0),e([l({type:Number,json:{name:\"layerDefinition.minScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],M.prototype,\"minScale\",void 0),e([l({type:Number,json:{name:\"layerDefinition.maxScale\",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],M.prototype,\"maxScale\",void 0),e([l({json:{read:!1},readOnly:!0})],M.prototype,\"type\",void 0),e([l({readOnly:!0,json:{name:\"serviceVersion\"}})],M.prototype,\"version\",void 0),e([c(\"service\",\"version\")],M.prototype,\"readVersion\",null),e([l({type:y})],M.prototype,\"fullExtent\",void 0),e([c(\"service\",\"fullExtent\",[\"fullExtent\"])],M.prototype,\"readFullExtent\",null),M=e([u(E)],M);const O=M;export{O as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}