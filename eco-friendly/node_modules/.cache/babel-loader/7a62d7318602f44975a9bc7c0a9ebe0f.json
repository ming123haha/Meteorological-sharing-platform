{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport o from \"../../core/Logger.js\";\nimport t from \"./LabelClass.js\";\nconst n = o.getLogger(\"esri.layers.support.labelingInfo\"),\n      l = /\\[([^\\[\\]]+)\\]/gi;\n\nfunction i(e, r, o) {\n  return e ? e.map(e => {\n    const n = new t();\n\n    if (n.read(e, o), n.labelExpression) {\n      const e = r.fields || r.layerDefinition && r.layerDefinition.fields || this.fields;\n      n.labelExpression = n.labelExpression.replace(l, (r, o) => `[${s(o, e)}]`);\n    }\n\n    return n;\n  }) : null;\n}\n\nfunction s(e, r) {\n  if (!r) return e;\n  const o = e.toLowerCase();\n\n  for (let t = 0; t < r.length; t++) {\n    const e = r[t].name;\n    if (e.toLowerCase() === o) return e;\n  }\n\n  return e;\n}\n\nconst a = {\n  esriGeometryPoint: [\"above-right\", \"above-center\", \"above-left\", \"center-center\", \"center-left\", \"center-right\", \"below-center\", \"below-left\", \"below-right\"],\n  esriGeometryPolygon: [\"always-horizontal\"],\n  esriGeometryPolyline: [\"center-along\"],\n  esriGeometryMultipoint: null\n};\n\nfunction c(e, o) {\n  const t = r(e);\n  return t.some(e => f(e, o)) ? [] : t;\n}\n\nfunction f(r, o) {\n  const t = r.labelPlacement,\n        l = a[o];\n  if (!r.symbol) return n.warn(\"No ILabelClass symbol specified.\"), !0;\n  if (!l) return n.error(new e(\"labeling:unsupported-geometry-type\", `Unable to create labels for layer, geometry type '${o}' is not supported`)), !0;\n\n  if (!l.includes(t)) {\n    const e = l[0];\n    t && n.warn(`Found invalid label placement type ${t} for ${o}. Defaulting to ${e}`), r.labelPlacement = e;\n  }\n\n  return !1;\n}\n\nexport { i as reader, c as validateLabelingInfo };","map":{"version":3,"names":["e","clone","r","o","t","n","getLogger","l","i","map","read","labelExpression","fields","layerDefinition","replace","s","toLowerCase","length","name","a","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","c","some","f","labelPlacement","symbol","warn","error","includes","reader","validateLabelingInfo"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/labelingInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import o from\"../../core/Logger.js\";import t from\"./LabelClass.js\";const n=o.getLogger(\"esri.layers.support.labelingInfo\"),l=/\\[([^\\[\\]]+)\\]/gi;function i(e,r,o){return e?e.map((e=>{const n=new t;if(n.read(e,o),n.labelExpression){const e=r.fields||r.layerDefinition&&r.layerDefinition.fields||this.fields;n.labelExpression=n.labelExpression.replace(l,((r,o)=>`[${s(o,e)}]`))}return n})):null}function s(e,r){if(!r)return e;const o=e.toLowerCase();for(let t=0;t<r.length;t++){const e=r[t].name;if(e.toLowerCase()===o)return e}return e}const a={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function c(e,o){const t=r(e);return t.some((e=>f(e,o)))?[]:t}function f(r,o){const t=r.labelPlacement,l=a[o];if(!r.symbol)return n.warn(\"No ILabelClass symbol specified.\"),!0;if(!l)return n.error(new e(\"labeling:unsupported-geometry-type\",`Unable to create labels for layer, geometry type '${o}' is not supported`)),!0;if(!l.includes(t)){const e=l[0];t&&n.warn(`Found invalid label placement type ${t} for ${o}. Defaulting to ${e}`),r.labelPlacement=e}return!1}export{i as reader,c as validateLabelingInfo};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}