{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport { debounce as i, throwIfAborted as o, throwIfAbortError as r, eachAlways as s } from \"../../../../core/promiseUtils.js\";\nimport { property as a } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as p, toExtent as m } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { getInfo as l } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport h from \"../../../../layers/support/TileInfo.js\";\nimport { getOuterSize as d, getBBox as c } from \"../../viewStateUtils.js\";\nimport { Bitmap as u } from \"../../engine/Bitmap.js\";\nimport g from \"../../tiling/TileInfoView.js\";\nimport f from \"../../tiling/TileKey.js\";\nconst y = p(),\n      x = [0, 0],\n      S = new f(0, 0, 0, 0),\n      _ = {\n  container: null,\n  fetchSource: null,\n  requestUpdate: null,\n  imageMaxWidth: 2048,\n  imageMaxHeight: 2048,\n  imageRotationSupported: !1,\n  imageNormalizationSupported: !1,\n  hidpi: !1\n};\nlet w = class extends e {\n  constructor(t) {\n    super(t), this._imagePromise = null, this.bitmaps = [], this.hidpi = _.hidpi, this.imageMaxWidth = _.imageMaxWidth, this.imageMaxHeight = _.imageMaxHeight, this.imageRotationSupported = _.imageRotationSupported, this.imageNormalizationSupported = _.imageNormalizationSupported, this.update = i(async (t, e) => {\n      if (o(e), !t.stationary || this.destroyed) return;\n      const i = t.state,\n            s = l(i.spatialReference),\n            a = this.hidpi ? t.pixelRatio : 1,\n            n = this.imageNormalizationSupported && i.worldScreenWidth && i.worldScreenWidth < i.size[0];\n      n ? (x[0] = i.worldScreenWidth, x[1] = i.size[1]) : this.imageRotationSupported ? (x[0] = i.size[0], x[1] = i.size[1]) : d(x, i);\n      const p = Math.floor(x[0] * a) > this.imageMaxWidth || Math.floor(x[1] * a) > this.imageMaxHeight,\n            m = s && (i.extent.xmin < s.valid[0] || i.extent.xmax > s.valid[1]),\n            h = !this.imageNormalizationSupported && m,\n            c = !p && !h,\n            u = this.imageRotationSupported ? i.rotation : 0,\n            g = this.container.children.slice();\n\n      if (c) {\n        const t = n ? i.paddedViewState.center : i.center;\n        this._imagePromise && console.error(\"Image promise was not defined!\"), this._imagePromise = this._singleExport(i, x, t, i.resolution, u, a, e);\n      } else {\n        let t = Math.min(this.imageMaxWidth, this.imageMaxHeight);\n        h && (t = Math.min(i.worldScreenWidth, t)), this._imagePromise = this._tiledExport(i, t, a, e);\n      }\n\n      try {\n        const t = await this._imagePromise;\n        o(e);\n        const i = [];\n        if (this._imagePromise = null, this.destroyed) return;\n        this.bitmaps = t ?? [];\n\n        for (const e of g) t.includes(e) || i.push(e.fadeOut().then(() => {\n          e.remove(), e.destroy();\n        }));\n\n        for (const e of t) i.push(e.fadeIn());\n\n        await Promise.all(i);\n      } catch (f) {\n        this._imagePromise = null, r(f);\n      }\n    }, 5e3), this.updateExports = i(async t => {\n      const e = [];\n\n      for (const i of this.container.children) {\n        if (!i.visible || !i.stage) return;\n        e.push(t(i).then(() => {\n          i.invalidateTexture(), i.requestRender();\n        }));\n      }\n\n      this._imagePromise = s(e).then(() => this._imagePromise = null), await this._imagePromise;\n    });\n  }\n\n  destroy() {\n    this.bitmaps.forEach(t => t.destroy()), this.bitmaps = [];\n  }\n\n  get updating() {\n    return !this.destroyed && null !== this._imagePromise;\n  }\n\n  async _export(t, e, i, r, s, a) {\n    const n = await this.fetchSource(t, Math.floor(e * s), Math.floor(i * s), {\n      rotation: r,\n      pixelRatio: s,\n      signal: a\n    });\n    o(a);\n    const p = new u(null, {\n      immutable: !0,\n      requestRenderOnSourceChangedEnabled: !0\n    });\n    return p.x = t.xmin, p.y = t.ymax, p.resolution = t.width / e, p.rotation = r, p.pixelRatio = s, p.opacity = 0, this.container.addChild(p), await p.setSourceAsync(n, a), o(a), p;\n  }\n\n  async _singleExport(t, e, i, o, r, s, a) {\n    c(y, i, o, e);\n    const n = m(y, t.spatialReference);\n    return [await this._export(n, e[0], e[1], r, s, a)];\n  }\n\n  _tiledExport(t, e, i, o) {\n    const r = h.create({\n      size: e,\n      spatialReference: t.spatialReference,\n      scales: [t.scale]\n    }),\n          s = new g(r),\n          a = s.getTileCoverage(t);\n    if (!a) return null;\n    const n = [];\n    return a.forEach((r, a, p, l) => {\n      S.set(r, a, p, 0), s.getTileBounds(y, S);\n      const h = m(y, t.spatialReference);\n      n.push(this._export(h, e, e, 0, i, o).then(t => (0 !== l && (S.set(r, a, p, l), s.getTileBounds(y, S), t.x = y[0], t.y = y[3]), t)));\n    }), Promise.all(n);\n  }\n\n};\nt([a()], w.prototype, \"_imagePromise\", void 0), t([a()], w.prototype, \"bitmaps\", void 0), t([a()], w.prototype, \"container\", void 0), t([a()], w.prototype, \"fetchSource\", void 0), t([a()], w.prototype, \"hidpi\", void 0), t([a()], w.prototype, \"imageMaxWidth\", void 0), t([a()], w.prototype, \"imageMaxHeight\", void 0), t([a()], w.prototype, \"imageRotationSupported\", void 0), t([a()], w.prototype, \"imageNormalizationSupported\", void 0), t([a()], w.prototype, \"requestUpdate\", void 0), t([a()], w.prototype, \"updating\", null), w = t([n(\"esri.views.2d.layers.support.ExportStrategy\")], w);\nconst v = w;\nexport { v as default };","map":{"version":3,"names":["_","t","e","debounce","i","throwIfAborted","o","throwIfAbortError","r","eachAlways","s","property","a","subclass","n","create","p","toExtent","m","getInfo","l","h","getOuterSize","d","getBBox","c","Bitmap","u","g","f","y","x","S","container","fetchSource","requestUpdate","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","hidpi","w","constructor","_imagePromise","bitmaps","update","stationary","destroyed","state","spatialReference","pixelRatio","worldScreenWidth","size","Math","floor","extent","xmin","valid","xmax","rotation","children","slice","paddedViewState","center","console","error","_singleExport","resolution","min","_tiledExport","includes","push","fadeOut","then","remove","destroy","fadeIn","Promise","all","updateExports","visible","stage","invalidateTexture","requestRender","forEach","updating","_export","signal","immutable","requestRenderOnSourceChangedEnabled","ymax","width","opacity","addChild","setSourceAsync","scales","scale","getTileCoverage","set","getTileBounds","prototype","v","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import h from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=l(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];n?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const p=Math.floor(x[0]*a)>this.imageMaxWidth||Math.floor(x[1]*a)>this.imageMaxHeight,m=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),h=!this.imageNormalizationSupported&&m,c=!p&&!h,u=this.imageRotationSupported?i.rotation:0,g=this.container.children.slice();if(c){const t=n?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,u,a,e)}else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);h&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise;o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t??[];for(const e of g)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(f){this._imagePromise=null,r(f)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,{immutable:!0,requestRenderOnSourceChangedEnabled:!0});return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=h.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,l)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const h=m(y,t.spatialReference);n.push(this._export(h,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,p,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],w.prototype,\"_imagePromise\",void 0),t([a()],w.prototype,\"bitmaps\",void 0),t([a()],w.prototype,\"container\",void 0),t([a()],w.prototype,\"fetchSource\",void 0),t([a()],w.prototype,\"hidpi\",void 0),t([a()],w.prototype,\"imageMaxWidth\",void 0),t([a()],w.prototype,\"imageMaxHeight\",void 0),t([a()],w.prototype,\"imageRotationSupported\",void 0),t([a()],w.prototype,\"imageNormalizationSupported\",void 0),t([a()],w.prototype,\"requestUpdate\",void 0),t([a()],w.prototype,\"updating\",null),w=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],w);const v=w;export{v as default};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,iCAAlB;AAAoD,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAM,yBAAN;AAAgC,SAAOC,QAAQ,IAAIC,CAAnB,EAAqBC,cAAc,IAAIC,CAAvC,EAAyCC,iBAAiB,IAAIC,CAA9D,EAAgEC,UAAU,IAAIC,CAA9E,QAAoF,kCAApF;AAAuH,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAM,gCAAN;AAAuC,OAAM,gDAAN;AAAuD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,QAAQ,IAAIC,CAA/B,QAAqC,gDAArC;AAAsF,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,uDAAxB;AAAgF,OAAOC,CAAP,MAAa,wCAAb;AAAsD,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,OAAO,IAAIC,CAApC,QAA0C,yBAA1C;AAAoE,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,wBAAvB;AAAgD,OAAOC,CAAP,MAAa,8BAAb;AAA4C,OAAOC,CAAP,MAAa,yBAAb;AAAuC,MAAMC,CAAC,GAACd,CAAC,EAAT;AAAA,MAAYe,CAAC,GAAC,CAAC,CAAD,EAAG,CAAH,CAAd;AAAA,MAAoBC,CAAC,GAAC,IAAIH,CAAJ,CAAM,CAAN,EAAQ,CAAR,EAAU,CAAV,EAAY,CAAZ,CAAtB;AAAA,MAAqC7B,CAAC,GAAC;EAACiC,SAAS,EAAC,IAAX;EAAgBC,WAAW,EAAC,IAA5B;EAAiCC,aAAa,EAAC,IAA/C;EAAoDC,aAAa,EAAC,IAAlE;EAAuEC,cAAc,EAAC,IAAtF;EAA2FC,sBAAsB,EAAC,CAAC,CAAnH;EAAqHC,2BAA2B,EAAC,CAAC,CAAlJ;EAAoJC,KAAK,EAAC,CAAC;AAA3J,CAAvC;AAAqM,IAAIC,CAAC,GAAC,cAAcvC,CAAd,CAAe;EAACwC,WAAW,CAACzC,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAK0C,aAAL,GAAmB,IAA5B,EAAiC,KAAKC,OAAL,GAAa,EAA9C,EAAiD,KAAKJ,KAAL,GAAWxC,CAAC,CAACwC,KAA9D,EAAoE,KAAKJ,aAAL,GAAmBpC,CAAC,CAACoC,aAAzF,EAAuG,KAAKC,cAAL,GAAoBrC,CAAC,CAACqC,cAA7H,EAA4I,KAAKC,sBAAL,GAA4BtC,CAAC,CAACsC,sBAA1K,EAAiM,KAAKC,2BAAL,GAAiCvC,CAAC,CAACuC,2BAApO,EAAgQ,KAAKM,MAAL,GAAYzC,CAAC,CAAE,OAAMH,CAAN,EAAQC,CAAR,KAAY;MAAC,IAAGI,CAAC,CAACJ,CAAD,CAAD,EAAK,CAACD,CAAC,CAAC6C,UAAH,IAAe,KAAKC,SAA5B,EAAsC;MAAO,MAAM3C,CAAC,GAACH,CAAC,CAAC+C,KAAV;MAAA,MAAgBtC,CAAC,GAACU,CAAC,CAAChB,CAAC,CAAC6C,gBAAH,CAAnB;MAAA,MAAwCrC,CAAC,GAAC,KAAK4B,KAAL,GAAWvC,CAAC,CAACiD,UAAb,GAAwB,CAAlE;MAAA,MAAoEpC,CAAC,GAAC,KAAKyB,2BAAL,IAAkCnC,CAAC,CAAC+C,gBAApC,IAAsD/C,CAAC,CAAC+C,gBAAF,GAAmB/C,CAAC,CAACgD,IAAF,CAAO,CAAP,CAA/I;MAAyJtC,CAAC,IAAEiB,CAAC,CAAC,CAAD,CAAD,GAAK3B,CAAC,CAAC+C,gBAAP,EAAwBpB,CAAC,CAAC,CAAD,CAAD,GAAK3B,CAAC,CAACgD,IAAF,CAAO,CAAP,CAA/B,IAA0C,KAAKd,sBAAL,IAA6BP,CAAC,CAAC,CAAD,CAAD,GAAK3B,CAAC,CAACgD,IAAF,CAAO,CAAP,CAAL,EAAerB,CAAC,CAAC,CAAD,CAAD,GAAK3B,CAAC,CAACgD,IAAF,CAAO,CAAP,CAAjD,IAA4D7B,CAAC,CAACQ,CAAD,EAAG3B,CAAH,CAAxG;MAA8G,MAAMY,CAAC,GAACqC,IAAI,CAACC,KAAL,CAAWvB,CAAC,CAAC,CAAD,CAAD,GAAKnB,CAAhB,IAAmB,KAAKwB,aAAxB,IAAuCiB,IAAI,CAACC,KAAL,CAAWvB,CAAC,CAAC,CAAD,CAAD,GAAKnB,CAAhB,IAAmB,KAAKyB,cAAvE;MAAA,MAAsFnB,CAAC,GAACR,CAAC,KAAGN,CAAC,CAACmD,MAAF,CAASC,IAAT,GAAc9C,CAAC,CAAC+C,KAAF,CAAQ,CAAR,CAAd,IAA0BrD,CAAC,CAACmD,MAAF,CAASG,IAAT,GAAchD,CAAC,CAAC+C,KAAF,CAAQ,CAAR,CAA3C,CAAzF;MAAA,MAAgJpC,CAAC,GAAC,CAAC,KAAKkB,2BAAN,IAAmCrB,CAArL;MAAA,MAAuLO,CAAC,GAAC,CAACT,CAAD,IAAI,CAACK,CAA9L;MAAA,MAAgMM,CAAC,GAAC,KAAKW,sBAAL,GAA4BlC,CAAC,CAACuD,QAA9B,GAAuC,CAAzO;MAAA,MAA2O/B,CAAC,GAAC,KAAKK,SAAL,CAAe2B,QAAf,CAAwBC,KAAxB,EAA7O;;MAA6Q,IAAGpC,CAAH,EAAK;QAAC,MAAMxB,CAAC,GAACa,CAAC,GAACV,CAAC,CAAC0D,eAAF,CAAkBC,MAAnB,GAA0B3D,CAAC,CAAC2D,MAArC;QAA4C,KAAKpB,aAAL,IAAoBqB,OAAO,CAACC,KAAR,CAAc,gCAAd,CAApB,EAAoE,KAAKtB,aAAL,GAAmB,KAAKuB,aAAL,CAAmB9D,CAAnB,EAAqB2B,CAArB,EAAuB9B,CAAvB,EAAyBG,CAAC,CAAC+D,UAA3B,EAAsCxC,CAAtC,EAAwCf,CAAxC,EAA0CV,CAA1C,CAAvF;MAAoI,CAAtL,MAA0L;QAAC,IAAID,CAAC,GAACoD,IAAI,CAACe,GAAL,CAAS,KAAKhC,aAAd,EAA4B,KAAKC,cAAjC,CAAN;QAAuDhB,CAAC,KAAGpB,CAAC,GAACoD,IAAI,CAACe,GAAL,CAAShE,CAAC,CAAC+C,gBAAX,EAA4BlD,CAA5B,CAAL,CAAD,EAAsC,KAAK0C,aAAL,GAAmB,KAAK0B,YAAL,CAAkBjE,CAAlB,EAAoBH,CAApB,EAAsBW,CAAtB,EAAwBV,CAAxB,CAAzD;MAAoF;;MAAA,IAAG;QAAC,MAAMD,CAAC,GAAC,MAAM,KAAK0C,aAAnB;QAAiCrC,CAAC,CAACJ,CAAD,CAAD;QAAK,MAAME,CAAC,GAAC,EAAR;QAAW,IAAG,KAAKuC,aAAL,GAAmB,IAAnB,EAAwB,KAAKI,SAAhC,EAA0C;QAAO,KAAKH,OAAL,GAAa3C,CAAC,IAAE,EAAhB;;QAAmB,KAAI,MAAMC,CAAV,IAAe0B,CAAf,EAAiB3B,CAAC,CAACqE,QAAF,CAAWpE,CAAX,KAAeE,CAAC,CAACmE,IAAF,CAAOrE,CAAC,CAACsE,OAAF,GAAYC,IAAZ,CAAkB,MAAI;UAACvE,CAAC,CAACwE,MAAF,IAAWxE,CAAC,CAACyE,OAAF,EAAX;QAAuB,CAA9C,CAAP,CAAf;;QAAwE,KAAI,MAAMzE,CAAV,IAAeD,CAAf,EAAiBG,CAAC,CAACmE,IAAF,CAAOrE,CAAC,CAAC0E,MAAF,EAAP;;QAAmB,MAAMC,OAAO,CAACC,GAAR,CAAY1E,CAAZ,CAAN;MAAqB,CAA3Q,CAA2Q,OAAMyB,CAAN,EAAQ;QAAC,KAAKc,aAAL,GAAmB,IAAnB,EAAwBnC,CAAC,CAACqB,CAAD,CAAzB;MAA6B;IAAC,CAAxsC,EAA0sC,GAA1sC,CAA7Q,EAA49C,KAAKkD,aAAL,GAAmB3E,CAAC,CAAE,MAAMH,CAAN,IAAS;MAAC,MAAMC,CAAC,GAAC,EAAR;;MAAW,KAAI,MAAME,CAAV,IAAe,KAAK6B,SAAL,CAAe2B,QAA9B,EAAuC;QAAC,IAAG,CAACxD,CAAC,CAAC4E,OAAH,IAAY,CAAC5E,CAAC,CAAC6E,KAAlB,EAAwB;QAAO/E,CAAC,CAACqE,IAAF,CAAOtE,CAAC,CAACG,CAAD,CAAD,CAAKqE,IAAL,CAAW,MAAI;UAACrE,CAAC,CAAC8E,iBAAF,IAAsB9E,CAAC,CAAC+E,aAAF,EAAtB;QAAwC,CAAxD,CAAP;MAAmE;;MAAA,KAAKxC,aAAL,GAAmBjC,CAAC,CAACR,CAAD,CAAD,CAAKuE,IAAL,CAAW,MAAI,KAAK9B,aAAL,GAAmB,IAAlC,CAAnB,EAA4D,MAAM,KAAKA,aAAvE;IAAqF,CAAtP,CAAh/C;EAAyuD;;EAAAgC,OAAO,GAAE;IAAC,KAAK/B,OAAL,CAAawC,OAAb,CAAsBnF,CAAC,IAAEA,CAAC,CAAC0E,OAAF,EAAzB,GAAuC,KAAK/B,OAAL,GAAa,EAApD;EAAuD;;EAAY,IAARyC,QAAQ,GAAE;IAAC,OAAM,CAAC,KAAKtC,SAAN,IAAiB,SAAO,KAAKJ,aAAnC;EAAiD;;EAAa,MAAP2C,OAAO,CAACrF,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOI,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAa;IAAC,MAAME,CAAC,GAAC,MAAM,KAAKoB,WAAL,CAAiBjC,CAAjB,EAAmBoD,IAAI,CAACC,KAAL,CAAWpD,CAAC,GAACQ,CAAb,CAAnB,EAAmC2C,IAAI,CAACC,KAAL,CAAWlD,CAAC,GAACM,CAAb,CAAnC,EAAmD;MAACiD,QAAQ,EAACnD,CAAV;MAAY0C,UAAU,EAACxC,CAAvB;MAAyB6E,MAAM,EAAC3E;IAAhC,CAAnD,CAAd;IAAqGN,CAAC,CAACM,CAAD,CAAD;IAAK,MAAMI,CAAC,GAAC,IAAIW,CAAJ,CAAM,IAAN,EAAW;MAAC6D,SAAS,EAAC,CAAC,CAAZ;MAAcC,mCAAmC,EAAC,CAAC;IAAnD,CAAX,CAAR;IAA0E,OAAOzE,CAAC,CAACe,CAAF,GAAI9B,CAAC,CAACuD,IAAN,EAAWxC,CAAC,CAACc,CAAF,GAAI7B,CAAC,CAACyF,IAAjB,EAAsB1E,CAAC,CAACmD,UAAF,GAAalE,CAAC,CAAC0F,KAAF,GAAQzF,CAA3C,EAA6Cc,CAAC,CAAC2C,QAAF,GAAWnD,CAAxD,EAA0DQ,CAAC,CAACkC,UAAF,GAAaxC,CAAvE,EAAyEM,CAAC,CAAC4E,OAAF,GAAU,CAAnF,EAAqF,KAAK3D,SAAL,CAAe4D,QAAf,CAAwB7E,CAAxB,CAArF,EAAgH,MAAMA,CAAC,CAAC8E,cAAF,CAAiBhF,CAAjB,EAAmBF,CAAnB,CAAtH,EAA4IN,CAAC,CAACM,CAAD,CAA7I,EAAiJI,CAAxJ;EAA0J;;EAAmB,MAAbkD,aAAa,CAACjE,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,EAAWE,CAAX,EAAaE,CAAb,EAAe;IAACa,CAAC,CAACK,CAAD,EAAG1B,CAAH,EAAKE,CAAL,EAAOJ,CAAP,CAAD;IAAW,MAAMY,CAAC,GAACI,CAAC,CAACY,CAAD,EAAG7B,CAAC,CAACgD,gBAAL,CAAT;IAAgC,OAAM,CAAC,MAAM,KAAKqC,OAAL,CAAaxE,CAAb,EAAeZ,CAAC,CAAC,CAAD,CAAhB,EAAoBA,CAAC,CAAC,CAAD,CAArB,EAAyBM,CAAzB,EAA2BE,CAA3B,EAA6BE,CAA7B,CAAP,CAAN;EAA8C;;EAAAyD,YAAY,CAACpE,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;IAAC,MAAME,CAAC,GAACa,CAAC,CAACN,MAAF,CAAS;MAACqC,IAAI,EAAClD,CAAN;MAAQ+C,gBAAgB,EAAChD,CAAC,CAACgD,gBAA3B;MAA4C8C,MAAM,EAAC,CAAC9F,CAAC,CAAC+F,KAAH;IAAnD,CAAT,CAAR;IAAA,MAAgFtF,CAAC,GAAC,IAAIkB,CAAJ,CAAMpB,CAAN,CAAlF;IAAA,MAA2FI,CAAC,GAACF,CAAC,CAACuF,eAAF,CAAkBhG,CAAlB,CAA7F;IAAkH,IAAG,CAACW,CAAJ,EAAM,OAAO,IAAP;IAAY,MAAME,CAAC,GAAC,EAAR;IAAW,OAAOF,CAAC,CAACwE,OAAF,CAAW,CAAC5E,CAAD,EAAGI,CAAH,EAAKI,CAAL,EAAOI,CAAP,KAAW;MAACY,CAAC,CAACkE,GAAF,CAAM1F,CAAN,EAAQI,CAAR,EAAUI,CAAV,EAAY,CAAZ,GAAeN,CAAC,CAACyF,aAAF,CAAgBrE,CAAhB,EAAkBE,CAAlB,CAAf;MAAoC,MAAMX,CAAC,GAACH,CAAC,CAACY,CAAD,EAAG7B,CAAC,CAACgD,gBAAL,CAAT;MAAgCnC,CAAC,CAACyD,IAAF,CAAO,KAAKe,OAAL,CAAajE,CAAb,EAAenB,CAAf,EAAiBA,CAAjB,EAAmB,CAAnB,EAAqBE,CAArB,EAAuBE,CAAvB,EAA0BmE,IAA1B,CAAgCxE,CAAC,KAAG,MAAImB,CAAJ,KAAQY,CAAC,CAACkE,GAAF,CAAM1F,CAAN,EAAQI,CAAR,EAAUI,CAAV,EAAYI,CAAZ,GAAeV,CAAC,CAACyF,aAAF,CAAgBrE,CAAhB,EAAkBE,CAAlB,CAAf,EAAoC/B,CAAC,CAAC8B,CAAF,GAAID,CAAC,CAAC,CAAD,CAAzC,EAA6C7B,CAAC,CAAC6B,CAAF,GAAIA,CAAC,CAAC,CAAD,CAA1D,GAA+D7B,CAAlE,CAAjC,CAAP;IAAgH,CAA3M,GAA8M4E,OAAO,CAACC,GAAR,CAAYhE,CAAZ,CAArN;EAAoO;;AAAxuF,CAArB;AAA+vFb,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,eAAnB,EAAmC,KAAK,CAAxC,CAAD,EAA4CnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,SAAnB,EAA6B,KAAK,CAAlC,CAA7C,EAAkFnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,WAAnB,EAA+B,KAAK,CAApC,CAAnF,EAA0HnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,aAAnB,EAAiC,KAAK,CAAtC,CAA3H,EAAoKnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,OAAnB,EAA2B,KAAK,CAAhC,CAArK,EAAwMnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,eAAnB,EAAmC,KAAK,CAAxC,CAAzM,EAAoPnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,gBAAnB,EAAoC,KAAK,CAAzC,CAArP,EAAiSnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,wBAAnB,EAA4C,KAAK,CAAjD,CAAlS,EAAsVnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,6BAAnB,EAAiD,KAAK,CAAtD,CAAvV,EAAgZnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,eAAnB,EAAmC,KAAK,CAAxC,CAAjZ,EAA4bnG,CAAC,CAAC,CAACW,CAAC,EAAF,CAAD,EAAO6B,CAAC,CAAC2D,SAAT,EAAmB,UAAnB,EAA8B,IAA9B,CAA7b,EAAie3D,CAAC,GAACxC,CAAC,CAAC,CAACa,CAAC,CAAC,6CAAD,CAAF,CAAD,EAAoD2B,CAApD,CAApe;AAA2hB,MAAM4D,CAAC,GAAC5D,CAAR;AAAU,SAAO4D,CAAC,IAAIC,OAAZ"},"metadata":{},"sourceType":"module"}