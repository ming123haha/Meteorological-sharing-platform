{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isNone as t, isSome as n, unwrap as e } from \"../../../core/maybe.js\";\nconst i = {\n  u1: [0, 1],\n  u2: [0, 3],\n  u4: [0, 15],\n  u8: [0, 255],\n  s8: [-128, 127],\n  u16: [0, 65535],\n  s16: [-32768, 32767],\n  u32: [0, 4294967295],\n  s32: [-2147483648, 2147483647],\n  f32: [-34e38, 34e38],\n  f64: [-Number.MAX_VALUE, Number.MAX_VALUE]\n},\n      s = 1,\n      o = [.299, .587, .114];\n\nfunction r(t, n = 256) {\n  n = Math.min(n, 256);\n  const {\n    size: e,\n    counts: i\n  } = t,\n        s = new Uint8Array(e),\n        o = i.reduce((t, e) => t + e / n, 0);\n  let r = 0,\n      a = 0,\n      f = 0,\n      l = o;\n\n  for (let u = 0; u < e; u++) if (f += i[u], !(u < e - 1 && f + i[u + 1] < l)) {\n    for (; r < n - 1 && l < f;) r++, l += o;\n\n    for (let t = a; t <= u; t++) s[t] = r;\n\n    a = u + 1;\n  }\n\n  for (let u = a; u < e; u++) s[u] = n - 1;\n\n  return s;\n}\n\nfunction a(t) {\n  const {\n    minCutOff: n,\n    maxCutOff: e,\n    gamma: i,\n    pixelType: s\n  } = t,\n        o = t.outMin || 0,\n        r = t.outMax || 255;\n  if (![\"u8\", \"u16\", \"s8\", \"s16\"].includes(s)) return null;\n  const a = n.length;\n  let l,\n      u,\n      m = 0;\n  \"s8\" === s ? m = -127 : \"s16\" === s && (m = -32767);\n  let c = 256;\n  [\"u16\", \"s16\"].includes(s) && (c = 65536);\n  const h = [],\n        g = r - o;\n\n  for (l = 0; l < a; l++) h[l] = e[l] - n[l], e[l], n[l];\n\n  const x = i && i.length >= a,\n        M = [];\n  if (x) for (l = 0; l < a; l++) i[l] > 1 ? i[l] > 2 ? M[l] = 6.5 + (i[l] - 2) ** 2.5 : M[l] = 6.5 + 100 * (2 - i[l]) ** 4 : M[l] = 1;\n  let p;\n  const d = [];\n  let b, O, y;\n  if (x) for (l = 0; l < a; l++) {\n    for (y = [], u = 0; u < c; u++) b = u + m, p = (b - n[l]) / h[l], O = 1, i[l] > 1 && (O -= (1 / g) ** (p * M[l])), b < e[l] && b > n[l] ? y[u] = Math.floor(O * g * p ** (1 / i[l])) + o : b >= e[l] ? y[u] = r : y[u] = o;\n\n    d[l] = y;\n  } else for (l = 0; l < a; l++) {\n    for (y = [], u = 0; u < c; u++) b = u + m, b <= n[l] ? y[u] = o : b >= e[l] ? y[u] = r : y[u] = Math.floor((b - n[l]) / h[l] * g) + o;\n\n    d[l] = y;\n  }\n\n  if (null != t.contrastOffset) {\n    const n = f(t.contrastOffset, t.brightnessOffset);\n\n    for (l = 0; l < a; l++) for (y = d[l], u = 0; u < c; u++) y[u] = n[y[u]];\n  }\n\n  return {\n    lut: d,\n    offset: m\n  };\n}\n\nfunction f(t, n) {\n  const e = Math.min(Math.max(t, -100), 100),\n        i = Math.min(Math.max(n, -100), 100),\n        s = 255,\n        o = 128;\n  let r, a;\n  const f = new Uint8Array(256);\n\n  for (r = 0; r < 256; r++) e > 0 && e < 100 ? a = (200 * r - 100 * s + 2 * s * i) / (2 * (100 - e)) + o : e <= 0 && e > -100 ? a = (200 * r - 100 * s + 2 * s * i) * (100 + e) / 2e4 + o : 100 === e ? (a = 200 * r - 100 * s + (s + 1) * (100 - e) + 2 * s * i, a = a > 0 ? s : 0) : -100 === e && (a = o), f[r] = a > s ? s : a < 0 ? 0 : a;\n\n  return f;\n}\n\nfunction l(t, n, e) {\n  const i = [];\n\n  for (let s = 0; s < n.length; s++) {\n    let r = 0,\n        a = 0,\n        f = 0;\n    \"min\" in n[s] ? ({\n      min: r,\n      max: a,\n      avg: f\n    } = n[s]) : [r, a, f] = n[s];\n    let l = f;\n    \"u8\" !== t && (l = 255 * (l - r) / (a - r)), e && (l *= o[s]), i.push(u(l));\n  }\n\n  return i;\n}\n\nfunction u(t) {\n  if (t <= 0 || t >= 255) return s;\n  let n = 0;\n  150 !== t && (n = t <= 150 ? 45 * Math.cos(.01047 * t) : 17 * Math.sin(.021 * t));\n  const e = 255,\n        i = t + n,\n        o = Math.log(t / e),\n        r = Math.log(i / e);\n  if (0 === r) return s;\n  const a = o / r;\n  return isNaN(a) ? s : Math.min(9.9, Math.max(.01, a));\n}\n\nfunction m(n) {\n  if (t(n) || !n.pixels?.length) return null;\n  n.statistics || n.updateStatistics();\n  const {\n    pixels: e,\n    mask: i,\n    pixelType: s,\n    statistics: o\n  } = n,\n        r = n.width * n.height,\n        a = e.length;\n  let f, l, u, m, c;\n  const h = [],\n        g = [];\n  let x, M, p, d, b, O, y, C, z, A;\n  const k = 256;\n\n  for (m = 0; m < a; m++) {\n    if (x = new Uint32Array(k), p = e[m], \"u8\" === s) {\n      if (f = -.5, l = 255.5, i) for (c = 0; c < r; c++) i[c] && x[p[c]]++;else for (c = 0; c < r; c++) x[p[c]]++;\n    } else {\n      if (f = o[m].minValue, l = o[m].maxValue, u = (l - f) / k, M = new Uint32Array(k + 1), i) for (c = 0; c < r; c++) i[c] && M[Math.floor((p[c] - f) / u)]++;else for (c = 0; c < r; c++) M[Math.floor((p[c] - f) / u)]++;\n\n      for (c = 0; c < 255; c++) x[c] = M[c];\n\n      x[255] = M[255] + M[256];\n    }\n\n    for (h.push({\n      min: f,\n      max: l,\n      size: k,\n      counts: x\n    }), d = 0, b = 0, C = 0, c = 0; c < k; c++) d += x[c], b += c * x[c];\n\n    for (z = b / d, c = 0; c < k; c++) C += x[c] * (c - z) ** 2;\n\n    A = Math.sqrt(C / (d - 1)), u = (l - f) / k, O = (z + .5) * u + f, y = A * u, g.push({\n      min: f,\n      max: l,\n      avg: O,\n      stddev: y\n    });\n  }\n\n  return {\n    statistics: g,\n    histograms: h\n  };\n}\n\nfunction c(t) {\n  const n = [];\n\n  for (let e = 0; e < t.length; e++) {\n    const {\n      min: i,\n      max: s,\n      size: o,\n      counts: r\n    } = t[e];\n    let a = 0,\n        f = 0;\n\n    for (let t = 0; t < o; t++) a += r[t], f += t * r[t];\n\n    const l = f / a;\n    let u = 0;\n\n    for (let t = 0; t < o; t++) u += r[t] * (t - l) ** 2;\n\n    const m = (s - i) / o,\n          c = (l + .5) * m + i,\n          h = Math.sqrt(u / (a - 1)) * m;\n    n.push({\n      min: i,\n      max: s,\n      avg: c,\n      stddev: h\n    });\n  }\n\n  return n;\n}\n\nfunction h(t, s) {\n  const {\n    pixelBlock: o,\n    bandIds: a,\n    returnHistogramLut: f,\n    rasterInfo: l\n  } = s;\n  let u,\n      c,\n      h = t.stretchType;\n  if (t.dra) {\n    if (\"minMax\" === h && n(o) && o.statistics) u = o.statistics.map(t => [t.minValue, t.maxValue, 0, 0]);else {\n      const t = m(o);\n      u = n(t) ? t.statistics : null, c = n(t) ? t.histograms : null;\n    }\n  } else u = t.statistics?.length > 0 ? t.statistics : e(l.statistics), c = t.histograms || e(l.histograms);\n  \"percentClip\" !== h && \"histogramEqualization\" !== h || c?.length || (h = \"minMax\");\n  const x = u?.length || c?.length || l.bandCount,\n        M = [],\n        p = [];\n  let d, b, O, y, C, z, A, k, v, w, U, L;\n\n  switch (u && !Array.isArray(u[0]) && (u = u.map(t => [t.min, t.max, t.avg, t.stddev])), h) {\n    case \"none\":\n      {\n        const t = i[l.pixelType] || i.f32;\n\n        for (k = 0; k < x; k++) M[k] = t[0], p[k] = t[1];\n      }\n      break;\n\n    case \"minMax\":\n      for (k = 0; k < x; k++) M[k] = u[k][0], p[k] = u[k][1];\n\n      break;\n\n    case \"standardDeviation\":\n      for (k = 0; k < x; k++) M[k] = u[k][2] - t.numberOfStandardDeviations * u[k][3], p[k] = u[k][2] + t.numberOfStandardDeviations * u[k][3], M[k] < u[k][0] && (M[k] = u[k][0]), p[k] > u[k][1] && (p[k] = u[k][1]);\n\n      break;\n\n    case \"histogramEqualization\":\n      for (k = 0; k < x; k++) M[k] = c[k].min, p[k] = c[k].max;\n\n      break;\n\n    case \"percentClip\":\n      for (k = 0; k < c.length; k++) {\n        for (d = c[k], C = new Uint32Array(d.size), y = [...d.counts], y.length >= 20 && (y[0] = y[1] = y[2] = y[y.length - 1] = y[y.length - 2] = 0), O = 0, b = (d.max - d.min) / d.size, A = -.5 === d.min && 1 === b ? .5 : 0, v = 0; v < d.size; v++) O += y[v], C[v] = O;\n\n        for (z = (t.minPercent || 0) * O / 100, v = 0; v < d.size; v++) if (C[v] > z) {\n          M[k] = d.min + b * (v + A);\n          break;\n        }\n\n        for (z = (1 - (t.maxPercent || 0) / 100) * O, v = d.size - 2; v >= 0; v--) if (C[v] < z) {\n          p[k] = d.min + b * (v + 2 - A);\n          break;\n        }\n      }\n\n      break;\n\n    default:\n      for (k = 0; k < x; k++) M[k] = u[k][0], p[k] = u[k][1];\n\n  }\n\n  \"histogramEqualization\" === h ? (U = c[0].size || 256, w = 0, f && (L = c.map(t => r(t)))) : (U = t.max || 255, w = t.min || 0);\n  return g({\n    minCutOff: M,\n    maxCutOff: p,\n    outMax: U,\n    outMin: w,\n    histogramLut: L\n  }, a);\n}\n\nfunction g(t, n) {\n  if (null == n || 0 === n.length) return t;\n  const e = Math.max.apply(null, n),\n        {\n    minCutOff: i,\n    maxCutOff: s,\n    outMin: o,\n    outMax: r,\n    histogramLut: a\n  } = t;\n  return i.length === n.length || i.length <= e ? t : {\n    minCutOff: n.map(t => i[t]),\n    maxCutOff: n.map(t => s[t]),\n    histogramLut: a ? n.map(t => a[t]) : null,\n    outMin: o,\n    outMax: r\n  };\n}\n\nfunction x(n, e) {\n  if (t(n) || !n.pixels?.length) return n;\n  const i = n.clone(),\n        {\n    pixels: s,\n    mask: o\n  } = i,\n        {\n    minCutOff: r,\n    maxCutOff: a,\n    gamma: f\n  } = e,\n        l = e.outMin || 0,\n        u = e.outMax || 255,\n        m = i.width * i.height,\n        c = s.length;\n  let h, g, x, M, p;\n  const d = u - l,\n        b = [];\n\n  for (h = 0; h < c; h++) b[h] = a[h] - r[h], a[h], r[h];\n\n  const O = f && f.length >= c,\n        y = [];\n  if (O) for (h = 0; h < c; h++) f[h] > 1 ? f[h] > 2 ? y[h] = 6.5 + (f[h] - 2) ** 2.5 : y[h] = 6.5 + 100 * (2 - f[h]) ** 4 : y[h] = 1;\n  if (O) {\n    if (null != o) {\n      for (g = 0; g < m; g++) if (o[g]) for (h = 0; h < c; h++) x = s[h][g], p = (x - r[h]) / b[h], M = 1, f[h] > 1 && (M -= (1 / d) ** (p * y[h])), x < a[h] && x > r[h] ? s[h][g] = Math.floor(M * d * p ** (1 / f[h])) + l : x >= a[h] ? s[h][g] = u : s[h][g] = l;\n    } else for (g = 0; g < m; g++) for (h = 0; h < c; h++) x = s[h][g], p = (x - r[h]) / b[h], M = 1, f[h] > 1 && (M -= (1 / d) ** (p * y[h])), x < a[h] && x > r[h] ? s[h][g] = Math.floor(M * d * p ** (1 / f[h])) + l : x >= a[h] ? s[h][g] = u : s[h][g] = l;\n  } else if (null != o) {\n    for (g = 0; g < m; g++) if (o[g]) for (h = 0; h < c; h++) x = s[h][g], x < a[h] && x > r[h] ? s[h][g] = Math.floor((x - r[h]) / b[h] * d) + l : x >= a[h] ? s[h][g] = u : s[h][g] = l;\n  } else for (g = 0; g < m; g++) for (h = 0; h < c; h++) x = s[h][g], x < a[h] && x > r[h] ? s[h][g] = Math.floor((x - r[h]) / b[h] * d) + l : x >= a[h] ? s[h][g] = u : s[h][g] = l;\n  return i.pixelType = \"u8\", i.updateStatistics(), i;\n}\n\nexport { l as computeGammaValues, f as createContrastBrightnessLUT, r as createHistogramEqualizationLUT, a as createStretchLUT, c as estimateStatisticsFromHistograms, m as estimateStatisticsHistograms, h as getStretchCutoff, x as stretch };","map":{"version":3,"names":["isNone","t","isSome","n","unwrap","e","i","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","Number","MAX_VALUE","s","o","r","Math","min","size","counts","Uint8Array","reduce","a","f","l","u","minCutOff","maxCutOff","gamma","pixelType","outMin","outMax","includes","length","m","c","h","g","x","M","p","d","b","O","y","floor","contrastOffset","brightnessOffset","lut","offset","max","avg","push","cos","sin","log","isNaN","pixels","statistics","updateStatistics","mask","width","height","C","z","A","k","Uint32Array","minValue","maxValue","sqrt","stddev","histograms","pixelBlock","bandIds","returnHistogramLut","rasterInfo","stretchType","dra","map","bandCount","v","w","U","L","Array","isArray","numberOfStandardDeviations","minPercent","maxPercent","histogramLut","apply","clone","computeGammaValues","createContrastBrightnessLUT","createHistogramEqualizationLUT","createStretchLUT","estimateStatisticsFromHistograms","estimateStatisticsHistograms","getStretchCutoff","stretch"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as n,unwrap as e}from\"../../../core/maybe.js\";const i={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},s=1,o=[.299,.587,.114];function r(t,n=256){n=Math.min(n,256);const{size:e,counts:i}=t,s=new Uint8Array(e),o=i.reduce(((t,e)=>t+e/n),0);let r=0,a=0,f=0,l=o;for(let u=0;u<e;u++)if(f+=i[u],!(u<e-1&&f+i[u+1]<l)){for(;r<n-1&&l<f;)r++,l+=o;for(let t=a;t<=u;t++)s[t]=r;a=u+1}for(let u=a;u<e;u++)s[u]=n-1;return s}function a(t){const{minCutOff:n,maxCutOff:e,gamma:i,pixelType:s}=t,o=t.outMin||0,r=t.outMax||255;if(![\"u8\",\"u16\",\"s8\",\"s16\"].includes(s))return null;const a=n.length;let l,u,m=0;\"s8\"===s?m=-127:\"s16\"===s&&(m=-32767);let c=256;[\"u16\",\"s16\"].includes(s)&&(c=65536);const h=[],g=r-o;for(l=0;l<a;l++)h[l]=e[l]-n[l],e[l],n[l];const x=i&&i.length>=a,M=[];if(x)for(l=0;l<a;l++)i[l]>1?i[l]>2?M[l]=6.5+(i[l]-2)**2.5:M[l]=6.5+100*(2-i[l])**4:M[l]=1;let p;const d=[];let b,O,y;if(x)for(l=0;l<a;l++){for(y=[],u=0;u<c;u++)b=u+m,p=(b-n[l])/h[l],O=1,i[l]>1&&(O-=(1/g)**(p*M[l])),b<e[l]&&b>n[l]?y[u]=Math.floor(O*g*p**(1/i[l]))+o:b>=e[l]?y[u]=r:y[u]=o;d[l]=y}else for(l=0;l<a;l++){for(y=[],u=0;u<c;u++)b=u+m,b<=n[l]?y[u]=o:b>=e[l]?y[u]=r:y[u]=Math.floor((b-n[l])/h[l]*g)+o;d[l]=y}if(null!=t.contrastOffset){const n=f(t.contrastOffset,t.brightnessOffset);for(l=0;l<a;l++)for(y=d[l],u=0;u<c;u++)y[u]=n[y[u]]}return{lut:d,offset:m}}function f(t,n){const e=Math.min(Math.max(t,-100),100),i=Math.min(Math.max(n,-100),100),s=255,o=128;let r,a;const f=new Uint8Array(256);for(r=0;r<256;r++)e>0&&e<100?a=(200*r-100*s+2*s*i)/(2*(100-e))+o:e<=0&&e>-100?a=(200*r-100*s+2*s*i)*(100+e)/2e4+o:100===e?(a=200*r-100*s+(s+1)*(100-e)+2*s*i,a=a>0?s:0):-100===e&&(a=o),f[r]=a>s?s:a<0?0:a;return f}function l(t,n,e){const i=[];for(let s=0;s<n.length;s++){let r=0,a=0,f=0;\"min\"in n[s]?({min:r,max:a,avg:f}=n[s]):[r,a,f]=n[s];let l=f;\"u8\"!==t&&(l=255*(l-r)/(a-r)),e&&(l*=o[s]),i.push(u(l))}return i}function u(t){if(t<=0||t>=255)return s;let n=0;150!==t&&(n=t<=150?45*Math.cos(.01047*t):17*Math.sin(.021*t));const e=255,i=t+n,o=Math.log(t/e),r=Math.log(i/e);if(0===r)return s;const a=o/r;return isNaN(a)?s:Math.min(9.9,Math.max(.01,a))}function m(n){if(t(n)||!n.pixels?.length)return null;n.statistics||n.updateStatistics();const{pixels:e,mask:i,pixelType:s,statistics:o}=n,r=n.width*n.height,a=e.length;let f,l,u,m,c;const h=[],g=[];let x,M,p,d,b,O,y,C,z,A;const k=256;for(m=0;m<a;m++){if(x=new Uint32Array(k),p=e[m],\"u8\"===s)if(f=-.5,l=255.5,i)for(c=0;c<r;c++)i[c]&&x[p[c]]++;else for(c=0;c<r;c++)x[p[c]]++;else{if(f=o[m].minValue,l=o[m].maxValue,u=(l-f)/k,M=new Uint32Array(k+1),i)for(c=0;c<r;c++)i[c]&&M[Math.floor((p[c]-f)/u)]++;else for(c=0;c<r;c++)M[Math.floor((p[c]-f)/u)]++;for(c=0;c<255;c++)x[c]=M[c];x[255]=M[255]+M[256]}for(h.push({min:f,max:l,size:k,counts:x}),d=0,b=0,C=0,c=0;c<k;c++)d+=x[c],b+=c*x[c];for(z=b/d,c=0;c<k;c++)C+=x[c]*(c-z)**2;A=Math.sqrt(C/(d-1)),u=(l-f)/k,O=(z+.5)*u+f,y=A*u,g.push({min:f,max:l,avg:O,stddev:y})}return{statistics:g,histograms:h}}function c(t){const n=[];for(let e=0;e<t.length;e++){const{min:i,max:s,size:o,counts:r}=t[e];let a=0,f=0;for(let t=0;t<o;t++)a+=r[t],f+=t*r[t];const l=f/a;let u=0;for(let t=0;t<o;t++)u+=r[t]*(t-l)**2;const m=(s-i)/o,c=(l+.5)*m+i,h=Math.sqrt(u/(a-1))*m;n.push({min:i,max:s,avg:c,stddev:h})}return n}function h(t,s){const{pixelBlock:o,bandIds:a,returnHistogramLut:f,rasterInfo:l}=s;let u,c,h=t.stretchType;if(t.dra)if(\"minMax\"===h&&n(o)&&o.statistics)u=o.statistics.map((t=>[t.minValue,t.maxValue,0,0]));else{const t=m(o);u=n(t)?t.statistics:null,c=n(t)?t.histograms:null}else u=t.statistics?.length>0?t.statistics:e(l.statistics),c=t.histograms||e(l.histograms);\"percentClip\"!==h&&\"histogramEqualization\"!==h||c?.length||(h=\"minMax\");const x=u?.length||c?.length||l.bandCount,M=[],p=[];let d,b,O,y,C,z,A,k,v,w,U,L;switch(u&&!Array.isArray(u[0])&&(u=u.map((t=>[t.min,t.max,t.avg,t.stddev]))),h){case\"none\":{const t=i[l.pixelType]||i.f32;for(k=0;k<x;k++)M[k]=t[0],p[k]=t[1]}break;case\"minMax\":for(k=0;k<x;k++)M[k]=u[k][0],p[k]=u[k][1];break;case\"standardDeviation\":for(k=0;k<x;k++)M[k]=u[k][2]-t.numberOfStandardDeviations*u[k][3],p[k]=u[k][2]+t.numberOfStandardDeviations*u[k][3],M[k]<u[k][0]&&(M[k]=u[k][0]),p[k]>u[k][1]&&(p[k]=u[k][1]);break;case\"histogramEqualization\":for(k=0;k<x;k++)M[k]=c[k].min,p[k]=c[k].max;break;case\"percentClip\":for(k=0;k<c.length;k++){for(d=c[k],C=new Uint32Array(d.size),y=[...d.counts],y.length>=20&&(y[0]=y[1]=y[2]=y[y.length-1]=y[y.length-2]=0),O=0,b=(d.max-d.min)/d.size,A=-.5===d.min&&1===b?.5:0,v=0;v<d.size;v++)O+=y[v],C[v]=O;for(z=(t.minPercent||0)*O/100,v=0;v<d.size;v++)if(C[v]>z){M[k]=d.min+b*(v+A);break}for(z=(1-(t.maxPercent||0)/100)*O,v=d.size-2;v>=0;v--)if(C[v]<z){p[k]=d.min+b*(v+2-A);break}}break;default:for(k=0;k<x;k++)M[k]=u[k][0],p[k]=u[k][1]}\"histogramEqualization\"===h?(U=c[0].size||256,w=0,f&&(L=c.map((t=>r(t))))):(U=t.max||255,w=t.min||0);return g({minCutOff:M,maxCutOff:p,outMax:U,outMin:w,histogramLut:L},a)}function g(t,n){if(null==n||0===n.length)return t;const e=Math.max.apply(null,n),{minCutOff:i,maxCutOff:s,outMin:o,outMax:r,histogramLut:a}=t;return i.length===n.length||i.length<=e?t:{minCutOff:n.map((t=>i[t])),maxCutOff:n.map((t=>s[t])),histogramLut:a?n.map((t=>a[t])):null,outMin:o,outMax:r}}function x(n,e){if(t(n)||!n.pixels?.length)return n;const i=n.clone(),{pixels:s,mask:o}=i,{minCutOff:r,maxCutOff:a,gamma:f}=e,l=e.outMin||0,u=e.outMax||255,m=i.width*i.height,c=s.length;let h,g,x,M,p;const d=u-l,b=[];for(h=0;h<c;h++)b[h]=a[h]-r[h],a[h],r[h];const O=f&&f.length>=c,y=[];if(O)for(h=0;h<c;h++)f[h]>1?f[h]>2?y[h]=6.5+(f[h]-2)**2.5:y[h]=6.5+100*(2-f[h])**4:y[h]=1;if(O)if(null!=o){for(g=0;g<m;g++)if(o[g])for(h=0;h<c;h++)x=s[h][g],p=(x-r[h])/b[h],M=1,f[h]>1&&(M-=(1/d)**(p*y[h])),x<a[h]&&x>r[h]?s[h][g]=Math.floor(M*d*p**(1/f[h]))+l:x>=a[h]?s[h][g]=u:s[h][g]=l}else for(g=0;g<m;g++)for(h=0;h<c;h++)x=s[h][g],p=(x-r[h])/b[h],M=1,f[h]>1&&(M-=(1/d)**(p*y[h])),x<a[h]&&x>r[h]?s[h][g]=Math.floor(M*d*p**(1/f[h]))+l:x>=a[h]?s[h][g]=u:s[h][g]=l;else if(null!=o){for(g=0;g<m;g++)if(o[g])for(h=0;h<c;h++)x=s[h][g],x<a[h]&&x>r[h]?s[h][g]=Math.floor((x-r[h])/b[h]*d)+l:x>=a[h]?s[h][g]=u:s[h][g]=l}else for(g=0;g<m;g++)for(h=0;h<c;h++)x=s[h][g],x<a[h]&&x>r[h]?s[h][g]=Math.floor((x-r[h])/b[h]*d)+l:x>=a[h]?s[h][g]=u:s[h][g]=l;return i.pixelType=\"u8\",i.updateStatistics(),i}export{l as computeGammaValues,f as createContrastBrightnessLUT,r as createHistogramEqualizationLUT,a as createStretchLUT,c as estimateStatisticsFromHistograms,m as estimateStatisticsHistograms,h as getStretchCutoff,x as stretch};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}