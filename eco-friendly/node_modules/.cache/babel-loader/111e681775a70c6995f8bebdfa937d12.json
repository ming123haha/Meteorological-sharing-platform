{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { destroyMaybe as e, isSome as r } from \"../../../../core/maybe.js\";\nimport { contextCapabilitiesFromLayer as t } from \"./FeatureTileFetcher3D.js\";\nimport { createFeatureTileQuery3D as i } from \"./featureTileQuery3D.js\";\n\nclass l {\n  constructor(e) {\n    this._memoryCache = null, this._capabilities = null;\n    const r = e.layerView.layer;\n    this.layerView = e.layerView, this.objectIdField = r.objectIdField, this.globalIdField = \"globalIdField\" in r ? r.globalIdField : null, this.returnZ = e.returnZ, this.returnM = e.returnM;\n    const t = this.layerView.view.resourceController;\n    this.query = i(r, e => t.schedule(e)), t && this.memoryCacheEnabled && (this._memoryCache = t.memoryController.newCache(r.uid));\n  }\n\n  get memoryCacheEnabled() {\n    switch (this.layerView.layer.source.type) {\n      case \"feature-layer\":\n      case \"ogc-feature\":\n        return !0;\n\n      case \"csv\":\n      case \"geojson\":\n      case \"memory\":\n      case \"wfs\":\n        return !1;\n    }\n  }\n\n  destroy() {\n    this._memoryCache = e(this._memoryCache), this.query.destroy();\n  }\n\n  createQuery() {\n    const e = this.layerView.layer.createQuery();\n    return e.outFields = this.layerView.availableFields, e.returnZ = this.returnZ, e.returnM = this.returnM, e.outSpatialReference = this.tilingScheme.spatialReference, e;\n  }\n\n  get memoryCache() {\n    return this._memoryCache;\n  }\n\n  get viewingMode() {\n    return this.layerView.view.state.viewingMode;\n  }\n\n  get tilingScheme() {\n    return this.layerView.view.featureTiles.tilingScheme;\n  }\n\n  get scheduler() {\n    const e = this.layerView.view.resourceController;\n    return e ? e.scheduler : null;\n  }\n\n  get geometryType() {\n    return this.layerView.layer.geometryType;\n  }\n\n  get fullExtent() {\n    return this.layerView.layer.fullExtent;\n  }\n\n  get tileMaxRecordCount() {\n    return this.layerView.layer.capabilities.query.tileMaxRecordCount;\n  }\n\n  get maxRecordCount() {\n    return this.layerView.layer.capabilities.query.maxRecordCount;\n  }\n\n  get capabilities() {\n    return r(this._capabilities) || (this._capabilities = t(this.layerView.layer)), this._capabilities;\n  }\n\n  logFetchError(e, r) {\n    e.error(\"#fetchTile()\", this.layerView.layer, r && r.message ? r.message : r);\n  }\n\n}\n\nexport { l as FeatureTileFetcher3DLayerViewContext };","map":{"version":3,"names":["destroyMaybe","e","isSome","r","contextCapabilitiesFromLayer","t","createFeatureTileQuery3D","i","l","constructor","_memoryCache","_capabilities","layerView","layer","objectIdField","globalIdField","returnZ","returnM","view","resourceController","query","schedule","memoryCacheEnabled","memoryController","newCache","uid","source","type","destroy","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","spatialReference","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","capabilities","maxRecordCount","logFetchError","error","message","FeatureTileFetcher3DLayerViewContext"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class l{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this.layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this.returnZ=e.returnZ,this.returnM=e.returnM;const t=this.layerView.view.resourceController;this.query=i(r,(e=>t.schedule(e))),t&&this.memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get memoryCacheEnabled(){switch(this.layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this.layerView.layer.createQuery();return e.outFields=this.layerView.availableFields,e.returnZ=this.returnZ,e.returnM=this.returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this.layerView.view.state.viewingMode}get tilingScheme(){return this.layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this.layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this.layerView.layer.geometryType}get fullExtent(){return this.layerView.layer.fullExtent}get tileMaxRecordCount(){return this.layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this.layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this.layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this.layerView.layer,r&&r.message?r.message:r)}}export{l as FeatureTileFetcher3DLayerViewContext};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}