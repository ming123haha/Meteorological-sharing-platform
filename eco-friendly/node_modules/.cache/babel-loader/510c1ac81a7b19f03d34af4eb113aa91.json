{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../core/mathUtils.js\";\nimport { FilteredFiniteDifference as e } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as i } from \"./Momentum.js\";\n\nclass s {\n  constructor(t = 2.5, i = .01, s = .95, l = 12) {\n    this._minimumInitialVelocity = t, this._stopVelocity = i, this._friction = s, this._maxVelocity = l, this.enabled = !0, this.value = new e(.8), this.time = new e(.3);\n  }\n\n  add(t, e) {\n    if (this.enabled && null != e) {\n      if (this.time.hasLastValue()) {\n        if (this.time.computeDelta(e) < .01) return;\n\n        if (this.value.hasFilteredDelta()) {\n          const e = this.value.computeDelta(t);\n          this.value.filteredDelta * e < 0 && this.value.reset();\n        }\n      }\n\n      this.time.update(e), this.value.update(t);\n    }\n  }\n\n  reset() {\n    this.value.reset(), this.time.reset();\n  }\n\n  evaluateMomentum() {\n    if (!this.enabled || !this.value.hasFilteredDelta() || !this.time.hasFilteredDelta()) return null;\n    let e = this.value.filteredDelta / this.time.filteredDelta;\n    return e = t(e, -this._maxVelocity, this._maxVelocity), Math.abs(e) < this._minimumInitialVelocity ? null : this.createMomentum(e, this._stopVelocity, this._friction);\n  }\n\n  createMomentum(t, e, s) {\n    return new i(t, e, s);\n  }\n\n}\n\nexport { s as MomentumEstimator };","map":{"version":3,"names":["clamp","t","FilteredFiniteDifference","e","Momentum","i","s","constructor","l","_minimumInitialVelocity","_stopVelocity","_friction","_maxVelocity","enabled","value","time","add","hasLastValue","computeDelta","hasFilteredDelta","filteredDelta","reset","update","evaluateMomentum","Math","abs","createMomentum","MomentumEstimator"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/navigation/MomentumEstimator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{FilteredFiniteDifference as e}from\"./FilteredFiniteDifference.js\";import{Momentum as i}from\"./Momentum.js\";class s{constructor(t=2.5,i=.01,s=.95,l=12){this._minimumInitialVelocity=t,this._stopVelocity=i,this._friction=s,this._maxVelocity=l,this.enabled=!0,this.value=new e(.8),this.time=new e(.3)}add(t,e){if(this.enabled&&null!=e){if(this.time.hasLastValue()){if(this.time.computeDelta(e)<.01)return;if(this.value.hasFilteredDelta()){const e=this.value.computeDelta(t);this.value.filteredDelta*e<0&&this.value.reset()}}this.time.update(e),this.value.update(t)}}reset(){this.value.reset(),this.time.reset()}evaluateMomentum(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;let e=this.value.filteredDelta/this.time.filteredDelta;return e=t(e,-this._maxVelocity,this._maxVelocity),Math.abs(e)<this._minimumInitialVelocity?null:this.createMomentum(e,this._stopVelocity,this._friction)}createMomentum(t,e,s){return new i(t,e,s)}}export{s as MomentumEstimator};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,KAAK,IAAIC,CAAhB,QAAsB,yBAAtB;AAAgD,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,+BAAzC;AAAyE,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,eAAzB;;AAAyC,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACN,CAAC,GAAC,GAAH,EAAOI,CAAC,GAAC,GAAT,EAAaC,CAAC,GAAC,GAAf,EAAmBE,CAAC,GAAC,EAArB,EAAwB;IAAC,KAAKC,uBAAL,GAA6BR,CAA7B,EAA+B,KAAKS,aAAL,GAAmBL,CAAlD,EAAoD,KAAKM,SAAL,GAAeL,CAAnE,EAAqE,KAAKM,YAAL,GAAkBJ,CAAvF,EAAyF,KAAKK,OAAL,GAAa,CAAC,CAAvG,EAAyG,KAAKC,KAAL,GAAW,IAAIX,CAAJ,CAAM,EAAN,CAApH,EAA8H,KAAKY,IAAL,GAAU,IAAIZ,CAAJ,CAAM,EAAN,CAAxI;EAAkJ;;EAAAa,GAAG,CAACf,CAAD,EAAGE,CAAH,EAAK;IAAC,IAAG,KAAKU,OAAL,IAAc,QAAMV,CAAvB,EAAyB;MAAC,IAAG,KAAKY,IAAL,CAAUE,YAAV,EAAH,EAA4B;QAAC,IAAG,KAAKF,IAAL,CAAUG,YAAV,CAAuBf,CAAvB,IAA0B,GAA7B,EAAiC;;QAAO,IAAG,KAAKW,KAAL,CAAWK,gBAAX,EAAH,EAAiC;UAAC,MAAMhB,CAAC,GAAC,KAAKW,KAAL,CAAWI,YAAX,CAAwBjB,CAAxB,CAAR;UAAmC,KAAKa,KAAL,CAAWM,aAAX,GAAyBjB,CAAzB,GAA2B,CAA3B,IAA8B,KAAKW,KAAL,CAAWO,KAAX,EAA9B;QAAiD;MAAC;;MAAA,KAAKN,IAAL,CAAUO,MAAV,CAAiBnB,CAAjB,GAAoB,KAAKW,KAAL,CAAWQ,MAAX,CAAkBrB,CAAlB,CAApB;IAAyC;EAAC;;EAAAoB,KAAK,GAAE;IAAC,KAAKP,KAAL,CAAWO,KAAX,IAAmB,KAAKN,IAAL,CAAUM,KAAV,EAAnB;EAAqC;;EAAAE,gBAAgB,GAAE;IAAC,IAAG,CAAC,KAAKV,OAAN,IAAe,CAAC,KAAKC,KAAL,CAAWK,gBAAX,EAAhB,IAA+C,CAAC,KAAKJ,IAAL,CAAUI,gBAAV,EAAnD,EAAgF,OAAO,IAAP;IAAY,IAAIhB,CAAC,GAAC,KAAKW,KAAL,CAAWM,aAAX,GAAyB,KAAKL,IAAL,CAAUK,aAAzC;IAAuD,OAAOjB,CAAC,GAACF,CAAC,CAACE,CAAD,EAAG,CAAC,KAAKS,YAAT,EAAsB,KAAKA,YAA3B,CAAH,EAA4CY,IAAI,CAACC,GAAL,CAAStB,CAAT,IAAY,KAAKM,uBAAjB,GAAyC,IAAzC,GAA8C,KAAKiB,cAAL,CAAoBvB,CAApB,EAAsB,KAAKO,aAA3B,EAAyC,KAAKC,SAA9C,CAAjG;EAA0J;;EAAAe,cAAc,CAACzB,CAAD,EAAGE,CAAH,EAAKG,CAAL,EAAO;IAAC,OAAO,IAAID,CAAJ,CAAMJ,CAAN,EAAQE,CAAR,EAAUG,CAAV,CAAP;EAAoB;;AAAv1B;;AAAw1B,SAAOA,CAAC,IAAIqB,iBAAZ"},"metadata":{},"sourceType":"module"}