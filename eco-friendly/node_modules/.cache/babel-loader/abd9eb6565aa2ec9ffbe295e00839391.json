{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport { makeHandle as e } from \"../core/handleUtils.js\";\nimport { watch as o } from \"../core/reactiveUtils.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport r from \"../widgets/Widget.js\";\nimport { isWidget as n } from \"../widgets/support/widget.js\";\nimport { createFocusTrap as a } from \"focus-trap\";\nimport { tsx as c } from \"../widgets/support/jsxFactory.js\";\nimport { messageBundle as d } from \"../widgets/support/decorators/messageBundle.js\";\nconst l = {\n  base: \"esri-identity-modal\",\n  open: \"esri-identity-modal--open\",\n  closed: \"esri-identity-modal--closed\",\n  title: \"esri-identity-modal__title\",\n  dialog: \"esri-identity-modal__dialog\",\n  content: \"esri-identity-modal__content\",\n  closeButton: \"esri-identity-modal__close-button\",\n  iconClose: \"esri-icon-close\"\n};\nlet p = class extends r {\n  constructor(t, e) {\n    super(t, e), this.container = document.createElement(\"div\"), this.content = null, this.open = !1, this._focusTrap = null, this._close = () => {\n      this.open = !1;\n    }, document.body.appendChild(this.container), this.addHandles(o(() => this.open, () => this._toggleFocusTrap()));\n  }\n\n  destroy() {\n    this._destroyFocusTrap();\n  }\n\n  get title() {\n    return this.messages?.auth.signIn;\n  }\n\n  render() {\n    const t = this.id,\n          {\n      open: e,\n      content: o,\n      title: s,\n      messages: i\n    } = this,\n          r = e && !!o,\n          n = {\n      [l.open]: r,\n      [l.closed]: !r\n    },\n          a = c(\"button\", {\n      class: l.closeButton,\n      \"aria-label\": i.close,\n      title: i.close,\n      bind: this,\n      onclick: this._close,\n      type: \"button\"\n    }, c(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: l.iconClose\n    })),\n          d = `${t}_title`,\n          p = `${t}_content`,\n          u = s ? c(\"h1\", {\n      id: d,\n      class: l.title\n    }, s) : null,\n          m = r ? c(\"div\", {\n      bind: this,\n      class: l.dialog,\n      role: \"dialog\",\n      \"aria-labelledby\": d,\n      \"aria-describedby\": p,\n      afterCreate: this._createFocusTrap\n    }, a, u, this._renderContent(p)) : null;\n    return c(\"div\", {\n      tabIndex: -1,\n      class: this.classes(l.base, n)\n    }, m);\n  }\n\n  _destroyFocusTrap() {\n    this._focusTrap?.deactivate({\n      onDeactivate: () => {}\n    }), this._focusTrap = null;\n  }\n\n  _toggleFocusTrap() {\n    const {\n      _focusTrap: t,\n      open: e\n    } = this;\n    t && (e ? t.activate() : t.deactivate());\n  }\n\n  _createFocusTrap(t) {\n    this._destroyFocusTrap();\n\n    const o = requestAnimationFrame(() => {\n      this._focusTrap = a(t, {\n        initialFocus: \"input\",\n        onDeactivate: this._close\n      }), this._toggleFocusTrap();\n    });\n    this.addHandles(e(() => cancelAnimationFrame(o)));\n  }\n\n  _renderContent(t) {\n    const e = this.content;\n    return \"string\" == typeof e ? c(\"div\", {\n      class: l.content,\n      id: t,\n      innerHTML: e\n    }) : n(e) ? c(\"div\", {\n      class: l.content,\n      id: t\n    }, e.render()) : e instanceof HTMLElement ? c(\"div\", {\n      class: l.content,\n      id: t,\n      bind: e,\n      afterCreate: this._attachToNode\n    }) : null;\n  }\n\n  _attachToNode(t) {\n    const e = this;\n    t.appendChild(e);\n  }\n\n};\nt([s({\n  readOnly: !0\n})], p.prototype, \"container\", void 0), t([s()], p.prototype, \"content\", void 0), t([s()], p.prototype, \"open\", void 0), t([s(), d(\"esri/t9n/common\")], p.prototype, \"messages\", void 0), t([s()], p.prototype, \"title\", null), p = t([i(\"esri.identity.IdentityModal\")], p);\nconst u = p;\nexport { u as default };","map":{"version":3,"names":["_","t","makeHandle","e","watch","o","property","s","subclass","i","r","isWidget","n","createFocusTrap","a","tsx","c","messageBundle","d","l","base","open","closed","title","dialog","content","closeButton","iconClose","p","constructor","container","document","createElement","_focusTrap","_close","body","appendChild","addHandles","_toggleFocusTrap","destroy","_destroyFocusTrap","messages","auth","signIn","render","id","class","close","bind","onclick","type","u","m","role","afterCreate","_createFocusTrap","_renderContent","tabIndex","classes","deactivate","onDeactivate","activate","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","HTMLElement","_attachToNode","readOnly","prototype","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/identity/IdentityModal.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{watch as o}from\"../core/reactiveUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import r from\"../widgets/Widget.js\";import{isWidget as n}from\"../widgets/support/widget.js\";import{createFocusTrap as a}from\"focus-trap\";import{tsx as c}from\"../widgets/support/jsxFactory.js\";import{messageBundle as d}from\"../widgets/support/decorators/messageBundle.js\";const l={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let p=class extends r{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._focusTrap=null,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.addHandles(o((()=>this.open),(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}get title(){return this.messages?.auth.signIn}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[l.open]:r,[l.closed]:!r},a=c(\"button\",{class:l.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close,type:\"button\"},c(\"span\",{\"aria-hidden\":\"true\",class:l.iconClose})),d=`${t}_title`,p=`${t}_content`,u=s?c(\"h1\",{id:d,class:l.title},s):null,m=r?c(\"div\",{bind:this,class:l.dialog,role:\"dialog\",\"aria-labelledby\":d,\"aria-describedby\":p,afterCreate:this._createFocusTrap},a,u,this._renderContent(p)):null;return c(\"div\",{tabIndex:-1,class:this.classes(l.base,n)},m)}_destroyFocusTrap(){this._focusTrap?.deactivate({onDeactivate:()=>{}}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=a(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.addHandles(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?c(\"div\",{class:l.content,id:t,innerHTML:e}):n(e)?c(\"div\",{class:l.content,id:t},e.render()):e instanceof HTMLElement?c(\"div\",{class:l.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([s({readOnly:!0})],p.prototype,\"container\",void 0),t([s()],p.prototype,\"content\",void 0),t([s()],p.prototype,\"open\",void 0),t([s(),d(\"esri/t9n/common\")],p.prototype,\"messages\",void 0),t([s()],p.prototype,\"title\",null),p=t([i(\"esri.identity.IdentityModal\")],p);const u=p;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}