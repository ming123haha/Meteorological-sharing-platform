{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";\nimport { SliceDraw as o } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as i } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { VertexColor as r } from \"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";\nimport { OutputHighlight as t } from \"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";\nimport { LineStipple as s } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";\nimport { symbolAlphaCutoff as l } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { addProjViewLocalOrigin as n } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { Float4PassUniform as a } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { FloatPassUniform as d } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as p } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as c } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { VertexAttribute as g } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\n\nfunction m(m) {\n  const u = new c();\n  u.include(i), u.include(r, m), u.include(s, m), n(u, m);\n  const {\n    vertex: v,\n    fragment: h\n  } = u;\n  return m.stippleEnabled && (u.attributes.add(g.UV0, \"vec2\"), u.attributes.add(g.AUXPOS1, \"vec3\"), v.uniforms.add(new a(\"viewport\", (e, o) => o.camera.fullViewport))), u.attributes.add(g.POSITION, \"vec3\"), u.varyings.add(\"vpos\", \"vec3\"), v.code.add(p`void main(void) {\nvpos = position;\nforwardNormalizedVertexColor();\ngl_Position = transformPosition(proj, view, vpos);`), m.stippleEnabled && (v.code.add(p`vec4 vpos2 = transformPosition(proj, view, auxpos1);\nvec2 ndcToPixel = viewport.zw * 0.5;\nfloat lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);`), m.draped ? v.uniforms.add(new d(\"worldToScreenRatio\", (e, o) => 1 / o.screenToPCSRatio)) : v.code.add(p`vec3 segmentCenter = (position + auxpos1) * 0.5;\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`), v.code.add(p`float discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);`), m.draped ? v.code.add(p`float startPseudoScreen = uv0.y * discreteWorldToScreenRatio - mix(0.0, lineSegmentPixelSize, uv0.x);\nfloat segmentLengthPseudoScreen = lineSegmentPixelSize;`) : v.code.add(p`float segmentLengthRender = length(position - auxpos1);\nfloat startPseudoScreen = mix(uv0.y, uv0.y - segmentLengthRender, uv0.x) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`), v.code.add(p`vec2 stippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, lineSegmentPixelSize, stipplePatternPixelSize);\nvStippleDistance = mix(stippleDistanceLimits.x, stippleDistanceLimits.y, uv0.x);\nvStippleDistance *= gl_Position.w;`)), v.code.add(p`}`), m.output === e.Highlight && u.include(t), u.include(o, m), h.uniforms.add(new d(\"alphaCoverage\", (e, o) => Math.min(1, e.width * o.camera.pixelRatio))), m.hasVertexColors || h.uniforms.add(new a(\"constantColor\", e => e.color)), h.code.add(p`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${m.hasVertexColors ? \"vColor\" : \"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${p.float(l)}) {\n      discard;\n    }\n\n    ${m.output === e.Color ? p`gl_FragColor = highlightSlice(finalColor, vpos);` : \"\"}\n    ${m.output === e.Highlight ? p`outputHighlight();` : \"\"}\n  }\n  `), u;\n}\n\nconst u = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: m\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { u as N, m as b };","map":{"version":3,"names":["ShaderOutput","e","SliceDraw","o","Transform","i","VertexColor","r","OutputHighlight","t","LineStipple","s","symbolAlphaCutoff","l","addProjViewLocalOrigin","n","Float4PassUniform","a","FloatPassUniform","d","glsl","p","ShaderBuilder","c","VertexAttribute","g","m","u","include","vertex","v","fragment","h","stippleEnabled","attributes","add","UV0","AUXPOS1","uniforms","camera","fullViewport","POSITION","varyings","code","draped","screenToPCSRatio","output","Highlight","Math","min","width","pixelRatio","hasVertexColors","color","float","Color","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","N","b"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/chunks/NativeLine.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{VertexColor as r}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{LineStipple as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{addProjViewLocalOrigin as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function m(m){const u=new c;u.include(i),u.include(r,m),u.include(s,m),n(u,m);const{vertex:v,fragment:h}=u;return m.stippleEnabled&&(u.attributes.add(g.UV0,\"vec2\"),u.attributes.add(g.AUXPOS1,\"vec3\"),v.uniforms.add(new a(\"viewport\",((e,o)=>o.camera.fullViewport)))),u.attributes.add(g.POSITION,\"vec3\"),u.varyings.add(\"vpos\",\"vec3\"),v.code.add(p`void main(void) {\nvpos = position;\nforwardNormalizedVertexColor();\ngl_Position = transformPosition(proj, view, vpos);`),m.stippleEnabled&&(v.code.add(p`vec4 vpos2 = transformPosition(proj, view, auxpos1);\nvec2 ndcToPixel = viewport.zw * 0.5;\nfloat lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);`),m.draped?v.uniforms.add(new d(\"worldToScreenRatio\",((e,o)=>1/o.screenToPCSRatio))):v.code.add(p`vec3 segmentCenter = (position + auxpos1) * 0.5;\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),v.code.add(p`float discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);`),m.draped?v.code.add(p`float startPseudoScreen = uv0.y * discreteWorldToScreenRatio - mix(0.0, lineSegmentPixelSize, uv0.x);\nfloat segmentLengthPseudoScreen = lineSegmentPixelSize;`):v.code.add(p`float segmentLengthRender = length(position - auxpos1);\nfloat startPseudoScreen = mix(uv0.y, uv0.y - segmentLengthRender, uv0.x) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),v.code.add(p`vec2 stippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, lineSegmentPixelSize, stipplePatternPixelSize);\nvStippleDistance = mix(stippleDistanceLimits.x, stippleDistanceLimits.y, uv0.x);\nvStippleDistance *= gl_Position.w;`)),v.code.add(p`}`),m.output===e.Highlight&&u.include(t),u.include(o,m),h.uniforms.add(new d(\"alphaCoverage\",((e,o)=>Math.min(1,e.width*o.camera.pixelRatio)))),m.hasVertexColors||h.uniforms.add(new a(\"constantColor\",(e=>e.color))),h.code.add(p`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${m.hasVertexColors?\"vColor\":\"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${p.float(l)}) {\n      discard;\n    }\n\n    ${m.output===e.Color?p`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${m.output===e.Highlight?p`outputHighlight();`:\"\"}\n  }\n  `),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:\"Module\"}));export{u as N,m as b};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}