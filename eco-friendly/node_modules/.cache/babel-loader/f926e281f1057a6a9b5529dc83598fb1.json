{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as l } from \"../../../core/maybe.js\";\nimport { getFeatureEditFields as p, fixFields as t } from \"../../../layers/support/fieldUtils.js\";\n\nasync function d(l, d = l.popupTemplate) {\n  if (e(d)) return [];\n  const s = await d.getRequiredFields(l.fieldsIndex),\n        {\n    lastEditInfoEnabled: i\n  } = d,\n        {\n    objectIdField: n,\n    typeIdField: u,\n    globalIdField: a,\n    relationships: o\n  } = l;\n  if (s.includes(\"*\")) return [\"*\"];\n  const r = i ? await p(l) : [],\n        f = t(l.fieldsIndex, [...s, ...r]);\n  return u && f.push(u), f && n && l.fieldsIndex.has(n) && !f.includes(n) && f.push(n), f && a && l.fieldsIndex.has(a) && !f.includes(a) && f.push(a), o && o.forEach(e => {\n    const {\n      keyField: p\n    } = e;\n    f && p && l.fieldsIndex.has(p) && !f.includes(p) && f.push(p);\n  }), f;\n}\n\nfunction s(e, p) {\n  return e.popupTemplate ? e.popupTemplate : l(p) && p.defaultPopupTemplateEnabled && l(e.defaultPopupTemplate) ? e.defaultPopupTemplate : null;\n}\n\nexport { s as getFetchPopupTemplate, d as getRequiredFields };","map":{"version":3,"names":["isNone","e","isSome","l","getFeatureEditFields","p","fixFields","t","d","popupTemplate","s","getRequiredFields","fieldsIndex","lastEditInfoEnabled","i","objectIdField","n","typeIdField","u","globalIdField","a","relationships","o","includes","r","f","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","getFetchPopupTemplate"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,wBAAnC;AAA4D,SAAOC,oBAAoB,IAAIC,CAA/B,EAAiCC,SAAS,IAAIC,CAA9C,QAAoD,uCAApD;;AAA4F,eAAeC,CAAf,CAAiBL,CAAjB,EAAmBK,CAAC,GAACL,CAAC,CAACM,aAAvB,EAAqC;EAAC,IAAGR,CAAC,CAACO,CAAD,CAAJ,EAAQ,OAAM,EAAN;EAAS,MAAME,CAAC,GAAC,MAAMF,CAAC,CAACG,iBAAF,CAAoBR,CAAC,CAACS,WAAtB,CAAd;EAAA,MAAiD;IAACC,mBAAmB,EAACC;EAArB,IAAwBN,CAAzE;EAAA,MAA2E;IAACO,aAAa,EAACC,CAAf;IAAiBC,WAAW,EAACC,CAA7B;IAA+BC,aAAa,EAACC,CAA7C;IAA+CC,aAAa,EAACC;EAA7D,IAAgEnB,CAA3I;EAA6I,IAAGO,CAAC,CAACa,QAAF,CAAW,GAAX,CAAH,EAAmB,OAAM,CAAC,GAAD,CAAN;EAAY,MAAMC,CAAC,GAACV,CAAC,GAAC,MAAMT,CAAC,CAACF,CAAD,CAAR,GAAY,EAArB;EAAA,MAAwBsB,CAAC,GAAClB,CAAC,CAACJ,CAAC,CAACS,WAAH,EAAe,CAAC,GAAGF,CAAJ,EAAM,GAAGc,CAAT,CAAf,CAA3B;EAAuD,OAAON,CAAC,IAAEO,CAAC,CAACC,IAAF,CAAOR,CAAP,CAAH,EAAaO,CAAC,IAAET,CAAH,IAAMb,CAAC,CAACS,WAAF,CAAce,GAAd,CAAkBX,CAAlB,CAAN,IAA4B,CAACS,CAAC,CAACF,QAAF,CAAWP,CAAX,CAA7B,IAA4CS,CAAC,CAACC,IAAF,CAAOV,CAAP,CAAzD,EAAmES,CAAC,IAAEL,CAAH,IAAMjB,CAAC,CAACS,WAAF,CAAce,GAAd,CAAkBP,CAAlB,CAAN,IAA4B,CAACK,CAAC,CAACF,QAAF,CAAWH,CAAX,CAA7B,IAA4CK,CAAC,CAACC,IAAF,CAAON,CAAP,CAA/G,EAAyHE,CAAC,IAAEA,CAAC,CAACM,OAAF,CAAW3B,CAAC,IAAE;IAAC,MAAK;MAAC4B,QAAQ,EAACxB;IAAV,IAAaJ,CAAlB;IAAoBwB,CAAC,IAAEpB,CAAH,IAAMF,CAAC,CAACS,WAAF,CAAce,GAAd,CAAkBtB,CAAlB,CAAN,IAA4B,CAACoB,CAAC,CAACF,QAAF,CAAWlB,CAAX,CAA7B,IAA4CoB,CAAC,CAACC,IAAF,CAAOrB,CAAP,CAA5C;EAAsD,CAAzF,CAA5H,EAAwNoB,CAA/N;AAAiO;;AAAA,SAASf,CAAT,CAAWT,CAAX,EAAaI,CAAb,EAAe;EAAC,OAAOJ,CAAC,CAACQ,aAAF,GAAgBR,CAAC,CAACQ,aAAlB,GAAgCN,CAAC,CAACE,CAAD,CAAD,IAAMA,CAAC,CAACyB,2BAAR,IAAqC3B,CAAC,CAACF,CAAC,CAAC8B,oBAAH,CAAtC,GAA+D9B,CAAC,CAAC8B,oBAAjE,GAAsF,IAA7H;AAAkI;;AAAA,SAAOrB,CAAC,IAAIsB,qBAAZ,EAAkCxB,CAAC,IAAIG,iBAAvC"},"metadata":{},"sourceType":"module"}