{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as s } from \"../../../../core/maybe.js\";\nimport { c as r } from \"../../../../chunks/mat4.js\";\nimport { c as t } from \"../../../../chunks/mat4f64.js\";\nimport { VisualElement as i } from \"./VisualElement.js\";\nimport { UpdatePolicy as o } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Object3D as a } from \"../../webgl-engine/lib/Object3D.js\";\nimport { WebGLLayer as c } from \"../../webgl-engine/lib/WebGLLayer.js\";\n\nclass n extends i {\n  constructor(e) {\n    super(e.view), this._resources = null, this._transform = t();\n  }\n\n  get object() {\n    return e(this._resources) ? this._resources.object : null;\n  }\n\n  get transform() {\n    return this._transform;\n  }\n\n  set transform(s) {\n    r(this._transform, s), e(this._resources) && (this._resources.object.transformation = this._transform);\n  }\n\n  recreate() {\n    this.attached && this.createResources();\n  }\n\n  recreateGeometry() {\n    if (s(this._resources)) return;\n    const e = this._resources.object,\n          r = this.view._stage;\n    r.removeMany(e.geometries), e.removeAllGeometries(), this.createGeometries(e), this.visible || e.setVisible(this.visible), r.addMany(e.geometries);\n  }\n\n  createResources() {\n    this.destroyResources();\n    const e = this.view._stage;\n    if (!e) return;\n    const s = new c({\n      isPickable: !1,\n      updatePolicy: o.SYNC\n    });\n    e.add(s);\n    const r = new a({\n      castShadow: !1\n    });\n    r.transformation = this._transform, this.createExternalResources(), this.createGeometries(r), e.addMany(r.geometries), this.forEachExternalMaterial(s => e.add(s)), e.add(r), s.add(r), this.visible || r.setVisible(!1), this._resources = {\n      layer: s,\n      object: r\n    };\n  }\n\n  destroyResources() {\n    const e = this.view._stage;\n    !s(this._resources) && e && (e.remove(this._resources.object), e.remove(this._resources.layer), this.forEachExternalMaterial(s => {\n      e.remove(s), s.dispose();\n    }), e.removeMany(this._resources.object.geometries), this._resources.object.dispose(), this.destroyExternalResources(), this._resources = null);\n  }\n\n  updateVisibility(e) {\n    s(this._resources) || this._resources.object.setVisible(e);\n  }\n\n}\n\nexport { n as Object3DVisualElement };","map":{"version":3,"names":["isSome","e","isNone","s","c","r","t","VisualElement","i","UpdatePolicy","o","Object3D","a","WebGLLayer","n","constructor","view","_resources","_transform","object","transform","transformation","recreate","attached","createResources","recreateGeometry","_stage","removeMany","geometries","removeAllGeometries","createGeometries","visible","setVisible","addMany","destroyResources","isPickable","updatePolicy","SYNC","add","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","dispose","destroyExternalResources","updateVisibility","Object3DVisualElement"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}