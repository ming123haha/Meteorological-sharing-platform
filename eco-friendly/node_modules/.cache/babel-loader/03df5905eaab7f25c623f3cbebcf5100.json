{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../Color.js\";\nimport { bidiText as t } from \"../../core/BidiText.js\";\nimport { clone as r } from \"../../core/lang.js\";\nimport a from \"../../core/Logger.js\";\nimport { isSome as o, isNone as i } from \"../../core/maybe.js\";\nimport s from \"../../core/RandomLCG.js\";\nimport { pt2px as n, px2pt as l } from \"../../core/screenUtils.js\";\nimport { create as c, expandPointInPlace as f } from \"../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as m } from \"../../geometry/support/boundsUtils.js\";\nimport { createRendererExpression as y } from \"../../support/arcadeOnDemand.js\";\nimport { Placement as h } from \"./CIMPlacements.js\";\nimport { lineGapType2LineHeight as p, horizontalAlignment2HAlign as u, verticalAlignment2VAlign as M, EnvDrawHelper as d, Transformation as S, CanvasDrawHelper as b } from \"./CIMSymbolDrawHelper.js\";\nimport { LineCapStyle as C, LineJoinStyle as g, BlockProgression as I, FontEffects as k, FontEncoding as x, FontType as w, GlyphHinting as P, TextReadingDirection as v, VerticalGlyphOrientation as L, BillBoardMode as D, TextureFilter as F, ExtremityPlacement as G } from \"./enums.js\";\nimport { getValue as T, isCIMMarkerStrokePlacement as z, attributesToFields as O, analyzeTextParts as A, assignTextValuesFromFeature as E, isGeometryEngineRequired as N, importGeometryEngine as R } from \"./utils.js\";\nimport j from \"../../views/2d/arcade/callExpressionWithFeature.js\";\nimport { C_INFINITY as V } from \"../../views/2d/engine/vectorTiles/GeometryUtils.js\";\nimport { GLYPH_SIZE as B, MAGIC_LABEL_LINE_HEIGHT as X, RANDOM_INSIDE_POLYGON_TEXTURE_SIZE as _ } from \"../../views/2d/engine/webgl/definitions.js\";\nimport { shapeGlyphs as H } from \"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";\nconst Y = Math.PI,\n      $ = Y / 2,\n      U = 4,\n      q = 10,\n      W = 96 / 72,\n      J = Math.PI / 180,\n      K = a.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");\n\nfunction Q(e) {\n  if (!e || !e.type) return null;\n  let t;\n\n  switch (e.type) {\n    case \"cim\":\n      return e.data;\n\n    case \"web-style\":\n      return e;\n\n    case \"simple-marker\":\n      t = oe.fromSimpleMarker(e);\n      break;\n\n    case \"picture-marker\":\n      t = oe.fromPictureMarker(e);\n      break;\n\n    case \"simple-line\":\n      t = oe.fromSimpleLineSymbol(e);\n      break;\n\n    case \"simple-fill\":\n      t = oe.fromSimpleFillSymbol(e);\n      break;\n\n    case \"picture-fill\":\n      t = oe.fromPictureFillSymbol(e);\n      break;\n\n    case \"text\":\n      t = oe.fromTextSymbol(e);\n  }\n\n  return {\n    type: \"CIMSymbolReference\",\n    symbol: t\n  };\n}\n\nfunction Z(e, t, r) {\n  switch (t.type) {\n    case \"CIMSymbolReference\":\n      return Z(e, t.symbol, r);\n\n    case \"CIMPointSymbol\":\n      null == r && (r = {\n        x: 0,\n        y: 0\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMLineSymbol\":\n      null == r && (r = {\n        paths: [[[0, 0], [10, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMPolygonSymbol\":\n      null == r && (r = {\n        rings: [[[0, 0], [0, 10], [10, 10], [10, 0], [0, 0]]]\n      }), e.drawSymbol(t, r);\n      break;\n\n    case \"CIMTextSymbol\":\n      {\n        const r = {\n          x: 0,\n          y: 0\n        };\n        e.drawSymbol(t, r);\n        break;\n      }\n\n    case \"CIMVectorMarker\":\n      {\n        const r = new h();\n        e.drawMarker(t, r);\n        break;\n      }\n  }\n\n  return e.envelope();\n}\n\nfunction ee(e) {\n  if (!e) return 0;\n\n  switch (e.type) {\n    case \"CIMMarkerPlacementAlongLineSameSize\":\n    case \"CIMMarkerPlacementAlongLineRandomSize\":\n    case \"CIMMarkerPlacementAtExtremities\":\n    case \"CIMMarkerPlacementAtMeasuredUnits\":\n    case \"CIMMarkerPlacementAtRatioPositions\":\n    case \"CIMMarkerPlacementOnLine\":\n    case \"CIMMarkerPlacementOnVertices\":\n      return Math.abs(e.offset);\n\n    default:\n      return 0;\n  }\n}\n\nfunction te(e) {\n  if (!e) return 0;\n\n  switch (e.type) {\n    case \"CIMGeometricEffectArrow\":\n      return Math.abs(.5 * e.width);\n\n    case \"CIMGeometricEffectBuffer\":\n      return Math.abs(e.size);\n\n    case \"CIMGeometricEffectExtension\":\n    case \"CIMGeometricEffectRadial\":\n      return Math.abs(e.length);\n\n    case \"CIMGeometricEffectJog\":\n      return Math.abs(.5 * e.length);\n\n    case \"CIMGeometricEffectMove\":\n      return Math.max(Math.abs(T(e.offsetX)), Math.abs(T(e.offsetY)));\n\n    case \"CIMGeometricEffectOffset\":\n    case \"CIMGeometricEffectOffsetTangent\":\n      return Math.abs(e.offset);\n\n    case \"CIMGeometricEffectRegularPolygon\":\n      return Math.abs(e.radius);\n\n    case \"CIMGeometricEffectRotate\":\n    case \"CIMGeometricEffectScale\":\n    default:\n      return 0;\n\n    case \"CIMGeometricEffectTaperedPolygon\":\n      return .5 * Math.max(Math.abs(e.fromWidth), Math.abs(e.toWidth));\n\n    case \"CIMGeometricEffectWave\":\n      return Math.abs(e.amplitude);\n  }\n}\n\nfunction re(e) {\n  if (!e) return 0;\n  let t = 0;\n\n  for (const r of e) t += te(r);\n\n  return t;\n}\n\nclass ae {\n  getSymbolInflateSize(e, t, r, a, o) {\n    return e || (e = [0, 0, 0, 0]), t ? this._getInflateSize(e, t, r, a, o) : e;\n  }\n\n  static safeSize(e) {\n    const t = Math.max(Math.abs(e[0]), Math.abs(e[2])),\n          r = Math.max(Math.abs(e[1]), Math.abs(e[3]));\n    return Math.sqrt(t * t + r * r);\n  }\n\n  _vectorMarkerBounds(e, t, r, a) {\n    let o = !0;\n    const i = c();\n    if (t && t.markerGraphics) for (const s of t.markerGraphics) {\n      const t = [0, 0, 0, 0];\n      s.geometry && (m(i, s.geometry), t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, this.getSymbolInflateSize(t, s.symbol, r, 0, a), i[0] += t[0], i[1] += t[1], i[2] += t[2], i[3] += t[3], o ? (e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], o = !1) : (e[0] = Math.min(e[0], i[0]), e[1] = Math.min(e[1], i[1]), e[2] = Math.max(e[2], i[2]), e[3] = Math.max(e[3], i[3])));\n    }\n    return e;\n  }\n\n  _getInflateSize(e, t, r, a, o) {\n    if (ue(t)) {\n      const i = this._getLayersInflateSize(e, t.symbolLayers, r, a, o),\n            s = re(t.effects);\n\n      return s > 0 && (i[0] -= s, i[1] -= s, i[2] += s, i[3] += s), i;\n    }\n\n    return this._getTextInflatedSize(e, t, o);\n  }\n\n  _getLayersInflateSize(e, t, r, a, i) {\n    let s = !0;\n    if (!t) return e;\n\n    for (const n of t) {\n      if (!n) continue;\n      let t = [0, 0, 0, 0];\n\n      switch (n.type) {\n        case \"CIMSolidFill\":\n        case \"CIMPictureFill\":\n        case \"CIMHatchFill\":\n        case \"CIMGradientFill\":\n          break;\n\n        case \"CIMSolidStroke\":\n        case \"CIMPictureStroke\":\n        case \"CIMGradientStroke\":\n          {\n            const e = n;\n            let r = e.width;\n            e.capStyle === C.Square || e.joinStyle === g.Miter ? r /= 1.4142135623730951 : r /= 2, t[0] = -r, t[1] = -r, t[2] = r, t[3] = r;\n            break;\n          }\n\n        case \"CIMCharacterMarker\":\n        case \"CIMVectorMarker\":\n        case \"CIMPictureMarker\":\n          {\n            const e = n;\n\n            if (\"CIMVectorMarker\" === n.type) {\n              const e = n;\n\n              if (t = this._vectorMarkerBounds(t, e, r, i), e.frame) {\n                const r = (e.frame.xmin + e.frame.xmax) / 2,\n                      a = (e.frame.ymin + e.frame.ymax) / 2;\n                t[0] -= r, t[1] -= a, t[2] -= r, t[3] -= a;\n                const o = e.size / (e.frame.ymax - e.frame.ymin);\n                t[0] *= o, t[1] *= o, t[2] *= o, t[3] *= o;\n              }\n            } else if (\"CIMPictureMarker\" === n.type) {\n              const a = n,\n                    i = r.getResource(a.url);\n              let s = 1;\n              o(i) && i.height && (s = i.width / i.height);\n              const l = e.size / 2,\n                    c = e.size * s * a.scaleX / 2;\n              t = [-c, -l, c, l];\n            } else {\n              const r = e.size / 2;\n              t = [-r, -r, r, r];\n            }\n\n            if (e.anchorPoint) {\n              let r, a;\n              \"Absolute\" === e.anchorPointUnits ? (r = e.anchorPoint.x, a = e.anchorPoint.y) : (r = e.anchorPoint.x * (t[2] - t[0]), a = e.anchorPoint.y * (t[3] - t[1])), t[0] -= r, t[1] -= a, t[2] -= r, t[3] -= a;\n            }\n\n            let s = T(e.rotation);\n\n            if (e.rotateClockwise && (s = -s), a && (s -= a), s) {\n              const e = J * s,\n                    r = Math.cos(e),\n                    a = Math.sin(e),\n                    o = c([V, V, -V, -V]);\n              f(o, [t[0] * r - t[1] * a, t[0] * a + t[1] * r]), f(o, [t[0] * r - t[3] * a, t[0] * a + t[3] * r]), f(o, [t[2] * r - t[1] * a, t[2] * a + t[1] * r]), f(o, [t[2] * r - t[3] * a, t[2] * a + t[3] * r]), t = o;\n            }\n\n            let l = T(e.offsetX),\n                m = T(e.offsetY);\n\n            if (a) {\n              const e = J * a,\n                    t = Math.cos(e),\n                    r = Math.sin(e),\n                    o = l * r + m * t;\n              l = l * t - m * r, m = o;\n            }\n\n            t[0] += l, t[1] += m, t[2] += l, t[3] += m;\n            const y = ee(e.markerPlacement);\n            y > 0 && (t[0] -= y, t[1] -= y, t[2] += y, t[3] += y);\n            break;\n          }\n      }\n\n      const l = re(n.effects);\n      l > 0 && (t[0] -= l, t[1] -= l, t[2] += l, t[3] += l), s ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], s = !1) : (e[0] = Math.min(e[0], t[0]), e[1] = Math.min(e[1], t[1]), e[2] = Math.max(e[2], t[2]), e[3] = Math.max(e[3], t[3]));\n    }\n\n    return e;\n  }\n\n  _getTextInflatedSize(e, r, a) {\n    const o = r.height ?? q;\n    if (e[0] = -o / 2, e[1] = -o / 2, e[2] = o / 2, e[3] = o / 2, !a) return e;\n    const i = a.get(r);\n    if (!i) return e;\n    const {\n      text: s,\n      mosaicItem: n\n    } = i;\n    if (!n || 0 === n.glyphMosaicItems.length) return e;\n    const l = p(r.lineGapType, r.lineGap ?? 0, o),\n          c = t(s)[1],\n          f = n.glyphMosaicItems,\n          m = H(f, c, {\n      scale: o / B,\n      angle: T(r.angle),\n      xOffset: T(r.offsetX),\n      yOffset: T(r.offsetY),\n      hAlign: u(r.horizontalAlignment),\n      vAlign: M(r.verticalAlignment),\n      maxLineWidth: 512,\n      lineHeight: X * Math.max(.25, Math.min(l || 1, 4)),\n      decoration: r.font.decoration || \"none\",\n      isCIM: !0\n    }).boundsT;\n    return e[0] = m.x - m.halfWidth, e[1] = -m.y - m.halfHeight, e[2] = m.x + m.halfWidth, e[3] = -m.y + m.halfHeight, e;\n  }\n\n}\n\nclass oe {\n  static getEnvelope(e, t, r) {\n    const a = new d(r);\n\n    if (Array.isArray(e)) {\n      let r;\n\n      for (const o of e) r ? r.union(Z(a, o, t)) : r = Z(a, o, t);\n\n      return r;\n    }\n\n    return Z(a, e, t);\n  }\n\n  static getTextureAnchor(e, t) {\n    const r = this.getEnvelope(e, null, t);\n    if (!r) return [0, 0, 0];\n    const a = (r.x + .5 * r.width) * W,\n          o = (r.y + .5 * r.height) * W,\n          i = r.width * W + 2,\n          s = r.height * W + 2;\n    return [-a / i, -o / s, s];\n  }\n\n  static rasterize(e, t, r, a, o = !0) {\n    const i = r || this.getEnvelope(t, null, a);\n    if (!i) return [null, 0, 0, 0, 0];\n    const s = (i.x + .5 * i.width) * W,\n          n = (i.y + .5 * i.height) * W;\n    e.width = i.width * W, e.height = i.height * W, r || (e.width += 2, e.height += 2);\n    const l = e.getContext(\"2d\"),\n          c = S.createScale(W, -W);\n    c.translate(.5 * e.width - s, .5 * e.height + n);\n    const f = new b(l, a, c);\n\n    switch (t.type) {\n      case \"CIMPointSymbol\":\n        {\n          const e = {\n            type: \"point\",\n            x: 0,\n            y: 0\n          };\n          f.drawSymbol(t, e);\n          break;\n        }\n\n      case \"CIMVectorMarker\":\n        {\n          const e = new h();\n          f.drawMarker(t, e);\n          break;\n        }\n    }\n\n    const m = l.getImageData(0, 0, e.width, e.height),\n          y = new Uint8Array(m.data);\n\n    if (o) {\n      let e;\n\n      for (let t = 0; t < y.length; t += 4) e = y[t + 3] / 255, y[t] = y[t] * e, y[t + 1] = y[t + 1] * e, y[t + 2] = y[t + 2] * e;\n    }\n\n    return [y, e.width, e.height, -s / e.width, -n / e.height];\n  }\n\n  static fromTextSymbol(e) {\n    const {\n      angle: r,\n      color: a,\n      font: o,\n      haloColor: i,\n      haloSize: s,\n      horizontalAlignment: n,\n      kerning: l,\n      text: c,\n      verticalAlignment: f,\n      xoffset: m,\n      yoffset: y\n    } = e;\n    let h, p, u, M, d;\n    o && (h = o.family, p = o.style, u = o.weight, M = o.size, d = o.decoration);\n    let S = !1;\n\n    if (c) {\n      S = t(c)[1];\n    }\n\n    return {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMVectorMarker\",\n        enable: !0,\n        anchorPointUnits: \"Relative\",\n        dominantSizeAxis3D: \"Y\",\n        size: 10,\n        billboardMode3D: \"FaceNearPlane\",\n        frame: {\n          xmin: -5,\n          ymin: -5,\n          xmax: 5,\n          ymax: 5\n        },\n        markerGraphics: [{\n          type: \"CIMMarkerGraphic\",\n          geometry: {\n            x: 0,\n            y: 0\n          },\n          symbol: {\n            type: \"CIMTextSymbol\",\n            angle: r,\n            blockProgression: I.BTT,\n            depth3D: 1,\n            extrapolateBaselines: !0,\n            fontEffects: k.Normal,\n            fontEncoding: x.Unicode,\n            fontFamilyName: h || \"Arial\",\n            fontStyleName: me(p, u),\n            fontType: w.Unspecified,\n            haloSize: s,\n            height: M,\n            hinting: P.Default,\n            horizontalAlignment: le(n ?? \"center\"),\n            kerning: l,\n            letterWidth: 100,\n            ligatures: !0,\n            lineGapType: \"Multiple\",\n            offsetX: T(m),\n            offsetY: T(y),\n            strikethrough: \"line-through\" === d,\n            underline: \"underline\" === d,\n            symbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: [{\n                type: \"CIMSolidFill\",\n                enable: !0,\n                color: fe(a)\n              }]\n            },\n            haloSymbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: [{\n                type: \"CIMSolidFill\",\n                enable: !0,\n                color: fe(i)\n              }]\n            },\n            shadowColor: [0, 0, 0, 255],\n            shadowOffsetX: 1,\n            shadowOffsetY: 1,\n            textCase: \"Normal\",\n            textDirection: S ? v.RTL : v.LTR,\n            verticalAlignment: ce(f ?? \"baseline\"),\n            verticalGlyphOrientation: L.Right,\n            wordSpacing: 100,\n            billboardMode3D: D.FaceNearPlane\n          },\n          textString: c\n        }],\n        scaleSymbolsProportionally: !0,\n        respectFrame: !0\n      }],\n      scaleX: 1,\n      angleAlignment: \"Display\"\n    };\n  }\n\n  static fromPictureFillSymbol(e) {\n    const {\n      height: t,\n      outline: r,\n      width: a,\n      xoffset: o,\n      xscale: i,\n      yoffset: s,\n      yscale: n\n    } = e,\n          l = [],\n          c = {\n      type: \"CIMPolygonSymbol\",\n      symbolLayers: l\n    };\n\n    if (r) {\n      const {\n        cap: e,\n        join: t,\n        miterLimit: a,\n        width: o\n      } = r;\n      l.push({\n        type: \"CIMSolidStroke\",\n        color: fe(r.color),\n        capStyle: se(e),\n        joinStyle: ne(t),\n        miterLimit: a,\n        width: o\n      });\n    }\n\n    let f = e.url;\n    \"esriPFS\" === e.type && e.imageData && (f = e.imageData);\n    const m = \"angle\" in e ? e.angle : 0,\n          y = a * (i || 1),\n          h = t * (n || 1);\n    return l.push({\n      type: \"CIMPictureFill\",\n      invertBackfaceTexture: !1,\n      scaleX: 1,\n      textureFilter: F.Picture,\n      tintColor: null,\n      url: f,\n      height: h,\n      width: y,\n      offsetX: T(o),\n      offsetY: T(s),\n      rotation: T(-m),\n      colorSubstitutions: null\n    }), c;\n  }\n\n  static fromSimpleFillSymbol(e) {\n    const {\n      color: t,\n      style: a,\n      outline: o\n    } = e,\n          i = [],\n          s = {\n      type: \"CIMPolygonSymbol\",\n      symbolLayers: i\n    };\n    let n = null;\n\n    if (o) {\n      const {\n        cap: e,\n        join: t,\n        style: r\n      } = o;\n      \"solid\" !== r && \"none\" !== r && \"esriSLSSolid\" !== r && \"esriSLSNull\" !== r && (n = [{\n        type: \"CIMGeometricEffectDashes\",\n        dashTemplate: pe(r, e),\n        lineDashEnding: \"NoConstraint\",\n        scaleDash: !0,\n        offsetAlongLine: null\n      }]), i.push({\n        type: \"CIMSolidStroke\",\n        color: fe(o.color),\n        capStyle: se(e),\n        joinStyle: ne(t),\n        miterLimit: o.miterLimit,\n        width: o.width,\n        effects: n\n      });\n    }\n\n    if (a && \"solid\" !== a && \"none\" !== a && \"esriSFSSolid\" !== a && \"esriSFSNull\" !== a) {\n      const e = {\n        type: \"CIMLineSymbol\",\n        symbolLayers: [{\n          type: \"CIMSolidStroke\",\n          color: fe(t),\n          capStyle: C.Butt,\n          joinStyle: g.Miter,\n          width: .75\n        }]\n      };\n      let o = 0;\n      const s = l(de(a) ? 8 : 10);\n\n      switch (a) {\n        case \"vertical\":\n        case \"esriSFSVertical\":\n          o = 90;\n          break;\n\n        case \"forward-diagonal\":\n        case \"esriSFSForwardDiagonal\":\n        case \"diagonal-cross\":\n        case \"esriSFSDiagonalCross\":\n          o = -45;\n          break;\n\n        case \"backward-diagonal\":\n        case \"esriSFSBackwardDiagonal\":\n          o = 45;\n          break;\n\n        case \"cross\":\n        case \"esriSFSCross\":\n          o = 0;\n      }\n\n      i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: e,\n        offsetX: 0,\n        offsetY: 0,\n        rotation: o,\n        separation: s\n      }), \"cross\" === a || \"esriSFSCross\" === a ? i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: r(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 90,\n        separation: s\n      }) : \"diagonal-cross\" !== a && \"esriSFSDiagonalCross\" !== a || i.push({\n        type: \"CIMHatchFill\",\n        lineSymbol: r(e),\n        offsetX: 0,\n        offsetY: 0,\n        rotation: 45,\n        separation: s\n      });\n    } else !a || \"solid\" !== a && \"esriSFSSolid\" !== a || i.push({\n      type: \"CIMSolidFill\",\n      enable: !0,\n      color: fe(t)\n    });\n\n    return s;\n  }\n\n  static fromSimpleLineSymbol(e) {\n    const {\n      cap: t,\n      color: r,\n      join: a,\n      marker: o,\n      miterLimit: i,\n      style: s,\n      width: n\n    } = e;\n    let l = null;\n    \"solid\" !== s && \"none\" !== s && \"esriSLSSolid\" !== s && \"esriSLSNull\" !== s && (l = [{\n      type: \"CIMGeometricEffectDashes\",\n      dashTemplate: pe(s, t),\n      lineDashEnding: \"NoConstraint\",\n      scaleDash: !0,\n      offsetAlongLine: null\n    }]);\n    const c = [];\n\n    if (o) {\n      let e;\n\n      switch (o.placement) {\n        case \"begin-end\":\n          e = G.Both;\n          break;\n\n        case \"begin\":\n          e = G.JustBegin;\n          break;\n\n        case \"end\":\n          e = G.JustEnd;\n          break;\n\n        default:\n          e = G.None;\n      }\n\n      const t = oe.fromSimpleMarker(o, n, r).symbolLayers[0];\n      t.markerPlacement = {\n        type: \"CIMMarkerPlacementAtExtremities\",\n        angleToLine: !0,\n        offset: 0,\n        extremityPlacement: e,\n        offsetAlongLine: 0\n      }, c.push(t);\n    }\n\n    return \"none\" !== s && \"esriSLSNull\" !== s && c.push({\n      type: \"CIMSolidStroke\",\n      color: fe(r),\n      capStyle: se(t),\n      joinStyle: ne(a),\n      miterLimit: i,\n      width: n,\n      effects: l\n    }), {\n      type: \"CIMLineSymbol\",\n      symbolLayers: c\n    };\n  }\n\n  static fromPictureMarker(e) {\n    const {\n      angle: t,\n      height: r,\n      width: a,\n      xoffset: o,\n      yoffset: i\n    } = e;\n    let s = e.url;\n    return \"esriPMS\" === e.type && e.imageData && (s = e.imageData), {\n      type: \"CIMPointSymbol\",\n      symbolLayers: [{\n        type: \"CIMPictureMarker\",\n        invertBackfaceTexture: !1,\n        scaleX: 1,\n        textureFilter: F.Picture,\n        tintColor: null,\n        url: s,\n        size: r,\n        width: a,\n        offsetX: T(o),\n        offsetY: T(i),\n        rotation: T(-t)\n      }]\n    };\n  }\n\n  static fromSimpleMarker(e, t, r) {\n    const {\n      style: a\n    } = e,\n          o = e.color ?? r;\n\n    if (\"path\" === a) {\n      const t = [];\n\n      if (\"outline\" in e && e.outline) {\n        const r = e.outline;\n        t.push({\n          type: \"CIMSolidStroke\",\n          enable: !0,\n          width: n(Math.round(l(r.width))),\n          color: fe(r.color)\n        });\n      }\n\n      t.push({\n        type: \"CIMSolidFill\",\n        enable: !0,\n        color: fe(o),\n        path: e.path\n      });\n      const [r, a] = Me(\"square\");\n      return {\n        type: \"CIMPointSymbol\",\n        symbolLayers: [{\n          type: \"CIMVectorMarker\",\n          enable: !0,\n          rotation: T(-e.angle),\n          size: T(e.size || 6),\n          offsetX: T(e.xoffset),\n          offsetY: T(e.yoffset),\n          frame: r,\n          markerGraphics: [{\n            type: \"CIMMarkerGraphic\",\n            geometry: a,\n            symbol: {\n              type: \"CIMPolygonSymbol\",\n              symbolLayers: t\n            }\n          }]\n        }]\n      };\n    }\n\n    const [i, s] = Me(a);\n    let c;\n\n    if (s && i) {\n      const r = [];\n\n      if (\"outline\" in e && e.outline) {\n        const t = e.outline;\n        r.push({\n          type: \"CIMSolidStroke\",\n          enable: !0,\n          width: t.width > .667 ? n(Math.round(l(t.width))) : t.width,\n          color: fe(t.color)\n        });\n      } else !t || \"line-marker\" !== e.type || \"cross\" !== e.style && \"x\" !== e.style || r.push({\n        type: \"CIMSolidStroke\",\n        enable: !0,\n        width: t,\n        color: fe(o)\n      });\n\n      r.push({\n        type: \"CIMSolidFill\",\n        enable: !0,\n        color: fe(o)\n      });\n      const a = {\n        type: \"CIMPolygonSymbol\",\n        symbolLayers: r\n      };\n      c = {\n        type: \"CIMPointSymbol\",\n        symbolLayers: [{\n          type: \"CIMVectorMarker\",\n          enable: !0,\n          rotation: T(-e.angle),\n          size: T(e.size || 6 * t),\n          offsetX: T(e.xoffset),\n          offsetY: T(e.yoffset),\n          frame: i,\n          markerGraphics: [{\n            type: \"CIMMarkerGraphic\",\n            geometry: s,\n            symbol: a\n          }]\n        }]\n      };\n    }\n\n    return c;\n  }\n\n  static fromCIMHatchFill(e, t) {\n    const a = t * (e.separation ?? U),\n          o = a / 2,\n          i = 4,\n          s = r(e.lineSymbol);\n    let n = this._getLineSymbolPeriod(s) || i;\n\n    for (; n < i;) n *= 2;\n\n    const l = n / 2,\n          c = {\n      xmin: -l,\n      xmax: l,\n      ymin: -o,\n      ymax: o\n    },\n          f = s.symbolLayers.find(e => \"CIMSolidStroke\" === e.type);\n    f && (f.width *= t);\n    return {\n      type: \"CIMVectorMarker\",\n      frame: c,\n      markerGraphics: [{\n        type: \"CIMMarkerGraphic\",\n        geometry: {\n          paths: [[[-l, 0], [l, 0]]]\n        },\n        symbol: s\n      }],\n      size: a\n    };\n  }\n\n  static fetchResources(e, t, r) {\n    if (e && t) switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        {\n          const a = e.symbolLayers;\n          if (!a) return;\n\n          for (const e of a) switch (Ce(e, t, r), e.type) {\n            case \"CIMPictureFill\":\n            case \"CIMHatchFill\":\n            case \"CIMGradientFill\":\n            case \"CIMPictureStroke\":\n            case \"CIMGradientStroke\":\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n              \"url\" in e && e.url && r.push(t.fetchResource(e.url, null));\n              break;\n\n            case \"CIMVectorMarker\":\n              {\n                const a = e.markerGraphics;\n                if (!a) continue;\n\n                for (const e of a) if (e) {\n                  const a = e.symbol;\n                  a && oe.fetchResources(a, t, r);\n                }\n              }\n          }\n        }\n    }\n  }\n\n  static _getLineSymbolPeriod(e) {\n    if (e) {\n      const t = this._getEffectsRepeat(e.effects);\n\n      if (t) return t;\n      if (e.symbolLayers) for (const r of e.symbolLayers) if (r) {\n        const e = this._getEffectsRepeat(r.effects);\n\n        if (e) return e;\n\n        switch (r.type) {\n          case \"CIMCharacterMarker\":\n          case \"CIMPictureMarker\":\n          case \"CIMVectorMarker\":\n          case \"CIMObjectMarker3D\":\n          case \"CIMglTFMarker3D\":\n            {\n              const e = this._getPlacementRepeat(r.markerPlacement);\n\n              if (e) return e;\n            }\n        }\n      }\n    }\n\n    return 0;\n  }\n\n  static _getEffectsRepeat(e) {\n    if (e) for (const t of e) if (t) switch (t.type) {\n      case \"CIMGeometricEffectDashes\":\n        {\n          const e = t.dashTemplate;\n\n          if (e && e.length) {\n            let t = 0;\n\n            for (const r of e) t += r;\n\n            return 1 & e.length && (t *= 2), t;\n          }\n\n          break;\n        }\n\n      case \"CIMGeometricEffectWave\":\n        return t.period;\n\n      default:\n        K.error(`unsupported geometric effect type ${t.type}`);\n    }\n    return 0;\n  }\n\n  static _getPlacementRepeat(e) {\n    if (e) switch (e.type) {\n      case \"CIMMarkerPlacementAlongLineSameSize\":\n      case \"CIMMarkerPlacementAlongLineRandomSize\":\n      case \"CIMMarkerPlacementAlongLineVariableSize\":\n        {\n          const t = e.placementTemplate;\n\n          if (t && t.length) {\n            let e = 0;\n\n            for (const r of t) e += r;\n\n            return 1 & t.length && (e *= 2), e;\n          }\n\n          break;\n        }\n    }\n    return 0;\n  }\n\n  static fromCIMInsidePolygon(e) {\n    const t = e.markerPlacement,\n          r = {\n      type: e.type,\n      ...e\n    };\n    r.markerPlacement = null, r.anchorPoint = null;\n    const a = Math.abs(t.stepX),\n          o = Math.abs(t.stepY),\n          i = (t.randomness ?? 100) / 100;\n    let n, c, f, m;\n\n    if (\"Random\" === t.gridType) {\n      const e = l(_),\n            r = Math.max(Math.floor(e / a), 1),\n            y = Math.max(Math.floor(e / o), 1);\n      n = r * a / 2, c = y * o / 2, f = 2 * c;\n      const h = new s(t.seed),\n            p = i * a / 1.5,\n            u = i * o / 1.5;\n      m = [];\n\n      for (let t = 0; t < r; t++) for (let e = 0; e < y; e++) {\n        const r = t * a - n + p * (.5 - h.getFloat()),\n              i = e * o - c + u * (.5 - h.getFloat());\n        m.push({\n          x: r,\n          y: i\n        }), 0 === t && m.push({\n          x: r + 2 * n,\n          y: i\n        }), 0 === e && m.push({\n          x: r,\n          y: i + 2 * c\n        });\n      }\n    } else !0 === t.shiftOddRows ? (n = a / 2, c = o, f = 2 * o, m = [{\n      x: -n,\n      y: 0\n    }, {\n      x: n,\n      y: 0\n    }, {\n      x: 0,\n      y: c\n    }, {\n      x: 0,\n      y: -c\n    }]) : (n = a / 2, c = o / 2, f = o, m = [{\n      x: -a,\n      y: 0\n    }, {\n      x: 0,\n      y: -o\n    }, {\n      x: -a,\n      y: -o\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: a,\n      y: 0\n    }, {\n      x: 0,\n      y: o\n    }, {\n      x: a,\n      y: o\n    }, {\n      x: -a,\n      y: o\n    }, {\n      x: a,\n      y: -o\n    }]);\n\n    return {\n      type: \"CIMVectorMarker\",\n      frame: {\n        xmin: -n,\n        xmax: n,\n        ymin: -c,\n        ymax: c\n      },\n      markerGraphics: m.map(e => ({\n        type: \"CIMMarkerGraphic\",\n        geometry: e,\n        symbol: {\n          type: \"CIMPointSymbol\",\n          symbolLayers: [r]\n        }\n      })),\n      size: f\n    };\n  }\n\n  static getSize(e) {\n    if (e) switch (e.type) {\n      case \"CIMTextSymbol\":\n        return e.height;\n\n      case \"CIMPointSymbol\":\n        {\n          let t = 0;\n          if (e.symbolLayers) for (const r of e.symbolLayers) if (r) switch (r.type) {\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n            case \"CIMVectorMarker\":\n            case \"CIMObjectMarker3D\":\n            case \"CIMglTFMarker3D\":\n              {\n                const e = r.size;\n                e > t && (t = e);\n                break;\n              }\n          }\n          return t;\n        }\n\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        {\n          let t = 0;\n          if (e.symbolLayers) for (const r of e.symbolLayers) if (r) switch (r.type) {\n            case \"CIMSolidStroke\":\n            case \"CIMPictureStroke\":\n            case \"CIMGradientStroke\":\n              {\n                const e = r.width;\n                e > t && (t = e);\n                break;\n              }\n\n            case \"CIMCharacterMarker\":\n            case \"CIMPictureMarker\":\n            case \"CIMVectorMarker\":\n            case \"CIMObjectMarker3D\":\n            case \"CIMglTFMarker3D\":\n              if (z(r.markerPlacement)) {\n                const e = r.size;\n                e > t && (t = e);\n              }\n\n          }\n          return t;\n        }\n    }\n  }\n\n  static getMarkerScaleRatio(e) {\n    if (e && \"CIMVectorMarker\" === e.type) if (!1 !== e.scaleSymbolsProportionally && e.frame) {\n      const t = e.frame.ymax - e.frame.ymin;\n      return e.size / t;\n    }\n    return 1;\n  }\n\n}\n\nclass ie {\n  static findApplicableOverrides(e, t, r) {\n    if (e && t) {\n      if (e.primitiveName) {\n        let a = !1;\n\n        for (const t of r) if (t.primitiveName === e.primitiveName) {\n          a = !0;\n          break;\n        }\n\n        if (!a) for (const o of t) o.primitiveName === e.primitiveName && r.push(o);\n      }\n\n      switch (e.type) {\n        case \"CIMPointSymbol\":\n        case \"CIMLineSymbol\":\n        case \"CIMPolygonSymbol\":\n          if (e.effects) for (const a of e.effects) ie.findApplicableOverrides(a, t, r);\n          if (e.symbolLayers) for (const a of e.symbolLayers) ie.findApplicableOverrides(a, t, r);\n          break;\n\n        case \"CIMTextSymbol\":\n          break;\n\n        case \"CIMSolidStroke\":\n        case \"CIMPictureStroke\":\n        case \"CIMGradientStroke\":\n        case \"CIMSolidFill\":\n        case \"CIMPictureFill\":\n        case \"CIMHatchFill\":\n        case \"CIMGradientFill\":\n        case \"CIMVectorMarker\":\n        case \"CIMCharacterMarker\":\n        case \"CIMPictureMarker\":\n          if (e.effects) for (const a of e.effects) ie.findApplicableOverrides(a, t, r);\n\n          if (e.markerPlacement && ie.findApplicableOverrides(e.markerPlacement, t, r), \"CIMVectorMarker\" === e.type) {\n            if (e.markerGraphics) for (const a of e.markerGraphics) ie.findApplicableOverrides(a, t, r), ie.findApplicableOverrides(a.symbol, t, r);\n          } else \"CIMCharacterMarker\" === e.type ? ie.findApplicableOverrides(e.symbol, t, r) : \"CIMHatchFill\" === e.type ? ie.findApplicableOverrides(e.lineSymbol, t, r) : \"CIMPictureMarker\" === e.type && ie.findApplicableOverrides(e.animatedSymbolProperties, t, r);\n\n      }\n    }\n  }\n\n  static findEffectOverrides(e, t, r) {\n    if (!t || !e) return;\n    const a = e.length;\n\n    for (let o = 0; o < a; o++) {\n      const a = e[o]?.primitiveName;\n\n      if (a) {\n        let e = !1;\n\n        for (const t of r) if (t.primitiveName === a) {\n          e = !0;\n          break;\n        }\n\n        if (!e) for (const o of t) o.primitiveName === a && r.push(o);\n      }\n    }\n  }\n\n  static async resolveSymbolOverrides(e, t, a, o, i, s, n) {\n    if (!e || !e.symbol) return null;\n    let {\n      symbol: l,\n      primitiveOverrides: c\n    } = e;\n    const f = !!c;\n    if (!f && !o) return l;\n    l = r(l);\n    let m = !0;\n\n    if (t || (t = {\n      attributes: {}\n    }, m = !1), f) {\n      if (m || (c = c.filter(e => !e.valueExpressionInfo?.expression.includes(\"$feature\"))), n || (c = c.filter(e => !e.valueExpressionInfo?.expression.includes(\"$view\"))), c.length > 0) {\n        const e = O(t.attributes);\n        await ie.evaluateOverrides(c, t, {\n          spatialReference: a,\n          fields: e,\n          geometryType: i\n        }, s, n);\n      }\n\n      ie.applyOverrides(l, c);\n    }\n\n    return o && ie.applyDictionaryTextOverrides(l, t, o), l;\n  }\n\n  static async evaluateOverrides(e, t, r, a, o) {\n    if (!t) return;\n    let i;\n\n    for (const s of e) {\n      const e = s.valueExpressionInfo;\n\n      if (e && r) {\n        i || (i = []), s.value = void 0;\n        const n = y(e.expression, r.spatialReference, r.fields).then(e => {\n          s.value = j(e, t, {\n            $view: o\n          }, r.geometryType, a);\n        });\n        i.push(n);\n      }\n    }\n\n    void 0 !== i && i.length > 0 && (await Promise.all(i));\n  }\n\n  static applyDictionaryTextOverrides(e, t, r, a = \"Normal\") {\n    if (e && e.type) switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n      case \"CIMTextSymbol\":\n        {\n          const o = e.symbolLayers;\n          if (!o) return;\n\n          for (const i of o) i && \"CIMVectorMarker\" === i.type && ie.applyDictionaryTextOverrides(i, t, r, \"CIMTextSymbol\" === e.type ? e.textCase : a);\n        }\n        break;\n\n      case \"CIMVectorMarker\":\n        {\n          const a = e.markerGraphics;\n          if (!a) return;\n\n          for (const e of a) e && ie.applyDictionaryTextOverrides(e, t, r);\n        }\n        break;\n\n      case \"CIMMarkerGraphic\":\n        {\n          const o = e.textString;\n\n          if (o && o.includes(\"[\")) {\n            const i = A(o, r);\n            e.textString = E(t, i, a);\n          }\n        }\n    }\n  }\n\n  static applyOverrides(e, t, r, a) {\n    if (e.primitiveName) for (const i of t) if (i.primitiveName === e.primitiveName) {\n      const t = Se(i.propertyName);\n\n      if (a && a.push({\n        cim: e,\n        nocapPropertyName: t,\n        value: e[t]\n      }), i.expression && (i.value = ie.toValue(i.propertyName, i.expression)), r) {\n        let t = !1;\n\n        for (const a of r) a.primitiveName === e.primitiveName && (t = !0);\n\n        t || r.push(i);\n      }\n\n      o(i.value) && (e[t] = i.value);\n    }\n\n    switch (e.type) {\n      case \"CIMPointSymbol\":\n      case \"CIMLineSymbol\":\n      case \"CIMPolygonSymbol\":\n        if (e.effects) for (const o of e.effects) ie.applyOverrides(o, t, r, a);\n        if (e.symbolLayers) for (const o of e.symbolLayers) ie.applyOverrides(o, t, r, a);\n        break;\n\n      case \"CIMTextSymbol\":\n        break;\n\n      case \"CIMSolidStroke\":\n      case \"CIMSolidFill\":\n      case \"CIMVectorMarker\":\n        if (e.effects) for (const o of e.effects) ie.applyOverrides(o, t, r, a);\n        if (\"CIMVectorMarker\" === e.type && e.markerGraphics) for (const o of e.markerGraphics) ie.applyOverrides(o, t, r, a), ie.applyOverrides(o.symbol, t, r, a);\n    }\n  }\n\n  static restoreOverrides(e) {\n    for (const t of e) t.cim[t.nocapPropertyName] = t.value;\n  }\n\n  static buildOverrideKey(e) {\n    let t = \"\";\n\n    for (const r of e) void 0 !== r.value && (t += `${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);\n\n    return t;\n  }\n\n  static toValue(t, r) {\n    if (\"DashTemplate\" === t) return r.split(\" \").map(e => Number(e));\n\n    if (\"Color\" === t) {\n      const t = new e(r).toRgba();\n      return t[3] *= 255, t;\n    }\n\n    return r;\n  }\n\n}\n\nconst se = e => {\n  if (!e) return C.Butt;\n\n  switch (e) {\n    case \"butt\":\n      return C.Butt;\n\n    case \"square\":\n      return C.Square;\n\n    case \"round\":\n      return C.Round;\n  }\n},\n      ne = e => {\n  if (!e) return g.Miter;\n\n  switch (e) {\n    case \"miter\":\n      return g.Miter;\n\n    case \"round\":\n      return g.Round;\n\n    case \"bevel\":\n      return g.Bevel;\n  }\n},\n      le = e => {\n  if (i(e)) return \"Center\";\n\n  switch (e) {\n    case \"left\":\n      return \"Left\";\n\n    case \"right\":\n      return \"Right\";\n\n    case \"center\":\n      return \"Center\";\n  }\n},\n      ce = e => {\n  if (i(e)) return \"Center\";\n\n  switch (e) {\n    case \"baseline\":\n      return \"Baseline\";\n\n    case \"top\":\n      return \"Top\";\n\n    case \"middle\":\n      return \"Center\";\n\n    case \"bottom\":\n      return \"Bottom\";\n  }\n},\n      fe = e => {\n  if (!e) return [0, 0, 0, 0];\n  const {\n    r: t,\n    g: r,\n    b: a,\n    a: o\n  } = e;\n  return [t, r, a, 255 * o];\n},\n      me = (e, t) => {\n  const r = ye(t),\n        a = he(e);\n  return r && a ? `${r}-${a}` : `${r}${a}`;\n},\n      ye = e => {\n  if (!e) return \"\";\n\n  switch (e.toLowerCase()) {\n    case \"bold\":\n    case \"bolder\":\n      return \"bold\";\n  }\n\n  return \"\";\n},\n      he = e => {\n  if (!e) return \"\";\n\n  switch (e.toLowerCase()) {\n    case \"italic\":\n    case \"oblique\":\n      return \"italic\";\n  }\n\n  return \"\";\n},\n      pe = (e, t) => {\n  const r = \"butt\" === t;\n\n  switch (e) {\n    case \"dash\":\n    case \"esriSLSDash\":\n      return r ? [4, 3] : [3, 4];\n\n    case \"dash-dot\":\n    case \"esriSLSDashDot\":\n      return r ? [4, 3, 1, 3] : [3, 4, 0, 4];\n\n    case \"dot\":\n    case \"esriSLSDot\":\n      return r ? [1, 3] : [0, 4];\n\n    case \"long-dash\":\n    case \"esriSLSLongDash\":\n      return r ? [8, 3] : [7, 4];\n\n    case \"long-dash-dot\":\n    case \"esriSLSLongDashDot\":\n      return r ? [8, 3, 1, 3] : [7, 4, 0, 4];\n\n    case \"long-dash-dot-dot\":\n    case \"esriSLSDashDotDot\":\n      return r ? [8, 3, 1, 3, 1, 3] : [7, 4, 0, 4, 0, 4];\n\n    case \"short-dash\":\n    case \"esriSLSShortDash\":\n      return r ? [4, 1] : [3, 2];\n\n    case \"short-dash-dot\":\n    case \"esriSLSShortDashDot\":\n      return r ? [4, 1, 1, 1] : [3, 2, 0, 2];\n\n    case \"short-dash-dot-dot\":\n    case \"esriSLSShortDashDotDot\":\n      return r ? [4, 1, 1, 1, 1, 1] : [3, 2, 0, 2, 0, 2];\n\n    case \"short-dot\":\n    case \"esriSLSShortDot\":\n      return r ? [1, 1] : [0, 2];\n\n    case \"solid\":\n    case \"esriSLSSolid\":\n    case \"none\":\n      return K.error(\"Unexpected: style does not require rasterization\"), [0, 0];\n\n    default:\n      return K.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`), [0, 0];\n  }\n};\n\nfunction ue(e) {\n  return void 0 !== e.symbolLayers;\n}\n\nconst Me = e => {\n  const t = 100,\n        r = 50;\n  let a, o;\n  const i = e;\n\n  if (\"circle\" === i || \"esriSMSCircle\" === i) {\n    const e = .25;\n    let t = Math.acos(1 - e / r),\n        i = Math.ceil(Y / t / 4);\n    0 === i && (i = 1), t = $ / i, i *= 4;\n    const s = [];\n    s.push([r, 0]);\n\n    for (let a = 1; a < i; a++) s.push([r * Math.cos(a * t), -r * Math.sin(a * t)]);\n\n    s.push([r, 0]), a = {\n      rings: [s]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"cross\" === i || \"esriSMSCross\" === i) {\n    const e = 0;\n    a = {\n      rings: [[[e, r], [e, e], [r, e], [r, -e], [e, -e], [e, -r], [-e, -r], [-e, -e], [-r, -e], [-r, e], [-e, e], [-e, r], [e, r]]]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"diamond\" === i || \"esriSMSDiamond\" === i) a = {\n    rings: [[[-r, 0], [0, r], [r, 0], [0, -r], [-r, 0]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  };else if (\"square\" === i || \"esriSMSSquare\" === i) a = {\n    rings: [[[-r, -r], [-r, r], [r, r], [r, -r], [-r, -r]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  };else if (\"x\" === i || \"esriSMSX\" === i) {\n    const e = 0;\n    a = {\n      rings: [[[0, e], [r - e, r], [r, r - e], [e, 0], [r, e - r], [r - e, -r], [0, -e], [e - r, -r], [-r, e - r], [-e, 0], [-r, r - e], [e - r, r], [0, e]]]\n    }, o = {\n      xmin: -r,\n      ymin: -r,\n      xmax: r,\n      ymax: r\n    };\n  } else if (\"triangle\" === i || \"esriSMSTriangle\" === i) {\n    const e = t * .5773502691896257,\n          r = -e,\n          i = 2 / 3 * t,\n          s = i - t;\n    a = {\n      rings: [[[r, s], [0, i], [e, s], [r, s]]]\n    }, o = {\n      xmin: r,\n      ymin: s,\n      xmax: e,\n      ymax: i\n    };\n  } else \"arrow\" === i && (a = {\n    rings: [[[-50, 50], [50, 0], [-50, -50], [-33, -20], [-33, 20], [-50, 50]]]\n  }, o = {\n    xmin: -r,\n    ymin: -r,\n    xmax: r,\n    ymax: r\n  });\n\n  return [o, a];\n},\n      de = e => \"vertical\" === e || \"horizontal\" === e || \"cross\" === e || \"esriSFSCross\" === e || \"esriSFSVertical\" === e || \"esriSFSHorizontal\" === e,\n      Se = e => e ? e.charAt(0).toLowerCase() + e.substr(1) : e;\n\nlet be;\n\nfunction Ce(e, t, r) {\n  if (!e.effects || o(t.geometryEngine)) return;\n  if (be) return void r.push(be);\n  N(e.effects) && (be = R(), r.push(be), be.then(e => t.geometryEngine = e));\n}\n\nexport { oe as CIMSymbolHelper, ae as CIMSymbolInflatedSizeHelper, ie as OverrideHelper, pe as slsDashToTemplateArray, Q as symbolToCIM };","map":{"version":3,"names":["e","bidiText","t","clone","r","a","isSome","o","isNone","i","s","pt2px","n","px2pt","l","create","c","expandPointInPlace","f","getBoundsXY","m","createRendererExpression","y","Placement","h","lineGapType2LineHeight","p","horizontalAlignment2HAlign","u","verticalAlignment2VAlign","M","EnvDrawHelper","d","Transformation","S","CanvasDrawHelper","b","LineCapStyle","C","LineJoinStyle","g","BlockProgression","I","FontEffects","k","FontEncoding","x","FontType","w","GlyphHinting","P","TextReadingDirection","v","VerticalGlyphOrientation","L","BillBoardMode","D","TextureFilter","F","ExtremityPlacement","G","getValue","T","isCIMMarkerStrokePlacement","z","attributesToFields","O","analyzeTextParts","A","assignTextValuesFromFeature","E","isGeometryEngineRequired","N","importGeometryEngine","R","j","C_INFINITY","V","GLYPH_SIZE","B","MAGIC_LABEL_LINE_HEIGHT","X","RANDOM_INSIDE_POLYGON_TEXTURE_SIZE","_","shapeGlyphs","H","Y","Math","PI","$","U","q","W","J","K","getLogger","Q","type","data","oe","fromSimpleMarker","fromPictureMarker","fromSimpleLineSymbol","fromSimpleFillSymbol","fromPictureFillSymbol","fromTextSymbol","symbol","Z","drawSymbol","paths","rings","drawMarker","envelope","ee","abs","offset","te","width","size","length","max","offsetX","offsetY","radius","fromWidth","toWidth","amplitude","re","ae","getSymbolInflateSize","_getInflateSize","safeSize","sqrt","_vectorMarkerBounds","markerGraphics","geometry","min","ue","_getLayersInflateSize","symbolLayers","effects","_getTextInflatedSize","capStyle","Square","joinStyle","Miter","frame","xmin","xmax","ymin","ymax","getResource","url","height","scaleX","anchorPoint","anchorPointUnits","rotation","rotateClockwise","cos","sin","markerPlacement","get","text","mosaicItem","glyphMosaicItems","lineGapType","lineGap","scale","angle","xOffset","yOffset","hAlign","horizontalAlignment","vAlign","verticalAlignment","maxLineWidth","lineHeight","decoration","font","isCIM","boundsT","halfWidth","halfHeight","getEnvelope","Array","isArray","union","getTextureAnchor","rasterize","getContext","createScale","translate","getImageData","Uint8Array","color","haloColor","haloSize","kerning","xoffset","yoffset","family","style","weight","enable","dominantSizeAxis3D","billboardMode3D","blockProgression","BTT","depth3D","extrapolateBaselines","fontEffects","Normal","fontEncoding","Unicode","fontFamilyName","fontStyleName","me","fontType","Unspecified","hinting","Default","le","letterWidth","ligatures","strikethrough","underline","fe","haloSymbol","shadowColor","shadowOffsetX","shadowOffsetY","textCase","textDirection","RTL","LTR","ce","verticalGlyphOrientation","Right","wordSpacing","FaceNearPlane","textString","scaleSymbolsProportionally","respectFrame","angleAlignment","outline","xscale","yscale","cap","join","miterLimit","push","se","ne","imageData","invertBackfaceTexture","textureFilter","Picture","tintColor","colorSubstitutions","dashTemplate","pe","lineDashEnding","scaleDash","offsetAlongLine","Butt","de","lineSymbol","separation","marker","placement","Both","JustBegin","JustEnd","None","angleToLine","extremityPlacement","round","path","Me","fromCIMHatchFill","_getLineSymbolPeriod","find","fetchResources","Ce","fetchResource","_getEffectsRepeat","_getPlacementRepeat","period","error","placementTemplate","fromCIMInsidePolygon","stepX","stepY","randomness","gridType","floor","seed","getFloat","shiftOddRows","map","getSize","getMarkerScaleRatio","ie","findApplicableOverrides","primitiveName","animatedSymbolProperties","findEffectOverrides","resolveSymbolOverrides","primitiveOverrides","attributes","filter","valueExpressionInfo","expression","includes","evaluateOverrides","spatialReference","fields","geometryType","applyOverrides","applyDictionaryTextOverrides","value","then","$view","Promise","all","Se","propertyName","cim","nocapPropertyName","toValue","restoreOverrides","buildOverrideKey","JSON","stringify","split","Number","toRgba","Round","Bevel","ye","he","toLowerCase","acos","ceil","charAt","substr","be","geometryEngine","CIMSymbolHelper","CIMSymbolInflatedSizeHelper","OverrideHelper","slsDashToTemplateArray","symbolToCIM"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{bidiText as t}from\"../../core/BidiText.js\";import{clone as r}from\"../../core/lang.js\";import a from\"../../core/Logger.js\";import{isSome as o,isNone as i}from\"../../core/maybe.js\";import s from\"../../core/RandomLCG.js\";import{pt2px as n,px2pt as l}from\"../../core/screenUtils.js\";import{create as c,expandPointInPlace as f}from\"../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as m}from\"../../geometry/support/boundsUtils.js\";import{createRendererExpression as y}from\"../../support/arcadeOnDemand.js\";import{Placement as h}from\"./CIMPlacements.js\";import{lineGapType2LineHeight as p,horizontalAlignment2HAlign as u,verticalAlignment2VAlign as M,EnvDrawHelper as d,Transformation as S,CanvasDrawHelper as b}from\"./CIMSymbolDrawHelper.js\";import{LineCapStyle as C,LineJoinStyle as g,BlockProgression as I,FontEffects as k,FontEncoding as x,FontType as w,GlyphHinting as P,TextReadingDirection as v,VerticalGlyphOrientation as L,BillBoardMode as D,TextureFilter as F,ExtremityPlacement as G}from\"./enums.js\";import{getValue as T,isCIMMarkerStrokePlacement as z,attributesToFields as O,analyzeTextParts as A,assignTextValuesFromFeature as E,isGeometryEngineRequired as N,importGeometryEngine as R}from\"./utils.js\";import j from\"../../views/2d/arcade/callExpressionWithFeature.js\";import{C_INFINITY as V}from\"../../views/2d/engine/vectorTiles/GeometryUtils.js\";import{GLYPH_SIZE as B,MAGIC_LABEL_LINE_HEIGHT as X,RANDOM_INSIDE_POLYGON_TEXTURE_SIZE as _}from\"../../views/2d/engine/webgl/definitions.js\";import{shapeGlyphs as H}from\"../../views/2d/engine/webgl/mesh/templates/shapingUtils.js\";const Y=Math.PI,$=Y/2,U=4,q=10,W=96/72,J=Math.PI/180,K=a.getLogger(\"esri.symbols.cim.CIMSymbolHelper\");function Q(e){if(!e||!e.type)return null;let t;switch(e.type){case\"cim\":return e.data;case\"web-style\":return e;case\"simple-marker\":t=oe.fromSimpleMarker(e);break;case\"picture-marker\":t=oe.fromPictureMarker(e);break;case\"simple-line\":t=oe.fromSimpleLineSymbol(e);break;case\"simple-fill\":t=oe.fromSimpleFillSymbol(e);break;case\"picture-fill\":t=oe.fromPictureFillSymbol(e);break;case\"text\":t=oe.fromTextSymbol(e)}return{type:\"CIMSymbolReference\",symbol:t}}function Z(e,t,r){switch(t.type){case\"CIMSymbolReference\":return Z(e,t.symbol,r);case\"CIMPointSymbol\":null==r&&(r={x:0,y:0}),e.drawSymbol(t,r);break;case\"CIMLineSymbol\":null==r&&(r={paths:[[[0,0],[10,0]]]}),e.drawSymbol(t,r);break;case\"CIMPolygonSymbol\":null==r&&(r={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),e.drawSymbol(t,r);break;case\"CIMTextSymbol\":{const r={x:0,y:0};e.drawSymbol(t,r);break}case\"CIMVectorMarker\":{const r=new h;e.drawMarker(t,r);break}}return e.envelope()}function ee(e){if(!e)return 0;switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAtExtremities\":case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementAtRatioPositions\":case\"CIMMarkerPlacementOnLine\":case\"CIMMarkerPlacementOnVertices\":return Math.abs(e.offset);default:return 0}}function te(e){if(!e)return 0;switch(e.type){case\"CIMGeometricEffectArrow\":return Math.abs(.5*e.width);case\"CIMGeometricEffectBuffer\":return Math.abs(e.size);case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectRadial\":return Math.abs(e.length);case\"CIMGeometricEffectJog\":return Math.abs(.5*e.length);case\"CIMGeometricEffectMove\":return Math.max(Math.abs(T(e.offsetX)),Math.abs(T(e.offsetY)));case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":return Math.abs(e.offset);case\"CIMGeometricEffectRegularPolygon\":return Math.abs(e.radius);case\"CIMGeometricEffectRotate\":case\"CIMGeometricEffectScale\":default:return 0;case\"CIMGeometricEffectTaperedPolygon\":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case\"CIMGeometricEffectWave\":return Math.abs(e.amplitude)}}function re(e){if(!e)return 0;let t=0;for(const r of e)t+=te(r);return t}class ae{getSymbolInflateSize(e,t,r,a,o){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,a,o):e}static safeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}_vectorMarkerBounds(e,t,r,a){let o=!0;const i=c();if(t&&t.markerGraphics)for(const s of t.markerGraphics){const t=[0,0,0,0];s.geometry&&(m(i,s.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,s.symbol,r,0,a),i[0]+=t[0],i[1]+=t[1],i[2]+=t[2],i[3]+=t[3],o?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],o=!1):(e[0]=Math.min(e[0],i[0]),e[1]=Math.min(e[1],i[1]),e[2]=Math.max(e[2],i[2]),e[3]=Math.max(e[3],i[3])))}return e}_getInflateSize(e,t,r,a,o){if(ue(t)){const i=this._getLayersInflateSize(e,t.symbolLayers,r,a,o),s=re(t.effects);return s>0&&(i[0]-=s,i[1]-=s,i[2]+=s,i[3]+=s),i}return this._getTextInflatedSize(e,t,o)}_getLayersInflateSize(e,t,r,a,i){let s=!0;if(!t)return e;for(const n of t){if(!n)continue;let t=[0,0,0,0];switch(n.type){case\"CIMSolidFill\":case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":break;case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":{const e=n;let r=e.width;e.capStyle===C.Square||e.joinStyle===g.Miter?r/=1.4142135623730951:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r;break}case\"CIMCharacterMarker\":case\"CIMVectorMarker\":case\"CIMPictureMarker\":{const e=n;if(\"CIMVectorMarker\"===n.type){const e=n;if(t=this._vectorMarkerBounds(t,e,r,i),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,a=(e.frame.ymin+e.frame.ymax)/2;t[0]-=r,t[1]-=a,t[2]-=r,t[3]-=a;const o=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=o,t[1]*=o,t[2]*=o,t[3]*=o}}else if(\"CIMPictureMarker\"===n.type){const a=n,i=r.getResource(a.url);let s=1;o(i)&&i.height&&(s=i.width/i.height);const l=e.size/2,c=e.size*s*a.scaleX/2;t=[-c,-l,c,l]}else{const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,a;\"Absolute\"===e.anchorPointUnits?(r=e.anchorPoint.x,a=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),a=e.anchorPoint.y*(t[3]-t[1])),t[0]-=r,t[1]-=a,t[2]-=r,t[3]-=a}let s=T(e.rotation);if(e.rotateClockwise&&(s=-s),a&&(s-=a),s){const e=J*s,r=Math.cos(e),a=Math.sin(e),o=c([V,V,-V,-V]);f(o,[t[0]*r-t[1]*a,t[0]*a+t[1]*r]),f(o,[t[0]*r-t[3]*a,t[0]*a+t[3]*r]),f(o,[t[2]*r-t[1]*a,t[2]*a+t[1]*r]),f(o,[t[2]*r-t[3]*a,t[2]*a+t[3]*r]),t=o}let l=T(e.offsetX),m=T(e.offsetY);if(a){const e=J*a,t=Math.cos(e),r=Math.sin(e),o=l*r+m*t;l=l*t-m*r,m=o}t[0]+=l,t[1]+=m,t[2]+=l,t[3]+=m;const y=ee(e.markerPlacement);y>0&&(t[0]-=y,t[1]-=y,t[2]+=y,t[3]+=y);break}}const l=re(n.effects);l>0&&(t[0]-=l,t[1]-=l,t[2]+=l,t[3]+=l),s?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],s=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}_getTextInflatedSize(e,r,a){const o=r.height??q;if(e[0]=-o/2,e[1]=-o/2,e[2]=o/2,e[3]=o/2,!a)return e;const i=a.get(r);if(!i)return e;const{text:s,mosaicItem:n}=i;if(!n||0===n.glyphMosaicItems.length)return e;const l=p(r.lineGapType,r.lineGap??0,o),c=t(s)[1],f=n.glyphMosaicItems,m=H(f,c,{scale:o/B,angle:T(r.angle),xOffset:T(r.offsetX),yOffset:T(r.offsetY),hAlign:u(r.horizontalAlignment),vAlign:M(r.verticalAlignment),maxLineWidth:512,lineHeight:X*Math.max(.25,Math.min(l||1,4)),decoration:r.font.decoration||\"none\",isCIM:!0}).boundsT;return e[0]=m.x-m.halfWidth,e[1]=-m.y-m.halfHeight,e[2]=m.x+m.halfWidth,e[3]=-m.y+m.halfHeight,e}}class oe{static getEnvelope(e,t,r){const a=new d(r);if(Array.isArray(e)){let r;for(const o of e)r?r.union(Z(a,o,t)):r=Z(a,o,t);return r}return Z(a,e,t)}static getTextureAnchor(e,t){const r=this.getEnvelope(e,null,t);if(!r)return[0,0,0];const a=(r.x+.5*r.width)*W,o=(r.y+.5*r.height)*W,i=r.width*W+2,s=r.height*W+2;return[-a/i,-o/s,s]}static rasterize(e,t,r,a,o=!0){const i=r||this.getEnvelope(t,null,a);if(!i)return[null,0,0,0,0];const s=(i.x+.5*i.width)*W,n=(i.y+.5*i.height)*W;e.width=i.width*W,e.height=i.height*W,r||(e.width+=2,e.height+=2);const l=e.getContext(\"2d\"),c=S.createScale(W,-W);c.translate(.5*e.width-s,.5*e.height+n);const f=new b(l,a,c);switch(t.type){case\"CIMPointSymbol\":{const e={type:\"point\",x:0,y:0};f.drawSymbol(t,e);break}case\"CIMVectorMarker\":{const e=new h;f.drawMarker(t,e);break}}const m=l.getImageData(0,0,e.width,e.height),y=new Uint8Array(m.data);if(o){let e;for(let t=0;t<y.length;t+=4)e=y[t+3]/255,y[t]=y[t]*e,y[t+1]=y[t+1]*e,y[t+2]=y[t+2]*e}return[y,e.width,e.height,-s/e.width,-n/e.height]}static fromTextSymbol(e){const{angle:r,color:a,font:o,haloColor:i,haloSize:s,horizontalAlignment:n,kerning:l,text:c,verticalAlignment:f,xoffset:m,yoffset:y}=e;let h,p,u,M,d;o&&(h=o.family,p=o.style,u=o.weight,M=o.size,d=o.decoration);let S=!1;if(c){S=t(c)[1]}return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPointUnits:\"Relative\",dominantSizeAxis3D:\"Y\",size:10,billboardMode3D:\"FaceNearPlane\",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{x:0,y:0},symbol:{type:\"CIMTextSymbol\",angle:r,blockProgression:I.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:k.Normal,fontEncoding:x.Unicode,fontFamilyName:h||\"Arial\",fontStyleName:me(p,u),fontType:w.Unspecified,haloSize:s,height:M,hinting:P.Default,horizontalAlignment:le(n??\"center\"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:\"Multiple\",offsetX:T(m),offsetY:T(y),strikethrough:\"line-through\"===d,underline:\"underline\"===d,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:fe(a)}]},haloSymbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:fe(i)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:\"Normal\",textDirection:S?v.RTL:v.LTR,verticalAlignment:ce(f??\"baseline\"),verticalGlyphOrientation:L.Right,wordSpacing:100,billboardMode3D:D.FaceNearPlane},textString:c}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:\"Display\"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:a,xoffset:o,xscale:i,yoffset:s,yscale:n}=e,l=[],c={type:\"CIMPolygonSymbol\",symbolLayers:l};if(r){const{cap:e,join:t,miterLimit:a,width:o}=r;l.push({type:\"CIMSolidStroke\",color:fe(r.color),capStyle:se(e),joinStyle:ne(t),miterLimit:a,width:o})}let f=e.url;\"esriPFS\"===e.type&&e.imageData&&(f=e.imageData);const m=\"angle\"in e?e.angle:0,y=a*(i||1),h=t*(n||1);return l.push({type:\"CIMPictureFill\",invertBackfaceTexture:!1,scaleX:1,textureFilter:F.Picture,tintColor:null,url:f,height:h,width:y,offsetX:T(o),offsetY:T(s),rotation:T(-m),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:t,style:a,outline:o}=e,i=[],s={type:\"CIMPolygonSymbol\",symbolLayers:i};let n=null;if(o){const{cap:e,join:t,style:r}=o;\"solid\"!==r&&\"none\"!==r&&\"esriSLSSolid\"!==r&&\"esriSLSNull\"!==r&&(n=[{type:\"CIMGeometricEffectDashes\",dashTemplate:pe(r,e),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]),i.push({type:\"CIMSolidStroke\",color:fe(o.color),capStyle:se(e),joinStyle:ne(t),miterLimit:o.miterLimit,width:o.width,effects:n})}if(a&&\"solid\"!==a&&\"none\"!==a&&\"esriSFSSolid\"!==a&&\"esriSFSNull\"!==a){const e={type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",color:fe(t),capStyle:C.Butt,joinStyle:g.Miter,width:.75}]};let o=0;const s=l(de(a)?8:10);switch(a){case\"vertical\":case\"esriSFSVertical\":o=90;break;case\"forward-diagonal\":case\"esriSFSForwardDiagonal\":case\"diagonal-cross\":case\"esriSFSDiagonalCross\":o=-45;break;case\"backward-diagonal\":case\"esriSFSBackwardDiagonal\":o=45;break;case\"cross\":case\"esriSFSCross\":o=0}i.push({type:\"CIMHatchFill\",lineSymbol:e,offsetX:0,offsetY:0,rotation:o,separation:s}),\"cross\"===a||\"esriSFSCross\"===a?i.push({type:\"CIMHatchFill\",lineSymbol:r(e),offsetX:0,offsetY:0,rotation:90,separation:s}):\"diagonal-cross\"!==a&&\"esriSFSDiagonalCross\"!==a||i.push({type:\"CIMHatchFill\",lineSymbol:r(e),offsetX:0,offsetY:0,rotation:45,separation:s})}else!a||\"solid\"!==a&&\"esriSFSSolid\"!==a||i.push({type:\"CIMSolidFill\",enable:!0,color:fe(t)});return s}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:a,marker:o,miterLimit:i,style:s,width:n}=e;let l=null;\"solid\"!==s&&\"none\"!==s&&\"esriSLSSolid\"!==s&&\"esriSLSNull\"!==s&&(l=[{type:\"CIMGeometricEffectDashes\",dashTemplate:pe(s,t),lineDashEnding:\"NoConstraint\",scaleDash:!0,offsetAlongLine:null}]);const c=[];if(o){let e;switch(o.placement){case\"begin-end\":e=G.Both;break;case\"begin\":e=G.JustBegin;break;case\"end\":e=G.JustEnd;break;default:e=G.None}const t=oe.fromSimpleMarker(o,n,r).symbolLayers[0];t.markerPlacement={type:\"CIMMarkerPlacementAtExtremities\",angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return\"none\"!==s&&\"esriSLSNull\"!==s&&c.push({type:\"CIMSolidStroke\",color:fe(r),capStyle:se(t),joinStyle:ne(a),miterLimit:i,width:n,effects:l}),{type:\"CIMLineSymbol\",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:a,xoffset:o,yoffset:i}=e;let s=e.url;return\"esriPMS\"===e.type&&e.imageData&&(s=e.imageData),{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMPictureMarker\",invertBackfaceTexture:!1,scaleX:1,textureFilter:F.Picture,tintColor:null,url:s,size:r,width:a,offsetX:T(o),offsetY:T(i),rotation:T(-t)}]}}static fromSimpleMarker(e,t,r){const{style:a}=e,o=e.color??r;if(\"path\"===a){const t=[];if(\"outline\"in e&&e.outline){const r=e.outline;t.push({type:\"CIMSolidStroke\",enable:!0,width:n(Math.round(l(r.width))),color:fe(r.color)})}t.push({type:\"CIMSolidFill\",enable:!0,color:fe(o),path:e.path});const[r,a]=Me(\"square\");return{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:T(-e.angle),size:T(e.size||6),offsetX:T(e.xoffset),offsetY:T(e.yoffset),frame:r,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:a,symbol:{type:\"CIMPolygonSymbol\",symbolLayers:t}}]}]}}const[i,s]=Me(a);let c;if(s&&i){const r=[];if(\"outline\"in e&&e.outline){const t=e.outline;r.push({type:\"CIMSolidStroke\",enable:!0,width:t.width>.667?n(Math.round(l(t.width))):t.width,color:fe(t.color)})}else!t||\"line-marker\"!==e.type||\"cross\"!==e.style&&\"x\"!==e.style||r.push({type:\"CIMSolidStroke\",enable:!0,width:t,color:fe(o)});r.push({type:\"CIMSolidFill\",enable:!0,color:fe(o)});const a={type:\"CIMPolygonSymbol\",symbolLayers:r};c={type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,rotation:T(-e.angle),size:T(e.size||6*t),offsetX:T(e.xoffset),offsetY:T(e.yoffset),frame:i,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s,symbol:a}]}]}}return c}static fromCIMHatchFill(e,t){const a=t*(e.separation??U),o=a/2,i=4,s=r(e.lineSymbol);let n=this._getLineSymbolPeriod(s)||i;for(;n<i;)n*=2;const l=n/2,c={xmin:-l,xmax:l,ymin:-o,ymax:o},f=s.symbolLayers.find((e=>\"CIMSolidStroke\"===e.type));f&&(f.width*=t);return{type:\"CIMVectorMarker\",frame:c,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[-l,0],[l,0]]]},symbol:s}],size:a}}static fetchResources(e,t,r){if(e&&t)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{const a=e.symbolLayers;if(!a)return;for(const e of a)switch(Ce(e,t,r),e.type){case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":case\"CIMCharacterMarker\":case\"CIMPictureMarker\":\"url\"in e&&e.url&&r.push(t.fetchResource(e.url,null));break;case\"CIMVectorMarker\":{const a=e.markerGraphics;if(!a)continue;for(const e of a)if(e){const a=e.symbol;a&&oe.fetchResources(a,t,r)}}}}}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers)if(r){const e=this._getEffectsRepeat(r.effects);if(e)return e;switch(r.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":{const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case\"CIMGeometricEffectDashes\":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case\"CIMGeometricEffectWave\":return t.period;default:K.error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case\"CIMMarkerPlacementAlongLineSameSize\":case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineVariableSize\":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={type:e.type,...e};r.markerPlacement=null,r.anchorPoint=null;const a=Math.abs(t.stepX),o=Math.abs(t.stepY),i=(t.randomness??100)/100;let n,c,f,m;if(\"Random\"===t.gridType){const e=l(_),r=Math.max(Math.floor(e/a),1),y=Math.max(Math.floor(e/o),1);n=r*a/2,c=y*o/2,f=2*c;const h=new s(t.seed),p=i*a/1.5,u=i*o/1.5;m=[];for(let t=0;t<r;t++)for(let e=0;e<y;e++){const r=t*a-n+p*(.5-h.getFloat()),i=e*o-c+u*(.5-h.getFloat());m.push({x:r,y:i}),0===t&&m.push({x:r+2*n,y:i}),0===e&&m.push({x:r,y:i+2*c})}}else!0===t.shiftOddRows?(n=a/2,c=o,f=2*o,m=[{x:-n,y:0},{x:n,y:0},{x:0,y:c},{x:0,y:-c}]):(n=a/2,c=o/2,f=o,m=[{x:-a,y:0},{x:0,y:-o},{x:-a,y:-o},{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o},{x:-a,y:o},{x:a,y:-o}]);return{type:\"CIMVectorMarker\",frame:{xmin:-n,xmax:n,ymin:-c,ymax:c},markerGraphics:m.map((e=>({type:\"CIMMarkerGraphic\",geometry:e,symbol:{type:\"CIMPointSymbol\",symbolLayers:[r]}}))),size:f}}static getSize(e){if(e)switch(e.type){case\"CIMTextSymbol\":return e.height;case\"CIMPointSymbol\":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":{const e=r.size;e>t&&(t=e);break}}return t}case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":{const e=r.width;e>t&&(t=e);break}case\"CIMCharacterMarker\":case\"CIMPictureMarker\":case\"CIMVectorMarker\":case\"CIMObjectMarker3D\":case\"CIMglTFMarker3D\":if(z(r.markerPlacement)){const e=r.size;e>t&&(t=e)}}return t}}}static getMarkerScaleRatio(e){if(e&&\"CIMVectorMarker\"===e.type)if(!1!==e.scaleSymbolsProportionally&&e.frame){const t=e.frame.ymax-e.frame.ymin;return e.size/t}return 1}}class ie{static findApplicableOverrides(e,t,r){if(e&&t){if(e.primitiveName){let a=!1;for(const t of r)if(t.primitiveName===e.primitiveName){a=!0;break}if(!a)for(const o of t)o.primitiveName===e.primitiveName&&r.push(o)}switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":if(e.effects)for(const a of e.effects)ie.findApplicableOverrides(a,t,r);if(e.symbolLayers)for(const a of e.symbolLayers)ie.findApplicableOverrides(a,t,r);break;case\"CIMTextSymbol\":break;case\"CIMSolidStroke\":case\"CIMPictureStroke\":case\"CIMGradientStroke\":case\"CIMSolidFill\":case\"CIMPictureFill\":case\"CIMHatchFill\":case\"CIMGradientFill\":case\"CIMVectorMarker\":case\"CIMCharacterMarker\":case\"CIMPictureMarker\":if(e.effects)for(const a of e.effects)ie.findApplicableOverrides(a,t,r);if(e.markerPlacement&&ie.findApplicableOverrides(e.markerPlacement,t,r),\"CIMVectorMarker\"===e.type){if(e.markerGraphics)for(const a of e.markerGraphics)ie.findApplicableOverrides(a,t,r),ie.findApplicableOverrides(a.symbol,t,r)}else\"CIMCharacterMarker\"===e.type?ie.findApplicableOverrides(e.symbol,t,r):\"CIMHatchFill\"===e.type?ie.findApplicableOverrides(e.lineSymbol,t,r):\"CIMPictureMarker\"===e.type&&ie.findApplicableOverrides(e.animatedSymbolProperties,t,r)}}}static findEffectOverrides(e,t,r){if(!t||!e)return;const a=e.length;for(let o=0;o<a;o++){const a=e[o]?.primitiveName;if(a){let e=!1;for(const t of r)if(t.primitiveName===a){e=!0;break}if(!e)for(const o of t)o.primitiveName===a&&r.push(o)}}}static async resolveSymbolOverrides(e,t,a,o,i,s,n){if(!e||!e.symbol)return null;let{symbol:l,primitiveOverrides:c}=e;const f=!!c;if(!f&&!o)return l;l=r(l);let m=!0;if(t||(t={attributes:{}},m=!1),f){if(m||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes(\"$feature\")))),n||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes(\"$view\")))),c.length>0){const e=O(t.attributes);await ie.evaluateOverrides(c,t,{spatialReference:a,fields:e,geometryType:i},s,n)}ie.applyOverrides(l,c)}return o&&ie.applyDictionaryTextOverrides(l,t,o),l}static async evaluateOverrides(e,t,r,a,o){if(!t)return;let i;for(const s of e){const e=s.valueExpressionInfo;if(e&&r){i||(i=[]),s.value=void 0;const n=y(e.expression,r.spatialReference,r.fields).then((e=>{s.value=j(e,t,{$view:o},r.geometryType,a)}));i.push(n)}}void 0!==i&&i.length>0&&await Promise.all(i)}static applyDictionaryTextOverrides(e,t,r,a=\"Normal\"){if(e&&e.type)switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":case\"CIMTextSymbol\":{const o=e.symbolLayers;if(!o)return;for(const i of o)i&&\"CIMVectorMarker\"===i.type&&ie.applyDictionaryTextOverrides(i,t,r,\"CIMTextSymbol\"===e.type?e.textCase:a)}break;case\"CIMVectorMarker\":{const a=e.markerGraphics;if(!a)return;for(const e of a)e&&ie.applyDictionaryTextOverrides(e,t,r)}break;case\"CIMMarkerGraphic\":{const o=e.textString;if(o&&o.includes(\"[\")){const i=A(o,r);e.textString=E(t,i,a)}}}}static applyOverrides(e,t,r,a){if(e.primitiveName)for(const i of t)if(i.primitiveName===e.primitiveName){const t=Se(i.propertyName);if(a&&a.push({cim:e,nocapPropertyName:t,value:e[t]}),i.expression&&(i.value=ie.toValue(i.propertyName,i.expression)),r){let t=!1;for(const a of r)a.primitiveName===e.primitiveName&&(t=!0);t||r.push(i)}o(i.value)&&(e[t]=i.value)}switch(e.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":if(e.effects)for(const o of e.effects)ie.applyOverrides(o,t,r,a);if(e.symbolLayers)for(const o of e.symbolLayers)ie.applyOverrides(o,t,r,a);break;case\"CIMTextSymbol\":break;case\"CIMSolidStroke\":case\"CIMSolidFill\":case\"CIMVectorMarker\":if(e.effects)for(const o of e.effects)ie.applyOverrides(o,t,r,a);if(\"CIMVectorMarker\"===e.type&&e.markerGraphics)for(const o of e.markerGraphics)ie.applyOverrides(o,t,r,a),ie.applyOverrides(o.symbol,t,r,a)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t=\"\";for(const r of e)void 0!==r.value&&(t+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return t}static toValue(t,r){if(\"DashTemplate\"===t)return r.split(\" \").map((e=>Number(e)));if(\"Color\"===t){const t=new e(r).toRgba();return t[3]*=255,t}return r}}const se=e=>{if(!e)return C.Butt;switch(e){case\"butt\":return C.Butt;case\"square\":return C.Square;case\"round\":return C.Round}},ne=e=>{if(!e)return g.Miter;switch(e){case\"miter\":return g.Miter;case\"round\":return g.Round;case\"bevel\":return g.Bevel}},le=e=>{if(i(e))return\"Center\";switch(e){case\"left\":return\"Left\";case\"right\":return\"Right\";case\"center\":return\"Center\"}},ce=e=>{if(i(e))return\"Center\";switch(e){case\"baseline\":return\"Baseline\";case\"top\":return\"Top\";case\"middle\":return\"Center\";case\"bottom\":return\"Bottom\"}},fe=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:a,a:o}=e;return[t,r,a,255*o]},me=(e,t)=>{const r=ye(t),a=he(e);return r&&a?`${r}-${a}`:`${r}${a}`},ye=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"bold\":case\"bolder\":return\"bold\"}return\"\"},he=e=>{if(!e)return\"\";switch(e.toLowerCase()){case\"italic\":case\"oblique\":return\"italic\"}return\"\"},pe=(e,t)=>{const r=\"butt\"===t;switch(e){case\"dash\":case\"esriSLSDash\":return r?[4,3]:[3,4];case\"dash-dot\":case\"esriSLSDashDot\":return r?[4,3,1,3]:[3,4,0,4];case\"dot\":case\"esriSLSDot\":return r?[1,3]:[0,4];case\"long-dash\":case\"esriSLSLongDash\":return r?[8,3]:[7,4];case\"long-dash-dot\":case\"esriSLSLongDashDot\":return r?[8,3,1,3]:[7,4,0,4];case\"long-dash-dot-dot\":case\"esriSLSDashDotDot\":return r?[8,3,1,3,1,3]:[7,4,0,4,0,4];case\"short-dash\":case\"esriSLSShortDash\":return r?[4,1]:[3,2];case\"short-dash-dot\":case\"esriSLSShortDashDot\":return r?[4,1,1,1]:[3,2,0,2];case\"short-dash-dot-dot\":case\"esriSLSShortDashDotDot\":return r?[4,1,1,1,1,1]:[3,2,0,2,0,2];case\"short-dot\":case\"esriSLSShortDot\":return r?[1,1]:[0,2];case\"solid\":case\"esriSLSSolid\":case\"none\":return K.error(\"Unexpected: style does not require rasterization\"),[0,0];default:return K.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function ue(e){return void 0!==e.symbolLayers}const Me=e=>{const t=100,r=50;let a,o;const i=e;if(\"circle\"===i||\"esriSMSCircle\"===i){const e=.25;let t=Math.acos(1-e/r),i=Math.ceil(Y/t/4);0===i&&(i=1),t=$/i,i*=4;const s=[];s.push([r,0]);for(let a=1;a<i;a++)s.push([r*Math.cos(a*t),-r*Math.sin(a*t)]);s.push([r,0]),a={rings:[s]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"cross\"===i||\"esriSMSCross\"===i){const e=0;a={rings:[[[e,r],[e,e],[r,e],[r,-e],[e,-e],[e,-r],[-e,-r],[-e,-e],[-r,-e],[-r,e],[-e,e],[-e,r],[e,r]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"diamond\"===i||\"esriSMSDiamond\"===i)a={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"square\"===i||\"esriSMSSquare\"===i)a={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r};else if(\"x\"===i||\"esriSMSX\"===i){const e=0;a={rings:[[[0,e],[r-e,r],[r,r-e],[e,0],[r,e-r],[r-e,-r],[0,-e],[e-r,-r],[-r,e-r],[-e,0],[-r,r-e],[e-r,r],[0,e]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if(\"triangle\"===i||\"esriSMSTriangle\"===i){const e=t*.5773502691896257,r=-e,i=2/3*t,s=i-t;a={rings:[[[r,s],[0,i],[e,s],[r,s]]]},o={xmin:r,ymin:s,xmax:e,ymax:i}}else\"arrow\"===i&&(a={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},o={xmin:-r,ymin:-r,xmax:r,ymax:r});return[o,a]},de=e=>\"vertical\"===e||\"horizontal\"===e||\"cross\"===e||\"esriSFSCross\"===e||\"esriSFSVertical\"===e||\"esriSFSHorizontal\"===e,Se=e=>e?e.charAt(0).toLowerCase()+e.substr(1):e;let be;function Ce(e,t,r){if(!e.effects||o(t.geometryEngine))return;if(be)return void r.push(be);N(e.effects)&&(be=R(),r.push(be),be.then((e=>t.geometryEngine=e)))}export{oe as CIMSymbolHelper,ae as CIMSymbolInflatedSizeHelper,ie as OverrideHelper,pe as slsDashToTemplateArray,Q as symbolToCIM};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}