{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../../core/maybe.js\";\nimport { TEXTURE_BINDING_BITMAP as t } from \"../definitions.js\";\nimport { createProgramDescriptor as r } from \"../Utils.js\";\nimport s from \"./WGLBrush.js\";\nimport { BlendFactor as o, CompareFunction as n, DataType as a, PrimitiveType as i } from \"../../../../webgl/enums.js\";\n\nconst u = () => r(\"overlay\", {\n  geometry: [{\n    location: 0,\n    name: \"a_pos\",\n    count: 2,\n    type: a.FLOAT\n  }],\n  tex: [{\n    location: 1,\n    name: \"a_uv\",\n    count: 2,\n    type: a.UNSIGNED_SHORT\n  }]\n});\n\nclass m extends s {\n  constructor() {\n    super(...arguments), this._desc = {\n      vsPath: \"overlay/overlay\",\n      fsPath: \"overlay/overlay\",\n      attributes: new Map([[\"a_pos\", 0], [\"a_uv\", 1]])\n    };\n  }\n\n  dispose() {}\n\n  prepareState({\n    context: e\n  }) {\n    e.setBlendingEnabled(!0), e.setColorMask(!0, !0, !0, !0), e.setBlendFunctionSeparate(o.ONE, o.ONE_MINUS_SRC_ALPHA, o.ONE, o.ONE_MINUS_SRC_ALPHA), e.setStencilWriteMask(0), e.setStencilTestEnabled(!0), e.setStencilFunction(n.GREATER, 255, 255);\n  }\n\n  draw(r, s) {\n    const {\n      context: o,\n      painter: n,\n      requestRender: a\n    } = r;\n    if (!s.isReady) return;\n    const {\n      computedOpacity: m,\n      dvsMat3: c,\n      isWrapAround: d,\n      texture: l\n    } = s;\n    r.timeline.begin(this.name);\n    const p = n.materialManager.getProgram(this._desc);\n    if (e(a) && !p.isCompiled) return void a();\n\n    const f = u(),\n          _ = s.getVAO(o, f.bufferLayouts, f.attributes);\n\n    if (!_) return;\n    o.bindVAO(_), o.useProgram(p), o.bindTexture(l, t), p.setUniformMatrix3fv(\"u_dvsMat3\", c), p.setUniform1i(\"u_texture\", t), p.setUniform1f(\"u_opacity\", m);\n    const y = d ? 10 : 4;\n    o.drawArrays(i.TRIANGLE_STRIP, 0, y), o.bindVAO(), r.timeline.end(this.name);\n  }\n\n}\n\nexport { m as default };","map":{"version":3,"names":["isSome","e","TEXTURE_BINDING_BITMAP","t","createProgramDescriptor","r","s","BlendFactor","o","CompareFunction","n","DataType","a","PrimitiveType","i","u","geometry","location","name","count","type","FLOAT","tex","UNSIGNED_SHORT","m","constructor","arguments","_desc","vsPath","fsPath","attributes","Map","dispose","prepareState","context","setBlendingEnabled","setColorMask","setBlendFunctionSeparate","ONE","ONE_MINUS_SRC_ALPHA","setStencilWriteMask","setStencilTestEnabled","setStencilFunction","GREATER","draw","painter","requestRender","isReady","computedOpacity","dvsMat3","c","isWrapAround","d","texture","l","timeline","begin","p","materialManager","getProgram","isCompiled","f","_","getVAO","bufferLayouts","bindVAO","useProgram","bindTexture","setUniformMatrix3fv","setUniform1i","setUniform1f","y","drawArrays","TRIANGLE_STRIP","end","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/BrushOverlay.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{TEXTURE_BINDING_BITMAP as t}from\"../definitions.js\";import{createProgramDescriptor as r}from\"../Utils.js\";import s from\"./WGLBrush.js\";import{BlendFactor as o,CompareFunction as n,DataType as a,PrimitiveType as i}from\"../../../../webgl/enums.js\";const u=()=>r(\"overlay\",{geometry:[{location:0,name:\"a_pos\",count:2,type:a.FLOAT}],tex:[{location:1,name:\"a_uv\",count:2,type:a.UNSIGNED_SHORT}]});class m extends s{constructor(){super(...arguments),this._desc={vsPath:\"overlay/overlay\",fsPath:\"overlay/overlay\",attributes:new Map([[\"a_pos\",0],[\"a_uv\",1]])}}dispose(){}prepareState({context:e}){e.setBlendingEnabled(!0),e.setColorMask(!0,!0,!0,!0),e.setBlendFunctionSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),e.setStencilWriteMask(0),e.setStencilTestEnabled(!0),e.setStencilFunction(n.GREATER,255,255)}draw(r,s){const{context:o,painter:n,requestRender:a}=r;if(!s.isReady)return;const{computedOpacity:m,dvsMat3:c,isWrapAround:d,texture:l}=s;r.timeline.begin(this.name);const p=n.materialManager.getProgram(this._desc);if(e(a)&&!p.isCompiled)return void a();const f=u(),_=s.getVAO(o,f.bufferLayouts,f.attributes);if(!_)return;o.bindVAO(_),o.useProgram(p),o.bindTexture(l,t),p.setUniformMatrix3fv(\"u_dvsMat3\",c),p.setUniform1i(\"u_texture\",t),p.setUniform1f(\"u_opacity\",m);const y=d?10:4;o.drawArrays(i.TRIANGLE_STRIP,0,y),o.bindVAO(),r.timeline.end(this.name)}}export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}