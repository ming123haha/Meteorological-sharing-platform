{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { RenderTargetType as e } from \"./interfaces.js\";\nimport { OverlayFramebufferObject as r } from \"./OverlayFramebufferObject.js\";\nimport { RenderPass as s } from \"../webgl-engine/lib/RenderPass.js\";\n\nclass t {\n  constructor(t) {\n    const o = (e, s, o = !0) => ({\n      type: s,\n      fbo: new r(t, o),\n      renderPass: e,\n      valid: !1,\n      lastUsed: 1 / 0\n    });\n\n    this.renderTargets = [o(s.MATERIAL, e.Color), o(s.MATERIAL, e.ColorNoRasterImage), o(s.MATERIAL_HIGHLIGHT, e.Highlight, !1), o(s.MATERIAL_NORMAL, e.Water), o(s.MATERIAL, e.Occluded)];\n  }\n\n  getTarget(e) {\n    return this.renderTargets[e].fbo;\n  }\n\n  dispose() {\n    for (const e of this.renderTargets) e.fbo.dispose();\n  }\n\n  disposeRenderTargetMemory() {\n    for (const e of this.renderTargets) e.fbo.disposeRenderTargetMemory();\n  }\n\n  validateUsageForTarget(e, r, s) {\n    if (e) r.lastUsed = s;else if (s - r.lastUsed > o) r.fbo.disposeRenderTargetMemory(), r.lastUsed = 1 / 0;else if (r.lastUsed < 1 / 0) return !0;\n    return !1;\n  }\n\n  get gpuMemoryUsage() {\n    return this.renderTargets.reduce((e, r) => e + r.fbo.gpuMemoryUsage, 0);\n  }\n\n}\n\nconst o = 1e3;\nexport { t as OverlayRenderTarget };","map":{"version":3,"names":["RenderTargetType","e","OverlayFramebufferObject","r","RenderPass","s","t","constructor","o","type","fbo","renderPass","valid","lastUsed","renderTargets","MATERIAL","Color","ColorNoRasterImage","MATERIAL_HIGHLIGHT","Highlight","MATERIAL_NORMAL","Water","Occluded","getTarget","dispose","disposeRenderTargetMemory","validateUsageForTarget","gpuMemoryUsage","reduce","OverlayRenderTarget"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{RenderTargetType as e}from\"./interfaces.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{RenderPass as s}from\"../webgl-engine/lib/RenderPass.js\";class t{constructor(t){const o=(e,s,o=!0)=>({type:s,fbo:new r(t,o),renderPass:e,valid:!1,lastUsed:1/0});this.renderTargets=[o(s.MATERIAL,e.Color),o(s.MATERIAL,e.ColorNoRasterImage),o(s.MATERIAL_HIGHLIGHT,e.Highlight,!1),o(s.MATERIAL_NORMAL,e.Water),o(s.MATERIAL,e.Occluded)]}getTarget(e){return this.renderTargets[e].fbo}dispose(){for(const e of this.renderTargets)e.fbo.dispose()}disposeRenderTargetMemory(){for(const e of this.renderTargets)e.fbo.disposeRenderTargetMemory()}validateUsageForTarget(e,r,s){if(e)r.lastUsed=s;else if(s-r.lastUsed>o)r.fbo.disposeRenderTargetMemory(),r.lastUsed=1/0;else if(r.lastUsed<1/0)return!0;return!1}get gpuMemoryUsage(){return this.renderTargets.reduce(((e,r)=>e+r.fbo.gpuMemoryUsage),0)}}const o=1e3;export{t as OverlayRenderTarget};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,gBAAgB,IAAIC,CAA3B,QAAiC,iBAAjC;AAAmD,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,+BAAzC;AAAyE,SAAOC,UAAU,IAAIC,CAArB,QAA2B,mCAA3B;;AAA+D,MAAMC,CAAN,CAAO;EAACC,WAAW,CAACD,CAAD,EAAG;IAAC,MAAME,CAAC,GAAC,CAACP,CAAD,EAAGI,CAAH,EAAKG,CAAC,GAAC,CAAC,CAAR,MAAa;MAACC,IAAI,EAACJ,CAAN;MAAQK,GAAG,EAAC,IAAIP,CAAJ,CAAMG,CAAN,EAAQE,CAAR,CAAZ;MAAuBG,UAAU,EAACV,CAAlC;MAAoCW,KAAK,EAAC,CAAC,CAA3C;MAA6CC,QAAQ,EAAC,IAAE;IAAxD,CAAb,CAAR;;IAAiF,KAAKC,aAAL,GAAmB,CAACN,CAAC,CAACH,CAAC,CAACU,QAAH,EAAYd,CAAC,CAACe,KAAd,CAAF,EAAuBR,CAAC,CAACH,CAAC,CAACU,QAAH,EAAYd,CAAC,CAACgB,kBAAd,CAAxB,EAA0DT,CAAC,CAACH,CAAC,CAACa,kBAAH,EAAsBjB,CAAC,CAACkB,SAAxB,EAAkC,CAAC,CAAnC,CAA3D,EAAiGX,CAAC,CAACH,CAAC,CAACe,eAAH,EAAmBnB,CAAC,CAACoB,KAArB,CAAlG,EAA8Hb,CAAC,CAACH,CAAC,CAACU,QAAH,EAAYd,CAAC,CAACqB,QAAd,CAA/H,CAAnB;EAA2K;;EAAAC,SAAS,CAACtB,CAAD,EAAG;IAAC,OAAO,KAAKa,aAAL,CAAmBb,CAAnB,EAAsBS,GAA7B;EAAiC;;EAAAc,OAAO,GAAE;IAAC,KAAI,MAAMvB,CAAV,IAAe,KAAKa,aAApB,EAAkCb,CAAC,CAACS,GAAF,CAAMc,OAAN;EAAgB;;EAAAC,yBAAyB,GAAE;IAAC,KAAI,MAAMxB,CAAV,IAAe,KAAKa,aAApB,EAAkCb,CAAC,CAACS,GAAF,CAAMe,yBAAN;EAAkC;;EAAAC,sBAAsB,CAACzB,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAO;IAAC,IAAGJ,CAAH,EAAKE,CAAC,CAACU,QAAF,GAAWR,CAAX,CAAL,KAAuB,IAAGA,CAAC,GAACF,CAAC,CAACU,QAAJ,GAAaL,CAAhB,EAAkBL,CAAC,CAACO,GAAF,CAAMe,yBAAN,IAAkCtB,CAAC,CAACU,QAAF,GAAW,IAAE,CAA/C,CAAlB,KAAwE,IAAGV,CAAC,CAACU,QAAF,GAAW,IAAE,CAAhB,EAAkB,OAAM,CAAC,CAAP;IAAS,OAAM,CAAC,CAAP;EAAS;;EAAkB,IAAdc,cAAc,GAAE;IAAC,OAAO,KAAKb,aAAL,CAAmBc,MAAnB,CAA2B,CAAC3B,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAAC,CAACO,GAAF,CAAMiB,cAA1C,EAA0D,CAA1D,CAAP;EAAoE;;AAAhtB;;AAAitB,MAAMnB,CAAC,GAAC,GAAR;AAAY,SAAOF,CAAC,IAAIuB,mBAAZ"},"metadata":{},"sourceType":"module"}