{"ast":null,"code":"import Map from \"@arcgis/core/Map\";\nimport View from \"@arcgis/core/views/MapView\";\nimport MapImageLayer from \"@arcgis/core/layers/MapImageLayer\";\nimport BasemapGallery from \"@arcgis/core/widgets/BasemapGallery\";\nimport Expand from \"@arcgis/core/widgets/Expand\";\nimport Basemap from \"@arcgis/core/Basemap\";\nexport default {\n  data() {\n    return {};\n  },\n\n  beforeMount() {},\n\n  created() {},\n\n  mounted() {\n    this.initMap();\n  },\n\n  methods: {\n    initMap() {\n      const m_Map = new Map({\n        basemap: \"topo-vector\"\n      });\n      const view = new View({\n        container: \"viewDiv\",\n        map: m_Map,\n        center: [115, 32],\n        zoom: 5\n      });\n      let layer = new MapImageLayer({\n        url: \"http://localhost:6080/arcgis/rest/services/graduate/MapServer\"\n      });\n      var expand = new Expand({\n        //图层集\n        content: new BasemapGallery({\n          view: view,\n          // 设定图层集有哪些图层\n          source: [Basemap.fromId(\"topo-vector\"), Basemap.fromId(\"hybrid\"), Basemap.fromId(\"osm\")] // autocasts to LocalBasemapsSource\n\n        })\n      }, \"top-right\");\n      expand.expanded = true; //默认展开\n      // this.document.getElementById(\"BasemapGallery\").onmouseover=function(){\n      //   expand.expanded=true\n      // }\n      // this.document.getElementById(\"BasemapGallery\").onmouseout=function(){\n      //   expand.expanded=false\n      // }\n\n      m_Map.add(layer);\n      view.ui.remove('attribution');\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAKA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;IACA;EACA,CAHA;;EAIAC,eAEA,CANA;;EAOAC,WAEA,CATA;;EAUAC;IACA;EACA,CAZA;;EAaAC;IACAC;MACA;QACAC;MADA;MAGA;QACAC,oBADA;QAEAC,UAFA;QAGAC,iBAHA;QAIAC;MAJA;MAMA;QACAC;MADA;MAGA;QAAA;QACAC;UACAC,UADA;UAEA;UACAC,wFAHA,CAGA;;QAHA;MADA,GAOA,WAPA;MAQAC,uBArBA,CAqBA;MACA;MACA;MACA;MACA;MACA;MACA;;MACAC;MAEAH;IACA;;EAhCA;AAbA","names":["data","beforeMount","created","mounted","methods","initMap","basemap","container","map","center","zoom","url","content","view","source","expand","m_Map"],"sourceRoot":"src/views","sources":["HomeMap.vue"],"sourcesContent":["<template>\n  <div id=\"viewDiv\"></div>\n</template>\n\n<script>\nimport Map from \"@arcgis/core/Map\";\nimport View from \"@arcgis/core/views/MapView\"\nimport MapImageLayer from \"@arcgis/core/layers/MapImageLayer\";\nimport BasemapGallery from \"@arcgis/core/widgets/BasemapGallery\";\nimport Expand from \"@arcgis/core/widgets/Expand\";\nimport Basemap from \"@arcgis/core/Basemap\";\nexport default {\n  data() {\n    return {}\n  },\n  beforeMount() {\n\n  },\n  created() {\n\n  },\n  mounted() {\n    this.initMap()\n  },\n  methods: {\n    initMap() {\n      const m_Map = new Map({\n        basemap: \"topo-vector\"\n      })\n      const view = new View({\n        container: \"viewDiv\",\n        map: m_Map,\n        center: [115, 32],\n        zoom: 5\n      })\n      let layer = new MapImageLayer({\n        url: \"http://localhost:6080/arcgis/rest/services/graduate/MapServer\"\n      });\n      var expand =  new Expand({ //图层集\n        content:new BasemapGallery({\n          view:view,\n          // 设定图层集有哪些图层\n          source: [Basemap.fromId(\"topo-vector\"), Basemap.fromId(\"hybrid\"),Basemap.fromId(\"osm\")], // autocasts to LocalBasemapsSource\n        }),\n\n      },\"top-right\")\n      expand.expanded=true //默认展开\n      // this.document.getElementById(\"BasemapGallery\").onmouseover=function(){\n      //   expand.expanded=true\n      // }\n      // this.document.getElementById(\"BasemapGallery\").onmouseout=function(){\n      //   expand.expanded=false\n      // }\n      m_Map.add(layer);\n\n      view.ui.remove('attribution')\n    }\n  }\n}\n</script>\n\n<style>\nhtml,body,#viewDiv{\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>"]},"metadata":{},"sourceType":"module"}