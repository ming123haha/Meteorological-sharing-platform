{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Error.js\";\nimport o from \"../../../../core/Logger.js\";\nimport { isSome as s, isNone as r } from \"../../../../core/maybe.js\";\nimport { after as n, createResolver as c } from \"../../../../core/promiseUtils.js\";\nimport { addQueryParameters as i } from \"../../../../core/urlUtils.js\";\nimport { property as a } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { getGeometryZScaler as d } from \"../../../../geometry/support/zscale.js\";\nimport h from \"../../../support/StreamConnection.js\";\nvar p;\n!function (e) {\n  e[e.CONNECTING = 0] = \"CONNECTING\", e[e.OPEN = 1] = \"OPEN\", e[e.CLOSING = 2] = \"CLOSING\", e[e.CLOSED = 3] = \"CLOSED\";\n}(p || (p = {}));\nlet u = class extends h {\n  constructor(e) {\n    super(), this.errorString = null;\n    const {\n      geometryType: t,\n      spatialReference: o,\n      sourceSpatialReference: s\n    } = e;\n    this._config = e, this._featureZScaler = d(t, s, o), this._open();\n  }\n\n  async _open() {\n    await this._tryCreateWebSocket(), this.destroyed || (await this._handshake());\n  }\n\n  destroy() {\n    s(this._websocket) && (this._websocket.onopen = null, this._websocket.onclose = null, this._websocket.onerror = null, this._websocket.onmessage = null, this._websocket.close()), this._websocket = null;\n  }\n\n  get connectionStatus() {\n    if (r(this._websocket)) return \"disconnected\";\n\n    switch (this._websocket.readyState) {\n      case p.CONNECTING:\n      case p.OPEN:\n        return \"connected\";\n\n      case p.CLOSING:\n      case p.CLOSED:\n        return \"disconnected\";\n    }\n  }\n\n  async _tryCreateWebSocket(e = this._config.source.path, s = 1e3, r = 0) {\n    try {\n      if (this.destroyed) return;\n      const t = i(e, this._config.customParameters);\n      this._websocket = await this._createWebSocket(t), this.notifyChange(\"connectionStatus\");\n    } catch (c) {\n      const i = s / 1e3;\n      return this._config.maxReconnectionAttempts && r >= this._config.maxReconnectionAttempts ? (o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")), void this.destroy()) : (o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", `Failed to connect. Attempting to reconnect in ${i}s`, c)), await n(s), this._tryCreateWebSocket(e, Math.min(1.5 * s, 1e3 * this._config.maxReconnectionInterval), r + 1));\n    }\n  }\n\n  _createWebSocket(e) {\n    return new Promise((t, o) => {\n      const s = new WebSocket(e);\n      s.onopen = () => {\n        if (s.onopen = null, this.destroyed) return s.onclose = null, void s.close();\n        s.onclose = e => this._onClose(e), s.onerror = e => this._onError(e), s.onmessage = e => this._onMessage(e), t(s);\n      }, s.onclose = e => {\n        s.onopen = s.onclose = null, o(e);\n      };\n    });\n  }\n\n  async _handshake(e = 1e4) {\n    const s = this._websocket;\n    if (r(s)) return;\n    const n = c(),\n          i = s.onmessage,\n          {\n      filter: a,\n      outFields: l,\n      spatialReference: d\n    } = this._config;\n    return n.timeout(e), s.onmessage = e => {\n      let r = null;\n\n      try {\n        r = JSON.parse(e.data);\n      } catch (c) {}\n\n      r && \"object\" == typeof r || (o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Protocol violation. Handshake failed - malformed message\", e.data)), n.reject(), this.destroy()), r.spatialReference?.wkid !== d?.wkid && (o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", `Protocol violation. Handshake failed - expected wkid of ${d.wkid}`, e.data)), n.reject(), this.destroy()), \"json\" !== r.format && (o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Protocol violation. Handshake failed - format is not set\", e.data)), n.reject(), this.destroy()), a && r.filter !== a && o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Tried to set filter, but server doesn't support it\")), l && r.outFields !== l && o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Tried to set outFields, but server doesn't support it\")), s.onmessage = i, n.resolve();\n    }, s.send(JSON.stringify({\n      filter: a,\n      outFields: l,\n      format: \"json\",\n      spatialReference: {\n        wkid: d.wkid\n      }\n    })), n.promise;\n  }\n\n  _onMessage(e) {\n    try {\n      const o = JSON.parse(e.data);\n      if (\"featureResult\" !== o.type) throw new t(\"websocket-connection\", \"Protocol violation - Expected to find message of type 'featureResult'\", o);\n\n      for (const e of o.features) s(this._featureZScaler) && this._featureZScaler(e.geometry), this.onFeature(e);\n    } catch (r) {\n      return o.getLogger(this.declaredClass).error(new t(\"websocket-connection\", \"Failed to parse message\", r)), void this.destroy();\n    }\n  }\n\n  _onError(e) {\n    const t = \"Encountered an error over WebSocket connection\";\n    this._set(\"errorString\", t), o.getLogger(this.declaredClass).error(\"websocket-connection\", t);\n  }\n\n  _onClose(e) {\n    this._websocket = null, this.notifyChange(\"connectionStatus\"), 1e3 !== e.code && o.getLogger(this.declaredClass).error(\"websocket-connection\", `WebSocket closed unexpectedly with error code ${e.code}`), this.destroyed || this._open();\n  }\n\n};\ne([a()], u.prototype, \"connectionStatus\", null), e([a()], u.prototype, \"errorString\", void 0), u = e([l(\"esri.layers.graphics.sources.connections.WebSocketConnection\")], u);\nexport { u as WebSocketConnection };","map":{"version":3,"names":["_","e","t","o","isSome","s","isNone","r","after","n","createResolver","c","addQueryParameters","i","property","a","subclass","l","getGeometryZScaler","d","h","p","CONNECTING","OPEN","CLOSING","CLOSED","u","constructor","errorString","geometryType","spatialReference","sourceSpatialReference","_config","_featureZScaler","_open","_tryCreateWebSocket","destroyed","_handshake","destroy","_websocket","onopen","onclose","onerror","onmessage","close","connectionStatus","readyState","source","path","customParameters","_createWebSocket","notifyChange","maxReconnectionAttempts","getLogger","declaredClass","error","Math","min","maxReconnectionInterval","Promise","WebSocket","_onClose","_onError","_onMessage","filter","outFields","timeout","JSON","parse","data","reject","wkid","format","resolve","send","stringify","promise","type","features","geometry","onFeature","_set","code","prototype","WebSocketConnection"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as s,isNone as r}from\"../../../../core/maybe.js\";import{after as n,createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as d}from\"../../../../geometry/support/zscale.js\";import h from\"../../../support/StreamConnection.js\";var p;!function(e){e[e.CONNECTING=0]=\"CONNECTING\",e[e.OPEN=1]=\"OPEN\",e[e.CLOSING=2]=\"CLOSING\",e[e.CLOSED=3]=\"CLOSED\"}(p||(p={}));let u=class extends h{constructor(e){super(),this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:s}=e;this._config=e,this._featureZScaler=d(t,s,o),this._open()}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake()}destroy(){s(this._websocket)&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null}get connectionStatus(){if(r(this._websocket))return\"disconnected\";switch(this._websocket.readyState){case p.CONNECTING:case p.OPEN:return\"connected\";case p.CLOSING:case p.CLOSED:return\"disconnected\"}}async _tryCreateWebSocket(e=this._config.source.path,s=1e3,r=0){try{if(this.destroyed)return;const t=i(e,this._config.customParameters);this._websocket=await this._createWebSocket(t),this.notifyChange(\"connectionStatus\")}catch(c){const i=s/1e3;return this._config.maxReconnectionAttempts&&r>=this._config.maxReconnectionAttempts?(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")),void this.destroy()):(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",`Failed to connect. Attempting to reconnect in ${i}s`,c)),await n(s),this._tryCreateWebSocket(e,Math.min(1.5*s,1e3*this._config.maxReconnectionInterval),r+1))}}_createWebSocket(e){return new Promise(((t,o)=>{const s=new WebSocket(e);s.onopen=()=>{if(s.onopen=null,this.destroyed)return s.onclose=null,void s.close();s.onclose=e=>this._onClose(e),s.onerror=e=>this._onError(e),s.onmessage=e=>this._onMessage(e),t(s)},s.onclose=e=>{s.onopen=s.onclose=null,o(e)}}))}async _handshake(e=1e4){const s=this._websocket;if(r(s))return;const n=c(),i=s.onmessage,{filter:a,outFields:l,spatialReference:d}=this._config;return n.timeout(e),s.onmessage=e=>{let r=null;try{r=JSON.parse(e.data)}catch(c){}r&&\"object\"==typeof r||(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - malformed message\",e.data)),n.reject(),this.destroy()),r.spatialReference?.wkid!==d?.wkid&&(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",`Protocol violation. Handshake failed - expected wkid of ${d.wkid}`,e.data)),n.reject(),this.destroy()),\"json\"!==r.format&&(o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - format is not set\",e.data)),n.reject(),this.destroy()),a&&r.filter!==a&&o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Tried to set filter, but server doesn't support it\")),l&&r.outFields!==l&&o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Tried to set outFields, but server doesn't support it\")),s.onmessage=i,n.resolve()},s.send(JSON.stringify({filter:a,outFields:l,format:\"json\",spatialReference:{wkid:d.wkid}})),n.promise}_onMessage(e){try{const o=JSON.parse(e.data);if(\"featureResult\"!==o.type)throw new t(\"websocket-connection\",\"Protocol violation - Expected to find message of type 'featureResult'\",o);for(const e of o.features)s(this._featureZScaler)&&this._featureZScaler(e.geometry),this.onFeature(e)}catch(r){return o.getLogger(this.declaredClass).error(new t(\"websocket-connection\",\"Failed to parse message\",r)),void this.destroy()}}_onError(e){const t=\"Encountered an error over WebSocket connection\";this._set(\"errorString\",t),o.getLogger(this.declaredClass).error(\"websocket-connection\",t)}_onClose(e){this._websocket=null,this.notifyChange(\"connectionStatus\"),1e3!==e.code&&o.getLogger(this.declaredClass).error(\"websocket-connection\",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open()}};e([a()],u.prototype,\"connectionStatus\",null),e([a()],u.prototype,\"errorString\",void 0),u=e([l(\"esri.layers.graphics.sources.connections.WebSocketConnection\")],u);export{u as WebSocketConnection};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}