{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { ensureType as t } from \"../symbols.js\";\nimport s from \"../core/Error.js\";\nimport { clone as i } from \"../core/lang.js\";\nimport o from \"../core/Logger.js\";\nimport { isNone as l, unwrapOr as r, unwrap as u } from \"../core/maybe.js\";\nimport { deepMerge as n } from \"../core/object.js\";\nimport { watch as a } from \"../core/reactiveUtils.js\";\nimport { property as p } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as f } from \"../core/accessorSupport/decorators/cast.js\";\nimport { enumeration as d } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { reader as c } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as h } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as m } from \"../core/accessorSupport/decorators/writer.js\";\nimport { diff as y } from \"../core/accessorSupport/diffUtils.js\";\nimport { ensureType as b, ensureString as v } from \"../core/accessorSupport/ensureType.js\";\nimport { collectArcadeFieldNames as _, collectField as V } from \"../layers/support/fieldUtils.js\";\nimport q from \"../portal/Portal.js\";\nimport I from \"./Renderer.js\";\nimport { VisualVariablesMixin as g } from \"./mixins/VisualVariablesMixin.js\";\nimport { rendererSymbolProperty as S, rendererBackgroundFillSymbolProperty as U } from \"./support/commonProperties.js\";\nimport { LegendOptions as w } from \"./support/LegendOptions.js\";\nimport j from \"./support/UniqueValue.js\";\nimport F from \"./support/UniqueValueClass.js\";\nimport O from \"./support/UniqueValueGroup.js\";\nimport G from \"./support/UniqueValueInfo.js\";\nimport { loadArcade as D } from \"../support/arcadeOnDemand.js\";\nimport { f as x, t as E } from \"../chunks/persistableUrlUtils.js\";\nimport { fetchStyle as M } from \"../symbols/support/styleUtils.js\";\nimport N from \"../symbols/WebStyleSymbol.js\";\nvar R;\nconst P = \"esri.renderers.UniqueValueRenderer\",\n      $ = o.getLogger(P),\n      z = \"uvInfos-watcher\",\n      k = \"uvGroups-watcher\",\n      A = \",\",\n      H = b(G);\n\nfunction L(e) {\n  const {\n    field1: t,\n    field2: s,\n    field3: i,\n    fieldDelimiter: o,\n    uniqueValueInfos: l,\n    valueExpression: r\n  } = e,\n        u = !(!t || !s);\n  return [{\n    classes: (l ?? []).map(e => {\n      const {\n        symbol: l,\n        label: n,\n        value: a,\n        description: p\n      } = e,\n            [f, d, c] = u ? a?.toString()?.split(o || \"\") || [] : [a],\n            h = [];\n      return (t || r) && h.push(f), s && h.push(d), i && h.push(c), {\n        symbol: l,\n        label: n,\n        values: [h],\n        description: p\n      };\n    })\n  }];\n}\n\nlet T = R = class extends g(I) {\n  constructor(e) {\n    super(e), this._valueInfoMap = {}, this._isDefaultSymbolDerived = !1, this._isInfosSource = null, this.type = \"unique-value\", this.backgroundFillSymbol = null, this.valueExpressionTitle = null, this.legendOptions = null, this.defaultLabel = null, this.portal = null, this.styleOrigin = null, this.diff = {\n      uniqueValueInfos(e, t) {\n        if (!e && !t) return;\n        if (!e || !t) return {\n          type: \"complete\",\n          oldValue: e,\n          newValue: t\n        };\n        let s = !1;\n        const i = {\n          type: \"collection\",\n          added: [],\n          removed: [],\n          changed: [],\n          unchanged: []\n        };\n\n        for (let o = 0; o < t.length; o++) {\n          const l = e.find(e => e.value === t[o].value);\n          l ? y(l, t[o]) ? (i.changed.push({\n            type: \"complete\",\n            oldValue: l,\n            newValue: t[o]\n          }), s = !0) : i.unchanged.push({\n            oldValue: l,\n            newValue: t[o]\n          }) : (i.added.push(t[o]), s = !0);\n        }\n\n        for (let o = 0; o < e.length; o++) {\n          t.find(t => t.value === e[o].value) || (i.removed.push(e[o]), s = !0);\n        }\n\n        return s ? i : void 0;\n      }\n\n    }, this._set(\"uniqueValueInfos\", []), this._set(\"uniqueValueGroups\", []);\n  }\n\n  get _cache() {\n    return {\n      compiledFunc: null\n    };\n  }\n\n  set field(e) {\n    this._set(\"field\", e), this._updateFieldDelimiter(), this._updateUniqueValues();\n  }\n\n  castField(e) {\n    return null == e || \"function\" == typeof e ? e : v(e);\n  }\n\n  writeField(e, t, i, o) {\n    \"string\" == typeof e ? t[i] = e : o && o.messages ? o.messages.push(new s(\"property:unsupported\", \"UniqueValueRenderer.field set to a function cannot be written to JSON\")) : $.error(\".field: cannot write field to JSON since it's not a string value\");\n  }\n\n  set field2(e) {\n    this._set(\"field2\", e), this._updateFieldDelimiter(), this._updateUniqueValues();\n  }\n\n  set field3(e) {\n    this._set(\"field3\", e), this._updateUniqueValues();\n  }\n\n  set valueExpression(e) {\n    this._set(\"valueExpression\", e), this._updateUniqueValues();\n  }\n\n  set defaultSymbol(e) {\n    this._isDefaultSymbolDerived = !1, this._set(\"defaultSymbol\", e);\n  }\n\n  set fieldDelimiter(e) {\n    this._set(\"fieldDelimiter\", e), this._updateUniqueValues();\n  }\n\n  readPortal(e, t, s) {\n    return s.portal || q.getDefault();\n  }\n\n  readStyleOrigin(e, t, s) {\n    if (t.styleName) return Object.freeze({\n      styleName: t.styleName\n    });\n\n    if (t.styleUrl) {\n      const e = x(t.styleUrl, s);\n      return Object.freeze({\n        styleUrl: e\n      });\n    }\n  }\n\n  writeStyleOrigin(e, t, s, i) {\n    e.styleName ? t.styleName = e.styleName : e.styleUrl && (t.styleUrl = E(e.styleUrl, i));\n  }\n\n  set uniqueValueGroups(e) {\n    this.styleOrigin ? $.error(\"#uniqueValueGroups=\", \"Cannot modify unique value groups of a UniqueValueRenderer created from a web style\") : (this._set(\"uniqueValueGroups\", e), this._updateInfosFromGroups(), this._isInfosSource = !1, this._watchUniqueValueGroups());\n  }\n\n  set uniqueValueInfos(e) {\n    this.styleOrigin ? $.error(\"#uniqueValueInfos=\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\") : (this._set(\"uniqueValueInfos\", e), this._updateValueInfoMap(), this._updateGroupsFromInfos(), this._isInfosSource = !0, this._watchUniqueValueInfos());\n  }\n\n  addUniqueValueInfo(e, s) {\n    if (this.styleOrigin) return void $.error(\"#addUniqueValueInfo()\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");\n    let i;\n    i = \"object\" == typeof e ? H(e) : new G({\n      value: e,\n      symbol: t(s)\n    }), this.uniqueValueInfos?.push(i), this._valueInfoMap[i.value] = i, this._updateGroupsFromInfos(), this._isInfosSource = !0, this._watchUniqueValueInfos();\n  }\n\n  removeUniqueValueInfo(e) {\n    if (this.styleOrigin) return void $.error(\"#removeUniqueValueInfo()\", \"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");\n    const t = this.uniqueValueInfos;\n    if (t) for (let s = 0; s < t.length; s++) {\n      if (t[s].value === e + \"\") {\n        delete this._valueInfoMap[e], t.splice(s, 1);\n        break;\n      }\n    }\n    this._updateGroupsFromInfos(), this._isInfosSource = !0, this._watchUniqueValueInfos();\n  }\n\n  async getUniqueValueInfo(e, t) {\n    let s = t;\n    return this.valueExpression && (l(t) || l(t.arcade)) && (s = { ...s,\n      arcade: await D()\n    }), this._getUniqueValueInfo(e, s);\n  }\n\n  getSymbol(e, t) {\n    if (this.valueExpression && (l(t) || l(t.arcade))) return void $.error(\"#getSymbol()\", \"Please use getSymbolAsync if valueExpression is used\");\n\n    const s = this._getUniqueValueInfo(e, t);\n\n    return s && s.symbol || this.defaultSymbol;\n  }\n\n  async getSymbolAsync(e, t) {\n    let s = t;\n\n    if (this.valueExpression && (l(s) || l(s.arcade))) {\n      const e = await D(),\n            {\n        arcadeUtils: t\n      } = e;\n      t.hasGeometryOperations(this.valueExpression) && (await t.enableGeometryOperations()), s = { ...s,\n        arcade: e\n      };\n    }\n\n    const i = this._getUniqueValueInfo(e, s);\n\n    return i && i.symbol || this.defaultSymbol;\n  }\n\n  getSymbols() {\n    const e = [];\n\n    for (const t of this.uniqueValueInfos ?? []) t.symbol && e.push(t.symbol);\n\n    return this.defaultSymbol && e.push(this.defaultSymbol), e;\n  }\n\n  getAttributeHash() {\n    return this.visualVariables && this.visualVariables.reduce((e, t) => e + t.getAttributeHash(), \"\");\n  }\n\n  getMeshHash() {\n    const e = JSON.stringify(this.backgroundFillSymbol),\n          t = JSON.stringify(this.defaultSymbol),\n          s = this.uniqueValueInfos?.reduce((e, t) => e + t.getMeshHash(), \"\");\n    return `${e}.${t}.${s}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`;\n  }\n\n  clone() {\n    const e = new R({\n      field: this.field,\n      field2: this.field2,\n      field3: this.field3,\n      defaultLabel: this.defaultLabel,\n      defaultSymbol: i(this.defaultSymbol),\n      valueExpression: this.valueExpression,\n      valueExpressionTitle: this.valueExpressionTitle,\n      fieldDelimiter: this.fieldDelimiter,\n      visualVariables: i(this.visualVariables),\n      legendOptions: i(this.legendOptions),\n      authoringInfo: this.authoringInfo && this.authoringInfo.clone(),\n      backgroundFillSymbol: i(this.backgroundFillSymbol)\n    });\n    this._isDefaultSymbolDerived && (e._isDefaultSymbolDerived = !0), e._set(\"portal\", this.portal);\n    const t = i(this.uniqueValueInfos),\n          s = i(this.uniqueValueGroups);\n    return this.styleOrigin && (e._set(\"styleOrigin\", Object.freeze(i(this.styleOrigin))), Object.freeze(t), Object.freeze(s)), e._set(\"uniqueValueInfos\", t), e._updateValueInfoMap(), e._set(\"uniqueValueGroups\", s), e._isInfosSource = this._isInfosSource, e._watchUniqueValueInfosAndGroups(), e;\n  }\n\n  get arcadeRequired() {\n    return this.arcadeRequiredForVisualVariables || !!this.valueExpression;\n  }\n\n  async collectRequiredFields(e, t) {\n    const s = [this.collectVVRequiredFields(e, t), this.collectSymbolFields(e, t)];\n    await Promise.all(s);\n  }\n\n  async collectSymbolFields(e, t) {\n    const s = [...this.getSymbols().map(s => s.collectRequiredFields(e, t)), _(e, t, this.valueExpression)];\n    V(e, t, this.field), V(e, t, this.field2), V(e, t, this.field3), await Promise.all(s);\n  }\n\n  populateFromStyle() {\n    return M(this.styleOrigin, {\n      portal: this.portal\n    }).then(e => {\n      const t = [];\n      return this._valueInfoMap = {}, e && e.data && Array.isArray(e.data.items) && e.data.items.forEach(s => {\n        const i = new N({\n          styleUrl: e.styleUrl,\n          styleName: e.styleName,\n          portal: this.portal,\n          name: s.name\n        });\n        this.defaultSymbol || s.name !== e.data.defaultItem || (this.defaultSymbol = i, this._isDefaultSymbolDerived = !0);\n        const o = new G({\n          value: s.name,\n          symbol: i\n        });\n        t.push(o), this._valueInfoMap[s.name] = o;\n      }), this._set(\"uniqueValueInfos\", Object.freeze(t)), this._updateGroupsFromInfos(!0), this._isInfosSource = null, this._watchUniqueValueInfos(), !this.defaultSymbol && this.uniqueValueInfos?.length && (this.defaultSymbol = this.uniqueValueInfos[0].symbol, this._isDefaultSymbolDerived = !0), this;\n    });\n  }\n\n  _updateFieldDelimiter() {\n    this.field && this.field2 && !this.fieldDelimiter && this._set(\"fieldDelimiter\", A);\n  }\n\n  _updateUniqueValues() {\n    null != this._isInfosSource && (this._isInfosSource ? this._updateGroupsFromInfos() : this._updateInfosFromGroups());\n  }\n\n  _updateValueInfoMap() {\n    this._valueInfoMap = {};\n    const {\n      uniqueValueInfos: e\n    } = this;\n    if (e) for (const t of e) this._valueInfoMap[t.value + \"\"] = t;\n  }\n\n  _watchUniqueValueInfosAndGroups() {\n    this._watchUniqueValueInfos(), this._watchUniqueValueGroups();\n  }\n\n  _watchUniqueValueInfos() {\n    this.removeHandles(z);\n    const {\n      uniqueValueInfos: e\n    } = this;\n\n    if (e) {\n      const t = [];\n\n      for (const s of e) t.push(a(() => ({\n        symbol: s.symbol,\n        value: s.value,\n        label: s.label,\n        description: s.description\n      }), (e, t) => {\n        e !== t && (this._updateGroupsFromInfos(), this._isInfosSource = !0);\n      }, {\n        sync: !0\n      }));\n\n      this.addHandles(t, z);\n    }\n  }\n\n  _watchUniqueValueGroups() {\n    this.removeHandles(k);\n    const {\n      uniqueValueGroups: e\n    } = this;\n\n    if (e) {\n      const t = [];\n\n      for (const s of e) {\n        t.push(a(() => ({\n          classes: s.classes\n        }), (e, t) => {\n          e !== t && (this._updateInfosFromGroups(), this._isInfosSource = !1);\n        }, {\n          sync: !0\n        }));\n\n        for (const e of s.classes) t.push(a(() => ({\n          symbol: e.symbol,\n          values: e.values,\n          label: e.label,\n          description: e.description\n        }), (e, t) => {\n          e !== t && (this._updateInfosFromGroups(), this._isInfosSource = !1);\n        }, {\n          sync: !0\n        }));\n      }\n\n      this.addHandles(t, k);\n    }\n  }\n\n  _updateInfosFromGroups() {\n    if (!this.uniqueValueGroups) return this._set(\"uniqueValueInfos\", null), this._updateValueInfoMap(), void this._watchUniqueValueInfos();\n    const e = [],\n          {\n      field: t,\n      field2: s,\n      field3: i,\n      fieldDelimiter: o,\n      uniqueValueGroups: l,\n      valueExpression: r\n    } = this;\n    if (!t && !r) return this._set(\"uniqueValueInfos\", e), this._updateValueInfoMap(), void this._watchUniqueValueInfos();\n    const u = !(!t || !s);\n\n    for (const n of l) for (const t of n.classes ?? []) {\n      const {\n        symbol: l,\n        label: r,\n        values: n,\n        description: a\n      } = t;\n\n      for (const t of n ?? []) {\n        const {\n          value: n,\n          value2: p,\n          value3: f\n        } = t,\n              d = [n];\n        s && d.push(p), i && d.push(f);\n        const c = u ? d.join(o || \"\") : d[0];\n        e.push(new G({\n          symbol: l,\n          label: r,\n          value: c,\n          description: a\n        }));\n      }\n    }\n\n    this._set(\"uniqueValueInfos\", e), this._updateValueInfoMap(), this._watchUniqueValueInfos();\n  }\n\n  _updateGroupsFromInfos(e = !1) {\n    if (!this.uniqueValueInfos) return this._set(\"uniqueValueGroups\", null), void this._watchUniqueValueGroups();\n    const {\n      field: t,\n      field2: s,\n      valueExpression: i,\n      fieldDelimiter: o,\n      uniqueValueInfos: l\n    } = this;\n    if (!t && !i || !l.length) return this._set(\"uniqueValueGroups\", []), void this._watchUniqueValueGroups();\n    const r = !(!t || !s),\n          u = l.map(e => {\n      const {\n        symbol: t,\n        label: s,\n        value: i,\n        description: l\n      } = e,\n            [u, n, a] = r ? i?.toString()?.split(o || \"\") || [] : [i];\n      return new F({\n        symbol: t,\n        label: s,\n        description: l,\n        values: [new j({\n          value: u,\n          value2: n,\n          value3: a\n        })]\n      });\n    }),\n          n = [new O({\n      classes: u\n    })];\n    e && Object.freeze(n), this._set(\"uniqueValueGroups\", n), this._watchUniqueValueGroups();\n  }\n\n  _getUniqueValueInfo(e, t) {\n    return this.valueExpression ? this._getUnqiueValueInfoForExpression(e, t) : this._getUnqiueValueInfoForFields(e);\n  }\n\n  _getUnqiueValueInfoForExpression(e, t) {\n    const {\n      viewingMode: s,\n      scale: i,\n      spatialReference: o,\n      arcade: l\n    } = r(t, {});\n    let n = this._cache.compiledFunc;\n    const a = u(l).arcadeUtils;\n\n    if (!n) {\n      const e = a.createSyntaxTree(this.valueExpression);\n      n = a.createFunction(e), this._cache.compiledFunc = n;\n    }\n\n    const p = a.executeFunction(n, a.createExecContext(e, a.getViewInfo({\n      viewingMode: s,\n      scale: i,\n      spatialReference: o\n    })));\n    return this._valueInfoMap[p + \"\"];\n  }\n\n  _getUnqiueValueInfoForFields(e) {\n    const t = this.field,\n          s = e.attributes;\n    let i;\n\n    if (\"function\" != typeof t && this.field2) {\n      const e = this.field2,\n            o = this.field3,\n            l = [];\n      t && l.push(s[t]), e && l.push(s[e]), o && l.push(s[o]), i = l.join(this.fieldDelimiter || \"\");\n    } else \"function\" == typeof t ? i = t(e) : t && (i = s[t]);\n\n    return this._valueInfoMap[i + \"\"];\n  }\n\n  static fromPortalStyle(e, t) {\n    const s = new R(t && t.properties);\n    s._set(\"styleOrigin\", Object.freeze({\n      styleName: e\n    })), s._set(\"portal\", t && t.portal || q.getDefault());\n    const i = s.populateFromStyle();\n    return i.catch(t => {\n      $.error(`#fromPortalStyle('${e}'[, ...])`, \"Failed to create unique value renderer from style name\", t);\n    }), i;\n  }\n\n  static fromStyleUrl(e, t) {\n    const s = new R(t && t.properties);\n\n    s._set(\"styleOrigin\", Object.freeze({\n      styleUrl: e\n    }));\n\n    const i = s.populateFromStyle();\n    return i.catch(t => {\n      $.error(`#fromStyleUrl('${e}'[, ...])`, \"Failed to create unique value renderer from style URL\", t);\n    }), i;\n  }\n\n};\ne([p({\n  readOnly: !0\n})], T.prototype, \"_cache\", null), e([d({\n  uniqueValue: \"unique-value\"\n})], T.prototype, \"type\", void 0), e([p(U)], T.prototype, \"backgroundFillSymbol\", void 0), e([p({\n  value: null,\n  json: {\n    type: String,\n    read: {\n      source: \"field1\"\n    },\n    write: {\n      target: \"field1\"\n    }\n  }\n})], T.prototype, \"field\", null), e([f(\"field\")], T.prototype, \"castField\", null), e([m(\"field\")], T.prototype, \"writeField\", null), e([p({\n  type: String,\n  value: null,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"field2\", null), e([p({\n  type: String,\n  value: null,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"field3\", null), e([p({\n  type: String,\n  value: null,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"valueExpression\", null), e([p({\n  type: String,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"valueExpressionTitle\", void 0), e([p({\n  type: w,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"legendOptions\", void 0), e([p({\n  type: String,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"defaultLabel\", void 0), e([p(n({ ...S\n}, {\n  json: {\n    write: {\n      overridePolicy() {\n        return {\n          enabled: !this._isDefaultSymbolDerived\n        };\n      }\n\n    },\n    origins: {\n      \"web-scene\": {\n        write: {\n          overridePolicy() {\n            return {\n              enabled: !this._isDefaultSymbolDerived\n            };\n          }\n\n        }\n      }\n    }\n  }\n}))], T.prototype, \"defaultSymbol\", null), e([p({\n  type: String,\n  value: null,\n  json: {\n    write: !0\n  }\n})], T.prototype, \"fieldDelimiter\", null), e([p({\n  type: q,\n  readOnly: !0\n})], T.prototype, \"portal\", void 0), e([c(\"portal\", [\"styleName\"])], T.prototype, \"readPortal\", null), e([p({\n  readOnly: !0,\n  json: {\n    write: {\n      enabled: !1,\n      overridePolicy: () => ({\n        enabled: !0\n      })\n    }\n  }\n})], T.prototype, \"styleOrigin\", void 0), e([c(\"styleOrigin\", [\"styleName\", \"styleUrl\"])], T.prototype, \"readStyleOrigin\", null), e([m(\"styleOrigin\", {\n  styleName: {\n    type: String\n  },\n  styleUrl: {\n    type: String\n  }\n})], T.prototype, \"writeStyleOrigin\", null), e([p({\n  type: [O],\n  json: {\n    read: {\n      source: [\"uniqueValueGroups\", \"uniqueValueInfos\"],\n      reader: (e, t, s) => (t.uniqueValueGroups || L(t)).map(e => O.fromJSON(e, s))\n    },\n    write: {\n      overridePolicy() {\n        return this.styleOrigin ? {\n          enabled: !1\n        } : {\n          enabled: !0\n        };\n      }\n\n    }\n  }\n})], T.prototype, \"uniqueValueGroups\", null), e([p({\n  type: [G],\n  json: {\n    read: !1,\n    write: {\n      overridePolicy() {\n        return this.styleOrigin ? {\n          enabled: !1\n        } : {\n          enabled: !0\n        };\n      }\n\n    }\n  }\n})], T.prototype, \"uniqueValueInfos\", null), T = R = e([h(P)], T);\nconst C = T;\nexport { C as default };","map":{"version":3,"names":["_","e","ensureType","t","s","clone","i","o","isNone","l","unwrapOr","r","unwrap","u","deepMerge","n","watch","a","property","p","cast","f","enumeration","d","reader","c","subclass","h","writer","m","diff","y","b","ensureString","v","collectArcadeFieldNames","collectField","V","q","I","VisualVariablesMixin","g","rendererSymbolProperty","S","rendererBackgroundFillSymbolProperty","U","LegendOptions","w","j","F","O","G","loadArcade","D","x","E","fetchStyle","M","N","R","P","$","getLogger","z","k","A","H","L","field1","field2","field3","fieldDelimiter","uniqueValueInfos","valueExpression","classes","map","symbol","label","value","description","toString","split","push","values","T","constructor","_valueInfoMap","_isDefaultSymbolDerived","_isInfosSource","type","backgroundFillSymbol","valueExpressionTitle","legendOptions","defaultLabel","portal","styleOrigin","oldValue","newValue","added","removed","changed","unchanged","length","find","_set","_cache","compiledFunc","field","_updateFieldDelimiter","_updateUniqueValues","castField","writeField","messages","error","defaultSymbol","readPortal","getDefault","readStyleOrigin","styleName","Object","freeze","styleUrl","writeStyleOrigin","uniqueValueGroups","_updateInfosFromGroups","_watchUniqueValueGroups","_updateValueInfoMap","_updateGroupsFromInfos","_watchUniqueValueInfos","addUniqueValueInfo","removeUniqueValueInfo","splice","getUniqueValueInfo","arcade","_getUniqueValueInfo","getSymbol","getSymbolAsync","arcadeUtils","hasGeometryOperations","enableGeometryOperations","getSymbols","getAttributeHash","visualVariables","reduce","getMeshHash","JSON","stringify","authoringInfo","_watchUniqueValueInfosAndGroups","arcadeRequired","arcadeRequiredForVisualVariables","collectRequiredFields","collectVVRequiredFields","collectSymbolFields","Promise","all","populateFromStyle","then","data","Array","isArray","items","forEach","name","defaultItem","removeHandles","sync","addHandles","value2","value3","join","_getUnqiueValueInfoForExpression","_getUnqiueValueInfoForFields","viewingMode","scale","spatialReference","createSyntaxTree","createFunction","executeFunction","createExecContext","getViewInfo","attributes","fromPortalStyle","properties","catch","fromStyleUrl","readOnly","prototype","uniqueValue","json","String","read","source","write","target","overridePolicy","enabled","origins","fromJSON","C","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/UniqueValueRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ensureType as t}from\"../symbols.js\";import s from\"../core/Error.js\";import{clone as i}from\"../core/lang.js\";import o from\"../core/Logger.js\";import{isNone as l,unwrapOr as r,unwrap as u}from\"../core/maybe.js\";import{deepMerge as n}from\"../core/object.js\";import{watch as a}from\"../core/reactiveUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as f}from\"../core/accessorSupport/decorators/cast.js\";import{enumeration as d}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as c}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import{diff as y}from\"../core/accessorSupport/diffUtils.js\";import{ensureType as b,ensureString as v}from\"../core/accessorSupport/ensureType.js\";import{collectArcadeFieldNames as _,collectField as V}from\"../layers/support/fieldUtils.js\";import q from\"../portal/Portal.js\";import I from\"./Renderer.js\";import{VisualVariablesMixin as g}from\"./mixins/VisualVariablesMixin.js\";import{rendererSymbolProperty as S,rendererBackgroundFillSymbolProperty as U}from\"./support/commonProperties.js\";import{LegendOptions as w}from\"./support/LegendOptions.js\";import j from\"./support/UniqueValue.js\";import F from\"./support/UniqueValueClass.js\";import O from\"./support/UniqueValueGroup.js\";import G from\"./support/UniqueValueInfo.js\";import{loadArcade as D}from\"../support/arcadeOnDemand.js\";import{f as x,t as E}from\"../chunks/persistableUrlUtils.js\";import{fetchStyle as M}from\"../symbols/support/styleUtils.js\";import N from\"../symbols/WebStyleSymbol.js\";var R;const P=\"esri.renderers.UniqueValueRenderer\",$=o.getLogger(P),z=\"uvInfos-watcher\",k=\"uvGroups-watcher\",A=\",\",H=b(G);function L(e){const{field1:t,field2:s,field3:i,fieldDelimiter:o,uniqueValueInfos:l,valueExpression:r}=e,u=!(!t||!s);return[{classes:(l??[]).map((e=>{const{symbol:l,label:n,value:a,description:p}=e,[f,d,c]=u?a?.toString()?.split(o||\"\")||[]:[a],h=[];return(t||r)&&h.push(f),s&&h.push(d),i&&h.push(c),{symbol:l,label:n,values:[h],description:p}}))}]}let T=R=class extends(g(I)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type=\"unique-value\",this.backgroundFillSymbol=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:\"complete\",oldValue:e,newValue:t};let s=!1;const i={type:\"collection\",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<t.length;o++){const l=e.find((e=>e.value===t[o].value));l?y(l,t[o])?(i.changed.push({type:\"complete\",oldValue:l,newValue:t[o]}),s=!0):i.unchanged.push({oldValue:l,newValue:t[o]}):(i.added.push(t[o]),s=!0)}for(let o=0;o<e.length;o++){t.find((t=>t.value===e[o].value))||(i.removed.push(e[o]),s=!0)}return s?i:void 0}},this._set(\"uniqueValueInfos\",[]),this._set(\"uniqueValueGroups\",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set(\"field\",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return null==e||\"function\"==typeof e?e:v(e)}writeField(e,t,i,o){\"string\"==typeof e?t[i]=e:o&&o.messages?o.messages.push(new s(\"property:unsupported\",\"UniqueValueRenderer.field set to a function cannot be written to JSON\")):$.error(\".field: cannot write field to JSON since it's not a string value\")}set field2(e){this._set(\"field2\",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set(\"field3\",e),this._updateUniqueValues()}set valueExpression(e){this._set(\"valueExpression\",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set(\"defaultSymbol\",e)}set fieldDelimiter(e){this._set(\"fieldDelimiter\",e),this._updateUniqueValues()}readPortal(e,t,s){return s.portal||q.getDefault()}readStyleOrigin(e,t,s){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=x(t.styleUrl,s);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,s,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=E(e.styleUrl,i))}set uniqueValueGroups(e){this.styleOrigin?$.error(\"#uniqueValueGroups=\",\"Cannot modify unique value groups of a UniqueValueRenderer created from a web style\"):(this._set(\"uniqueValueGroups\",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?$.error(\"#uniqueValueInfos=\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\"):(this._set(\"uniqueValueInfos\",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,s){if(this.styleOrigin)return void $.error(\"#addUniqueValueInfo()\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");let i;i=\"object\"==typeof e?H(e):new G({value:e,symbol:t(s)}),this.uniqueValueInfos?.push(i),this._valueInfoMap[i.value]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void $.error(\"#removeUniqueValueInfo()\",\"Cannot modify unique value infos of a UniqueValueRenderer created from a web style\");const t=this.uniqueValueInfos;if(t)for(let s=0;s<t.length;s++){if(t[s].value===e+\"\"){delete this._valueInfoMap[e],t.splice(s,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let s=t;return this.valueExpression&&(l(t)||l(t.arcade))&&(s={...s,arcade:await D()}),this._getUniqueValueInfo(e,s)}getSymbol(e,t){if(this.valueExpression&&(l(t)||l(t.arcade)))return void $.error(\"#getSymbol()\",\"Please use getSymbolAsync if valueExpression is used\");const s=this._getUniqueValueInfo(e,t);return s&&s.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let s=t;if(this.valueExpression&&(l(s)||l(s.arcade))){const e=await D(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),s={...s,arcade:e}}const i=this._getUniqueValueInfo(e,s);return i&&i.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),s=this.uniqueValueInfos?.reduce(((e,t)=>e+t.getMeshHash()),\"\");return`${e}.${t}.${s}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new R({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:i(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:i(this.visualVariables),legendOptions:i(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:i(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set(\"portal\",this.portal);const t=i(this.uniqueValueInfos),s=i(this.uniqueValueGroups);return this.styleOrigin&&(e._set(\"styleOrigin\",Object.freeze(i(this.styleOrigin))),Object.freeze(t),Object.freeze(s)),e._set(\"uniqueValueInfos\",t),e._updateValueInfoMap(),e._set(\"uniqueValueGroups\",s),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const s=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(s)}async collectSymbolFields(e,t){const s=[...this.getSymbols().map((s=>s.collectRequiredFields(e,t))),_(e,t,this.valueExpression)];V(e,t,this.field),V(e,t,this.field2),V(e,t,this.field3),await Promise.all(s)}populateFromStyle(){return M(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((s=>{const i=new N({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:s.name});this.defaultSymbol||s.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const o=new G({value:s.name,symbol:i});t.push(o),this._valueInfoMap[s.name]=o})),this._set(\"uniqueValueInfos\",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set(\"fieldDelimiter\",A)}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+\"\"]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(z);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const s of e)t.push(a((()=>({symbol:s.symbol,value:s.value,label:s.label,description:s.description})),((e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)}),{sync:!0}));this.addHandles(t,z)}}_watchUniqueValueGroups(){this.removeHandles(k);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const s of e){t.push(a((()=>({classes:s.classes})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}));for(const e of s.classes)t.push(a((()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}))}this.addHandles(t,k)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set(\"uniqueValueInfos\",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:s,field3:i,fieldDelimiter:o,uniqueValueGroups:l,valueExpression:r}=this;if(!t&&!r)return this._set(\"uniqueValueInfos\",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const u=!(!t||!s);for(const n of l)for(const t of n.classes??[]){const{symbol:l,label:r,values:n,description:a}=t;for(const t of n??[]){const{value:n,value2:p,value3:f}=t,d=[n];s&&d.push(p),i&&d.push(f);const c=u?d.join(o||\"\"):d[0];e.push(new G({symbol:l,label:r,value:c,description:a}))}}this._set(\"uniqueValueInfos\",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set(\"uniqueValueGroups\",null),void this._watchUniqueValueGroups();const{field:t,field2:s,valueExpression:i,fieldDelimiter:o,uniqueValueInfos:l}=this;if(!t&&!i||!l.length)return this._set(\"uniqueValueGroups\",[]),void this._watchUniqueValueGroups();const r=!(!t||!s),u=l.map((e=>{const{symbol:t,label:s,value:i,description:l}=e,[u,n,a]=r?i?.toString()?.split(o||\"\")||[]:[i];return new F({symbol:t,label:s,description:l,values:[new j({value:u,value2:n,value3:a})]})})),n=[new O({classes:u})];e&&Object.freeze(n),this._set(\"uniqueValueGroups\",n),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:s,scale:i,spatialReference:o,arcade:l}=r(t,{});let n=this._cache.compiledFunc;const a=u(l).arcadeUtils;if(!n){const e=a.createSyntaxTree(this.valueExpression);n=a.createFunction(e),this._cache.compiledFunc=n}const p=a.executeFunction(n,a.createExecContext(e,a.getViewInfo({viewingMode:s,scale:i,spatialReference:o})));return this._valueInfoMap[p+\"\"]}_getUnqiueValueInfoForFields(e){const t=this.field,s=e.attributes;let i;if(\"function\"!=typeof t&&this.field2){const e=this.field2,o=this.field3,l=[];t&&l.push(s[t]),e&&l.push(s[e]),o&&l.push(s[o]),i=l.join(this.fieldDelimiter||\"\")}else\"function\"==typeof t?i=t(e):t&&(i=s[t]);return this._valueInfoMap[i+\"\"]}static fromPortalStyle(e,t){const s=new R(t&&t.properties);s._set(\"styleOrigin\",Object.freeze({styleName:e})),s._set(\"portal\",t&&t.portal||q.getDefault());const i=s.populateFromStyle();return i.catch((t=>{$.error(`#fromPortalStyle('${e}'[, ...])`,\"Failed to create unique value renderer from style name\",t)})),i}static fromStyleUrl(e,t){const s=new R(t&&t.properties);s._set(\"styleOrigin\",Object.freeze({styleUrl:e}));const i=s.populateFromStyle();return i.catch((t=>{$.error(`#fromStyleUrl('${e}'[, ...])`,\"Failed to create unique value renderer from style URL\",t)})),i}};e([p({readOnly:!0})],T.prototype,\"_cache\",null),e([d({uniqueValue:\"unique-value\"})],T.prototype,\"type\",void 0),e([p(U)],T.prototype,\"backgroundFillSymbol\",void 0),e([p({value:null,json:{type:String,read:{source:\"field1\"},write:{target:\"field1\"}}})],T.prototype,\"field\",null),e([f(\"field\")],T.prototype,\"castField\",null),e([m(\"field\")],T.prototype,\"writeField\",null),e([p({type:String,value:null,json:{write:!0}})],T.prototype,\"field2\",null),e([p({type:String,value:null,json:{write:!0}})],T.prototype,\"field3\",null),e([p({type:String,value:null,json:{write:!0}})],T.prototype,\"valueExpression\",null),e([p({type:String,json:{write:!0}})],T.prototype,\"valueExpressionTitle\",void 0),e([p({type:w,json:{write:!0}})],T.prototype,\"legendOptions\",void 0),e([p({type:String,json:{write:!0}})],T.prototype,\"defaultLabel\",void 0),e([p(n({...S},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{\"web-scene\":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],T.prototype,\"defaultSymbol\",null),e([p({type:String,value:null,json:{write:!0}})],T.prototype,\"fieldDelimiter\",null),e([p({type:q,readOnly:!0})],T.prototype,\"portal\",void 0),e([c(\"portal\",[\"styleName\"])],T.prototype,\"readPortal\",null),e([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],T.prototype,\"styleOrigin\",void 0),e([c(\"styleOrigin\",[\"styleName\",\"styleUrl\"])],T.prototype,\"readStyleOrigin\",null),e([m(\"styleOrigin\",{styleName:{type:String},styleUrl:{type:String}})],T.prototype,\"writeStyleOrigin\",null),e([p({type:[O],json:{read:{source:[\"uniqueValueGroups\",\"uniqueValueInfos\"],reader:(e,t,s)=>(t.uniqueValueGroups||L(t)).map((e=>O.fromJSON(e,s)))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],T.prototype,\"uniqueValueGroups\",null),e([p({type:[G],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],T.prototype,\"uniqueValueInfos\",null),T=R=e([h(P)],T);const C=T;export{C as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}