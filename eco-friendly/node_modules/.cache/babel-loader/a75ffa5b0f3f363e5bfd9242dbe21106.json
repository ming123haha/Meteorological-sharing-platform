{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { someMap as r } from \"../../../../core/MapUtils.js\";\nimport { isSome as o, unwrapOr as s } from \"../../../../core/maybe.js\";\nimport { NullUID as d } from \"../../../../core/uid.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { GeometryRecord as a } from \"./GeometryRecord.js\";\nimport { ModelDirty as m } from \"./ModelDirtyTypes.js\";\nimport { assert as n } from \"./Util.js\";\nlet y = class extends t {\n  constructor(e) {\n    super(e), this._residentGeomRecords = new Map(), this._dirtyGeomRecords = new Map(), this.dirty = !1;\n  }\n\n  commit(e) {\n    this.dirty = !1, this._dirtyGeomRecords.forEach((t, r) => this.commitLayer(r, e));\n  }\n\n  commitLayer(e, t) {\n    const r = this._dirtyGeomRecords.get(e);\n\n    r && (r.forEach((r, s) => {\n      const d = this._ensureGeomRecord(e, s);\n\n      r.forEach((e, r) => {\n        const i = e[0],\n              c = e[1],\n              y = e[2];\n        let h = !1;\n\n        if (c & m.Geometry.UPDATE) {\n          const e = d.get(r);\n\n          if (e) {\n            const r = e[1];\n\n            if (y & m.State.TRANSFORMATION) {\n              const e = this.model.getObject(s);\n              this.model.updateRenderGeometryTransformation(e, i, r) && (h = !0);\n            }\n\n            h || t.updates.push({\n              renderGeometry: r,\n              updateType: y\n            });\n          } else n(!1, \"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid update\");\n        }\n\n        if (c & m.Geometry.REMOVE || h) {\n          const e = d.get(r);\n          e ? (t.removes.push(e[1]), d.delete(r), e[0].disposed && a.pool.release(e[0])) : c === m.Geometry.REMOVE && n(!1, \"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove\");\n        }\n\n        if (c & m.Geometry.ADD || h) {\n          const e = this.model.getObject(s);\n\n          if (o(e)) {\n            const o = this.model.getRenderGeometry(e, i),\n                  s = [i, o];\n            t.adds.push(o), d.set(r, s);\n          }\n        }\n      }), 0 === d.size && this._residentGeomRecords.get(e).delete(s);\n    }), 0 === this._residentGeomRecords.get(e).size && this._residentGeomRecords.delete(e), this._dirtyGeomRecords.delete(e));\n  }\n\n  getResidentRenderGeometries(e, t) {\n    const r = this._residentGeomRecords.get(e);\n\n    r && r.forEach(e => e.forEach(e => t.push(e[1])));\n  }\n\n  _objectStateChanged(e, t) {\n    for (const r of t.geometryRecords) this._updateOrCreateDirtyRecord(t, r, null, m.Geometry.UPDATE, 0, 0, m.Geometry.UPDATE, m.Geometry.ADD | m.Geometry.REMOVE, e);\n  }\n\n  visibilityChanged(e) {\n    this._objectStateChanged(m.State.VISIBILITIES, e);\n  }\n\n  highlightChanged(e) {\n    this._objectStateChanged(m.State.HIGHLIGHTS, e);\n  }\n\n  occlusionChanged(e) {\n    this._objectStateChanged(m.State.OCCLUDEES, e);\n  }\n\n  vertexAttrsUpdated(e) {\n    this._updateOrCreateDirtyRecord(e.object, e.record, null, m.Geometry.UPDATE, 0, 0, m.Geometry.UPDATE, m.Geometry.ADD | m.Geometry.REMOVE, m.State.VERTEXATTRS);\n  }\n\n  layerAdded(e) {\n    e.objects.forAll(t => this._layerObjectAdded(e, t));\n  }\n\n  layerRemoved(e) {\n    e.objects.forAll(t => this._layerObjectRemoved(e, t));\n  }\n\n  layerObjectAdded(e) {\n    this._layerObjectAdded(e.layer, e.object);\n  }\n\n  _layerObjectAdded(e, t) {\n    const r = e.id;\n\n    for (const o of t.geometryRecords) this._objectGeometryAdded(t, o, r);\n  }\n\n  layerObjectRemoved(e) {\n    this._layerObjectRemoved(e.layer, e.object);\n  }\n\n  layerObjectsAdded(e) {\n    for (const t of e.objects) this._layerObjectAdded(e.layer, t);\n  }\n\n  layerObjectsRemoved(e) {\n    for (const t of e.objects) this._layerObjectRemoved(e.layer, t);\n  }\n\n  _layerObjectRemoved(e, t) {\n    const r = e.id;\n\n    for (const o of t.geometryRecords) this._objectGeometryRemoved(t, o, r);\n  }\n\n  shaderTransformationChanged(e) {\n    const t = this._residentGeomRecords.get(e.id);\n\n    t && t.forEach((e, t) => {\n      const r = this.model.getObject(t);\n      r && r.hasVolativeTransformation() && e.forEach(e => {\n        e[1].shaderTransformationChanged();\n      });\n    });\n  }\n\n  objectTransformation(e) {\n    const t = this._getParentLayerId(e),\n          r = e.id;\n\n    this._ensureGeomRecord(t, r).forEach(r => {\n      this._updateOrCreateDirtyRecord(e, r[0], t, m.Geometry.UPDATE, 0, 0, m.Geometry.UPDATE, m.Geometry.ADD | m.Geometry.REMOVE, m.State.TRANSFORMATION);\n    });\n  }\n\n  objectGeometryAdded(e) {\n    this._objectGeometryAdded(e.object, e.record);\n  }\n\n  _objectGeometryAdded(e, t, r = null) {\n    this._updateOrCreateDirtyRecord(e, t, r, m.Geometry.ADD, m.Geometry.REMOVE, 0, 0, 0);\n  }\n\n  objectGeometryRemoved(e) {\n    this._objectGeometryRemoved(e.object, e.record);\n  }\n\n  _objectGeometryRemoved(e, t, r = null) {\n    this._updateOrCreateDirtyRecord(e, t, r, m.Geometry.REMOVE, m.Geometry.ADD, m.Geometry.UPDATE, 0, 0);\n  }\n\n  _updateOrCreateDirtyRecord(e, t, r, o, d, i, c, m, y) {\n    r = s(r, this._getParentLayerId(e));\n\n    const h = e.id,\n          l = t.id,\n          R = this._ensureDirtyRecord(r, h),\n          G = R.get(l);\n\n    if (G) {\n      const e = G[1];\n      e & d ? (R.delete(l), G[0].disposed && a.pool.release(G[0])) : e & i ? (G[1] = o, G[2] = y) : e & c ? G[2] |= y : e & m || n(!1, \"ModelDirtySet.objectGeometryAdded: inconsistent state\");\n    } else R.set(l, [t, o, y]);\n\n    this.dirty = this._hasDirtyGeometryRecords;\n  }\n\n  _ensureGeomRecord(e, t) {\n    let r = this._residentGeomRecords.get(e);\n\n    r || (r = new Map(), this._residentGeomRecords.set(e, r));\n    let o = r.get(t);\n    return o || (o = new Map(), r.set(t, o)), o;\n  }\n\n  get _hasDirtyGeometryRecords() {\n    return r(this._dirtyGeomRecords, e => r(e, e => e && e.size > 0));\n  }\n\n  _ensureDirtyRecord(e, t) {\n    let r = this._dirtyGeomRecords.get(e);\n\n    r || (r = new Map(), this._dirtyGeomRecords.set(e, r));\n    let o = r.get(t);\n    return o || (o = new Map(), r.set(t, o)), o;\n  }\n\n  _getParentLayerId(e) {\n    return o(e.parentLayer) ? e.parentLayer.id : d;\n  }\n\n  formatDebugInfo() {\n    const e = [\"ADD\", \"UPD\", void 0, \"REM\"];\n    let t = \"\";\n    return this._dirtyGeomRecords.forEach((r, o) => {\n      r.forEach((r, s) => {\n        t.length > 0 && (t += \"\\n\"), t += o + \".\" + s;\n        const d = [];\n        r.forEach(e => {\n          const t = e[1];\n          d[t] || (d[t] = []), d[t].push(e[0].geometry.id);\n        });\n\n        for (let o = 0; o < d.length; o++) if (d[o]) {\n          t += \" \" + e[o - 1] + \": \";\n\n          for (let e = 0; e < d[o].length; e++) t += d[o][e] + \", \";\n        }\n      });\n    }), t;\n  }\n\n  get test() {\n    const e = this;\n    return {\n      get residentLayerCount() {\n        return e._residentGeomRecords.size;\n      },\n\n      get residentObjectCount() {\n        return Array.from(e._residentGeomRecords.values()).reduce((e, t) => e + t.size, 0);\n      }\n\n    };\n  }\n\n};\ne([i({\n  constructOnly: !0\n})], y.prototype, \"model\", void 0), e([i()], y.prototype, \"dirty\", void 0), y = e([c(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")], y);\nconst h = y;\nexport { h as default };","map":{"version":3,"names":["_","e","t","someMap","r","isSome","o","unwrapOr","s","NullUID","d","property","i","subclass","c","GeometryRecord","a","ModelDirty","m","assert","n","y","constructor","_residentGeomRecords","Map","_dirtyGeomRecords","dirty","commit","forEach","commitLayer","get","_ensureGeomRecord","h","Geometry","UPDATE","State","TRANSFORMATION","model","getObject","updateRenderGeometryTransformation","updates","push","renderGeometry","updateType","REMOVE","removes","delete","disposed","pool","release","ADD","getRenderGeometry","adds","set","size","getResidentRenderGeometries","_objectStateChanged","geometryRecords","_updateOrCreateDirtyRecord","visibilityChanged","VISIBILITIES","highlightChanged","HIGHLIGHTS","occlusionChanged","OCCLUDEES","vertexAttrsUpdated","object","record","VERTEXATTRS","layerAdded","objects","forAll","_layerObjectAdded","layerRemoved","_layerObjectRemoved","layerObjectAdded","layer","id","_objectGeometryAdded","layerObjectRemoved","layerObjectsAdded","layerObjectsRemoved","_objectGeometryRemoved","shaderTransformationChanged","hasVolativeTransformation","objectTransformation","_getParentLayerId","objectGeometryAdded","objectGeometryRemoved","l","R","_ensureDirtyRecord","G","_hasDirtyGeometryRecords","parentLayer","formatDebugInfo","length","geometry","test","residentLayerCount","residentObjectCount","Array","from","values","reduce","constructOnly","prototype","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtySet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as o,unwrapOr as s}from\"../../../../core/maybe.js\";import{NullUID as d}from\"../../../../core/uid.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{GeometryRecord as a}from\"./GeometryRecord.js\";import{ModelDirty as m}from\"./ModelDirtyTypes.js\";import{assert as n}from\"./Util.js\";let y=class extends t{constructor(e){super(e),this._residentGeomRecords=new Map,this._dirtyGeomRecords=new Map,this.dirty=!1}commit(e){this.dirty=!1,this._dirtyGeomRecords.forEach(((t,r)=>this.commitLayer(r,e)))}commitLayer(e,t){const r=this._dirtyGeomRecords.get(e);r&&(r.forEach(((r,s)=>{const d=this._ensureGeomRecord(e,s);r.forEach(((e,r)=>{const i=e[0],c=e[1],y=e[2];let h=!1;if(c&m.Geometry.UPDATE){const e=d.get(r);if(e){const r=e[1];if(y&m.State.TRANSFORMATION){const e=this.model.getObject(s);this.model.updateRenderGeometryTransformation(e,i,r)&&(h=!0)}h||t.updates.push({renderGeometry:r,updateType:y})}else n(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid update\")}if(c&m.Geometry.REMOVE||h){const e=d.get(r);e?(t.removes.push(e[1]),d.delete(r),e[0].disposed&&a.pool.release(e[0])):c===m.Geometry.REMOVE&&n(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove\")}if(c&m.Geometry.ADD||h){const e=this.model.getObject(s);if(o(e)){const o=this.model.getRenderGeometry(e,i),s=[i,o];t.adds.push(o),d.set(r,s)}}})),0===d.size&&this._residentGeomRecords.get(e).delete(s)})),0===this._residentGeomRecords.get(e).size&&this._residentGeomRecords.delete(e),this._dirtyGeomRecords.delete(e))}getResidentRenderGeometries(e,t){const r=this._residentGeomRecords.get(e);r&&r.forEach((e=>e.forEach((e=>t.push(e[1])))))}_objectStateChanged(e,t){for(const r of t.geometryRecords)this._updateOrCreateDirtyRecord(t,r,null,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,e)}visibilityChanged(e){this._objectStateChanged(m.State.VISIBILITIES,e)}highlightChanged(e){this._objectStateChanged(m.State.HIGHLIGHTS,e)}occlusionChanged(e){this._objectStateChanged(m.State.OCCLUDEES,e)}vertexAttrsUpdated(e){this._updateOrCreateDirtyRecord(e.object,e.record,null,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,m.State.VERTEXATTRS)}layerAdded(e){e.objects.forAll((t=>this._layerObjectAdded(e,t)))}layerRemoved(e){e.objects.forAll((t=>this._layerObjectRemoved(e,t)))}layerObjectAdded(e){this._layerObjectAdded(e.layer,e.object)}_layerObjectAdded(e,t){const r=e.id;for(const o of t.geometryRecords)this._objectGeometryAdded(t,o,r)}layerObjectRemoved(e){this._layerObjectRemoved(e.layer,e.object)}layerObjectsAdded(e){for(const t of e.objects)this._layerObjectAdded(e.layer,t)}layerObjectsRemoved(e){for(const t of e.objects)this._layerObjectRemoved(e.layer,t)}_layerObjectRemoved(e,t){const r=e.id;for(const o of t.geometryRecords)this._objectGeometryRemoved(t,o,r)}shaderTransformationChanged(e){const t=this._residentGeomRecords.get(e.id);t&&t.forEach(((e,t)=>{const r=this.model.getObject(t);r&&r.hasVolativeTransformation()&&e.forEach((e=>{e[1].shaderTransformationChanged()}))}))}objectTransformation(e){const t=this._getParentLayerId(e),r=e.id;this._ensureGeomRecord(t,r).forEach((r=>{this._updateOrCreateDirtyRecord(e,r[0],t,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,m.State.TRANSFORMATION)}))}objectGeometryAdded(e){this._objectGeometryAdded(e.object,e.record)}_objectGeometryAdded(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,m.Geometry.ADD,m.Geometry.REMOVE,0,0,0)}objectGeometryRemoved(e){this._objectGeometryRemoved(e.object,e.record)}_objectGeometryRemoved(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,m.Geometry.REMOVE,m.Geometry.ADD,m.Geometry.UPDATE,0,0)}_updateOrCreateDirtyRecord(e,t,r,o,d,i,c,m,y){r=s(r,this._getParentLayerId(e));const h=e.id,l=t.id,R=this._ensureDirtyRecord(r,h),G=R.get(l);if(G){const e=G[1];e&d?(R.delete(l),G[0].disposed&&a.pool.release(G[0])):e&i?(G[1]=o,G[2]=y):e&c?G[2]|=y:e&m||n(!1,\"ModelDirtySet.objectGeometryAdded: inconsistent state\")}else R.set(l,[t,o,y]);this.dirty=this._hasDirtyGeometryRecords}_ensureGeomRecord(e,t){let r=this._residentGeomRecords.get(e);r||(r=new Map,this._residentGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}get _hasDirtyGeometryRecords(){return r(this._dirtyGeomRecords,(e=>r(e,(e=>e&&e.size>0))))}_ensureDirtyRecord(e,t){let r=this._dirtyGeomRecords.get(e);r||(r=new Map,this._dirtyGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}_getParentLayerId(e){return o(e.parentLayer)?e.parentLayer.id:d}formatDebugInfo(){const e=[\"ADD\",\"UPD\",void 0,\"REM\"];let t=\"\";return this._dirtyGeomRecords.forEach(((r,o)=>{r.forEach(((r,s)=>{t.length>0&&(t+=\"\\n\"),t+=o+\".\"+s;const d=[];r.forEach((e=>{const t=e[1];d[t]||(d[t]=[]),d[t].push(e[0].geometry.id)}));for(let o=0;o<d.length;o++)if(d[o]){t+=\" \"+e[o-1]+\": \";for(let e=0;e<d[o].length;e++)t+=d[o][e]+\", \"}}))})),t}get test(){const e=this;return{get residentLayerCount(){return e._residentGeomRecords.size},get residentObjectCount(){return Array.from(e._residentGeomRecords.values()).reduce(((e,t)=>e+t.size),0)}}}};e([i({constructOnly:!0})],y.prototype,\"model\",void 0),e([i()],y.prototype,\"dirty\",void 0),y=e([c(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")],y);const h=y;export{h as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}