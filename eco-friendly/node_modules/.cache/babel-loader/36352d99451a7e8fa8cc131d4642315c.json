{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { TILE_SIZE as i } from \"./definitions.js\";\nimport { Point as t, GeometryType as s } from \"./Geometry.js\";\nimport { between as h } from \"./GeometryUtils.js\";\n\nclass e {\n  constructor(i, t, s) {\n    this.ratio = i, this.x = t, this.y = s;\n  }\n\n}\n\nclass n {\n  constructor(t, s, h, e = 8, n = 8) {\n    this._lines = [], this._starts = [], this.validateTessellation = !0, this._pixelRatio = e, this._pixelMargin = n, this._tileSize = i * e, this._dz = t, this._yPos = s, this._xPos = h;\n  }\n\n  setPixelMargin(i) {\n    i !== this._pixelMargin && (this._pixelMargin = i, this.setExtent(this._extent));\n  }\n\n  setExtent(i) {\n    this._extent = i, this._finalRatio = this._tileSize / i * (1 << this._dz);\n    let t = this._pixelRatio * this._pixelMargin;\n    t /= this._finalRatio;\n    const s = i >> this._dz;\n    t > s && (t = s), this._margin = t, this._xmin = s * this._xPos - t, this._ymin = s * this._yPos - t, this._xmax = this._xmin + s + 2 * t, this._ymax = this._ymin + s + 2 * t;\n  }\n\n  reset(i) {\n    this._type = i, this._lines = [], this._starts = [], this._line = null, this._start = 0;\n  }\n\n  moveTo(i, s) {\n    this._pushLine(), this._prevIsIn = this._isIn(i, s), this._moveTo(i, s, this._prevIsIn), this._prevPt = new t(i, s), this._firstPt = new t(i, s), this._dist = 0;\n  }\n\n  lineTo(i, s) {\n    const h = this._isIn(i, s),\n          n = new t(i, s),\n          _ = t.distance(this._prevPt, n);\n\n    let l, x, a, y, o, r, m, p;\n    if (h) this._prevIsIn ? this._lineTo(i, s, !0) : (l = this._prevPt, x = n, a = this._intersect(x, l), this._start = this._dist + _ * (1 - this._r), this._lineTo(a.x, a.y, !0), this._lineTo(x.x, x.y, !0));else if (this._prevIsIn) x = this._prevPt, l = n, a = this._intersect(x, l), this._lineTo(a.x, a.y, !0), this._lineTo(l.x, l.y, !1);else {\n      const i = this._prevPt,\n            t = n;\n      if (i.x <= this._xmin && t.x <= this._xmin || i.x >= this._xmax && t.x >= this._xmax || i.y <= this._ymin && t.y <= this._ymin || i.y >= this._ymax && t.y >= this._ymax) this._lineTo(t.x, t.y, !1);else {\n        const s = [];\n        if ((i.x < this._xmin && t.x > this._xmin || i.x > this._xmin && t.x < this._xmin) && (y = (this._xmin - i.x) / (t.x - i.x), p = i.y + y * (t.y - i.y), p <= this._ymin ? r = !1 : p >= this._ymax ? r = !0 : s.push(new e(y, this._xmin, p))), (i.x < this._xmax && t.x > this._xmax || i.x > this._xmax && t.x < this._xmax) && (y = (this._xmax - i.x) / (t.x - i.x), p = i.y + y * (t.y - i.y), p <= this._ymin ? r = !1 : p >= this._ymax ? r = !0 : s.push(new e(y, this._xmax, p))), (i.y < this._ymin && t.y > this._ymin || i.y > this._ymin && t.y < this._ymin) && (y = (this._ymin - i.y) / (t.y - i.y), m = i.x + y * (t.x - i.x), m <= this._xmin ? o = !1 : m >= this._xmax ? o = !0 : s.push(new e(y, m, this._ymin))), (i.y < this._ymax && t.y > this._ymax || i.y > this._ymax && t.y < this._ymax) && (y = (this._ymax - i.y) / (t.y - i.y), m = i.x + y * (t.x - i.x), m <= this._xmin ? o = !1 : m >= this._xmax ? o = !0 : s.push(new e(y, m, this._ymax))), 0 === s.length) o ? r ? this._lineTo(this._xmax, this._ymax, !0) : this._lineTo(this._xmax, this._ymin, !0) : r ? this._lineTo(this._xmin, this._ymax, !0) : this._lineTo(this._xmin, this._ymin, !0);else if (s.length > 1 && s[0].ratio > s[1].ratio) this._start = this._dist + _ * s[1].ratio, this._lineTo(s[1].x, s[1].y, !0), this._lineTo(s[0].x, s[0].y, !0);else {\n          this._start = this._dist + _ * s[0].ratio;\n\n          for (let i = 0; i < s.length; i++) this._lineTo(s[i].x, s[i].y, !0);\n        }\n\n        this._lineTo(t.x, t.y, !1);\n      }\n    }\n    this._dist += _, this._prevIsIn = h, this._prevPt = n;\n  }\n\n  close() {\n    if (this._line.length > 2) {\n      const i = this._firstPt,\n            t = this._prevPt;\n      i.x === t.x && i.y === t.y || this.lineTo(i.x, i.y);\n      const s = this._line;\n      let h = s.length;\n\n      for (; h >= 4 && (s[0].x === s[1].x && s[0].x === s[h - 2].x || s[0].y === s[1].y && s[0].y === s[h - 2].y);) s.pop(), s[0].x = s[h - 2].x, s[0].y = s[h - 2].y, --h;\n    }\n  }\n\n  result(i = !0) {\n    return this._pushLine(), 0 === this._lines.length ? null : (this._type === s.Polygon && i && x.simplify(this._tileSize, this._margin * this._finalRatio, this._lines), this._lines);\n  }\n\n  resultWithStarts() {\n    if (this._type !== s.LineString) throw new Error(\"Only valid for lines\");\n\n    this._pushLine();\n\n    const i = this._lines,\n          t = i.length;\n    if (0 === t) return null;\n    const h = [];\n\n    for (let s = 0; s < t; s++) h.push({\n      line: i[s],\n      start: this._starts[s] || 0\n    });\n\n    return h;\n  }\n\n  _isIn(i, t) {\n    return i >= this._xmin && i <= this._xmax && t >= this._ymin && t <= this._ymax;\n  }\n\n  _intersect(i, s) {\n    let h, e, n;\n    if (s.x >= this._xmin && s.x <= this._xmax) e = s.y <= this._ymin ? this._ymin : this._ymax, n = (e - i.y) / (s.y - i.y), h = i.x + n * (s.x - i.x);else if (s.y >= this._ymin && s.y <= this._ymax) h = s.x <= this._xmin ? this._xmin : this._xmax, n = (h - i.x) / (s.x - i.x), e = i.y + n * (s.y - i.y);else {\n      e = s.y <= this._ymin ? this._ymin : this._ymax, h = s.x <= this._xmin ? this._xmin : this._xmax;\n\n      const t = (h - i.x) / (s.x - i.x),\n            _ = (e - i.y) / (s.y - i.y);\n\n      t < _ ? (n = t, e = i.y + t * (s.y - i.y)) : (n = _, h = i.x + _ * (s.x - i.x));\n    }\n    return this._r = n, new t(h, e);\n  }\n\n  _pushLine() {\n    this._line && (this._type === s.Point ? this._line.length > 0 && (this._lines.push(this._line), this._starts.push(this._start)) : this._type === s.LineString ? this._line.length > 1 && (this._lines.push(this._line), this._starts.push(this._start)) : this._type === s.Polygon && this._line.length > 3 && (this._lines.push(this._line), this._starts.push(this._start))), this._line = [], this._start = 0;\n  }\n\n  _moveTo(i, h, e) {\n    this._type !== s.Polygon ? e && (i = Math.round((i - (this._xmin + this._margin)) * this._finalRatio), h = Math.round((h - (this._ymin + this._margin)) * this._finalRatio), this._line.push(new t(i, h))) : (e || (i < this._xmin && (i = this._xmin), i > this._xmax && (i = this._xmax), h < this._ymin && (h = this._ymin), h > this._ymax && (h = this._ymax)), i = Math.round((i - (this._xmin + this._margin)) * this._finalRatio), h = Math.round((h - (this._ymin + this._margin)) * this._finalRatio), this._line.push(new t(i, h)), this._isH = !1, this._isV = !1);\n  }\n\n  _lineTo(i, h, e) {\n    let n, _;\n\n    if (this._type !== s.Polygon) {\n      if (e) {\n        if (i = Math.round((i - (this._xmin + this._margin)) * this._finalRatio), h = Math.round((h - (this._ymin + this._margin)) * this._finalRatio), this._line.length > 0 && (n = this._line[this._line.length - 1], n.equals(i, h))) return;\n\n        this._line.push(new t(i, h));\n      } else this._line && this._line.length > 0 && this._pushLine();\n    } else if (e || (i < this._xmin && (i = this._xmin), i > this._xmax && (i = this._xmax), h < this._ymin && (h = this._ymin), h > this._ymax && (h = this._ymax)), i = Math.round((i - (this._xmin + this._margin)) * this._finalRatio), h = Math.round((h - (this._ymin + this._margin)) * this._finalRatio), this._line && this._line.length > 0) {\n      n = this._line[this._line.length - 1];\n      const s = n.x === i,\n            e = n.y === h;\n      if (s && e) return;\n      this._isH && s || this._isV && e ? (n.x = i, n.y = h, _ = this._line[this._line.length - 2], _.x === i && _.y === h ? (this._line.pop(), this._line.length <= 1 ? (this._isH = !1, this._isV = !1) : (_ = this._line[this._line.length - 2], this._isH = _.x === i, this._isV = _.y === h)) : (this._isH = _.x === i, this._isV = _.y === h)) : (this._line.push(new t(i, h)), this._isH = s, this._isV = e);\n    } else this._line.push(new t(i, h));\n  }\n\n}\n\nclass _ {\n  setExtent(i) {\n    this._ratio = 4096 === i ? 1 : 4096 / i;\n  }\n\n  get validateTessellation() {\n    return this._ratio < 1;\n  }\n\n  reset(i) {\n    this._lines = [], this._line = null;\n  }\n\n  moveTo(i, s) {\n    this._line && this._lines.push(this._line), this._line = [];\n    const h = this._ratio;\n\n    this._line.push(new t(i * h, s * h));\n  }\n\n  lineTo(i, s) {\n    const h = this._ratio;\n\n    this._line.push(new t(i * h, s * h));\n  }\n\n  close() {\n    const i = this._line;\n    i && !i[0].isEqual(i[i.length - 1]) && i.push(i[0]);\n  }\n\n  result() {\n    return this._line && this._lines.push(this._line), 0 === this._lines.length ? null : this._lines;\n  }\n\n}\n\nvar l;\n!function (i) {\n  i[i.sideLeft = 0] = \"sideLeft\", i[i.sideRight = 1] = \"sideRight\", i[i.sideTop = 2] = \"sideTop\", i[i.sideBottom = 3] = \"sideBottom\";\n}(l || (l = {}));\n\nclass x {\n  static simplify(i, t, s) {\n    if (!s) return;\n\n    const h = -t,\n          e = i + t,\n          n = -t,\n          _ = i + t,\n          a = [],\n          y = [],\n          o = s.length;\n\n    for (let x = 0; x < o; ++x) {\n      const i = s[x];\n      if (!i || i.length < 2) continue;\n      let t,\n          o = i[0];\n      const r = i.length;\n\n      for (let s = 1; s < r; ++s) t = i[s], o.x === t.x && (o.x <= h && (o.y > t.y ? (a.push(x), a.push(s), a.push(l.sideLeft), a.push(-1)) : (y.push(x), y.push(s), y.push(l.sideLeft), y.push(-1))), o.x >= e && (o.y < t.y ? (a.push(x), a.push(s), a.push(l.sideRight), a.push(-1)) : (y.push(x), y.push(s), y.push(l.sideRight), y.push(-1)))), o.y === t.y && (o.y <= n && (o.x < t.x ? (a.push(x), a.push(s), a.push(l.sideTop), a.push(-1)) : (y.push(x), y.push(s), y.push(l.sideTop), y.push(-1))), o.y >= _ && (o.x > t.x ? (a.push(x), a.push(s), a.push(l.sideBottom), a.push(-1)) : (y.push(x), y.push(s), y.push(l.sideBottom), y.push(-1)))), o = t;\n    }\n\n    if (0 === a.length || 0 === y.length) return;\n    x.fillParent(s, y, a), x.fillParent(s, a, y);\n    const r = [];\n    x.calcDeltas(r, y, a), x.calcDeltas(r, a, y), x.addDeltas(r, s);\n  }\n\n  static fillParent(i, t, s) {\n    const e = s.length,\n          n = t.length;\n\n    for (let _ = 0; _ < n; _ += 4) {\n      const n = t[_],\n            x = t[_ + 1],\n            a = t[_ + 2],\n            y = i[n][x - 1],\n            o = i[n][x];\n      let r = 8092,\n          m = -1;\n\n      for (let t = 0; t < e; t += 4) {\n        if (s[t + 2] !== a) continue;\n        const e = s[t],\n              n = s[t + 1],\n              _ = i[e][n - 1],\n              x = i[e][n];\n\n        switch (a) {\n          case l.sideLeft:\n          case l.sideRight:\n            if (h(y.y, _.y, x.y) && h(o.y, _.y, x.y)) {\n              const i = Math.abs(x.y - _.y);\n              i < r && (r = i, m = t);\n            }\n\n            break;\n\n          case l.sideTop:\n          case l.sideBottom:\n            if (h(y.x, _.x, x.x) && h(o.x, _.x, x.x)) {\n              const i = Math.abs(x.x - _.x);\n              i < r && (r = i, m = t);\n            }\n\n        }\n      }\n\n      t[_ + 3] = m;\n    }\n  }\n\n  static calcDeltas(i, t, s) {\n    const h = t.length;\n\n    for (let e = 0; e < h; e += 4) {\n      const h = [],\n            n = x.calcDelta(e, t, s, h);\n      i.push(t[e]), i.push(t[e + 1]), i.push(t[e + 2]), i.push(n);\n    }\n  }\n\n  static calcDelta(i, t, s, h) {\n    const e = t[i + 3];\n    if (-1 === e) return 0;\n    const n = h.length;\n    return n > 1 && h[n - 2] === e ? 0 : (h.push(e), x.calcDelta(e, s, t, h) + 1);\n  }\n\n  static addDeltas(i, t) {\n    const s = i.length;\n    let h = 0;\n\n    for (let e = 0; e < s; e += 4) {\n      const t = i[e + 3];\n      t > h && (h = t);\n    }\n\n    for (let e = 0; e < s; e += 4) {\n      const s = t[i[e]],\n            n = i[e + 1],\n            _ = h - i[e + 3];\n\n      switch (i[e + 2]) {\n        case l.sideLeft:\n          s[n - 1].x -= _, s[n].x -= _, 1 === n && (s[s.length - 1].x -= _), n === s.length - 1 && (s[0].x -= _);\n          break;\n\n        case l.sideRight:\n          s[n - 1].x += _, s[n].x += _, 1 === n && (s[s.length - 1].x += _), n === s.length - 1 && (s[0].x += _);\n          break;\n\n        case l.sideTop:\n          s[n - 1].y -= _, s[n].y -= _, 1 === n && (s[s.length - 1].y -= _), n === s.length - 1 && (s[0].y -= _);\n          break;\n\n        case l.sideBottom:\n          s[n - 1].y += _, s[n].y += _, 1 === n && (s[s.length - 1].y += _), n === s.length - 1 && (s[0].y += _);\n      }\n    }\n  }\n\n}\n\nexport { _ as SimpleBuilder, n as TileClipper };","map":{"version":3,"names":["TILE_SIZE","i","Point","t","GeometryType","s","between","h","e","constructor","ratio","x","y","n","_lines","_starts","validateTessellation","_pixelRatio","_pixelMargin","_tileSize","_dz","_yPos","_xPos","setPixelMargin","setExtent","_extent","_finalRatio","_margin","_xmin","_ymin","_xmax","_ymax","reset","_type","_line","_start","moveTo","_pushLine","_prevIsIn","_isIn","_moveTo","_prevPt","_firstPt","_dist","lineTo","_","distance","l","a","o","r","m","p","_lineTo","_intersect","_r","push","length","close","pop","result","Polygon","simplify","resultWithStarts","LineString","Error","line","start","Math","round","_isH","_isV","equals","_ratio","isEqual","sideLeft","sideRight","sideTop","sideBottom","fillParent","calcDeltas","addDeltas","abs","calcDelta","SimpleBuilder","TileClipper"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/TileClipper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{TILE_SIZE as i}from\"./definitions.js\";import{Point as t,GeometryType as s}from\"./Geometry.js\";import{between as h}from\"./GeometryUtils.js\";class e{constructor(i,t,s){this.ratio=i,this.x=t,this.y=s}}class n{constructor(t,s,h,e=8,n=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=e,this._pixelMargin=n,this._tileSize=i*e,this._dz=t,this._yPos=s,this._xPos=h}setPixelMargin(i){i!==this._pixelMargin&&(this._pixelMargin=i,this.setExtent(this._extent))}setExtent(i){this._extent=i,this._finalRatio=this._tileSize/i*(1<<this._dz);let t=this._pixelRatio*this._pixelMargin;t/=this._finalRatio;const s=i>>this._dz;t>s&&(t=s),this._margin=t,this._xmin=s*this._xPos-t,this._ymin=s*this._yPos-t,this._xmax=this._xmin+s+2*t,this._ymax=this._ymin+s+2*t}reset(i){this._type=i,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(i,s){this._pushLine(),this._prevIsIn=this._isIn(i,s),this._moveTo(i,s,this._prevIsIn),this._prevPt=new t(i,s),this._firstPt=new t(i,s),this._dist=0}lineTo(i,s){const h=this._isIn(i,s),n=new t(i,s),_=t.distance(this._prevPt,n);let l,x,a,y,o,r,m,p;if(h)this._prevIsIn?this._lineTo(i,s,!0):(l=this._prevPt,x=n,a=this._intersect(x,l),this._start=this._dist+_*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(x.x,x.y,!0));else if(this._prevIsIn)x=this._prevPt,l=n,a=this._intersect(x,l),this._lineTo(a.x,a.y,!0),this._lineTo(l.x,l.y,!1);else{const i=this._prevPt,t=n;if(i.x<=this._xmin&&t.x<=this._xmin||i.x>=this._xmax&&t.x>=this._xmax||i.y<=this._ymin&&t.y<=this._ymin||i.y>=this._ymax&&t.y>=this._ymax)this._lineTo(t.x,t.y,!1);else{const s=[];if((i.x<this._xmin&&t.x>this._xmin||i.x>this._xmin&&t.x<this._xmin)&&(y=(this._xmin-i.x)/(t.x-i.x),p=i.y+y*(t.y-i.y),p<=this._ymin?r=!1:p>=this._ymax?r=!0:s.push(new e(y,this._xmin,p))),(i.x<this._xmax&&t.x>this._xmax||i.x>this._xmax&&t.x<this._xmax)&&(y=(this._xmax-i.x)/(t.x-i.x),p=i.y+y*(t.y-i.y),p<=this._ymin?r=!1:p>=this._ymax?r=!0:s.push(new e(y,this._xmax,p))),(i.y<this._ymin&&t.y>this._ymin||i.y>this._ymin&&t.y<this._ymin)&&(y=(this._ymin-i.y)/(t.y-i.y),m=i.x+y*(t.x-i.x),m<=this._xmin?o=!1:m>=this._xmax?o=!0:s.push(new e(y,m,this._ymin))),(i.y<this._ymax&&t.y>this._ymax||i.y>this._ymax&&t.y<this._ymax)&&(y=(this._ymax-i.y)/(t.y-i.y),m=i.x+y*(t.x-i.x),m<=this._xmin?o=!1:m>=this._xmax?o=!0:s.push(new e(y,m,this._ymax))),0===s.length)o?r?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):r?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(s.length>1&&s[0].ratio>s[1].ratio)this._start=this._dist+_*s[1].ratio,this._lineTo(s[1].x,s[1].y,!0),this._lineTo(s[0].x,s[0].y,!0);else{this._start=this._dist+_*s[0].ratio;for(let i=0;i<s.length;i++)this._lineTo(s[i].x,s[i].y,!0)}this._lineTo(t.x,t.y,!1)}}this._dist+=_,this._prevIsIn=h,this._prevPt=n}close(){if(this._line.length>2){const i=this._firstPt,t=this._prevPt;i.x===t.x&&i.y===t.y||this.lineTo(i.x,i.y);const s=this._line;let h=s.length;for(;h>=4&&(s[0].x===s[1].x&&s[0].x===s[h-2].x||s[0].y===s[1].y&&s[0].y===s[h-2].y);)s.pop(),s[0].x=s[h-2].x,s[0].y=s[h-2].y,--h}}result(i=!0){return this._pushLine(),0===this._lines.length?null:(this._type===s.Polygon&&i&&x.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==s.LineString)throw new Error(\"Only valid for lines\");this._pushLine();const i=this._lines,t=i.length;if(0===t)return null;const h=[];for(let s=0;s<t;s++)h.push({line:i[s],start:this._starts[s]||0});return h}_isIn(i,t){return i>=this._xmin&&i<=this._xmax&&t>=this._ymin&&t<=this._ymax}_intersect(i,s){let h,e,n;if(s.x>=this._xmin&&s.x<=this._xmax)e=s.y<=this._ymin?this._ymin:this._ymax,n=(e-i.y)/(s.y-i.y),h=i.x+n*(s.x-i.x);else if(s.y>=this._ymin&&s.y<=this._ymax)h=s.x<=this._xmin?this._xmin:this._xmax,n=(h-i.x)/(s.x-i.x),e=i.y+n*(s.y-i.y);else{e=s.y<=this._ymin?this._ymin:this._ymax,h=s.x<=this._xmin?this._xmin:this._xmax;const t=(h-i.x)/(s.x-i.x),_=(e-i.y)/(s.y-i.y);t<_?(n=t,e=i.y+t*(s.y-i.y)):(n=_,h=i.x+_*(s.x-i.x))}return this._r=n,new t(h,e)}_pushLine(){this._line&&(this._type===s.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===s.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===s.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(i,h,e){this._type!==s.Polygon?e&&(i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),h=Math.round((h-(this._ymin+this._margin))*this._finalRatio),this._line.push(new t(i,h))):(e||(i<this._xmin&&(i=this._xmin),i>this._xmax&&(i=this._xmax),h<this._ymin&&(h=this._ymin),h>this._ymax&&(h=this._ymax)),i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),h=Math.round((h-(this._ymin+this._margin))*this._finalRatio),this._line.push(new t(i,h)),this._isH=!1,this._isV=!1)}_lineTo(i,h,e){let n,_;if(this._type!==s.Polygon)if(e){if(i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),h=Math.round((h-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(n=this._line[this._line.length-1],n.equals(i,h)))return;this._line.push(new t(i,h))}else this._line&&this._line.length>0&&this._pushLine();else if(e||(i<this._xmin&&(i=this._xmin),i>this._xmax&&(i=this._xmax),h<this._ymin&&(h=this._ymin),h>this._ymax&&(h=this._ymax)),i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),h=Math.round((h-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){n=this._line[this._line.length-1];const s=n.x===i,e=n.y===h;if(s&&e)return;this._isH&&s||this._isV&&e?(n.x=i,n.y=h,_=this._line[this._line.length-2],_.x===i&&_.y===h?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(_=this._line[this._line.length-2],this._isH=_.x===i,this._isV=_.y===h)):(this._isH=_.x===i,this._isV=_.y===h)):(this._line.push(new t(i,h)),this._isH=s,this._isV=e)}else this._line.push(new t(i,h))}}class _{setExtent(i){this._ratio=4096===i?1:4096/i}get validateTessellation(){return this._ratio<1}reset(i){this._lines=[],this._line=null}moveTo(i,s){this._line&&this._lines.push(this._line),this._line=[];const h=this._ratio;this._line.push(new t(i*h,s*h))}lineTo(i,s){const h=this._ratio;this._line.push(new t(i*h,s*h))}close(){const i=this._line;i&&!i[0].isEqual(i[i.length-1])&&i.push(i[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}var l;!function(i){i[i.sideLeft=0]=\"sideLeft\",i[i.sideRight=1]=\"sideRight\",i[i.sideTop=2]=\"sideTop\",i[i.sideBottom=3]=\"sideBottom\"}(l||(l={}));class x{static simplify(i,t,s){if(!s)return;const h=-t,e=i+t,n=-t,_=i+t,a=[],y=[],o=s.length;for(let x=0;x<o;++x){const i=s[x];if(!i||i.length<2)continue;let t,o=i[0];const r=i.length;for(let s=1;s<r;++s)t=i[s],o.x===t.x&&(o.x<=h&&(o.y>t.y?(a.push(x),a.push(s),a.push(l.sideLeft),a.push(-1)):(y.push(x),y.push(s),y.push(l.sideLeft),y.push(-1))),o.x>=e&&(o.y<t.y?(a.push(x),a.push(s),a.push(l.sideRight),a.push(-1)):(y.push(x),y.push(s),y.push(l.sideRight),y.push(-1)))),o.y===t.y&&(o.y<=n&&(o.x<t.x?(a.push(x),a.push(s),a.push(l.sideTop),a.push(-1)):(y.push(x),y.push(s),y.push(l.sideTop),y.push(-1))),o.y>=_&&(o.x>t.x?(a.push(x),a.push(s),a.push(l.sideBottom),a.push(-1)):(y.push(x),y.push(s),y.push(l.sideBottom),y.push(-1)))),o=t}if(0===a.length||0===y.length)return;x.fillParent(s,y,a),x.fillParent(s,a,y);const r=[];x.calcDeltas(r,y,a),x.calcDeltas(r,a,y),x.addDeltas(r,s)}static fillParent(i,t,s){const e=s.length,n=t.length;for(let _=0;_<n;_+=4){const n=t[_],x=t[_+1],a=t[_+2],y=i[n][x-1],o=i[n][x];let r=8092,m=-1;for(let t=0;t<e;t+=4){if(s[t+2]!==a)continue;const e=s[t],n=s[t+1],_=i[e][n-1],x=i[e][n];switch(a){case l.sideLeft:case l.sideRight:if(h(y.y,_.y,x.y)&&h(o.y,_.y,x.y)){const i=Math.abs(x.y-_.y);i<r&&(r=i,m=t)}break;case l.sideTop:case l.sideBottom:if(h(y.x,_.x,x.x)&&h(o.x,_.x,x.x)){const i=Math.abs(x.x-_.x);i<r&&(r=i,m=t)}}}t[_+3]=m}}static calcDeltas(i,t,s){const h=t.length;for(let e=0;e<h;e+=4){const h=[],n=x.calcDelta(e,t,s,h);i.push(t[e]),i.push(t[e+1]),i.push(t[e+2]),i.push(n)}}static calcDelta(i,t,s,h){const e=t[i+3];if(-1===e)return 0;const n=h.length;return n>1&&h[n-2]===e?0:(h.push(e),x.calcDelta(e,s,t,h)+1)}static addDeltas(i,t){const s=i.length;let h=0;for(let e=0;e<s;e+=4){const t=i[e+3];t>h&&(h=t)}for(let e=0;e<s;e+=4){const s=t[i[e]],n=i[e+1],_=h-i[e+3];switch(i[e+2]){case l.sideLeft:s[n-1].x-=_,s[n].x-=_,1===n&&(s[s.length-1].x-=_),n===s.length-1&&(s[0].x-=_);break;case l.sideRight:s[n-1].x+=_,s[n].x+=_,1===n&&(s[s.length-1].x+=_),n===s.length-1&&(s[0].x+=_);break;case l.sideTop:s[n-1].y-=_,s[n].y-=_,1===n&&(s[s.length-1].y-=_),n===s.length-1&&(s[0].y-=_);break;case l.sideBottom:s[n-1].y+=_,s[n].y+=_,1===n&&(s[s.length-1].y+=_),n===s.length-1&&(s[0].y+=_)}}}}export{_ as SimpleBuilder,n as TileClipper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}