{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../../core/maybe.js\";\nimport { BucketType as e } from \"../enums.js\";\nimport { VTLSymbol as s } from \"./core.js\";\n\nclass o {\n  constructor(t) {\n    this.tile = t, this.parent = null, this.children = new Set();\n  }\n\n}\n\nclass r {\n  constructor() {\n    this.nodes = new Map(), this.roots = new Set();\n  }\n\n  create(t) {\n    const e = new o(t);\n    let s;\n    const r = [];\n\n    if (this.nodes.forEach(t => {\n      this._canConnectDirectly(e, t) && r.push(t), !s && this._canConnectDirectly(t, e) && (s = t);\n    }), s) {\n      for (const t of r) s.children.delete(t), e.children.add(t), t.parent = e;\n\n      s.children.add(e), e.parent = s;\n    } else {\n      this.roots.add(e);\n\n      for (const t of r) e.children.add(t), t.parent = e, this.roots.delete(t);\n    }\n\n    return this.nodes.set(t.key.id, e), e;\n  }\n\n  destroy(e) {\n    t(e.parent) ? (e.parent.children.delete(e), e.children.forEach(s => {\n      t(e.parent) && e.parent.children.add(s);\n    })) : this.roots.delete(e), e.children.forEach(t => {\n      t.parent = e.parent, e.parent || this.roots.add(t);\n    }), this.nodes.delete(e.tile.key.id);\n  }\n\n  clear() {\n    this.roots.clear(), this.nodes.clear();\n  }\n\n  _canConnectDirectly(t, e) {\n    let {\n      level: s,\n      row: o,\n      col: r\n    } = e.tile.key;\n    const {\n      world: l\n    } = e.tile.key;\n\n    for (; s > 0;) {\n      if (s--, o >>= 1, r >>= 1, t.tile.key.level === s && t.tile.key.row === o && t.tile.key.col === r && t.tile.key.world === l) return !0;\n      if (this.nodes.has(`${s}/${o}/${r}/${l}`)) return !1;\n    }\n\n    return !1;\n  }\n\n}\n\nfunction l(t, e, s, o, r, l) {\n  const i = s - r;\n  if (i >= 0) return (e >> i) + (o - (l << i)) * (t >> i);\n  const n = -i;\n  return e - (l - (o << n)) * (t >> n) << n;\n}\n\nclass i {\n  constructor(t, e, s) {\n    this._rows = Math.ceil(e / s), this._columns = Math.ceil(t / s), this._cellSize = s, this.cells = new Array(this._rows);\n\n    for (let o = 0; o < this._rows; o++) {\n      this.cells[o] = new Array(this._columns);\n\n      for (let t = 0; t < this._columns; t++) this.cells[o][t] = [];\n    }\n  }\n\n  getCell(t, e) {\n    const s = Math.min(Math.max(Math.floor(e / this._cellSize), 0), this._rows - 1),\n          o = Math.min(Math.max(Math.floor(t / this._cellSize), 0), this._columns - 1);\n    return this.cells[s] && this.cells[s][o] || null;\n  }\n\n  getCellSpan(t, e, s, o) {\n    return [Math.min(Math.max(Math.floor(t / this._cellSize), 0), this.columns - 1), Math.min(Math.max(Math.floor(e / this._cellSize), 0), this.rows - 1), Math.min(Math.max(Math.floor(s / this._cellSize), 0), this.columns - 1), Math.min(Math.max(Math.floor(o / this._cellSize), 0), this.rows - 1)];\n  }\n\n  get cellSize() {\n    return this._cellSize;\n  }\n\n  get columns() {\n    return this._columns;\n  }\n\n  get rows() {\n    return this._rows;\n  }\n\n}\n\nfunction n(t, e, o, r, l, i) {\n  const n = e[r++];\n\n  for (let c = 0; c < n; c++) {\n    const n = new s(i);\n    n.xTile = e[r++], n.yTile = e[r++], n.hash = e[r++], n.priority = e[r++];\n    const c = e[r++];\n\n    for (let t = 0; t < c; t++) {\n      const t = e[r++],\n            s = e[r++],\n            l = e[r++],\n            i = e[r++],\n            c = !!e[r++],\n            a = e[r++],\n            h = o[r++],\n            d = o[r++],\n            f = e[r++],\n            u = e[r++];\n      n.colliders.push({\n        xTile: t,\n        yTile: s,\n        dxPixels: l,\n        dyPixels: i,\n        hard: c,\n        partIndex: a,\n        width: f,\n        height: u,\n        minLod: h,\n        maxLod: d\n      });\n    }\n\n    const a = t[r++];\n\n    for (let e = 0; e < a; e++) n.textVertexRanges.push([t[r++], t[r++]]);\n\n    const h = t[r++];\n\n    for (let e = 0; e < h; e++) n.iconVertexRanges.push([t[r++], t[r++]]);\n\n    l.push(n);\n  }\n\n  return r;\n}\n\nfunction c(t, e, s) {\n  for (const [o, r] of t.symbols) a(t, e, s, r, o);\n}\n\nfunction a(t, s, o, r, l) {\n  const i = t.layerData.get(l);\n\n  if (i.type === e.SYMBOL) {\n    for (const e of r) {\n      const s = e.unique;\n      let r;\n\n      if (e.selectedForRendering) {\n        const e = s.parts[0],\n              l = e.startOpacity,\n              i = e.targetOpacity;\n        t.allSymbolsFadingOut = t.allSymbolsFadingOut && 0 === i;\n        const n = o ? Math.floor(127 * l) | i << 7 : i ? 255 : 0;\n        r = n << 24 | n << 16 | n << 8 | n;\n      } else r = 0;\n\n      for (const [t, o] of e.iconVertexRanges) for (let e = t; e < t + o; e += 4) i.iconOpacity[e / 4] = r;\n\n      if (e.selectedForRendering) {\n        const e = s.parts[1],\n              l = e.startOpacity,\n              i = e.targetOpacity;\n        t.allSymbolsFadingOut = t.allSymbolsFadingOut && 0 === i;\n        const n = o ? Math.floor(127 * l) | i << 7 : i ? 255 : 0;\n        r = n << 24 | n << 16 | n << 8 | n;\n      } else r = 0;\n\n      for (const [t, o] of e.textVertexRanges) for (let e = t; e < t + o; e += 4) i.textOpacity[e / 4] = r;\n    }\n\n    i.lastOpacityUpdate = s, i.opacityChanged = !0;\n  }\n}\n\nexport { i as GridIndex, r as TileGraph, o as TileNode, n as deserializeSymbols, l as tileCoordChange, c as writeOpacityToBuffers };","map":{"version":3,"names":["isSome","t","BucketType","e","VTLSymbol","s","o","constructor","tile","parent","children","Set","r","nodes","Map","roots","create","forEach","_canConnectDirectly","push","delete","add","set","key","id","destroy","clear","level","row","col","world","l","has","i","n","_rows","Math","ceil","_columns","_cellSize","cells","Array","getCell","min","max","floor","getCellSpan","columns","rows","cellSize","c","xTile","yTile","hash","priority","a","h","d","f","u","colliders","dxPixels","dyPixels","hard","partIndex","width","height","minLod","maxLod","textVertexRanges","iconVertexRanges","symbols","layerData","get","type","SYMBOL","unique","selectedForRendering","parts","startOpacity","targetOpacity","allSymbolsFadingOut","iconOpacity","textOpacity","lastOpacityUpdate","opacityChanged","GridIndex","TileGraph","TileNode","deserializeSymbols","tileCoordChange","writeOpacityToBuffers"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{BucketType as e}from\"../enums.js\";import{VTLSymbol as s}from\"./core.js\";class o{constructor(t){this.tile=t,this.parent=null,this.children=new Set}}class r{constructor(){this.nodes=new Map,this.roots=new Set}create(t){const e=new o(t);let s;const r=[];if(this.nodes.forEach((t=>{this._canConnectDirectly(e,t)&&r.push(t),!s&&this._canConnectDirectly(t,e)&&(s=t)})),s){for(const t of r)s.children.delete(t),e.children.add(t),t.parent=e;s.children.add(e),e.parent=s}else{this.roots.add(e);for(const t of r)e.children.add(t),t.parent=e,this.roots.delete(t)}return this.nodes.set(t.key.id,e),e}destroy(e){t(e.parent)?(e.parent.children.delete(e),e.children.forEach((s=>{t(e.parent)&&e.parent.children.add(s)}))):this.roots.delete(e),e.children.forEach((t=>{t.parent=e.parent,e.parent||this.roots.add(t)})),this.nodes.delete(e.tile.key.id)}clear(){this.roots.clear(),this.nodes.clear()}_canConnectDirectly(t,e){let{level:s,row:o,col:r}=e.tile.key;const{world:l}=e.tile.key;for(;s>0;){if(s--,o>>=1,r>>=1,t.tile.key.level===s&&t.tile.key.row===o&&t.tile.key.col===r&&t.tile.key.world===l)return!0;if(this.nodes.has(`${s}/${o}/${r}/${l}`))return!1}return!1}}function l(t,e,s,o,r,l){const i=s-r;if(i>=0)return(e>>i)+(o-(l<<i))*(t>>i);const n=-i;return e-(l-(o<<n))*(t>>n)<<n}class i{constructor(t,e,s){this._rows=Math.ceil(e/s),this._columns=Math.ceil(t/s),this._cellSize=s,this.cells=new Array(this._rows);for(let o=0;o<this._rows;o++){this.cells[o]=new Array(this._columns);for(let t=0;t<this._columns;t++)this.cells[o][t]=[]}}getCell(t,e){const s=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._rows-1),o=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._columns-1);return this.cells[s]&&this.cells[s][o]||null}getCellSpan(t,e,s,o){return[Math.min(Math.max(Math.floor(t/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(e/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(s/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(o/this._cellSize),0),this.rows-1)]}get cellSize(){return this._cellSize}get columns(){return this._columns}get rows(){return this._rows}}function n(t,e,o,r,l,i){const n=e[r++];for(let c=0;c<n;c++){const n=new s(i);n.xTile=e[r++],n.yTile=e[r++],n.hash=e[r++],n.priority=e[r++];const c=e[r++];for(let t=0;t<c;t++){const t=e[r++],s=e[r++],l=e[r++],i=e[r++],c=!!e[r++],a=e[r++],h=o[r++],d=o[r++],f=e[r++],u=e[r++];n.colliders.push({xTile:t,yTile:s,dxPixels:l,dyPixels:i,hard:c,partIndex:a,width:f,height:u,minLod:h,maxLod:d})}const a=t[r++];for(let e=0;e<a;e++)n.textVertexRanges.push([t[r++],t[r++]]);const h=t[r++];for(let e=0;e<h;e++)n.iconVertexRanges.push([t[r++],t[r++]]);l.push(n)}return r}function c(t,e,s){for(const[o,r]of t.symbols)a(t,e,s,r,o)}function a(t,s,o,r,l){const i=t.layerData.get(l);if(i.type===e.SYMBOL){for(const e of r){const s=e.unique;let r;if(e.selectedForRendering){const e=s.parts[0],l=e.startOpacity,i=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===i;const n=o?Math.floor(127*l)|i<<7:i?255:0;r=n<<24|n<<16|n<<8|n}else r=0;for(const[t,o]of e.iconVertexRanges)for(let e=t;e<t+o;e+=4)i.iconOpacity[e/4]=r;if(e.selectedForRendering){const e=s.parts[1],l=e.startOpacity,i=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===i;const n=o?Math.floor(127*l)|i<<7:i?255:0;r=n<<24|n<<16|n<<8|n}else r=0;for(const[t,o]of e.textVertexRanges)for(let e=t;e<t+o;e+=4)i.textOpacity[e/4]=r}i.lastOpacityUpdate=s,i.opacityChanged=!0}}export{i as GridIndex,r as TileGraph,o as TileNode,n as deserializeSymbols,l as tileCoordChange,c as writeOpacityToBuffers};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}