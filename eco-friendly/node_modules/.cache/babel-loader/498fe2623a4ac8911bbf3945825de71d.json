{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { isNone as t, isSome as e } from \"../../../../../core/maybe.js\";\nimport { TranslateAnchor as i } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { VTL_TEXTURE_BINDING_UNIT_SPRITES as r, VTL_HIGH_RES_CUTOFF as a } from \"../definitions.js\";\nimport { WGLDrawPhase as n } from \"../enums.js\";\nimport { u32to4Xu8 as o } from \"../number.js\";\nimport l from \"./WGLBrush.js\";\nimport { TextureSamplingMode as s, CompareFunction as f, PrimitiveType as u, DataType as d } from \"../../../../webgl/enums.js\";\nconst c = 1 / 65536;\n\nclass m extends l {\n  constructor() {\n    super(...arguments), this._fillProgramOptions = {\n      id: !1,\n      pattern: !1\n    }, this._outlineProgramOptions = {\n      id: !1\n    };\n  }\n\n  dispose() {}\n\n  drawMany(t, e) {\n    const {\n      displayLevel: i,\n      drawPhase: r,\n      renderPass: a,\n      spriteMosaic: l,\n      styleLayerUID: s\n    } = t;\n    let f = !1;\n\n    for (const n of e) if (n.layerData.has(s)) {\n      const t = n.layerData.get(s);\n\n      if (t.fillIndexCount > 0 || t.outlineIndexCount > 0) {\n        f = !0;\n        break;\n      }\n    }\n\n    if (!f) return;\n    const u = t.styleLayer,\n          d = u.getPaintProperty(\"fill-pattern\"),\n          c = void 0 !== d,\n          m = c && d.isDataDriven;\n    let p;\n\n    if (c && !m) {\n      const t = d.getValue(i);\n      p = l.getMosaicItemPosition(t, !0);\n    }\n\n    const y = !c && u.getPaintValue(\"fill-antialias\", i);\n    let g = !0,\n        _ = 1;\n\n    if (!c) {\n      const t = u.getPaintProperty(\"fill-color\"),\n            e = u.getPaintProperty(\"fill-opacity\");\n\n      if (!t?.isDataDriven && !e?.isDataDriven) {\n        const t = u.getPaintValue(\"fill-color\", i);\n        _ = u.getPaintValue(\"fill-opacity\", i) * t[3], _ >= 1 && (g = !1);\n      }\n    }\n\n    if (g && \"opaque\" === a) return;\n    let E;\n    r === n.HITTEST && (E = o(s + 1));\n    const v = u.getPaintValue(\"fill-translate\", i),\n          M = u.getPaintValue(\"fill-translate-anchor\", i);\n    (g || \"translucent\" !== a) && this._drawFill(t, s, u, e, v, M, c, p, m, E);\n    const P = !u.hasDataDrivenOutlineColor && u.outlineUsesFillColor && _ < 1;\n    y && \"opaque\" !== a && !P && this._drawOutline(t, s, u, e, v, M, E);\n  }\n\n  _drawFill(o, l, m, p, y, g, _, E, v, M) {\n    if (_ && !v && t(E)) return;\n    const {\n      context: P,\n      displayLevel: I,\n      state: T,\n      drawPhase: U,\n      painter: x,\n      pixelRatio: D,\n      spriteMosaic: h,\n      requestRender: S,\n      allowDelayedRender: R\n    } = o,\n          w = m.fillMaterial,\n          N = x.vectorTilesMaterialManager,\n          L = D > a ? 2 : 1,\n          A = U === n.HITTEST,\n          C = this._fillProgramOptions;\n    C.id = A, C.pattern = _;\n    const V = N.getMaterialProgram(P, w, C);\n    if (R && e(S) && !V.isCompiled) return void S();\n\n    if (P.useProgram(V), e(E)) {\n      const {\n        page: t\n      } = E,\n            i = h.getPageSize(t);\n      e(i) && (h.bind(P, s.LINEAR, t, r), V.setUniform2fv(\"u_mosaicSize\", i), V.setUniform1i(\"u_texture\", r));\n    }\n\n    V.setUniformMatrix3fv(\"u_displayMat3\", g === i.VIEWPORT ? T.displayMat3 : T.displayViewMat3), V.setUniform2fv(\"u_fillTranslation\", y), V.setUniform1f(\"u_depth\", m.z + c), A && V.setUniform4fv(\"u_id\", M);\n    let O = -1;\n\n    for (const i of p) {\n      if (!i.layerData.has(l)) continue;\n      i.key.level !== O && (O = i.key.level, w.setDataUniforms(V, I, m, O, h));\n      const a = i.layerData.get(l);\n      if (!a.fillIndexCount) continue;\n      a.prepareForRendering(P);\n      const n = a.fillVertexArrayObject;\n\n      if (!t(n)) {\n        if (P.bindVAO(n), V.setUniformMatrix3fv(\"u_dvsMat3\", i.transforms.dvs), P.setStencilFunction(f.EQUAL, i.stencilRef, 255), _) {\n          const t = Math.max(2 ** (Math.round(I) - i.key.level), 1),\n                e = i.rangeX / (L * i.width * t);\n          V.setUniform1f(\"u_patternFactor\", e);\n        }\n\n        if (v) {\n          const t = a.patternMap;\n          if (!t) continue;\n\n          for (const [i, a] of t) {\n            const t = h.getPageSize(i);\n            e(t) && (h.bind(P, s.LINEAR, i, r), V.setUniform2fv(\"u_mosaicSize\", t), V.setUniform1i(\"u_texture\", r), P.drawElements(u.TRIANGLES, a[1], d.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * a[0]));\n          }\n        } else P.drawElements(u.TRIANGLES, a.fillIndexCount, d.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * a.fillIndexStart);\n\n        i.triangleCount += a.fillIndexCount / 3;\n      }\n    }\n  }\n\n  _drawOutline(r, a, o, l, s, m, p) {\n    const {\n      context: y,\n      displayLevel: g,\n      state: _,\n      drawPhase: E,\n      painter: v,\n      pixelRatio: M,\n      spriteMosaic: P,\n      requestRender: I,\n      allowDelayedRender: T\n    } = r,\n          U = o.outlineMaterial,\n          x = v.vectorTilesMaterialManager,\n          D = .75 / M,\n          h = E === n.HITTEST,\n          S = this._outlineProgramOptions;\n    S.id = h;\n    const R = x.getMaterialProgram(y, U, S);\n    if (T && e(I) && !R.isCompiled) return void I();\n    y.useProgram(R), R.setUniformMatrix3fv(\"u_displayMat3\", m === i.VIEWPORT ? _.displayMat3 : _.displayViewMat3), R.setUniform2fv(\"u_fillTranslation\", s), R.setUniform1f(\"u_depth\", o.z + c), R.setUniform1f(\"u_outline_width\", D), h && R.setUniform4fv(\"u_id\", p);\n    let w = -1;\n\n    for (const e of l) {\n      if (!e.layerData.has(a)) continue;\n      e.key.level !== w && (w = e.key.level, U.setDataUniforms(R, g, o, w, P));\n      const i = e.layerData.get(a);\n      if (i.prepareForRendering(y), !i.outlineIndexCount) continue;\n      const r = i.outlineVertexArrayObject;\n      t(r) || (y.bindVAO(r), R.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.dvs), y.setStencilFunction(f.EQUAL, e.stencilRef, 255), y.drawElements(u.TRIANGLES, i.outlineIndexCount, d.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * i.outlineIndexStart), e.triangleCount += i.outlineIndexCount / 3);\n    }\n  }\n\n}\n\nexport { m as WGLBrushVTLFill };","map":{"version":3,"names":["isNone","t","isSome","e","TranslateAnchor","i","VTL_TEXTURE_BINDING_UNIT_SPRITES","r","VTL_HIGH_RES_CUTOFF","a","WGLDrawPhase","n","u32to4Xu8","o","l","TextureSamplingMode","s","CompareFunction","f","PrimitiveType","u","DataType","d","c","m","constructor","arguments","_fillProgramOptions","id","pattern","_outlineProgramOptions","dispose","drawMany","displayLevel","drawPhase","renderPass","spriteMosaic","styleLayerUID","layerData","has","get","fillIndexCount","outlineIndexCount","styleLayer","getPaintProperty","isDataDriven","p","getValue","getMosaicItemPosition","y","getPaintValue","g","_","E","HITTEST","v","M","_drawFill","P","hasDataDrivenOutlineColor","outlineUsesFillColor","_drawOutline","context","I","state","T","U","painter","x","pixelRatio","D","h","requestRender","S","allowDelayedRender","R","w","fillMaterial","N","vectorTilesMaterialManager","L","A","C","V","getMaterialProgram","isCompiled","useProgram","page","getPageSize","bind","LINEAR","setUniform2fv","setUniform1i","setUniformMatrix3fv","VIEWPORT","displayMat3","displayViewMat3","setUniform1f","z","setUniform4fv","O","key","level","setDataUniforms","prepareForRendering","fillVertexArrayObject","bindVAO","transforms","dvs","setStencilFunction","EQUAL","stencilRef","Math","max","round","rangeX","width","patternMap","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","fillIndexStart","triangleCount","outlineMaterial","outlineVertexArrayObject","outlineIndexStart","WGLBrushVTLFill"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../../core/maybe.js\";import{TranslateAnchor as i}from\"../../vectorTiles/style/StyleDefinition.js\";import{VTL_TEXTURE_BINDING_UNIT_SPRITES as r,VTL_HIGH_RES_CUTOFF as a}from\"../definitions.js\";import{WGLDrawPhase as n}from\"../enums.js\";import{u32to4Xu8 as o}from\"../number.js\";import l from\"./WGLBrush.js\";import{TextureSamplingMode as s,CompareFunction as f,PrimitiveType as u,DataType as d}from\"../../../../webgl/enums.js\";const c=1/65536;class m extends l{constructor(){super(...arguments),this._fillProgramOptions={id:!1,pattern:!1},this._outlineProgramOptions={id:!1}}dispose(){}drawMany(t,e){const{displayLevel:i,drawPhase:r,renderPass:a,spriteMosaic:l,styleLayerUID:s}=t;let f=!1;for(const n of e)if(n.layerData.has(s)){const t=n.layerData.get(s);if(t.fillIndexCount>0||t.outlineIndexCount>0){f=!0;break}}if(!f)return;const u=t.styleLayer,d=u.getPaintProperty(\"fill-pattern\"),c=void 0!==d,m=c&&d.isDataDriven;let p;if(c&&!m){const t=d.getValue(i);p=l.getMosaicItemPosition(t,!0)}const y=!c&&u.getPaintValue(\"fill-antialias\",i);let g=!0,_=1;if(!c){const t=u.getPaintProperty(\"fill-color\"),e=u.getPaintProperty(\"fill-opacity\");if(!t?.isDataDriven&&!e?.isDataDriven){const t=u.getPaintValue(\"fill-color\",i);_=u.getPaintValue(\"fill-opacity\",i)*t[3],_>=1&&(g=!1)}}if(g&&\"opaque\"===a)return;let E;r===n.HITTEST&&(E=o(s+1));const v=u.getPaintValue(\"fill-translate\",i),M=u.getPaintValue(\"fill-translate-anchor\",i);(g||\"translucent\"!==a)&&this._drawFill(t,s,u,e,v,M,c,p,m,E);const P=!u.hasDataDrivenOutlineColor&&u.outlineUsesFillColor&&_<1;y&&\"opaque\"!==a&&!P&&this._drawOutline(t,s,u,e,v,M,E)}_drawFill(o,l,m,p,y,g,_,E,v,M){if(_&&!v&&t(E))return;const{context:P,displayLevel:I,state:T,drawPhase:U,painter:x,pixelRatio:D,spriteMosaic:h,requestRender:S,allowDelayedRender:R}=o,w=m.fillMaterial,N=x.vectorTilesMaterialManager,L=D>a?2:1,A=U===n.HITTEST,C=this._fillProgramOptions;C.id=A,C.pattern=_;const V=N.getMaterialProgram(P,w,C);if(R&&e(S)&&!V.isCompiled)return void S();if(P.useProgram(V),e(E)){const{page:t}=E,i=h.getPageSize(t);e(i)&&(h.bind(P,s.LINEAR,t,r),V.setUniform2fv(\"u_mosaicSize\",i),V.setUniform1i(\"u_texture\",r))}V.setUniformMatrix3fv(\"u_displayMat3\",g===i.VIEWPORT?T.displayMat3:T.displayViewMat3),V.setUniform2fv(\"u_fillTranslation\",y),V.setUniform1f(\"u_depth\",m.z+c),A&&V.setUniform4fv(\"u_id\",M);let O=-1;for(const i of p){if(!i.layerData.has(l))continue;i.key.level!==O&&(O=i.key.level,w.setDataUniforms(V,I,m,O,h));const a=i.layerData.get(l);if(!a.fillIndexCount)continue;a.prepareForRendering(P);const n=a.fillVertexArrayObject;if(!t(n)){if(P.bindVAO(n),V.setUniformMatrix3fv(\"u_dvsMat3\",i.transforms.dvs),P.setStencilFunction(f.EQUAL,i.stencilRef,255),_){const t=Math.max(2**(Math.round(I)-i.key.level),1),e=i.rangeX/(L*i.width*t);V.setUniform1f(\"u_patternFactor\",e)}if(v){const t=a.patternMap;if(!t)continue;for(const[i,a]of t){const t=h.getPageSize(i);e(t)&&(h.bind(P,s.LINEAR,i,r),V.setUniform2fv(\"u_mosaicSize\",t),V.setUniform1i(\"u_texture\",r),P.drawElements(u.TRIANGLES,a[1],d.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*a[0]))}}else P.drawElements(u.TRIANGLES,a.fillIndexCount,d.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*a.fillIndexStart);i.triangleCount+=a.fillIndexCount/3}}}_drawOutline(r,a,o,l,s,m,p){const{context:y,displayLevel:g,state:_,drawPhase:E,painter:v,pixelRatio:M,spriteMosaic:P,requestRender:I,allowDelayedRender:T}=r,U=o.outlineMaterial,x=v.vectorTilesMaterialManager,D=.75/M,h=E===n.HITTEST,S=this._outlineProgramOptions;S.id=h;const R=x.getMaterialProgram(y,U,S);if(T&&e(I)&&!R.isCompiled)return void I();y.useProgram(R),R.setUniformMatrix3fv(\"u_displayMat3\",m===i.VIEWPORT?_.displayMat3:_.displayViewMat3),R.setUniform2fv(\"u_fillTranslation\",s),R.setUniform1f(\"u_depth\",o.z+c),R.setUniform1f(\"u_outline_width\",D),h&&R.setUniform4fv(\"u_id\",p);let w=-1;for(const e of l){if(!e.layerData.has(a))continue;e.key.level!==w&&(w=e.key.level,U.setDataUniforms(R,g,o,w,P));const i=e.layerData.get(a);if(i.prepareForRendering(y),!i.outlineIndexCount)continue;const r=i.outlineVertexArrayObject;t(r)||(y.bindVAO(r),R.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.dvs),y.setStencilFunction(f.EQUAL,e.stencilRef,255),y.drawElements(u.TRIANGLES,i.outlineIndexCount,d.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i.outlineIndexStart),e.triangleCount+=i.outlineIndexCount/3)}}}export{m as WGLBrushVTLFill};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}