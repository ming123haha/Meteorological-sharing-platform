{"ast":null,"code":"/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\n\nvar VisualMapView =\n/** @class */\nfunction (_super) {\n  __extends(VisualMapView, _super);\n\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\r\n   * @protected\r\n   */\n\n\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\r\n   * @protected\r\n   */\n\n\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\r\n   * @protected\r\n   * @param targetValue can be Infinity or -Infinity\r\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\r\n   * @param opts\r\n   * @param opts.forceState Specify state, instead of using getValueState method.\r\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\r\n   * @return {*} Visual value.\r\n   */\n\n\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\n\nexport default VisualMapView;","map":{"version":3,"names":["__extends","zrUtil","Rect","formatUtil","layout","VisualMapping","ComponentView","VisualMapView","_super","_this","apply","arguments","type","autoPositionValues","left","right","top","bottom","prototype","init","ecModel","api","render","visualMapModel","payload","get","group","removeAll","doRender","renderBackground","padding","normalizeCssArray","rect","getBoundingRect","add","z2","silent","shape","x","y","width","height","style","fill","stroke","lineWidth","getControllerVisual","targetValue","visualCluster","opts","forceState","visualObj","defaultColor","color","getter","key","setter","value","mappings","controllerVisuals","getValueState","visualTypes","prepareVisualTypes","each","visualMapping","convertOpacityToAlpha","__alphaForOpacity","dependsOn","applyVisual","positionGroup","model","positionElement","getBoxLayoutParams","getWidth","getHeight"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/echarts/lib/component/visualMap/VisualMapView.js"],"sourcesContent":["\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { Rect } from '../../util/graphic.js';\r\nimport * as formatUtil from '../../util/format.js';\r\nimport * as layout from '../../util/layout.js';\r\nimport VisualMapping from '../../visual/VisualMapping.js';\r\nimport ComponentView from '../../view/Component.js';\r\n\r\nvar VisualMapView =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(VisualMapView, _super);\r\n\r\n  function VisualMapView() {\r\n    var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\r\n    _this.type = VisualMapView.type;\r\n    _this.autoPositionValues = {\r\n      left: 1,\r\n      right: 1,\r\n      top: 1,\r\n      bottom: 1\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  VisualMapView.prototype.init = function (ecModel, api) {\r\n    this.ecModel = ecModel;\r\n    this.api = api;\r\n  };\r\n  /**\r\n   * @protected\r\n   */\r\n\r\n\r\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\r\n  ) {\r\n    this.visualMapModel = visualMapModel;\r\n\r\n    if (visualMapModel.get('show') === false) {\r\n      this.group.removeAll();\r\n      return;\r\n    }\r\n\r\n    this.doRender(visualMapModel, ecModel, api, payload);\r\n  };\r\n  /**\r\n   * @protected\r\n   */\r\n\r\n\r\n  VisualMapView.prototype.renderBackground = function (group) {\r\n    var visualMapModel = this.visualMapModel;\r\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\r\n    var rect = group.getBoundingRect();\r\n    group.add(new Rect({\r\n      z2: -1,\r\n      silent: true,\r\n      shape: {\r\n        x: rect.x - padding[3],\r\n        y: rect.y - padding[0],\r\n        width: rect.width + padding[3] + padding[1],\r\n        height: rect.height + padding[0] + padding[2]\r\n      },\r\n      style: {\r\n        fill: visualMapModel.get('backgroundColor'),\r\n        stroke: visualMapModel.get('borderColor'),\r\n        lineWidth: visualMapModel.get('borderWidth')\r\n      }\r\n    }));\r\n  };\r\n  /**\r\n   * @protected\r\n   * @param targetValue can be Infinity or -Infinity\r\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\r\n   * @param opts\r\n   * @param opts.forceState Specify state, instead of using getValueState method.\r\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\r\n   * @return {*} Visual value.\r\n   */\r\n\r\n\r\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\r\n    opts = opts || {};\r\n    var forceState = opts.forceState;\r\n    var visualMapModel = this.visualMapModel;\r\n    var visualObj = {}; // Default values.\r\n\r\n    if (visualCluster === 'color') {\r\n      var defaultColor = visualMapModel.get('contentColor');\r\n      visualObj.color = defaultColor;\r\n    }\r\n\r\n    function getter(key) {\r\n      return visualObj[key];\r\n    }\r\n\r\n    function setter(key, value) {\r\n      visualObj[key] = value;\r\n    }\r\n\r\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\r\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\r\n    zrUtil.each(visualTypes, function (type) {\r\n      var visualMapping = mappings[type];\r\n\r\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\r\n        type = 'colorAlpha';\r\n        visualMapping = mappings.__alphaForOpacity;\r\n      }\r\n\r\n      if (VisualMapping.dependsOn(type, visualCluster)) {\r\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\r\n      }\r\n    });\r\n    return visualObj[visualCluster];\r\n  };\r\n\r\n  VisualMapView.prototype.positionGroup = function (group) {\r\n    var model = this.visualMapModel;\r\n    var api = this.api;\r\n    layout.positionElement(group, model.getBoxLayoutParams(), {\r\n      width: api.getWidth(),\r\n      height: api.getHeight()\r\n    });\r\n  };\r\n\r\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\r\n\r\n  VisualMapView.type = 'visualMap';\r\n  return VisualMapView;\r\n}(ComponentView);\r\n\r\nexport default VisualMapView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}