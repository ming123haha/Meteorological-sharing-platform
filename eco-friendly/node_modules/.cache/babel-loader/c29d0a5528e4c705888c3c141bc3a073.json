{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { neverReached as e } from \"../../../../core/compilerUtils.js\";\nimport { clamp as i, acosClamped as a, deg2rad as r } from \"../../../../core/mathUtils.js\";\nimport { isSome as o } from \"../../../../core/maybe.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { j as c, e as m, i as l } from \"../../../../chunks/mat4.js\";\nimport { c as p } from \"../../../../chunks/mat4f64.js\";\nimport { b as h, m as d, a as u, g as f, c as v, o as C, l as g, s as y, n as w, f as O, e as b, i as S, r as _ } from \"../../../../chunks/vec3.js\";\nimport { c as j } from \"../../../../chunks/vec3f64.js\";\nimport { getReferenceEllipsoid as x } from \"../../../../geometry/projectionEllipsoid.js\";\nimport { wrap as M } from \"../../../../geometry/support/ray.js\";\nimport { j as L, k as T, t as A } from \"../../../../chunks/sphere.js\";\nimport { sv3d as z } from \"../../../../geometry/support/vectorStacks.js\";\nimport { applyAll as E } from \"../../camera/constraintUtils.js\";\nimport { ConstraintTypes as D, InteractionType as I, TiltMode as k } from \"../../camera/constraintUtils/common.js\";\nimport { TiltDefault as R } from \"../Constraints.js\";\nimport { InteractiveController as U } from \"./InteractiveController.js\";\nimport { panMotionToRotationMatrix as H, onSurfaceTiltToEyeTiltGlobal as N, offSurfaceTiltToEyeTiltGlobal as F } from \"../utils/navigationUtils.js\";\nimport { viewAngle as P } from \"../utils/viewUtils.js\";\nimport { headingTiltToDirectionUp as G } from \"../../support/cameraUtils.js\";\nimport { createDirectionUp as V } from \"../../support/cameraUtilsInternal.js\";\nimport { Camera as B } from \"../../webgl-engine/lib/Camera.js\";\nimport { extractTransformation as K, isZeroTransformation as X, extractTransformationKeyboard as Z } from \"../../../navigation/gamepadAndKeyboardUtils.js\";\nlet q = class extends U {\n  constructor(t) {\n    super(t), this.transformation = {\n      translation: [0, 0, 0],\n      heading: 0,\n      tilt: 0,\n      zoom: 0\n    }, this.keysButtonState = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this.tmpCamera = new B(), this.constraintOptions = {\n      selection: D.ALL,\n      interactionType: I.NONE,\n      interactionStartCamera: new B(),\n      interactionFactor: 0,\n      interactionDirection: null,\n      tiltMode: k.LOOK_AROUND\n    };\n  }\n\n  handleEventGamepad(t) {\n    const e = K(t, this.view.navigation.gamepad, this.transformation);\n    (\"end\" === t.action || X(e)) && this.finishController();\n  }\n\n  activateDirection(t) {\n    this.keysButtonState[t] = 1, Z(this.keysButtonState, this.transformation);\n  }\n\n  deactivateDirection(t) {\n    this.keysButtonState[t] = 0;\n    const e = Z(this.keysButtonState, this.transformation);\n    X(e) && this.finishController();\n  }\n\n  onControllerStart(t) {\n    this.filteredSurfaceElevation = this.view.pointsOfInterest.cameraOnSurface.location.z, this.headingStart = this.view.camera.heading, super.onControllerStart(t);\n  }\n\n  _updateFilteredSurfaceElevation(t) {\n    const e = this.view.pointsOfInterest.cameraOnSurface.location.z,\n          i = 1;\n    this.filteredSurfaceElevation += i * (e - this.filteredSurfaceElevation) * t;\n  }\n\n  stepController(t, e) {\n    this._updateStartHeading(), this._updateFilteredSurfaceElevation(t), this.currentCamera.copyViewFrom(e), this._updateCameraCenter(), this.constraintOptions.interactionStartCamera.copyFrom(this.currentCamera), this._calculateControlTransformation(t, this.currentCamera, it), this._applyDisabledMovementTypes(it), this._applyPan(it.pan), this._applyRotate(it.rotate), this._applyZoom(it.zoom), this._applyAscend(it.ascend), this.constraintOptions.interactionType = I.NONE, this.constraintOptions.selection = D.COLLISION, E(this.view, this.currentCamera, this.constraintOptions), super.stepController(t, e);\n  }\n\n  _updateStartHeading() {\n    0 !== this.transformation.heading && (this.headingStart = this.view.camera.heading);\n  }\n\n  _applyRotate(t) {\n    if (!t.enabled) return;\n    const e = this.currentCamera;\n    h(at, e.center, e.eye), d(at, at, t.matrix), e.center = u(at, at, e.eye), e.up = d(at, e.up, t.matrix), this.constraintOptions.interactionType = I.LOOK_AROUND, this.constraintOptions.selection = D.ALL_EXCEPT_COLLISION, E(this.view, e, this.constraintOptions);\n  }\n\n  _applyPan(t, e = this.currentCamera) {\n    if (!t.enabled) return;\n    e.eye = d(at, e.eye, t.matrix), e.center = d(at, e.center, t.matrix);\n    this.view.state.isGlobal && (e.up = d(at, e.up, t.matrix)), this.constraintOptions.interactionType = I.PAN, this.constraintOptions.selection = D.ALL, E(this.view, e, this.constraintOptions);\n  }\n\n  _applyZoom(t) {\n    if (!t) return;\n    const e = this.currentCamera.viewForward;\n    this.currentCamera.eye = u(at, this.currentCamera.eye, f(z.get(), e, t)), v(rt, e), C(rt, rt), this.constraintOptions.interactionDirection = rt, this.constraintOptions.interactionType = I.ZOOM, this.constraintOptions.selection = D.ALL_EXCEPT_COLLISION, E(this.view, this.currentCamera, this.constraintOptions), this.constraintOptions.interactionDirection = null;\n  }\n\n  _applyAscend(t) {\n    if (!t) return;\n    const e = this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye, z.get());\n    this.constraintOptions.interactionDirection = v(rt, e);\n\n    if (this.view.state.isGlobal) {\n      const e = g(this.currentCamera.eye),\n            i = (e + t) / e;\n      this.currentCamera.eye = f(at, this.currentCamera.eye, i), this.currentCamera.center = f(at, this.currentCamera.center, i);\n    } else {\n      const i = f(z.get(), e, t);\n      this.currentCamera.eye = u(at, this.currentCamera.eye, i), this.currentCamera.center = u(at, this.currentCamera.center, i);\n    }\n\n    this._updateCameraCenter(), this.constraintOptions.interactionType = I.ASCEND, this.constraintOptions.selection = D.COLLISION, E(this.view, this.currentCamera, this.constraintOptions) && this._updateCameraCenter(), this.constraintOptions.selection = D.ALL_EXCEPT_COLLISION, E(this.view, this.currentCamera, this.constraintOptions), this.constraintOptions.interactionDirection = null;\n  }\n\n  _calculateControlTransformation(t, e, i) {\n    st(i);\n\n    const a = this._computeVelocities(t);\n\n    this.view.state.isLocal ? this._calculateControlTransformationLocal(a, e, i) : this._calculateControlTransformationGlobal(a, e, i);\n  }\n\n  _updateCameraCenter() {\n    const t = this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n          e = this.view.renderCoordsHelper,\n          i = this.currentCamera.ray;\n    this.currentCamera.center = e.intersectManifoldClosestSilhouette(i, t, at);\n  }\n\n  _calculateControlTransformationLocal(t, a, r) {\n    const {\n      viewRight: o,\n      viewForward: s\n    } = a,\n          n = this.transformation,\n          l = this.view.navigation.gamepad,\n          p = y(z.get(), s[0], s[1], 0);\n    w(p, p);\n    const h = n.translation[0] * t.pan;\n\n    if (0 !== h) {\n      const t = f(z.get(), o, h);\n      c(r.pan.matrix, r.pan.matrix, t), r.pan.enabled = !0;\n    }\n\n    switch (l.mode) {\n      case \"pan\":\n        {\n          const e = -n.translation[1] * t.pan;\n\n          if (0 !== e) {\n            const t = f(z.get(), p, e);\n            c(r.pan.matrix, r.pan.matrix, t), r.pan.enabled = !0;\n          }\n\n          r.zoom = n.zoom * t.zoom;\n          break;\n        }\n\n      case \"zoom\":\n        r.zoom = (-n.translation[1] + n.zoom) * t.zoom;\n        break;\n\n      default:\n        e(l.mode);\n    }\n\n    const d = n.translation[2] * t.ascend;\n    r.ascend = d;\n    const u = -n.heading * t.rotate;\n    0 !== u && (m(r.rotate.matrix, r.rotate.matrix, u, this.view.renderCoordsHelper.worldUpAtPosition(a.eye, z.get())), r.rotate.enabled = !0);\n    const v = n.tilt * t.rotate,\n          C = P(this.view.renderCoordsHelper, a.center, a.eye),\n          g = i(C + v, R.min, R.max) - C;\n    g && (m(r.rotate.matrix, r.rotate.matrix, g, o), r.rotate.enabled = !0);\n  }\n\n  _calculateControlTransformationGlobal(t, e, i) {\n    const {\n      eye: a,\n      viewRight: r\n    } = e,\n          o = this.transformation,\n          s = this.view.navigation.gamepad,\n          n = O(z.get(), r, a);\n    w(n, n), C(n, n), H(this.startCamera, e, o, t, this.view.camera.heading, this.headingStart, this.view.camera.tilt, i, s), this.tmpCamera.copyFrom(this.currentCamera), this._applyPan(it.pan, this.tmpCamera);\n    const c = this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n          l = o.translation[2] * t.ascend;\n    i.ascend = l;\n    const p = -o.heading * t.rotate;\n    0 !== p && (m(i.rotate.matrix, i.rotate.matrix, p, this.tmpCamera.eye), i.rotate.enabled = !0);\n\n    const h = o.tilt * t.rotate,\n          d = this._clampTiltDeltaGlobalToValidRange(h, e.ray, c);\n\n    0 !== d && (m(i.rotate.matrix, i.rotate.matrix, d, this.tmpCamera.viewRight), i.rotate.enabled = !0), i.zoom += o.zoom * t.zoom;\n  }\n\n  _clampTiltDeltaGlobalToValidRange(t, e, r) {\n    const o = x(this.view.spatialReference),\n          s = N(R.min, e.origin, r, o);\n    let n = 0,\n        c = 0;\n    const m = z.get();\n\n    if (this.view.renderCoordsHelper.intersectManifold(e, r, m)) {\n      const t = P(this.view.renderCoordsHelper, m, e.origin);\n      n = N(t, e.origin, r, o), c = N(R.max, e.origin, r, o);\n    } else {\n      L(T(A, r + o.radius), e, m);\n      const t = a(-b(e.direction, w(m, m)));\n      n = F(t, e.origin, r, o), c = F(R.max, e.origin, r, o);\n    }\n\n    return i(n + t, s, c) - n;\n  }\n\n  _getPointAbsoluteSurfaceElevation(t, e, i) {\n    const {\n      renderCoordsHelper: a\n    } = this.view,\n          r = a.getAltitude(t),\n          o = e + Math.abs(r - e);\n    return a.setAltitude(i, o, t), o;\n  }\n\n  _clampedDistanceToSurface(t, e) {\n    const {\n      renderCoordsHelper: i\n    } = this.view,\n          {\n      camera: a\n    } = this.view.state,\n          {\n      direction: r\n    } = G(this.view, e, 0, Q, ot),\n          o = i.intersectManifoldClosestSilhouette(M(e, r), t, z.get()),\n          s = S(e, o),\n          n = i.intersectManifoldClosestSilhouette(M(e, _(z.get(), e, a.center)), t, z.get()),\n          c = S(e, n);\n    return Math.min(s, c);\n  }\n\n  _computeHeadingRotateRadius(t) {\n    const {\n      renderCoordsHelper: e,\n      state: i\n    } = this.view,\n          {\n      camera: r,\n      isGlobal: o\n    } = i,\n          s = e.intersectManifoldClosestSilhouette(r.ray, this.filteredSurfaceElevation, z.get());\n\n    if (o) {\n      const e = h(z.get(), t, s),\n            i = g(e);\n      f(e, e, 1 / i);\n      const r = w(z.get(), t),\n            o = a(b(r, e));\n      return i * Math.sin(Math.min(W, o));\n    }\n\n    {\n      const i = v(z.get(), t);\n      return e.setAltitude(i, this.filteredSurfaceElevation), S(s, i);\n    }\n  }\n\n  _minimumAscendVelocity() {\n    return this.view.state.constraints.collision.enabled ? 0 : $;\n  }\n\n  _computeVelocities(t) {\n    const e = this.filteredSurfaceElevation,\n          a = e + x(this.view.spatialReference).radius,\n          {\n      camera: r,\n      isGlobal: o\n    } = this.view.state,\n          s = z.get(),\n          n = this._getPointAbsoluteSurfaceElevation(r.eye, e, s),\n          c = this._clampedDistanceToSurface(e, s),\n          m = r.width / 2,\n          l = Y * r.width,\n          p = Y * r.width,\n          h = c * Math.tan(.5 * r.fovX) / m,\n          d = h / a,\n          u = h / this._computeHeadingRotateRadius(s),\n          f = n - e;\n\n    return {\n      pan: (o ? d : h) * l * t,\n      ascend: Math.max(this._minimumAscendVelocity() * t, 2 ** (l * t / m) * f - f),\n      zoom: 2 ** (l * t / m) * c - c,\n      rotate: i(u * p, tt, et) * t\n    };\n  }\n\n  _applyDisabledMovementTypes(t) {\n    !o(this.disableMovements) || void 0 !== this.disableMovements.mode && this.view.state.viewingMode !== this.disableMovements.mode || (t.zoom = this.disableMovements.zoom ? 0 : t.zoom, t.ascend = this.disableMovements.ascend ? 0 : t.ascend, t.pan.enabled = !this.disableMovements.pan, this.disableMovements.pan && l(t.pan.matrix), t.rotate.enabled = !this.disableMovements.rotate, this.disableMovements.rotate && l(t.rotate.matrix));\n  }\n\n  static activatesFor(t, e) {\n    const i = K(e, t.navigation.gamepad, J);\n    return !(\"end\" === e.action || X(i));\n  }\n\n};\nt([s({\n  constructOnly: !0\n})], q.prototype, \"view\", void 0), t([s({\n  constructOnly: !0\n})], q.prototype, \"gamepadDevice\", void 0), t([s({\n  constructOnly: !0\n})], q.prototype, \"disableMovements\", void 0), q = t([n(\"esri.views.3d.state.controllers.GamepadKeyboardController\")], q);\nconst J = {\n  translation: [0, 0, 0],\n  heading: 0,\n  tilt: 0,\n  zoom: 0\n},\n      Q = 80,\n      W = r(Q),\n      Y = .75,\n      $ = 5,\n      tt = r(30),\n      et = r(80),\n      it = {\n  zoom: 0,\n  ascend: 0,\n  pan: {\n    enabled: !1,\n    matrix: p()\n  },\n  rotate: {\n    enabled: !1,\n    matrix: p()\n  }\n},\n      at = j(),\n      rt = j(),\n      ot = V();\n\nfunction st(t) {\n  t.zoom = 0, t.ascend = 0, t.pan.enabled = !1, l(t.pan.matrix), t.rotate.enabled = !1, l(t.rotate.matrix);\n}\n\nexport { q as GamepadKeyboardController };","map":{"version":3,"names":["_","t","neverReached","e","clamp","i","acosClamped","a","deg2rad","r","isSome","o","property","s","subclass","n","j","c","m","l","p","b","h","d","u","g","f","v","C","y","w","O","S","getReferenceEllipsoid","x","wrap","M","L","k","T","A","sv3d","z","applyAll","E","ConstraintTypes","D","InteractionType","I","TiltMode","TiltDefault","R","InteractiveController","U","panMotionToRotationMatrix","H","onSurfaceTiltToEyeTiltGlobal","N","offSurfaceTiltToEyeTiltGlobal","F","viewAngle","P","headingTiltToDirectionUp","G","createDirectionUp","V","Camera","B","extractTransformation","K","isZeroTransformation","X","extractTransformationKeyboard","Z","q","constructor","transformation","translation","heading","tilt","zoom","keysButtonState","tmpCamera","constraintOptions","selection","ALL","interactionType","NONE","interactionStartCamera","interactionFactor","interactionDirection","tiltMode","LOOK_AROUND","handleEventGamepad","view","navigation","gamepad","action","finishController","activateDirection","deactivateDirection","onControllerStart","filteredSurfaceElevation","pointsOfInterest","cameraOnSurface","location","headingStart","camera","_updateFilteredSurfaceElevation","stepController","_updateStartHeading","currentCamera","copyViewFrom","_updateCameraCenter","copyFrom","_calculateControlTransformation","it","_applyDisabledMovementTypes","_applyPan","pan","_applyRotate","rotate","_applyZoom","_applyAscend","ascend","COLLISION","enabled","at","center","eye","matrix","up","ALL_EXCEPT_COLLISION","state","isGlobal","PAN","viewForward","get","rt","ZOOM","renderCoordsHelper","worldUpAtPosition","ASCEND","st","_computeVelocities","isLocal","_calculateControlTransformationLocal","_calculateControlTransformationGlobal","centerOnSurfaceFrequent","estimatedSurfaceAltitude","ray","intersectManifoldClosestSilhouette","viewRight","mode","min","max","startCamera","_clampTiltDeltaGlobalToValidRange","spatialReference","origin","intersectManifold","radius","direction","_getPointAbsoluteSurfaceElevation","getAltitude","Math","abs","setAltitude","_clampedDistanceToSurface","Q","ot","_computeHeadingRotateRadius","sin","W","_minimumAscendVelocity","constraints","collision","$","width","Y","tan","fovX","tt","et","disableMovements","viewingMode","activatesFor","J","constructOnly","prototype","GamepadKeyboardController"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/state/controllers/GamepadKeyboardController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as i,acosClamped as a,deg2rad as r}from\"../../../../core/mathUtils.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{j as c,e as m,i as l}from\"../../../../chunks/mat4.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{b as h,m as d,a as u,g as f,c as v,o as C,l as g,s as y,n as w,f as O,e as b,i as S,r as _}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as x}from\"../../../../geometry/projectionEllipsoid.js\";import{wrap as M}from\"../../../../geometry/support/ray.js\";import{j as L,k as T,t as A}from\"../../../../chunks/sphere.js\";import{sv3d as z}from\"../../../../geometry/support/vectorStacks.js\";import{applyAll as E}from\"../../camera/constraintUtils.js\";import{ConstraintTypes as D,InteractionType as I,TiltMode as k}from\"../../camera/constraintUtils/common.js\";import{TiltDefault as R}from\"../Constraints.js\";import{InteractiveController as U}from\"./InteractiveController.js\";import{panMotionToRotationMatrix as H,onSurfaceTiltToEyeTiltGlobal as N,offSurfaceTiltToEyeTiltGlobal as F}from\"../utils/navigationUtils.js\";import{viewAngle as P}from\"../utils/viewUtils.js\";import{headingTiltToDirectionUp as G}from\"../../support/cameraUtils.js\";import{createDirectionUp as V}from\"../../support/cameraUtilsInternal.js\";import{Camera as B}from\"../../webgl-engine/lib/Camera.js\";import{extractTransformation as K,isZeroTransformation as X,extractTransformationKeyboard as Z}from\"../../../navigation/gamepadAndKeyboardUtils.js\";let q=class extends U{constructor(t){super(t),this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.keysButtonState=[0,0,0,0,0,0,0,0,0,0,0,0],this.tmpCamera=new B,this.constraintOptions={selection:D.ALL,interactionType:I.NONE,interactionStartCamera:new B,interactionFactor:0,interactionDirection:null,tiltMode:k.LOOK_AROUND}}handleEventGamepad(t){const e=K(t,this.view.navigation.gamepad,this.transformation);(\"end\"===t.action||X(e))&&this.finishController()}activateDirection(t){this.keysButtonState[t]=1,Z(this.keysButtonState,this.transformation)}deactivateDirection(t){this.keysButtonState[t]=0;const e=Z(this.keysButtonState,this.transformation);X(e)&&this.finishController()}onControllerStart(t){this.filteredSurfaceElevation=this.view.pointsOfInterest.cameraOnSurface.location.z,this.headingStart=this.view.camera.heading,super.onControllerStart(t)}_updateFilteredSurfaceElevation(t){const e=this.view.pointsOfInterest.cameraOnSurface.location.z,i=1;this.filteredSurfaceElevation+=i*(e-this.filteredSurfaceElevation)*t}stepController(t,e){this._updateStartHeading(),this._updateFilteredSurfaceElevation(t),this.currentCamera.copyViewFrom(e),this._updateCameraCenter(),this.constraintOptions.interactionStartCamera.copyFrom(this.currentCamera),this._calculateControlTransformation(t,this.currentCamera,it),this._applyDisabledMovementTypes(it),this._applyPan(it.pan),this._applyRotate(it.rotate),this._applyZoom(it.zoom),this._applyAscend(it.ascend),this.constraintOptions.interactionType=I.NONE,this.constraintOptions.selection=D.COLLISION,E(this.view,this.currentCamera,this.constraintOptions),super.stepController(t,e)}_updateStartHeading(){0!==this.transformation.heading&&(this.headingStart=this.view.camera.heading)}_applyRotate(t){if(!t.enabled)return;const e=this.currentCamera;h(at,e.center,e.eye),d(at,at,t.matrix),e.center=u(at,at,e.eye),e.up=d(at,e.up,t.matrix),this.constraintOptions.interactionType=I.LOOK_AROUND,this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,e,this.constraintOptions)}_applyPan(t,e=this.currentCamera){if(!t.enabled)return;e.eye=d(at,e.eye,t.matrix),e.center=d(at,e.center,t.matrix);this.view.state.isGlobal&&(e.up=d(at,e.up,t.matrix)),this.constraintOptions.interactionType=I.PAN,this.constraintOptions.selection=D.ALL,E(this.view,e,this.constraintOptions)}_applyZoom(t){if(!t)return;const e=this.currentCamera.viewForward;this.currentCamera.eye=u(at,this.currentCamera.eye,f(z.get(),e,t)),v(rt,e),C(rt,rt),this.constraintOptions.interactionDirection=rt,this.constraintOptions.interactionType=I.ZOOM,this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this.constraintOptions),this.constraintOptions.interactionDirection=null}_applyAscend(t){if(!t)return;const e=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,z.get());this.constraintOptions.interactionDirection=v(rt,e);if(this.view.state.isGlobal){const e=g(this.currentCamera.eye),i=(e+t)/e;this.currentCamera.eye=f(at,this.currentCamera.eye,i),this.currentCamera.center=f(at,this.currentCamera.center,i)}else{const i=f(z.get(),e,t);this.currentCamera.eye=u(at,this.currentCamera.eye,i),this.currentCamera.center=u(at,this.currentCamera.center,i)}this._updateCameraCenter(),this.constraintOptions.interactionType=I.ASCEND,this.constraintOptions.selection=D.COLLISION,E(this.view,this.currentCamera,this.constraintOptions)&&this._updateCameraCenter(),this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this.constraintOptions),this.constraintOptions.interactionDirection=null}_calculateControlTransformation(t,e,i){st(i);const a=this._computeVelocities(t);this.view.state.isLocal?this._calculateControlTransformationLocal(a,e,i):this._calculateControlTransformationGlobal(a,e,i)}_updateCameraCenter(){const t=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,e=this.view.renderCoordsHelper,i=this.currentCamera.ray;this.currentCamera.center=e.intersectManifoldClosestSilhouette(i,t,at)}_calculateControlTransformationLocal(t,a,r){const{viewRight:o,viewForward:s}=a,n=this.transformation,l=this.view.navigation.gamepad,p=y(z.get(),s[0],s[1],0);w(p,p);const h=n.translation[0]*t.pan;if(0!==h){const t=f(z.get(),o,h);c(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}switch(l.mode){case\"pan\":{const e=-n.translation[1]*t.pan;if(0!==e){const t=f(z.get(),p,e);c(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}r.zoom=n.zoom*t.zoom;break}case\"zoom\":r.zoom=(-n.translation[1]+n.zoom)*t.zoom;break;default:e(l.mode)}const d=n.translation[2]*t.ascend;r.ascend=d;const u=-n.heading*t.rotate;0!==u&&(m(r.rotate.matrix,r.rotate.matrix,u,this.view.renderCoordsHelper.worldUpAtPosition(a.eye,z.get())),r.rotate.enabled=!0);const v=n.tilt*t.rotate,C=P(this.view.renderCoordsHelper,a.center,a.eye),g=i(C+v,R.min,R.max)-C;g&&(m(r.rotate.matrix,r.rotate.matrix,g,o),r.rotate.enabled=!0)}_calculateControlTransformationGlobal(t,e,i){const{eye:a,viewRight:r}=e,o=this.transformation,s=this.view.navigation.gamepad,n=O(z.get(),r,a);w(n,n),C(n,n),H(this.startCamera,e,o,t,this.view.camera.heading,this.headingStart,this.view.camera.tilt,i,s),this.tmpCamera.copyFrom(this.currentCamera),this._applyPan(it.pan,this.tmpCamera);const c=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,l=o.translation[2]*t.ascend;i.ascend=l;const p=-o.heading*t.rotate;0!==p&&(m(i.rotate.matrix,i.rotate.matrix,p,this.tmpCamera.eye),i.rotate.enabled=!0);const h=o.tilt*t.rotate,d=this._clampTiltDeltaGlobalToValidRange(h,e.ray,c);0!==d&&(m(i.rotate.matrix,i.rotate.matrix,d,this.tmpCamera.viewRight),i.rotate.enabled=!0),i.zoom+=o.zoom*t.zoom}_clampTiltDeltaGlobalToValidRange(t,e,r){const o=x(this.view.spatialReference),s=N(R.min,e.origin,r,o);let n=0,c=0;const m=z.get();if(this.view.renderCoordsHelper.intersectManifold(e,r,m)){const t=P(this.view.renderCoordsHelper,m,e.origin);n=N(t,e.origin,r,o),c=N(R.max,e.origin,r,o)}else{L(T(A,r+o.radius),e,m);const t=a(-b(e.direction,w(m,m)));n=F(t,e.origin,r,o),c=F(R.max,e.origin,r,o)}return i(n+t,s,c)-n}_getPointAbsoluteSurfaceElevation(t,e,i){const{renderCoordsHelper:a}=this.view,r=a.getAltitude(t),o=e+Math.abs(r-e);return a.setAltitude(i,o,t),o}_clampedDistanceToSurface(t,e){const{renderCoordsHelper:i}=this.view,{camera:a}=this.view.state,{direction:r}=G(this.view,e,0,Q,ot),o=i.intersectManifoldClosestSilhouette(M(e,r),t,z.get()),s=S(e,o),n=i.intersectManifoldClosestSilhouette(M(e,_(z.get(),e,a.center)),t,z.get()),c=S(e,n);return Math.min(s,c)}_computeHeadingRotateRadius(t){const{renderCoordsHelper:e,state:i}=this.view,{camera:r,isGlobal:o}=i,s=e.intersectManifoldClosestSilhouette(r.ray,this.filteredSurfaceElevation,z.get());if(o){const e=h(z.get(),t,s),i=g(e);f(e,e,1/i);const r=w(z.get(),t),o=a(b(r,e));return i*Math.sin(Math.min(W,o))}{const i=v(z.get(),t);return e.setAltitude(i,this.filteredSurfaceElevation),S(s,i)}}_minimumAscendVelocity(){return this.view.state.constraints.collision.enabled?0:$}_computeVelocities(t){const e=this.filteredSurfaceElevation,a=e+x(this.view.spatialReference).radius,{camera:r,isGlobal:o}=this.view.state,s=z.get(),n=this._getPointAbsoluteSurfaceElevation(r.eye,e,s),c=this._clampedDistanceToSurface(e,s),m=r.width/2,l=Y*r.width,p=Y*r.width,h=c*Math.tan(.5*r.fovX)/m,d=h/a,u=h/this._computeHeadingRotateRadius(s),f=n-e;return{pan:(o?d:h)*l*t,ascend:Math.max(this._minimumAscendVelocity()*t,2**(l*t/m)*f-f),zoom:2**(l*t/m)*c-c,rotate:i(u*p,tt,et)*t}}_applyDisabledMovementTypes(t){!o(this.disableMovements)||void 0!==this.disableMovements.mode&&this.view.state.viewingMode!==this.disableMovements.mode||(t.zoom=this.disableMovements.zoom?0:t.zoom,t.ascend=this.disableMovements.ascend?0:t.ascend,t.pan.enabled=!this.disableMovements.pan,this.disableMovements.pan&&l(t.pan.matrix),t.rotate.enabled=!this.disableMovements.rotate,this.disableMovements.rotate&&l(t.rotate.matrix))}static activatesFor(t,e){const i=K(e,t.navigation.gamepad,J);return!(\"end\"===e.action||X(i))}};t([s({constructOnly:!0})],q.prototype,\"view\",void 0),t([s({constructOnly:!0})],q.prototype,\"gamepadDevice\",void 0),t([s({constructOnly:!0})],q.prototype,\"disableMovements\",void 0),q=t([n(\"esri.views.3d.state.controllers.GamepadKeyboardController\")],q);const J={translation:[0,0,0],heading:0,tilt:0,zoom:0},Q=80,W=r(Q),Y=.75,$=5,tt=r(30),et=r(80),it={zoom:0,ascend:0,pan:{enabled:!1,matrix:p()},rotate:{enabled:!1,matrix:p()}},at=j(),rt=j(),ot=V();function st(t){t.zoom=0,t.ascend=0,t.pan.enabled=!1,l(t.pan.matrix),t.rotate.enabled=!1,l(t.rotate.matrix)}export{q as GamepadKeyboardController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}