{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"../support/PublishingInfo.js\";\nconst o = \"esri.layers.mixins.PublishableLayer\",\n      i = Symbol(o);\n\nfunction n(t) {\n  return t && \"object\" == typeof t && i in t;\n}\n\nconst u = i => {\n  let n = class extends i {\n    get publishingInfo() {\n      if (this.destroyed) return null;\n\n      const t = this._get(\"publishingInfo\");\n\n      if (t) return t;\n      const s = new r();\n      return this._checkPublishingStatus(s), s;\n    }\n\n    _checkPublishingStatus(t) {\n      const s = 250,\n            e = 125;\n      let r = 0;\n\n      const o = async s => {\n        let n;\n        t.updating = !0;\n\n        try {\n          n = await this.fetchPublishingStatus();\n        } catch (u) {\n          n = \"unavailable\";\n        }\n\n        \"published\" !== n && \"unavailable\" !== n || (\"publishing\" === t.status && this.refresh(), i.remove()), t.status = n, t.updating = !1, i.removed || (r = setTimeout(o, s, s + e));\n      },\n            i = {\n        removed: !1,\n\n        remove() {\n          this.removed = !0, clearTimeout(r);\n        }\n\n      };\n\n      this.when().catch(() => i.remove()), o(s), this.own(i);\n    }\n\n  };\n  return t([s({\n    readOnly: !0,\n    clonable: !1\n  })], n.prototype, \"publishingInfo\", null), n = t([e(o)], n), n;\n};\n\nexport { u as PublishableLayer, n as isPublishableLayer };","map":{"version":3,"names":["_","t","property","s","subclass","e","r","o","i","Symbol","n","u","publishingInfo","destroyed","_get","_checkPublishingStatus","updating","fetchPublishingStatus","status","refresh","remove","removed","setTimeout","clearTimeout","when","catch","own","readOnly","clonable","prototype","PublishableLayer","isPublishableLayer"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/mixins/PublishableLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../support/PublishingInfo.js\";const o=\"esri.layers.mixins.PublishableLayer\",i=Symbol(o);function n(t){return t&&\"object\"==typeof t&&i in t}const u=i=>{let n=class extends i{get publishingInfo(){if(this.destroyed)return null;const t=this._get(\"publishingInfo\");if(t)return t;const s=new r;return this._checkPublishingStatus(s),s}_checkPublishingStatus(t){const s=250,e=125;let r=0;const o=async s=>{let n;t.updating=!0;try{n=await this.fetchPublishingStatus()}catch(u){n=\"unavailable\"}\"published\"!==n&&\"unavailable\"!==n||(\"publishing\"===t.status&&this.refresh(),i.remove()),t.status=n,t.updating=!1,i.removed||(r=setTimeout(o,s,s+e))},i={removed:!1,remove(){this.removed=!0,clearTimeout(r)}};this.when().catch((()=>i.remove())),o(s),this.own(i)}};return t([s({readOnly:!0,clonable:!1})],n.prototype,\"publishingInfo\",null),n=t([e(o)],n),n};export{u as PublishableLayer,n as isPublishableLayer};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,2BAAlB;AAA8C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,OAAM,0BAAN;AAAiC,OAAM,0CAAN;AAAiD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,mDAAzB;AAA6E,OAAOC,CAAP,MAAa,8BAAb;AAA4C,MAAMC,CAAC,GAAC,qCAAR;AAAA,MAA8CC,CAAC,GAACC,MAAM,CAACF,CAAD,CAAtD;;AAA0D,SAASG,CAAT,CAAWT,CAAX,EAAa;EAAC,OAAOA,CAAC,IAAE,YAAU,OAAOA,CAApB,IAAuBO,CAAC,IAAIP,CAAnC;AAAqC;;AAAA,MAAMU,CAAC,GAACH,CAAC,IAAE;EAAC,IAAIE,CAAC,GAAC,cAAcF,CAAd,CAAe;IAAmB,IAAdI,cAAc,GAAE;MAAC,IAAG,KAAKC,SAAR,EAAkB,OAAO,IAAP;;MAAY,MAAMZ,CAAC,GAAC,KAAKa,IAAL,CAAU,gBAAV,CAAR;;MAAoC,IAAGb,CAAH,EAAK,OAAOA,CAAP;MAAS,MAAME,CAAC,GAAC,IAAIG,CAAJ,EAAR;MAAc,OAAO,KAAKS,sBAAL,CAA4BZ,CAA5B,GAA+BA,CAAtC;IAAwC;;IAAAY,sBAAsB,CAACd,CAAD,EAAG;MAAC,MAAME,CAAC,GAAC,GAAR;MAAA,MAAYE,CAAC,GAAC,GAAd;MAAkB,IAAIC,CAAC,GAAC,CAAN;;MAAQ,MAAMC,CAAC,GAAC,MAAMJ,CAAN,IAAS;QAAC,IAAIO,CAAJ;QAAMT,CAAC,CAACe,QAAF,GAAW,CAAC,CAAZ;;QAAc,IAAG;UAACN,CAAC,GAAC,MAAM,KAAKO,qBAAL,EAAR;QAAqC,CAAzC,CAAyC,OAAMN,CAAN,EAAQ;UAACD,CAAC,GAAC,aAAF;QAAgB;;QAAA,gBAAcA,CAAd,IAAiB,kBAAgBA,CAAjC,KAAqC,iBAAeT,CAAC,CAACiB,MAAjB,IAAyB,KAAKC,OAAL,EAAzB,EAAwCX,CAAC,CAACY,MAAF,EAA7E,GAAyFnB,CAAC,CAACiB,MAAF,GAASR,CAAlG,EAAoGT,CAAC,CAACe,QAAF,GAAW,CAAC,CAAhH,EAAkHR,CAAC,CAACa,OAAF,KAAYf,CAAC,GAACgB,UAAU,CAACf,CAAD,EAAGJ,CAAH,EAAKA,CAAC,GAACE,CAAP,CAAxB,CAAlH;MAAqJ,CAA7P;MAAA,MAA8PG,CAAC,GAAC;QAACa,OAAO,EAAC,CAAC,CAAV;;QAAYD,MAAM,GAAE;UAAC,KAAKC,OAAL,GAAa,CAAC,CAAd,EAAgBE,YAAY,CAACjB,CAAD,CAA5B;QAAgC;;MAArD,CAAhQ;;MAAuT,KAAKkB,IAAL,GAAYC,KAAZ,CAAmB,MAAIjB,CAAC,CAACY,MAAF,EAAvB,GAAoCb,CAAC,CAACJ,CAAD,CAArC,EAAyC,KAAKuB,GAAL,CAASlB,CAAT,CAAzC;IAAqD;;EAA5jB,CAArB;EAAmlB,OAAOP,CAAC,CAAC,CAACE,CAAC,CAAC;IAACwB,QAAQ,EAAC,CAAC,CAAX;IAAaC,QAAQ,EAAC,CAAC;EAAvB,CAAD,CAAF,CAAD,EAAgClB,CAAC,CAACmB,SAAlC,EAA4C,gBAA5C,EAA6D,IAA7D,CAAD,EAAoEnB,CAAC,GAACT,CAAC,CAAC,CAACI,CAAC,CAACE,CAAD,CAAF,CAAD,EAAQG,CAAR,CAAvE,EAAkFA,CAAzF;AAA2F,CAA1rB;;AAA2rB,SAAOC,CAAC,IAAImB,gBAAZ,EAA6BpB,CAAC,IAAIqB,kBAAlC"},"metadata":{},"sourceType":"module"}