{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { TextureSamplingMode as e, TextureType as t, PixelFormat as s, PixelType as r, TextureWrapMode as i } from \"../../../../../webgl/enums.js\";\nimport { Texture as a } from \"../../../../../webgl/Texture.js\";\n\nclass l {\n  constructor() {\n    this._size = [0, 0];\n  }\n\n  dispose() {\n    this._layerFBOTexture && (this._layerFBOTexture.dispose(), this._layerFBOTexture = null);\n  }\n\n  draw(t, s, r) {\n    const {\n      width: i,\n      height: a\n    } = s;\n\n    this._createOrResizeResources(t, i, a);\n\n    const {\n      context: l,\n      painter: o\n    } = t,\n          {\n      amount: T\n    } = r,\n          h = l.gl,\n          n = this._layerFBOTexture;\n    l.bindFramebuffer(s), s.copyToTexture(0, 0, i, a, 0, 0, n), l.setBlendingEnabled(!0), l.setStencilTestEnabled(!1), l.setDepthTestEnabled(!1), l.setClearColor(0, 0, 0, 0), l.clear(h.COLOR_BUFFER_BIT), o.blitTexture(l, n, e.NEAREST, T);\n  }\n\n  _createOrResizeResources(l, o, T) {\n    const {\n      context: h\n    } = l;\n    this._layerFBOTexture && this._size[0] === o && this._size[1] === T || (this._size[0] = o, this._size[1] = T, this._layerFBOTexture ? this._layerFBOTexture.resize(o, T) : this._layerFBOTexture = new a(h, {\n      target: t.TEXTURE_2D,\n      pixelFormat: s.RGBA,\n      internalFormat: s.RGBA,\n      dataType: r.UNSIGNED_BYTE,\n      wrapMode: i.CLAMP_TO_EDGE,\n      samplingMode: e.NEAREST,\n      flipped: !1,\n      width: o,\n      height: T\n    }));\n  }\n\n}\n\nexport { l as Opacity };","map":{"version":3,"names":["TextureSamplingMode","e","TextureType","t","PixelFormat","s","PixelType","r","TextureWrapMode","i","Texture","a","l","constructor","_size","dispose","_layerFBOTexture","draw","width","height","_createOrResizeResources","context","painter","o","amount","T","h","gl","n","bindFramebuffer","copyToTexture","setBlendingEnabled","setStencilTestEnabled","setDepthTestEnabled","setClearColor","clear","COLOR_BUFFER_BIT","blitTexture","NEAREST","resize","target","TEXTURE_2D","pixelFormat","RGBA","internalFormat","dataType","UNSIGNED_BYTE","wrapMode","CLAMP_TO_EDGE","samplingMode","flipped","Opacity"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Opacity.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{TextureSamplingMode as e,TextureType as t,PixelFormat as s,PixelType as r,TextureWrapMode as i}from\"../../../../../webgl/enums.js\";import{Texture as a}from\"../../../../../webgl/Texture.js\";class l{constructor(){this._size=[0,0]}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(t,s,r){const{width:i,height:a}=s;this._createOrResizeResources(t,i,a);const{context:l,painter:o}=t,{amount:T}=r,h=l.gl,n=this._layerFBOTexture;l.bindFramebuffer(s),s.copyToTexture(0,0,i,a,0,0,n),l.setBlendingEnabled(!0),l.setStencilTestEnabled(!1),l.setDepthTestEnabled(!1),l.setClearColor(0,0,0,0),l.clear(h.COLOR_BUFFER_BIT),o.blitTexture(l,n,e.NEAREST,T)}_createOrResizeResources(l,o,T){const{context:h}=l;this._layerFBOTexture&&this._size[0]===o&&this._size[1]===T||(this._size[0]=o,this._size[1]=T,this._layerFBOTexture?this._layerFBOTexture.resize(o,T):this._layerFBOTexture=new a(h,{target:t.TEXTURE_2D,pixelFormat:s.RGBA,internalFormat:s.RGBA,dataType:r.UNSIGNED_BYTE,wrapMode:i.CLAMP_TO_EDGE,samplingMode:e.NEAREST,flipped:!1,width:o,height:T}))}}export{l as Opacity};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}