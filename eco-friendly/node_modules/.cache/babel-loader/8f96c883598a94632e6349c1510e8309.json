{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { PathTransformationCursor as t, isClosedPath as s, getId as e } from \"../CIMCursor.js\";\nimport { CurveHelper as i } from \"../CurveHelper.js\";\n\nclass n {\n  static local() {\n    return null === n.instance && (n.instance = new n()), n.instance;\n  }\n\n  execute(t, s, e, i) {\n    return new a(t, s, e);\n  }\n\n}\n\nn.instance = null;\nconst r = 1e-15;\n\nclass a extends t {\n  constructor(t, s, e) {\n    super(t, !0, !0), this._curveHelper = new i(), this._angleToLine = void 0 === s.angleToLine || s.angleToLine, this._offset = void 0 !== s.offset ? s.offset * e : 0, this._endPoints = void 0 === s.placeOnEndPoints || s.placeOnEndPoints, this._controlPoints = void 0 === s.placeOnControlPoints || s.placeOnControlPoints, this._regularVertices = void 0 === s.placeOnRegularVertices || s.placeOnRegularVertices, this._tags = [], this._tagIterator = 0;\n  }\n\n  processPath(t) {\n    if (this.iteratePath || (this._preparePath(t), this.iteratePath = !0), this._tagIterator >= this._tags.length) return this._tags.length = 0, this._tagIterator = 0, this.iteratePath = !1, null;\n    const s = this._tags[this._tagIterator];\n    this._angleToLine && this.internalPlacement.setRotate(s[2]);\n    let e = s[0],\n        i = s[1];\n\n    if (0 !== this._offset) {\n      const t = Math.cos(s[2]),\n            n = Math.sin(s[2]);\n      e -= this._offset * n, i += this._offset * t;\n    }\n\n    return this.internalPlacement.setTranslate(e, i), this._tagIterator++, this.internalPlacement;\n  }\n\n  _preparePath(t) {\n    this._tags.length = 0, this._tagIterator = 0;\n    const i = s(t),\n          n = t.length - 1;\n    let r,\n        a,\n        h = 0,\n        l = 0,\n        _ = 0,\n        c = 0,\n        g = 0;\n\n    for (; h < n;) {\n      h++, r = t[h - 1], a = t[h];\n      const s = e(r),\n            u = e(a);\n      (this._angleToLine || 0 !== this._offset) && (c = this._curveHelper.getAngle(r, a, 0)), 1 === h ? i ? (l = c, _ = s) : (this._endPoints || this._controlPoints && 1 === s) && this._tags.push([r[0], r[1], c]) : 1 === s ? this._controlPoints && this._tags.push([r[0], r[1], o(g, c)]) : this._regularVertices && this._tags.push([r[0], r[1], o(g, c)]), (this._angleToLine || 0 !== this._offset) && (g = this._curveHelper.getAngle(r, a, 1)), h === n && (i ? 1 === u || 1 === _ ? this._controlPoints && this._tags.push([a[0], a[1], o(g, l)]) : this._regularVertices && this._tags.push([a[0], a[1], o(g, l)]) : (this._endPoints || this._controlPoints && 1 === u) && this._tags.push([a[0], a[1], g]));\n    }\n\n    this._tagIterator = 0;\n  }\n\n}\n\nfunction o(t, s) {\n  const e = Math.PI;\n\n  for (; Math.abs(s - t) > e + 2 * r;) s - t > e ? s -= 2 * e : s += 2 * e;\n\n  return (t + s) / 2;\n}\n\nexport { n as PlacementOnVertices };","map":{"version":3,"names":["PathTransformationCursor","t","isClosedPath","s","getId","e","CurveHelper","i","n","local","instance","execute","a","r","constructor","_curveHelper","_angleToLine","angleToLine","_offset","offset","_endPoints","placeOnEndPoints","_controlPoints","placeOnControlPoints","_regularVertices","placeOnRegularVertices","_tags","_tagIterator","processPath","iteratePath","_preparePath","length","internalPlacement","setRotate","Math","cos","sin","setTranslate","h","l","_","c","g","u","getAngle","push","o","PI","abs","PlacementOnVertices"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{PathTransformationCursor as t,isClosedPath as s,getId as e}from\"../CIMCursor.js\";import{CurveHelper as i}from\"../CurveHelper.js\";class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,s,e,i){return new a(t,s,e)}}n.instance=null;const r=1e-15;class a extends t{constructor(t,s,e){super(t,!0,!0),this._curveHelper=new i,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*e:0,this._endPoints=void 0===s.placeOnEndPoints||s.placeOnEndPoints,this._controlPoints=void 0===s.placeOnControlPoints||s.placeOnControlPoints,this._regularVertices=void 0===s.placeOnRegularVertices||s.placeOnRegularVertices,this._tags=[],this._tagIterator=0}processPath(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const s=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(s[2]);let e=s[0],i=s[1];if(0!==this._offset){const t=Math.cos(s[2]),n=Math.sin(s[2]);e-=this._offset*n,i+=this._offset*t}return this.internalPlacement.setTranslate(e,i),this._tagIterator++,this.internalPlacement}_preparePath(t){this._tags.length=0,this._tagIterator=0;const i=s(t),n=t.length-1;let r,a,h=0,l=0,_=0,c=0,g=0;for(;h<n;){h++,r=t[h-1],a=t[h];const s=e(r),u=e(a);(this._angleToLine||0!==this._offset)&&(c=this._curveHelper.getAngle(r,a,0)),1===h?i?(l=c,_=s):(this._endPoints||this._controlPoints&&1===s)&&this._tags.push([r[0],r[1],c]):1===s?this._controlPoints&&this._tags.push([r[0],r[1],o(g,c)]):this._regularVertices&&this._tags.push([r[0],r[1],o(g,c)]),(this._angleToLine||0!==this._offset)&&(g=this._curveHelper.getAngle(r,a,1)),h===n&&(i?1===u||1===_?this._controlPoints&&this._tags.push([a[0],a[1],o(g,l)]):this._regularVertices&&this._tags.push([a[0],a[1],o(g,l)]):(this._endPoints||this._controlPoints&&1===u)&&this._tags.push([a[0],a[1],g]))}this._tagIterator=0}}function o(t,s){const e=Math.PI;for(;Math.abs(s-t)>e+2*r;)s-t>e?s-=2*e:s+=2*e;return(t+s)/2}export{n as PlacementOnVertices};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}