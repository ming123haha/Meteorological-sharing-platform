{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport i from \"../../../core/has.js\";\nimport { PooledRBush as s } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport { empty as d } from \"../../../geometry/support/aaBoundingRect.js\";\nconst n = 5e4,\n      t = {\n  minX: 0,\n  minY: 0,\n  maxX: 0,\n  maxY: 0\n};\n\nfunction e(i) {\n  t.minX = i[0], t.minY = i[1], t.maxX = i[2], t.maxY = i[3];\n}\n\nfunction o(i, s, d) {\n  e(s), i.search(t, d);\n}\n\nclass h {\n  constructor() {\n    this._indexInvalid = !1, this._boundsToLoad = [], this._boundsById = new Map(), this._idByBounds = new Map(), this._index = new s(9, i(\"esri-csp-restrictions\") ? i => ({\n      minX: i[0],\n      minY: i[1],\n      maxX: i[2],\n      maxY: i[3]\n    }) : [\"[0]\", \"[1]\", \"[2]\", \"[3]\"]), this._loadIndex = () => {\n      if (this._indexInvalid) {\n        const i = new Array(this._idByBounds.size);\n        let s = 0;\n        this._idByBounds.forEach((d, n) => {\n          i[s++] = n;\n        }), this._indexInvalid = !1, this._index.clear(), this._index.load(i);\n      } else this._boundsToLoad.length && (this._index.load(this._boundsToLoad.filter(i => this._idByBounds.has(i))), this._boundsToLoad.length = 0);\n    };\n  }\n\n  get fullBounds() {\n    if (!this._boundsById.size) return null;\n    const i = d();\n\n    for (const s of this._boundsById.values()) s && (i[0] = Math.min(s[0], i[0]), i[1] = Math.min(s[1], i[1]), i[2] = Math.max(s[2], i[2]), i[3] = Math.max(s[3], i[3]));\n\n    return i;\n  }\n\n  get valid() {\n    return !this._indexInvalid;\n  }\n\n  clear() {\n    this._indexInvalid = !1, this._boundsToLoad.length = 0, this._boundsById.clear(), this._idByBounds.clear(), this._index.clear();\n  }\n\n  delete(i) {\n    const s = this._boundsById.get(i);\n\n    this._boundsById.delete(i), s && (this._idByBounds.delete(s), this._indexInvalid || this._index.remove(s));\n  }\n\n  forEachInBounds(i, s) {\n    this._loadIndex(), o(this._index, i, i => s(this._idByBounds.get(i)));\n  }\n\n  get(i) {\n    return this._boundsById.get(i);\n  }\n\n  has(i) {\n    return this._boundsById.has(i);\n  }\n\n  invalidateIndex() {\n    this._indexInvalid || (this._indexInvalid = !0, this._boundsToLoad.length = 0);\n  }\n\n  set(i, s) {\n    if (!this._indexInvalid) {\n      const s = this._boundsById.get(i);\n\n      s && (this._index.remove(s), this._idByBounds.delete(s));\n    }\n\n    this._boundsById.set(i, s), s && (this._idByBounds.set(s, i), this._indexInvalid || (this._boundsToLoad.push(s), this._boundsToLoad.length > n && this._loadIndex()));\n  }\n\n}\n\nexport { h as BoundsStore };","map":{"version":3,"names":["i","PooledRBush","s","empty","d","n","t","minX","minY","maxX","maxY","e","o","search","h","constructor","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","clear","load","length","filter","has","fullBounds","values","Math","min","max","valid","delete","get","remove","forEachInBounds","invalidateIndex","set","push","BoundsStore"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as d}from\"../../../geometry/support/aaBoundingRect.js\";const n=5e4,t={minX:0,minY:0,maxX:0,maxY:0};function e(i){t.minX=i[0],t.minY=i[1],t.maxX=i[2],t.maxY=i[3]}function o(i,s,d){e(s),i.search(t,d)}class h{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=d();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),o(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>n&&this._loadIndex()))}}export{h as BoundsStore};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}