{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport r from \"../../core/Collection.js\";\nimport t from \"../../core/Evented.js\";\nimport { JSONSupportMixin as s } from \"../../core/JSONSupport.js\";\nimport o from \"../../core/Loadable.js\";\nimport { isSome as i } from \"../../core/maybe.js\";\nimport { whenOnce as l } from \"../../core/reactiveUtils.js\";\nimport { stripHTML as a } from \"../../core/string.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport { cast as u } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { reader as p } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as y } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as h } from \"../../core/accessorSupport/ensureType.js\";\nimport { computeExtent as c, sublayersFromJSON as m, fetchService as d, parseKML as b } from \"./kmlUtils.js\";\nimport f from \"../../geometry/Extent.js\";\nvar v;\nlet j = v = class extends t.EventedMixin(s(o)) {\n  constructor() {\n    super(...arguments), this._sublayersHandles = null, this.description = null, this.id = null, this.networkLink = null, this.title = null, this.sourceJSON = null, this.fullExtent = null;\n  }\n\n  initialize() {\n    l(() => this.networkLink).then(() => l(() => !0 === this.visible)).then(() => this.load());\n  }\n\n  load(e) {\n    if (!this.networkLink) return;\n    if (this.networkLink.viewFormat) return;\n\n    const t = i(e) ? e.signal : null,\n          s = this._fetchService(this._get(\"networkLink\").href, t).then(e => {\n      const t = c(e.sublayers);\n      this.fullExtent = f.fromJSON(t), this.sourceJSON = e;\n      const s = h(r.ofType(v), m(v, e));\n      this.sublayers ? this.sublayers.addMany(s) : this.sublayers = s, this.layer.emit(\"sublayer-update\"), this.layer && this.layer.notifyChange(\"visibleSublayers\");\n    });\n\n    return this.addResolvingPromise(s), Promise.resolve(this);\n  }\n\n  set sublayers(e) {\n    const r = this._get(\"sublayers\");\n\n    r && (r.forEach(e => {\n      e.parent = null, e.layer = null;\n    }), this._sublayersHandles.forEach(e => e.remove()), this._sublayersHandles = null), e && (e.forEach(e => {\n      e.parent = this, e.layer = this.layer;\n    }), this._sublayersHandles = [e.on(\"after-add\", ({\n      item: e\n    }) => {\n      e.parent = this, e.layer = this.layer;\n    }), e.on(\"after-remove\", ({\n      item: e\n    }) => {\n      e.parent = null, e.layer = null;\n    })]), this._set(\"sublayers\", e);\n  }\n\n  castSublayers(e) {\n    return h(r.ofType(v), e);\n  }\n\n  get visible() {\n    return this._get(\"visible\");\n  }\n\n  set visible(e) {\n    this._get(\"visible\") !== e && (this._set(\"visible\", e), this.layer && this.layer.notifyChange(\"visibleSublayers\"));\n  }\n\n  readVisible(e, r) {\n    return !!r.visibility;\n  }\n\n  set layer(e) {\n    this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(r => r.layer = e);\n  }\n\n  _fetchService(e, r) {\n    return d(e, this.layer.outSpatialReference, this.layer.refreshInterval, r).then(e => b(e.data));\n  }\n\n};\ne([n()], j.prototype, \"description\", void 0), e([n()], j.prototype, \"id\", void 0), e([n({\n  readOnly: !0,\n  value: null\n})], j.prototype, \"networkLink\", void 0), e([n({\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], j.prototype, \"parent\", void 0), e([n({\n  value: null,\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], j.prototype, \"sublayers\", null), e([u(\"sublayers\")], j.prototype, \"castSublayers\", null), e([n({\n  value: null,\n  json: {\n    read: {\n      source: \"name\",\n      reader: e => a(e)\n    }\n  }\n})], j.prototype, \"title\", void 0), e([n({\n  value: !0\n})], j.prototype, \"visible\", null), e([p(\"visible\", [\"visibility\"])], j.prototype, \"readVisible\", null), e([n()], j.prototype, \"sourceJSON\", void 0), e([n({\n  value: null\n})], j.prototype, \"layer\", null), e([n({\n  type: f\n})], j.prototype, \"fullExtent\", void 0), j = v = e([y(\"esri.layers.support.KMLSublayer\")], j);\nconst S = j;\nexport { S as default };","map":{"version":3,"names":["_","e","r","t","JSONSupportMixin","s","o","isSome","i","whenOnce","l","stripHTML","a","property","n","cast","u","reader","p","subclass","y","ensureType","h","computeExtent","c","sublayersFromJSON","m","fetchService","d","parseKML","b","f","v","j","EventedMixin","constructor","arguments","_sublayersHandles","description","id","networkLink","title","sourceJSON","fullExtent","initialize","then","visible","load","viewFormat","signal","_fetchService","_get","href","sublayers","fromJSON","ofType","addMany","layer","emit","notifyChange","addResolvingPromise","Promise","resolve","forEach","parent","remove","on","item","_set","castSublayers","readVisible","visibility","outSpatialReference","refreshInterval","data","prototype","readOnly","value","json","write","allowNull","read","source","type","S","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/KMLSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Evented.js\";import{JSONSupportMixin as s}from\"../../core/JSONSupport.js\";import o from\"../../core/Loadable.js\";import{isSome as i}from\"../../core/maybe.js\";import{whenOnce as l}from\"../../core/reactiveUtils.js\";import{stripHTML as a}from\"../../core/string.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as u}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as p}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{ensureType as h}from\"../../core/accessorSupport/ensureType.js\";import{computeExtent as c,sublayersFromJSON as m,fetchService as d,parseKML as b}from\"./kmlUtils.js\";import f from\"../../geometry/Extent.js\";var v;let j=v=class extends(t.EventedMixin(s(o))){constructor(){super(...arguments),this._sublayersHandles=null,this.description=null,this.id=null,this.networkLink=null,this.title=null,this.sourceJSON=null,this.fullExtent=null}initialize(){l((()=>this.networkLink)).then((()=>l((()=>!0===this.visible)))).then((()=>this.load()))}load(e){if(!this.networkLink)return;if(this.networkLink.viewFormat)return;const t=i(e)?e.signal:null,s=this._fetchService(this._get(\"networkLink\").href,t).then((e=>{const t=c(e.sublayers);this.fullExtent=f.fromJSON(t),this.sourceJSON=e;const s=h(r.ofType(v),m(v,e));this.sublayers?this.sublayers.addMany(s):this.sublayers=s,this.layer.emit(\"sublayer-update\"),this.layer&&this.layer.notifyChange(\"visibleSublayers\")}));return this.addResolvingPromise(s),Promise.resolve(this)}set sublayers(e){const r=this._get(\"sublayers\");r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this._sublayersHandles.forEach((e=>e.remove())),this._sublayersHandles=null),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this._sublayersHandles=[e.on(\"after-add\",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on(\"after-remove\",(({item:e})=>{e.parent=null,e.layer=null}))]),this._set(\"sublayers\",e)}castSublayers(e){return h(r.ofType(v),e)}get visible(){return this._get(\"visible\")}set visible(e){this._get(\"visible\")!==e&&(this._set(\"visible\",e),this.layer&&this.layer.notifyChange(\"visibleSublayers\"))}readVisible(e,r){return!!r.visibility}set layer(e){this._set(\"layer\",e),this.sublayers&&this.sublayers.forEach((r=>r.layer=e))}_fetchService(e,r){return d(e,this.layer.outSpatialReference,this.layer.refreshInterval,r).then((e=>b(e.data)))}};e([n()],j.prototype,\"description\",void 0),e([n()],j.prototype,\"id\",void 0),e([n({readOnly:!0,value:null})],j.prototype,\"networkLink\",void 0),e([n({json:{write:{allowNull:!0}}})],j.prototype,\"parent\",void 0),e([n({value:null,json:{write:{allowNull:!0}}})],j.prototype,\"sublayers\",null),e([u(\"sublayers\")],j.prototype,\"castSublayers\",null),e([n({value:null,json:{read:{source:\"name\",reader:e=>a(e)}}})],j.prototype,\"title\",void 0),e([n({value:!0})],j.prototype,\"visible\",null),e([p(\"visible\",[\"visibility\"])],j.prototype,\"readVisible\",null),e([n()],j.prototype,\"sourceJSON\",void 0),e([n({value:null})],j.prototype,\"layer\",null),e([n({type:f})],j.prototype,\"fullExtent\",void 0),j=v=e([y(\"esri.layers.support.KMLSublayer\")],j);const S=j;export{S as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}