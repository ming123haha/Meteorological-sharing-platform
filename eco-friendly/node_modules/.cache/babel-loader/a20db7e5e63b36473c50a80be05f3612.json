{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Logger.js\";\nimport { isPowerOfTwo as t } from \"../../../../core/mathUtils.js\";\nimport { TextureSamplingMode as r, CompressedTextureFormat as n } from \"../../../webgl/enums.js\";\nimport { Texture as o } from \"../../../webgl/Texture.js\";\nconst a = e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),\n      i = 542327876,\n      s = 131072,\n      l = 4;\n\nfunction u(e) {\n  return e.charCodeAt(0) + (e.charCodeAt(1) << 8) + (e.charCodeAt(2) << 16) + (e.charCodeAt(3) << 24);\n}\n\nfunction m(e) {\n  return String.fromCharCode(255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255);\n}\n\nconst c = u(\"DXT1\"),\n      h = u(\"DXT3\"),\n      p = u(\"DXT5\"),\n      d = 31,\n      g = 0,\n      f = 1,\n      C = 2,\n      w = 3,\n      D = 4,\n      _ = 7,\n      T = 20,\n      A = 21;\n\nfunction E(e, t, n) {\n  const {\n    textureData: a,\n    internalFormat: i,\n    width: s,\n    height: l\n  } = S(n, t.hasMipmap);\n  return t.samplingMode = a.levels.length > 1 ? r.LINEAR_MIPMAP_LINEAR : r.LINEAR, t.hasMipmap = a.levels.length > 1, t.internalFormat = i, t.width = s, t.height = l, new o(e, t, a);\n}\n\nfunction S(e, r) {\n  const o = new Int32Array(e, 0, d);\n  if (o[g] !== i) return a.error(\"Invalid magic number in DDS header\"), null;\n  if (!(o[T] & l)) return a.error(\"Unsupported format, must contain a FourCC code\"), null;\n  const u = o[A];\n  let E, S;\n\n  switch (u) {\n    case c:\n      E = 8, S = n.COMPRESSED_RGB_S3TC_DXT1_EXT;\n      break;\n\n    case h:\n      E = 16, S = n.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n      break;\n\n    case p:\n      E = 16, S = n.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n      break;\n\n    default:\n      return a.error(\"Unsupported FourCC code:\", m(u)), null;\n  }\n\n  let M = 1,\n      R = o[D],\n      x = o[w];\n  0 == (3 & R) && 0 == (3 & x) || (a.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"), R = R + 3 & -4, x = x + 3 & -4);\n  const X = R,\n        b = x;\n  let I, v;\n  o[C] & s && !1 !== r && (M = Math.max(1, o[_])), 1 === M || t(R) && t(x) || (a.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"), M = 1);\n  let F = o[f] + 4;\n  const L = [];\n\n  for (let t = 0; t < M; ++t) v = (R + 3 >> 2) * (x + 3 >> 2) * E, I = new Uint8Array(e, F, v), L.push(I), F += v, R = Math.max(1, R >> 1), x = Math.max(1, x >> 1);\n\n  return {\n    textureData: {\n      type: \"compressed\",\n      levels: L\n    },\n    internalFormat: S,\n    width: X,\n    height: b\n  };\n}\n\nexport { E as createDDSTexture, S as createDDSTextureData };","map":{"version":3,"names":["e","isPowerOfTwo","t","TextureSamplingMode","r","CompressedTextureFormat","n","Texture","o","a","getLogger","i","s","l","u","charCodeAt","m","String","fromCharCode","c","h","p","d","g","f","C","w","D","_","T","A","E","textureData","internalFormat","width","height","S","hasMipmap","samplingMode","levels","length","LINEAR_MIPMAP_LINEAR","LINEAR","Int32Array","error","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","M","R","x","warn","X","b","I","v","Math","max","F","L","Uint8Array","push","type","createDDSTexture","createDDSTextureData"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{TextureSamplingMode as r,CompressedTextureFormat as n}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";const a=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),i=542327876,s=131072,l=4;function u(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function m(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const c=u(\"DXT1\"),h=u(\"DXT3\"),p=u(\"DXT5\"),d=31,g=0,f=1,C=2,w=3,D=4,_=7,T=20,A=21;function E(e,t,n){const{textureData:a,internalFormat:i,width:s,height:l}=S(n,t.hasMipmap);return t.samplingMode=a.levels.length>1?r.LINEAR_MIPMAP_LINEAR:r.LINEAR,t.hasMipmap=a.levels.length>1,t.internalFormat=i,t.width=s,t.height=l,new o(e,t,a)}function S(e,r){const o=new Int32Array(e,0,d);if(o[g]!==i)return a.error(\"Invalid magic number in DDS header\"),null;if(!(o[T]&l))return a.error(\"Unsupported format, must contain a FourCC code\"),null;const u=o[A];let E,S;switch(u){case c:E=8,S=n.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case h:E=16,S=n.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case p:E=16,S=n.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return a.error(\"Unsupported FourCC code:\",m(u)),null}let M=1,R=o[D],x=o[w];0==(3&R)&&0==(3&x)||(a.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),R=R+3&-4,x=x+3&-4);const X=R,b=x;let I,v;o[C]&s&&!1!==r&&(M=Math.max(1,o[_])),1===M||t(R)&&t(x)||(a.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),M=1);let F=o[f]+4;const L=[];for(let t=0;t<M;++t)v=(R+3>>2)*(x+3>>2)*E,I=new Uint8Array(e,F,v),L.push(I),F+=v,R=Math.max(1,R>>1),x=Math.max(1,x>>1);return{textureData:{type:\"compressed\",levels:L},internalFormat:S,width:X,height:b}}export{E as createDDSTexture,S as createDDSTextureData};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}