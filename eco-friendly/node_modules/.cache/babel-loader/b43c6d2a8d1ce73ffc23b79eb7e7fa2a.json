{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as t, isSome as e, isNone as s } from \"../../../../core/maybe.js\";\nimport { isPromiseLike as i } from \"../../../../core/promiseUtils.js\";\nimport { NoParameters as r } from \"../core/shaderModules/interfaces.js\";\nimport { ResourceState as u } from \"./basicInterfaces.js\";\nimport l from \"./GLMaterial.js\";\n\nclass h extends l {\n  constructor(t) {\n    super(t), this._numLoading = 0, this._disposed = !1, this._textureRepository = t.textureRep, this._textureId = t.textureId, this._acquire(t.textureId, t => this._texture = t), this._acquire(t.normalTextureId, t => this._textureNormal = t), this._acquire(t.emissiveTextureId, t => this._textureEmissive = t), this._acquire(t.occlusionTextureId, t => this._textureOcclusion = t), this._acquire(t.metallicRoughnessTextureId, t => this._textureMetallicRoughness = t);\n  }\n\n  dispose() {\n    this._texture = t(this._texture), this._textureNormal = t(this._textureNormal), this._textureEmissive = t(this._textureEmissive), this._textureOcclusion = t(this._textureOcclusion), this._textureMetallicRoughness = t(this._textureMetallicRoughness), this._disposed = !0;\n  }\n\n  ensureResources(t) {\n    return 0 === this._numLoading ? u.LOADED : u.LOADING;\n  }\n\n  get textureBindParameters() {\n    return new o(e(this._texture) ? this._texture.glTexture : null, e(this._textureNormal) ? this._textureNormal.glTexture : null, e(this._textureEmissive) ? this._textureEmissive.glTexture : null, e(this._textureOcclusion) ? this._textureOcclusion.glTexture : null, e(this._textureMetallicRoughness) ? this._textureMetallicRoughness.glTexture : null);\n  }\n\n  updateTexture(e) {\n    (s(this._texture) || e !== this._texture.id) && (this._texture = t(this._texture), this._textureId = e, this._acquire(this._textureId, t => this._texture = t));\n  }\n\n  _acquire(e, r) {\n    if (s(e)) return void r(null);\n\n    const u = this._textureRepository.acquire(e);\n\n    if (i(u)) return ++this._numLoading, void u.then(e => {\n      if (this._disposed) return t(e), void r(null);\n      r(e);\n    }).finally(() => --this._numLoading);\n    r(u);\n  }\n\n}\n\nclass o extends r {\n  constructor(t = null, e = null, s = null, i = null, r = null) {\n    super(), this.texture = t, this.textureNormal = e, this.textureEmissive = s, this.textureOcclusion = i, this.textureMetallicRoughness = r;\n  }\n\n}\n\nexport { h as GLTextureMaterial, o as GLTextureMaterialBindParameters };","map":{"version":3,"names":["releaseMaybe","t","isSome","e","isNone","s","isPromiseLike","i","NoParameters","r","ResourceState","u","l","h","constructor","_numLoading","_disposed","_textureRepository","textureRep","_textureId","textureId","_acquire","_texture","normalTextureId","_textureNormal","emissiveTextureId","_textureEmissive","occlusionTextureId","_textureOcclusion","metallicRoughnessTextureId","_textureMetallicRoughness","dispose","ensureResources","LOADED","LOADING","textureBindParameters","o","glTexture","updateTexture","id","acquire","then","finally","texture","textureNormal","textureEmissive","textureOcclusion","textureMetallicRoughness","GLTextureMaterial","GLTextureMaterialBindParameters"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as t,isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{isPromiseLike as i}from\"../../../../core/promiseUtils.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ResourceState as u}from\"./basicInterfaces.js\";import l from\"./GLMaterial.js\";class h extends l{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textureRepository=t.textureRep,this._textureId=t.textureId,this._acquire(t.textureId,(t=>this._texture=t)),this._acquire(t.normalTextureId,(t=>this._textureNormal=t)),this._acquire(t.emissiveTextureId,(t=>this._textureEmissive=t)),this._acquire(t.occlusionTextureId,(t=>this._textureOcclusion=t)),this._acquire(t.metallicRoughnessTextureId,(t=>this._textureMetallicRoughness=t))}dispose(){this._texture=t(this._texture),this._textureNormal=t(this._textureNormal),this._textureEmissive=t(this._textureEmissive),this._textureOcclusion=t(this._textureOcclusion),this._textureMetallicRoughness=t(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?u.LOADED:u.LOADING}get textureBindParameters(){return new o(e(this._texture)?this._texture.glTexture:null,e(this._textureNormal)?this._textureNormal.glTexture:null,e(this._textureEmissive)?this._textureEmissive.glTexture:null,e(this._textureOcclusion)?this._textureOcclusion.glTexture:null,e(this._textureMetallicRoughness)?this._textureMetallicRoughness.glTexture:null)}updateTexture(e){(s(this._texture)||e!==this._texture.id)&&(this._texture=t(this._texture),this._textureId=e,this._acquire(this._textureId,(t=>this._texture=t)))}_acquire(e,r){if(s(e))return void r(null);const u=this._textureRepository.acquire(e);if(i(u))return++this._numLoading,void u.then((e=>{if(this._disposed)return t(e),void r(null);r(e)})).finally((()=>--this._numLoading));r(u)}}class o extends r{constructor(t=null,e=null,s=null,i=null,r=null){super(),this.texture=t,this.textureNormal=e,this.textureEmissive=s,this.textureOcclusion=i,this.textureMetallicRoughness=r}}export{h as GLTextureMaterial,o as GLTextureMaterialBindParameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}