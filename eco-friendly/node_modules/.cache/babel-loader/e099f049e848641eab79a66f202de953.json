{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from \"../config.js\";\nimport has from \"../core/has.js\";\nimport { isSome as e } from \"../core/maybe.js\";\nimport { isAborted as o } from \"../core/promiseUtils.js\";\nimport { getOrigin as t, hasSameOrigin as n, getAppUrl as s, urlToObject as i } from \"../core/urlUtils.js\";\n\nfunction c(r, t, n = !1, s) {\n  return new Promise((i, c) => {\n    if (o(s)) return void c(a());\n\n    let m = () => {\n      f(), c(new Error(`Unable to load ${t}`));\n    },\n        u = () => {\n      const e = r;\n      f(), i(e);\n    },\n        d = () => {\n      if (!r) return;\n      const e = r;\n      f(), e.src = \"\", c(a());\n    };\n\n    const f = () => {\n      has(\"esri-image-decode\") || (r.removeEventListener(\"error\", m), r.removeEventListener(\"load\", u)), m = null, u = null, r = null, e(s) && s.removeEventListener(\"abort\", d), d = null, n && URL.revokeObjectURL(t);\n    };\n\n    e(s) && s.addEventListener(\"abort\", d), has(\"esri-image-decode\") ? r.decode().then(u, m) : (r.addEventListener(\"error\", m), r.addEventListener(\"load\", u));\n  });\n}\n\nfunction a() {\n  try {\n    return new DOMException(\"Aborted\", \"AbortError\");\n  } catch {\n    const r = new Error();\n    return r.name = \"AbortError\", r;\n  }\n}\n\nfunction m(e) {\n  r.request.crossOriginNoCorsDomains || (r.request.crossOriginNoCorsDomains = {});\n  const o = r.request.crossOriginNoCorsDomains;\n\n  for (let r of e) r = r.toLowerCase(), /^https?:\\/\\//.test(r) ? o[t(r) ?? \"\"] = 0 : (o[t(\"http://\" + r) ?? \"\"] = 0, o[t(\"https://\" + r) ?? \"\"] = 0);\n}\n\nfunction u(e) {\n  const o = r.request.crossOriginNoCorsDomains;\n\n  if (o) {\n    let r = t(e);\n    if (r) return r = r.toLowerCase(), !n(r, s()) && o[r] < Date.now() - 36e5;\n  }\n\n  return !1;\n}\n\nasync function d(e) {\n  const o = r.request.crossOriginNoCorsDomains,\n        n = t(e);\n  o && n && (o[n.toLowerCase()] = Date.now());\n  const s = i(e);\n  e = s.path, \"json\" === s.query?.f && (e += \"?f=json\");\n\n  try {\n    await fetch(e, {\n      mode: \"no-cors\",\n      credentials: \"include\"\n    });\n  } catch {}\n}\n\nexport { u as isNoCorsRequestRequired, c as loadImageAsync, m as registerNoCorsDomains, d as sendNoCorsRequest };","map":{"version":3,"names":["r","has","isSome","e","isAborted","o","getOrigin","t","hasSameOrigin","n","getAppUrl","s","urlToObject","i","c","Promise","a","m","f","Error","u","d","src","removeEventListener","URL","revokeObjectURL","addEventListener","decode","then","DOMException","name","request","crossOriginNoCorsDomains","toLowerCase","test","Date","now","path","query","fetch","mode","credentials","isNoCorsRequestRequired","loadImageAsync","registerNoCorsDomains","sendNoCorsRequest"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/support/requestUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from\"../config.js\";import has from\"../core/has.js\";import{isSome as e}from\"../core/maybe.js\";import{isAborted as o}from\"../core/promiseUtils.js\";import{getOrigin as t,hasSameOrigin as n,getAppUrl as s,urlToObject as i}from\"../core/urlUtils.js\";function c(r,t,n=!1,s){return new Promise(((i,c)=>{if(o(s))return void c(a());let m=()=>{f(),c(new Error(`Unable to load ${t}`))},u=()=>{const e=r;f(),i(e)},d=()=>{if(!r)return;const e=r;f(),e.src=\"\",c(a())};const f=()=>{has(\"esri-image-decode\")||(r.removeEventListener(\"error\",m),r.removeEventListener(\"load\",u)),m=null,u=null,r=null,e(s)&&s.removeEventListener(\"abort\",d),d=null,n&&URL.revokeObjectURL(t)};e(s)&&s.addEventListener(\"abort\",d),has(\"esri-image-decode\")?r.decode().then(u,m):(r.addEventListener(\"error\",m),r.addEventListener(\"load\",u))}))}function a(){try{return new DOMException(\"Aborted\",\"AbortError\")}catch{const r=new Error;return r.name=\"AbortError\",r}}function m(e){r.request.crossOriginNoCorsDomains||(r.request.crossOriginNoCorsDomains={});const o=r.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\\/\\//.test(r)?o[t(r)??\"\"]=0:(o[t(\"http://\"+r)??\"\"]=0,o[t(\"https://\"+r)??\"\"]=0)}function u(e){const o=r.request.crossOriginNoCorsDomains;if(o){let r=t(e);if(r)return r=r.toLowerCase(),!n(r,s())&&o[r]<Date.now()-36e5}return!1}async function d(e){const o=r.request.crossOriginNoCorsDomains,n=t(e);o&&n&&(o[n.toLowerCase()]=Date.now());const s=i(e);e=s.path,\"json\"===s.query?.f&&(e+=\"?f=json\");try{await fetch(e,{mode:\"no-cors\",credentials:\"include\"})}catch{}}export{u as isNoCorsRequestRequired,c as loadImageAsync,m as registerNoCorsDomains,d as sendNoCorsRequest};\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,cAAb;AAA4B,OAAOC,GAAP,MAAe,gBAAf;AAAgC,SAAOC,MAAM,IAAIC,CAAjB,QAAuB,kBAAvB;AAA0C,SAAOC,SAAS,IAAIC,CAApB,QAA0B,yBAA1B;AAAoD,SAAOC,SAAS,IAAIC,CAApB,EAAsBC,aAAa,IAAIC,CAAvC,EAAyCC,SAAS,IAAIC,CAAtD,EAAwDC,WAAW,IAAIC,CAAvE,QAA6E,qBAA7E;;AAAmG,SAASC,CAAT,CAAWd,CAAX,EAAaO,CAAb,EAAeE,CAAC,GAAC,CAAC,CAAlB,EAAoBE,CAApB,EAAsB;EAAC,OAAO,IAAII,OAAJ,CAAa,CAACF,CAAD,EAAGC,CAAH,KAAO;IAAC,IAAGT,CAAC,CAACM,CAAD,CAAJ,EAAQ,OAAO,KAAKG,CAAC,CAACE,CAAC,EAAF,CAAb;;IAAmB,IAAIC,CAAC,GAAC,MAAI;MAACC,CAAC,IAAGJ,CAAC,CAAC,IAAIK,KAAJ,CAAW,kBAAiBZ,CAAE,EAA9B,CAAD,CAAL;IAAwC,CAAnD;IAAA,IAAoDa,CAAC,GAAC,MAAI;MAAC,MAAMjB,CAAC,GAACH,CAAR;MAAUkB,CAAC,IAAGL,CAAC,CAACV,CAAD,CAAL;IAAS,CAA9E;IAAA,IAA+EkB,CAAC,GAAC,MAAI;MAAC,IAAG,CAACrB,CAAJ,EAAM;MAAO,MAAMG,CAAC,GAACH,CAAR;MAAUkB,CAAC,IAAGf,CAAC,CAACmB,GAAF,GAAM,EAAT,EAAYR,CAAC,CAACE,CAAC,EAAF,CAAd;IAAoB,CAAjI;;IAAkI,MAAME,CAAC,GAAC,MAAI;MAACjB,GAAG,CAAC,mBAAD,CAAH,KAA2BD,CAAC,CAACuB,mBAAF,CAAsB,OAAtB,EAA8BN,CAA9B,GAAiCjB,CAAC,CAACuB,mBAAF,CAAsB,MAAtB,EAA6BH,CAA7B,CAA5D,GAA6FH,CAAC,GAAC,IAA/F,EAAoGG,CAAC,GAAC,IAAtG,EAA2GpB,CAAC,GAAC,IAA7G,EAAkHG,CAAC,CAACQ,CAAD,CAAD,IAAMA,CAAC,CAACY,mBAAF,CAAsB,OAAtB,EAA8BF,CAA9B,CAAxH,EAAyJA,CAAC,GAAC,IAA3J,EAAgKZ,CAAC,IAAEe,GAAG,CAACC,eAAJ,CAAoBlB,CAApB,CAAnK;IAA0L,CAAvM;;IAAwMJ,CAAC,CAACQ,CAAD,CAAD,IAAMA,CAAC,CAACe,gBAAF,CAAmB,OAAnB,EAA2BL,CAA3B,CAAN,EAAoCpB,GAAG,CAAC,mBAAD,CAAH,GAAyBD,CAAC,CAAC2B,MAAF,GAAWC,IAAX,CAAgBR,CAAhB,EAAkBH,CAAlB,CAAzB,IAA+CjB,CAAC,CAAC0B,gBAAF,CAAmB,OAAnB,EAA2BT,CAA3B,GAA8BjB,CAAC,CAAC0B,gBAAF,CAAmB,MAAnB,EAA0BN,CAA1B,CAA7E,CAApC;EAA+I,CAAzgB,CAAP;AAAmhB;;AAAA,SAASJ,CAAT,GAAY;EAAC,IAAG;IAAC,OAAO,IAAIa,YAAJ,CAAiB,SAAjB,EAA2B,YAA3B,CAAP;EAAgD,CAApD,CAAoD,MAAK;IAAC,MAAM7B,CAAC,GAAC,IAAImB,KAAJ,EAAR;IAAkB,OAAOnB,CAAC,CAAC8B,IAAF,GAAO,YAAP,EAAoB9B,CAA3B;EAA6B;AAAC;;AAAA,SAASiB,CAAT,CAAWd,CAAX,EAAa;EAACH,CAAC,CAAC+B,OAAF,CAAUC,wBAAV,KAAqChC,CAAC,CAAC+B,OAAF,CAAUC,wBAAV,GAAmC,EAAxE;EAA4E,MAAM3B,CAAC,GAACL,CAAC,CAAC+B,OAAF,CAAUC,wBAAlB;;EAA2C,KAAI,IAAIhC,CAAR,IAAaG,CAAb,EAAeH,CAAC,GAACA,CAAC,CAACiC,WAAF,EAAF,EAAkB,eAAeC,IAAf,CAAoBlC,CAApB,IAAuBK,CAAC,CAACE,CAAC,CAACP,CAAD,CAAD,IAAM,EAAP,CAAD,GAAY,CAAnC,IAAsCK,CAAC,CAACE,CAAC,CAAC,YAAUP,CAAX,CAAD,IAAgB,EAAjB,CAAD,GAAsB,CAAtB,EAAwBK,CAAC,CAACE,CAAC,CAAC,aAAWP,CAAZ,CAAD,IAAiB,EAAlB,CAAD,GAAuB,CAArF,CAAlB;AAA0G;;AAAA,SAASoB,CAAT,CAAWjB,CAAX,EAAa;EAAC,MAAME,CAAC,GAACL,CAAC,CAAC+B,OAAF,CAAUC,wBAAlB;;EAA2C,IAAG3B,CAAH,EAAK;IAAC,IAAIL,CAAC,GAACO,CAAC,CAACJ,CAAD,CAAP;IAAW,IAAGH,CAAH,EAAK,OAAOA,CAAC,GAACA,CAAC,CAACiC,WAAF,EAAF,EAAkB,CAACxB,CAAC,CAACT,CAAD,EAAGW,CAAC,EAAJ,CAAF,IAAWN,CAAC,CAACL,CAAD,CAAD,GAAKmC,IAAI,CAACC,GAAL,KAAW,IAApD;EAAyD;;EAAA,OAAM,CAAC,CAAP;AAAS;;AAAA,eAAef,CAAf,CAAiBlB,CAAjB,EAAmB;EAAC,MAAME,CAAC,GAACL,CAAC,CAAC+B,OAAF,CAAUC,wBAAlB;EAAA,MAA2CvB,CAAC,GAACF,CAAC,CAACJ,CAAD,CAA9C;EAAkDE,CAAC,IAAEI,CAAH,KAAOJ,CAAC,CAACI,CAAC,CAACwB,WAAF,EAAD,CAAD,GAAmBE,IAAI,CAACC,GAAL,EAA1B;EAAsC,MAAMzB,CAAC,GAACE,CAAC,CAACV,CAAD,CAAT;EAAaA,CAAC,GAACQ,CAAC,CAAC0B,IAAJ,EAAS,WAAS1B,CAAC,CAAC2B,KAAF,EAASpB,CAAlB,KAAsBf,CAAC,IAAE,SAAzB,CAAT;;EAA6C,IAAG;IAAC,MAAMoC,KAAK,CAACpC,CAAD,EAAG;MAACqC,IAAI,EAAC,SAAN;MAAgBC,WAAW,EAAC;IAA5B,CAAH,CAAX;EAAsD,CAA1D,CAA0D,MAAK,CAAE;AAAC;;AAAA,SAAOrB,CAAC,IAAIsB,uBAAZ,EAAoC5B,CAAC,IAAI6B,cAAzC,EAAwD1B,CAAC,IAAI2B,qBAA7D,EAAmFvB,CAAC,IAAIwB,iBAAxF"},"metadata":{},"sourceType":"module"}