{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport \"../../camera/constraintUtils.js\";\nimport { eyeWithinExtent as s } from \"../../camera/intersectionUtils.js\";\nimport { CameraController as i, State as a } from \"./CameraController.js\";\nimport { applySurfaceCollisionConstraint as n, Mode as l } from \"../../camera/constraintUtils/surfaceCollision.js\";\nlet c = class extends i {\n  constructor(e) {\n    super(e), this.handles = new t();\n  }\n\n  set desiredCamera(e) {\n    this._set(\"desiredCamera\", e.clone());\n  }\n\n  get canStop() {\n    return !0;\n  }\n\n  get constraintEnabled() {\n    return this.view.state.constraints.collision.enabled;\n  }\n\n  onControllerStart() {\n    this.state = a.Running, this.handles.add(this.view.basemapTerrain.on(\"elevation-change\", e => this._handleElevationChangeEvent(e))), this._applyCorrection();\n  }\n\n  onControllerEnd() {\n    this.handles.removeAll();\n  }\n\n  stepController() {}\n\n  _handleElevationChangeEvent(e) {\n    s(this.view, this.desiredCamera, e.extent, e.spatialReference) && this._applyCorrection();\n  }\n\n  _applyCorrection() {\n    this.view.state.updateCamera(e => {\n      e.copyViewFrom(this.desiredCamera), n(this.view, e, l.EYE_AND_CENTER) || this.constraintEnabled || (this.state = a.Stopped);\n    });\n  }\n\n};\ne([r({\n  constructOnly: !0\n})], c.prototype, \"view\", void 0), e([r({\n  constructOnly: !0\n})], c.prototype, \"desiredCamera\", null), c = e([o(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")], c);\nexport { c as SurfaceCollisionCorrectionController };","map":{"version":3,"names":["_","e","t","property","r","subclass","o","eyeWithinExtent","s","CameraController","i","State","a","applySurfaceCollisionConstraint","n","Mode","l","c","constructor","handles","desiredCamera","_set","clone","canStop","constraintEnabled","view","state","constraints","collision","enabled","onControllerStart","Running","add","basemapTerrain","on","_handleElevationChangeEvent","_applyCorrection","onControllerEnd","removeAll","stepController","extent","spatialReference","updateCamera","copyViewFrom","EYE_AND_CENTER","Stopped","constructOnly","prototype","SurfaceCollisionCorrectionController"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../camera/constraintUtils.js\";import{eyeWithinExtent as s}from\"../../camera/intersectionUtils.js\";import{CameraController as i,State as a}from\"./CameraController.js\";import{applySurfaceCollisionConstraint as n,Mode as l}from\"../../camera/constraintUtils/surfaceCollision.js\";let c=class extends i{constructor(e){super(e),this.handles=new t}set desiredCamera(e){this._set(\"desiredCamera\",e.clone())}get canStop(){return!0}get constraintEnabled(){return this.view.state.constraints.collision.enabled}onControllerStart(){this.state=a.Running,this.handles.add(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e)))),this._applyCorrection()}onControllerEnd(){this.handles.removeAll()}stepController(){}_handleElevationChangeEvent(e){s(this.view,this.desiredCamera,e.extent,e.spatialReference)&&this._applyCorrection()}_applyCorrection(){this.view.state.updateCamera((e=>{e.copyViewFrom(this.desiredCamera),n(this.view,e,l.EYE_AND_CENTER)||this.constraintEnabled||(this.state=a.Stopped)}))}};e([r({constructOnly:!0})],c.prototype,\"view\",void 0),e([r({constructOnly:!0})],c.prototype,\"desiredCamera\",null),c=e([o(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")],c);export{c as SurfaceCollisionCorrectionController};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,iCAAlB;AAAoD,OAAOC,CAAP,MAAa,6BAAb;AAA2C,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAM,gCAAN;AAAuC,OAAM,yBAAN;AAAgC,OAAM,gDAAN;AAAuD,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,yDAAzB;AAAmF,OAAM,iCAAN;AAAwC,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,mCAAhC;AAAoE,SAAOC,gBAAgB,IAAIC,CAA3B,EAA6BC,KAAK,IAAIC,CAAtC,QAA4C,uBAA5C;AAAoE,SAAOC,+BAA+B,IAAIC,CAA1C,EAA4CC,IAAI,IAAIC,CAApD,QAA0D,kDAA1D;AAA6G,IAAIC,CAAC,GAAC,cAAcP,CAAd,CAAe;EAACQ,WAAW,CAACjB,CAAD,EAAG;IAAC,MAAMA,CAAN,GAAS,KAAKkB,OAAL,GAAa,IAAIjB,CAAJ,EAAtB;EAA4B;;EAAiB,IAAbkB,aAAa,CAACnB,CAAD,EAAG;IAAC,KAAKoB,IAAL,CAAU,eAAV,EAA0BpB,CAAC,CAACqB,KAAF,EAA1B;EAAqC;;EAAW,IAAPC,OAAO,GAAE;IAAC,OAAM,CAAC,CAAP;EAAS;;EAAqB,IAAjBC,iBAAiB,GAAE;IAAC,OAAO,KAAKC,IAAL,CAAUC,KAAV,CAAgBC,WAAhB,CAA4BC,SAA5B,CAAsCC,OAA7C;EAAqD;;EAAAC,iBAAiB,GAAE;IAAC,KAAKJ,KAAL,GAAWd,CAAC,CAACmB,OAAb,EAAqB,KAAKZ,OAAL,CAAaa,GAAb,CAAiB,KAAKP,IAAL,CAAUQ,cAAV,CAAyBC,EAAzB,CAA4B,kBAA5B,EAAgDjC,CAAC,IAAE,KAAKkC,2BAAL,CAAiClC,CAAjC,CAAnD,CAAjB,CAArB,EAAgI,KAAKmC,gBAAL,EAAhI;EAAwJ;;EAAAC,eAAe,GAAE;IAAC,KAAKlB,OAAL,CAAamB,SAAb;EAAyB;;EAAAC,cAAc,GAAE,CAAE;;EAAAJ,2BAA2B,CAAClC,CAAD,EAAG;IAACO,CAAC,CAAC,KAAKiB,IAAN,EAAW,KAAKL,aAAhB,EAA8BnB,CAAC,CAACuC,MAAhC,EAAuCvC,CAAC,CAACwC,gBAAzC,CAAD,IAA6D,KAAKL,gBAAL,EAA7D;EAAqF;;EAAAA,gBAAgB,GAAE;IAAC,KAAKX,IAAL,CAAUC,KAAV,CAAgBgB,YAAhB,CAA8BzC,CAAC,IAAE;MAACA,CAAC,CAAC0C,YAAF,CAAe,KAAKvB,aAApB,GAAmCN,CAAC,CAAC,KAAKW,IAAN,EAAWxB,CAAX,EAAae,CAAC,CAAC4B,cAAf,CAAD,IAAiC,KAAKpB,iBAAtC,KAA0D,KAAKE,KAAL,GAAWd,CAAC,CAACiC,OAAvE,CAAnC;IAAmH,CAArJ;EAAwJ;;AAAltB,CAArB;AAAyuB5C,CAAC,CAAC,CAACG,CAAC,CAAC;EAAC0C,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB7B,CAAC,CAAC8B,SAA3B,EAAqC,MAArC,EAA4C,KAAK,CAAjD,CAAD,EAAqD9C,CAAC,CAAC,CAACG,CAAC,CAAC;EAAC0C,aAAa,EAAC,CAAC;AAAhB,CAAD,CAAF,CAAD,EAAyB7B,CAAC,CAAC8B,SAA3B,EAAqC,eAArC,EAAqD,IAArD,CAAtD,EAAiH9B,CAAC,GAAChB,CAAC,CAAC,CAACK,CAAC,CAAC,sEAAD,CAAF,CAAD,EAA6EW,CAA7E,CAApH;AAAoM,SAAOA,CAAC,IAAI+B,oCAAZ"},"metadata":{},"sourceType":"module"}