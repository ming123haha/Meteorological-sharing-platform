{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { HandleOwner as t } from \"../../../core/HandleOwner.js\";\nimport r from \"../../../core/Handles.js\";\nimport { someMap as i } from \"../../../core/MapUtils.js\";\nimport { isSome as o, isNone as s, unwrap as n } from \"../../../core/maybe.js\";\nimport { eachAlwaysValues as a, throwIfAborted as c } from \"../../../core/promiseUtils.js\";\nimport { sync as u, watch as p, syncAndInitial as l } from \"../../../core/reactiveUtils.js\";\nimport { property as d } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as h } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as g } from \"../../../chunks/vec3f64.js\";\nimport { SnappingTypes as f } from \"../../../layers/graphics/data/QueryEngineResult.js\";\nimport { RayConstraint as y } from \"./SnappingConstraint.js\";\nimport { sortCandidatesInPlace as S } from \"./snappingUtils.js\";\nimport { EdgeSnappingCandidate as m } from \"./candidates/EdgeSnappingCandidate.js\";\nimport { FeatureSnappingCandidate as v } from \"./candidates/FeatureSnappingCandidate.js\";\nimport { RightAngleSnappingCandidate as w, OtherVertexType as _ } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { anyMapPointToRender as j, anyMapPointToScreenPoint as x } from \"../support/viewUtils.js\";\nlet C = class extends t {\n  constructor(e) {\n    super(e), this.options = null, this.sourceModules = {\n      featureService: {\n        module: null,\n        loader: null\n      },\n      featureCollection: {\n        module: null,\n        loader: null\n      },\n      graphics: {\n        module: null,\n        loader: null\n      }\n    };\n  }\n\n  get updating() {\n    return i(this.snappingSources, ({\n      snappingSource: e\n    }) => e.updating) || this.updatingHandles.updating;\n  }\n\n  get snappingSources() {\n    const e = this._get(\"snappingSources\") || new Map(),\n          t = new Map();\n    if (o(this.options) && o(this.options.featureSources)) for (const r of this.options.featureSources.items) {\n      const i = r.layer.uid,\n            s = e.get(i);\n\n      if (s) {\n        e.delete(i), t.set(i, s);\n        continue;\n      }\n\n      if (!r.layer.loaded) {\n        this.updatingHandles.addPromise(r.layer.load());\n        continue;\n      }\n\n      const n = this._createSourceInfo(r);\n\n      o(n) && t.set(i, n);\n    }\n\n    for (const [, r] of e) r.destroy();\n\n    return t;\n  }\n\n  initialize() {\n    this.updatingHandles.add(() => this.snappingSources, () => this.notifyChange(\"updating\"), u), o(this.view) && this.handles.add([this.view.on(\"layerview-create\", e => this._updateLayerView(e.layer, e.layerView)), this.view.on(\"layerview-destroy\", e => this._updateLayerView(e.layer, null))]);\n  }\n\n  _updateLayerView(e, t) {\n    for (const [, r] of this.snappingSources) r.snappingSource.layerSource.layer === e && (r.layerView = t);\n  }\n\n  destroy() {\n    this._set(\"options\", null);\n\n    for (const [, e] of this.snappingSources) e.destroy();\n  }\n\n  async fetchCandidates(e, t, r) {\n    if (s(this.options) || !this.options.effectiveFeatureEnabled) return [];\n\n    const i = [],\n          n = this._computeScreeenSizeDistanceParameters(e, t),\n          u = {\n      distance: n,\n      point: e,\n      coordinateHelper: t.coordinateHelper,\n      types: this.types,\n      filter: null\n    };\n\n    for (const [, {\n      snappingSource: s,\n      layerView: a\n    }] of this.snappingSources) !s.layerSource.enabled || o(a) && a.suspended || i.push(s.fetchCandidates(u, r).then(e => e.filter(e => !this._candidateIsExcluded(s, e, t.excludeFeature))));\n\n    const p = (await a(i)).flat();\n    return this._addRightAngleCandidates(p, e, n, t), c(r), S(e, p), p;\n  }\n\n  _addRightAngleCandidates(e, t, r, i) {\n    const s = o(i.vertexHandle) ? i.vertexHandle.rightEdge?.rightVertex?.pos : o(i.editGeometryOperations) && \"polygon\" === i.editGeometryOperations.data.type ? n(i.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos : null,\n          a = o(i.vertexHandle) ? i.vertexHandle.leftEdge?.leftVertex?.pos : o(i.editGeometryOperations) ? n(i.editGeometryOperations.data.components[0]?.getLastVertex())?.pos : null,\n          c = e.length;\n\n    for (let o = 0; o < c; o++) this._addRightAngleCandidate(e[o], a, t, r, i, e), this._addRightAngleCandidate(e[o], s, t, r, i, e);\n  }\n\n  _addRightAngleCandidate(e, t, r, i, o, n) {\n    if (s(t) || !(e instanceof m)) return;\n    const a = e.constraint.closestTo(t),\n          c = (a[0] - r[0]) / i.x,\n          u = (a[1] - r[1]) / i.y;\n\n    if (c * c + u * u <= 1) {\n      const r = o.coordinateHelper;\n      n.push(new w({\n        coordinateHelper: r,\n        targetPoint: a,\n        otherVertex: t,\n        otherVertexType: _.NEXT,\n        previousVertex: e.constraint.start,\n        constraint: new y(r, t, a),\n        objectId: e.objectId,\n        elevationInfo: e.elevationInfo\n      }));\n    }\n  }\n\n  _computeScreeenSizeDistanceParameters(e, t) {\n    const r = o(this.options) ? this.options.distance * (\"touch\" === t.pointer ? this.options.touchSensitivityMultiplier : 1) : 0;\n    if (s(this.view)) return {\n      x: r,\n      y: r,\n      pixelSize: r\n    };\n\n    if (\"2d\" === this.view.type) {\n      const e = r * this.view.resolution;\n      return {\n        x: e,\n        y: e,\n        pixelSize: e\n      };\n    }\n\n    return this._computeScreenSizeDistanceParameters3D(e, r, this.view, t);\n  }\n\n  _computeScreenSizeDistanceParameters3D(e, t, r, i) {\n    const {\n      coordinateHelper: o,\n      elevationInfo: s\n    } = i,\n          n = r.state.camera.computeScreenPixelSizeAt(j(e, o, s, r, M)),\n          a = n * r.renderCoordsHelper.unitInMeters / r.mapCoordsHelper.unitInMeters,\n          c = t * a;\n    return {\n      x: c / this._computeScreenMagnitudeOfMapOffset(e, a, 0, r, i),\n      y: c / this._computeScreenMagnitudeOfMapOffset(e, 0, a, r, i),\n      pixelSize: n\n    };\n  }\n\n  _computeScreenMagnitudeOfMapOffset(e, t, r, i, {\n    coordinateHelper: o,\n    elevationInfo: s\n  }) {\n    const n = o.clone(e);\n    n[0] += t, n[1] += r;\n    const a = x(e, o, s, i),\n          c = x(n, o, s, i),\n          u = c.x - a.x,\n          p = c.y - a.y;\n    return Math.sqrt(u * u + p * p);\n  }\n\n  get types() {\n    return f.EDGE | f.VERTEX;\n  }\n\n  _candidateIsExcluded(e, t, r) {\n    if (s(r)) return !1;\n\n    const i = this._getCandidateObjectId(t);\n\n    if (s(i)) return !1;\n    const o = e.layerSource.layer;\n    return \"graphics\" === o.type ? r.uid === i : r.sourceLayer === o && !(!r.attributes || !(\"objectIdField\" in o)) && r.attributes[o.objectIdField] === i;\n  }\n\n  _getCandidateObjectId(e) {\n    return e instanceof v ? e.objectId : null;\n  }\n\n  _createSourceInfo(e) {\n    const t = this._createFeatureSnappingSourceType(e);\n\n    if (s(t)) return null;\n    if (\"loading\" in t) return this.updatingHandles.addPromise(t.loading.then(() => {\n      this.destroyed || this.notifyChange(\"snappingSources\");\n    })), null;\n    const r = o(this.view) ? this.view.allLayerViews.find(t => t.layer === e.layer) : null;\n    return new H(t.source, r);\n  }\n\n  _createFeatureSnappingSourceType(e) {\n    switch (e.layer.type) {\n      case \"feature\":\n      case \"geojson\":\n      case \"csv\":\n      case \"subtype-group\":\n      case \"wfs\":\n        return this._createFeatureSnappingSourceFeatureLayer(e);\n\n      case \"graphics\":\n        return this._createFeatureSnappingSourceGraphicsLayer(e);\n    }\n\n    return null;\n  }\n\n  _createFeatureSnappingSourceFeatureLayer(e) {\n    switch (e.layer.source.type) {\n      case \"feature-layer\":\n        {\n          const t = this._getSourceModule(\"featureService\");\n\n          return o(t.module) ? {\n            source: new t.module.FeatureServiceSnappingSource({\n              spatialReference: this.spatialReference,\n              view: this.view,\n              layerSource: e\n            })\n          } : {\n            loading: t.loader\n          };\n        }\n\n      case \"memory\":\n      case \"csv\":\n      case \"geojson\":\n      case \"wfs\":\n        {\n          if (\"mesh\" === e.layer.geometryType) return null;\n\n          const t = this._getSourceModule(\"featureCollection\");\n\n          return o(t.module) ? {\n            source: new t.module.FeatureCollectionSnappingSource({\n              layerSource: e\n            })\n          } : {\n            loading: t.loader\n          };\n        }\n    }\n\n    return null;\n  }\n\n  _createFeatureSnappingSourceGraphicsLayer(e) {\n    const t = this._getSourceModule(\"graphics\");\n\n    return o(t.module) ? {\n      source: new t.module.GraphicsSnappingSource({\n        spatialReference: this.spatialReference,\n        view: this.view,\n        layerSource: e\n      })\n    } : {\n      loading: t.loader\n    };\n  }\n\n  _getSourceModule(e) {\n    const t = this.sourceModules[e];\n\n    if (s(t.loader)) {\n      const r = this._loadSourceModule(e).then(e => {\n        t.module = e;\n      });\n\n      return t.loader = r, {\n        module: t.module,\n        loader: r\n      };\n    }\n\n    return {\n      module: t.module,\n      loader: t.loader\n    };\n  }\n\n  _loadSourceModule(e) {\n    switch (e) {\n      case \"featureService\":\n        return this.updatingHandles.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));\n\n      case \"featureCollection\":\n        return this.updatingHandles.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));\n\n      case \"graphics\":\n        return this.updatingHandles.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));\n    }\n\n    return null;\n  }\n\n};\ne([d({\n  constructOnly: !0\n})], C.prototype, \"spatialReference\", void 0), e([d({\n  constructOnly: !0\n})], C.prototype, \"view\", void 0), e([d()], C.prototype, \"options\", void 0), e([d({\n  readOnly: !0\n})], C.prototype, \"updating\", null), e([d({\n  readOnly: !0\n})], C.prototype, \"snappingSources\", null), C = e([h(\"esri.views.interactive.snapping.FeatureSnappingEngine\")], C);\n\nclass H {\n  constructor(e, t) {\n    this.snappingSource = e, this.layerView = t, this.handles = new r();\n    const i = this.snappingSource.layerSource.layer;\n\n    if (\"refresh\" in i) {\n      const t = i;\n      this.handles.add(t.on(\"refresh\", () => e.refresh()));\n    }\n\n    this.handles.add([p(() => e.updating, t => e.layerSource.updating = t, l), p(() => e.availability, t => e.layerSource.availability = t, l)]);\n  }\n\n  destroy() {\n    this.snappingSource.destroy(), this.handles.destroy();\n  }\n\n}\n\nconst M = g();\nexport { C as FeatureSnappingEngine };","map":{"version":3,"names":["_","e","HandleOwner","t","r","someMap","i","isSome","o","isNone","s","unwrap","n","eachAlwaysValues","a","throwIfAborted","c","sync","u","watch","p","syncAndInitial","l","property","d","subclass","h","g","SnappingTypes","f","RayConstraint","y","sortCandidatesInPlace","S","EdgeSnappingCandidate","m","FeatureSnappingCandidate","v","RightAngleSnappingCandidate","w","OtherVertexType","anyMapPointToRender","j","anyMapPointToScreenPoint","x","C","constructor","options","sourceModules","featureService","module","loader","featureCollection","graphics","updating","snappingSources","snappingSource","updatingHandles","_get","Map","featureSources","items","layer","uid","get","delete","set","loaded","addPromise","load","_createSourceInfo","destroy","initialize","add","notifyChange","view","handles","on","_updateLayerView","layerView","layerSource","_set","fetchCandidates","effectiveFeatureEnabled","_computeScreeenSizeDistanceParameters","distance","point","coordinateHelper","types","filter","enabled","suspended","push","then","_candidateIsExcluded","excludeFeature","flat","_addRightAngleCandidates","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","data","type","components","getFirstVertex","leftEdge","leftVertex","getLastVertex","length","_addRightAngleCandidate","constraint","closestTo","targetPoint","otherVertex","otherVertexType","NEXT","previousVertex","start","objectId","elevationInfo","pointer","touchSensitivityMultiplier","pixelSize","resolution","_computeScreenSizeDistanceParameters3D","state","camera","computeScreenPixelSizeAt","M","renderCoordsHelper","unitInMeters","mapCoordsHelper","_computeScreenMagnitudeOfMapOffset","clone","Math","sqrt","EDGE","VERTEX","_getCandidateObjectId","sourceLayer","attributes","objectIdField","_createFeatureSnappingSourceType","loading","destroyed","allLayerViews","find","H","source","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_getSourceModule","FeatureServiceSnappingSource","spatialReference","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","_loadSourceModule","constructOnly","prototype","readOnly","refresh","availability","FeatureSnappingEngine"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../core/HandleOwner.js\";import r from\"../../../core/Handles.js\";import{someMap as i}from\"../../../core/MapUtils.js\";import{isSome as o,isNone as s,unwrap as n}from\"../../../core/maybe.js\";import{eachAlwaysValues as a,throwIfAborted as c}from\"../../../core/promiseUtils.js\";import{sync as u,watch as p,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as g}from\"../../../chunks/vec3f64.js\";import{SnappingTypes as f}from\"../../../layers/graphics/data/QueryEngineResult.js\";import{RayConstraint as y}from\"./SnappingConstraint.js\";import{sortCandidatesInPlace as S}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as m}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as v}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as w,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToRender as j,anyMapPointToScreenPoint as x}from\"../support/viewUtils.js\";let C=class extends t{constructor(e){super(e),this.options=null,this.sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null}}}get updating(){return i(this.snappingSources,(({snappingSource:e})=>e.updating))||this.updatingHandles.updating}get snappingSources(){const e=this._get(\"snappingSources\")||new Map,t=new Map;if(o(this.options)&&o(this.options.featureSources))for(const r of this.options.featureSources.items){const i=r.layer.uid,s=e.get(i);if(s){e.delete(i),t.set(i,s);continue}if(!r.layer.loaded){this.updatingHandles.addPromise(r.layer.load());continue}const n=this._createSourceInfo(r);o(n)&&t.set(i,n)}for(const[,r]of e)r.destroy();return t}initialize(){this.updatingHandles.add((()=>this.snappingSources),(()=>this.notifyChange(\"updating\")),u),o(this.view)&&this.handles.add([this.view.on(\"layerview-create\",(e=>this._updateLayerView(e.layer,e.layerView))),this.view.on(\"layerview-destroy\",(e=>this._updateLayerView(e.layer,null)))])}_updateLayerView(e,t){for(const[,r]of this.snappingSources)r.snappingSource.layerSource.layer===e&&(r.layerView=t)}destroy(){this._set(\"options\",null);for(const[,e]of this.snappingSources)e.destroy()}async fetchCandidates(e,t,r){if(s(this.options)||!this.options.effectiveFeatureEnabled)return[];const i=[],n=this._computeScreeenSizeDistanceParameters(e,t),u={distance:n,point:e,coordinateHelper:t.coordinateHelper,types:this.types,filter:null};for(const[,{snappingSource:s,layerView:a}]of this.snappingSources)!s.layerSource.enabled||o(a)&&a.suspended||i.push(s.fetchCandidates(u,r).then((e=>e.filter((e=>!this._candidateIsExcluded(s,e,t.excludeFeature))))));const p=(await a(i)).flat();return this._addRightAngleCandidates(p,e,n,t),c(r),S(e,p),p}_addRightAngleCandidates(e,t,r,i){const s=o(i.vertexHandle)?i.vertexHandle.rightEdge?.rightVertex?.pos:o(i.editGeometryOperations)&&\"polygon\"===i.editGeometryOperations.data.type?n(i.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos:null,a=o(i.vertexHandle)?i.vertexHandle.leftEdge?.leftVertex?.pos:o(i.editGeometryOperations)?n(i.editGeometryOperations.data.components[0]?.getLastVertex())?.pos:null,c=e.length;for(let o=0;o<c;o++)this._addRightAngleCandidate(e[o],a,t,r,i,e),this._addRightAngleCandidate(e[o],s,t,r,i,e)}_addRightAngleCandidate(e,t,r,i,o,n){if(s(t)||!(e instanceof m))return;const a=e.constraint.closestTo(t),c=(a[0]-r[0])/i.x,u=(a[1]-r[1])/i.y;if(c*c+u*u<=1){const r=o.coordinateHelper;n.push(new w({coordinateHelper:r,targetPoint:a,otherVertex:t,otherVertexType:_.NEXT,previousVertex:e.constraint.start,constraint:new y(r,t,a),objectId:e.objectId,elevationInfo:e.elevationInfo}))}}_computeScreeenSizeDistanceParameters(e,t){const r=o(this.options)?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;if(s(this.view))return{x:r,y:r,pixelSize:r};if(\"2d\"===this.view.type){const e=r*this.view.resolution;return{x:e,y:e,pixelSize:e}}return this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,i){const{coordinateHelper:o,elevationInfo:s}=i,n=r.state.camera.computeScreenPixelSizeAt(j(e,o,s,r,M)),a=n*r.renderCoordsHelper.unitInMeters/r.mapCoordsHelper.unitInMeters,c=t*a;return{x:c/this._computeScreenMagnitudeOfMapOffset(e,a,0,r,i),y:c/this._computeScreenMagnitudeOfMapOffset(e,0,a,r,i),pixelSize:n}}_computeScreenMagnitudeOfMapOffset(e,t,r,i,{coordinateHelper:o,elevationInfo:s}){const n=o.clone(e);n[0]+=t,n[1]+=r;const a=x(e,o,s,i),c=x(n,o,s,i),u=c.x-a.x,p=c.y-a.y;return Math.sqrt(u*u+p*p)}get types(){return f.EDGE|f.VERTEX}_candidateIsExcluded(e,t,r){if(s(r))return!1;const i=this._getCandidateObjectId(t);if(s(i))return!1;const o=e.layerSource.layer;return\"graphics\"===o.type?r.uid===i:r.sourceLayer===o&&(!(!r.attributes||!(\"objectIdField\"in o))&&r.attributes[o.objectIdField]===i)}_getCandidateObjectId(e){return e instanceof v?e.objectId:null}_createSourceInfo(e){const t=this._createFeatureSnappingSourceType(e);if(s(t))return null;if(\"loading\"in t)return this.updatingHandles.addPromise(t.loading.then((()=>{this.destroyed||this.notifyChange(\"snappingSources\")}))),null;const r=o(this.view)?this.view.allLayerViews.find((t=>t.layer===e.layer)):null;return new H(t.source,r)}_createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e)}return null}_createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source.type){case\"feature-layer\":{const t=this._getSourceModule(\"featureService\");return o(t.module)?{source:new t.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":{if(\"mesh\"===e.layer.geometryType)return null;const t=this._getSourceModule(\"featureCollection\");return o(t.module)?{source:new t.module.FeatureCollectionSnappingSource({layerSource:e})}:{loading:t.loader}}}return null}_createFeatureSnappingSourceGraphicsLayer(e){const t=this._getSourceModule(\"graphics\");return o(t.module)?{source:new t.module.GraphicsSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}_getSourceModule(e){const t=this.sourceModules[e];if(s(t.loader)){const r=this._loadSourceModule(e).then((e=>{t.module=e}));return t.loader=r,{module:t.module,loader:r}}return{module:t.module,loader:t.loader}}_loadSourceModule(e){switch(e){case\"featureService\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":return this.updatingHandles.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"))}return null}};e([d({constructOnly:!0})],C.prototype,\"spatialReference\",void 0),e([d({constructOnly:!0})],C.prototype,\"view\",void 0),e([d()],C.prototype,\"options\",void 0),e([d({readOnly:!0})],C.prototype,\"updating\",null),e([d({readOnly:!0})],C.prototype,\"snappingSources\",null),C=e([h(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],C);class H{constructor(e,t){this.snappingSource=e,this.layerView=t,this.handles=new r;const i=this.snappingSource.layerSource.layer;if(\"refresh\"in i){const t=i;this.handles.add(t.on(\"refresh\",(()=>e.refresh())))}this.handles.add([p((()=>e.updating),(t=>e.layerSource.updating=t),l),p((()=>e.availability),(t=>e.layerSource.availability=t),l)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}const M=g();export{C as FeatureSnappingEngine};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}