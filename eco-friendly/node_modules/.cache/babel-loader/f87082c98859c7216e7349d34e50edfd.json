{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../TimeExtent.js\";\nimport s from \"../../../../../core/Evented.js\";\nimport has from \"../../../../../core/has.js\";\nimport { isSome as t } from \"../../../../../core/maybe.js\";\nimport { createResolver as r, ignoreAbortErrors as i, eachAlwaysValues as o, eachAlways as n } from \"../../../../../core/promiseUtils.js\";\nimport { diff as c, hasDiff as u, hasDiffAny as h } from \"../../../../../core/accessorSupport/diffUtils.js\";\nimport a from \"../../../../../rest/support/Query.js\";\nimport { DataTileSubscription as d } from \"./DataTileSubscription.js\";\nimport { UpdateToken as p } from \"../support/UpdateToken.js\";\n\nfunction l(e, s) {\n  const t = new Set();\n  return e && e.forEach(e => t.add(e)), s && s.forEach(e => t.add(e)), t.has(\"*\") ? [\"*\"] : Array.from(t);\n}\n\nclass m {\n  constructor(e) {\n    this.events = new s(), this._resolver = r(), this._didEdit = !1, this._subscriptions = new Map(), this._outSR = e.outSR, this._serviceInfo = e.serviceInfo, this._onTileUpdateMessage = e.onMessage;\n  }\n\n  destroy() {}\n\n  async _onMessage(e) {\n    const s = this._subscriptions.get(e.id);\n\n    if (!s) return;\n    const t = { ...e,\n      remove: e.remove ?? [],\n      status: e.status ?? p.empty()\n    };\n    return i(this._onTileUpdateMessage(t, s.options));\n  }\n\n  update(s, t) {\n    const r = t.fields.length;\n    t.outFields = l(this._schema?.outFields, t.outFields), t.outFields = t.outFields.length >= .75 * r ? [\"*\"] : t.outFields, t.outFields.sort();\n    const i = c(this._schema, t);\n    if (!i) return;\n    has(\"esri-2d-update-debug\") && console.debug(\"Applying Update - Source:\", i);\n    const o = \"orderByFields\" in this._serviceInfo && this._serviceInfo.orderByFields ? this._serviceInfo.orderByFields : this._serviceInfo.objectIdField + \" ASC\",\n          n = {\n      returnCentroid: \"esriGeometryPolygon\" === this._serviceInfo.geometryType,\n      returnGeometry: !0,\n      timeReferenceUnknownClient: \"stream\" !== this._serviceInfo.type && this._serviceInfo.timeReferenceUnknownClient,\n      outFields: t.outFields,\n      outSpatialReference: this._outSR,\n      orderByFields: [o],\n      where: t.definitionExpression || \"1=1\",\n      gdbVersion: t.gdbVersion,\n      historicMoment: t.historicMoment,\n      timeExtent: e.fromJSON(t.timeExtent)\n    },\n          a = this._schema && u(i, \"outFields\");\n    this._schema && h(i, [\"timeExtent\", \"definitionExpression\", \"gdbVersion\", \"historicMoment\", \"customParameters\"]) && (s.why.mesh.push(\"Layer filter and/or custom parameters changed\"), s.why.source.push(\"Layer filter and/or custom parameters changed\"), s.mesh = !0, s.source = !0, s.queryFilter = !0), a && (s.why.source.push(\"Layer required fields changed\"), s.source = !0), c(n, this._queryInfo) && (this._queryInfo = n), this._schema = t, this._resolver.resolve();\n  }\n\n  whenInitialized() {\n    return this._resolver.promise;\n  }\n\n  async applyUpdate(e) {\n    if (e.queryFilter || e.source && this._didEdit) return this.refresh(e.version), void (this._didEdit = !1);\n    this._subscriptions.forEach(s => s.applyUpdate(e)), await this.resend();\n  }\n\n  refresh(e, s) {\n    for (const t of this._tiles()) this.unsubscribe(t), this.subscribe(t, e);\n  }\n\n  subscribe(e, s) {\n    const t = new d(e, s);\n\n    this._subscriptions.set(e.id, t);\n  }\n\n  unsubscribe(e) {\n    const s = this.get(e.id);\n    t(s) && s.abort(), this._subscriptions.delete(e.id);\n  }\n\n  createQuery(e = {}) {\n    const s = this._queryInfo.historicMoment ? new Date(this._queryInfo.historicMoment) : null;\n    return new a({ ...this._queryInfo,\n      historicMoment: s,\n      ...e\n    });\n  }\n\n  get(e) {\n    return this._subscriptions.has(e) ? this._subscriptions.get(e) : null;\n  }\n\n  async queryLastEditDate() {\n    throw new Error(\"Service does not support query type\");\n  }\n\n  async query(e) {\n    throw new Error(\"Service does not support query\");\n  }\n\n  *_tiles() {\n    const e = Array.from(this._subscriptions.values());\n\n    for (const s of e) yield s.tile;\n  }\n\n  async edit(e, s) {\n    const t = Array.from(this._subscriptions.values()),\n          r = t.map(({\n      tile: e\n    }) => e);\n\n    for (const i of t) i.removeIds(s);\n\n    if (e.length) {\n      const t = r.map(s => {\n        const t = this.createTileQuery(s);\n        return t.objectIds = e, {\n          tile: s,\n          query: t\n        };\n      }).map(async ({\n        tile: e,\n        query: s\n      }) => ({\n        tile: e,\n        result: await this.query(s),\n        query: s\n      })),\n            i = (await o(t)).map(async ({\n        tile: t,\n        result: r\n      }) => {\n        if (!r.hasFeatures && !s.length && !e.length) return;\n\n        const i = this._subscriptions.get(t.key.id);\n\n        i && i.edit(r, e);\n      });\n      await n(i);\n    }\n\n    this._didEdit = !0;\n  }\n\n}\n\nexport { m as DataTileSource };","map":{"version":3,"names":["e","s","has","isSome","t","createResolver","r","ignoreAbortErrors","i","eachAlwaysValues","o","eachAlways","n","diff","c","hasDiff","u","hasDiffAny","h","a","DataTileSubscription","d","UpdateToken","p","l","Set","forEach","add","Array","from","m","constructor","events","_resolver","_didEdit","_subscriptions","Map","_outSR","outSR","_serviceInfo","serviceInfo","_onTileUpdateMessage","onMessage","destroy","_onMessage","get","id","remove","status","empty","options","update","fields","length","outFields","_schema","sort","console","debug","orderByFields","objectIdField","returnCentroid","geometryType","returnGeometry","timeReferenceUnknownClient","type","outSpatialReference","where","definitionExpression","gdbVersion","historicMoment","timeExtent","fromJSON","why","mesh","push","source","queryFilter","_queryInfo","resolve","whenInitialized","promise","applyUpdate","refresh","version","resend","_tiles","unsubscribe","subscribe","set","abort","delete","createQuery","Date","queryLastEditDate","Error","query","values","tile","edit","map","removeIds","createTileQuery","objectIds","result","hasFeatures","key","DataTileSource"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/sources/DataTileSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../TimeExtent.js\";import s from\"../../../../../core/Evented.js\";import has from\"../../../../../core/has.js\";import{isSome as t}from\"../../../../../core/maybe.js\";import{createResolver as r,ignoreAbortErrors as i,eachAlwaysValues as o,eachAlways as n}from\"../../../../../core/promiseUtils.js\";import{diff as c,hasDiff as u,hasDiffAny as h}from\"../../../../../core/accessorSupport/diffUtils.js\";import a from\"../../../../../rest/support/Query.js\";import{DataTileSubscription as d}from\"./DataTileSubscription.js\";import{UpdateToken as p}from\"../support/UpdateToken.js\";function l(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has(\"*\")?[\"*\"]:Array.from(t)}class m{constructor(e){this.events=new s,this._resolver=r(),this._didEdit=!1,this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage}destroy(){}async _onMessage(e){const s=this._subscriptions.get(e.id);if(!s)return;const t={...e,remove:e.remove??[],status:e.status??p.empty()};return i(this._onTileUpdateMessage(t,s.options))}update(s,t){const r=t.fields.length;t.outFields=l(this._schema?.outFields,t.outFields),t.outFields=t.outFields.length>=.75*r?[\"*\"]:t.outFields,t.outFields.sort();const i=c(this._schema,t);if(!i)return;has(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Source:\",i);const o=\"orderByFields\"in this._serviceInfo&&this._serviceInfo.orderByFields?this._serviceInfo.orderByFields:this._serviceInfo.objectIdField+\" ASC\",n={returnCentroid:\"esriGeometryPolygon\"===this._serviceInfo.geometryType,returnGeometry:!0,timeReferenceUnknownClient:\"stream\"!==this._serviceInfo.type&&this._serviceInfo.timeReferenceUnknownClient,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[o],where:t.definitionExpression||\"1=1\",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment,timeExtent:e.fromJSON(t.timeExtent)},a=this._schema&&u(i,\"outFields\");this._schema&&h(i,[\"timeExtent\",\"definitionExpression\",\"gdbVersion\",\"historicMoment\",\"customParameters\"])&&(s.why.mesh.push(\"Layer filter and/or custom parameters changed\"),s.why.source.push(\"Layer filter and/or custom parameters changed\"),s.mesh=!0,s.source=!0,s.queryFilter=!0),a&&(s.why.source.push(\"Layer required fields changed\"),s.source=!0),c(n,this._queryInfo)&&(this._queryInfo=n),this._schema=t,this._resolver.resolve()}whenInitialized(){return this._resolver.promise}async applyUpdate(e){if(e.queryFilter||e.source&&this._didEdit)return this.refresh(e.version),void(this._didEdit=!1);this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend()}refresh(e,s){for(const t of this._tiles())this.unsubscribe(t),this.subscribe(t,e)}subscribe(e,s){const t=new d(e,s);this._subscriptions.set(e.id,t)}unsubscribe(e){const s=this.get(e.id);t(s)&&s.abort(),this._subscriptions.delete(e.id)}createQuery(e={}){const s=this._queryInfo.historicMoment?new Date(this._queryInfo.historicMoment):null;return new a({...this._queryInfo,historicMoment:s,...e})}get(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error(\"Service does not support query type\")}async query(e){throw new Error(\"Service does not support query\")}*_tiles(){const e=Array.from(this._subscriptions.values());for(const s of e)yield s.tile}async edit(e,s){const t=Array.from(this._subscriptions.values()),r=t.map((({tile:e})=>e));for(const i of t)i.removeIds(s);if(e.length){const t=r.map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s),query:s}))),i=(await o(t)).map((async({tile:t,result:r})=>{if(!r.hasFeatures&&!s.length&&!e.length)return;const i=this._subscriptions.get(t.key.id);i&&i.edit(r,e)}));await n(i)}this._didEdit=!0}}export{m as DataTileSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}