{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { toHSV as t } from \"../../core/colorUtils.js\";\nimport { JSONSupport as r } from \"../../core/JSONSupport.js\";\nimport s from \"../../core/Logger.js\";\nimport { unwrap as a, isSome as o, isNone as n } from \"../../core/maybe.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport u from \"../../layers/support/RasterInfo.js\";\nimport { extractBands as c, colorize as p, remapColor as d, lookupPixels as h, createColormapLUT as m, isValidPixelBlock as f } from \"../../layers/support/rasterFunctions/pixelUtils.js\";\nimport { stretch as y, getStretchCutoff as b, createStretchLUT as g, computeGammaValues as S, createHistogramEqualizationLUT as k } from \"../../layers/support/rasterFunctions/stretchUtils.js\";\nimport { hillshade as x, tintHillshade as I, calculateHillshadeParams as R } from \"../../layers/support/rasterFunctions/surfaceUtils.js\";\nimport { convertColorRampToColormap as C } from \"./colorRampUtils.js\";\n\nfunction L(e, t) {\n  const {\n    attributeTable: r,\n    bandCount: s\n  } = e;\n  if (n(r) || s > 1) return !1;\n\n  if (t) {\n    if (null == r.fields.find(e => e.name.toLowerCase() === t.toLowerCase())) return !1;\n  }\n\n  return !0;\n}\n\nfunction _(e) {\n  const {\n    bandCount: t,\n    dataType: r,\n    pixelType: s\n  } = e;\n  return \"elevation\" === r || \"generic\" === r && 1 === t && (\"s16\" === s || \"f32\" === s || \"f64\" === s);\n}\n\nfunction V(e) {\n  const {\n    bandCount: t,\n    colormap: r\n  } = e;\n  return o(r) && r.length > 0 && 1 === t;\n}\n\nlet v = class extends r {\n  constructor(e) {\n    super(e);\n  }\n\n  bind() {\n    const {\n      rendererJSON: e\n    } = this;\n    if (!e) return {\n      success: !1\n    };\n    let t;\n\n    switch (this.lookup = {\n      rendererJSON: {}\n    }, e.type) {\n      case \"uniqueValue\":\n        t = this._updateUVRenderer(e);\n        break;\n\n      case \"rasterColormap\":\n        t = this._updateColormapRenderer(e);\n        break;\n\n      case \"rasterStretch\":\n        t = this._updateStretchRenderer(e);\n        break;\n\n      case \"classBreaks\":\n        t = this._updateClassBreaksRenderer(e);\n        break;\n\n      case \"rasterShadedRelief\":\n        t = this._updateShadedReliefRenderer(e);\n        break;\n\n      case \"vectorField\":\n        t = this._updateVectorFieldRenderer();\n        break;\n\n      case \"flowRenderer\":\n        t = this._updateFlowRenderer();\n    }\n\n    return t;\n  }\n\n  symbolize(e) {\n    let t = e && e.pixelBlock;\n    if (!O(t)) return t;\n    if (e.simpleStretchParams && \"rasterStretch\" === this.rendererJSON.type) return this.simpleStretch(t, e.simpleStretchParams);\n\n    try {\n      let r;\n\n      switch (t.pixels.length > 3 && (t = c(t, [0, 1, 2])), this.rendererJSON.type) {\n        case \"uniqueValue\":\n        case \"rasterColormap\":\n          r = this._symbolizeColormap(t);\n          break;\n\n        case \"classBreaks\":\n          r = this._symbolizeClassBreaks(t);\n          break;\n\n        case \"rasterStretch\":\n          r = this._symbolizeStretch(t, e.bandIds);\n          break;\n\n        case \"rasterShadedRelief\":\n          {\n            const s = e.extent,\n                  a = s.spatialReference.isGeographic,\n                  o = {\n              x: (s.xmax - s.xmin) / t.width,\n              y: (s.ymax - s.ymin) / t.height\n            };\n            r = this._symbolizeShadedRelief(t, {\n              isGCS: a,\n              resolution: o\n            });\n            break;\n          }\n      }\n\n      return r;\n    } catch (r) {\n      return s.getLogger(this.declaredClass).error(\"symbolize\", r.message), t;\n    }\n  }\n\n  simpleStretch(e, t) {\n    if (!O(e)) return e;\n\n    try {\n      return e.pixels.length > 3 && (e = c(e, [0, 1, 2])), y(e, t);\n    } catch (r) {\n      return s.getLogger(this.declaredClass).error(\"symbolize\", r.message), e;\n    }\n  }\n\n  generateWebGLParameters(e) {\n    if ([\"uniqueValue\", \"rasterColormap\", \"classBreaks\"].includes(this.rendererJSON.type)) {\n      const {\n        indexedColormap: e,\n        offset: t\n      } = this.lookup.colormapLut || {};\n      return {\n        colormap: e,\n        colormapOffset: t,\n        type: \"lut\"\n      };\n    }\n\n    const {\n      pixelBlock: t,\n      isGCS: r,\n      resolution: s,\n      bandIds: a\n    } = e,\n          {\n      rendererJSON: o\n    } = this;\n    return \"rasterStretch\" === o.type ? this._generateStretchWebGLParams(t, o, a) : \"rasterShadedRelief\" === o.type ? this._generateShadedReliefWebGLParams(o, r, s) : \"vectorField\" === o.type ? this._generateVectorFieldWebGLParams(o) : null;\n  }\n\n  _isLUTChanged(e) {\n    if (!this.lookup || !this.lookup.rendererJSON) return !0;\n\n    if (\"colorRamp\" in this.rendererJSON) {\n      const t = this.rendererJSON.colorRamp;\n      return e ? JSON.stringify(t) !== JSON.stringify(this.lookup.rendererJSON.colorRamp) : (this.rendererJSON, this.lookup.rendererJSON, JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON));\n    }\n\n    return JSON.stringify(this.rendererJSON) !== JSON.stringify(this.lookup.rendererJSON);\n  }\n\n  _symbolizeColormap(e) {\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n\n    return p(e, this.lookup.colormapLut);\n  }\n\n  _symbolizeClassBreaks(e) {\n    const {\n      canUseIndexedLUT: t\n    } = this._analyzeClassBreaks(this.rendererJSON);\n\n    if (this._isLUTChanged()) {\n      if (!this.bind().success) return e;\n    }\n\n    return t ? p(e, this.lookup.colormapLut) : d(e, this.lookup.remapLut ?? []);\n  }\n\n  _symbolizeStretch(e, t) {\n    const {\n      rasterInfo: r\n    } = this,\n          {\n      pixelType: s,\n      bandCount: o\n    } = r,\n          n = this.rendererJSON,\n          i = [\"u8\", \"u16\", \"s8\", \"s16\"].includes(s);\n    let l, u;\n    const {\n      dra: c\n    } = n,\n          {\n      gamma: d\n    } = this.lookup;\n\n    if (\"histogramEqualization\" === n.stretchType) {\n      const s = c ? null : this.lookup?.histogramLut,\n            a = b(n, {\n        rasterInfo: r,\n        pixelBlock: e,\n        bandIds: t,\n        returnHistogramLut: !s\n      }),\n            o = y(e, { ...a,\n        gamma: d\n      });\n      u = h(o, {\n        lut: c ? a.histogramLut : s,\n        offset: 0\n      });\n    } else if (i) {\n      if (c) {\n        const a = b(n, {\n          rasterInfo: r,\n          pixelBlock: e,\n          bandIds: t\n        });\n        l = g({\n          pixelType: s,\n          ...a,\n          gamma: d\n        });\n      } else if (this._isLUTChanged()) {\n        if (!this.bind().success) return e;\n        l = this.lookup ? this.lookup.stretchLut : null;\n      } else l = this.lookup ? this.lookup.stretchLut : null;\n\n      if (!l) return e;\n      o > 1 && t?.length === a(e)?.pixels.length && l?.lut.length === o && (l = {\n        lut: t.map(e => l.lut[e]),\n        offset: l.offset\n      }), u = h(e, l);\n    } else {\n      const s = b(n, {\n        rasterInfo: r,\n        pixelBlock: e,\n        bandIds: t\n      });\n      u = y(e, { ...s,\n        gamma: d\n      });\n    }\n\n    if (n.colorRamp) {\n      if (this._isLUTChanged(!0)) {\n        if (!this.bind().success) return e;\n      }\n\n      u = p(u, this.lookup?.colormapLut);\n    }\n\n    return u;\n  }\n\n  _symbolizeShadedRelief(e, t) {\n    const r = this.rendererJSON,\n          s = { ...r,\n      ...t\n    },\n          o = x(e, s);\n    if (!r.colorRamp) return o;\n    let n;\n\n    if (this._isLUTChanged(!0)) {\n      if (!this.bind().success) return o;\n      n = this.lookup ? this.lookup.hsvMap : null;\n    } else n = this.lookup ? this.lookup.hsvMap : null;\n\n    if (!n) return o;\n    const i = a(this.rasterInfo.statistics)?.[0] ?? {\n      min: 0,\n      max: 8e3\n    };\n    return I(o, e, n, i), o;\n  }\n\n  _isVectorFieldData() {\n    const {\n      bandCount: e,\n      dataType: t\n    } = this.rasterInfo;\n    return 2 === e && (\"vector-magdir\" === t || \"vector-uv\" === t);\n  }\n\n  _updateVectorFieldRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n\n  _updateFlowRenderer() {\n    return this._isVectorFieldData() ? {\n      success: !0\n    } : {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`\n    };\n  }\n\n  _updateUVRenderer(e) {\n    const {\n      bandCount: t,\n      attributeTable: r,\n      pixelType: s\n    } = this.rasterInfo,\n          a = e.field1;\n    if (!a) return {\n      success: !1,\n      error: \"Unsupported renderer; missing UniqueValueRenderer.field.\"\n    };\n    const n = e.defaultSymbol,\n          i = 1 === t && [\"u8\", \"s8\"].includes(s);\n    if (!L(this.rasterInfo, a) && !i) return {\n      success: !1,\n      error: \"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"\n    };\n    const l = [];\n\n    if (o(r)) {\n      const t = r.fields.find(e => \"value\" === e.name.toLowerCase());\n      if (!t) return {\n        success: !1,\n        error: \"Unsupported data; the data's raster attribute table does not have a value field.\"\n      };\n      r.features.forEach(r => {\n        const s = e.uniqueValueInfos?.find(e => String(e.value) === String(r.attributes[a])),\n              o = s?.symbol?.color;\n        o ? l.push([r.attributes[t.name]].concat(o)) : n && l.push([r.attributes[t.name]].concat(n.color));\n      });\n    } else {\n      if (\"value\" !== a.toLowerCase()) return {\n        success: !1,\n        error: 'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'\n      };\n      e.uniqueValueInfos?.forEach(e => {\n        const t = e?.symbol?.color;\n        t ? l.push([parseInt(\"\" + e.value, 10)].concat(t)) : n && l.push([parseInt(\"\" + e.value, 10)].concat(n?.color));\n      });\n    }\n\n    if (0 === l.length) return {\n      success: !1,\n      error: \"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"\n    };\n    const u = m({\n      colormap: l\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: u\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _updateColormapRenderer(e) {\n    if (!V(this.rasterInfo)) return {\n      success: !1,\n      error: \"Unsupported data; the data source does not have a colormap.\"\n    };\n    const t = e.colormapInfos.map(e => [e.value].concat(e.color)).sort((e, t) => e[0] - t[0]);\n    if (!t || 0 === t.length) return {\n      success: !1,\n      error: \"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"\n    };\n    const r = m({\n      colormap: t\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: r\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _updateShadedReliefRenderer(e) {\n    if (!_(this.rasterInfo)) return {\n      success: !1,\n      error: `Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`\n    };\n\n    if (e.colorRamp) {\n      const r = C(e.colorRamp, 256, !0),\n            s = m({\n        colormap: r\n      }),\n            a = [],\n            o = s.indexedColormap;\n\n      for (let e = 0; e < o.length; e += 4) {\n        const r = t({\n          r: o[e],\n          g: o[e + 1],\n          b: o[e + 2]\n        });\n        a.push([r.h / 60, r.s / 100, 255 * r.v / 100]);\n      }\n\n      this.lookup = {\n        rendererJSON: e,\n        colormapLut: s,\n        hsvMap: a\n      };\n    } else this.lookup = null;\n\n    return this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _analyzeClassBreaks(e) {\n    const {\n      attributeTable: t,\n      pixelType: r\n    } = this.rasterInfo,\n          s = o(t) ? t.fields.find(e => \"value\" === e.name.toLowerCase()) : null,\n          a = o(t) ? t.fields.find(t => t.name.toLowerCase() === e.field.toLowerCase()) : null,\n          n = null != s && null !== a;\n    return {\n      canUseIndexedLUT: [\"u8\", \"u16\", \"s8\", \"s16\"].includes(r) || n,\n      tableValueField: s,\n      tableBreakField: a\n    };\n  }\n\n  _updateClassBreaksRenderer(e) {\n    const {\n      attributeTable: t\n    } = this.rasterInfo,\n          {\n      canUseIndexedLUT: r,\n      tableValueField: s,\n      tableBreakField: a\n    } = this._analyzeClassBreaks(e),\n          n = e.classBreakInfos;\n\n    if (!n?.length) return {\n      success: !1,\n      error: \"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"\n    };\n    const i = n.sort((e, t) => e.classMaxValue - t.classMaxValue),\n          l = i[i.length - 1];\n    let u = e.minValue;\n\n    if (!r) {\n      const t = [];\n\n      for (let e = 0; e < i.length; e++) t.push({\n        value: i[e].classMinValue ?? u,\n        mappedColor: i[e].symbol.color\n      }), u = i[e].classMaxValue;\n\n      return t.push({\n        value: l.classMaxValue,\n        mappedColor: l.symbol.color\n      }), this.lookup = {\n        rendererJSON: e,\n        remapLut: t\n      }, this.canRenderInWebGL = !1, {\n        success: !0\n      };\n    }\n\n    const c = [];\n\n    if (o(t) && null != s && null !== a && s !== a) {\n      const r = s.name,\n            o = a.name,\n            n = i[i.length - 1],\n            {\n        classMaxValue: l\n      } = n;\n      u = e.minValue;\n\n      for (const e of t.features) {\n        const t = e.attributes[r],\n              s = e.attributes[o],\n              a = s === l ? n : s < u ? null : i.find(({\n          classMaxValue: e\n        }) => e > s);\n        a && c.push([t].concat(a.symbol.color));\n      }\n    } else {\n      u = Math.floor(e.minValue);\n\n      for (let e = 0; e < i.length; e++) {\n        const t = i[e];\n\n        for (let e = u; e < t.classMaxValue; e++) c.push([e].concat(t.symbol.color));\n\n        u = Math.ceil(t.classMaxValue);\n      }\n\n      l.classMaxValue === u && c.push([l.classMaxValue].concat(l.symbol.color));\n    }\n\n    const p = m({\n      colormap: c,\n      fillUnspecified: !1\n    });\n    return this.lookup = {\n      rendererJSON: e,\n      colormapLut: p\n    }, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _isHistogramRequired(e) {\n    return \"percentClip\" === e || \"histogramEqualization\" === e;\n  }\n\n  _isValidRasterStatistics(e) {\n    return o(e) && e.length > 0 && null != e[0].min && null != e[0].max;\n  }\n\n  _updateStretchRenderer(e) {\n    let {\n      stretchType: t,\n      dra: r\n    } = e;\n    if (!(\"none\" === t || e.statistics?.length || this._isValidRasterStatistics(this.rasterInfo.statistics) || r)) return {\n      success: !1,\n      error: \"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"\n    };\n    const s = a(e.histograms || this.rasterInfo.histograms);\n    !this._isHistogramRequired(e.stretchType) || s?.length || r || (t = \"minMax\");\n    const {\n      computeGamma: o,\n      useGamma: n,\n      colorRamp: i\n    } = e;\n    let {\n      gamma: l\n    } = e;\n\n    if (n && o && !l?.length) {\n      const t = e.statistics?.length ? e.statistics : a(this.rasterInfo.statistics);\n      l = S(this.rasterInfo.pixelType, t);\n    }\n\n    const u = this.rasterInfo.pixelType,\n          c = !r && [\"u8\", \"u16\", \"s8\", \"s16\"].includes(u);\n\n    if (\"histogramEqualization\" === t) {\n      const t = s.map(e => k(e));\n      this.lookup = {\n        rendererJSON: e,\n        histogramLut: t\n      };\n    } else if (c) {\n      const t = b(e, {\n        rasterInfo: this.rasterInfo\n      }),\n            r = g({\n        pixelType: u,\n        ...t,\n        gamma: n ? l : null\n      });\n      this.lookup = {\n        rendererJSON: e,\n        stretchLut: r\n      };\n    }\n\n    if (i) {\n      const t = C(i, 256, !0);\n      this.lookup || (this.lookup = {\n        rendererJSON: e\n      }), this.lookup.colormapLut = m({\n        colormap: t\n      }), this.lookup.rendererJSON = e;\n    }\n\n    return this.lookup.gamma = n && l?.length ? l : null, this.canRenderInWebGL = !0, {\n      success: !0\n    };\n  }\n\n  _generateStretchWebGLParams(e, t, r) {\n    let s = null,\n        a = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    t.colorRamp && n && (s = n.indexedColormap, a = n.offset), \"histogramEqualization\" === t.stretchType && (t = { ...t,\n      stretchType: \"minMax\"\n    });\n    const {\n      gamma: i\n    } = this.lookup,\n          l = !!(t.useGamma && i && i.some(e => 1 !== e)),\n          {\n      minCutOff: u,\n      maxCutOff: c,\n      outMin: p,\n      outMax: d\n    } = b(t, {\n      rasterInfo: this.rasterInfo,\n      pixelBlock: e,\n      bandIds: r\n    });\n    let h = 0;\n    o(e) && (h = e.getPlaneCount(), 2 === h && ((e = e.clone()).statistics = [e.statistics[0]], e.pixels = [e.pixels[0]]));\n    const m = Math.min(3, r?.length || h || this.rasterInfo.bandCount),\n          f = new Float32Array(m),\n          y = s || l ? 1 : 255;\n    let g;\n\n    for (g = 0; g < m; g++) f[g] = (d - p) / (c[g] - u[g]) / y;\n\n    const S = new Float32Array(m);\n    if (l) for (g = 0; g < m; g++) i[g] > 1 ? i[g] > 2 ? S[g] = 6.5 + (i[g] - 2) ** 2.5 : S[g] = 6.5 + 100 * (2 - i[g]) ** 4 : S[g] = 1;\n    return {\n      bandCount: m,\n      outMin: p / y,\n      outMax: d / y,\n      minCutOff: u,\n      maxCutOff: c,\n      factor: f,\n      useGamma: l,\n      gamma: l ? i : [1, 1, 1],\n      gammaCorrection: l ? S : [1, 1, 1],\n      colormap: s,\n      colormapOffset: a,\n      stretchType: t.stretchType,\n      type: \"stretch\"\n    };\n  }\n\n  _generateShadedReliefWebGLParams(e, t = !1, r = {\n    x: 0,\n    y: 0\n  }) {\n    let s = null,\n        o = null;\n    const n = this.lookup && this.lookup.colormapLut;\n    e.colorRamp && n && (s = n.indexedColormap, o = n.offset);\n    const i = { ...e,\n      isGCS: t,\n      resolution: r\n    },\n          l = R(i),\n          u = a(this.rasterInfo.statistics)?.[0];\n    return { ...l,\n      minValue: u?.min ?? 0,\n      maxValue: u?.max ?? 8e3,\n      hillshadeType: \"traditional\" === e.hillshadeType ? 0 : 1,\n      type: \"hillshade\",\n      colormap: s,\n      colormapOffset: o\n    };\n  }\n\n  _generateVectorFieldWebGLParams(e) {\n    const {\n      style: t,\n      inputUnit: r,\n      outputUnit: s,\n      visualVariables: a,\n      symbolTileSize: n,\n      flowRepresentation: i\n    } = e;\n    let l;\n    const u = this.rasterInfo.statistics?.[0].min ?? 0,\n          c = this.rasterInfo.statistics?.[0].max ?? 50,\n          p = a?.find(e => \"sizeInfo\" === e.type) ?? {\n      type: \"sizeInfo\",\n      field: \"Magnitude\",\n      maxDataValue: c,\n      maxSize: .8 * n,\n      minDataValue: u,\n      minSize: .2 * n\n    },\n          d = p.minDataValue ?? u,\n          h = p.maxDataValue ?? c,\n          m = o(p.maxSize) && o(p.minSize) ? [p.minSize / n, p.maxSize / n] : [.2, .8];\n\n    if (\"wind_speed\" === t) {\n      const e = (m[0] + m[1]) / 2;\n      m[0] = m[1] = e;\n    }\n\n    const f = o(d) && o(h) ? [d, h] : null;\n    if (\"classified_arrow\" === t) if (o(d) && o(h) && o(p)) {\n      l = [];\n      const e = (p.maxDataValue - p.minDataValue) / 5;\n\n      for (let t = 0; t < 6; t++) l.push(p.minDataValue + e * t);\n    } else l = [0, 1e-6, 3.5, 7, 10.5, 14];\n    const y = \"flow_to\" === i === (\"ocean_current_kn\" === t || \"ocean_current_m\" === t) ? 0 : Math.PI,\n          b = a?.find(e => \"rotationInfo\" === e.type);\n    return {\n      breakValues: l,\n      dataRange: f,\n      inputUnit: r,\n      outputUnit: s,\n      symbolTileSize: n,\n      symbolPercentRange: m,\n      style: t || \"single_arrow\",\n      rotation: y,\n      rotationType: this.rasterInfo.storageInfo?.tileInfo && \"vector-uv\" === this.rasterInfo.dataType ? \"geographic\" : b?.rotationType || e.rotationType,\n      type: \"vectorField\"\n    };\n  }\n\n};\n\nfunction O(e) {\n  return f(e) && 0 !== e.validPixelCount;\n}\n\ne([i({\n  json: {\n    write: !0\n  }\n})], v.prototype, \"rendererJSON\", void 0), e([i({\n  type: u,\n  json: {\n    write: !0\n  }\n})], v.prototype, \"rasterInfo\", void 0), e([i({\n  json: {\n    write: !0\n  }\n})], v.prototype, \"lookup\", void 0), e([i()], v.prototype, \"canRenderInWebGL\", void 0), v = e([l(\"esri.renderers.support.RasterSymbolizer\")], v);\nconst T = v;\nexport { T as default };","map":{"version":3,"names":["_","e","toHSV","t","JSONSupport","r","s","unwrap","a","isSome","o","isNone","n","property","i","subclass","l","u","extractBands","c","colorize","p","remapColor","d","lookupPixels","h","createColormapLUT","m","isValidPixelBlock","f","stretch","y","getStretchCutoff","b","createStretchLUT","g","computeGammaValues","S","createHistogramEqualizationLUT","k","hillshade","x","tintHillshade","I","calculateHillshadeParams","R","convertColorRampToColormap","C","L","attributeTable","bandCount","fields","find","name","toLowerCase","dataType","pixelType","V","colormap","length","v","constructor","bind","rendererJSON","success","lookup","type","_updateUVRenderer","_updateColormapRenderer","_updateStretchRenderer","_updateClassBreaksRenderer","_updateShadedReliefRenderer","_updateVectorFieldRenderer","_updateFlowRenderer","symbolize","pixelBlock","O","simpleStretchParams","simpleStretch","pixels","_symbolizeColormap","_symbolizeClassBreaks","_symbolizeStretch","bandIds","extent","spatialReference","isGeographic","xmax","xmin","width","ymax","ymin","height","_symbolizeShadedRelief","isGCS","resolution","getLogger","declaredClass","error","message","generateWebGLParameters","includes","indexedColormap","offset","colormapLut","colormapOffset","_generateStretchWebGLParams","_generateShadedReliefWebGLParams","_generateVectorFieldWebGLParams","_isLUTChanged","colorRamp","JSON","stringify","canUseIndexedLUT","_analyzeClassBreaks","remapLut","rasterInfo","dra","gamma","stretchType","histogramLut","returnHistogramLut","lut","stretchLut","map","hsvMap","statistics","min","max","_isVectorFieldData","field1","defaultSymbol","features","forEach","uniqueValueInfos","String","value","attributes","symbol","color","push","concat","parseInt","canRenderInWebGL","colormapInfos","sort","field","tableValueField","tableBreakField","classBreakInfos","classMaxValue","minValue","classMinValue","mappedColor","Math","floor","ceil","fillUnspecified","_isHistogramRequired","_isValidRasterStatistics","histograms","computeGamma","useGamma","some","minCutOff","maxCutOff","outMin","outMax","getPlaneCount","clone","Float32Array","factor","gammaCorrection","maxValue","hillshadeType","style","inputUnit","outputUnit","visualVariables","symbolTileSize","flowRepresentation","maxDataValue","maxSize","minDataValue","minSize","PI","breakValues","dataRange","symbolPercentRange","rotation","rotationType","storageInfo","tileInfo","validPixelCount","json","write","prototype","T","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/support/RasterSymbolizer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{toHSV as t}from\"../../core/colorUtils.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import s from\"../../core/Logger.js\";import{unwrap as a,isSome as o,isNone as n}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/RasterInfo.js\";import{extractBands as c,colorize as p,remapColor as d,lookupPixels as h,createColormapLUT as m,isValidPixelBlock as f}from\"../../layers/support/rasterFunctions/pixelUtils.js\";import{stretch as y,getStretchCutoff as b,createStretchLUT as g,computeGammaValues as S,createHistogramEqualizationLUT as k}from\"../../layers/support/rasterFunctions/stretchUtils.js\";import{hillshade as x,tintHillshade as I,calculateHillshadeParams as R}from\"../../layers/support/rasterFunctions/surfaceUtils.js\";import{convertColorRampToColormap as C}from\"./colorRampUtils.js\";function L(e,t){const{attributeTable:r,bandCount:s}=e;if(n(r)||s>1)return!1;if(t){if(null==r.fields.find((e=>e.name.toLowerCase()===t.toLowerCase())))return!1}return!0}function _(e){const{bandCount:t,dataType:r,pixelType:s}=e;return\"elevation\"===r||\"generic\"===r&&1===t&&(\"s16\"===s||\"f32\"===s||\"f64\"===s)}function V(e){const{bandCount:t,colormap:r}=e;return o(r)&&r.length>0&&1===t}let v=class extends r{constructor(e){super(e)}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case\"uniqueValue\":t=this._updateUVRenderer(e);break;case\"rasterColormap\":t=this._updateColormapRenderer(e);break;case\"rasterStretch\":t=this._updateStretchRenderer(e);break;case\"classBreaks\":t=this._updateClassBreaksRenderer(e);break;case\"rasterShadedRelief\":t=this._updateShadedReliefRenderer(e);break;case\"vectorField\":t=this._updateVectorFieldRenderer();break;case\"flowRenderer\":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e&&e.pixelBlock;if(!O(t))return t;if(e.simpleStretchParams&&\"rasterStretch\"===this.rendererJSON.type)return this.simpleStretch(t,e.simpleStretchParams);try{let r;switch(t.pixels.length>3&&(t=c(t,[0,1,2])),this.rendererJSON.type){case\"uniqueValue\":case\"rasterColormap\":r=this._symbolizeColormap(t);break;case\"classBreaks\":r=this._symbolizeClassBreaks(t);break;case\"rasterStretch\":r=this._symbolizeStretch(t,e.bandIds);break;case\"rasterShadedRelief\":{const s=e.extent,a=s.spatialReference.isGeographic,o={x:(s.xmax-s.xmin)/t.width,y:(s.ymax-s.ymin)/t.height};r=this._symbolizeShadedRelief(t,{isGCS:a,resolution:o});break}}return r}catch(r){return s.getLogger(this.declaredClass).error(\"symbolize\",r.message),t}}simpleStretch(e,t){if(!O(e))return e;try{return e.pixels.length>3&&(e=c(e,[0,1,2])),y(e,t)}catch(r){return s.getLogger(this.declaredClass).error(\"symbolize\",r.message),e}}generateWebGLParameters(e){if([\"uniqueValue\",\"rasterColormap\",\"classBreaks\"].includes(this.rendererJSON.type)){const{indexedColormap:e,offset:t}=this.lookup.colormapLut||{};return{colormap:e,colormapOffset:t,type:\"lut\"}}const{pixelBlock:t,isGCS:r,resolution:s,bandIds:a}=e,{rendererJSON:o}=this;return\"rasterStretch\"===o.type?this._generateStretchWebGLParams(t,o,a):\"rasterShadedRelief\"===o.type?this._generateShadedReliefWebGLParams(o,r,s):\"vectorField\"===o.type?this._generateVectorFieldWebGLParams(o):null}_isLUTChanged(e){if(!this.lookup||!this.lookup.rendererJSON)return!0;if(\"colorRamp\"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return e?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(e){if(this._isLUTChanged()){if(!this.bind().success)return e}return p(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);if(this._isLUTChanged()){if(!this.bind().success)return e}return t?p(e,this.lookup.colormapLut):d(e,this.lookup.remapLut??[])}_symbolizeStretch(e,t){const{rasterInfo:r}=this,{pixelType:s,bandCount:o}=r,n=this.rendererJSON,i=[\"u8\",\"u16\",\"s8\",\"s16\"].includes(s);let l,u;const{dra:c}=n,{gamma:d}=this.lookup;if(\"histogramEqualization\"===n.stretchType){const s=c?null:this.lookup?.histogramLut,a=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t,returnHistogramLut:!s}),o=y(e,{...a,gamma:d});u=h(o,{lut:c?a.histogramLut:s,offset:0})}else if(i){if(c){const a=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t});l=g({pixelType:s,...a,gamma:d})}else if(this._isLUTChanged()){if(!this.bind().success)return e;l=this.lookup?this.lookup.stretchLut:null}else l=this.lookup?this.lookup.stretchLut:null;if(!l)return e;o>1&&t?.length===a(e)?.pixels.length&&l?.lut.length===o&&(l={lut:t.map((e=>l.lut[e])),offset:l.offset}),u=h(e,l)}else{const s=b(n,{rasterInfo:r,pixelBlock:e,bandIds:t});u=y(e,{...s,gamma:d})}if(n.colorRamp){if(this._isLUTChanged(!0)){if(!this.bind().success)return e}u=p(u,this.lookup?.colormapLut)}return u}_symbolizeShadedRelief(e,t){const r=this.rendererJSON,s={...r,...t},o=x(e,s);if(!r.colorRamp)return o;let n;if(this._isLUTChanged(!0)){if(!this.bind().success)return o;n=this.lookup?this.lookup.hsvMap:null}else n=this.lookup?this.lookup.hsvMap:null;if(!n)return o;const i=a(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return I(o,e,n,i),o}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return 2===e&&(\"vector-magdir\"===t||\"vector-uv\"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; VectorFieldRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; FlowRenderer only supports \"vector-magdir\" and \"vector-uv\".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:r,pixelType:s}=this.rasterInfo,a=e.field1;if(!a)return{success:!1,error:\"Unsupported renderer; missing UniqueValueRenderer.field.\"};const n=e.defaultSymbol,i=1===t&&[\"u8\",\"s8\"].includes(s);if(!L(this.rasterInfo,a)&&!i)return{success:!1,error:\"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table.\"};const l=[];if(o(r)){const t=r.fields.find((e=>\"value\"===e.name.toLowerCase()));if(!t)return{success:!1,error:\"Unsupported data; the data's raster attribute table does not have a value field.\"};r.features.forEach((r=>{const s=e.uniqueValueInfos?.find((e=>String(e.value)===String(r.attributes[a]))),o=s?.symbol?.color;o?l.push([r.attributes[t.name]].concat(o)):n&&l.push([r.attributes[t.name]].concat(n.color))}))}else{if(\"value\"!==a.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be \"Value\" when raster attribute table is not availalbe.'};e.uniqueValueInfos?.forEach((e=>{const t=e?.symbol?.color;t?l.push([parseInt(\"\"+e.value,10)].concat(t)):n&&l.push([parseInt(\"\"+e.value,10)].concat(n?.color))}))}if(0===l.length)return{success:!1,error:\"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table.\"};const u=m({colormap:l});return this.lookup={rendererJSON:e,colormapLut:u},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(e){if(!V(this.rasterInfo))return{success:!1,error:\"Unsupported data; the data source does not have a colormap.\"};const t=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,t)=>e[0]-t[0]));if(!t||0===t.length)return{success:!1,error:\"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos.\"};const r=m({colormap:t});return this.lookup={rendererJSON:e,colormapLut:r},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(e){if(!_(this.rasterInfo))return{success:!1,error:`Unsupported data type \"${this.rasterInfo.dataType}\"; ShadedReliefRenderer only supports \"elevation\", or single band float/s16 data.`};if(e.colorRamp){const r=C(e.colorRamp,256,!0),s=m({colormap:r}),a=[],o=s.indexedColormap;for(let e=0;e<o.length;e+=4){const r=t({r:o[e],g:o[e+1],b:o[e+2]});a.push([r.h/60,r.s/100,255*r.v/100])}this.lookup={rendererJSON:e,colormapLut:s,hsvMap:a}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:r}=this.rasterInfo,s=o(t)?t.fields.find((e=>\"value\"===e.name.toLowerCase())):null,a=o(t)?t.fields.find((t=>t.name.toLowerCase()===e.field.toLowerCase())):null,n=null!=s&&null!==a;return{canUseIndexedLUT:[\"u8\",\"u16\",\"s8\",\"s16\"].includes(r)||n,tableValueField:s,tableBreakField:a}}_updateClassBreaksRenderer(e){const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:r,tableValueField:s,tableBreakField:a}=this._analyzeClassBreaks(e),n=e.classBreakInfos;if(!n?.length)return{success:!1,error:\"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos.\"};const i=n.sort(((e,t)=>e.classMaxValue-t.classMaxValue)),l=i[i.length-1];let u=e.minValue;if(!r){const t=[];for(let e=0;e<i.length;e++)t.push({value:i[e].classMinValue??u,mappedColor:i[e].symbol.color}),u=i[e].classMaxValue;return t.push({value:l.classMaxValue,mappedColor:l.symbol.color}),this.lookup={rendererJSON:e,remapLut:t},this.canRenderInWebGL=!1,{success:!0}}const c=[];if(o(t)&&null!=s&&null!==a&&s!==a){const r=s.name,o=a.name,n=i[i.length-1],{classMaxValue:l}=n;u=e.minValue;for(const e of t.features){const t=e.attributes[r],s=e.attributes[o],a=s===l?n:s<u?null:i.find((({classMaxValue:e})=>e>s));a&&c.push([t].concat(a.symbol.color))}}else{u=Math.floor(e.minValue);for(let e=0;e<i.length;e++){const t=i[e];for(let e=u;e<t.classMaxValue;e++)c.push([e].concat(t.symbol.color));u=Math.ceil(t.classMaxValue)}l.classMaxValue===u&&c.push([l.classMaxValue].concat(l.symbol.color))}const p=m({colormap:c,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:p},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(e){return\"percentClip\"===e||\"histogramEqualization\"===e}_isValidRasterStatistics(e){return o(e)&&e.length>0&&null!=e[0].min&&null!=e[0].max}_updateStretchRenderer(e){let{stretchType:t,dra:r}=e;if(!(\"none\"===t||e.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||r))return{success:!1,error:\"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used.\"};const s=a(e.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(e.stretchType)||s?.length||r||(t=\"minMax\");const{computeGamma:o,useGamma:n,colorRamp:i}=e;let{gamma:l}=e;if(n&&o&&!l?.length){const t=e.statistics?.length?e.statistics:a(this.rasterInfo.statistics);l=S(this.rasterInfo.pixelType,t)}const u=this.rasterInfo.pixelType,c=!r&&[\"u8\",\"u16\",\"s8\",\"s16\"].includes(u);if(\"histogramEqualization\"===t){const t=s.map((e=>k(e)));this.lookup={rendererJSON:e,histogramLut:t}}else if(c){const t=b(e,{rasterInfo:this.rasterInfo}),r=g({pixelType:u,...t,gamma:n?l:null});this.lookup={rendererJSON:e,stretchLut:r}}if(i){const t=C(i,256,!0);this.lookup||(this.lookup={rendererJSON:e}),this.lookup.colormapLut=m({colormap:t}),this.lookup.rendererJSON=e}return this.lookup.gamma=n&&l?.length?l:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(e,t,r){let s=null,a=null;const n=this.lookup&&this.lookup.colormapLut;t.colorRamp&&n&&(s=n.indexedColormap,a=n.offset),\"histogramEqualization\"===t.stretchType&&(t={...t,stretchType:\"minMax\"});const{gamma:i}=this.lookup,l=!!(t.useGamma&&i&&i.some((e=>1!==e))),{minCutOff:u,maxCutOff:c,outMin:p,outMax:d}=b(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:r});let h=0;o(e)&&(h=e.getPlaneCount(),2===h&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const m=Math.min(3,r?.length||h||this.rasterInfo.bandCount),f=new Float32Array(m),y=s||l?1:255;let g;for(g=0;g<m;g++)f[g]=(d-p)/(c[g]-u[g])/y;const S=new Float32Array(m);if(l)for(g=0;g<m;g++)i[g]>1?i[g]>2?S[g]=6.5+(i[g]-2)**2.5:S[g]=6.5+100*(2-i[g])**4:S[g]=1;return{bandCount:m,outMin:p/y,outMax:d/y,minCutOff:u,maxCutOff:c,factor:f,useGamma:l,gamma:l?i:[1,1,1],gammaCorrection:l?S:[1,1,1],colormap:s,colormapOffset:a,stretchType:t.stretchType,type:\"stretch\"}}_generateShadedReliefWebGLParams(e,t=!1,r={x:0,y:0}){let s=null,o=null;const n=this.lookup&&this.lookup.colormapLut;e.colorRamp&&n&&(s=n.indexedColormap,o=n.offset);const i={...e,isGCS:t,resolution:r},l=R(i),u=a(this.rasterInfo.statistics)?.[0];return{...l,minValue:u?.min??0,maxValue:u?.max??8e3,hillshadeType:\"traditional\"===e.hillshadeType?0:1,type:\"hillshade\",colormap:s,colormapOffset:o}}_generateVectorFieldWebGLParams(e){const{style:t,inputUnit:r,outputUnit:s,visualVariables:a,symbolTileSize:n,flowRepresentation:i}=e;let l;const u=this.rasterInfo.statistics?.[0].min??0,c=this.rasterInfo.statistics?.[0].max??50,p=a?.find((e=>\"sizeInfo\"===e.type))??{type:\"sizeInfo\",field:\"Magnitude\",maxDataValue:c,maxSize:.8*n,minDataValue:u,minSize:.2*n},d=p.minDataValue??u,h=p.maxDataValue??c,m=o(p.maxSize)&&o(p.minSize)?[p.minSize/n,p.maxSize/n]:[.2,.8];if(\"wind_speed\"===t){const e=(m[0]+m[1])/2;m[0]=m[1]=e}const f=o(d)&&o(h)?[d,h]:null;if(\"classified_arrow\"===t)if(o(d)&&o(h)&&o(p)){l=[];const e=(p.maxDataValue-p.minDataValue)/5;for(let t=0;t<6;t++)l.push(p.minDataValue+e*t)}else l=[0,1e-6,3.5,7,10.5,14];const y=\"flow_to\"===i===(\"ocean_current_kn\"===t||\"ocean_current_m\"===t)?0:Math.PI,b=a?.find((e=>\"rotationInfo\"===e.type));return{breakValues:l,dataRange:f,inputUnit:r,outputUnit:s,symbolTileSize:n,symbolPercentRange:m,style:t||\"single_arrow\",rotation:y,rotationType:this.rasterInfo.storageInfo?.tileInfo&&\"vector-uv\"===this.rasterInfo.dataType?\"geographic\":b?.rotationType||e.rotationType,type:\"vectorField\"}}};function O(e){return f(e)&&0!==e.validPixelCount}e([i({json:{write:!0}})],v.prototype,\"rendererJSON\",void 0),e([i({type:u,json:{write:!0}})],v.prototype,\"rasterInfo\",void 0),e([i({json:{write:!0}})],v.prototype,\"lookup\",void 0),e([i()],v.prototype,\"canRenderInWebGL\",void 0),v=e([l(\"esri.renderers.support.RasterSymbolizer\")],v);const T=v;export{T as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}