{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { getMetersPerUnitForSR as e } from \"../../../core/unitUtils.js\";\nimport { s as r } from \"../../../chunks/mat4.js\";\nimport { c as o } from \"../../../chunks/vec3.js\";\nimport { projectPointToVector as s, projectVectorToVector as i, projectVectorToDehydratedPoint as n, projectVectorToPoint as a } from \"../../../geometry/projection.js\";\nimport c from \"../../../geometry/SpatialReference.js\";\nimport { Axis as m } from \"../../../geometry/support/Axis.js\";\nimport { create as l, setExtent as d, altitudeAt as p, setAltitudeAt as u, setAltitudeOfTransformation as h, normalAt as f, axisAt as y, elevate as S, intersectRayClosestSilhouette as g, intersectRay as j, createGlobal as R, createLocal as w, renderSRFromViewSR as A } from \"../../../geometry/support/coordinateSystem.js\";\nimport { intersectRay as M } from \"../../../geometry/support/plane.js\";\nimport { sv3d as _ } from \"../../../geometry/support/vectorStacks.js\";\nimport { isDehydratedPoint as b } from \"../../../layers/graphics/dehydratedFeatureUtils.js\";\nimport { ViewingMode as P } from \"../../ViewingMode.js\";\nimport { isSpatialReferenceSupported as v } from \"../../support/spatialReferenceSupport.js\";\n\nclass x {\n  constructor(t, e, r, o) {\n    this.viewingMode = t, this.spatialReference = e, this.unitInMeters = r, this.coordinateSystem = o, this._coordinateSystem = l(o);\n  }\n\n  set extent(t) {\n    t && d(this.coordinateSystem, t, this.coordinateSystem);\n  }\n\n  getAltitude(t) {\n    return p(this.coordinateSystem, t);\n  }\n\n  setAltitude(t, e, r = t) {\n    return u(this.coordinateSystem, r, e, t);\n  }\n\n  setAltitudeOfTransformation(t, e) {\n    h(this.coordinateSystem, e, t, e);\n  }\n\n  worldUpAtPosition(t, e) {\n    return f(this.coordinateSystem, t, e);\n  }\n\n  worldBasisAtPosition(t, e, r) {\n    return y(this.coordinateSystem, t, e, r);\n  }\n\n  basisMatrixAtPosition(t, e) {\n    const o = this.worldBasisAtPosition(t, m.X, _.get()),\n          s = this.worldBasisAtPosition(t, m.Y, _.get()),\n          i = this.worldBasisAtPosition(t, m.Z, _.get());\n    return r(e, o[0], o[1], o[2], 0, s[0], s[1], s[2], 0, i[0], i[1], i[2], 0, 0, 0, 0, 1), e;\n  }\n\n  intersectManifoldClosestSilhouette(t, e, r) {\n    return S(this.coordinateSystem, e, this._coordinateSystem), g(this._coordinateSystem, t, r), r;\n  }\n\n  intersectManifold(t, e, r) {\n    S(this.coordinateSystem, e, this._coordinateSystem);\n\n    const s = _.get();\n\n    return j(this._coordinateSystem, t, s) ? o(r, s) : null;\n  }\n\n  intersectInfiniteManifold(t, e, r) {\n    if (this.viewingMode === P.Global) return this.intersectManifold(t, e, r);\n    S(this.coordinateSystem, e, this._coordinateSystem);\n\n    const s = this._coordinateSystem.value,\n          i = _.get();\n\n    return M(s.plane, t, i) ? o(r, i) : null;\n  }\n\n  toRenderCoords(t, e, r) {\n    return b(t) ? s(t, e, this.spatialReference) : i(t, e, r, this.spatialReference);\n  }\n\n  fromRenderCoords(e, r, o = null) {\n    return b(r) ? (t(o) && (r.spatialReference = o), n(e, this.spatialReference, r)) : r instanceof c ? a(e, this.spatialReference, r) : i(e, this.spatialReference, r, o) ? r : null;\n  }\n\n  static create(t, r) {\n    switch (t) {\n      case P.Local:\n        return new x(P.Local, r, e(r), w());\n\n      case P.Global:\n        return new x(P.Global, r, 1, R(r));\n    }\n  }\n\n  static renderUnitScaleFactor(t, e) {\n    return B(t) / B(e);\n  }\n\n}\n\nfunction B(t) {\n  if (v(t, P.Global)) return 1;\n  const r = A(!1, t);\n  return e(r);\n}\n\nexport { x as RenderCoordsHelper };","map":{"version":3,"names":["isSome","t","getMetersPerUnitForSR","e","s","r","c","o","projectPointToVector","projectVectorToVector","i","projectVectorToDehydratedPoint","n","projectVectorToPoint","a","Axis","m","create","l","setExtent","d","altitudeAt","p","setAltitudeAt","u","setAltitudeOfTransformation","h","normalAt","f","axisAt","y","elevate","S","intersectRayClosestSilhouette","g","intersectRay","j","createGlobal","R","createLocal","w","renderSRFromViewSR","A","M","sv3d","_","isDehydratedPoint","b","ViewingMode","P","isSpatialReferenceSupported","v","x","constructor","viewingMode","spatialReference","unitInMeters","coordinateSystem","_coordinateSystem","extent","getAltitude","setAltitude","worldUpAtPosition","worldBasisAtPosition","basisMatrixAtPosition","X","get","Y","Z","intersectManifoldClosestSilhouette","intersectManifold","intersectInfiniteManifold","Global","value","plane","toRenderCoords","fromRenderCoords","Local","renderUnitScaleFactor","B","RenderCoordsHelper"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{s as r}from\"../../../chunks/mat4.js\";import{c as o}from\"../../../chunks/vec3.js\";import{projectPointToVector as s,projectVectorToVector as i,projectVectorToDehydratedPoint as n,projectVectorToPoint as a}from\"../../../geometry/projection.js\";import c from\"../../../geometry/SpatialReference.js\";import{Axis as m}from\"../../../geometry/support/Axis.js\";import{create as l,setExtent as d,altitudeAt as p,setAltitudeAt as u,setAltitudeOfTransformation as h,normalAt as f,axisAt as y,elevate as S,intersectRayClosestSilhouette as g,intersectRay as j,createGlobal as R,createLocal as w,renderSRFromViewSR as A}from\"../../../geometry/support/coordinateSystem.js\";import{intersectRay as M}from\"../../../geometry/support/plane.js\";import{sv3d as _}from\"../../../geometry/support/vectorStacks.js\";import{isDehydratedPoint as b}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";import{ViewingMode as P}from\"../../ViewingMode.js\";import{isSpatialReferenceSupported as v}from\"../../support/spatialReferenceSupport.js\";class x{constructor(t,e,r,o){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=r,this.coordinateSystem=o,this._coordinateSystem=l(o)}set extent(t){t&&d(this.coordinateSystem,t,this.coordinateSystem)}getAltitude(t){return p(this.coordinateSystem,t)}setAltitude(t,e,r=t){return u(this.coordinateSystem,r,e,t)}setAltitudeOfTransformation(t,e){h(this.coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return f(this.coordinateSystem,t,e)}worldBasisAtPosition(t,e,r){return y(this.coordinateSystem,t,e,r)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,m.X,_.get()),s=this.worldBasisAtPosition(t,m.Y,_.get()),i=this.worldBasisAtPosition(t,m.Z,_.get());return r(e,o[0],o[1],o[2],0,s[0],s[1],s[2],0,i[0],i[1],i[2],0,0,0,0,1),e}intersectManifoldClosestSilhouette(t,e,r){return S(this.coordinateSystem,e,this._coordinateSystem),g(this._coordinateSystem,t,r),r}intersectManifold(t,e,r){S(this.coordinateSystem,e,this._coordinateSystem);const s=_.get();return j(this._coordinateSystem,t,s)?o(r,s):null}intersectInfiniteManifold(t,e,r){if(this.viewingMode===P.Global)return this.intersectManifold(t,e,r);S(this.coordinateSystem,e,this._coordinateSystem);const s=this._coordinateSystem.value,i=_.get();return M(s.plane,t,i)?o(r,i):null}toRenderCoords(t,e,r){return b(t)?s(t,e,this.spatialReference):i(t,e,r,this.spatialReference)}fromRenderCoords(e,r,o=null){return b(r)?(t(o)&&(r.spatialReference=o),n(e,this.spatialReference,r)):r instanceof c?a(e,this.spatialReference,r):i(e,this.spatialReference,r,o)?r:null}static create(t,r){switch(t){case P.Local:return new x(P.Local,r,e(r),w());case P.Global:return new x(P.Global,r,1,R(r))}}static renderUnitScaleFactor(t,e){return B(t)/B(e)}}function B(t){if(v(t,P.Global))return 1;const r=A(!1,t);return e(r)}export{x as RenderCoordsHelper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}