{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../../../core/CircularArray.js\";\nimport e from \"../../../../core/Evented.js\";\nimport \"../../../../core/has.js\";\nimport { isNone as s, isSome as a, unwrap as r } from \"../../../../core/maybe.js\";\nimport { r as n } from \"../../../../chunks/rbush.js\";\nimport { fromRect as i } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { Store2D as o } from \"./Store2D.js\";\nimport { FeatureSetReaderIndirect as d } from \"./support/FeatureSetReaderPBFIndirect.js\";\n\nfunction h(t, e) {\n  return t << 16 | e;\n}\n\nfunction c(t) {\n  return (4294901760 & t) >>> 16;\n}\n\nfunction I(t) {\n  return 65535 & t;\n}\n\nconst u = {\n  getObjectId: t => t.getObjectId(),\n  getAttributes: t => t.readAttributes(),\n  getAttribute: (t, e) => t.readAttribute(e),\n  cloneWithGeometry: (t, e) => t,\n  getGeometry: t => t.readHydratedGeometry(),\n  getCentroid: (t, e) => t.readCentroid()\n};\n\nclass l extends o {\n  constructor(s, a, r) {\n    super(s, a), this.featureAdapter = u, this.events = new e(), this._featureSetsByInstance = new Map(), this._objectIdToDisplayId = new Map(), this._spatialIndexInvalid = !0, this._indexSearchCache = new t(50), this._index = n(9, t => ({\n      minX: this._storage.getXMin(t),\n      minY: this._storage.getYMin(t),\n      maxX: this._storage.getXMax(t),\n      maxY: this._storage.getYMax(t)\n    })), this.mode = r;\n  }\n\n  get storeStatistics() {\n    let t = 0,\n        e = 0,\n        s = 0;\n    return this.forEach(a => {\n      const r = a.readGeometry();\n      r && (e += r.isPoint ? 1 : r.lengths.reduce((t, e) => t + e, 0), s += r.isPoint ? 1 : r.lengths.length, t += 1);\n    }), {\n      featureCount: t,\n      vertexCount: e,\n      ringCount: s\n    };\n  }\n\n  hasInstance(t) {\n    return this._featureSetsByInstance.has(t);\n  }\n\n  onTileData(t, e) {\n    if (s(e.addOrUpdate)) return e;\n\n    if (e.addOrUpdate.attachStorage(this._storage), \"snapshot\" === this.mode) {\n      const s = e.addOrUpdate.getCursor();\n\n      for (; s.next();) {\n        const e = s.getDisplayId();\n        this.setComputedAttributes(this._storage, s, e, t.scale);\n      }\n\n      return e;\n    }\n\n    this._featureSetsByInstance.set(e.addOrUpdate.instance, e.addOrUpdate);\n\n    const a = e.addOrUpdate.getCursor();\n\n    for (; a.next();) this._insertFeature(a, t.scale);\n\n    return this._spatialIndexInvalid = !0, this.events.emit(\"changed\"), e;\n  }\n\n  search(t) {\n    this._rebuildIndex();\n\n    const e = t.id,\n          s = this._indexSearchCache.find(t => t.tileId === e);\n\n    if (a(s)) return s.readers;\n\n    const r = new Map(),\n          n = this._searchIndex(t.bounds),\n          i = [];\n\n    for (const a of n) {\n      const t = this._storage.getInstanceId(a),\n            e = c(t),\n            s = I(t);\n\n      r.has(e) || r.set(e, []);\n      r.get(e).push(s);\n    }\n\n    return r.forEach((t, e) => {\n      const s = this._featureSetsByInstance.get(e);\n\n      i.push(d.from(s, t));\n    }), this._indexSearchCache.enqueue({\n      tileId: e,\n      readers: i\n    }), i;\n  }\n\n  insert(t) {\n    const e = t.getCursor(),\n          s = this._storage;\n\n    for (; e.next();) {\n      const t = h(e.instance, e.getIndex()),\n            a = e.getObjectId(),\n            r = this._objectIdToDisplayId.get(a) ?? this._storage.createDisplayId();\n\n      e.setDisplayId(r), s.setInstanceId(r, t), this._objectIdToDisplayId.set(a, r);\n    }\n\n    this._featureSetsByInstance.set(t.instance, t), this._spatialIndexInvalid = !0;\n  }\n\n  remove(t) {\n    const e = this._objectIdToDisplayId.get(t);\n\n    if (!e) return;\n\n    const s = this._storage.getInstanceId(e),\n          a = I(s),\n          r = c(s),\n          n = this._featureSetsByInstance.get(r);\n\n    this._objectIdToDisplayId.delete(t), this._storage.releaseDisplayId(e), n.removeAtIndex(a), n.isEmpty && this._featureSetsByInstance.delete(r), this._spatialIndexInvalid = !0;\n  }\n\n  toArray() {\n    const t = new Array();\n    return this.forEach(e => t.push(e)), t;\n  }\n\n  forEach(t) {\n    this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e),\n            a = this._lookupFeature(s);\n\n      t(a);\n    });\n  }\n\n  forEachUnsafe(t) {\n    this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e),\n            a = c(s),\n            r = I(s),\n            n = this._getFeatureSet(a);\n\n      n.setIndex(r), t(n);\n    });\n  }\n\n  forEachInBounds(t, e) {\n    const s = this._searchIndex(t);\n\n    for (const a of s) {\n      const t = this.lookupFeatureByDisplayId(a, this._storage);\n      e(r(t));\n    }\n  }\n\n  forEachBounds(t, e, s) {\n    this._rebuildIndex();\n\n    const a = [0, 0, 0, 0];\n\n    for (const r of t) {\n      if (!r.readGeometry()) continue;\n      const t = r.getDisplayId();\n      a[0] = this._storage.getXMin(t), a[1] = this._storage.getYMin(t), a[2] = this._storage.getXMax(t), a[3] = this._storage.getYMax(t), e(i(s, a));\n    }\n  }\n\n  sweepFeatures(t, e, s) {\n    this._spatialIndexInvalid = !0, this._objectIdToDisplayId.forEach((a, r) => {\n      t.has(a) || (e.releaseDisplayId(a), s && s.unsetAttributeData(a), this._objectIdToDisplayId.delete(r));\n    }), this.events.emit(\"changed\");\n  }\n\n  sweepFeatureSets(t) {\n    this._spatialIndexInvalid = !0, this._featureSetsByInstance.forEach((e, s) => {\n      t.has(s) || this._featureSetsByInstance.delete(s);\n    });\n  }\n\n  lookupObjectId(t, e) {\n    const a = this.lookupFeatureByDisplayId(t, e);\n    return s(a) ? null : a.getObjectId();\n  }\n\n  lookupDisplayId(t) {\n    return this._objectIdToDisplayId.get(t);\n  }\n\n  lookupFeatureByDisplayId(t, e) {\n    const s = e.getInstanceId(t);\n    return this._lookupFeature(s);\n  }\n\n  lookupByDisplayIdUnsafe(t) {\n    const e = this._storage.getInstanceId(t),\n          s = c(e),\n          a = I(e),\n          r = this._getFeatureSet(s);\n\n    return r ? (r.setIndex(a), r) : null;\n  }\n\n  _insertFeature(t, e) {\n    const s = this._storage,\n          a = t.getObjectId(),\n          r = h(t.instance, t.getIndex());\n    s.getInstanceId(t.getDisplayId());\n\n    let n = this._objectIdToDisplayId.get(a);\n\n    n || (n = s.createDisplayId(), this._objectIdToDisplayId.set(a, n), this._spatialIndexInvalid = !0), t.setDisplayId(n), s.setInstanceId(n, r), this.setComputedAttributes(s, t, n, e);\n  }\n\n  _searchIndex(t) {\n    this._rebuildIndex();\n\n    const e = {\n      minX: t[0],\n      minY: t[1],\n      maxX: t[2],\n      maxY: t[3]\n    };\n    return this._index.search(e);\n  }\n\n  _rebuildIndex() {\n    if (!this._spatialIndexInvalid) return;\n    const t = [];\n    \"snapshot\" === this.mode ? this._featureSetsByInstance.forEach(e => {\n      const s = e.getCursor();\n\n      for (; s.next();) {\n        const e = s.getDisplayId();\n        this._storage.setBounds(e, s) && t.push(e);\n      }\n    }) : this._objectIdToDisplayId.forEach(e => {\n      const s = this._storage.getInstanceId(e);\n\n      this._storage.setBounds(e, this._lookupFeature(s)) && t.push(e);\n    }), this._index.clear(), this._index.load(t), this._indexSearchCache.clear(), this._spatialIndexInvalid = !1;\n  }\n\n  _lookupFeature(t) {\n    const e = c(t),\n          s = this._getFeatureSet(e);\n\n    if (!s) return null;\n    const a = s.getCursor(),\n          r = I(t);\n    return a.setIndex(r), a;\n  }\n\n  _getFeatureSet(t) {\n    return this._featureSetsByInstance.get(t);\n  }\n\n}\n\nexport { l as FeatureStore2D, u as featureAdapter };","map":{"version":3,"names":["t","e","isNone","s","isSome","a","unwrap","r","n","fromRect","i","Store2D","o","FeatureSetReaderIndirect","d","h","c","I","u","getObjectId","getAttributes","readAttributes","getAttribute","readAttribute","cloneWithGeometry","getGeometry","readHydratedGeometry","getCentroid","readCentroid","l","constructor","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","_storage","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","storeStatistics","forEach","readGeometry","isPoint","lengths","reduce","length","featureCount","vertexCount","ringCount","hasInstance","has","onTileData","addOrUpdate","attachStorage","getCursor","next","getDisplayId","setComputedAttributes","scale","set","instance","_insertFeature","emit","search","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","getInstanceId","get","push","from","enqueue","insert","getIndex","createDisplayId","setDisplayId","setInstanceId","remove","delete","releaseDisplayId","removeAtIndex","isEmpty","toArray","Array","_lookupFeature","forEachUnsafe","_getFeatureSet","setIndex","forEachInBounds","lookupFeatureByDisplayId","forEachBounds","sweepFeatures","unsetAttributeData","sweepFeatureSets","lookupObjectId","lookupDisplayId","lookupByDisplayIdUnsafe","setBounds","clear","load","FeatureStore2D"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{isNone as s,isSome as a,unwrap as r}from\"../../../../core/maybe.js\";import{r as n}from\"../../../../chunks/rbush.js\";import{fromRect as i}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as o}from\"./Store2D.js\";import{FeatureSetReaderIndirect as d}from\"./support/FeatureSetReaderPBFIndirect.js\";function h(t,e){return t<<16|e}function c(t){return(4294901760&t)>>>16}function I(t){return 65535&t}const u={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class l extends o{constructor(s,a,r){super(s,a),this.featureAdapter=u,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=n(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=r}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(s(e.addOrUpdate))return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const a=e.addOrUpdate.getCursor();for(;a.next();)this._insertFeature(a,t.scale);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(a(s))return s.readers;const r=new Map,n=this._searchIndex(t.bounds),i=[];for(const a of n){const t=this._storage.getInstanceId(a),e=c(t),s=I(t);r.has(e)||r.set(e,[]);r.get(e).push(s)}return r.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);i.push(d.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:i}),i}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=h(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=I(s),r=c(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}toArray(){const t=new Array;return this.forEach((e=>t.push(e))),t}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=c(s),r=I(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){const t=this.lookupFeatureByDisplayId(a,this._storage);e(r(t))}}forEachBounds(t,e,s){this._rebuildIndex();const a=[0,0,0,0];for(const r of t){if(!r.readGeometry())continue;const t=r.getDisplayId();a[0]=this._storage.getXMin(t),a[1]=this._storage.getYMin(t),a[2]=this._storage.getXMax(t),a[3]=this._storage.getYMax(t),e(i(s,a))}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const a=this.lookupFeatureByDisplayId(t,e);return s(a)?null:a.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=c(e),a=I(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=h(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=c(t),s=this._getFeatureSet(e);if(!s)return null;const a=s.getCursor(),r=I(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{l as FeatureStore2D,u as featureAdapter};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}