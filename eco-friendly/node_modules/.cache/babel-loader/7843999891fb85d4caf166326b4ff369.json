{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { FeatureServiceDatabaseType as e } from \"./shared.js\";\nimport { WhereClause as r } from \"../../../core/sql/WhereClause.js\";\nimport { SqlError as t, SqlErrorCodes as n } from \"./errorsupport.js\";\nimport { DateTime as a } from \"luxon\";\n\nfunction s(e, r) {\n  return u(e?.parseTree, r, e?.parameters);\n}\n\nfunction o(e, r, t) {\n  return u(e, r, t);\n}\n\nfunction c(t, n, a, s) {\n  return r.create(u(t.parseTree, e.Standardised, t.parameters, n, a), s);\n}\n\nfunction i(t, n, a = \"AND\") {\n  return r.create(\"((\" + s(t, e.Standardised) + \")\" + a + \"(\" + s(n, e.Standardised) + \"))\", t.fieldsIndex);\n}\n\nfunction u(e, r, a, s = null, o = null) {\n  let c, i, p, g;\n\n  switch (e.type) {\n    case \"interval\":\n      return N(u(e.value, r, a, s, o), e.qualifier, e.op);\n\n    case \"case-expression\":\n      {\n        let t = \" CASE \";\n        \"simple\" === e.format && (t += u(e.operand, r, a, s, o));\n\n        for (let n = 0; n < e.clauses.length; n++) t += \" WHEN \" + u(e.clauses[n].operand, r, a, s, o) + \" THEN \" + u(e.clauses[n].value, r, a, s, o);\n\n        return null !== e.else && (t += \" ELSE \" + u(e.else, r, a, s, o)), t += \" END \", t;\n      }\n\n    case \"parameter\":\n      {\n        const t = a[e.value.toLowerCase()];\n\n        if (\"string\" == typeof t) {\n          return \"'\" + a[e.value.toLowerCase()].toString().replace(/'/g, \"''\") + \"'\";\n        }\n\n        if (t instanceof Date) return f(t, r);\n\n        if (t instanceof Array) {\n          const e = [];\n\n          for (let n = 0; n < t.length; n++) \"string\" == typeof t[n] ? e.push(\"'\" + t[n].toString().replace(/'/g, \"''\") + \"'\") : t[n] instanceof Date ? e.push(f(t[n], r)) : e.push(t[n].toString());\n\n          return e;\n        }\n\n        return t.toString();\n      }\n\n    case \"expression-list\":\n      i = [];\n\n      for (const t of e.value) i.push(u(t, r, a, s, o));\n\n      return i;\n\n    case \"unary-expression\":\n      return \" ( NOT \" + u(e.expr, r, a, s, o) + \" ) \";\n\n    case \"binary-expression\":\n      switch (e.operator) {\n        case \"AND\":\n          return \" (\" + u(e.left, r, a, s, o) + \" AND \" + u(e.right, r, a, s, o) + \") \";\n\n        case \"OR\":\n          return \" (\" + u(e.left, r, a, s, o) + \" OR \" + u(e.right, r, a, s, o) + \") \";\n\n        case \"IS\":\n          if (\"null\" !== e.right.type) throw new t(n.UnsupportedIsRhs);\n          return \" (\" + u(e.left, r, a, s, o) + \" IS NULL )\";\n\n        case \"ISNOT\":\n          if (\"null\" !== e.right.type) throw new t(n.UnsupportedIsRhs);\n          return \" (\" + u(e.left, r, a, s, o) + \" IS NOT NULL )\";\n\n        case \"IN\":\n          return c = [], \"expression-list\" === e.right.type ? (c = u(e.right, r, a, s, o), \" (\" + u(e.left, r, a, s, o) + \" IN (\" + c.join(\",\") + \")) \") : (g = u(e.right, r, a, s, o), g instanceof Array ? \" (\" + u(e.left, r, a, s, o) + \" IN (\" + g.join(\",\") + \")) \" : \" (\" + u(e.left, r, a, s, o) + \" IN (\" + g + \")) \");\n\n        case \"NOT IN\":\n          return c = [], \"expression-list\" === e.right.type ? (c = u(e.right, r, a, s, o), \" (\" + u(e.left, r, a, s, o) + \" NOT IN (\" + c.join(\",\") + \")) \") : (g = u(e.right, r, a, s, o), g instanceof Array ? \" (\" + u(e.left, r, a, s, o) + \" NOT IN (\" + g.join(\",\") + \")) \" : \" (\" + u(e.left, r, a, s, o) + \" NOT IN (\" + g + \")) \");\n\n        case \"BETWEEN\":\n          return p = u(e.right, r, a, s, o), \" (\" + u(e.left, r, a, s, o) + \" BETWEEN \" + p[0] + \" AND \" + p[1] + \" ) \";\n\n        case \"NOTBETWEEN\":\n          return p = u(e.right, r, a, s, o), \" (\" + u(e.left, r, a, s, o) + \" NOT BETWEEN \" + p[0] + \" AND \" + p[1] + \" ) \";\n\n        case \"LIKE\":\n          return \"\" !== e.escape ? \" (\" + u(e.left, r, a, s, o) + \" LIKE \" + u(e.right, r, a, s, o) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + u(e.left, r, a, s, o) + \" LIKE \" + u(e.right, r, a, s, o) + \") \";\n\n        case \"NOT LIKE\":\n          return \"\" !== e.escape ? \" (\" + u(e.left, r, a, s, o) + \" NOT LIKE \" + u(e.right, r, a, s, o) + \" ESCAPE '\" + e.escape + \"') \" : \" (\" + u(e.left, r, a, s, o) + \" NOT LIKE \" + u(e.right, r, a, s, o) + \") \";\n\n        case \"<>\":\n        case \"<\":\n        case \">\":\n        case \">=\":\n        case \"<=\":\n        case \"=\":\n        case \"*\":\n        case \"-\":\n        case \"+\":\n        case \"/\":\n          return \" (\" + u(e.left, r, a, s, o) + \" \" + e.operator + \" \" + u(e.right, r, a, s, o) + \") \";\n      }\n\n      throw new t(n.UnsupportedOperator, {\n        operator: e.operator\n      });\n\n    case \"null\":\n      return \"null\";\n\n    case \"boolean\":\n      return !0 === e.value ? \"1\" : \"0\";\n\n    case \"string\":\n      return \"'\" + e.value.toString().replace(/'/g, \"''\") + \"'\";\n\n    case \"timestamp\":\n    case \"date\":\n      return f(e.value, r);\n\n    case \"number\":\n      return e.value.toString();\n\n    case \"current-time\":\n      return d(\"date\" === e.mode, r);\n\n    case \"column-reference\":\n      return s && s.toLowerCase() === e.column.toLowerCase() ? \"(\" + o + \")\" : e.column;\n\n    case \"function\":\n      {\n        const t = u(e.args, r, a, s, o);\n        return l(e.name, t, r);\n      }\n  }\n\n  throw new t(n.UnsupportedSyntax, {\n    node: e.type\n  });\n}\n\nfunction l(r, a, s) {\n  switch (r.toLowerCase().trim()) {\n    case \"abs\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"abs\"\n      });\n      return \"abs(\" + a[0] + \")\";\n\n    case \"ceiling\":\n    case \"ceil\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"ceiling\"\n      });\n\n      switch (s) {\n        case e.Standardised:\n        case e.StandardisedNoInterval:\n      }\n\n      return \"CEILING(\" + a[0] + \")\";\n\n    case \"floor\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"floor\"\n      });\n      return \"FLOOR(\" + a[0] + \")\";\n\n    case \"log\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"log\"\n      });\n      return \"LOG(\" + a[0] + \")\";\n\n    case \"log10\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"log10\"\n      });\n      return \"LOG10(\" + a[0] + \")\";\n\n    case \"power\":\n      if (2 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"power\"\n      });\n      return \"POWER(\" + a[0] + \",\" + a[1] + \")\";\n\n    case \"round\":\n      if (2 === a.length) return \"ROUND(\" + a[0] + \",\" + a[1] + \")\";\n      if (1 === a.length) return \"ROUND(\" + a[0] + \")\";\n      throw new t(n.InvalidFunctionParameters, {\n        function: \"round\"\n      });\n\n    case \"truncate\":\n      if (a.length < 1 || a.length > 2) throw new t(n.InvalidFunctionParameters, {\n        function: \"truncate\"\n      });\n      return s === e.SqlServer ? \"ROUND(\" + a[0] + (1 === a.length ? \"0\" : \",\" + a[1]) + \",1)\" : \"TRUNCATE(\" + a[0] + (1 === a.length ? \")\" : \",\" + a[1] + \")\");\n\n    case \"char_length\":\n    case \"len\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"char_length\"\n      });\n\n      switch (s) {\n        case e.SqlServer:\n          return \"LEN(\" + a[0] + \")\";\n\n        case e.Oracle:\n          return \"LENGTH(\" + a[0] + \")\";\n\n        default:\n          return \"CHAR_LENGTH(\" + a[0] + \")\";\n      }\n\n    case \"concat\":\n      if (a.length < 1) throw new t(n.InvalidFunctionParameters, {\n        function: \"concat\"\n      });\n      {\n        let e = \"CONCAT(\";\n\n        for (let r = 0; r < a.length; r++) 0 !== r && (e += \",\"), e += a[r];\n\n        return e += \")\", e;\n      }\n\n    case \"lower\":\n    case \"lcase\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"lower\"\n      });\n      return \"LOWER(\" + a[0] + \")\";\n\n    case \"upper\":\n    case \"ucase\":\n      if (1 !== a.length) throw new t(n.InvalidFunctionParameters, {\n        function: \"upper\"\n      });\n      return \"UPPER(\" + a[0] + \")\";\n\n    case \"substring\":\n      {\n        let r = \"\";\n\n        switch (s) {\n          case e.Oracle:\n            return r = \"SUBSTR(\" + a[0] + \",\" + a[1], 3 === a.length && (r += \",\" + a[2]), r += \")\", r;\n\n          case e.SqlServer:\n            return r = 3 === a.length ? \"SUBSTRING(\" + a[0] + \",\" + a[1] + \",\" + a[2] + \")\" : \"SUBSTRING(\" + a[0] + \",  \" + a[1] + \", LEN(\" + a[0] + \") - \" + a[1] + \")\", r;\n\n          default:\n            return r = \"SUBSTRING(\" + a[0] + \" FROM \" + a[1], 3 === a.length && (r += \" FOR \" + a[2]), r += \")\", r;\n        }\n      }\n\n    case \"extract\":\n      return \"EXTRACT(\" + a[0].replace(/\\'/g, \"\") + \" FROM \" + a[1] + \")\";\n  }\n\n  throw new t(n.InvalidFunctionParameters, {\n    function: r\n  });\n}\n\nfunction f(r, t) {\n  const n = r instanceof Date ? a.fromJSDate(r) : a.fromSQL(r),\n        s = 0 === n.hour && 0 === n.minute && 0 === n.second && 0 === n.millisecond;\n\n  switch (t) {\n    case e.FILEGDB:\n    case e.Standardised:\n    case e.StandardisedNoInterval:\n      return s ? `date '${n.toFormat(\"yyyy-LL-dd\")}'` : `date '${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    case e.Oracle:\n      return s ? `TO_DATE('${n.toFormat(\"yyyy-LL-dd\")}','YYYY-MM-DD')` : `TO_DATE('${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}','YYYY-MM-DD HH24:MI:SS')`;\n\n    case e.SqlServer:\n      return `'${n.toFormat(s ? \"yyyy-LL-dd\" : \"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    case e.PGDB:\n      return `#${n.toFormat(s ? \"LL-dd-yyyy\" : \"LL-dd-yyyy HH:mm:ss\")}#`;\n\n    case e.Postgres:\n      return `TIMESTAMP '${n.toFormat(s ? \"yyyy-LL-dd\" : \"yyyy-LL-dd HH:mm:ss\")}'`;\n\n    default:\n      return `date '${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;\n  }\n}\n\nfunction d(r, t) {\n  switch (t) {\n    case e.FILEGDB:\n    case e.Standardised:\n    case e.StandardisedNoInterval:\n    case e.Oracle:\n      return r ? \"CURRENT_DATE\" : \"CURRENT_TIMESTAMP\";\n\n    case e.SqlServer:\n      return r ? \"CAST(GETDATE() AS DATE)\" : \"GETDATE()\";\n\n    case e.PGDB:\n    case e.Postgres:\n    default:\n      return r ? \"CURRENT_DATE\" : \"CURRENT_TIMESTAMP\";\n  }\n}\n\nfunction p(e, r, t = {}) {\n  const n = {},\n        a = {},\n        s = {\n    esriFieldTypeSmallInteger: \"integer\",\n    esriFieldTypeInteger: \"integer\",\n    esriFieldTypeSingle: \"double\",\n    esriFieldTypeDouble: \"double\",\n    esriFieldTypeString: \"string\",\n    esriFieldTypeDate: \"date\",\n    esriFieldTypeOID: \"integer\",\n    oid: \"integer\",\n    long: \"integer\",\n    \"small-integer\": \"integer\",\n    integer: \"integer\",\n    single: \"double\",\n    double: \"double\",\n    date: \"date\",\n    string: \"string\"\n  };\n\n  for (const o of r) {\n    const e = o.type ? s[o.type] : void 0;\n    n[o.name.toLowerCase()] = void 0 === e ? \"\" : e;\n  }\n\n  for (const o in t) {\n    const e = s[t[o]];\n    a[o.toLowerCase()] = void 0 === e ? \"\" : e;\n  }\n\n  switch (g(n, e.parseTree, e.parameters, a)) {\n    case \"double\":\n      return \"double\";\n\n    case \"integer\":\n      return \"integer\";\n\n    case \"date\":\n      return \"date\";\n\n    case \"string\":\n      return \"string\";\n  }\n\n  return \"\";\n}\n\nfunction g(e, r, a, s) {\n  let o;\n\n  switch (r.type) {\n    case \"interval\":\n      return \"integer\";\n\n    case \"case-expression\":\n      {\n        const t = [];\n\n        if (\"simple\" === r.format) {\n          for (let n = 0; n < r.clauses.length; n++) t.push(g(e, r.clauses[n].value, a, s));\n\n          null !== r.else && t.push(g(e, r.else, a, s));\n        } else {\n          for (let n = 0; n < r.clauses.length; n++) t.push(g(e, r.else, a, s));\n\n          null !== r.else && t.push(g(e, r.else, a, s));\n        }\n\n        return m(t);\n      }\n\n    case \"parameter\":\n      {\n        const e = s[r.value.toLowerCase()];\n\n        if (void 0 === e && a) {\n          const e = a[r.value.toLowerCase()];\n          if (void 0 === e) return \"\";\n          if (null === e) return \"\";\n          if (\"string\" == typeof e || e instanceof String) return \"string\";\n          if (\"boolean\" == typeof e) return \"boolean\";\n          if (e instanceof Date) return \"date\";\n          if (\"number\" == typeof e) return e % 1 == 0 ? \"integer\" : \"double\";\n        }\n\n        return void 0 === e ? \"\" : e;\n      }\n\n    case \"expression-list\":\n      {\n        const t = [];\n\n        for (const n of r.value) t.push(g(e, n, a, s));\n\n        return t;\n      }\n\n    case \"unary-expression\":\n      return \"boolean\";\n\n    case \"binary-expression\":\n      switch (r.operator) {\n        case \"AND\":\n        case \"OR\":\n        case \"IN\":\n        case \"NOT IN\":\n        case \"BETWEEN\":\n        case \"NOTBETWEEN\":\n        case \"LIKE\":\n        case \"NOT LIKE\":\n        case \"<>\":\n        case \"<\":\n        case \">\":\n        case \">=\":\n        case \"<=\":\n        case \"=\":\n          return \"boolean\";\n\n        case \"IS\":\n        case \"ISNOT\":\n          if (\"null\" !== r.right.type) throw new t(n.UnsupportedIsRhs);\n          return \"boolean\";\n\n        case \"*\":\n        case \"-\":\n        case \"+\":\n        case \"/\":\n          return m([g(e, r.left, a, s), g(e, r.right, a, s)]);\n\n        default:\n          throw new t(n.UnsupportedOperator, {\n            operator: r.operator\n          });\n      }\n\n    case \"null\":\n      return \"\";\n\n    case \"boolean\":\n      return \"boolean\";\n\n    case \"string\":\n      return \"string\";\n\n    case \"number\":\n      return null === r.value ? \"\" : r.value % 1 == 0 ? \"integer\" : \"double\";\n\n    case \"date\":\n    case \"timestamp\":\n    case \"current-time\":\n      return \"date\";\n\n    case \"column-reference\":\n      {\n        const t = e[r.column.toLowerCase()];\n        return void 0 === t ? \"\" : t;\n      }\n\n    case \"function\":\n      switch (r.name.toLowerCase()) {\n        case \"position\":\n        case \"extract\":\n        case \"char_length\":\n          return \"integer\";\n\n        case \"round\":\n          return o = g(e, r.args, a, s), o instanceof Array ? o.length > 0 ? o[0] : \"\" : o;\n\n        case \"sign\":\n          return o = g(e, r.args, a, s), o instanceof Array && (o = m(o)), \"integer\" === o || \"double\" === o ? o : \"double\";\n\n        case \"ceiling\":\n        case \"floor\":\n        case \"abs\":\n          {\n            const t = g(e, r.args, a, s);\n            return t instanceof Array ? m(t) : t;\n          }\n\n        case \"area\":\n        case \"length\":\n        case \"log\":\n        case \"log10\":\n        case \"sin\":\n        case \"cos\":\n        case \"tan\":\n        case \"asin\":\n        case \"acos\":\n        case \"atan\":\n        case \"power\":\n        case \"truncate\":\n          return \"double\";\n\n        case \"substring\":\n        case \"trim\":\n        case \"concat\":\n        case \"lower\":\n        case \"upper\":\n          return \"string\";\n      }\n\n      return \"\";\n  }\n\n  throw new t(n.UnsupportedSyntax, {\n    node: r.type\n  });\n}\n\nconst h = {\n  boolean: 1,\n  string: 2,\n  integer: 3,\n  double: 4,\n  date: 5\n};\n\nfunction m(e) {\n  if (e) {\n    let r = \"\";\n\n    for (const t of e) \"\" !== t && (r = \"\" === r || h[r] < h[t] ? t : r);\n\n    return r;\n  }\n\n  return \"\";\n}\n\nfunction y(e, r) {\n  return T(e.parseTree, r);\n}\n\nfunction w(e) {\n  return \"column-reference\" === e?.parseTree.type;\n}\n\nfunction T(e, r) {\n  if (null == e) return !1;\n\n  switch (e.type) {\n    case \"when-clause\":\n      return T(e.operand, r) || T(e.value, r);\n\n    case \"case-expression\":\n      for (const t of e.clauses) if (T(t, r)) return !0;\n\n      return !(\"simple\" !== e.format || !T(e.operand, r)) || !(null === e.else || !T(e.else, r));\n\n    case \"parameter\":\n    case \"null\":\n    case \"boolean\":\n    case \"date\":\n    case \"timestamp\":\n    case \"string\":\n    case \"number\":\n      return !1;\n\n    case \"expression-list\":\n      for (const t of e.value) if (T(t, r)) return !0;\n\n      return !1;\n\n    case \"unary-expression\":\n      return T(e.expr, r);\n\n    case \"binary-expression\":\n      return T(e.left, r) || T(e.right, r);\n\n    case \"column-reference\":\n      return r.toLowerCase() === e.column.toLowerCase();\n\n    case \"function\":\n      return T(e.args, r);\n  }\n\n  return !1;\n}\n\nfunction E(e) {\n  let r = \"\";\n  return r += e.period.toUpperCase(), r;\n}\n\nfunction N(e, r, t) {\n  let n = \"\";\n  return n = \"interval-period\" === r.type ? E(r) : E(r.start) + \" TO \" + E(r.end), \"INTERVAL \" + t + \" \" + e + \" \" + n;\n}\n\nexport { i as combine, N as convertIntervalToSql, w as isSingleField, f as makeDateString, d as makeToday, p as predictType, c as reformulateWithoutField, y as scanForField, s as toWhereClause, o as toWhereClauseFromTree, l as translateFunctionToDatabaseSpecific };","map":{"version":3,"names":["FeatureServiceDatabaseType","e","WhereClause","r","SqlError","t","SqlErrorCodes","n","DateTime","a","s","u","parseTree","parameters","o","c","create","Standardised","i","fieldsIndex","p","g","type","N","value","qualifier","op","format","operand","clauses","length","else","toLowerCase","toString","replace","Date","f","Array","push","expr","operator","left","right","UnsupportedIsRhs","join","escape","UnsupportedOperator","d","mode","column","args","l","name","UnsupportedSyntax","node","trim","InvalidFunctionParameters","function","StandardisedNoInterval","SqlServer","Oracle","fromJSDate","fromSQL","hour","minute","second","millisecond","FILEGDB","toFormat","PGDB","Postgres","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","oid","long","integer","single","double","date","string","m","String","h","boolean","y","T","w","E","period","toUpperCase","start","end","combine","convertIntervalToSql","isSingleField","makeDateString","makeToday","predictType","reformulateWithoutField","scanForField","toWhereClause","toWhereClauseFromTree","translateFunctionToDatabaseSpecific"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{FeatureServiceDatabaseType as e}from\"./shared.js\";import{WhereClause as r}from\"../../../core/sql/WhereClause.js\";import{SqlError as t,SqlErrorCodes as n}from\"./errorsupport.js\";import{DateTime as a}from\"luxon\";function s(e,r){return u(e?.parseTree,r,e?.parameters)}function o(e,r,t){return u(e,r,t)}function c(t,n,a,s){return r.create(u(t.parseTree,e.Standardised,t.parameters,n,a),s)}function i(t,n,a=\"AND\"){return r.create(\"((\"+s(t,e.Standardised)+\")\"+a+\"(\"+s(n,e.Standardised)+\"))\",t.fieldsIndex)}function u(e,r,a,s=null,o=null){let c,i,p,g;switch(e.type){case\"interval\":return N(u(e.value,r,a,s,o),e.qualifier,e.op);case\"case-expression\":{let t=\" CASE \";\"simple\"===e.format&&(t+=u(e.operand,r,a,s,o));for(let n=0;n<e.clauses.length;n++)t+=\" WHEN \"+u(e.clauses[n].operand,r,a,s,o)+\" THEN \"+u(e.clauses[n].value,r,a,s,o);return null!==e.else&&(t+=\" ELSE \"+u(e.else,r,a,s,o)),t+=\" END \",t}case\"parameter\":{const t=a[e.value.toLowerCase()];if(\"string\"==typeof t){return\"'\"+a[e.value.toLowerCase()].toString().replace(/'/g,\"''\")+\"'\"}if(t instanceof Date)return f(t,r);if(t instanceof Array){const e=[];for(let n=0;n<t.length;n++)\"string\"==typeof t[n]?e.push(\"'\"+t[n].toString().replace(/'/g,\"''\")+\"'\"):t[n]instanceof Date?e.push(f(t[n],r)):e.push(t[n].toString());return e}return t.toString()}case\"expression-list\":i=[];for(const t of e.value)i.push(u(t,r,a,s,o));return i;case\"unary-expression\":return\" ( NOT \"+u(e.expr,r,a,s,o)+\" ) \";case\"binary-expression\":switch(e.operator){case\"AND\":return\" (\"+u(e.left,r,a,s,o)+\" AND \"+u(e.right,r,a,s,o)+\") \";case\"OR\":return\" (\"+u(e.left,r,a,s,o)+\" OR \"+u(e.right,r,a,s,o)+\") \";case\"IS\":if(\"null\"!==e.right.type)throw new t(n.UnsupportedIsRhs);return\" (\"+u(e.left,r,a,s,o)+\" IS NULL )\";case\"ISNOT\":if(\"null\"!==e.right.type)throw new t(n.UnsupportedIsRhs);return\" (\"+u(e.left,r,a,s,o)+\" IS NOT NULL )\";case\"IN\":return c=[],\"expression-list\"===e.right.type?(c=u(e.right,r,a,s,o),\" (\"+u(e.left,r,a,s,o)+\" IN (\"+c.join(\",\")+\")) \"):(g=u(e.right,r,a,s,o),g instanceof Array?\" (\"+u(e.left,r,a,s,o)+\" IN (\"+g.join(\",\")+\")) \":\" (\"+u(e.left,r,a,s,o)+\" IN (\"+g+\")) \");case\"NOT IN\":return c=[],\"expression-list\"===e.right.type?(c=u(e.right,r,a,s,o),\" (\"+u(e.left,r,a,s,o)+\" NOT IN (\"+c.join(\",\")+\")) \"):(g=u(e.right,r,a,s,o),g instanceof Array?\" (\"+u(e.left,r,a,s,o)+\" NOT IN (\"+g.join(\",\")+\")) \":\" (\"+u(e.left,r,a,s,o)+\" NOT IN (\"+g+\")) \");case\"BETWEEN\":return p=u(e.right,r,a,s,o),\" (\"+u(e.left,r,a,s,o)+\" BETWEEN \"+p[0]+\" AND \"+p[1]+\" ) \";case\"NOTBETWEEN\":return p=u(e.right,r,a,s,o),\" (\"+u(e.left,r,a,s,o)+\" NOT BETWEEN \"+p[0]+\" AND \"+p[1]+\" ) \";case\"LIKE\":return\"\"!==e.escape?\" (\"+u(e.left,r,a,s,o)+\" LIKE \"+u(e.right,r,a,s,o)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+u(e.left,r,a,s,o)+\" LIKE \"+u(e.right,r,a,s,o)+\") \";case\"NOT LIKE\":return\"\"!==e.escape?\" (\"+u(e.left,r,a,s,o)+\" NOT LIKE \"+u(e.right,r,a,s,o)+\" ESCAPE '\"+e.escape+\"') \":\" (\"+u(e.left,r,a,s,o)+\" NOT LIKE \"+u(e.right,r,a,s,o)+\") \";case\"<>\":case\"<\":case\">\":case\">=\":case\"<=\":case\"=\":case\"*\":case\"-\":case\"+\":case\"/\":return\" (\"+u(e.left,r,a,s,o)+\" \"+e.operator+\" \"+u(e.right,r,a,s,o)+\") \"}throw new t(n.UnsupportedOperator,{operator:e.operator});case\"null\":return\"null\";case\"boolean\":return!0===e.value?\"1\":\"0\";case\"string\":return\"'\"+e.value.toString().replace(/'/g,\"''\")+\"'\";case\"timestamp\":case\"date\":return f(e.value,r);case\"number\":return e.value.toString();case\"current-time\":return d(\"date\"===e.mode,r);case\"column-reference\":return s&&s.toLowerCase()===e.column.toLowerCase()?\"(\"+o+\")\":e.column;case\"function\":{const t=u(e.args,r,a,s,o);return l(e.name,t,r)}}throw new t(n.UnsupportedSyntax,{node:e.type})}function l(r,a,s){switch(r.toLowerCase().trim()){case\"abs\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"abs\"});return\"abs(\"+a[0]+\")\";case\"ceiling\":case\"ceil\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"ceiling\"});switch(s){case e.Standardised:case e.StandardisedNoInterval:}return\"CEILING(\"+a[0]+\")\";case\"floor\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"floor\"});return\"FLOOR(\"+a[0]+\")\";case\"log\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"log\"});return\"LOG(\"+a[0]+\")\";case\"log10\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"log10\"});return\"LOG10(\"+a[0]+\")\";case\"power\":if(2!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"power\"});return\"POWER(\"+a[0]+\",\"+a[1]+\")\";case\"round\":if(2===a.length)return\"ROUND(\"+a[0]+\",\"+a[1]+\")\";if(1===a.length)return\"ROUND(\"+a[0]+\")\";throw new t(n.InvalidFunctionParameters,{function:\"round\"});case\"truncate\":if(a.length<1||a.length>2)throw new t(n.InvalidFunctionParameters,{function:\"truncate\"});return s===e.SqlServer?\"ROUND(\"+a[0]+(1===a.length?\"0\":\",\"+a[1])+\",1)\":\"TRUNCATE(\"+a[0]+(1===a.length?\")\":\",\"+a[1]+\")\");case\"char_length\":case\"len\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"char_length\"});switch(s){case e.SqlServer:return\"LEN(\"+a[0]+\")\";case e.Oracle:return\"LENGTH(\"+a[0]+\")\";default:return\"CHAR_LENGTH(\"+a[0]+\")\"}case\"concat\":if(a.length<1)throw new t(n.InvalidFunctionParameters,{function:\"concat\"});{let e=\"CONCAT(\";for(let r=0;r<a.length;r++)0!==r&&(e+=\",\"),e+=a[r];return e+=\")\",e}case\"lower\":case\"lcase\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"lower\"});return\"LOWER(\"+a[0]+\")\";case\"upper\":case\"ucase\":if(1!==a.length)throw new t(n.InvalidFunctionParameters,{function:\"upper\"});return\"UPPER(\"+a[0]+\")\";case\"substring\":{let r=\"\";switch(s){case e.Oracle:return r=\"SUBSTR(\"+a[0]+\",\"+a[1],3===a.length&&(r+=\",\"+a[2]),r+=\")\",r;case e.SqlServer:return r=3===a.length?\"SUBSTRING(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"SUBSTRING(\"+a[0]+\",  \"+a[1]+\", LEN(\"+a[0]+\") - \"+a[1]+\")\",r;default:return r=\"SUBSTRING(\"+a[0]+\" FROM \"+a[1],3===a.length&&(r+=\" FOR \"+a[2]),r+=\")\",r}}case\"extract\":return\"EXTRACT(\"+a[0].replace(/\\'/g,\"\")+\" FROM \"+a[1]+\")\"}throw new t(n.InvalidFunctionParameters,{function:r})}function f(r,t){const n=r instanceof Date?a.fromJSDate(r):a.fromSQL(r),s=0===n.hour&&0===n.minute&&0===n.second&&0===n.millisecond;switch(t){case e.FILEGDB:case e.Standardised:case e.StandardisedNoInterval:return s?`date '${n.toFormat(\"yyyy-LL-dd\")}'`:`date '${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`;case e.Oracle:return s?`TO_DATE('${n.toFormat(\"yyyy-LL-dd\")}','YYYY-MM-DD')`:`TO_DATE('${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}','YYYY-MM-DD HH24:MI:SS')`;case e.SqlServer:return`'${n.toFormat(s?\"yyyy-LL-dd\":\"yyyy-LL-dd HH:mm:ss\")}'`;case e.PGDB:return`#${n.toFormat(s?\"LL-dd-yyyy\":\"LL-dd-yyyy HH:mm:ss\")}#`;case e.Postgres:return`TIMESTAMP '${n.toFormat(s?\"yyyy-LL-dd\":\"yyyy-LL-dd HH:mm:ss\")}'`;default:return`date '${n.toFormat(\"yyyy-LL-dd HH:mm:ss\")}'`}}function d(r,t){switch(t){case e.FILEGDB:case e.Standardised:case e.StandardisedNoInterval:case e.Oracle:return r?\"CURRENT_DATE\":\"CURRENT_TIMESTAMP\";case e.SqlServer:return r?\"CAST(GETDATE() AS DATE)\":\"GETDATE()\";case e.PGDB:case e.Postgres:default:return r?\"CURRENT_DATE\":\"CURRENT_TIMESTAMP\"}}function p(e,r,t={}){const n={},a={},s={esriFieldTypeSmallInteger:\"integer\",esriFieldTypeInteger:\"integer\",esriFieldTypeSingle:\"double\",esriFieldTypeDouble:\"double\",esriFieldTypeString:\"string\",esriFieldTypeDate:\"date\",esriFieldTypeOID:\"integer\",oid:\"integer\",long:\"integer\",\"small-integer\":\"integer\",integer:\"integer\",single:\"double\",double:\"double\",date:\"date\",string:\"string\"};for(const o of r){const e=o.type?s[o.type]:void 0;n[o.name.toLowerCase()]=void 0===e?\"\":e}for(const o in t){const e=s[t[o]];a[o.toLowerCase()]=void 0===e?\"\":e}switch(g(n,e.parseTree,e.parameters,a)){case\"double\":return\"double\";case\"integer\":return\"integer\";case\"date\":return\"date\";case\"string\":return\"string\"}return\"\"}function g(e,r,a,s){let o;switch(r.type){case\"interval\":return\"integer\";case\"case-expression\":{const t=[];if(\"simple\"===r.format){for(let n=0;n<r.clauses.length;n++)t.push(g(e,r.clauses[n].value,a,s));null!==r.else&&t.push(g(e,r.else,a,s))}else{for(let n=0;n<r.clauses.length;n++)t.push(g(e,r.else,a,s));null!==r.else&&t.push(g(e,r.else,a,s))}return m(t)}case\"parameter\":{const e=s[r.value.toLowerCase()];if(void 0===e&&a){const e=a[r.value.toLowerCase()];if(void 0===e)return\"\";if(null===e)return\"\";if(\"string\"==typeof e||e instanceof String)return\"string\";if(\"boolean\"==typeof e)return\"boolean\";if(e instanceof Date)return\"date\";if(\"number\"==typeof e)return e%1==0?\"integer\":\"double\"}return void 0===e?\"\":e}case\"expression-list\":{const t=[];for(const n of r.value)t.push(g(e,n,a,s));return t}case\"unary-expression\":return\"boolean\";case\"binary-expression\":switch(r.operator){case\"AND\":case\"OR\":case\"IN\":case\"NOT IN\":case\"BETWEEN\":case\"NOTBETWEEN\":case\"LIKE\":case\"NOT LIKE\":case\"<>\":case\"<\":case\">\":case\">=\":case\"<=\":case\"=\":return\"boolean\";case\"IS\":case\"ISNOT\":if(\"null\"!==r.right.type)throw new t(n.UnsupportedIsRhs);return\"boolean\";case\"*\":case\"-\":case\"+\":case\"/\":return m([g(e,r.left,a,s),g(e,r.right,a,s)]);default:throw new t(n.UnsupportedOperator,{operator:r.operator})}case\"null\":return\"\";case\"boolean\":return\"boolean\";case\"string\":return\"string\";case\"number\":return null===r.value?\"\":r.value%1==0?\"integer\":\"double\";case\"date\":case\"timestamp\":case\"current-time\":return\"date\";case\"column-reference\":{const t=e[r.column.toLowerCase()];return void 0===t?\"\":t}case\"function\":switch(r.name.toLowerCase()){case\"position\":case\"extract\":case\"char_length\":return\"integer\";case\"round\":return o=g(e,r.args,a,s),o instanceof Array?o.length>0?o[0]:\"\":o;case\"sign\":return o=g(e,r.args,a,s),o instanceof Array&&(o=m(o)),\"integer\"===o||\"double\"===o?o:\"double\";case\"ceiling\":case\"floor\":case\"abs\":{const t=g(e,r.args,a,s);return t instanceof Array?m(t):t}case\"area\":case\"length\":case\"log\":case\"log10\":case\"sin\":case\"cos\":case\"tan\":case\"asin\":case\"acos\":case\"atan\":case\"power\":case\"truncate\":return\"double\";case\"substring\":case\"trim\":case\"concat\":case\"lower\":case\"upper\":return\"string\"}return\"\"}throw new t(n.UnsupportedSyntax,{node:r.type})}const h={boolean:1,string:2,integer:3,double:4,date:5};function m(e){if(e){let r=\"\";for(const t of e)\"\"!==t&&(r=\"\"===r||h[r]<h[t]?t:r);return r}return\"\"}function y(e,r){return T(e.parseTree,r)}function w(e){return\"column-reference\"===e?.parseTree.type}function T(e,r){if(null==e)return!1;switch(e.type){case\"when-clause\":return T(e.operand,r)||T(e.value,r);case\"case-expression\":for(const t of e.clauses)if(T(t,r))return!0;return!(\"simple\"!==e.format||!T(e.operand,r))||!(null===e.else||!T(e.else,r));case\"parameter\":case\"null\":case\"boolean\":case\"date\":case\"timestamp\":case\"string\":case\"number\":return!1;case\"expression-list\":for(const t of e.value)if(T(t,r))return!0;return!1;case\"unary-expression\":return T(e.expr,r);case\"binary-expression\":return T(e.left,r)||T(e.right,r);case\"column-reference\":return r.toLowerCase()===e.column.toLowerCase();case\"function\":return T(e.args,r)}return!1}function E(e){let r=\"\";return r+=e.period.toUpperCase(),r}function N(e,r,t){let n=\"\";return n=\"interval-period\"===r.type?E(r):E(r.start)+\" TO \"+E(r.end),\"INTERVAL \"+t+\" \"+e+\" \"+n}export{i as combine,N as convertIntervalToSql,w as isSingleField,f as makeDateString,d as makeToday,p as predictType,c as reformulateWithoutField,y as scanForField,s as toWhereClause,o as toWhereClauseFromTree,l as translateFunctionToDatabaseSpecific};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}