{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { unwrapOr as t, isNone as e, isSome as n } from \"../../../../core/maybe.js\";\nimport { getMetersPerUnit as s, supportsUnit as i } from \"../../../../symbols/support/unitConversionUtils.js\";\nimport { execute as r, clone as o, setContextFeature as f, createFeature as u } from \"./featureExpressionInfoUtils.js\";\n\nclass h {\n  constructor() {\n    this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._unit = \"meters\", this._metersPerElevationInfoUnit = 1, this._featureExpressionInfoContext = null, this.centerPointInElevationSR = null, this.mode = null;\n  }\n\n  get featureExpressionInfoContext() {\n    return this._featureExpressionInfoContext;\n  }\n\n  get meterUnitOffset() {\n    return this._meterUnitOffset;\n  }\n\n  get unit() {\n    return this._unit;\n  }\n\n  set unit(t) {\n    this._unit = t, this._metersPerElevationInfoUnit = s(t);\n  }\n\n  get requiresSampledElevationInfo() {\n    return \"absolute-height\" !== this.mode;\n  }\n\n  reset() {\n    this.mode = null, this._meterUnitOffset = 0, this._renderUnitOffset = 0, this._featureExpressionInfoContext = null, this.unit = \"meters\";\n  }\n\n  set offsetMeters(t) {\n    this._meterUnitOffset = t, this._renderUnitOffset = 0;\n  }\n\n  set offsetElevationInfoUnits(t) {\n    this._meterUnitOffset = t * this._metersPerElevationInfoUnit, this._renderUnitOffset = 0;\n  }\n\n  addOffsetRenderUnits(t) {\n    this._renderUnitOffset += t;\n  }\n\n  geometryZWithOffset(t, e) {\n    const n = this.calculateOffsetRenderUnits(e);\n    return null != this.featureExpressionInfoContext ? n : t + n;\n  }\n\n  calculateOffsetRenderUnits(t) {\n    let e = this._meterUnitOffset;\n    const n = this.featureExpressionInfoContext;\n    return null != n && (e += r(n) * this._metersPerElevationInfoUnit), e / t.unitInMeters + this._renderUnitOffset;\n  }\n\n  setFromElevationInfo(e) {\n    this.mode = e.mode, this.unit = i(e.unit) ? e.unit : \"meters\", this.offsetElevationInfoUnits = t(e.offset, 0);\n  }\n\n  updateFeatureExpressionInfoContext(t, s, i) {\n    if (e(t)) return void (this._featureExpressionInfoContext = null);\n    const r = t && t.arcade;\n    r && n(s) && n(i) ? (this._featureExpressionInfoContext = o(t), f(this._featureExpressionInfoContext, u(r.modules, s, i))) : this._featureExpressionInfoContext = t;\n  }\n\n  static fromElevationInfo(t) {\n    const e = new h();\n    return n(t) && e.setFromElevationInfo(t), e;\n  }\n\n}\n\nexport { h as ElevationContext };","map":{"version":3,"names":["unwrapOr","t","isNone","e","isSome","n","getMetersPerUnit","s","supportsUnit","i","execute","r","clone","o","setContextFeature","f","createFeature","u","h","constructor","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","mode","featureExpressionInfoContext","meterUnitOffset","unit","requiresSampledElevationInfo","reset","offsetMeters","offsetElevationInfoUnits","addOffsetRenderUnits","geometryZWithOffset","calculateOffsetRenderUnits","unitInMeters","setFromElevationInfo","offset","updateFeatureExpressionInfoContext","arcade","modules","fromElevationInfo","ElevationContext"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}