{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../chunks/tslib.es6.js\";\nimport t from \"./Accessor.js\";\nimport { isSome as o, isNone as e, abortMaybe as s, removeMaybe as n } from \"./maybe.js\";\nimport { eachAlways as i, throwIfAbortError as l, onAbort as u } from \"./promiseUtils.js\";\nimport { property as a } from \"./accessorSupport/decorators/property.js\";\nimport \"./arrayUtils.js\";\nimport \"./accessorSupport/ensureType.js\";\nimport { subclass as p } from \"./accessorSupport/decorators/subclass.js\";\n\nfunction c(r, t, o) {\n  return i(r.map((r, e) => t.apply(o, [r, e])));\n}\n\nasync function h(r, t, o) {\n  return (await i(r.map((r, e) => t.apply(o, [r, e])))).map(r => r.value);\n}\n\nfunction m(r) {\n  return {\n    ok: !0,\n    value: r\n  };\n}\n\nfunction f(r) {\n  return {\n    ok: !1,\n    error: r\n  };\n}\n\nfunction _(r) {\n  return o(r) && !0 === r.ok ? r.value : null;\n}\n\nfunction y(r) {\n  return o(r) && !1 === r.ok ? r.error : null;\n}\n\nasync function b(r) {\n  if (e(r)) return {\n    ok: !1,\n    error: new Error(\"no promise provided\")\n  };\n\n  try {\n    return m(await r);\n  } catch (t) {\n    return f(t);\n  }\n}\n\nasync function d(r) {\n  try {\n    return m(await r);\n  } catch (t) {\n    return l(t), f(t);\n  }\n}\n\nfunction v(r) {\n  if (!0 === r.ok) return r.value;\n  throw r.error;\n}\n\nfunction j(r, t) {\n  return new k(r, t);\n}\n\nlet k = class extends t {\n  constructor(r, t) {\n    super({}), this._result = null, this._abortHandle = null, this.abort = () => {\n      this._abortController = s(this._abortController);\n    }, this.remove = this.abort, this._abortController = new AbortController();\n    const {\n      signal: o\n    } = this._abortController;\n    this.promise = r(o), this.promise.then(r => {\n      this._result = m(r), this._cleanup();\n    }, r => {\n      this._result = f(r), this._cleanup();\n    }), this._abortHandle = u(t, this.abort);\n  }\n\n  get value() {\n    return _(this._result);\n  }\n\n  get error() {\n    return y(this._result);\n  }\n\n  get finished() {\n    return o(this._result);\n  }\n\n  normalizeCtorArgs() {\n    return {};\n  }\n\n  destroy() {\n    this.abort();\n  }\n\n  _cleanup() {\n    this._abortHandle = n(this._abortHandle), this._abortController = null;\n  }\n\n};\nr([a()], k.prototype, \"value\", null), r([a()], k.prototype, \"error\", null), r([a()], k.prototype, \"finished\", null), r([a()], k.prototype, \"promise\", void 0), r([a()], k.prototype, \"_result\", void 0), k = r([p(\"esri.core.asyncUtils.ReactiveTask\")], k);\nexport { v as assertResult, j as createTask, c as forEach, f as makeResultError, m as makeResultOk, h as map, b as result, y as resultError, d as resultOrAbort, _ as resultValue };","map":{"version":3,"names":["_","r","t","isSome","o","isNone","e","abortMaybe","s","removeMaybe","n","eachAlways","i","throwIfAbortError","l","onAbort","u","property","a","subclass","p","c","map","apply","h","value","m","ok","f","error","y","b","Error","d","v","j","k","constructor","_result","_abortHandle","abort","_abortController","remove","AbortController","signal","promise","then","_cleanup","finished","normalizeCtorArgs","destroy","prototype","assertResult","createTask","forEach","makeResultError","makeResultOk","result","resultError","resultOrAbort","resultValue"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/core/asyncUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{isSome as o,isNone as e,abortMaybe as s,removeMaybe as n}from\"./maybe.js\";import{eachAlways as i,throwIfAbortError as l,onAbort as u}from\"./promiseUtils.js\";import{property as a}from\"./accessorSupport/decorators/property.js\";import\"./arrayUtils.js\";import\"./accessorSupport/ensureType.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";function c(r,t,o){return i(r.map(((r,e)=>t.apply(o,[r,e]))))}async function h(r,t,o){return(await i(r.map(((r,e)=>t.apply(o,[r,e]))))).map((r=>r.value))}function m(r){return{ok:!0,value:r}}function f(r){return{ok:!1,error:r}}function _(r){return o(r)&&!0===r.ok?r.value:null}function y(r){return o(r)&&!1===r.ok?r.error:null}async function b(r){if(e(r))return{ok:!1,error:new Error(\"no promise provided\")};try{return m(await r)}catch(t){return f(t)}}async function d(r){try{return m(await r)}catch(t){return l(t),f(t)}}function v(r){if(!0===r.ok)return r.value;throw r.error}function j(r,t){return new k(r,t)}let k=class extends t{constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=s(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:o}=this._abortController;this.promise=r(o),this.promise.then((r=>{this._result=m(r),this._cleanup()}),(r=>{this._result=f(r),this._cleanup()})),this._abortHandle=u(t,this.abort)}get value(){return _(this._result)}get error(){return y(this._result)}get finished(){return o(this._result)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=n(this._abortHandle),this._abortController=null}};r([a()],k.prototype,\"value\",null),r([a()],k.prototype,\"error\",null),r([a()],k.prototype,\"finished\",null),r([a()],k.prototype,\"promise\",void 0),r([a()],k.prototype,\"_result\",void 0),k=r([p(\"esri.core.asyncUtils.ReactiveTask\")],k);export{v as assertResult,j as createTask,c as forEach,f as makeResultError,m as makeResultOk,h as map,b as result,y as resultError,d as resultOrAbort,_ as resultValue};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}