{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../core/Collection.js\";\nimport s from \"../../../core/Logger.js\";\nimport { getOrCreateMapValue as r } from \"../../../core/MapUtils.js\";\nimport { isSome as i, isNone as o } from \"../../../core/maybe.js\";\nimport { isAbortError as l } from \"../../../core/promiseUtils.js\";\nimport { on as n } from \"../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as m } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as c } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { ringsContainsCoords as h } from \"../../../geometry/support/contains.js\";\nimport { MediaElementView as u } from \"../../../layers/support/mediaUtils.js\";\nimport \"../tiling/PagedTileQueue.js\";\nimport \"../tiling/TileInfoView.js\";\nimport \"../tiling/TileKey.js\";\nimport p from \"../tiling/TileQueue.js\";\nimport d from \"../tiling/TileStrategy.js\";\nimport y from \"../engine/webgl/Overlay.js\";\nimport f from \"../engine/webgl/OverlayContainer.js\";\nimport { LayerView2DMixin as _ } from \"./LayerView2D.js\";\nimport g from \"../../layers/LayerView.js\";\nimport v from \"../../../geometry/Extent.js\";\nlet j = class extends _(g) {\n  constructor() {\n    super(...arguments), this._overlayContainer = null, this._fetchQueue = null, this._tileStrategy = null, this._elementReferences = new Map(), this.layer = null, this.elements = new t();\n  }\n\n  attach() {\n    this.handles.add(n(() => this.layer.source, \"refresh\", () => {\n      for (const e of this._tileStrategy.tiles) this._updateTile(e);\n\n      this.requestUpdate();\n    })), this._overlayContainer = new f(), this.container.addChild(this._overlayContainer), this._fetchQueue = new p({\n      tileInfoView: this.view.featuresTilingScheme,\n      concurrency: 10,\n      process: (e, t) => this._queryElements(e, t)\n    }), this._tileStrategy = new d({\n      cachePolicy: \"purge\",\n      resampling: !0,\n      acquireTile: e => this._acquireTile(e),\n      releaseTile: e => this._releaseTile(e),\n      tileInfoView: this.view.featuresTilingScheme\n    }), this.requestUpdate();\n  }\n\n  detach() {\n    this.handles.removeAll(), this.elements.removeAll(), this._tileStrategy.destroy(), this._fetchQueue.destroy(), this._overlayContainer.removeAllChildren(), this.container.removeAllChildren(), this._elementReferences.clear();\n  }\n\n  supportsSpatialReference(e) {\n    return !0;\n  }\n\n  moveStart() {\n    this.requestUpdate();\n  }\n\n  viewChange() {\n    this.requestUpdate();\n  }\n\n  moveEnd() {\n    this.requestUpdate();\n  }\n\n  update(e) {\n    this._tileStrategy.update(e);\n  }\n\n  async hitTest(e, t) {\n    const s = [],\n          r = e.normalize(),\n          o = [r.x, r.y];\n\n    for (const {\n      projectedElement: {\n        normalizedCoords: l,\n        element: n\n      }\n    } of this._elementReferences.values()) i(l) && h(l.rings, o) && s.push({\n      type: \"media\",\n      element: n,\n      layer: this.layer,\n      mapPoint: e\n    });\n\n    return s.reverse();\n  }\n\n  canResume() {\n    return null != this.layer.source && super.canResume();\n  }\n\n  async doRefresh() {}\n\n  _acquireTile(e) {\n    const t = new T(e.clone());\n    return this._updateTile(t), t;\n  }\n\n  _updateTile(e) {\n    this.updatingHandles.addPromise(this._fetchQueue.push(e.key).then(t => {\n      const [s, r] = e.setElements(t);\n      this._acquireElements(e, s), this._releaseElements(e, r), this.requestUpdate();\n    }, e => {\n      l(e) || s.getLogger(this.declaredClass).error(e);\n    }));\n  }\n\n  _releaseTile(e) {\n    this._fetchQueue.abort(e.key.id), e.elements && this._releaseElements(e, e.elements), this.requestUpdate();\n  }\n\n  async _queryElements(e, t) {\n    const s = this.layer.source;\n    if (o(s)) return [];\n    this.view.featuresTilingScheme.getTileBounds(w, e, !0);\n    const r = new v({\n      xmin: w[0],\n      ymin: w[1],\n      xmax: w[2],\n      ymax: w[3],\n      spatialReference: this.view.spatialReference\n    });\n    return s.queryElements(r, t);\n  }\n\n  _acquireElements(e, t) {\n    const s = this.layer.source,\n          i = this.view.spatialReference;\n    if (!o(s)) for (const o of t) {\n      r(this._elementReferences, o.uid, () => {\n        const e = new u({\n          element: o,\n          spatialReference: i\n        }),\n              t = new y(e);\n        return this._overlayContainer.addChild(t), this.elements.add(o), {\n          tiles: new Set(),\n          projectedElement: e,\n          overlay: t\n        };\n      }).tiles.add(e);\n    }\n  }\n\n  _releaseElements(e, t) {\n    for (const s of t) {\n      const t = this._elementReferences.get(s.uid);\n\n      t.tiles.delete(e), t.tiles.size || (this._overlayContainer.removeChild(t.overlay), t.overlay.destroy(), t.projectedElement.destroy(), this._elementReferences.delete(s.uid), this.elements.remove(s));\n    }\n  }\n\n};\ne([a()], j.prototype, \"_fetchQueue\", void 0), e([a()], j.prototype, \"layer\", void 0), e([a({\n  readOnly: !0\n})], j.prototype, \"elements\", void 0), j = e([m(\"esri.views.2d.layers.MediaLayerView2D\")], j);\nconst w = c();\n\nclass T {\n  constructor(e) {\n    this.key = e, this.elements = null, this.isReady = !1, this.visible = !0;\n  }\n\n  setElements(e) {\n    const t = [],\n          s = new Set(this.elements);\n    this.elements = e;\n\n    for (const r of e) s.has(r) ? s.delete(r) : t.push(r);\n\n    return this.isReady = !0, [t, Array.from(s)];\n  }\n\n}\n\nconst R = j;\nexport { R as default };","map":{"version":3,"names":["_","e","t","s","getOrCreateMapValue","r","isSome","i","isNone","o","isAbortError","l","on","n","property","a","subclass","m","create","c","ringsContainsCoords","h","MediaElementView","u","p","d","y","f","LayerView2DMixin","g","v","j","constructor","arguments","_overlayContainer","_fetchQueue","_tileStrategy","_elementReferences","Map","layer","elements","attach","handles","add","source","tiles","_updateTile","requestUpdate","container","addChild","tileInfoView","view","featuresTilingScheme","concurrency","process","_queryElements","cachePolicy","resampling","acquireTile","_acquireTile","releaseTile","_releaseTile","detach","removeAll","destroy","removeAllChildren","clear","supportsSpatialReference","moveStart","viewChange","moveEnd","update","hitTest","normalize","x","projectedElement","normalizedCoords","element","values","rings","push","type","mapPoint","reverse","canResume","doRefresh","T","clone","updatingHandles","addPromise","key","then","setElements","_acquireElements","_releaseElements","getLogger","declaredClass","error","abort","id","getTileBounds","w","xmin","ymin","xmax","ymax","spatialReference","queryElements","uid","Set","overlay","get","delete","size","removeChild","remove","prototype","readOnly","isReady","visible","has","Array","from","R","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/layers/MediaLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../../core/MapUtils.js\";import{isSome as i,isNone as o}from\"../../../core/maybe.js\";import{isAbortError as l}from\"../../../core/promiseUtils.js\";import{on as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../geometry/support/aaBoundingRect.js\";import{ringsContainsCoords as h}from\"../../../geometry/support/contains.js\";import{MediaElementView as u}from\"../../../layers/support/mediaUtils.js\";import\"../tiling/PagedTileQueue.js\";import\"../tiling/TileInfoView.js\";import\"../tiling/TileKey.js\";import p from\"../tiling/TileQueue.js\";import d from\"../tiling/TileStrategy.js\";import y from\"../engine/webgl/Overlay.js\";import f from\"../engine/webgl/OverlayContainer.js\";import{LayerView2DMixin as _}from\"./LayerView2D.js\";import g from\"../../layers/LayerView.js\";import v from\"../../../geometry/Extent.js\";let j=class extends(_(g)){constructor(){super(...arguments),this._overlayContainer=null,this._fetchQueue=null,this._tileStrategy=null,this._elementReferences=new Map,this.layer=null,this.elements=new t}attach(){this.handles.add(n((()=>this.layer.source),\"refresh\",(()=>{for(const e of this._tileStrategy.tiles)this._updateTile(e);this.requestUpdate()}))),this._overlayContainer=new f,this.container.addChild(this._overlayContainer),this._fetchQueue=new p({tileInfoView:this.view.featuresTilingScheme,concurrency:10,process:(e,t)=>this._queryElements(e,t)}),this._tileStrategy=new d({cachePolicy:\"purge\",resampling:!0,acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme}),this.requestUpdate()}detach(){this.handles.removeAll(),this.elements.removeAll(),this._tileStrategy.destroy(),this._fetchQueue.destroy(),this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this._elementReferences.clear()}supportsSpatialReference(e){return!0}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}update(e){this._tileStrategy.update(e)}async hitTest(e,t){const s=[],r=e.normalize(),o=[r.x,r.y];for(const{projectedElement:{normalizedCoords:l,element:n}}of this._elementReferences.values())i(l)&&h(l.rings,o)&&s.push({type:\"media\",element:n,layer:this.layer,mapPoint:e});return s.reverse()}canResume(){return null!=this.layer.source&&super.canResume()}async doRefresh(){}_acquireTile(e){const t=new T(e.clone());return this._updateTile(t),t}_updateTile(e){this.updatingHandles.addPromise(this._fetchQueue.push(e.key).then((t=>{const[s,r]=e.setElements(t);this._acquireElements(e,s),this._releaseElements(e,r),this.requestUpdate()}),(e=>{l(e)||s.getLogger(this.declaredClass).error(e)})))}_releaseTile(e){this._fetchQueue.abort(e.key.id),e.elements&&this._releaseElements(e,e.elements),this.requestUpdate()}async _queryElements(e,t){const s=this.layer.source;if(o(s))return[];this.view.featuresTilingScheme.getTileBounds(w,e,!0);const r=new v({xmin:w[0],ymin:w[1],xmax:w[2],ymax:w[3],spatialReference:this.view.spatialReference});return s.queryElements(r,t)}_acquireElements(e,t){const s=this.layer.source,i=this.view.spatialReference;if(!o(s))for(const o of t){r(this._elementReferences,o.uid,(()=>{const e=new u({element:o,spatialReference:i}),t=new y(e);return this._overlayContainer.addChild(t),this.elements.add(o),{tiles:new Set,projectedElement:e,overlay:t}})).tiles.add(e)}}_releaseElements(e,t){for(const s of t){const t=this._elementReferences.get(s.uid);t.tiles.delete(e),t.tiles.size||(this._overlayContainer.removeChild(t.overlay),t.overlay.destroy(),t.projectedElement.destroy(),this._elementReferences.delete(s.uid),this.elements.remove(s))}}};e([a()],j.prototype,\"_fetchQueue\",void 0),e([a()],j.prototype,\"layer\",void 0),e([a({readOnly:!0})],j.prototype,\"elements\",void 0),j=e([m(\"esri.views.2d.layers.MediaLayerView2D\")],j);const w=c();class T{constructor(e){this.key=e,this.elements=null,this.isReady=!1,this.visible=!0}setElements(e){const t=[],s=new Set(this.elements);this.elements=e;for(const r of e)s.has(r)?s.delete(r):t.push(r);return this.isReady=!0,[t,Array.from(s)]}}const R=j;export{R as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}