{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { ArcadeExecutionError as e, ExecutionErrorCodes as n } from \"../executionError.js\";\nimport { shapeExtent as t } from \"../kernel.js\";\nimport { G as r, y as i, j as a, T as s } from \"../../chunks/languageUtils.js\";\nimport u from \"../featureset/actions/SpatialFilter.js\";\nimport o from \"../featureset/sources/Empty.js\";\nimport l from \"../../geometry/Geometry.js\";\nimport { relate as c, crosses as f, touches as p, within as m, overlaps as d, contains as w, intersects as y } from \"../../geometry/geometryEngineAsync.js\";\n\nfunction h(e) {\n  return e instanceof l;\n}\n\nfunction S(i, a, c, S) {\n  return S(i, a, async (S, R, v) => {\n    if (v.length < 2) throw new e(i, n.WrongNumberOfParameters, a);\n    if (null === (v = r(v))[0] && null === v[1]) return !1;\n\n    if (s(v[0])) {\n      if (v[1] instanceof l) return new u({\n        parentfeatureset: v[0],\n        relation: c,\n        relationGeom: v[1]\n      });\n      if (null === v[1]) return new o({\n        parentfeatureset: v[0]\n      });\n      throw new e(i, n.InvalidParameter, a);\n    }\n\n    if (h(v[0])) {\n      if (h(v[1])) {\n        switch (c) {\n          case \"esriSpatialRelEnvelopeIntersects\":\n            return y(t(v[0]), t(v[1]));\n\n          case \"esriSpatialRelIntersects\":\n            return y(v[0], v[1]);\n\n          case \"esriSpatialRelContains\":\n            return w(v[0], v[1]);\n\n          case \"esriSpatialRelOverlaps\":\n            return d(v[0], v[1]);\n\n          case \"esriSpatialRelWithin\":\n            return m(v[0], v[1]);\n\n          case \"esriSpatialRelTouches\":\n            return p(v[0], v[1]);\n\n          case \"esriSpatialRelCrosses\":\n            return f(v[0], v[1]);\n        }\n\n        throw new e(i, n.InvalidParameter, a);\n      }\n\n      if (s(v[1])) return new u({\n        parentfeatureset: v[1],\n        relation: c,\n        relationGeom: v[0]\n      });\n      if (null === v[1]) return !1;\n      throw new e(i, n.InvalidParameter, a);\n    }\n\n    if (null !== v[0]) throw new e(i, n.InvalidParameter, a);\n    return s(v[1]) ? new o({\n      parentfeatureset: v[1]\n    }) : !(v[1] instanceof l || null === v[1]) && void 0;\n  });\n}\n\nfunction R(t) {\n  \"async\" === t.mode && (t.functions.intersects = function (e, n) {\n    return S(e, n, \"esriSpatialRelIntersects\", t.standardFunctionAsync);\n  }, t.functions.envelopeintersects = function (e, n) {\n    return S(e, n, \"esriSpatialRelEnvelopeIntersects\", t.standardFunctionAsync);\n  }, t.signatures.push({\n    name: \"envelopeintersects\",\n    min: 2,\n    max: 2\n  }), t.functions.contains = function (e, n) {\n    return S(e, n, \"esriSpatialRelContains\", t.standardFunctionAsync);\n  }, t.functions.overlaps = function (e, n) {\n    return S(e, n, \"esriSpatialRelOverlaps\", t.standardFunctionAsync);\n  }, t.functions.within = function (e, n) {\n    return S(e, n, \"esriSpatialRelWithin\", t.standardFunctionAsync);\n  }, t.functions.touches = function (e, n) {\n    return S(e, n, \"esriSpatialRelTouches\", t.standardFunctionAsync);\n  }, t.functions.crosses = function (e, n) {\n    return S(e, n, \"esriSpatialRelCrosses\", t.standardFunctionAsync);\n  }, t.functions.relate = function (u, f) {\n    return t.standardFunctionAsync(u, f, (t, p, m) => {\n      if (m = r(m), i(m, 3, 3, u, f), h(m[0]) && h(m[1])) return c(m[0], m[1], a(m[2]));\n      if (m[0] instanceof l && null === m[1]) return !1;\n      if (m[1] instanceof l && null === m[0]) return !1;\n      if (s(m[0]) && null === m[1]) return new o({\n        parentfeatureset: m[0]\n      });\n      if (s(m[1]) && null === m[0]) return new o({\n        parentfeatureset: m[1]\n      });\n      if (s(m[0]) && m[1] instanceof l) return m[0].relate(m[1], a(m[2]));\n      if (s(m[1]) && m[0] instanceof l) return m[1].relate(m[0], a(m[2]));\n      if (null === m[0] && null === m[1]) return !1;\n      throw new e(u, n.InvalidParameter, f);\n    });\n  });\n}\n\nexport { R as registerFunctions };","map":{"version":3,"names":["ArcadeExecutionError","e","ExecutionErrorCodes","n","shapeExtent","t","G","r","y","i","j","a","T","s","u","o","l","relate","c","crosses","f","touches","p","within","m","overlaps","d","contains","w","intersects","h","S","R","v","length","WrongNumberOfParameters","parentfeatureset","relation","relationGeom","InvalidParameter","mode","functions","standardFunctionAsync","envelopeintersects","signatures","push","name","min","max","registerFunctions"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e,ExecutionErrorCodes as n}from\"../executionError.js\";import{shapeExtent as t}from\"../kernel.js\";import{G as r,y as i,j as a,T as s}from\"../../chunks/languageUtils.js\";import u from\"../featureset/actions/SpatialFilter.js\";import o from\"../featureset/sources/Empty.js\";import l from\"../../geometry/Geometry.js\";import{relate as c,crosses as f,touches as p,within as m,overlaps as d,contains as w,intersects as y}from\"../../geometry/geometryEngineAsync.js\";function h(e){return e instanceof l}function S(i,a,c,S){return S(i,a,(async(S,R,v)=>{if(v.length<2)throw new e(i,n.WrongNumberOfParameters,a);if(null===(v=r(v))[0]&&null===v[1])return!1;if(s(v[0])){if(v[1]instanceof l)return new u({parentfeatureset:v[0],relation:c,relationGeom:v[1]});if(null===v[1])return new o({parentfeatureset:v[0]});throw new e(i,n.InvalidParameter,a)}if(h(v[0])){if(h(v[1])){switch(c){case\"esriSpatialRelEnvelopeIntersects\":return y(t(v[0]),t(v[1]));case\"esriSpatialRelIntersects\":return y(v[0],v[1]);case\"esriSpatialRelContains\":return w(v[0],v[1]);case\"esriSpatialRelOverlaps\":return d(v[0],v[1]);case\"esriSpatialRelWithin\":return m(v[0],v[1]);case\"esriSpatialRelTouches\":return p(v[0],v[1]);case\"esriSpatialRelCrosses\":return f(v[0],v[1])}throw new e(i,n.InvalidParameter,a)}if(s(v[1]))return new u({parentfeatureset:v[1],relation:c,relationGeom:v[0]});if(null===v[1])return!1;throw new e(i,n.InvalidParameter,a)}if(null!==v[0])throw new e(i,n.InvalidParameter,a);return s(v[1])?new o({parentfeatureset:v[1]}):!(v[1]instanceof l||null===v[1])&&void 0}))}function R(t){\"async\"===t.mode&&(t.functions.intersects=function(e,n){return S(e,n,\"esriSpatialRelIntersects\",t.standardFunctionAsync)},t.functions.envelopeintersects=function(e,n){return S(e,n,\"esriSpatialRelEnvelopeIntersects\",t.standardFunctionAsync)},t.signatures.push({name:\"envelopeintersects\",min:2,max:2}),t.functions.contains=function(e,n){return S(e,n,\"esriSpatialRelContains\",t.standardFunctionAsync)},t.functions.overlaps=function(e,n){return S(e,n,\"esriSpatialRelOverlaps\",t.standardFunctionAsync)},t.functions.within=function(e,n){return S(e,n,\"esriSpatialRelWithin\",t.standardFunctionAsync)},t.functions.touches=function(e,n){return S(e,n,\"esriSpatialRelTouches\",t.standardFunctionAsync)},t.functions.crosses=function(e,n){return S(e,n,\"esriSpatialRelCrosses\",t.standardFunctionAsync)},t.functions.relate=function(u,f){return t.standardFunctionAsync(u,f,((t,p,m)=>{if(m=r(m),i(m,3,3,u,f),h(m[0])&&h(m[1]))return c(m[0],m[1],a(m[2]));if(m[0]instanceof l&&null===m[1])return!1;if(m[1]instanceof l&&null===m[0])return!1;if(s(m[0])&&null===m[1])return new o({parentfeatureset:m[0]});if(s(m[1])&&null===m[0])return new o({parentfeatureset:m[1]});if(s(m[0])&&m[1]instanceof l)return m[0].relate(m[1],a(m[2]));if(s(m[1])&&m[0]instanceof l)return m[1].relate(m[0],a(m[2]));if(null===m[0]&&null===m[1])return!1;throw new e(u,n.InvalidParameter,f)}))})}export{R as registerFunctions};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}