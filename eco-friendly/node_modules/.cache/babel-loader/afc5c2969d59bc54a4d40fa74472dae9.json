{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e, isNone as t, disposeMaybe as s } from \"../../../../core/maybe.js\";\nimport { brushes as r } from \"../brushes.js\";\nimport i from \"../vectorTiles/shaders/VTLMaterialManager.js\";\nimport { BitBlitRenderer as n } from \"./BitBlitRenderer.js\";\nimport { WGLDrawPhase as o, WGLGeometryType as a, WGLSymbologyType as h } from \"./enums.js\";\nimport l from \"./MaterialManager.js\";\nimport f from \"./TextureManager.js\";\nimport { WorldExtentClipRenderer as c } from \"./WorldExtentClipRenderer.js\";\nimport { AnimationEffect as _ } from \"./effects/AnimationEffect.js\";\nimport { BlendEffect as d } from \"./effects/BlendEffect.js\";\nimport { FeatureEffect as E } from \"./effects/FeatureEffect.js\";\nimport b from \"./effects/HighlightEffect.js\";\nimport { HittestEffect as u } from \"./effects/HittestEffect.js\";\nimport { HittestEffectVTL as p } from \"./effects/HittestEffectVTL.js\";\nimport { EffectManager as g } from \"./effects/post-processing/EffectManager.js\";\nimport T from \"./painter/RenderPass.js\";\nimport { TextureType as m, PixelFormat as C, PixelType as M, TextureSamplingMode as R, TextureWrapMode as F, TargetType as w, DepthStencilTargetType as B, RenderbufferFormat as S, BlendFactor as O, CompareFunction as P } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as x } from \"../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as L } from \"../../../webgl/Renderbuffer.js\";\n\nfunction N(e, t) {\n  switch (e) {\n    case a.LINE:\n      return r.line;\n\n    case a.TEXT:\n      return r.text;\n\n    case a.LABEL:\n      return r.label;\n\n    case a.FILL:\n      return t === h.DOT_DENSITY ? r.dotDensity : r.fill;\n\n    case a.MARKER:\n      switch (t) {\n        case h.HEATMAP:\n          return r.heatmap;\n\n        case h.PIE_CHART:\n          return r.pieChart;\n\n        default:\n          return r.marker;\n      }\n\n  }\n}\n\nclass D {\n  constructor(e, t, s) {\n    this.context = e, this._blitRenderer = new n(), this._worldExtentClipRenderer = new c(), this._isClippedToWorldExtent = !1, this._brushCache = new Map(), this._vtlMaterialManager = new i(), this._blendEffect = new d(), this._fboPool = [], this.effects = {\n      highlight: new b(),\n      hittest: new u(),\n      hittestVTL: new p(),\n      integrate: new _(),\n      insideEffect: new E(\"inside\"),\n      outsideEffect: new E(\"outside\")\n    }, this.materialManager = new l(e), this.textureManager = new f(t, s), this._effectsManager = new g();\n  }\n\n  get vectorTilesMaterialManager() {\n    return this._vtlMaterialManager;\n  }\n\n  getRenderTarget() {\n    return this._renderTarget;\n  }\n\n  setRenderTarget(e) {\n    this._renderTarget = e;\n  }\n\n  getFbos(e, t) {\n    if (e !== this._lastWidth || t !== this._lastHeight) {\n      if (this._lastWidth = e, this._lastHeight = t, this._fbos) {\n        for (const s in this._fbos) this._fbos[s].resize(e, t);\n\n        return this._fbos;\n      }\n\n      const s = {\n        target: m.TEXTURE_2D,\n        pixelFormat: C.RGBA,\n        dataType: M.UNSIGNED_BYTE,\n        samplingMode: R.NEAREST,\n        wrapMode: F.CLAMP_TO_EDGE,\n        width: e,\n        height: t\n      },\n            r = {\n        colorTarget: w.TEXTURE,\n        depthStencilTarget: B.DEPTH_STENCIL_RENDER_BUFFER\n      },\n            i = new L(this.context, {\n        width: e,\n        height: t,\n        internalFormat: S.DEPTH_STENCIL\n      });\n      this._stencilBuf = i, this._fbos = {\n        output: new x(this.context, r, s, i),\n        blend: new x(this.context, r, s, i),\n        effect0: new x(this.context, r, s, i)\n      };\n    }\n\n    return this._fbos;\n  }\n\n  acquireFbo(e, t) {\n    let s;\n    s = this._fboPool.length > 0 ? this._fboPool.pop() : new x(this.context, {\n      colorTarget: w.TEXTURE,\n      depthStencilTarget: B.DEPTH_STENCIL_RENDER_BUFFER\n    }, {\n      target: m.TEXTURE_2D,\n      pixelFormat: C.RGBA,\n      dataType: M.UNSIGNED_BYTE,\n      samplingMode: R.NEAREST,\n      wrapMode: F.CLAMP_TO_EDGE,\n      width: e,\n      height: t\n    }, this._stencilBuf);\n    const r = s.descriptor;\n    return r.width === e && r.height === t || s.resize(e, t), s;\n  }\n\n  releaseFbo(e) {\n    this._fboPool.push(e);\n  }\n\n  getSharedStencilBuffer() {\n    return this._stencilBuf;\n  }\n\n  beforeRenderLayers(t, s = null) {\n    const {\n      width: r,\n      height: i\n    } = t.getViewport();\n    this._prevFBO = t.getBoundFramebufferObject();\n    const n = this.getFbos(r, i);\n\n    if (t.bindFramebuffer(n.output), t.setColorMask(!0, !0, !0, !0), e(s)) {\n      const {\n        r: e,\n        g: r,\n        b: i,\n        a: n\n      } = s.color;\n      t.setClearColor(n * e / 255, n * r / 255, n * i / 255, n);\n    } else t.setClearColor(0, 0, 0, 0);\n\n    t.setDepthWriteEnabled(!0), t.setClearDepth(1), t.clear(t.gl.COLOR_BUFFER_BIT | t.gl.DEPTH_BUFFER_BIT), t.setDepthWriteEnabled(!1);\n  }\n\n  beforeRenderLayer(e, t, s) {\n    const {\n      context: r,\n      blendMode: i,\n      effects: n,\n      requireFBO: o,\n      drawPhase: a\n    } = e;\n    if (o || I(a, i, n, s)) r.bindFramebuffer(this._fbos.blend), r.setColorMask(!0, !0, !0, !0), r.setClearColor(0, 0, 0, 0), r.setDepthWriteEnabled(!0), r.setClearDepth(1), r.clear(r.gl.COLOR_BUFFER_BIT | r.gl.DEPTH_BUFFER_BIT), r.setDepthWriteEnabled(!1);else {\n      const e = this._getOutputFBO();\n\n      r.bindFramebuffer(e);\n    }\n    r.setDepthWriteEnabled(!1), r.setDepthTestEnabled(!1), r.setStencilTestEnabled(!0), r.setClearStencil(t), r.setStencilWriteMask(255), r.clear(r.gl.STENCIL_BUFFER_BIT);\n  }\n\n  compositeLayer(s, r) {\n    const {\n      context: i,\n      blendMode: n,\n      effects: a,\n      requireFBO: h,\n      drawPhase: l\n    } = s;\n\n    if (h || I(l, n, a, r)) {\n      e(a) && a.length > 0 && l === o.MAP && this._applyEffects(s, a);\n\n      const h = this._getOutputFBO();\n\n      i.bindFramebuffer(h), i.setStencilTestEnabled(!1), i.setStencilWriteMask(0), i.setBlendingEnabled(!0), i.setBlendFunctionSeparate(O.ONE, O.ONE_MINUS_SRC_ALPHA, O.ONE, O.ONE_MINUS_SRC_ALPHA), i.setColorMask(!0, !0, !0, !0);\n      const f = t(n) || l === o.HIGHLIGHT ? \"normal\" : n;\n\n      this._blendEffect.draw(s, this._fbos.blend.colorTexture, R.NEAREST, f, r);\n    }\n  }\n\n  renderLayers(e) {\n    if (e.bindFramebuffer(this._prevFBO), !this._fbos) return;\n\n    const t = this._getOutputFBO();\n\n    e.setDepthTestEnabled(!1), e.setStencilWriteMask(0), this._isClippedToWorldExtent ? (e.setStencilTestEnabled(!0), e.setStencilFunction(P.EQUAL, 1, 255)) : e.setStencilTestEnabled(!1), this.blitTexture(e, t.colorTexture, R.NEAREST);\n  }\n\n  prepareDisplay(t, s, r) {\n    const {\n      context: i\n    } = t;\n\n    if (i.bindFramebuffer(this._prevFBO), i.setColorMask(!0, !0, !0, !0), e(s)) {\n      const {\n        r: e,\n        g: t,\n        b: r,\n        a: n\n      } = s.color;\n      i.setClearColor(n * e / 255, n * t / 255, n * r / 255, n);\n    } else i.setClearColor(0, 0, 0, 0);\n\n    i.setStencilWriteMask(255), i.setClearStencil(0), i.clear(i.gl.COLOR_BUFFER_BIT | i.gl.STENCIL_BUFFER_BIT), this._isClippedToWorldExtent = this._worldExtentClipRenderer.render(t, r);\n  }\n\n  dispose() {\n    if (this.materialManager.dispose(), this.textureManager.dispose(), this._blitRenderer = s(this._blitRenderer), this._worldExtentClipRenderer = s(this._worldExtentClipRenderer), this._brushCache && (this._brushCache.forEach(e => e.dispose()), this._brushCache.clear(), this._brushCache = null), this._fbos) for (const e in this._fbos) this._fbos[e] && this._fbos[e].dispose();\n\n    for (const e of this._fboPool) e.dispose();\n\n    if (this._fboPool.length = 0, this.effects) for (const e in this.effects) this.effects[e] && this.effects[e].dispose();\n    this._effectsManager.dispose(), this._vtlMaterialManager = s(this._vtlMaterialManager), this._prevFBO = null;\n  }\n\n  getBrush(e, t) {\n    const s = N(e, t);\n\n    let r = this._brushCache.get(s);\n\n    return void 0 === r && (r = new s(), this._brushCache.set(s, r)), this._brushCache.get(s);\n  }\n\n  renderObject(e, t, s, i) {\n    const n = r[s];\n    if (!n) return null;\n\n    let o = this._brushCache.get(n);\n\n    void 0 === o && (o = new n(), this._brushCache.set(n, o)), o.prepareState(e, t, i), o.draw(e, t, i);\n  }\n\n  renderObjects(e, t, s, i) {\n    const n = r[s];\n    if (!n) return null;\n\n    let o = this._brushCache.get(n);\n\n    void 0 === o && (o = new n(), this._brushCache.set(n, o)), o.drawMany(e, t, i);\n  }\n\n  registerRenderPass(e) {\n    const t = e.brushes.map(e => (this._brushCache.has(e) || this._brushCache.set(e, new e()), this._brushCache.get(e)));\n    return new T(t, e);\n  }\n\n  setHighlightOptions(e) {\n    this.effects.highlight.setHighlightOptions(e);\n  }\n\n  blitTexture(e, t, s, r = 1) {\n    e.setBlendingEnabled(!0), e.setBlendFunctionSeparate(O.ONE, O.ONE_MINUS_SRC_ALPHA, O.ONE, O.ONE_MINUS_SRC_ALPHA), e.setColorMask(!0, !0, !0, !0), this._blitRenderer.render(e, t, s, r);\n  }\n\n  getPostProcessingEffects(e) {\n    return this._effectsManager.getPostProcessingEffects(e);\n  }\n\n  _getOutputFBO() {\n    return null != this._renderTarget ? this._renderTarget : this._fbos.output;\n  }\n\n  _applyEffects(e, t) {\n    const {\n      context: s\n    } = e,\n          r = this._effectsManager.getPostProcessingEffects(t);\n\n    for (const {\n      postProcessingEffect: i,\n      effect: n\n    } of r) s.bindFramebuffer(this._fbos.blend), i.draw(e, this._fbos.blend, n);\n  }\n\n}\n\nfunction I(t, s, r, i) {\n  return t !== o.HIGHLIGHT && (1 !== i || e(s) && \"normal\" !== s || e(r) && r.length > 0);\n}\n\nexport { D as default };","map":{"version":3,"names":["isSome","e","isNone","t","disposeMaybe","s","brushes","r","i","BitBlitRenderer","n","WGLDrawPhase","o","WGLGeometryType","a","WGLSymbologyType","h","l","f","WorldExtentClipRenderer","c","AnimationEffect","_","BlendEffect","d","FeatureEffect","E","b","HittestEffect","u","HittestEffectVTL","p","EffectManager","g","T","TextureType","m","PixelFormat","C","PixelType","M","TextureSamplingMode","R","TextureWrapMode","F","TargetType","w","DepthStencilTargetType","B","RenderbufferFormat","S","BlendFactor","O","CompareFunction","P","FramebufferObject","x","Renderbuffer","L","N","LINE","line","TEXT","text","LABEL","label","FILL","DOT_DENSITY","dotDensity","fill","MARKER","HEATMAP","heatmap","PIE_CHART","pieChart","marker","D","constructor","context","_blitRenderer","_worldExtentClipRenderer","_isClippedToWorldExtent","_brushCache","Map","_vtlMaterialManager","_blendEffect","_fboPool","effects","highlight","hittest","hittestVTL","integrate","insideEffect","outsideEffect","materialManager","textureManager","_effectsManager","vectorTilesMaterialManager","getRenderTarget","_renderTarget","setRenderTarget","getFbos","_lastWidth","_lastHeight","_fbos","resize","target","TEXTURE_2D","pixelFormat","RGBA","dataType","UNSIGNED_BYTE","samplingMode","NEAREST","wrapMode","CLAMP_TO_EDGE","width","height","colorTarget","TEXTURE","depthStencilTarget","DEPTH_STENCIL_RENDER_BUFFER","internalFormat","DEPTH_STENCIL","_stencilBuf","output","blend","effect0","acquireFbo","length","pop","descriptor","releaseFbo","push","getSharedStencilBuffer","beforeRenderLayers","getViewport","_prevFBO","getBoundFramebufferObject","bindFramebuffer","setColorMask","color","setClearColor","setDepthWriteEnabled","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","beforeRenderLayer","blendMode","requireFBO","drawPhase","I","_getOutputFBO","setDepthTestEnabled","setStencilTestEnabled","setClearStencil","setStencilWriteMask","STENCIL_BUFFER_BIT","compositeLayer","MAP","_applyEffects","setBlendingEnabled","setBlendFunctionSeparate","ONE","ONE_MINUS_SRC_ALPHA","HIGHLIGHT","draw","colorTexture","renderLayers","setStencilFunction","EQUAL","blitTexture","prepareDisplay","render","dispose","forEach","getBrush","get","set","renderObject","prepareState","renderObjects","drawMany","registerRenderPass","map","has","setHighlightOptions","getPostProcessingEffects","postProcessingEffect","effect","default"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/Painter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,disposeMaybe as s}from\"../../../../core/maybe.js\";import{brushes as r}from\"../brushes.js\";import i from\"../vectorTiles/shaders/VTLMaterialManager.js\";import{BitBlitRenderer as n}from\"./BitBlitRenderer.js\";import{WGLDrawPhase as o,WGLGeometryType as a,WGLSymbologyType as h}from\"./enums.js\";import l from\"./MaterialManager.js\";import f from\"./TextureManager.js\";import{WorldExtentClipRenderer as c}from\"./WorldExtentClipRenderer.js\";import{AnimationEffect as _}from\"./effects/AnimationEffect.js\";import{BlendEffect as d}from\"./effects/BlendEffect.js\";import{FeatureEffect as E}from\"./effects/FeatureEffect.js\";import b from\"./effects/HighlightEffect.js\";import{HittestEffect as u}from\"./effects/HittestEffect.js\";import{HittestEffectVTL as p}from\"./effects/HittestEffectVTL.js\";import{EffectManager as g}from\"./effects/post-processing/EffectManager.js\";import T from\"./painter/RenderPass.js\";import{TextureType as m,PixelFormat as C,PixelType as M,TextureSamplingMode as R,TextureWrapMode as F,TargetType as w,DepthStencilTargetType as B,RenderbufferFormat as S,BlendFactor as O,CompareFunction as P}from\"../../../webgl/enums.js\";import{FramebufferObject as x}from\"../../../webgl/FramebufferObject.js\";import{Renderbuffer as L}from\"../../../webgl/Renderbuffer.js\";function N(e,t){switch(e){case a.LINE:return r.line;case a.TEXT:return r.text;case a.LABEL:return r.label;case a.FILL:return t===h.DOT_DENSITY?r.dotDensity:r.fill;case a.MARKER:switch(t){case h.HEATMAP:return r.heatmap;case h.PIE_CHART:return r.pieChart;default:return r.marker}}}class D{constructor(e,t,s){this.context=e,this._blitRenderer=new n,this._worldExtentClipRenderer=new c,this._isClippedToWorldExtent=!1,this._brushCache=new Map,this._vtlMaterialManager=new i,this._blendEffect=new d,this._fboPool=[],this.effects={highlight:new b,hittest:new u,hittestVTL:new p,integrate:new _,insideEffect:new E(\"inside\"),outsideEffect:new E(\"outside\")},this.materialManager=new l(e),this.textureManager=new f(t,s),this._effectsManager=new g}get vectorTilesMaterialManager(){return this._vtlMaterialManager}getRenderTarget(){return this._renderTarget}setRenderTarget(e){this._renderTarget=e}getFbos(e,t){if(e!==this._lastWidth||t!==this._lastHeight){if(this._lastWidth=e,this._lastHeight=t,this._fbos){for(const s in this._fbos)this._fbos[s].resize(e,t);return this._fbos}const s={target:m.TEXTURE_2D,pixelFormat:C.RGBA,dataType:M.UNSIGNED_BYTE,samplingMode:R.NEAREST,wrapMode:F.CLAMP_TO_EDGE,width:e,height:t},r={colorTarget:w.TEXTURE,depthStencilTarget:B.DEPTH_STENCIL_RENDER_BUFFER},i=new L(this.context,{width:e,height:t,internalFormat:S.DEPTH_STENCIL});this._stencilBuf=i,this._fbos={output:new x(this.context,r,s,i),blend:new x(this.context,r,s,i),effect0:new x(this.context,r,s,i)}}return this._fbos}acquireFbo(e,t){let s;s=this._fboPool.length>0?this._fboPool.pop():new x(this.context,{colorTarget:w.TEXTURE,depthStencilTarget:B.DEPTH_STENCIL_RENDER_BUFFER},{target:m.TEXTURE_2D,pixelFormat:C.RGBA,dataType:M.UNSIGNED_BYTE,samplingMode:R.NEAREST,wrapMode:F.CLAMP_TO_EDGE,width:e,height:t},this._stencilBuf);const r=s.descriptor;return r.width===e&&r.height===t||s.resize(e,t),s}releaseFbo(e){this._fboPool.push(e)}getSharedStencilBuffer(){return this._stencilBuf}beforeRenderLayers(t,s=null){const{width:r,height:i}=t.getViewport();this._prevFBO=t.getBoundFramebufferObject();const n=this.getFbos(r,i);if(t.bindFramebuffer(n.output),t.setColorMask(!0,!0,!0,!0),e(s)){const{r:e,g:r,b:i,a:n}=s.color;t.setClearColor(n*e/255,n*r/255,n*i/255,n)}else t.setClearColor(0,0,0,0);t.setDepthWriteEnabled(!0),t.setClearDepth(1),t.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.setDepthWriteEnabled(!1)}beforeRenderLayer(e,t,s){const{context:r,blendMode:i,effects:n,requireFBO:o,drawPhase:a}=e;if(o||I(a,i,n,s))r.bindFramebuffer(this._fbos.blend),r.setColorMask(!0,!0,!0,!0),r.setClearColor(0,0,0,0),r.setDepthWriteEnabled(!0),r.setClearDepth(1),r.clear(r.gl.COLOR_BUFFER_BIT|r.gl.DEPTH_BUFFER_BIT),r.setDepthWriteEnabled(!1);else{const e=this._getOutputFBO();r.bindFramebuffer(e)}r.setDepthWriteEnabled(!1),r.setDepthTestEnabled(!1),r.setStencilTestEnabled(!0),r.setClearStencil(t),r.setStencilWriteMask(255),r.clear(r.gl.STENCIL_BUFFER_BIT)}compositeLayer(s,r){const{context:i,blendMode:n,effects:a,requireFBO:h,drawPhase:l}=s;if(h||I(l,n,a,r)){e(a)&&a.length>0&&l===o.MAP&&this._applyEffects(s,a);const h=this._getOutputFBO();i.bindFramebuffer(h),i.setStencilTestEnabled(!1),i.setStencilWriteMask(0),i.setBlendingEnabled(!0),i.setBlendFunctionSeparate(O.ONE,O.ONE_MINUS_SRC_ALPHA,O.ONE,O.ONE_MINUS_SRC_ALPHA),i.setColorMask(!0,!0,!0,!0);const f=t(n)||l===o.HIGHLIGHT?\"normal\":n;this._blendEffect.draw(s,this._fbos.blend.colorTexture,R.NEAREST,f,r)}}renderLayers(e){if(e.bindFramebuffer(this._prevFBO),!this._fbos)return;const t=this._getOutputFBO();e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),this._isClippedToWorldExtent?(e.setStencilTestEnabled(!0),e.setStencilFunction(P.EQUAL,1,255)):e.setStencilTestEnabled(!1),this.blitTexture(e,t.colorTexture,R.NEAREST)}prepareDisplay(t,s,r){const{context:i}=t;if(i.bindFramebuffer(this._prevFBO),i.setColorMask(!0,!0,!0,!0),e(s)){const{r:e,g:t,b:r,a:n}=s.color;i.setClearColor(n*e/255,n*t/255,n*r/255,n)}else i.setClearColor(0,0,0,0);i.setStencilWriteMask(255),i.setClearStencil(0),i.clear(i.gl.COLOR_BUFFER_BIT|i.gl.STENCIL_BUFFER_BIT),this._isClippedToWorldExtent=this._worldExtentClipRenderer.render(t,r)}dispose(){if(this.materialManager.dispose(),this.textureManager.dispose(),this._blitRenderer=s(this._blitRenderer),this._worldExtentClipRenderer=s(this._worldExtentClipRenderer),this._brushCache&&(this._brushCache.forEach((e=>e.dispose())),this._brushCache.clear(),this._brushCache=null),this._fbos)for(const e in this._fbos)this._fbos[e]&&this._fbos[e].dispose();for(const e of this._fboPool)e.dispose();if(this._fboPool.length=0,this.effects)for(const e in this.effects)this.effects[e]&&this.effects[e].dispose();this._effectsManager.dispose(),this._vtlMaterialManager=s(this._vtlMaterialManager),this._prevFBO=null}getBrush(e,t){const s=N(e,t);let r=this._brushCache.get(s);return void 0===r&&(r=new s,this._brushCache.set(s,r)),this._brushCache.get(s)}renderObject(e,t,s,i){const n=r[s];if(!n)return null;let o=this._brushCache.get(n);void 0===o&&(o=new n,this._brushCache.set(n,o)),o.prepareState(e,t,i),o.draw(e,t,i)}renderObjects(e,t,s,i){const n=r[s];if(!n)return null;let o=this._brushCache.get(n);void 0===o&&(o=new n,this._brushCache.set(n,o)),o.drawMany(e,t,i)}registerRenderPass(e){const t=e.brushes.map((e=>(this._brushCache.has(e)||this._brushCache.set(e,new e),this._brushCache.get(e))));return new T(t,e)}setHighlightOptions(e){this.effects.highlight.setHighlightOptions(e)}blitTexture(e,t,s,r=1){e.setBlendingEnabled(!0),e.setBlendFunctionSeparate(O.ONE,O.ONE_MINUS_SRC_ALPHA,O.ONE,O.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0),this._blitRenderer.render(e,t,s,r)}getPostProcessingEffects(e){return this._effectsManager.getPostProcessingEffects(e)}_getOutputFBO(){return null!=this._renderTarget?this._renderTarget:this._fbos.output}_applyEffects(e,t){const{context:s}=e,r=this._effectsManager.getPostProcessingEffects(t);for(const{postProcessingEffect:i,effect:n}of r)s.bindFramebuffer(this._fbos.blend),i.draw(e,this._fbos.blend,n)}}function I(t,s,r,i){return t!==o.HIGHLIGHT&&(1!==i||e(s)&&\"normal\"!==s||e(r)&&r.length>0)}export{D as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}