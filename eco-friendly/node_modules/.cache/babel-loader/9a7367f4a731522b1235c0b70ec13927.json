{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../core/maybe.js\";\nimport { f as t } from \"../../../../chunks/vec2f32.js\";\nimport { Z as r } from \"../../../../chunks/vec2f64.js\";\nimport { newLayout as i } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as s } from \"../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { HUDSpace as n } from \"../core/shaderLibrary/hud/HUD.glsl.js\";\nimport a from \"../lib/GLMaterial.js\";\nimport { Material as o, MaterialParameters as u } from \"../lib/Material.js\";\nimport { RenderSlot as f } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as c } from \"../lib/VertexAttribute.js\";\nimport { writePosition as l, writeNormal as h, writeBufferVec4 as m } from \"./internal/bufferWriterUtils.js\";\nimport { LineCalloutTechnique as d } from \"../shaders/LineCalloutTechnique.js\";\nimport { LineCalloutTechniqueConfiguration as p } from \"../shaders/LineCalloutTechniqueConfiguration.js\";\n\nclass g extends o {\n  constructor(e) {\n    super(e, new S()), this.techniqueConfig = new p(), this._uniqueMaterialIdentifier = g.uniqueMaterialIdentifier(this.parameters);\n  }\n\n  get uniqueMaterialIdentifier() {\n    return this._uniqueMaterialIdentifier;\n  }\n\n  getPassParameters() {\n    return this.parameters;\n  }\n\n  getConfiguration(t, r) {\n    const i = r?.slot !== f.LINE_CALLOUTS;\n    return this.techniqueConfig.occlusionTestEnabled = this.parameters.occlusionTest, this.techniqueConfig.hasVerticalOffset = e(this.parameters.verticalOffset), this.techniqueConfig.hasScreenSizePerspective = e(this.parameters.screenSizePerspective), this.techniqueConfig.depthHudEnabled = i, this.techniqueConfig.depthHudAlignStartEnabled = !!this.parameters.depthHUDAlignStart, this.techniqueConfig.screenCenterOffsetUnitsEnabled = \"screen\" === this.parameters.centerOffsetUnits ? n.Screen : n.World, this.techniqueConfig.hasSlicePlane = this.parameters.hasSlicePlane, this.techniqueConfig.hasMultipassGeometry = !!r && r.multipassGeometry.enabled, this.techniqueConfig;\n  }\n\n  intersect() {}\n\n  requiresSlot(e) {\n    switch (e) {\n      case f.LINE_CALLOUTS:\n      case f.LINE_CALLOUTS_HUD_DEPTH:\n        return !0;\n    }\n\n    return !1;\n  }\n\n  createGLMaterial(e) {\n    return e.output === s.Color ? new O(e) : null;\n  }\n\n  createBufferWriter() {\n    return new C();\n  }\n\n  validateParameters(e) {\n    const t = g.uniqueMaterialIdentifier(e);\n    t !== this._uniqueMaterialIdentifier && (this._uniqueMaterialIdentifier = t);\n  }\n\n  static uniqueMaterialIdentifier(e) {\n    return JSON.stringify({\n      screenOffset: e.screenOffset || [0, 0],\n      centerOffsetUnits: e.centerOffsetUnits || \"world\"\n    });\n  }\n\n}\n\nclass O extends a {\n  beginSlot(e) {\n    return this.ensureTechnique(d, e);\n  }\n\n}\n\nclass S extends u {\n  constructor() {\n    super(...arguments), this.screenOffset = r, this.color = [0, 0, 0, 1], this.size = 1, this.occlusionTest = !1, this.shaderPolygonOffset = 1e-5, this.depthHUDAlignStart = !1, this.centerOffsetUnits = \"world\", this.hasSlicePlane = !1;\n  }\n\n}\n\nconst q = i().vec3f(c.POSITION).vec3f(c.NORMAL).vec2f(c.UV0).vec4f(c.AUXPOS1),\n      L = [t(0, 0), t(1, 0), t(0, 1), t(1, 0), t(1, 1), t(0, 1)];\n\nclass C {\n  constructor() {\n    this.vertexBufferLayout = q;\n  }\n\n  allocate(e) {\n    return this.vertexBufferLayout.createBuffer(e);\n  }\n\n  elementCount(e) {\n    return 6 * e.indices.get(c.POSITION).length;\n  }\n\n  write(e, t, r, i) {\n    l(t.indices.get(c.POSITION), t.vertexAttributes.get(c.POSITION).data, e.transformation, r.position, i, 6), h(t.indices.get(c.NORMAL), t.vertexAttributes.get(c.NORMAL).data, e.invTranspTransformation, r.normal, i, 6), m(t.indices.get(c.AUXPOS1), t.vertexAttributes.get(c.AUXPOS1).data, r.auxpos1, i, 6);\n\n    for (let s = 0; s < L.length; ++s) r.uv0.setVec(i + s, L[s]);\n  }\n\n}\n\nexport { g as LineCalloutMaterial, S as Parameters };","map":{"version":3,"names":["isSome","e","f","t","Z","r","newLayout","i","ShaderOutput","s","HUDSpace","n","a","Material","o","MaterialParameters","u","RenderSlot","VertexAttribute","c","writePosition","l","writeNormal","h","writeBufferVec4","m","LineCalloutTechnique","d","LineCalloutTechniqueConfiguration","p","g","constructor","S","techniqueConfig","_uniqueMaterialIdentifier","uniqueMaterialIdentifier","parameters","getPassParameters","getConfiguration","slot","LINE_CALLOUTS","occlusionTestEnabled","occlusionTest","hasVerticalOffset","verticalOffset","hasScreenSizePerspective","screenSizePerspective","depthHudEnabled","depthHudAlignStartEnabled","depthHUDAlignStart","screenCenterOffsetUnitsEnabled","centerOffsetUnits","Screen","World","hasSlicePlane","hasMultipassGeometry","multipassGeometry","enabled","intersect","requiresSlot","LINE_CALLOUTS_HUD_DEPTH","createGLMaterial","output","Color","O","createBufferWriter","C","validateParameters","JSON","stringify","screenOffset","beginSlot","ensureTechnique","arguments","color","size","shaderPolygonOffset","q","vec3f","POSITION","NORMAL","vec2f","UV0","vec4f","AUXPOS1","L","vertexBufferLayout","allocate","createBuffer","elementCount","indices","get","length","write","vertexAttributes","data","transformation","position","invTranspTransformation","normal","auxpos1","uv0","setVec","LineCalloutMaterial","Parameters"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineCalloutMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{f as t}from\"../../../../chunks/vec2f32.js\";import{Z as r}from\"../../../../chunks/vec2f64.js\";import{newLayout as i}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{HUDSpace as n}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import a from\"../lib/GLMaterial.js\";import{Material as o,MaterialParameters as u}from\"../lib/Material.js\";import{RenderSlot as f}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeNormal as h,writeBufferVec4 as m}from\"./internal/bufferWriterUtils.js\";import{LineCalloutTechnique as d}from\"../shaders/LineCalloutTechnique.js\";import{LineCalloutTechniqueConfiguration as p}from\"../shaders/LineCalloutTechniqueConfiguration.js\";class g extends o{constructor(e){super(e,new S),this.techniqueConfig=new p,this._uniqueMaterialIdentifier=g.uniqueMaterialIdentifier(this.parameters)}get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}getPassParameters(){return this.parameters}getConfiguration(t,r){const i=r?.slot!==f.LINE_CALLOUTS;return this.techniqueConfig.occlusionTestEnabled=this.parameters.occlusionTest,this.techniqueConfig.hasVerticalOffset=e(this.parameters.verticalOffset),this.techniqueConfig.hasScreenSizePerspective=e(this.parameters.screenSizePerspective),this.techniqueConfig.depthHudEnabled=i,this.techniqueConfig.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits?n.Screen:n.World,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.hasMultipassGeometry=!!r&&r.multipassGeometry.enabled,this.techniqueConfig}intersect(){}requiresSlot(e){switch(e){case f.LINE_CALLOUTS:case f.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1}createGLMaterial(e){return e.output===s.Color?new O(e):null}createBufferWriter(){return new C}validateParameters(e){const t=g.uniqueMaterialIdentifier(e);t!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=t)}static uniqueMaterialIdentifier(e){return JSON.stringify({screenOffset:e.screenOffset||[0,0],centerOffsetUnits:e.centerOffsetUnits||\"world\"})}}class O extends a{beginSlot(e){return this.ensureTechnique(d,e)}}class S extends u{constructor(){super(...arguments),this.screenOffset=r,this.color=[0,0,0,1],this.size=1,this.occlusionTest=!1,this.shaderPolygonOffset=1e-5,this.depthHUDAlignStart=!1,this.centerOffsetUnits=\"world\",this.hasSlicePlane=!1}}const q=i().vec3f(c.POSITION).vec3f(c.NORMAL).vec2f(c.UV0).vec4f(c.AUXPOS1),L=[t(0,0),t(1,0),t(0,1),t(1,0),t(1,1),t(0,1)];class C{constructor(){this.vertexBufferLayout=q}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(c.POSITION).length}write(e,t,r,i){l(t.indices.get(c.POSITION),t.vertexAttributes.get(c.POSITION).data,e.transformation,r.position,i,6),h(t.indices.get(c.NORMAL),t.vertexAttributes.get(c.NORMAL).data,e.invTranspTransformation,r.normal,i,6),m(t.indices.get(c.AUXPOS1),t.vertexAttributes.get(c.AUXPOS1).data,r.auxpos1,i,6);for(let s=0;s<L.length;++s)r.uv0.setVec(i+s,L[s])}}export{g as LineCalloutMaterial,S as Parameters};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}