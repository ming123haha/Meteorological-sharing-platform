{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar t;\n!function (t) {\n  t[t.JSON = 1313821514] = \"JSON\", t[t.BIN = 5130562] = \"BIN\";\n}(t || (t = {}));\n\nclass e {\n  constructor(i, r) {\n    if (!i) throw new Error(\"GLB requires a JSON gltf chunk\");\n    this._length = e.HEADER_SIZE, this._length += e.CHUNK_HEADER_SIZE;\n\n    const n = this._textToArrayBuffer(i);\n\n    if (this._length += this._alignTo(n.byteLength, 4), r && (this._length += e.CHUNK_HEADER_SIZE, this._length += r.byteLength, r.byteLength % 4)) throw new Error(\"Expected BIN chunk length to be divisible by 4 at this point\");\n    this.buffer = new ArrayBuffer(this._length), this._outView = new DataView(this.buffer), this._writeHeader();\n\n    const h = this._writeChunk(n, 12, t.JSON, 32);\n\n    r && this._writeChunk(r, h, t.BIN);\n  }\n\n  _writeHeader() {\n    this._outView.setUint32(0, e.MAGIC, !0), this._outView.setUint32(4, e.VERSION, !0), this._outView.setUint32(8, this._length, !0);\n  }\n\n  _writeChunk(t, e, i, r = 0) {\n    const n = this._alignTo(t.byteLength, 4);\n\n    for (this._outView.setUint32(e, n, !0), this._outView.setUint32(e += 4, i, !0), this._writeArrayBuffer(this._outView.buffer, t, e += 4, 0, t.byteLength), e += t.byteLength; e % 4;) r && this._outView.setUint8(e, r), e++;\n\n    return e;\n  }\n\n  _writeArrayBuffer(t, e, i, r, n) {\n    new Uint8Array(t, i, n).set(new Uint8Array(e, r, n), 0);\n  }\n\n  _textToArrayBuffer(t) {\n    return new TextEncoder().encode(t).buffer;\n  }\n\n  _alignTo(t, e) {\n    return e * Math.ceil(t / e);\n  }\n\n}\n\ne.HEADER_SIZE = 12, e.CHUNK_HEADER_SIZE = 8, e.MAGIC = 1179937895, e.VERSION = 2;\nexport { e as GLB };","map":{"version":3,"names":["t","JSON","BIN","e","constructor","i","r","Error","_length","HEADER_SIZE","CHUNK_HEADER_SIZE","n","_textToArrayBuffer","_alignTo","byteLength","buffer","ArrayBuffer","_outView","DataView","_writeHeader","h","_writeChunk","setUint32","MAGIC","VERSION","_writeArrayBuffer","setUint8","Uint8Array","set","TextEncoder","encode","Math","ceil","GLB"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nvar t;!function(t){t[t.JSON=1313821514]=\"JSON\",t[t.BIN=5130562]=\"BIN\"}(t||(t={}));class e{constructor(i,r){if(!i)throw new Error(\"GLB requires a JSON gltf chunk\");this._length=e.HEADER_SIZE,this._length+=e.CHUNK_HEADER_SIZE;const n=this._textToArrayBuffer(i);if(this._length+=this._alignTo(n.byteLength,4),r&&(this._length+=e.CHUNK_HEADER_SIZE,this._length+=r.byteLength,r.byteLength%4))throw new Error(\"Expected BIN chunk length to be divisible by 4 at this point\");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const h=this._writeChunk(n,12,t.JSON,32);r&&this._writeChunk(r,h,t.BIN)}_writeHeader(){this._outView.setUint32(0,e.MAGIC,!0),this._outView.setUint32(4,e.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,i,r=0){const n=this._alignTo(t.byteLength,4);for(this._outView.setUint32(e,n,!0),this._outView.setUint32(e+=4,i,!0),this._writeArrayBuffer(this._outView.buffer,t,e+=4,0,t.byteLength),e+=t.byteLength;e%4;)r&&this._outView.setUint8(e,r),e++;return e}_writeArrayBuffer(t,e,i,r,n){new Uint8Array(t,i,n).set(new Uint8Array(e,r,n),0)}_textToArrayBuffer(t){return(new TextEncoder).encode(t).buffer}_alignTo(t,e){return e*Math.ceil(t/e)}}e.HEADER_SIZE=12,e.CHUNK_HEADER_SIZE=8,e.MAGIC=1179937895,e.VERSION=2;export{e as GLB};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}