{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { unwrap as e } from \"../../../core/maybe.js\";\nimport { g as t, h as r, u as i, v as o } from \"../../../chunks/vec2.js\";\nimport { a as s, f as n } from \"../../../chunks/vec2f64.js\";\nimport { SnappingAlgorithm as p } from \"./SnappingAlgorithm.js\";\nimport { RayConstraint as g } from \"./SnappingConstraint.js\";\nimport { squareDistance as h } from \"./snappingUtils.js\";\nimport { RightAngleSnappingCandidate as a, OtherVertexType as d } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { anyMapPointToScreenPoint as c } from \"../support/viewUtils.js\";\n\nclass f extends p {\n  constructor() {\n    super(...arguments), this._tmp = s();\n  }\n\n  snapNewVertex(e, t) {\n    const r = t.editGeometryOperations.data.components[0],\n          i = r.vertices.length,\n          o = [];\n    if (i < 2) return o;\n    const s = c(e, t.coordinateHelper, t.elevationInfo, this.view),\n          n = r.vertices[i - 1];\n\n    this._checkForSnappingCandidate(o, n.leftEdge, n.pos, e, n.leftEdge.leftVertex.pos, n.pos, t, e, s);\n\n    const p = r.vertices[0];\n    return this._checkForSnappingCandidate(o, p.rightEdge, p.pos, e, p.rightEdge.rightVertex.pos, p.pos, t, e, s), o;\n  }\n\n  snapExistingVertex(t, r) {\n    const i = [],\n          o = e(r.vertexHandle),\n          s = o.component,\n          n = s.vertices.length;\n    if (n < 3) return i;\n    const p = c(t, r.coordinateHelper, r.elevationInfo, this.view),\n          g = o.leftEdge,\n          h = o.rightEdge,\n          a = s.vertices[0],\n          d = s.vertices[n - 1];\n    if (!g) return this._checkForSnappingCandidate(i, a.rightEdge.rightVertex.rightEdge, a.rightEdge.rightVertex.pos, t, a.rightEdge.rightVertex.rightEdge.rightVertex.pos, a.rightEdge.rightVertex.pos, r, t, p), i;\n    if (!h) return this._checkForSnappingCandidate(i, d.leftEdge.leftVertex.leftEdge, d.leftEdge.leftVertex.pos, t, d.leftEdge.leftVertex.leftEdge.leftVertex.pos, d.leftEdge.leftVertex.pos, r, t, p), i;\n\n    if (g && g.leftVertex.leftEdge) {\n      const e = g.leftVertex.leftEdge;\n\n      this._checkForSnappingCandidate(i, e, g.leftVertex.pos, t, e.leftVertex.pos, g.leftVertex.pos, r, t, p);\n    }\n\n    if (h && h.rightVertex.rightEdge) {\n      const e = h.rightVertex.rightEdge;\n\n      this._checkForSnappingCandidate(i, e, h.rightVertex.pos, t, e.rightVertex.pos, h.rightVertex.pos, r, t, p);\n    }\n\n    return i;\n  }\n\n  _checkForSnappingCandidate(e, p, f, l, x, V, m, E, v) {\n    if (!this.edgeExceedsShortLineThreshold(p, m)) return;\n    t(this._tmp, p.rightVertex.pos, p.leftVertex.pos);\n\n    const u = n(this._tmp[1], -this._tmp[0]),\n          _ = r(u, t(this._tmp, l, f)) / i(u),\n          {\n      coordinateHelper: S,\n      elevationInfo: C,\n      pointer: k\n    } = m,\n          j = S.fromXYZ(o(s(), V, u, _), S.getZ(E, 0));\n\n    h(v, c(j, S, C, this.view)) < this.squaredProximityTreshold(k) && e.push(new a({\n      coordinateHelper: S,\n      targetPoint: j,\n      constraint: new g(S, V, o(S.createVector(), V, u, Math.sign(_))),\n      previousVertex: x,\n      otherVertex: V,\n      otherVertexType: d.CENTER,\n      elevationInfo: C\n    }));\n  }\n\n}\n\nexport { f as RightAngleSnapper };","map":{"version":3,"names":["unwrap","e","g","t","h","r","u","i","v","o","a","s","f","n","SnappingAlgorithm","p","RayConstraint","squareDistance","RightAngleSnappingCandidate","OtherVertexType","d","anyMapPointToScreenPoint","c","constructor","arguments","_tmp","snapNewVertex","editGeometryOperations","data","components","vertices","length","coordinateHelper","elevationInfo","view","_checkForSnappingCandidate","leftEdge","pos","leftVertex","rightEdge","rightVertex","snapExistingVertex","vertexHandle","component","l","x","V","m","E","edgeExceedsShortLineThreshold","_","S","C","pointer","k","j","fromXYZ","getZ","squaredProximityTreshold","push","targetPoint","constraint","createVector","Math","sign","previousVertex","otherVertex","otherVertexType","CENTER","RightAngleSnapper"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{g as t,h as r,u as i,v as o}from\"../../../chunks/vec2.js\";import{a as s,f as n}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{RayConstraint as g}from\"./SnappingConstraint.js\";import{squareDistance as h}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as a,OtherVertexType as d}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToScreenPoint as c}from\"../support/viewUtils.js\";class f extends p{constructor(){super(...arguments),this._tmp=s()}snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=r.vertices.length,o=[];if(i<2)return o;const s=c(e,t.coordinateHelper,t.elevationInfo,this.view),n=r.vertices[i-1];this._checkForSnappingCandidate(o,n.leftEdge,n.pos,e,n.leftEdge.leftVertex.pos,n.pos,t,e,s);const p=r.vertices[0];return this._checkForSnappingCandidate(o,p.rightEdge,p.pos,e,p.rightEdge.rightVertex.pos,p.pos,t,e,s),o}snapExistingVertex(t,r){const i=[],o=e(r.vertexHandle),s=o.component,n=s.vertices.length;if(n<3)return i;const p=c(t,r.coordinateHelper,r.elevationInfo,this.view),g=o.leftEdge,h=o.rightEdge,a=s.vertices[0],d=s.vertices[n-1];if(!g)return this._checkForSnappingCandidate(i,a.rightEdge.rightVertex.rightEdge,a.rightEdge.rightVertex.pos,t,a.rightEdge.rightVertex.rightEdge.rightVertex.pos,a.rightEdge.rightVertex.pos,r,t,p),i;if(!h)return this._checkForSnappingCandidate(i,d.leftEdge.leftVertex.leftEdge,d.leftEdge.leftVertex.pos,t,d.leftEdge.leftVertex.leftEdge.leftVertex.pos,d.leftEdge.leftVertex.pos,r,t,p),i;if(g&&g.leftVertex.leftEdge){const e=g.leftVertex.leftEdge;this._checkForSnappingCandidate(i,e,g.leftVertex.pos,t,e.leftVertex.pos,g.leftVertex.pos,r,t,p)}if(h&&h.rightVertex.rightEdge){const e=h.rightVertex.rightEdge;this._checkForSnappingCandidate(i,e,h.rightVertex.pos,t,e.rightVertex.pos,h.rightVertex.pos,r,t,p)}return i}_checkForSnappingCandidate(e,p,f,l,x,V,m,E,v){if(!this.edgeExceedsShortLineThreshold(p,m))return;t(this._tmp,p.rightVertex.pos,p.leftVertex.pos);const u=n(this._tmp[1],-this._tmp[0]),_=r(u,t(this._tmp,l,f))/i(u),{coordinateHelper:S,elevationInfo:C,pointer:k}=m,j=S.fromXYZ(o(s(),V,u,_),S.getZ(E,0));h(v,c(j,S,C,this.view))<this.squaredProximityTreshold(k)&&e.push(new a({coordinateHelper:S,targetPoint:j,constraint:new g(S,V,o(S.createVector(),V,u,Math.sign(_))),previousVertex:x,otherVertex:V,otherVertexType:d.CENTER,elevationInfo:C}))}}export{f as RightAngleSnapper};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}