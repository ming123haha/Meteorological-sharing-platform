{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"./chunks/tslib.es6.js\";\nimport r from \"./core/Collection.js\";\nimport { referenceSetter as t } from \"./core/collectionUtils.js\";\nimport { deprecated as s } from \"./core/deprecate.js\";\nimport { JSONSupportMixin as o } from \"./core/JSONSupport.js\";\nimport { clone as a } from \"./core/lang.js\";\nimport i from \"./core/Loadable.js\";\nimport { loadAll as n } from \"./core/loadAll.js\";\nimport l from \"./core/Logger.js\";\nimport { isSome as p } from \"./core/maybe.js\";\nimport { throwIfAborted as c, eachAlways as m } from \"./core/promiseUtils.js\";\nimport { isProtocolRelative as h, urlToObject as u } from \"./core/urlUtils.js\";\nimport { property as d } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/accessorSupport/ensureType.js\";\nimport { subclass as y } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { writer as f } from \"./core/accessorSupport/decorators/writer.js\";\nimport b from \"./geometry/SpatialReference.js\";\nimport L from \"./portal/Portal.js\";\nimport g from \"./portal/PortalItem.js\";\nimport { getBasemapTitle as w, esriBasemapDefinitions as I } from \"./support/basemapDefinitions.js\";\nimport { getLayerJSON as j } from \"./webdoc/support/writeUtils.js\";\nvar v;\nlet S = 0;\nconst _ = \"esri.Basemap\";\nlet U = v = class extends o(i) {\n  constructor(e) {\n    super(e), this.id = null, this.portalItem = null, this.spatialReference = null, this.thumbnailUrl = null, this.title = \"Basemap\", this.id = Date.now().toString(16) + \"-basemap-\" + S++, this.baseLayers = new r(), this.referenceLayers = new r();\n\n    const t = e => {\n      e.parent && e.parent !== this && \"remove\" in e.parent && e.parent.remove(e), e.parent = this, \"elevation\" === e.type && l.getLogger(this.declaredClass).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`);\n    },\n          s = e => {\n      e.parent = null;\n    };\n\n    this.baseLayers.on(\"after-add\", e => t(e.item)), this.referenceLayers.on(\"after-add\", e => t(e.item)), this.baseLayers.on(\"after-remove\", e => s(e.item)), this.referenceLayers.on(\"after-remove\", e => s(e.item));\n  }\n\n  initialize() {\n    this.when().catch(e => {\n      l.getLogger(this.declaredClass).error(\"#load()\", `Failed to load basemap (title: '${this.title}', id: '${this.id}')`, e);\n    }), this.resourceInfo && this.read(this.resourceInfo.data, this.resourceInfo.context);\n  }\n\n  destroy() {\n    const e = this.baseLayers.removeAll();\n\n    for (const t of e) t.destroy();\n\n    const r = this.referenceLayers.removeAll();\n\n    for (const t of r) t.destroy();\n\n    this.baseLayers.destroy(), this.referenceLayers.destroy(), this.portalItem?.destroy(), this.portalItem = null;\n  }\n\n  normalizeCtorArgs(e) {\n    return e && \"resourceInfo\" in e && (this._set(\"resourceInfo\", e.resourceInfo), delete (e = { ...e\n    }).resourceInfo), e;\n  }\n\n  set baseLayers(e) {\n    this._set(\"baseLayers\", t(e, this._get(\"baseLayers\")));\n  }\n\n  _writeBaseLayers(e, r, t) {\n    const s = [];\n    e ? (t = { ...t,\n      layerContainerType: \"basemap\"\n    }, this.baseLayers.forEach(e => {\n      const r = j(e, t.webmap ? t.webmap.getLayerJSONFromResourceInfo(e) : null, t);\n      p(r) && s.push(r);\n    }), this.referenceLayers.forEach(e => {\n      const r = j(e, t.webmap ? t.webmap.getLayerJSONFromResourceInfo(e) : null, t);\n      p(r) && (r.isReference = !0, s.push(r));\n    }), r.baseMapLayers = s) : r.baseMapLayers = s;\n  }\n\n  set referenceLayers(e) {\n    this._set(\"referenceLayers\", t(e, this._get(\"referenceLayers\")));\n  }\n\n  writeTitle(e, r) {\n    r.title = e || \"Basemap\";\n  }\n\n  load(e) {\n    return this.addResolvingPromise(this._loadFromSource(e)), Promise.resolve(this);\n  }\n\n  loadAll() {\n    return n(this, e => {\n      e(this.baseLayers, this.referenceLayers);\n    });\n  }\n\n  clone() {\n    const e = {\n      id: this.id,\n      title: this.title,\n      portalItem: this.portalItem,\n      baseLayers: this.baseLayers.slice(),\n      referenceLayers: this.referenceLayers.slice()\n    };\n    return this.loaded && (e.loadStatus = \"loaded\"), new v({\n      resourceInfo: this.resourceInfo\n    }).set(e);\n  }\n\n  read(e, r) {\n    this.resourceInfo || this._set(\"resourceInfo\", {\n      data: e,\n      context: r\n    }), super.read(e, r);\n  }\n\n  write(e, r) {\n    return e = e || {}, r && r.origin || (r = {\n      origin: \"web-map\",\n      ...r\n    }), super.write(e, r), !this.loaded && this.resourceInfo && this.resourceInfo.data.baseMapLayers && (e.baseMapLayers = this.resourceInfo.data.baseMapLayers.map(e => {\n      const r = a(e);\n      return r.url && h(r.url) && (r.url = `https:${r.url}`), r.templateUrl && h(r.templateUrl) && (r.templateUrl = `https:${r.templateUrl}`), r;\n    })), e;\n  }\n\n  async _loadFromSource(e) {\n    const {\n      resourceInfo: r,\n      portalItem: t\n    } = this;\n    c(e);\n    const s = [];\n\n    if (r) {\n      const t = r.context ? r.context.url : null;\n\n      if (s.push(this._loadLayersFromJSON(r.data, t, e)), r.data.id && !r.data.title) {\n        const e = r.data.id;\n        s.push(w(e).then(e => {\n          e && this.read({\n            title: e\n          }, r.context);\n        }));\n      }\n    } else t && s.push(this._loadFromItem(t, e));\n\n    await Promise.all(s);\n  }\n\n  async _loadLayersFromJSON(e, r, t) {\n    const s = this.resourceInfo && this.resourceInfo.context,\n          o = this.portalItem && this.portalItem.portal || s && s.portal || null,\n          a = s && \"web-scene\" === s.origin ? \"web-scene\" : \"web-map\",\n          {\n      populateOperationalLayers: i\n    } = await import(\"./layers/support/layersCreator.js\"),\n          n = [];\n\n    if (c(t), e.baseMapLayers && Array.isArray(e.baseMapLayers)) {\n      const t = {\n        context: {\n          origin: a,\n          url: r,\n          portal: o,\n          layerContainerType: \"basemap\"\n        },\n        defaultLayerType: \"DefaultTileLayer\"\n      },\n            s = i(this.baseLayers, e.baseMapLayers.filter(e => !e.isReference), t);\n      n.push(s);\n      const l = i(this.referenceLayers, e.baseMapLayers.filter(e => e.isReference), t);\n      n.push(l);\n    }\n\n    await m(n);\n  }\n\n  async _loadFromItem(e, r) {\n    const t = await e.load(r),\n          s = await t.fetchData(\"json\", r),\n          o = u(e.itemUrl ?? \"\");\n    return this._set(\"resourceInfo\", {\n      data: s.baseMap ?? {},\n      context: {\n        origin: \"web-map\",\n        portal: e.portal || L.getDefault(),\n        url: o\n      }\n    }), this.read(this.resourceInfo.data, this.resourceInfo.context), this.read({\n      spatialReference: s.spatialReference\n    }, this.resourceInfo.context), this.read({\n      title: e.title,\n      thumbnailUrl: e.thumbnailUrl\n    }, {\n      origin: \"portal-item\",\n      portal: e.portal || L.getDefault(),\n      url: o\n    }), this._loadLayersFromJSON(this.resourceInfo.data, o, r);\n  }\n\n  static fromId(e) {\n    const r = I[e];\n\n    if (r) {\n      if (r.deprecated) {\n        let r = null;\n        \"dark-gray\" === e ? r = \"dark-gray-vector\" : \"gray\" === e ? r = \"gray-vector\" : \"streets\" === e ? r = \"streets-vector\" : \"topo\" === e && (r = \"topo-vector\"), s(l.getLogger(_), `The ${e} basemap has entered mature support and is no longer being updated.`, {\n          replacement: r,\n          see: \"https://arcg.is/1iq8aD\",\n          warnOnce: !0\n        });\n      }\n\n      return v.fromJSON(r);\n    }\n\n    return null;\n  }\n\n};\ne([d({\n  json: {\n    write: {\n      ignoreOrigin: !0,\n      target: \"baseMapLayers\",\n\n      writer(e, r, t, s) {\n        this._writeBaseLayers(e, r, s);\n      }\n\n    },\n    origins: {\n      \"web-scene\": {\n        write: {\n          ignoreOrigin: !0,\n          target: {\n            baseMapLayers: {\n              type: r\n            }\n          },\n\n          writer(e, r, t, s) {\n            this._writeBaseLayers(e, r, s);\n          }\n\n        }\n      }\n    }\n  }\n})], U.prototype, \"baseLayers\", null), e([d({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !0\n      }\n    }\n  }\n})], U.prototype, \"id\", void 0), e([d({\n  type: g\n})], U.prototype, \"portalItem\", void 0), e([d()], U.prototype, \"referenceLayers\", null), e([d({\n  readOnly: !0\n})], U.prototype, \"resourceInfo\", void 0), e([d({\n  type: b\n})], U.prototype, \"spatialReference\", void 0), e([d()], U.prototype, \"thumbnailUrl\", void 0), e([d({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: {\n          isRequired: !0\n        }\n      }\n    }\n  }\n})], U.prototype, \"title\", void 0), e([f(\"title\")], U.prototype, \"writeTitle\", null), U = v = e([y(_)], U);\nconst x = U;\nexport { x as default };","map":{"version":3,"names":["_","e","r","referenceSetter","t","deprecated","s","JSONSupportMixin","o","clone","a","i","loadAll","n","l","isSome","p","throwIfAborted","c","eachAlways","m","isProtocolRelative","h","urlToObject","u","property","d","subclass","y","writer","f","b","L","g","getBasemapTitle","w","esriBasemapDefinitions","I","getLayerJSON","j","v","S","U","constructor","id","portalItem","spatialReference","thumbnailUrl","title","Date","now","toString","baseLayers","referenceLayers","parent","remove","type","getLogger","declaredClass","error","on","item","initialize","when","catch","resourceInfo","read","data","context","destroy","removeAll","normalizeCtorArgs","_set","_get","_writeBaseLayers","layerContainerType","forEach","webmap","getLayerJSONFromResourceInfo","push","isReference","baseMapLayers","writeTitle","load","addResolvingPromise","_loadFromSource","Promise","resolve","slice","loaded","loadStatus","set","write","origin","map","url","templateUrl","_loadLayersFromJSON","then","_loadFromItem","all","portal","populateOperationalLayers","Array","isArray","defaultLayerType","filter","fetchData","itemUrl","baseMap","getDefault","fromId","replacement","see","warnOnce","fromJSON","json","ignoreOrigin","target","origins","prototype","String","readOnly","isRequired","x","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/Basemap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import r from\"./core/Collection.js\";import{referenceSetter as t}from\"./core/collectionUtils.js\";import{deprecated as s}from\"./core/deprecate.js\";import{JSONSupportMixin as o}from\"./core/JSONSupport.js\";import{clone as a}from\"./core/lang.js\";import i from\"./core/Loadable.js\";import{loadAll as n}from\"./core/loadAll.js\";import l from\"./core/Logger.js\";import{isSome as p}from\"./core/maybe.js\";import{throwIfAborted as c,eachAlways as m}from\"./core/promiseUtils.js\";import{isProtocolRelative as h,urlToObject as u}from\"./core/urlUtils.js\";import{property as d}from\"./core/accessorSupport/decorators/property.js\";import\"./core/accessorSupport/ensureType.js\";import{subclass as y}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as f}from\"./core/accessorSupport/decorators/writer.js\";import b from\"./geometry/SpatialReference.js\";import L from\"./portal/Portal.js\";import g from\"./portal/PortalItem.js\";import{getBasemapTitle as w,esriBasemapDefinitions as I}from\"./support/basemapDefinitions.js\";import{getLayerJSON as j}from\"./webdoc/support/writeUtils.js\";var v;let S=0;const _=\"esri.Basemap\";let U=v=class extends(o(i)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title=\"Basemap\",this.id=Date.now().toString(16)+\"-basemap-\"+S++,this.baseLayers=new r,this.referenceLayers=new r;const t=e=>{e.parent&&e.parent!==this&&\"remove\"in e.parent&&e.parent.remove(e),e.parent=this,\"elevation\"===e.type&&l.getLogger(this.declaredClass).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},s=e=>{e.parent=null};this.baseLayers.on(\"after-add\",(e=>t(e.item))),this.referenceLayers.on(\"after-add\",(e=>t(e.item))),this.baseLayers.on(\"after-remove\",(e=>s(e.item))),this.referenceLayers.on(\"after-remove\",(e=>s(e.item)))}initialize(){this.when().catch((e=>{l.getLogger(this.declaredClass).error(\"#load()\",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.removeAll();for(const t of e)t.destroy();const r=this.referenceLayers.removeAll();for(const t of r)t.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem?.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&\"resourceInfo\"in e&&(this._set(\"resourceInfo\",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set(\"baseLayers\",t(e,this._get(\"baseLayers\")))}_writeBaseLayers(e,r,t){const s=[];e?(t={...t,layerContainerType:\"basemap\"},this.baseLayers.forEach((e=>{const r=j(e,t.webmap?t.webmap.getLayerJSONFromResourceInfo(e):null,t);p(r)&&s.push(r)})),this.referenceLayers.forEach((e=>{const r=j(e,t.webmap?t.webmap.getLayerJSONFromResourceInfo(e):null,t);p(r)&&(r.isReference=!0,s.push(r))})),r.baseMapLayers=s):r.baseMapLayers=s}set referenceLayers(e){this._set(\"referenceLayers\",t(e,this._get(\"referenceLayers\")))}writeTitle(e,r){r.title=e||\"Basemap\"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return n(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus=\"loaded\"),new v({resourceInfo:this.resourceInfo}).set(e)}read(e,r){this.resourceInfo||this._set(\"resourceInfo\",{data:e,context:r}),super.read(e,r)}write(e,r){return e=e||{},r&&r.origin||(r={origin:\"web-map\",...r}),super.write(e,r),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const r=a(e);return r.url&&h(r.url)&&(r.url=`https:${r.url}`),r.templateUrl&&h(r.templateUrl)&&(r.templateUrl=`https:${r.templateUrl}`),r}))),e}async _loadFromSource(e){const{resourceInfo:r,portalItem:t}=this;c(e);const s=[];if(r){const t=r.context?r.context.url:null;if(s.push(this._loadLayersFromJSON(r.data,t,e)),r.data.id&&!r.data.title){const e=r.data.id;s.push(w(e).then((e=>{e&&this.read({title:e},r.context)})))}}else t&&s.push(this._loadFromItem(t,e));await Promise.all(s)}async _loadLayersFromJSON(e,r,t){const s=this.resourceInfo&&this.resourceInfo.context,o=this.portalItem&&this.portalItem.portal||s&&s.portal||null,a=s&&\"web-scene\"===s.origin?\"web-scene\":\"web-map\",{populateOperationalLayers:i}=await import(\"./layers/support/layersCreator.js\"),n=[];if(c(t),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const t={context:{origin:a,url:r,portal:o,layerContainerType:\"basemap\"},defaultLayerType:\"DefaultTileLayer\"},s=i(this.baseLayers,e.baseMapLayers.filter((e=>!e.isReference)),t);n.push(s);const l=i(this.referenceLayers,e.baseMapLayers.filter((e=>e.isReference)),t);n.push(l)}await m(n)}async _loadFromItem(e,r){const t=await e.load(r),s=await t.fetchData(\"json\",r),o=u(e.itemUrl??\"\");return this._set(\"resourceInfo\",{data:s.baseMap??{},context:{origin:\"web-map\",portal:e.portal||L.getDefault(),url:o}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:\"portal-item\",portal:e.portal||L.getDefault(),url:o}),this._loadLayersFromJSON(this.resourceInfo.data,o,r)}static fromId(e){const r=I[e];if(r){if(r.deprecated){let r=null;\"dark-gray\"===e?r=\"dark-gray-vector\":\"gray\"===e?r=\"gray-vector\":\"streets\"===e?r=\"streets-vector\":\"topo\"===e&&(r=\"topo-vector\"),s(l.getLogger(_),`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:r,see:\"https://arcg.is/1iq8aD\",warnOnce:!0})}return v.fromJSON(r)}return null}};e([d({json:{write:{ignoreOrigin:!0,target:\"baseMapLayers\",writer(e,r,t,s){this._writeBaseLayers(e,r,s)}},origins:{\"web-scene\":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:r}},writer(e,r,t,s){this._writeBaseLayers(e,r,s)}}}}}})],U.prototype,\"baseLayers\",null),e([d({type:String,json:{origins:{\"web-scene\":{write:!0}}}})],U.prototype,\"id\",void 0),e([d({type:g})],U.prototype,\"portalItem\",void 0),e([d()],U.prototype,\"referenceLayers\",null),e([d({readOnly:!0})],U.prototype,\"resourceInfo\",void 0),e([d({type:b})],U.prototype,\"spatialReference\",void 0),e([d()],U.prototype,\"thumbnailUrl\",void 0),e([d({type:String,json:{origins:{\"web-scene\":{write:{isRequired:!0}}}}})],U.prototype,\"title\",void 0),e([f(\"title\")],U.prototype,\"writeTitle\",null),U=v=e([y(_)],U);const x=U;export{x as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}