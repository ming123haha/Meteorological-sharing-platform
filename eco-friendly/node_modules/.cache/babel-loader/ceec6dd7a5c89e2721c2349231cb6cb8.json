{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { RgbaFloatEncoding as e } from \"../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";\nimport { Float2Uniform as t } from \"../../../core/shaderModules/Float2Uniform.js\";\nimport { FloatUniform as r } from \"../../../core/shaderModules/FloatUniform.js\";\nimport { glsl as a } from \"../../../core/shaderModules/interfaces.js\";\nimport { Texture2DUniform as s } from \"../../../core/shaderModules/Texture2DUniform.js\";\nimport { usesSketchLogic as o, EdgeUtilMode as c } from \"./EdgeUtil.glsl.js\";\nimport { UnpackAttributes as l } from \"./UnpackAttributes.glsl.js\";\n\nfunction u(u, n) {\n  const i = u.vertex;\n  u.include(l, n);\n  const d = u.fragment;\n\n  switch (o(n) && (i.uniforms.add(new t(\"strokesTextureScale\")), i.uniforms.add(new r(\"strokesLog2Resolution\")), i.uniforms.add(new r(\"strokeVariants\")), u.varyings.add(\"vStrokeUV\", \"vec2\"), d.uniforms.add(new s(\"strokesTexture\")), d.uniforms.add(new r(\"strokesNormalizationScale\")), i.code.add(a`void calculateStyleOutputsSketch(float lineLength, UnpackedAttributes unpackedAttributes) {\nvec2 sidenessNorm = unpackedAttributes.sidenessNorm;\nfloat lineIndex = clamp(ceil(log2(lineLength)), 0.0, strokesLog2Resolution);\nvStrokeUV = vec2(exp2(lineIndex) * sidenessNorm.y, lineIndex * strokeVariants + variantStroke + 0.5) * strokesTextureScale;\nvStrokeUV.x += variantOffset;\n}`), u.fragment.include(e), d.code.add(a`float calculateLineOffsetSketch() {\nfloat offsetNorm = rgba2float(texture2D(strokesTexture, vStrokeUV));\nreturn (offsetNorm - 0.5) * strokesNormalizationScale;\n}\nfloat calculateLinePressureSketch() {\nreturn rgba2float(texture2D(strokesTexture, vStrokeUV + vec2(0.0, 0.5)));\n}`)), n.mode) {\n    case c.SOLID:\n      i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes) {}`), d.code.add(a`float calculateLineOffset() {\nreturn 0.0;\n}\nfloat calculateLinePressure() {\nreturn 1.0;\n}`);\n      break;\n\n    case c.SKETCH:\n      i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes)\n{\ncalculateStyleOutputsSketch(vLineLengthPixels, unpackedAttributes);\n}`), d.code.add(a`float calculateLineOffset() {\nreturn calculateLineOffsetSketch();\n}\nfloat calculateLinePressure() {\nreturn calculateLinePressureSketch();\n}`);\n      break;\n\n    case c.MIXED:\n      u.varyings.add(\"vType\", \"float\"), i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes)\n{\nvType = unpackedAttributes.type;\nif (unpackedAttributes.type <= 0.0) {\ncalculateStyleOutputsSketch(vLineLengthPixels, unpackedAttributes);\n}\n}`), d.code.add(a`float calculateLineOffset() {\nif (vType <= 0.0) {\nreturn calculateLineOffsetSketch();\n}\nelse {\nreturn 0.0;\n}\n}\nfloat calculateLinePressure() {\nif (vType <= 0.0) {\nreturn calculateLinePressureSketch();\n}\nelse {\nreturn 1.0;\n}\n}`);\n  }\n}\n\nexport { u as LineOffset };","map":{"version":3,"names":["RgbaFloatEncoding","e","Float2Uniform","t","FloatUniform","r","glsl","a","Texture2DUniform","s","usesSketchLogic","o","EdgeUtilMode","c","UnpackAttributes","l","u","n","i","vertex","include","d","fragment","uniforms","add","varyings","code","mode","SOLID","SKETCH","MIXED","LineOffset"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/sources/edgeRenderer/LineOffset.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as e}from\"../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2Uniform as t}from\"../../../core/shaderModules/Float2Uniform.js\";import{FloatUniform as r}from\"../../../core/shaderModules/FloatUniform.js\";import{glsl as a}from\"../../../core/shaderModules/interfaces.js\";import{Texture2DUniform as s}from\"../../../core/shaderModules/Texture2DUniform.js\";import{usesSketchLogic as o,EdgeUtilMode as c}from\"./EdgeUtil.glsl.js\";import{UnpackAttributes as l}from\"./UnpackAttributes.glsl.js\";function u(u,n){const i=u.vertex;u.include(l,n);const d=u.fragment;switch(o(n)&&(i.uniforms.add(new t(\"strokesTextureScale\")),i.uniforms.add(new r(\"strokesLog2Resolution\")),i.uniforms.add(new r(\"strokeVariants\")),u.varyings.add(\"vStrokeUV\",\"vec2\"),d.uniforms.add(new s(\"strokesTexture\")),d.uniforms.add(new r(\"strokesNormalizationScale\")),i.code.add(a`void calculateStyleOutputsSketch(float lineLength, UnpackedAttributes unpackedAttributes) {\nvec2 sidenessNorm = unpackedAttributes.sidenessNorm;\nfloat lineIndex = clamp(ceil(log2(lineLength)), 0.0, strokesLog2Resolution);\nvStrokeUV = vec2(exp2(lineIndex) * sidenessNorm.y, lineIndex * strokeVariants + variantStroke + 0.5) * strokesTextureScale;\nvStrokeUV.x += variantOffset;\n}`),u.fragment.include(e),d.code.add(a`float calculateLineOffsetSketch() {\nfloat offsetNorm = rgba2float(texture2D(strokesTexture, vStrokeUV));\nreturn (offsetNorm - 0.5) * strokesNormalizationScale;\n}\nfloat calculateLinePressureSketch() {\nreturn rgba2float(texture2D(strokesTexture, vStrokeUV + vec2(0.0, 0.5)));\n}`)),n.mode){case c.SOLID:i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes) {}`),d.code.add(a`float calculateLineOffset() {\nreturn 0.0;\n}\nfloat calculateLinePressure() {\nreturn 1.0;\n}`);break;case c.SKETCH:i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes)\n{\ncalculateStyleOutputsSketch(vLineLengthPixels, unpackedAttributes);\n}`),d.code.add(a`float calculateLineOffset() {\nreturn calculateLineOffsetSketch();\n}\nfloat calculateLinePressure() {\nreturn calculateLinePressureSketch();\n}`);break;case c.MIXED:u.varyings.add(\"vType\",\"float\"),i.code.add(a`void calculateStyleOutputs(UnpackedAttributes unpackedAttributes)\n{\nvType = unpackedAttributes.type;\nif (unpackedAttributes.type <= 0.0) {\ncalculateStyleOutputsSketch(vLineLengthPixels, unpackedAttributes);\n}\n}`),d.code.add(a`float calculateLineOffset() {\nif (vType <= 0.0) {\nreturn calculateLineOffsetSketch();\n}\nelse {\nreturn 0.0;\n}\n}\nfloat calculateLinePressure() {\nif (vType <= 0.0) {\nreturn calculateLinePressureSketch();\n}\nelse {\nreturn 1.0;\n}\n}`)}}export{u as LineOffset};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,iBAAiB,IAAIC,CAA5B,QAAkC,4DAAlC;AAA+F,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,8CAA9B;AAA6E,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,6CAA7B;AAA2E,SAAOC,IAAI,IAAIC,CAAf,QAAqB,2CAArB;AAAiE,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,iDAAjC;AAAmF,SAAOC,eAAe,IAAIC,CAA1B,EAA4BC,YAAY,IAAIC,CAA5C,QAAkD,oBAAlD;AAAuE,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,4BAAjC;;AAA8D,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAMC,CAAC,GAACF,CAAC,CAACG,MAAV;EAAiBH,CAAC,CAACI,OAAF,CAAUL,CAAV,EAAYE,CAAZ;EAAe,MAAMI,CAAC,GAACL,CAAC,CAACM,QAAV;;EAAmB,QAAOX,CAAC,CAACM,CAAD,CAAD,KAAOC,CAAC,CAACK,QAAF,CAAWC,GAAX,CAAe,IAAIrB,CAAJ,CAAM,qBAAN,CAAf,GAA6Ce,CAAC,CAACK,QAAF,CAAWC,GAAX,CAAe,IAAInB,CAAJ,CAAM,uBAAN,CAAf,CAA7C,EAA4Fa,CAAC,CAACK,QAAF,CAAWC,GAAX,CAAe,IAAInB,CAAJ,CAAM,gBAAN,CAAf,CAA5F,EAAoIW,CAAC,CAACS,QAAF,CAAWD,GAAX,CAAe,WAAf,EAA2B,MAA3B,CAApI,EAAuKH,CAAC,CAACE,QAAF,CAAWC,GAAX,CAAe,IAAIf,CAAJ,CAAM,gBAAN,CAAf,CAAvK,EAA+MY,CAAC,CAACE,QAAF,CAAWC,GAAX,CAAe,IAAInB,CAAJ,CAAM,2BAAN,CAAf,CAA/M,EAAkQa,CAAC,CAACQ,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACh3B;AACA;AACA;AACA;AACA,EALm2B,CAAlQ,EAK7lBS,CAAC,CAACM,QAAF,CAAWF,OAAX,CAAmBnB,CAAnB,CAL6lB,EAKvkBoB,CAAC,CAACK,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACvC;AACA;AACA;AACA;AACA;AACA,EAN0B,CALgkB,GAWrlBU,CAAC,CAACU,IAX4kB;IAWtkB,KAAKd,CAAC,CAACe,KAAP;MAAaV,CAAC,CAACQ,IAAF,CAAOF,GAAP,CAAWjB,CAAE,sEAAb,GAAoFc,CAAC,CAACK,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AAC3H;AACA;AACA;AACA;AACA,EAL8G,CAApF;MAKtB;;IAAM,KAAKM,CAAC,CAACgB,MAAP;MAAcX,CAAC,CAACQ,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACrC;AACA;AACA,EAHwB,GAGpBc,CAAC,CAACK,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACjB;AACA;AACA;AACA;AACA,EALI,CAHoB;MAQpB;;IAAM,KAAKM,CAAC,CAACiB,KAAP;MAAad,CAAC,CAACS,QAAF,CAAWD,GAAX,CAAe,OAAf,EAAuB,OAAvB,GAAgCN,CAAC,CAACQ,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACpE;AACA;AACA;AACA;AACA;AACA,EANuD,CAAhC,EAMnBc,CAAC,CAACK,IAAF,CAAOF,GAAP,CAAWjB,CAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAfI,CANmB;EAxB4jB;AA6C9kB;;AAAA,SAAOS,CAAC,IAAIe,UAAZ"},"metadata":{},"sourceType":"module"}