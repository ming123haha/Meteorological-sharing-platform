{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport s from \"../../../../core/Handles.js\";\nimport { destroyMaybe as o } from \"../../../../core/maybe.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c } from \"../../../../chunks/vec3f64.js\";\nimport { empty as a, expand as p, intersects as d } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { TaskPriority as h } from \"../../../support/Scheduler.js\";\nlet u = class extends t {\n  constructor() {\n    super(...arguments), this.handles = new s(), this._tileGeometryUpdateExtent = a(), this._tileGeometryUpdateSpatialReference = null, this.events = new r(), this.updating = !1;\n  }\n\n  initialize() {\n    this.handles.add([this.surface.on(\"elevation-change\", e => this._tileGeometryChanged(e)), this.scheduler.registerTask(h.SURFACE_GEOMETRY_UPDATES, this)]);\n  }\n\n  destroy() {\n    this.handles = o(this.handles);\n  }\n\n  get running() {\n    return this.updating;\n  }\n\n  runTask() {\n    this.updating && (this._centerIntersectsExtent(this._tileGeometryUpdateExtent, this._tileGeometryUpdateSpatialReference) && this.events.emit(\"request-update\", l), a(this._tileGeometryUpdateExtent), this._set(\"updating\", !1));\n  }\n\n  _tileGeometryChanged(e) {\n    this._tileGeometryUpdateSpatialReference = e.spatialReference, p(this._tileGeometryUpdateExtent, e.tile.extent, this._tileGeometryUpdateExtent), this._set(\"updating\", !0);\n  }\n\n  _furthestCenterOnSurface() {\n    let e = this.centerOnSurfaces[0];\n\n    for (let t = 1; t < this.centerOnSurfaces.length; t++) {\n      const r = this.centerOnSurfaces[t];\n      r.distance > e.distance && (e = r);\n    }\n\n    return e;\n  }\n\n  _centerIntersectsExtent(e, t) {\n    const r = this.state.camera.eye,\n          s = f,\n          o = this._furthestCenterOnSurface();\n\n    return this.renderCoordsHelper.fromRenderCoords(r, m, t), this.renderCoordsHelper.fromRenderCoords(o.renderLocation, y, t), m[0] < y[0] ? (s[0] = m[0], s[2] = y[0]) : (s[0] = y[0], s[2] = m[0]), m[1] < y[1] ? (s[1] = m[1], s[3] = y[1]) : (s[1] = y[1], s[3] = m[1]), d(s, e);\n  }\n\n};\ne([n({\n  constructOnly: !0\n})], u.prototype, \"state\", void 0), e([n({\n  constructOnly: !0\n})], u.prototype, \"centerOnSurfaces\", void 0), e([n({\n  constructOnly: !0\n})], u.prototype, \"renderCoordsHelper\", void 0), e([n({\n  constructOnly: !0\n})], u.prototype, \"scheduler\", void 0), e([n({\n  constructOnly: !0\n})], u.prototype, \"surface\", void 0), e([n({\n  readOnly: !0\n})], u.prototype, \"updating\", void 0), u = e([i(\"esri.views.3d.support.SurfaceGeometryUpdates\")], u);\nconst l = {},\n      m = c(),\n      y = c(),\n      f = a();\nexport { u as SurfaceGeometryUpdates };","map":{"version":3,"names":["_","e","t","r","s","destroyMaybe","o","property","n","subclass","i","c","empty","a","expand","p","intersects","d","TaskPriority","h","u","constructor","arguments","handles","_tileGeometryUpdateExtent","_tileGeometryUpdateSpatialReference","events","updating","initialize","add","surface","on","_tileGeometryChanged","scheduler","registerTask","SURFACE_GEOMETRY_UPDATES","destroy","running","runTask","_centerIntersectsExtent","emit","l","_set","spatialReference","tile","extent","_furthestCenterOnSurface","centerOnSurfaces","length","distance","state","camera","eye","f","renderCoordsHelper","fromRenderCoords","m","renderLocation","y","constructOnly","prototype","readOnly","SurfaceGeometryUpdates"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/support/pointsOfInterest/SurfaceGeometryUpdates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{empty as a,expand as p,intersects as d}from\"../../../../geometry/support/aaBoundingRect.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";let u=class extends t{constructor(){super(...arguments),this.handles=new s,this._tileGeometryUpdateExtent=a(),this._tileGeometryUpdateSpatialReference=null,this.events=new r,this.updating=!1}initialize(){this.handles.add([this.surface.on(\"elevation-change\",(e=>this._tileGeometryChanged(e))),this.scheduler.registerTask(h.SURFACE_GEOMETRY_UPDATES,this)])}destroy(){this.handles=o(this.handles)}get running(){return this.updating}runTask(){this.updating&&(this._centerIntersectsExtent(this._tileGeometryUpdateExtent,this._tileGeometryUpdateSpatialReference)&&this.events.emit(\"request-update\",l),a(this._tileGeometryUpdateExtent),this._set(\"updating\",!1))}_tileGeometryChanged(e){this._tileGeometryUpdateSpatialReference=e.spatialReference,p(this._tileGeometryUpdateExtent,e.tile.extent,this._tileGeometryUpdateExtent),this._set(\"updating\",!0)}_furthestCenterOnSurface(){let e=this.centerOnSurfaces[0];for(let t=1;t<this.centerOnSurfaces.length;t++){const r=this.centerOnSurfaces[t];r.distance>e.distance&&(e=r)}return e}_centerIntersectsExtent(e,t){const r=this.state.camera.eye,s=f,o=this._furthestCenterOnSurface();return this.renderCoordsHelper.fromRenderCoords(r,m,t),this.renderCoordsHelper.fromRenderCoords(o.renderLocation,y,t),m[0]<y[0]?(s[0]=m[0],s[2]=y[0]):(s[0]=y[0],s[2]=m[0]),m[1]<y[1]?(s[1]=m[1],s[3]=y[1]):(s[1]=y[1],s[3]=m[1]),d(s,e)}};e([n({constructOnly:!0})],u.prototype,\"state\",void 0),e([n({constructOnly:!0})],u.prototype,\"centerOnSurfaces\",void 0),e([n({constructOnly:!0})],u.prototype,\"renderCoordsHelper\",void 0),e([n({constructOnly:!0})],u.prototype,\"scheduler\",void 0),e([n({constructOnly:!0})],u.prototype,\"surface\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([i(\"esri.views.3d.support.SurfaceGeometryUpdates\")],u);const l={},m=c(),y=c(),f=a();export{u as SurfaceGeometryUpdates};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}