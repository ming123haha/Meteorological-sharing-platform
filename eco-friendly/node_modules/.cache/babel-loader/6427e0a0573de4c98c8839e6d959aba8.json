{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { watch as t, initial as s } from \"../../core/reactiveUtils.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as r } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../Widget.js\";\nimport l from \"./FeatureFields/FeatureFieldsViewModel.js\";\nimport n from \"./support/FeatureElementInfo.js\";\nimport { autoLink as d } from \"../support/uriUtils.js\";\nimport \"../support/widgetUtils.js\";\nimport { messageBundle as a } from \"../support/decorators/messageBundle.js\";\nimport { tsx as f } from \"../support/jsxFactory.js\";\nconst p = {\n  base: \"esri-feature-fields\",\n  fieldHeader: \"esri-feature-fields__field-header\",\n  fieldData: \"esri-feature-fields__field-data\",\n  fieldDataDate: \"esri-feature-fields__field-data--date\",\n  esriTable: \"esri-widget__table\"\n};\nlet u = class extends o {\n  constructor(e, t) {\n    super(e, t), this._featureElementInfo = null, this.viewModel = new l(), this.messages = null, this.messagesURIUtils = null;\n  }\n\n  initialize() {\n    this._featureElementInfo = new n(), this.addHandles(t(() => [this.viewModel?.description, this.viewModel?.title], () => this._setupFeatureElementInfo(), s));\n  }\n\n  destroy() {\n    this._featureElementInfo.destroy();\n  }\n\n  get attributes() {\n    return this.viewModel.attributes;\n  }\n\n  set attributes(e) {\n    this.viewModel.attributes = e;\n  }\n\n  get description() {\n    return this.viewModel.description;\n  }\n\n  set description(e) {\n    this.viewModel.description = e;\n  }\n\n  get expressionInfos() {\n    return this.viewModel.expressionInfos;\n  }\n\n  set expressionInfos(e) {\n    this.viewModel.expressionInfos = e;\n  }\n\n  get fieldInfos() {\n    return this.viewModel.fieldInfos;\n  }\n\n  set fieldInfos(e) {\n    this.viewModel.fieldInfos = e;\n  }\n\n  get title() {\n    return this.viewModel.title;\n  }\n\n  set title(e) {\n    this.viewModel.title = e;\n  }\n\n  renderFieldInfo(e, t) {\n    const {\n      attributes: s\n    } = this.viewModel,\n          i = e.fieldName,\n          r = e.label || i,\n          o = s ? null == s[i] ? \"\" : s[i] : \"\",\n          l = !(!e.format || !e.format.dateFormat),\n          n = \"number\" == typeof o && !l ? this._forceLTR(o) : d(this.messagesURIUtils, o),\n          a = {\n      [p.fieldDataDate]: l\n    };\n    return f(\"tr\", {\n      key: `fields-element-info-row-${i}-${t}`\n    }, f(\"th\", {\n      key: `fields-element-info-row-header-${i}-${t}`,\n      class: p.fieldHeader,\n      innerHTML: r\n    }), f(\"td\", {\n      key: `fields-element-info-row-data-${i}-${t}`,\n      class: this.classes(p.fieldData, a),\n      innerHTML: n\n    }));\n  }\n\n  renderFields() {\n    const {\n      formattedFieldInfos: e\n    } = this.viewModel;\n    return e?.length ? f(\"table\", {\n      class: p.esriTable,\n      summary: this.messages.fieldsSummary\n    }, f(\"tbody\", null, e.map((e, t) => this.renderFieldInfo(e, t)))) : null;\n  }\n\n  render() {\n    return f(\"div\", {\n      class: p.base\n    }, this._featureElementInfo?.render(), this.renderFields());\n  }\n\n  _setupFeatureElementInfo() {\n    const {\n      description: e,\n      title: t\n    } = this;\n\n    this._featureElementInfo.set({\n      description: e,\n      title: t\n    });\n  }\n\n  _forceLTR(e) {\n    return `&lrm;${e}`;\n  }\n\n};\ne([i()], u.prototype, \"attributes\", null), e([i()], u.prototype, \"description\", null), e([i()], u.prototype, \"expressionInfos\", null), e([i()], u.prototype, \"fieldInfos\", null), e([i()], u.prototype, \"title\", null), e([i({\n  type: l,\n  nonNullable: !0\n})], u.prototype, \"viewModel\", void 0), e([i(), a(\"esri/widgets/Feature/t9n/Feature\")], u.prototype, \"messages\", void 0), e([i(), a(\"esri/widgets/support/t9n/uriUtils\")], u.prototype, \"messagesURIUtils\", void 0), u = e([r(\"esri.widgets.Feature.FeatureFields\")], u);\nconst m = u;\nexport { m as default };","map":{"version":3,"names":["_","e","watch","t","initial","s","property","i","subclass","r","o","l","n","autoLink","d","messageBundle","a","tsx","f","p","base","fieldHeader","fieldData","fieldDataDate","esriTable","u","constructor","_featureElementInfo","viewModel","messages","messagesURIUtils","initialize","addHandles","description","title","_setupFeatureElementInfo","destroy","attributes","expressionInfos","fieldInfos","renderFieldInfo","fieldName","label","format","dateFormat","_forceLTR","key","class","innerHTML","classes","renderFields","formattedFieldInfos","length","summary","fieldsSummary","map","render","set","prototype","type","nonNullable","m","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Feature/FeatureFields.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{watch as t,initial as s}from\"../../core/reactiveUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import l from\"./FeatureFields/FeatureFieldsViewModel.js\";import n from\"./support/FeatureElementInfo.js\";import{autoLink as d}from\"../support/uriUtils.js\";import\"../support/widgetUtils.js\";import{messageBundle as a}from\"../support/decorators/messageBundle.js\";import{tsx as f}from\"../support/jsxFactory.js\";const p={base:\"esri-feature-fields\",fieldHeader:\"esri-feature-fields__field-header\",fieldData:\"esri-feature-fields__field-data\",fieldDataDate:\"esri-feature-fields__field-data--date\",esriTable:\"esri-widget__table\"};let u=class extends o{constructor(e,t){super(e,t),this._featureElementInfo=null,this.viewModel=new l,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new n,this.addHandles(t((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),s))}destroy(){this._featureElementInfo.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(e){this.viewModel.expressionInfos=e}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(e){this.viewModel.fieldInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}renderFieldInfo(e,t){const{attributes:s}=this.viewModel,i=e.fieldName,r=e.label||i,o=s?null==s[i]?\"\":s[i]:\"\",l=!(!e.format||!e.format.dateFormat),n=\"number\"==typeof o&&!l?this._forceLTR(o):d(this.messagesURIUtils,o),a={[p.fieldDataDate]:l};return f(\"tr\",{key:`fields-element-info-row-${i}-${t}`},f(\"th\",{key:`fields-element-info-row-header-${i}-${t}`,class:p.fieldHeader,innerHTML:r}),f(\"td\",{key:`fields-element-info-row-data-${i}-${t}`,class:this.classes(p.fieldData,a),innerHTML:n}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e?.length?f(\"table\",{class:p.esriTable,summary:this.messages.fieldsSummary},f(\"tbody\",null,e.map(((e,t)=>this.renderFieldInfo(e,t))))):null}render(){return f(\"div\",{class:p.base},this._featureElementInfo?.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};e([i()],u.prototype,\"attributes\",null),e([i()],u.prototype,\"description\",null),e([i()],u.prototype,\"expressionInfos\",null),e([i()],u.prototype,\"fieldInfos\",null),e([i()],u.prototype,\"title\",null),e([i({type:l,nonNullable:!0})],u.prototype,\"viewModel\",void 0),e([i(),a(\"esri/widgets/Feature/t9n/Feature\")],u.prototype,\"messages\",void 0),e([i(),a(\"esri/widgets/support/t9n/uriUtils\")],u.prototype,\"messagesURIUtils\",void 0),u=e([r(\"esri.widgets.Feature.FeatureFields\")],u);const m=u;export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}