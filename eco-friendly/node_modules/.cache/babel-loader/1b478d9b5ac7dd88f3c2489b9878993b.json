{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from 'echarts';\n\nfunction isEmptyObject(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default echarts.extendComponentView({\n  type: 'bmap',\n  render: function (bMapModel, ecModel, api) {\n    var rendering = true;\n    var bmap = bMapModel.getBMap();\n    var viewportRoot = api.getZr().painter.getViewportRoot();\n    var coordSys = bMapModel.coordinateSystem;\n\n    var moveHandler = function (type, target) {\n      if (rendering) {\n        return;\n      }\n\n      var offsetEl = viewportRoot.parentNode.parentNode.parentNode;\n      var mapOffset = [-parseInt(offsetEl.style.left, 10) || 0, -parseInt(offsetEl.style.top, 10) || 0]; // only update style when map offset changed\n\n      var viewportRootStyle = viewportRoot.style;\n      var offsetLeft = mapOffset[0] + 'px';\n      var offsetTop = mapOffset[1] + 'px';\n\n      if (viewportRootStyle.left !== offsetLeft) {\n        viewportRootStyle.left = offsetLeft;\n      }\n\n      if (viewportRootStyle.top !== offsetTop) {\n        viewportRootStyle.top = offsetTop;\n      }\n\n      coordSys.setMapOffset(mapOffset);\n      bMapModel.__mapOffset = mapOffset;\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    };\n\n    function zoomEndHandler() {\n      if (rendering) {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    }\n\n    bmap.removeEventListener('moving', this._oldMoveHandler);\n    bmap.removeEventListener('moveend', this._oldMoveHandler);\n    bmap.removeEventListener('zoomend', this._oldZoomEndHandler);\n    bmap.addEventListener('moving', moveHandler);\n    bmap.addEventListener('moveend', moveHandler);\n    bmap.addEventListener('zoomend', zoomEndHandler);\n    this._oldMoveHandler = moveHandler;\n    this._oldZoomEndHandler = zoomEndHandler;\n    var roam = bMapModel.get('roam');\n\n    if (roam && roam !== 'scale') {\n      bmap.enableDragging();\n    } else {\n      bmap.disableDragging();\n    }\n\n    if (roam && roam !== 'move') {\n      bmap.enableScrollWheelZoom();\n      bmap.enableDoubleClickZoom();\n      bmap.enablePinchToZoom();\n    } else {\n      bmap.disableScrollWheelZoom();\n      bmap.disableDoubleClickZoom();\n      bmap.disablePinchToZoom();\n    }\n    /* map 2.0 */\n\n\n    var originalStyle = bMapModel.__mapStyle;\n    var newMapStyle = bMapModel.get('mapStyle') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr = JSON.stringify(newMapStyle);\n\n    if (JSON.stringify(originalStyle) !== mapStyleStr) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle)) {\n        bmap.setMapStyle(echarts.util.clone(newMapStyle));\n      }\n\n      bMapModel.__mapStyle = JSON.parse(mapStyleStr);\n    }\n    /* map 3.0 */\n\n\n    var originalStyle2 = bMapModel.__mapStyle2;\n    var newMapStyle2 = bMapModel.get('mapStyleV2') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr2 = JSON.stringify(newMapStyle2);\n\n    if (JSON.stringify(originalStyle2) !== mapStyleStr2) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle2)) {\n        bmap.setMapStyleV2(echarts.util.clone(newMapStyle2));\n      }\n\n      bMapModel.__mapStyle2 = JSON.parse(mapStyleStr2);\n    }\n\n    rendering = false;\n  }\n});","map":{"version":3,"names":["echarts","isEmptyObject","obj","key","hasOwnProperty","extendComponentView","type","render","bMapModel","ecModel","api","rendering","bmap","getBMap","viewportRoot","getZr","painter","getViewportRoot","coordSys","coordinateSystem","moveHandler","target","offsetEl","parentNode","mapOffset","parseInt","style","left","top","viewportRootStyle","offsetLeft","offsetTop","setMapOffset","__mapOffset","dispatchAction","animation","duration","zoomEndHandler","removeEventListener","_oldMoveHandler","_oldZoomEndHandler","addEventListener","roam","get","enableDragging","disableDragging","enableScrollWheelZoom","enableDoubleClickZoom","enablePinchToZoom","disableScrollWheelZoom","disableDoubleClickZoom","disablePinchToZoom","originalStyle","__mapStyle","newMapStyle","mapStyleStr","JSON","stringify","setMapStyle","util","clone","parse","originalStyle2","__mapStyle2","newMapStyle2","mapStyleStr2","setMapStyleV2"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/echarts/extension/bmap/BMapView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from 'echarts';\n\nfunction isEmptyObject(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default echarts.extendComponentView({\n  type: 'bmap',\n  render: function (bMapModel, ecModel, api) {\n    var rendering = true;\n    var bmap = bMapModel.getBMap();\n    var viewportRoot = api.getZr().painter.getViewportRoot();\n    var coordSys = bMapModel.coordinateSystem;\n\n    var moveHandler = function (type, target) {\n      if (rendering) {\n        return;\n      }\n\n      var offsetEl = viewportRoot.parentNode.parentNode.parentNode;\n      var mapOffset = [-parseInt(offsetEl.style.left, 10) || 0, -parseInt(offsetEl.style.top, 10) || 0]; // only update style when map offset changed\n\n      var viewportRootStyle = viewportRoot.style;\n      var offsetLeft = mapOffset[0] + 'px';\n      var offsetTop = mapOffset[1] + 'px';\n\n      if (viewportRootStyle.left !== offsetLeft) {\n        viewportRootStyle.left = offsetLeft;\n      }\n\n      if (viewportRootStyle.top !== offsetTop) {\n        viewportRootStyle.top = offsetTop;\n      }\n\n      coordSys.setMapOffset(mapOffset);\n      bMapModel.__mapOffset = mapOffset;\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    };\n\n    function zoomEndHandler() {\n      if (rendering) {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'bmapRoam',\n        animation: {\n          duration: 0\n        }\n      });\n    }\n\n    bmap.removeEventListener('moving', this._oldMoveHandler);\n    bmap.removeEventListener('moveend', this._oldMoveHandler);\n    bmap.removeEventListener('zoomend', this._oldZoomEndHandler);\n    bmap.addEventListener('moving', moveHandler);\n    bmap.addEventListener('moveend', moveHandler);\n    bmap.addEventListener('zoomend', zoomEndHandler);\n    this._oldMoveHandler = moveHandler;\n    this._oldZoomEndHandler = zoomEndHandler;\n    var roam = bMapModel.get('roam');\n\n    if (roam && roam !== 'scale') {\n      bmap.enableDragging();\n    } else {\n      bmap.disableDragging();\n    }\n\n    if (roam && roam !== 'move') {\n      bmap.enableScrollWheelZoom();\n      bmap.enableDoubleClickZoom();\n      bmap.enablePinchToZoom();\n    } else {\n      bmap.disableScrollWheelZoom();\n      bmap.disableDoubleClickZoom();\n      bmap.disablePinchToZoom();\n    }\n    /* map 2.0 */\n\n\n    var originalStyle = bMapModel.__mapStyle;\n    var newMapStyle = bMapModel.get('mapStyle') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr = JSON.stringify(newMapStyle);\n\n    if (JSON.stringify(originalStyle) !== mapStyleStr) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle)) {\n        bmap.setMapStyle(echarts.util.clone(newMapStyle));\n      }\n\n      bMapModel.__mapStyle = JSON.parse(mapStyleStr);\n    }\n    /* map 3.0 */\n\n\n    var originalStyle2 = bMapModel.__mapStyle2;\n    var newMapStyle2 = bMapModel.get('mapStyleV2') || {}; // FIXME, Not use JSON methods\n\n    var mapStyleStr2 = JSON.stringify(newMapStyle2);\n\n    if (JSON.stringify(originalStyle2) !== mapStyleStr2) {\n      // FIXME May have blank tile when dragging if setMapStyle\n      if (!isEmptyObject(newMapStyle2)) {\n        bmap.setMapStyleV2(echarts.util.clone(newMapStyle2));\n      }\n\n      bMapModel.__mapStyle2 = JSON.parse(mapStyleStr2);\n    }\n\n    rendering = false;\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}