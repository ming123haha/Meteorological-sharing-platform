{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { textureSize as e } from \"../util/WebGL2Utils.js\";\nimport { glsl as r } from \"../../shaderModules/interfaces.js\";\nimport { createTexture2DPassSizeUniforms as s } from \"../../shaderModules/Texture2DPassUniform.js\";\nimport { TextureSizeUniformType as o } from \"../../shaderModules/TextureSizeUniformType.js\";\nimport { blurSizePixels as t } from \"../../../lib/SSAOHelper.js\";\n\nfunction n(n, a) {\n  const i = n.fragment;\n  a.receiveAmbientOcclusion ? (i.uniforms.add(s(\"ssaoTex\", (e, r) => r.ssaoHelper.colorTexture, a.hasWebGL2Context ? o.None : o.InvSize)), i.constants.add(\"blurSizePixelsInverse\", \"float\", 1 / t), i.code.add(r`\n      float evaluateAmbientOcclusionInverse() {\n        vec2 ssaoTextureSizeInverse = ${e(a, \"ssaoTex\", !0)};\n        return texture2D(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).a;\n      }\n\n      float evaluateAmbientOcclusion() {\n        return 1.0 - evaluateAmbientOcclusionInverse();\n      }\n    `)) : i.code.add(r`float evaluateAmbientOcclusionInverse() { return 1.0; }\nfloat evaluateAmbientOcclusion() { return 0.0; }`);\n}\n\nexport { n as EvaluateAmbientOcclusion };","map":{"version":3,"names":["textureSize","e","glsl","r","createTexture2DPassSizeUniforms","s","TextureSizeUniformType","o","blurSizePixels","t","n","a","i","fragment","receiveAmbientOcclusion","uniforms","add","ssaoHelper","colorTexture","hasWebGL2Context","None","InvSize","constants","code","EvaluateAmbientOcclusion"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{textureSize as e}from\"../util/WebGL2Utils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{createTexture2DPassSizeUniforms as s}from\"../../shaderModules/Texture2DPassUniform.js\";import{TextureSizeUniformType as o}from\"../../shaderModules/TextureSizeUniformType.js\";import{blurSizePixels as t}from\"../../../lib/SSAOHelper.js\";function n(n,a){const i=n.fragment;a.receiveAmbientOcclusion?(i.uniforms.add(s(\"ssaoTex\",((e,r)=>r.ssaoHelper.colorTexture),a.hasWebGL2Context?o.None:o.InvSize)),i.constants.add(\"blurSizePixelsInverse\",\"float\",1/t),i.code.add(r`\n      float evaluateAmbientOcclusionInverse() {\n        vec2 ssaoTextureSizeInverse = ${e(a,\"ssaoTex\",!0)};\n        return texture2D(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).a;\n      }\n\n      float evaluateAmbientOcclusion() {\n        return 1.0 - evaluateAmbientOcclusionInverse();\n      }\n    `)):i.code.add(r`float evaluateAmbientOcclusionInverse() { return 1.0; }\nfloat evaluateAmbientOcclusion() { return 0.0; }`)}export{n as EvaluateAmbientOcclusion};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,WAAW,IAAIC,CAAtB,QAA4B,wBAA5B;AAAqD,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;AAAyD,SAAOC,+BAA+B,IAAIC,CAA1C,QAAgD,6CAAhD;AAA8F,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,+CAAvC;AAAuF,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,4BAA/B;;AAA4D,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAMC,CAAC,GAACF,CAAC,CAACG,QAAV;EAAmBF,CAAC,CAACG,uBAAF,IAA2BF,CAAC,CAACG,QAAF,CAAWC,GAAX,CAAeX,CAAC,CAAC,SAAD,EAAY,CAACJ,CAAD,EAAGE,CAAH,KAAOA,CAAC,CAACc,UAAF,CAAaC,YAAhC,EAA8CP,CAAC,CAACQ,gBAAF,GAAmBZ,CAAC,CAACa,IAArB,GAA0Bb,CAAC,CAACc,OAA1E,CAAhB,GAAoGT,CAAC,CAACU,SAAF,CAAYN,GAAZ,CAAgB,uBAAhB,EAAwC,OAAxC,EAAgD,IAAEP,CAAlD,CAApG,EAAyJG,CAAC,CAACW,IAAF,CAAOP,GAAP,CAAWb,CAAE;AACnkB;AACA,wCAAwCF,CAAC,CAACU,CAAD,EAAG,SAAH,EAAa,CAAC,CAAd,CAAiB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,KATsjB,CAApL,IAS1XC,CAAC,CAACW,IAAF,CAAOP,GAAP,CAAWb,CAAE;AACrB,iDADQ,CAT0X;AAU/U;;AAAA,SAAOO,CAAC,IAAIc,wBAAZ"},"metadata":{},"sourceType":"module"}