{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { ByteSizeUnit as e } from \"../../../../core/byteSizeEstimations.js\";\nimport t from \"../../../../core/Error.js\";\nimport { isSome as s } from \"../../../../core/maybe.js\";\nimport { onAbort as r, throwIfAborted as i } from \"../../../../core/promiseUtils.js\";\nconst o = 14;\n\nclass n {\n  constructor(t, s, r = o) {\n    this._version = r, this._db = null, this._quotaReductionPromise = null, this._gcCounter = 0, this._hit = 0, this._miss = 0, this._destroyed = !1, this.gcFrequency = 50, this.maxByteSize = e.GIGABYTES, this.quotaReductionFactor = .2, this._dbName = t, this._storeName = s;\n  }\n\n  init() {\n    return Promise.resolve().then(() => {\n      const e = indexedDB.open(this._dbName, this._version);\n      return e.onupgradeneeded = t => {\n        const s = e.result,\n              r = e.transaction,\n              i = s.objectStoreNames.contains(this._storeName) ? r.objectStore(this._storeName) : s.createObjectStore(this._storeName),\n              o = s.objectStoreNames.contains(\"last_access\") ? r.objectStore(\"last_access\") : s.createObjectStore(\"last_access\");\n        o.indexNames.contains(\"date\") || o.createIndex(\"date\", \"date\", {\n          unique: !1\n        }), o.indexNames.contains(\"byteSize\") || o.createIndex(\"byteSize\", \"byteSize\", {\n          unique: !1\n        }), t.oldVersion < this._version && (i.clear(), o.clear());\n      }, a(e);\n    }).then(e => {\n      this._destroyed ? e.close() : this._db = e;\n    });\n  }\n\n  destroy() {\n    this._db && (this._db.close(), this._db = null), this._destroyed = !0;\n  }\n\n  get initialized() {\n    return null != this._db;\n  }\n\n  getHitRate() {\n    return this._hit / (this._hit + this._miss);\n  }\n\n  put(e, s) {\n    if (null == this._db) return Promise.reject(new t(\"indexedb:not-initialized\", \"IndexedDB Cache is not initialized\"));\n    return (null != this._quotaReductionPromise ? this._quotaReductionPromise : Promise.resolve()).then(() => this._put(e, s)).catch(t => {\n      if (t && \"QuotaExceededError\" === t.name) return null == this._quotaReductionPromise && (this._quotaReductionPromise = this._getCacheSize().then(e => this._removeLeastRecentlyAccessed(s.byteSize + Math.ceil(e * this.quotaReductionFactor))), this._quotaReductionPromise.then(() => this._quotaReductionPromise = null, () => this._quotaReductionPromise = null)), this._quotaReductionPromise.then(() => this._put(e, s));\n      throw t;\n    }).then(() => {\n      this._gcCounter--, this._gcCounter < 0 && null != this._db && (this._gcCounter = this.gcFrequency, this._getCacheSize().then(e => this._removeLeastRecentlyAccessed(e - this.maxByteSize)));\n    });\n  }\n\n  get(e, t) {\n    if (null == this._db) return Promise.resolve(null);\n    let o = null;\n    return Promise.resolve().then(() => {\n      const s = this._db.transaction(this._storeName, \"readonly\");\n\n      o = r(t, () => {\n        s.abort();\n      });\n      return a(s.objectStore(this._storeName).get(e));\n    }).then(t => {\n      if (null == t) ++this._miss;else if (this._db) {\n        ++this._hit;\n\n        this._db.transaction(\"last_access\", \"readwrite\").objectStore(\"last_access\").put({\n          date: Date.now(),\n          byteSize: t.byteSize\n        }, e);\n      }\n      return s(o) && o.remove(), t;\n    }).catch(() => (++this._miss, i(t), s(o) && o.remove(), null));\n  }\n\n  remove(e) {\n    return null == this._db ? Promise.resolve() : Promise.resolve().then(async () => {\n      const t = this._db.transaction([this._storeName, \"last_access\"], \"readwrite\"),\n            s = t.objectStore(this._storeName),\n            r = t.objectStore(\"last_access\"),\n            i = s.delete(e),\n            o = r.delete(e);\n\n      await Promise.all([a(i), a(o), c(t)]);\n    });\n  }\n\n  _put(e, t) {\n    const s = this._db.transaction([this._storeName, \"last_access\"], \"readwrite\"),\n          r = s.objectStore(this._storeName),\n          i = s.objectStore(\"last_access\"),\n          o = r.put(t, e),\n          n = i.put({\n      date: Date.now(),\n      byteSize: t.byteSize\n    }, e);\n\n    return Promise.all([a(o), a(n), c(s)]);\n  }\n\n  _removeLeastRecentlyAccessed(e) {\n    if (e <= 0 || !this._db) return;\n\n    const t = this._db.transaction([this._storeName, \"last_access\"], \"readwrite\"),\n          s = t.objectStore(this._storeName),\n          r = t.objectStore(\"last_access\");\n\n    let i = 0;\n    const o = r.index(\"date\").openCursor(null, \"next\");\n    return o.onsuccess = () => {\n      const t = o.result;\n      null != t && (null != t.value.byteSize && (i += t.value.byteSize), s.delete(t.primaryKey), r.delete(t.primaryKey), i < e && t.continue());\n    }, c(t);\n  }\n\n  _getCacheSize() {\n    const e = this._db.transaction(\"last_access\"),\n          t = e.objectStore(\"last_access\");\n\n    let s = 0;\n    const r = t.index(\"byteSize\").openKeyCursor();\n    return r.onsuccess = () => {\n      const e = r.result;\n      if (!e) return;\n      const t = e.key;\n      null != t && (s += t), e.continue();\n    }, c(e).then(() => s);\n  }\n\n}\n\nfunction c(e) {\n  return new Promise((t, s) => {\n    e.oncomplete = () => t(), e.onerror = () => s(e.error), e.onabort = () => s(e.error);\n  });\n}\n\nfunction a(e) {\n  return new Promise((t, s) => {\n    \"done\" === e.readyState ? null != e.error ? s(e.error) : t(e.result) : (e.onsuccess = () => t(e.result), e.onerror = () => s(e.error));\n  });\n}\n\nexport { n as IDBCache, a as whenRequest, c as whenTransaction };","map":{"version":3,"names":["ByteSizeUnit","e","t","isSome","s","onAbort","r","throwIfAborted","i","o","n","constructor","_version","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","GIGABYTES","quotaReductionFactor","_dbName","_storeName","init","Promise","resolve","then","indexedDB","open","onupgradeneeded","result","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","clear","a","close","destroy","initialized","getHitRate","put","reject","_put","catch","name","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","Math","ceil","get","abort","date","Date","now","remove","delete","all","c","index","openCursor","onsuccess","value","primaryKey","continue","openKeyCursor","key","oncomplete","onerror","error","onabort","readyState","IDBCache","whenRequest","whenTransaction"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as e}from\"../../../../core/byteSizeEstimations.js\";import t from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{onAbort as r,throwIfAborted as i}from\"../../../../core/promiseUtils.js\";const o=14;class n{constructor(t,s,r=o){this._version=r,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=e.GIGABYTES,this.quotaReductionFactor=.2,this._dbName=t,this._storeName=s}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},a(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(e,s){if(null==this._db)return Promise.reject(new t(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(e,s))).catch((t=>{if(t&&\"QuotaExceededError\"===t.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(e,s)));throw t})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,t){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const s=this._db.transaction(this._storeName,\"readonly\");o=r(t,(()=>{s.abort()}));return a(s.objectStore(this._storeName).get(e))})).then((t=>{if(null==t)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:t.byteSize},e)}return s(o)&&o.remove(),t})).catch((()=>(++this._miss,i(t),s(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([a(i),a(o),c(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),n=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([a(o),a(n),c(s)])}_removeLeastRecentlyAccessed(e){if(e<=0||!this._db)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},c(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},c(e).then((()=>s))}}function c(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function a(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{n as IDBCache,a as whenRequest,c as whenTransaction};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}