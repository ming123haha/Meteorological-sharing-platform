{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../Graphic.js\";\nimport { HandleOwner as i } from \"../../../../core/HandleOwner.js\";\nimport { watch as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"./createFlowStyle.js\";\nimport { loadImagery as n } from \"./dataUtils.js\";\nimport l from \"./FlowContainer.js\";\nimport p from \"./FlowStrategy.js\";\nlet h = class extends i {\n  constructor() {\n    super(...arguments), this._loadImagery = (t, e, i, r, o) => n(this.layer, t, e, i, r, o), this._createFlowMesh = (t, e, i, r) => this.layer.createFlowMesh({\n      meshType: t,\n      flowData: i,\n      simulationSettings: e\n    }, {\n      signal: r\n    }), this.attached = !1, this.container = null, this.layer = null, this.type = \"flow\", this.timeExtent = null, this.redrawOrRefetch = async () => {\n      this._updateVisualization();\n    };\n  }\n\n  get updating() {\n    return !this._strategy || this._strategy.updating;\n  }\n\n  attach() {\n    const {\n      layer: t\n    } = this,\n          e = () => {\n      this._loadImagery = (e, i, r, o, s) => n(t, e, i, r, o, s), this._updateVisualization();\n    };\n\n    \"multidimensionalDefinition\" in t ? this.handles.add(r(() => t.multidimensionalDefinition, e)) : this.handles.add([r(() => t.mosaicRule, e), r(() => t.renderingRule, e), r(() => t.definitionExpression, e)]), this.container = new l(), this._strategy = new p({\n      flowContainer: this.container\n    }), this._updateVisualization();\n  }\n\n  detach() {\n    this._strategy.destroy(), this.container.removeAllChildren(), this.container = null, this.handles.removeAll();\n  }\n\n  update(t) {\n    t.stationary ? this._strategy.update(t) : this.layerView.requestUpdate();\n  }\n\n  hitTest(t) {\n    return new e({\n      attributes: {},\n      geometry: t.clone(),\n      layer: this.layer\n    });\n  }\n\n  moveEnd() {}\n\n  async doRefresh() {}\n\n  _updateVisualization() {\n    const {\n      renderer: t\n    } = this.layer;\n    if (\"flow\" !== t.type) return;\n    const e = a(t, {\n      loadImagery: this._loadImagery,\n      createFlowMesh: this._createFlowMesh,\n      timeExtent: this.timeExtent\n    });\n    this.container.flowStyle = e, this.layerView.requestUpdate();\n  }\n\n};\nt([o()], h.prototype, \"_strategy\", void 0), t([o()], h.prototype, \"attached\", void 0), t([o()], h.prototype, \"container\", void 0), t([o()], h.prototype, \"layer\", void 0), t([o()], h.prototype, \"layerView\", void 0), t([o()], h.prototype, \"type\", void 0), t([o()], h.prototype, \"updating\", null), t([o()], h.prototype, \"timeExtent\", void 0), h = t([s(\"esri.views.2d.engine.flow.FlowView2D\")], h);\nconst d = h;\nexport { d as default };","map":{"version":3,"names":["_","t","e","HandleOwner","i","watch","r","property","o","subclass","s","a","loadImagery","n","l","p","h","constructor","arguments","_loadImagery","layer","_createFlowMesh","createFlowMesh","meshType","flowData","simulationSettings","signal","attached","container","type","timeExtent","redrawOrRefetch","_updateVisualization","updating","_strategy","attach","handles","add","multidimensionalDefinition","mosaicRule","renderingRule","definitionExpression","flowContainer","detach","destroy","removeAllChildren","removeAll","update","stationary","layerView","requestUpdate","hitTest","attributes","geometry","clone","moveEnd","doRefresh","renderer","flowStyle","prototype","d","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"./createFlowStyle.js\";import{loadImagery as n}from\"./dataUtils.js\";import l from\"./FlowContainer.js\";import p from\"./FlowStrategy.js\";let h=class extends i{constructor(){super(...arguments),this._loadImagery=(t,e,i,r,o)=>n(this.layer,t,e,i,r,o),this._createFlowMesh=(t,e,i,r)=>this.layer.createFlowMesh({meshType:t,flowData:i,simulationSettings:e},{signal:r}),this.attached=!1,this.container=null,this.layer=null,this.type=\"flow\",this.timeExtent=null,this.redrawOrRefetch=async()=>{this._updateVisualization()}}get updating(){return!this._strategy||this._strategy.updating}attach(){const{layer:t}=this,e=()=>{this._loadImagery=(e,i,r,o,s)=>n(t,e,i,r,o,s),this._updateVisualization()};\"multidimensionalDefinition\"in t?this.handles.add(r((()=>t.multidimensionalDefinition),e)):this.handles.add([r((()=>t.mosaicRule),e),r((()=>t.renderingRule),e),r((()=>t.definitionExpression),e)]),this.container=new l,this._strategy=new p({flowContainer:this.container}),this._updateVisualization()}detach(){this._strategy.destroy(),this.container.removeAllChildren(),this.container=null,this.handles.removeAll()}update(t){t.stationary?this._strategy.update(t):this.layerView.requestUpdate()}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}moveEnd(){}async doRefresh(){}_updateVisualization(){const{renderer:t}=this.layer;if(\"flow\"!==t.type)return;const e=a(t,{loadImagery:this._loadImagery,createFlowMesh:this._createFlowMesh,timeExtent:this.timeExtent});this.container.flowStyle=e,this.layerView.requestUpdate()}};t([o()],h.prototype,\"_strategy\",void 0),t([o()],h.prototype,\"attached\",void 0),t([o()],h.prototype,\"container\",void 0),t([o()],h.prototype,\"layer\",void 0),t([o()],h.prototype,\"layerView\",void 0),t([o()],h.prototype,\"type\",void 0),t([o()],h.prototype,\"updating\",null),t([o()],h.prototype,\"timeExtent\",void 0),h=t([s(\"esri.views.2d.engine.flow.FlowView2D\")],h);const d=h;export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}