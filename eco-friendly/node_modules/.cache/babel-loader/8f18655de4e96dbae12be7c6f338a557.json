{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport s from \"../../core/Handles.js\";\nimport r from \"../../core/Logger.js\";\nimport { unwrapOr as i, removeMaybe as a, isNone as u, isSome as o } from \"../../core/maybe.js\";\nimport n from \"../../core/PerformanceSampler.js\";\nimport h from \"../../core/PooledArray.js\";\nimport { isAborted as _, createAbortError as d, when as l } from \"../../core/promiseUtils.js\";\nimport { watch as E, initial as c, when as T } from \"../../core/reactiveUtils.js\";\nimport { Milliseconds as m } from \"../../core/time.js\";\nimport { property as I } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as g } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { PromiseQueue as p } from \"../../layers/support/PromiseQueue.js\";\nimport R from \"./debugFlags.js\";\nconst f = r.getLogger(\"esri.views.support.Scheduler\");\n\nfunction A() {\n  return new D.Scheduler();\n}\n\nvar L;\n!function (e) {\n  e.RESOURCE_CONTROLLER = \"schedule\", e.SLIDE = \"slide\", e.STREAM_DATA_LOADER = \"stream loader\", e.ELEVATION_QUERY = \"elevation query\", e.TERRAIN_SURFACE = \"terrain\", e.SURFACE_GEOMETRY_UPDATES = \"surface geometry updates\", e.GRAPHICS_CORE = \"Graphics3D\", e.I3S_CONTROLLER = \"I3S\", e.POINT_CLOUD_LAYER = \"point cloud\", e.FEATURE_TILE_FETCHER = \"feature fetcher\", e.OVERLAY = \"overlay\", e.STAGE = \"stage\", e.GRAPHICS_DECONFLICTOR = \"graphics deconflictor\", e.FILTER_VISIBILITY = \"Graphics3D filter visibility\", e.SCALE_VISIBILITY = \"Graphics3D scale visibility\", e.FRUSTUM_VISIBILITY = \"Graphics3D frustum visibility\", e.POINT_OF_INTEREST_FREQUENT = \"POI frequent\", e.POINT_OF_INTEREST_INFREQUENT = \"POI infrequent\", e.LABELER = \"labeler\", e.FEATURE_QUERY_ENGINE = \"feature query\", e.FEATURE_TILE_TREE = \"feature tile tree\", e.FEATURE_TILE_TREE_ACTIVE = \"fast feature tile tree\", e.ELEVATION_ALIGNMENT = \"elevation alignment\", e.TEXT_TEXTURE_ATLAS = \"text texture atlas\", e.TEXTURE_UNLOAD = \"texture unload\", e.LINE_OF_SIGHT_TOOL = \"line of sight tool\", e.LINE_OF_SIGHT_TOOL_INTERACTIVE = \"interactive line of sight tool\", e.ELEVATION_PROFILE = \"elevation profile\", e.SNAPPING = \"snapping\", e.SHADOW_ACCUMULATOR = \"shadow accumulator\", e.CLOUDS_GENERATOR = \"cloud generator\", e[e.TEST_PRIO = 1] = \"TEST_PRIO\";\n}(L || (L = {}));\nconst S = 0,\n      b = new Map([[L.RESOURCE_CONTROLLER, S], [L.SLIDE, S], [L.STREAM_DATA_LOADER, S], [L.ELEVATION_QUERY, S], [L.TERRAIN_SURFACE, 1], [L.SURFACE_GEOMETRY_UPDATES, 1], [L.GRAPHICS_CORE, 2], [L.I3S_CONTROLLER, 2], [L.POINT_CLOUD_LAYER, 2], [L.FEATURE_TILE_FETCHER, 2], [L.OVERLAY, 4], [L.STAGE, 4], [L.GRAPHICS_DECONFLICTOR, 4], [L.FILTER_VISIBILITY, 4], [L.SCALE_VISIBILITY, 4], [L.FRUSTUM_VISIBILITY, 4], [L.POINT_OF_INTEREST_FREQUENT, 6], [L.POINT_OF_INTEREST_INFREQUENT, 30], [L.LABELER, 8], [L.FEATURE_QUERY_ENGINE, 8], [L.FEATURE_TILE_TREE, 16], [L.FEATURE_TILE_TREE_ACTIVE, S], [L.ELEVATION_ALIGNMENT, 12], [L.TEXT_TEXTURE_ATLAS, 12], [L.CLOUDS_GENERATOR, 12], [L.TEXTURE_UNLOAD, 12], [L.LINE_OF_SIGHT_TOOL, 16], [L.LINE_OF_SIGHT_TOOL_INTERACTIVE, S], [L.SNAPPING, S], [L.SHADOW_ACCUMULATOR, 30]]);\n\nfunction k(e) {\n  return b.has(e) ? b.get(e) : \"number\" == typeof e ? e : 1;\n}\n\nvar N;\n!function (e) {\n  e[e.ANIMATING = 0] = \"ANIMATING\", e[e.INTERACTING = 1] = \"INTERACTING\", e[e.IDLE = 2] = \"IDLE\";\n}(N || (N = {}));\nconst O = m(6.5),\n      U = m(1),\n      P = m(30),\n      y = m(1e3 / 30),\n      C = m(100),\n      F = .9;\nvar D, G;\n!function (r) {\n  let _ = class extends t {\n    constructor() {\n      super(), this.updating = !0, this._microTaskQueued = !1, this.performanceInfo = {\n        total: new n(\"total\"),\n        tasks: new Map()\n      }, this._frameTaskTimes = new Map(), this._budget = new l(), this._state = N.INTERACTING, this._tasks = new h(), this._runQueue = new h(), this._load = 0, this._idleStateCallbacks = new h(), this._idleUpdatesStartFired = !1, this._maxReschedule = B, this._forceTask = !1, this._debug = !1, this._debugHandle = E(() => R.SCHEDULER_LOG_SLOW_TASKS, e => this._debug = e, c);\n\n      for (const s of Object.keys(L)) this.performanceInfo.tasks.set(L[s], new n(L[s]));\n\n      let e;\n      const t = this;\n      this._test = {\n        get state() {\n          return i(e, t._state);\n        },\n\n        set state(t) {\n          e = t;\n        },\n\n        FRAME_SAFETY_BUDGET: O,\n        INTERACTING_BUDGET: y,\n        IDLE_BUDGET: C,\n\n        get availableBudget() {\n          return t._budget.budget;\n        },\n\n        usedBudget: 0,\n        getBudget: () => t._budget,\n        setBudget: e => t._budget = e,\n        updateTask: e => this._updateTask(e),\n        getState: e => this._getState(e),\n        getRuntime: e => this._getRuntime(e),\n        frameTaskTimes: this._frameTaskTimes,\n        resetRuntimes: () => this._resetRuntimes(),\n        getRunning: () => this._getRunning()\n      };\n    }\n\n    destroy() {\n      this._tasks.toArray().forEach(e => e.remove()), this._tasks.clear(), a(this._debugHandle), this._microTaskQueued = !1, this.updating = !1;\n    }\n\n    activate() {\n      this._budget.done || this._microTaskQueued || (this._microTaskQueued = !0, queueMicrotask(() => {\n        this._microTaskQueued && (this._microTaskQueued = !1, this._budget.done || (this._maxReschedule = B, this._schedule(), this.frame()));\n      }));\n    }\n\n    registerTask(e, t) {\n      const s = k(e),\n            r = new d(this, e, t, s);\n      return this._tasks.push(r), this.performanceInfo.tasks.has(e) || this.performanceInfo.tasks.set(e, new n(e)), r;\n    }\n\n    registerIdleStateCallbacks(e, t) {\n      const s = {\n        idleBegin: e,\n        idleEnd: t\n      };\n      this._idleStateCallbacks.push(s), this.state === N.IDLE && this._idleUpdatesStartFired && s.idleBegin();\n      const r = this;\n      return {\n        remove: () => this._removeIdleStateCallbacks(s),\n\n        set idleBegin(e) {\n          r._idleUpdatesStartFired && (s.idleEnd(), r._state === N.IDLE && e()), s.idleBegin = e;\n        },\n\n        set idleEnd(e) {\n          s.idleEnd = e;\n        }\n\n      };\n    }\n\n    get load() {\n      return this._load;\n    }\n\n    set state(e) {\n      this._state !== e && (this._state = e, this.state !== N.IDLE && this._idleUpdatesStartFired && (this._idleUpdatesStartFired = !1, this._idleStateCallbacks.forAll(e => e.idleEnd())));\n    }\n\n    get state() {\n      return u(this._test.state) ? this._state : this._test.state;\n    }\n\n    updateBudget(e) {\n      this._test.usedBudget = 0;\n      let t = O,\n          s = e.frameDuration,\n          r = U;\n\n      switch (this.state) {\n        case N.IDLE:\n          t = m(0), s = m(Math.max(C, e.frameDuration)), r = P;\n          break;\n\n        case N.INTERACTING:\n          s = m(Math.max(y, e.frameDuration));\n\n        case N.ANIMATING:\n      }\n\n      return s = m(s - e.elapsedFrameTime - t), this.state !== N.IDLE && s < U && !this._forceTask ? (this._forceTask = !0, !1) : (s = m(Math.max(s, r)), this._budget.reset(s, this.state), this._maxReschedule = B, this._updateLoad(), this._schedule());\n    }\n\n    frame() {\n      switch (this._forceTask = !1, this._microTaskQueued = !1, this.state) {\n        case N.IDLE:\n          this._idleUpdatesStartFired || (this._idleUpdatesStartFired = !0, this._idleStateCallbacks.forAll(e => e.idleBegin())), this._runIdle();\n          break;\n\n        case N.INTERACTING:\n          this._runInteracting();\n\n          break;\n\n        default:\n          this._runAnimating();\n\n      }\n\n      this._test.usedBudget = this._budget.elapsed;\n    }\n\n    stopFrame() {\n      this._budget.reset(m(0), this._state), this._budget.madeProgress();\n    }\n\n    _removeIdleStateCallbacks(e) {\n      this._idleUpdatesStartFired && e.idleEnd(), this._idleStateCallbacks.removeUnordered(e);\n    }\n\n    removeTask(e) {\n      this._tasks.removeUnordered(e), this._runQueue.removeUnordered(e);\n    }\n\n    _updateTask(e) {\n      this._tasks.forAll(t => {\n        t.name === e && t.setPriority(e);\n      });\n    }\n\n    _getState(e) {\n      if (this._runQueue.some(t => t.name === e)) return G.SCHEDULED;\n      let t = G.IDLE;\n      return this._tasks.forAll(s => {\n        s.name === e && s.needsUpdate && (s.schedulePriority <= 1 ? t = G.READY : t !== G.READY && (t = G.WAITING));\n      }), t;\n    }\n\n    _getRuntime(e) {\n      let t = 0;\n      return this._tasks.forAll(s => {\n        s.name === e && (t += s.runtime);\n      }), t;\n    }\n\n    _resetRuntimes() {\n      this._tasks.forAll(e => e.runtime = 0);\n    }\n\n    _getRunning() {\n      const e = new Map();\n      if (this._tasks.forAll(t => {\n        t.needsUpdate && e.set(t.name, (e.get(t.name) || 0) + 1);\n      }), 0 === e.size) return null;\n      let t = \"\";\n      return e.forEach((e, s) => {\n        t += e > 1 ? ` ${e}x ${s}` : ` ${s}`;\n      }), t;\n    }\n\n    _runIdle() {\n      this._run();\n    }\n\n    _runInteracting() {\n      this._run();\n    }\n\n    _runAnimating() {\n      this._run();\n    }\n\n    _updateLoad() {\n      const e = this._tasks.reduce((e, t) => t.needsUpdate ? ++e : e, 0);\n\n      this._load = this._load * F + e * (1 - F);\n    }\n\n    _schedule() {\n      if (this._maxReschedule <= 0) return !1;\n\n      for (this._runQueue.filterInPlace(e => !!e.needsUpdate || (e.schedulePriority = e.basePriority, !1)), this._tasks.forAll(e => {\n        e.basePriority === S && e.needsUpdate && !this._runQueue.includes(e) && this._runQueue.unshift(e);\n      }); 0 === this._runQueue.length;) {\n        let e = !1,\n            t = 0;\n        if (this._tasks.forAll(s => {\n          if (s.needsUpdate && 0 !== s.schedulePriority && s.basePriority !== S) if (e = !0, t = Math.max(t, s.basePriority), 1 === s.schedulePriority) s.schedulePriority = 0, this._runQueue.push(s);else --s.schedulePriority;\n        }), !e) return this.updating = !1, !1;\n        this._maxReschedule === B && (this._maxReschedule = t), --this._maxReschedule;\n      }\n\n      return this.updating = !0, !0;\n    }\n\n    _run() {\n      const e = this._budget.now();\n\n      this._startFrameTaskTimes();\n\n      do {\n        for (; this._runQueue.length > 0;) {\n          const s = this._budget.now(),\n                r = this._runQueue.pop();\n\n          this._budget.resetProgress();\n\n          try {\n            r.task.runTask(this._budget);\n          } catch (t) {\n            f.error(`Exception in task \"${r.name}\"`, t);\n          }\n\n          r.schedulePriority = r.basePriority;\n          const i = this._budget.now() - s;\n          if (r.runtime += i, this._frameTaskTimes.set(r.priority, this._frameTaskTimes.get(r.priority) + i), this._debug && this._budget.elapsed > 2 * this._budget.budget && console.log(\"Task\", r.name, \"used\", this._budget.elapsed, \"of max\", this._budget.budget, \"ms\"), this._budget.remaining <= 0) return this.updating = this._tasks.some(e => e.needsUpdate), void this._recordFrameTaskTimes(this._budget.now() - e);\n        }\n      } while (this._schedule());\n\n      this.updating = this._tasks.some(e => e.needsUpdate), this._recordFrameTaskTimes(this._budget.now() - e);\n    }\n\n    _startFrameTaskTimes() {\n      for (const e of Object.keys(L)) this._frameTaskTimes.set(L[e], 0);\n    }\n\n    _recordFrameTaskTimes(e) {\n      this._frameTaskTimes.forEach((e, t) => this.performanceInfo.tasks.get(t).record(e)), this.performanceInfo.total.record(e);\n    }\n\n    get test() {\n      return this._test;\n    }\n\n  };\n\n  e([I()], _.prototype, \"updating\", void 0), _ = e([g(\"esri.views.support.Scheduler\")], _), r.Scheduler = _;\n  let d = class extends t {\n    constructor(e, t, r, i) {\n      super({}), this._scheduler = e, this.name = t, this._basePriority = i, this.runtime = 0, this._queue = new p(), this._handles = new s(), this.schedulePriority = this._basePriority, this.task = o(r) ? r : this._queue, this._handles.add(T(() => this.task.running, () => e.activate()));\n    }\n\n    get updating() {\n      return this._queue.running;\n    }\n\n    normalizeCtorArgs() {\n      return {};\n    }\n\n    remove() {\n      this.processQueue(w), this._scheduler.removeTask(this), this.schedule = Q.schedule, this.reschedule = Q.reschedule, this._handles.destroy();\n    }\n\n    get basePriority() {\n      return this._basePriority;\n    }\n\n    setPriority(e) {\n      this.name = e;\n      const t = k(e);\n      this._basePriority !== S && 0 === this.schedulePriority || (this.schedulePriority = t), this._basePriority = t;\n    }\n\n    get priority() {\n      return this.name;\n    }\n\n    set priority(e) {\n      this.setPriority(e);\n    }\n\n    get needsUpdate() {\n      return this.updating || this.task.running;\n    }\n\n    schedule(e, t, s) {\n      return this._queue.push(e, t, s);\n    }\n\n    reschedule(e, t, s) {\n      return this._queue.unshift(e, t, s);\n    }\n\n    processQueue(e) {\n      this._queue.runTask(e);\n    }\n\n  };\n  e([I({\n    constructOnly: !0\n  })], d.prototype, \"task\", void 0), e([I({\n    readOnly: !0\n  })], d.prototype, \"updating\", null), d = e([g(\"esri.views.support.SchedulerTask\")], d);\n\n  class l {\n    constructor() {\n      this._begin = \"undefined\" != typeof performance ? performance.now() : 0, this._budget = 0, this._state = N.IDLE, this._didWork = !1, this._enabled = !0;\n    }\n\n    run(e) {\n      return !this.done && (!0 === e() && (this._didWork = !0), !0);\n    }\n\n    get done() {\n      return this._didWork && this.elapsed >= this._budget && this._enabled;\n    }\n\n    get budget() {\n      return this._budget;\n    }\n\n    madeProgress() {\n      this._didWork = !0;\n    }\n\n    get state() {\n      return this._state;\n    }\n\n    get enabled() {\n      return this._enabled;\n    }\n\n    set enabled(e) {\n      this._enabled = e;\n    }\n\n    reset(e, t) {\n      this._begin = this.now(), this._budget = e, this._state = t, this._didWork = !1;\n    }\n\n    get remaining() {\n      return Math.max(this._budget - this.elapsed, 0);\n    }\n\n    now() {\n      return performance.now();\n    }\n\n    get elapsed() {\n      return performance.now() - this._begin;\n    }\n\n    resetProgress() {\n      this._didWork = !1;\n    }\n\n    get hasProgressed() {\n      return this._didWork;\n    }\n\n  }\n\n  r.Budget = l;\n}(D || (D = {})), function (e) {\n  e.SCHEDULED = \"s\", e.READY = \"r\", e.WAITING = \"w\", e.IDLE = \"i\";\n}(G || (G = {}));\n\nconst w = (() => {\n  const e = new D.Budget();\n  return e.enabled = !1, e;\n})();\n\nclass v {\n  remove() {}\n\n  processQueue() {}\n\n  schedule(e, t, s) {\n    try {\n      if (_(t)) {\n        const e = d();\n        return s ? Promise.resolve(s(e)) : Promise.reject(e);\n      }\n\n      return l(e(w));\n    } catch (r) {\n      return Promise.reject(r);\n    }\n  }\n\n  reschedule(e, t, s) {\n    return this.schedule(e, t, s);\n  }\n\n}\n\nconst Q = new v(),\n      B = Number.MAX_SAFE_INTEGER;\nexport { Q as ImmediateTask, N as State, L as TaskPriority, G as TaskState, k as getTaskPriority, A as newScheduler, w as noBudget, b as taskPriorities };","map":{"version":3,"names":["_","e","t","s","r","unwrapOr","i","removeMaybe","a","isNone","u","isSome","o","n","h","isAborted","createAbortError","d","when","l","watch","E","initial","c","T","Milliseconds","m","property","I","subclass","g","PromiseQueue","p","R","f","getLogger","A","D","Scheduler","L","RESOURCE_CONTROLLER","SLIDE","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","OVERLAY","STAGE","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","LABELER","FEATURE_QUERY_ENGINE","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","SNAPPING","SHADOW_ACCUMULATOR","CLOUDS_GENERATOR","TEST_PRIO","S","b","Map","k","has","get","N","ANIMATING","INTERACTING","IDLE","O","U","P","y","C","F","G","constructor","updating","_microTaskQueued","performanceInfo","total","tasks","_frameTaskTimes","_budget","_state","_tasks","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","B","_forceTask","_debug","_debugHandle","SCHEDULER_LOG_SLOW_TASKS","Object","keys","set","_test","state","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","availableBudget","budget","usedBudget","getBudget","setBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","frameTaskTimes","resetRuntimes","_resetRuntimes","getRunning","_getRunning","destroy","toArray","forEach","remove","clear","activate","done","queueMicrotask","_schedule","frame","registerTask","push","registerIdleStateCallbacks","idleBegin","idleEnd","_removeIdleStateCallbacks","load","forAll","updateBudget","frameDuration","Math","max","elapsedFrameTime","reset","_updateLoad","_runIdle","_runInteracting","_runAnimating","elapsed","stopFrame","madeProgress","removeUnordered","removeTask","name","setPriority","some","SCHEDULED","needsUpdate","schedulePriority","READY","WAITING","runtime","size","_run","reduce","filterInPlace","basePriority","includes","unshift","length","now","_startFrameTaskTimes","pop","resetProgress","task","runTask","error","priority","console","log","remaining","_recordFrameTaskTimes","record","test","prototype","_scheduler","_basePriority","_queue","_handles","add","running","normalizeCtorArgs","processQueue","w","schedule","Q","reschedule","constructOnly","readOnly","_begin","performance","_didWork","_enabled","run","enabled","hasProgressed","Budget","v","Promise","resolve","reject","Number","MAX_SAFE_INTEGER","ImmediateTask","State","TaskPriority","TaskState","getTaskPriority","newScheduler","noBudget","taskPriorities"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/support/Scheduler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import s from\"../../core/Handles.js\";import r from\"../../core/Logger.js\";import{unwrapOr as i,removeMaybe as a,isNone as u,isSome as o}from\"../../core/maybe.js\";import n from\"../../core/PerformanceSampler.js\";import h from\"../../core/PooledArray.js\";import{isAborted as _,createAbortError as d,when as l}from\"../../core/promiseUtils.js\";import{watch as E,initial as c,when as T}from\"../../core/reactiveUtils.js\";import{Milliseconds as m}from\"../../core/time.js\";import{property as I}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{PromiseQueue as p}from\"../../layers/support/PromiseQueue.js\";import R from\"./debugFlags.js\";const f=r.getLogger(\"esri.views.support.Scheduler\");function A(){return new D.Scheduler}var L;!function(e){e.RESOURCE_CONTROLLER=\"schedule\",e.SLIDE=\"slide\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.OVERLAY=\"overlay\",e.STAGE=\"stage\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.LABELER=\"labeler\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e.SNAPPING=\"snapping\",e.SHADOW_ACCUMULATOR=\"shadow accumulator\",e.CLOUDS_GENERATOR=\"cloud generator\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(L||(L={}));const S=0,b=new Map([[L.RESOURCE_CONTROLLER,S],[L.SLIDE,S],[L.STREAM_DATA_LOADER,S],[L.ELEVATION_QUERY,S],[L.TERRAIN_SURFACE,1],[L.SURFACE_GEOMETRY_UPDATES,1],[L.GRAPHICS_CORE,2],[L.I3S_CONTROLLER,2],[L.POINT_CLOUD_LAYER,2],[L.FEATURE_TILE_FETCHER,2],[L.OVERLAY,4],[L.STAGE,4],[L.GRAPHICS_DECONFLICTOR,4],[L.FILTER_VISIBILITY,4],[L.SCALE_VISIBILITY,4],[L.FRUSTUM_VISIBILITY,4],[L.POINT_OF_INTEREST_FREQUENT,6],[L.POINT_OF_INTEREST_INFREQUENT,30],[L.LABELER,8],[L.FEATURE_QUERY_ENGINE,8],[L.FEATURE_TILE_TREE,16],[L.FEATURE_TILE_TREE_ACTIVE,S],[L.ELEVATION_ALIGNMENT,12],[L.TEXT_TEXTURE_ATLAS,12],[L.CLOUDS_GENERATOR,12],[L.TEXTURE_UNLOAD,12],[L.LINE_OF_SIGHT_TOOL,16],[L.LINE_OF_SIGHT_TOOL_INTERACTIVE,S],[L.SNAPPING,S],[L.SHADOW_ACCUMULATOR,30]]);function k(e){return b.has(e)?b.get(e):\"number\"==typeof e?e:1}var N;!function(e){e[e.ANIMATING=0]=\"ANIMATING\",e[e.INTERACTING=1]=\"INTERACTING\",e[e.IDLE=2]=\"IDLE\"}(N||(N={}));const O=m(6.5),U=m(1),P=m(30),y=m(1e3/30),C=m(100),F=.9;var D,G;!function(r){let _=class extends t{constructor(){super(),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new n(\"total\"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new l,this._state=N.INTERACTING,this._tasks=new h,this._runQueue=new h,this._load=0,this._idleStateCallbacks=new h,this._idleUpdatesStartFired=!1,this._maxReschedule=B,this._forceTask=!1,this._debug=!1,this._debugHandle=E((()=>R.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),c);for(const s of Object.keys(L))this.performanceInfo.tasks.set(L[s],new n(L[s]));let e;const t=this;this._test={get state(){return i(e,t._state)},set state(t){e=t},FRAME_SAFETY_BUDGET:O,INTERACTING_BUDGET:y,IDLE_BUDGET:C,get availableBudget(){return t._budget.budget},usedBudget:0,getBudget:()=>t._budget,setBudget:e=>t._budget=e,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),a(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=B,this._schedule(),this.frame()))})))}registerTask(e,t){const s=k(e),r=new d(this,e,t,s);return this._tasks.push(r),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new n(e)),r}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),this.state===N.IDLE&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),r._state===N.IDLE&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==N.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return u(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=O,s=e.frameDuration,r=U;switch(this.state){case N.IDLE:t=m(0),s=m(Math.max(C,e.frameDuration)),r=P;break;case N.INTERACTING:s=m(Math.max(y,e.frameDuration));case N.ANIMATING:}return s=m(s-e.elapsedFrameTime-t),this.state!==N.IDLE&&s<U&&!this._forceTask?(this._forceTask=!0,!1):(s=m(Math.max(s,r)),this._budget.reset(s,this.state),this._maxReschedule=B,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case N.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case N.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(m(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return G.SCHEDULED;let t=G.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=G.READY:t!==G.READY&&(t=G.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*F+e*(1-F)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===S&&e.needsUpdate&&!this._runQueue.includes(e)&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.basePriority!==S)if(e=!0,t=Math.max(t,s.basePriority),1===s.schedulePriority)s.schedulePriority=0,this._runQueue.push(s);else--s.schedulePriority})),!e)return this.updating=!1,!1;this._maxReschedule===B&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(t){f.error(`Exception in task \"${r.name}\"`,t)}r.schedulePriority=r.basePriority;const i=this._budget.now()-s;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",r.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return this.updating=this._tasks.some((e=>e.needsUpdate)),void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this.updating=this._tasks.some((e=>e.needsUpdate)),this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(L))this._frameTaskTimes.set(L[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).record(e))),this.performanceInfo.total.record(e)}get test(){return this._test}};e([I()],_.prototype,\"updating\",void 0),_=e([g(\"esri.views.support.Scheduler\")],_),r.Scheduler=_;let d=class extends t{constructor(e,t,r,i){super({}),this._scheduler=e,this.name=t,this._basePriority=i,this.runtime=0,this._queue=new p,this._handles=new s,this.schedulePriority=this._basePriority,this.task=o(r)?r:this._queue,this._handles.add(T((()=>this.task.running),(()=>e.activate())))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(w),this._scheduler.removeTask(this),this.schedule=Q.schedule,this.reschedule=Q.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){this.name=e;const t=k(e);this._basePriority!==S&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,s){return this._queue.push(e,t,s)}reschedule(e,t,s){return this._queue.unshift(e,t,s)}processQueue(e){this._queue.runTask(e)}};e([I({constructOnly:!0})],d.prototype,\"task\",void 0),e([I({readOnly:!0})],d.prototype,\"updating\",null),d=e([g(\"esri.views.support.SchedulerTask\")],d);class l{constructor(){this._begin=\"undefined\"!=typeof performance?performance.now():0,this._budget=0,this._state=N.IDLE,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}r.Budget=l}(D||(D={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(G||(G={}));const w=(()=>{const e=new D.Budget;return e.enabled=!1,e})();class v{remove(){}processQueue(){}schedule(e,t,s){try{if(_(t)){const e=d();return s?Promise.resolve(s(e)):Promise.reject(e)}return l(e(w))}catch(r){return Promise.reject(r)}}reschedule(e,t,s){return this.schedule(e,t,s)}}const Q=new v,B=Number.MAX_SAFE_INTEGER;export{Q as ImmediateTask,N as State,L as TaskPriority,G as TaskState,k as getTaskPriority,A as newScheduler,w as noBudget,b as taskPriorities};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}