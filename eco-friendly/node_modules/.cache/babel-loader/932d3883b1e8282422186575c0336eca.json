{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../intl.js\";\nimport t from \"../core/Collection.js\";\nimport { eventKey as i } from \"../core/events.js\";\nimport o from \"../core/Handles.js\";\nimport n from \"../core/Logger.js\";\nimport { isNone as s } from \"../core/maybe.js\";\nimport { watch as r, when as a, on as l, whenOnce as c, initial as u } from \"../core/reactiveUtils.js\";\nimport { throttle as d } from \"../core/throttle.js\";\nimport { property as p } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport { cast as h } from \"../core/accessorSupport/decorators/cast.js\";\nimport { subclass as g } from \"../core/accessorSupport/decorators/subclass.js\";\nimport _ from \"./Feature.js\";\nimport m from \"./Spinner.js\";\nimport f from \"./Widget.js\";\nimport { CSS as v } from \"./Feature/resources.js\";\nimport { FeatureContentMixin as b } from \"./Feature/support/FeatureContentMixin.js\";\nimport w from \"./Popup/PopupViewModel.js\";\nimport { Heading as M } from \"./support/Heading.js\";\nimport { accessibleHandler as y } from \"./support/decorators/accessibleHandler.js\";\nimport { messageBundle as k } from \"./support/decorators/messageBundle.js\";\nimport { vmEvent as C } from \"./support/decorators/vmEvent.js\";\nimport { tsx as A } from \"./support/jsxFactory.js\";\nimport { isRTL as F, storeNode as I, cssTransition as x } from \"./support/widgetUtils.js\";\nimport { isDarkTheme as O } from \"../support/themeUtils.js\";\nimport { substitute as T } from \"../intl/substitute.js\";\nconst E = \"selected-index\",\n      N = 0,\n      D = \"popup-spinner\",\n      B = {\n  calciteThemeLight: \"calcite-theme-light\",\n  calciteThemeDark: \"calcite-theme-dark\",\n  iconLeftTriangleArrow: \"esri-icon-left-triangle-arrow\",\n  iconRightTriangleArrow: \"esri-icon-right-triangle-arrow\",\n  iconDockToTop: \"esri-icon-maximize\",\n  iconDockToBottom: \"esri-icon-dock-bottom\",\n  iconDockToLeft: \"esri-icon-dock-left\",\n  iconDockToRight: \"esri-icon-dock-right\",\n  iconClose: \"esri-icon-close\",\n  iconUndock: \"esri-icon-minimize\",\n  iconCheckMark: \"esri-icon-check-mark\",\n  iconLoading: \"esri-icon-loading-indicator\",\n  iconDefaultAction: \"esri-icon-default-action\",\n  iconActionsMenu: \"esri-icon-handle-horizontal\",\n  rotating: \"esri-rotating\",\n  base: \"esri-popup\",\n  widget: \"esri-widget\",\n  main: \"esri-popup__main-container\",\n  loadingContainer: \"esri-popup__loading-container\",\n  isCollapsible: \"esri-popup--is-collapsible\",\n  isCollapsed: \"esri-popup--is-collapsed\",\n  shadow: \"esri-popup--shadow\",\n  isDocked: \"esri-popup--is-docked\",\n  isDockedTopLeft: \"esri-popup--is-docked-top-left\",\n  isDockedTopCenter: \"esri-popup--is-docked-top-center\",\n  isDockedTopRight: \"esri-popup--is-docked-top-right\",\n  isDockedBottomLeft: \"esri-popup--is-docked-bottom-left\",\n  isDockedBottomCenter: \"esri-popup--is-docked-bottom-center\",\n  isDockedBottomRight: \"esri-popup--is-docked-bottom-right\",\n  alignTopCenter: \"esri-popup--aligned-top-center\",\n  alignBottomCenter: \"esri-popup--aligned-bottom-center\",\n  alignTopLeft: \"esri-popup--aligned-top-left\",\n  alignBottomLeft: \"esri-popup--aligned-bottom-left\",\n  alignTopRight: \"esri-popup--aligned-top-right\",\n  alignBottomRight: \"esri-popup--aligned-bottom-right\",\n  isFeatureMenuOpen: \"esri-popup--feature-menu-open\",\n  isActionsMenuOpen: \"esri-popup--actions-menu-open\",\n  hasFeatureUpdated: \"esri-popup--feature-updated\",\n  header: \"esri-popup__header\",\n  headerButtons: \"esri-popup__header-buttons\",\n  headerContainer: \"esri-popup__header-container\",\n  headerContainerButton: \"esri-popup__header-container--button\",\n  headerTitle: \"esri-popup__header-title\",\n  content: \"esri-popup__content\",\n  contentHasFlows: \"esri-content--has-flows\",\n  contentFlowItem: \"esri-content__flow-item\",\n  footer: \"esri-popup__footer\",\n  footerHasPagination: \"esri-popup__footer--has-pagination\",\n  footerHasActions: \"esri-popup__footer--has-actions\",\n  footerHasActionsMenu: \"esri-popup__footer--has-actions-menu\",\n  button: \"esri-popup__button\",\n  buttonDisabled: \"esri-popup__button--disabled\",\n  buttonDock: \"esri-popup__button--dock\",\n  icon: \"esri-popup__icon\",\n  iconDock: \"esri-popup__icon--dock-icon\",\n  inlineActionsContainer: \"esri-popup__inline-actions-container\",\n  actionsMenuButton: \"esri-popup__actions-menu-button\",\n  actions: \"esri-popup__actions\",\n  action: \"esri-popup__action\",\n  actionImage: \"esri-popup__action-image\",\n  actionText: \"esri-popup__action-text\",\n  actionToggle: \"esri-popup__action-toggle\",\n  actionToggleOn: \"esri-popup__action-toggle--on\",\n  actionExit: \"esri-popup__action--exit\",\n  pointer: \"esri-popup__pointer\",\n  pointerDirection: \"esri-popup__pointer-direction\",\n  navigation: \"esri-popup__navigation\",\n  paginationPrevious: \"esri-popup__pagination-previous\",\n  paginationNext: \"esri-popup__pagination-next\",\n  paginationPreviousIconLTR: \"esri-popup__pagination-previous-icon\",\n  paginationPreviousIconRTL: \"esri-popup__pagination-previous-icon--rtl\",\n  paginationNextIconLTR: \"esri-popup__pagination-next-icon\",\n  paginationNextIconRTL: \"esri-popup__pagination-next-icon--rtl\",\n  featureMenu: \"esri-popup__feature-menu\",\n  featureMenuList: \"esri-popup__feature-menu-list\",\n  featureMenuItem: \"esri-popup__feature-menu-item\",\n  featureMenuViewport: \"esri-popup__feature-menu-viewport\",\n  featureMenuHeader: \"esri-popup__feature-menu-header\",\n  featureMenuNote: \"esri-popup__feature-menu-note\",\n  featureMenuSelected: \"esri-popup__feature-menu-item--selected\",\n  featureMenuButton: \"esri-popup__feature-menu-button\",\n  featureMenuTitle: \"esri-popup__feature-menu-title\",\n  featureMenuObserver: \"esri-popup__feature-menu-observer\",\n  featureMenuLoader: \"esri-popup__feature-menu-loader\",\n  collapseButton: \"esri-popup__collapse-button\",\n  collapseIcon: \"esri-popup__collapse-icon\"\n},\n      P = {\n  buttonEnabled: !0,\n  position: \"auto\",\n  breakpoint: {\n    width: 544\n  }\n},\n      L = \"esri-popup\";\n\nfunction R(e, t) {\n  return void 0 === t ? `${L}__${e}` : `${L}__${e}-${t}`;\n}\n\nconst S = {\n  closeButton: !0,\n  featureNavigation: !0\n};\nlet V = class extends b(f) {\n  constructor(e, i) {\n    super(e, i), this._blurClose = !1, this._blurContainer = !1, this._containerNode = null, this._mainContainerNode = null, this._featureMenuNode = null, this._actionsMenuNode = null, this._focusClose = !1, this._focusContainer = !1, this._focusDockButton = !1, this._focusFeatureMenuButton = !1, this._focusActionsMenuButton = !1, this._focusFirstFeature = !1, this._focusFirstAction = !1, this._handles = new o(), this._pointerOffsetInPx = 16, this._spinner = null, this._feature = null, this._featureMenuIntersectionObserverCallback = ([e]) => {\n      e?.isIntersecting && this.viewModel.featurePage++;\n    }, this._featureMenuIntersectionObserver = new IntersectionObserver(this._featureMenuIntersectionObserverCallback, {\n      root: window.document\n    }), this._displaySpinnerThrottled = d(() => this._displaySpinner(), N), this._exitRelatedRecordsActions = new WeakMap(), this._flowItems = new t(), this.alignment = \"auto\", this.collapsed = !1, this.collapseEnabled = !0, this.dockEnabled = !1, this.featureMenuOpen = !1, this.headingLevel = 2, this.maxInlineActions = 3, this.messages = null, this.messagesCommon = null, this.spinnerEnabled = !0, this.viewModel = new w(), this.visibleElements = { ...S\n    }, this._addSelectedFeatureIndexHandle(), this.addHandles([r(() => this.viewModel?.screenLocation, () => this._positionContainer()), r(() => [this.viewModel?.active, this.dockEnabled], () => this._toggleScreenLocationEnabled()), r(() => this.viewModel?.screenLocation, (e, t) => {\n      !!e != !!t && this.reposition();\n    }), r(() => [this.viewModel?.view?.padding, this.viewModel?.view?.size, this.viewModel?.active, this.viewModel?.location, this.alignment], () => this.reposition()), r(() => this.spinnerEnabled, e => this._spinnerEnabledChange(e)), r(() => this.viewModel?.view?.size, (e, t) => this._updateDockEnabledForViewSize(e, t)), r(() => this.viewModel?.view, (e, t) => this._viewChange(e, t)), r(() => this.viewModel?.view?.ready, (e, t) => this._viewReadyChange(e, t)), r(() => [this.viewModel?.waitingForResult, this.viewModel?.location], () => {\n      this._hideSpinner(), this._displaySpinnerThrottled();\n    }), r(() => this.selectedFeatureWidget, () => this._destroyFlowItemWidgets()), r(() => [this.selectedFeatureWidget?.viewModel?.title, this.selectedFeatureWidget?.viewModel?.state], () => this._setTitleFromFeatureWidget()), r(() => [this.selectedFeatureWidget?.viewModel?.content, this.selectedFeatureWidget?.viewModel?.state], () => this._setContentFromFeatureWidget()), a(() => !this.collapsed, () => {\n      \"xsmall\" === this.viewModel?.view?.widthBreakpoint && this.viewModel.active && this.collapseEnabled && this.viewModel.centerAtLocation();\n    }), l(() => this.viewModel?.allActions, \"change\", () => this._watchActions()), r(() => this.viewModel?.allActions, () => this._watchActions(), u), r(() => this.viewModel?.featureViewModels, () => this._featureMenuViewportScrollTop()), l(() => this._flowItems, \"change\", () => {\n      this.notifyChange(\"_activeFlowItemWidget\"), this.scheduleRender();\n    }), r(() => [this._activeFlowItemWidget?.viewModel?.state, this._activeFlowItemWidget?.viewModel?.title], () => this.scheduleRender())]);\n  }\n\n  loadDependencies() {\n    return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-flow.js\"), import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"), import(\"@esri/calcite-components/dist/components/calcite-action.js\"), import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\"), import(\"@esri/calcite-components/dist/components/calcite-icon.js\")]);\n  }\n\n  destroy() {\n    this._destroyFlowItemWidgets(), this._destroySelectedFeatureWidget(), this._destroySpinner(), this._handles?.destroy(), this._unobserveFeatureMenuObserver(), this._featureMenuIntersectionObserver?.disconnect(), this._handles = null;\n  }\n\n  get actionsMenuId() {\n    return `${this.id}-actions-menu`;\n  }\n\n  get actionsMenuButtonId() {\n    return `${this.id}-actions-menu-button`;\n  }\n\n  get featureMenuId() {\n    return `${this.id}-feature-menu`;\n  }\n\n  get titleId() {\n    return `${this.id}-popup-title`;\n  }\n\n  get contentId() {\n    return `${this.id}-popup-content`;\n  }\n\n  get hasContent() {\n    const {\n      selectedFeatureWidget: e,\n      viewModel: t\n    } = this;\n    if (!e) return !!t?.content;\n    const i = e.viewModel;\n    if (i?.waitingForContent || \"error\" === i?.state) return !0;\n    const o = i?.content;\n    return Array.isArray(o) ? !!o.length : !!o;\n  }\n\n  get featureNavigationVisible() {\n    return this.viewModel.active && this.viewModel.featureCount > 1 && this.visibleElements.featureNavigation;\n  }\n\n  get collapsible() {\n    return !!(this.collapseEnabled && this.viewModel.title && this.hasContent);\n  }\n\n  get featureMenuVisible() {\n    return this.featureNavigationVisible && this.featureMenuOpen;\n  }\n\n  get contentCollapsed() {\n    return this.collapsible && !this.featureMenuVisible && this.collapsed;\n  }\n\n  get dividedActions() {\n    return this._divideActions();\n  }\n\n  get _activeFlowItemWidget() {\n    const {\n      _flowItems: e\n    } = this;\n    return e.getItemAt(e.length - 1) || null;\n  }\n\n  get actions() {\n    return this.viewModel.actions;\n  }\n\n  set actions(e) {\n    this.viewModel.actions = e;\n  }\n\n  set actionsMenuOpen(e) {\n    this._set(\"actionsMenuOpen\", !!e);\n  }\n\n  get actionsMenuOpen() {\n    return !!this.viewModel.active && this._get(\"actionsMenuOpen\");\n  }\n\n  get autoCloseEnabled() {\n    return this.viewModel.autoCloseEnabled;\n  }\n\n  set autoCloseEnabled(e) {\n    this.viewModel.autoCloseEnabled = e;\n  }\n\n  get autoOpenEnabled() {\n    return this.viewModel.autoOpenEnabled;\n  }\n\n  set autoOpenEnabled(e) {\n    this.viewModel.autoOpenEnabled = e;\n  }\n\n  get defaultPopupTemplateEnabled() {\n    return this.viewModel.defaultPopupTemplateEnabled;\n  }\n\n  set defaultPopupTemplateEnabled(e) {\n    this.viewModel.defaultPopupTemplateEnabled = e;\n  }\n\n  get content() {\n    return this.viewModel.content;\n  }\n\n  set content(e) {\n    this.viewModel.content = e;\n  }\n\n  get currentAlignment() {\n    return this._getCurrentAlignment();\n  }\n\n  get currentDockPosition() {\n    return this._getCurrentDockPosition();\n  }\n\n  get dockOptions() {\n    return this._get(\"dockOptions\") || P;\n  }\n\n  set dockOptions(e) {\n    const t = { ...P\n    },\n          i = this.get(\"viewModel.view.breakpoints\"),\n          o = {};\n    i && (o.width = i.xsmall, o.height = i.xsmall);\n    const n = { ...t,\n      ...e\n    },\n          s = { ...t.breakpoint,\n      ...o\n    },\n          {\n      breakpoint: r\n    } = n;\n    !0 === r ? n.breakpoint = s : \"object\" == typeof r && (n.breakpoint = { ...s,\n      ...r\n    }), this._set(\"dockOptions\", n), this._setCurrentDockPosition(), this.reposition();\n  }\n\n  get featureCount() {\n    return this.viewModel.featureCount;\n  }\n\n  get features() {\n    return this.viewModel.features;\n  }\n\n  set features(e) {\n    this.viewModel.features = e;\n  }\n\n  get goToOverride() {\n    return this.viewModel.goToOverride;\n  }\n\n  set goToOverride(e) {\n    this.viewModel.goToOverride = e;\n  }\n\n  get highlightEnabled() {\n    return this.viewModel.highlightEnabled;\n  }\n\n  set highlightEnabled(e) {\n    this.viewModel.highlightEnabled = e;\n  }\n\n  get location() {\n    return this.viewModel.location;\n  }\n\n  set location(e) {\n    this.viewModel.location = e;\n  }\n\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n\n  get promises() {\n    return this.viewModel.promises;\n  }\n\n  set promises(e) {\n    this.viewModel.promises = e;\n  }\n\n  get selectedFeature() {\n    return this.viewModel.selectedFeature;\n  }\n\n  get selectedFeatureIndex() {\n    return this.viewModel.selectedFeatureIndex;\n  }\n\n  set selectedFeatureIndex(e) {\n    this.viewModel.selectedFeatureIndex = e;\n  }\n\n  get selectedFeatureWidget() {\n    const {\n      _feature: e,\n      visibleElements: t,\n      headingLevel: i,\n      _flowItems: o\n    } = this,\n          {\n      selectedFeatureViewModel: n\n    } = this.viewModel,\n          s = { ...t,\n      title: !1\n    };\n    return n ? (e ? (e.viewModel = n, e.visibleElements = s) : this._feature = new _({\n      flowItems: o,\n      headingLevel: i + 1,\n      viewModel: n,\n      visibleElements: s\n    }), this._feature) : null;\n  }\n\n  get title() {\n    return this.viewModel.title;\n  }\n\n  set title(e) {\n    this.viewModel.title = e;\n  }\n\n  get updateLocationEnabled() {\n    return this.viewModel.updateLocationEnabled;\n  }\n\n  set updateLocationEnabled(e) {\n    this.viewModel.updateLocationEnabled = e;\n  }\n\n  get view() {\n    return this.viewModel.view;\n  }\n\n  set view(e) {\n    this.viewModel.view = e;\n  }\n\n  get visible() {\n    return this.viewModel.visible;\n  }\n\n  set visible(e) {\n    this.viewModel.visible = e;\n  }\n\n  castVisibleElements(e) {\n    return { ...S,\n      ...e\n    };\n  }\n\n  blur() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || n.getLogger(this.declaredClass).warn(\"Popup can only be blurred when currently active.\"), this.visibleElements.closeButton ? this._blurClose = !0 : this._blurContainer = !0, this.scheduleRender();\n  }\n\n  clear() {\n    return this.viewModel.clear();\n  }\n\n  close() {\n    this.visible = !1;\n  }\n\n  fetchFeatures(e, t) {\n    return this.viewModel.fetchFeatures(e, t);\n  }\n\n  focus() {\n    const {\n      active: e\n    } = this.viewModel;\n    e || n.getLogger(this.declaredClass).warn(\"Popup can only be focused when currently active.\"), this.visibleElements.closeButton ? this._focusClose = !0 : this._focusContainer = !0, this.scheduleRender();\n  }\n\n  next() {\n    return this.viewModel.next();\n  }\n\n  open(e) {\n    this._handles.remove(E);\n\n    const t = !!e && !!e.featureMenuOpen,\n          i = !!e && !!e.actionsMenuOpen,\n          o = {\n      collapsed: !!e && !!e.collapsed,\n      actionsMenuOpen: i,\n      featureMenuOpen: t\n    };\n    \"xsmall\" === this.viewModel?.view?.widthBreakpoint && (o.collapsed = !0), this.set(o), this.viewModel.open(e), this._shouldFocus(e), this._addSelectedFeatureIndexHandle();\n  }\n\n  previous() {\n    return this.viewModel.previous();\n  }\n\n  reposition() {\n    this.renderNow(), this._positionContainer(), this._setCurrentAlignment();\n  }\n\n  triggerAction(e) {\n    return this.viewModel.triggerAction(e);\n  }\n\n  render() {\n    const {\n      actionsMenuOpen: e,\n      dockEnabled: t,\n      featureMenuVisible: i,\n      dividedActions: o,\n      currentAlignment: n,\n      currentDockPosition: s\n    } = this,\n          {\n      active: r\n    } = this.viewModel,\n          {\n      menuActions: a\n    } = o,\n          l = r && a.length > 1 && e,\n          c = r && t,\n          u = r && !t,\n          d = this.selectedFeature?.layer?.title,\n          p = this.selectedFeature?.layer?.id,\n          h = {\n      [B.alignTopCenter]: \"top-center\" === n,\n      [B.alignBottomCenter]: \"bottom-center\" === n,\n      [B.alignTopLeft]: \"top-left\" === n,\n      [B.alignBottomLeft]: \"bottom-left\" === n,\n      [B.alignTopRight]: \"top-right\" === n,\n      [B.alignBottomRight]: \"bottom-right\" === n,\n      [B.isDocked]: c,\n      [B.shadow]: u,\n      [B.isDockedTopLeft]: \"top-left\" === s,\n      [B.isDockedTopCenter]: \"top-center\" === s,\n      [B.isDockedTopRight]: \"top-right\" === s,\n      [B.isDockedBottomLeft]: \"bottom-left\" === s,\n      [B.isDockedBottomCenter]: \"bottom-center\" === s,\n      [B.isDockedBottomRight]: \"bottom-right\" === s,\n      [B.isFeatureMenuOpen]: i,\n      [B.isActionsMenuOpen]: l\n    };\n    return A(\"div\", {\n      class: this.classes(B.base, h),\n      role: \"presentation\",\n      \"data-layer-title\": d,\n      \"data-layer-id\": p,\n      bind: this,\n      afterCreate: this._positionContainer,\n      afterUpdate: this._positionContainer\n    }, r ? [this.renderMainContainer(), this.renderPointer()] : null);\n  }\n\n  renderLoadingIcon() {\n    return A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(B.icon, B.iconLoading, B.rotating)\n    });\n  }\n\n  renderNavigationLoading() {\n    const {\n      messagesCommon: e\n    } = this;\n    return this.viewModel.pendingPromisesCount ? A(\"div\", {\n      key: R(\"loading-container\"),\n      role: \"presentation\",\n      class: B.loadingContainer,\n      \"aria-label\": e.loading,\n      title: e.loading\n    }, this.renderLoadingIcon()) : null;\n  }\n\n  renderPreviousIcon() {\n    const e = F(this.container),\n          t = {\n      [B.iconRightTriangleArrow]: e,\n      [B.paginationPreviousIconRTL]: e,\n      [B.iconLeftTriangleArrow]: !e,\n      [B.paginationPreviousIconLTR]: !e\n    };\n    return A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(B.icon, t)\n    });\n  }\n\n  renderPreviousButton() {\n    const {\n      messages: e\n    } = this;\n    return A(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._previous,\n      onkeydown: this._previous,\n      class: this.classes(B.button, B.paginationPrevious),\n      \"aria-label\": e.previous,\n      title: e.previous\n    }, this.renderPreviousIcon());\n  }\n\n  renderNextIcon() {\n    const e = F(this.container),\n          t = {\n      [B.iconLeftTriangleArrow]: e,\n      [B.paginationNextIconRTL]: e,\n      [B.iconRightTriangleArrow]: !e,\n      [B.paginationNextIconLTR]: !e\n    };\n    return A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(B.icon, t)\n    });\n  }\n\n  renderNextButton() {\n    const {\n      messages: e\n    } = this;\n    return A(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._next,\n      onkeydown: this._next,\n      class: this.classes(B.button, B.paginationNext),\n      \"aria-label\": e.next,\n      title: e.next\n    }, this.renderNextIcon());\n  }\n\n  renderFeatureMenuButton() {\n    const {\n      featureMenuOpen: e,\n      featureMenuId: t,\n      messagesCommon: i\n    } = this,\n          {\n      featureCount: o,\n      selectedFeatureIndex: n\n    } = this.viewModel;\n    return A(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleFeatureMenu,\n      onkeydown: this._toggleFeatureMenu,\n      afterCreate: this._focusFeatureMenuButtonNode,\n      afterUpdate: this._focusFeatureMenuButtonNode,\n      class: this.classes(B.button, B.featureMenuButton),\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": t,\n      \"aria-expanded\": e.toString(),\n      \"aria-label\": i.menu,\n      title: i.menu\n    }, this._getPageText(o, n));\n  }\n\n  renderNavigationButtons() {\n    return this.featureNavigationVisible ? [this.renderPreviousButton(), this.renderNavigationLoading() || this.renderFeatureMenuButton(), this.renderNextButton()] : null;\n  }\n\n  renderDockIcon() {\n    const {\n      dockEnabled: e\n    } = this,\n          t = this._wouldDockTo(),\n          i = {\n      [B.iconUndock]: e,\n      [B.iconDock]: !e,\n      [B.iconDockToRight]: !e && (\"top-right\" === t || \"bottom-right\" === t),\n      [B.iconDockToLeft]: !e && (\"top-left\" === t || \"bottom-left\" === t),\n      [B.iconDockToTop]: !e && \"top-center\" === t,\n      [B.iconDockToBottom]: !e && \"bottom-center\" === t\n    };\n\n    return A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(i, B.icon)\n    });\n  }\n\n  renderDockButton() {\n    const {\n      dockEnabled: e,\n      messages: t\n    } = this,\n          i = this.viewModel?.view?.widthBreakpoint,\n          o = e ? t.undock : t.dock;\n    return \"xsmall\" !== i && this.dockOptions?.buttonEnabled ? A(\"div\", {\n      role: \"button\",\n      \"aria-label\": o,\n      title: o,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleDockEnabled,\n      onkeydown: this._toggleDockEnabled,\n      afterCreate: this._focusDockButtonNode,\n      afterUpdate: this._focusDockButtonNode,\n      class: this.classes(B.button, B.buttonDock)\n    }, this.renderDockIcon()) : null;\n  }\n\n  renderTitle() {\n    const {\n      title: e\n    } = this.viewModel,\n          {\n      titleId: t,\n      collapsible: i,\n      contentCollapsed: o,\n      messagesCommon: n\n    } = this,\n          s = {\n      [B.headerContainerButton]: i\n    },\n          r = A(M, {\n      level: this.headingLevel,\n      class: B.headerTitle,\n      innerHTML: e\n    }),\n          a = i ? A(\"button\", {\n      key: `${e}--collapsible`,\n      id: t,\n      title: o ? n.expand : n.collapse,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(B.headerContainer, s),\n      \"aria-expanded\": o ? \"false\" : \"true\",\n      onclick: this._toggleCollapsed,\n      type: \"button\"\n    }, r, A(\"calcite-icon\", {\n      class: B.collapseIcon,\n      key: \"collapse-icon\",\n      icon: o ? \"chevron-down\" : \"chevron-up\",\n      scale: \"m\"\n    })) : A(\"div\", {\n      key: e,\n      id: t,\n      bind: this,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      class: this.classes(B.headerContainer, s)\n    }, r);\n    return e ? a : null;\n  }\n\n  renderCloseIcon() {\n    return A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: this.classes(B.icon, B.iconClose)\n    });\n  }\n\n  renderCloseButton() {\n    const {\n      visibleElements: e,\n      messagesCommon: t\n    } = this;\n    return e.closeButton ? A(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      bind: this,\n      onclick: this._close,\n      onkeydown: this._close,\n      class: B.button,\n      \"aria-label\": t.close,\n      title: t.close,\n      afterCreate: this._closeButtonNodeUpdated,\n      afterUpdate: this._closeButtonNodeUpdated\n    }, this.renderCloseIcon()) : null;\n  }\n\n  renderHeader() {\n    return A(\"header\", {\n      class: B.header\n    }, this.renderTitle(), A(\"div\", {\n      class: B.headerButtons\n    }, this.renderDockButton(), this.renderCloseButton()));\n  }\n\n  renderContentContainer() {\n    const {\n      contentId: e,\n      hasContent: t,\n      contentCollapsed: i,\n      _flowItems: o,\n      messagesCommon: n\n    } = this,\n          {\n      content: s\n    } = this.viewModel,\n          r = o.toArray(),\n          a = {\n      [B.contentHasFlows]: !!r.length\n    };\n    return t && !i ? A(\"div\", {\n      key: s,\n      enterAnimation: this._createFeatureUpdatedAnimation(),\n      id: e,\n      class: this.classes(B.content, a)\n    }, A(\"calcite-flow\", {\n      bind: this,\n      onCalciteFlowItemBack: this._handleBackClick\n    }, A(\"calcite-flow-item\", {\n      bind: this,\n      \"data-node-ref\": \"_rootFlowItemNode\",\n      \"intl-back\": n.back,\n      afterCreate: I,\n      key: \"root-flow-item\"\n    }, this.renderContent()), r.map(e => this.renderFlowItem(e))), r.map(e => this.renderFlowItemTooltip(e))) : null;\n  }\n\n  renderFlowItem(e) {\n    const {\n      messages: t,\n      messagesCommon: i\n    } = this,\n          o = O();\n    return A(\"calcite-flow-item\", {\n      class: this.classes({\n        [B.calciteThemeDark]: !o,\n        [B.calciteThemeLight]: o\n      }),\n      heading: e.title,\n      \"intl-back\": i.back,\n      description: this._getFlowItemDescription(e),\n      key: `flow-item-${e.viewModel.uid}`\n    }, A(\"calcite-action\", {\n      class: B.actionExit,\n      icon: \"move-up\",\n      label: t?.exitRelatedRecords,\n      text: t?.exitRelatedRecords,\n      slot: \"header-actions-start\",\n      bind: this,\n      afterCreate: t => this._storeExitRelatedRecordsAction(e, t),\n      onclick: this._destroyFlowItemWidgets\n    }), A(\"div\", {\n      class: this.classes(B.contentFlowItem, {\n        [B.calciteThemeDark]: o,\n        [B.calciteThemeLight]: !o\n      })\n    }, e.render()));\n  }\n\n  renderFlowItemTooltip(e) {\n    const {\n      messages: t,\n      _exitRelatedRecordsActions: i\n    } = this,\n          o = O();\n    return A(\"calcite-tooltip\", {\n      class: this.classes({\n        [B.calciteThemeDark]: !o,\n        [B.calciteThemeLight]: o\n      }),\n      key: `exit-related-records-tooltip-${e.viewModel.uid}`,\n      label: t?.exitRelatedRecords,\n      overlayPositioning: \"fixed\",\n      referenceElement: i.get(e),\n      placement: \"top\"\n    }, t?.exitRelatedRecords);\n  }\n\n  renderActionsMenuButton() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o,\n      messagesCommon: n\n    } = this,\n          s = i ? n.close : n.open,\n          {\n      menuActions: r\n    } = o;\n    return r.length ? A(\"div\", {\n      key: R(\"actions-menu-button\"),\n      class: this.classes(B.button, B.actionsMenuButton),\n      role: \"button\",\n      id: t,\n      \"aria-haspopup\": \"true\",\n      \"aria-controls\": i ? e : null,\n      tabIndex: 0,\n      bind: this,\n      onclick: this._toggleActionsMenu,\n      onkeydown: this._toggleActionsMenu,\n      afterCreate: this._focusActionsMenuButtonNode,\n      afterUpdate: this._focusActionsMenuButtonNode,\n      \"aria-label\": s,\n      title: s\n    }, A(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: B.iconActionsMenu\n    })) : null;\n  }\n\n  renderMenuActions() {\n    const {\n      actionsMenuId: e,\n      actionsMenuButtonId: t,\n      actionsMenuOpen: i,\n      dividedActions: o\n    } = this,\n          {\n      menuActions: n\n    } = o;\n    return n.length && i ? A(\"ul\", {\n      id: e,\n      role: \"menu\",\n      \"aria-labelledby\": t,\n      key: R(\"actions\"),\n      class: B.actions,\n      bind: this,\n      onkeyup: this._handleActionMenuKeyup,\n      afterCreate: this._actionsMenuNodeUpdated,\n      afterUpdate: this._actionsMenuNodeUpdated\n    }, n.toArray().map(e => this.renderAction({\n      action: e,\n      type: \"menu-item\"\n    }))) : null;\n  }\n\n  renderInlineActions() {\n    const {\n      inlineActions: e\n    } = this.dividedActions;\n    return !!e.length && e.toArray().map(e => this.renderAction({\n      action: e,\n      type: \"inline\"\n    }));\n  }\n\n  renderInlineActionsContainer() {\n    const {\n      inlineActions: e,\n      menuActions: t\n    } = this.dividedActions,\n          i = !!e.length,\n          o = !!t.length;\n    return i || o ? A(\"div\", {\n      key: \"inline-actions-container\",\n      \"data-inline-actions\": i.toString(),\n      \"data-menu-actions\": o.toString(),\n      class: B.inlineActionsContainer\n    }, this.renderInlineActions(), this.renderActionsMenuButton(), this.renderMenuActions()) : null;\n  }\n\n  renderNavigation() {\n    return this.featureNavigationVisible ? A(\"section\", {\n      key: R(\"navigation\"),\n      class: this.classes(B.navigation)\n    }, this.renderNavigationButtons()) : null;\n  }\n\n  renderFooter() {\n    const {\n      featureNavigationVisible: e,\n      dividedActions: t\n    } = this,\n          {\n      inlineActions: i,\n      menuActions: o\n    } = t,\n          n = !!i.length,\n          s = !!o.length,\n          r = {\n      [B.footerHasPagination]: e,\n      [B.footerHasActions]: n,\n      [B.footerHasActionsMenu]: s\n    };\n    return e || n ? A(\"div\", {\n      key: R(\"feature-buttons\"),\n      class: this.classes(B.footer, r)\n    }, this.renderInlineActionsContainer(), this.renderNavigation()) : null;\n  }\n\n  renderFeatureMenuContainer() {\n    const {\n      messages: e\n    } = this,\n          {\n      featureViewModels: t,\n      isLoadingFeature: i\n    } = this.viewModel,\n          o = T(e.selectedFeatures, {\n      total: t.length\n    });\n    return A(\"section\", {\n      key: R(\"menu\"),\n      class: B.featureMenu\n    }, A(\"strong\", {\n      class: B.featureMenuHeader\n    }, o), A(\"nav\", {\n      bind: this,\n      class: B.featureMenuViewport,\n      \"data-node-ref\": \"_featureMenuViewportNode\",\n      afterCreate: I\n    }, this.renderFeatureMenu(), A(\"div\", {\n      class: B.featureMenuObserver,\n      bind: this,\n      afterCreate: this._featureMenuIntersectionObserverCreated\n    }), i ? A(\"div\", {\n      class: B.featureMenuLoader\n    }, this.renderLoadingIcon()) : null));\n  }\n\n  renderPointer() {\n    return this.dockEnabled ? null : A(\"div\", {\n      key: R(\"pointer\"),\n      class: B.pointer,\n      role: \"presentation\"\n    }, A(\"div\", {\n      class: this.classes(B.pointerDirection, B.shadow)\n    }));\n  }\n\n  renderMainContainer() {\n    const {\n      dockEnabled: e,\n      currentAlignment: t,\n      currentDockPosition: i,\n      titleId: o,\n      contentId: n,\n      collapsible: s,\n      hasContent: r,\n      contentCollapsed: a,\n      visibleElements: l\n    } = this,\n          {\n      title: c\n    } = this.viewModel,\n          u = \"bottom-left\" === t || \"bottom-center\" === t || \"bottom-right\" === t || \"top-left\" === i || \"top-center\" === i || \"top-right\" === i,\n          d = \"top-left\" === t || \"top-center\" === t || \"top-right\" === t || \"bottom-left\" === i || \"bottom-center\" === i || \"bottom-right\" === i,\n          p = {\n      [B.shadow]: e,\n      [B.isCollapsible]: s,\n      [B.isCollapsed]: a\n    };\n    return A(\"div\", {\n      class: this.classes(B.main, B.widget, p),\n      tabIndex: l.closeButton ? null : -1,\n      role: \"dialog\",\n      \"aria-labelledby\": c ? o : \"\",\n      \"aria-describedby\": r && !a ? n : \"\",\n      bind: this,\n      onkeyup: this._handleMainKeyup,\n      afterCreate: this._mainContainerNodeUpdated,\n      afterUpdate: this._mainContainerNodeUpdated\n    }, u ? this.renderFooter() : null, u ? this.renderFeatureMenuContainer() : null, this.renderHeader(), this.renderContentContainer(), d ? this.renderFooter() : null, d ? this.renderFeatureMenuContainer() : null);\n  }\n\n  renderContent() {\n    const e = this.viewModel?.content;\n    return e ? \"string\" == typeof e ? A(\"div\", {\n      class: v.contentNode,\n      key: e,\n      innerHTML: e\n    }) : this.renderNodeContent(e) : null;\n  }\n\n  renderActionText(e) {\n    return A(\"span\", {\n      key: \"text\",\n      class: B.actionText\n    }, e);\n  }\n\n  renderActionIcon(e) {\n    const t = this._getActionClass(e),\n          i = this._getActionImage(e),\n          o = {\n      [B.iconLoading]: e.active,\n      [B.rotating]: e.active,\n      [B.icon]: !!t,\n      [B.actionImage]: !e.active && !!i\n    };\n\n    return t && (o[t] = !e.active), A(\"span\", {\n      key: \"icon\",\n      \"aria-hidden\": \"true\",\n      class: this.classes(B.icon, o),\n      styles: this._getIconStyles(i)\n    });\n  }\n\n  renderAction(e) {\n    const {\n      action: t,\n      type: i\n    } = e,\n          o = this._getActionTitle(t),\n          n = {\n      [B.action]: \"toggle\" !== t.type,\n      [B.actionToggle]: \"toggle\" === t.type,\n      [B.actionToggleOn]: \"toggle\" === t.type && t.value,\n      [B.buttonDisabled]: t.disabled\n    },\n          s = [this.renderActionIcon(t), this.renderActionText(o)],\n          r = \"menu-item\" === i ? A(\"li\", {\n      key: t.uid,\n      role: \"menuitem\",\n      tabIndex: 0,\n      title: o,\n      \"aria-label\": o,\n      class: this.classes(B.button, n),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-uid\": t.uid,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, s) : A(\"div\", {\n      key: t.uid,\n      role: \"button\",\n      tabIndex: 0,\n      title: o,\n      \"aria-label\": o,\n      class: this.classes(B.button, n),\n      onkeyup: this._handleActionMenuItemKeyup,\n      bind: this,\n      \"data-action-uid\": t.uid,\n      onclick: this._triggerAction,\n      onkeydown: this._triggerAction\n    }, s);\n\n    return t.visible ? r : null;\n  }\n\n  renderFeatureMenuItem(e, t) {\n    const {\n      messages: i,\n      messagesCommon: o\n    } = this,\n          {\n      selectedFeatureIndex: n,\n      selectedFeatureViewModel: s\n    } = this.viewModel,\n          r = e === s,\n          a = {\n      [B.featureMenuSelected]: r\n    },\n          l = r ? A(\"span\", {\n      key: R(`feature-menu-selected-feature-${n}`),\n      title: i.selectedFeature,\n      \"aria-label\": i.selectedFeature,\n      class: B.iconCheckMark\n    }) : null,\n          c = A(\"span\", {\n      innerHTML: e.title || o.untitled\n    });\n    return A(\"li\", {\n      role: \"menuitem\",\n      tabIndex: -1,\n      key: R(`feature-menu-feature-${n}`),\n      class: this.classes(a, B.featureMenuItem),\n      bind: this,\n      \"data-feature-index\": t,\n      onblur: this._removeActiveFeature,\n      onfocus: this._setActiveFeature,\n      onkeyup: this._handleFeatureMenuItemKeyup,\n      onclick: this._selectFeature,\n      onkeydown: this._selectFeature,\n      onmouseover: this._setActiveFeature,\n      onmouseleave: this._removeActiveFeature\n    }, A(\"span\", {\n      class: B.featureMenuTitle\n    }, c, l));\n  }\n\n  renderFeatureMenu() {\n    const {\n      featureMenuId: e\n    } = this,\n          {\n      featureViewModels: t\n    } = this.viewModel;\n    return t.length > 1 ? A(\"ol\", {\n      class: B.featureMenuList,\n      id: e,\n      bind: this,\n      afterCreate: this._featureMenuNodeUpdated,\n      afterUpdate: this._featureMenuNodeUpdated,\n      onkeyup: this._handleFeatureMenuKeyup,\n      role: \"menu\"\n    }, t.filter(e => !!e.graphic).map((e, t) => this.renderFeatureMenuItem(e, t))) : null;\n  }\n\n  _storeExitRelatedRecordsAction(e, t) {\n    this._exitRelatedRecordsActions.set(e, t), this.scheduleRender();\n  }\n\n  _getFlowItemDescription(e) {\n    return \"featureCountDescription\" in e ? e.featureCountDescription : e.viewModel.description;\n  }\n\n  _destroyFlowItemWidgets() {\n    this._flowItems.removeAll().forEach(e => {\n      \"showAllEnabled\" in e.viewModel && (e.viewModel.showAllEnabled = !1), e.viewModel = null, e.destroy();\n    });\n  }\n\n  _handleBackClick() {\n    const e = this._flowItems.pop();\n\n    this._exitRelatedRecordsActions.delete(e), \"showAllEnabled\" in e.viewModel && (e.viewModel.showAllEnabled = !1), e && (e.viewModel = null, e.destroy());\n  }\n\n  _getActionTitle(e) {\n    const {\n      messages: t,\n      selectedFeature: i,\n      messagesCommon: o\n    } = this,\n          {\n      id: n\n    } = e,\n          s = i?.attributes,\n          r = \"zoom-to-feature\" === n ? T(e.title, {\n      messages: t\n    }) : \"remove-selected-feature\" === n ? T(e.title, {\n      messages: o\n    }) : \"zoom-to-clustered-features\" === n || \"browse-clustered-features\" === n ? T(e.title, {\n      messages: t\n    }) : e.title;\n    return r && s ? T(r, s) : r;\n  }\n\n  _getActionClass(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = t?.attributes,\n          {\n      className: o,\n      image: n\n    } = e,\n          s = n || o ? o : B.iconDefaultAction;\n    return s && i ? T(s, i) : s;\n  }\n\n  _getActionImage(e) {\n    const {\n      selectedFeature: t\n    } = this,\n          i = t?.attributes,\n          {\n      image: o\n    } = e;\n    return o && i ? T(o, i) : o;\n  }\n\n  _createFeatureUpdatedAnimation() {\n    return x(\"enter\", B.hasFeatureUpdated);\n  }\n\n  _getInlineActionCount() {\n    const {\n      maxInlineActions: e,\n      featureNavigationVisible: t\n    } = this;\n    if (\"number\" != typeof e) return null;\n    const i = Math.round(e);\n    return Math.max(t ? i - 1 : i, 0);\n  }\n\n  _watchActions() {\n    const {\n      allActions: e\n    } = this.viewModel;\n    this.notifyChange(\"dividedActions\");\n    const t = \"actions\";\n    this._handles.remove(t), e && e.forEach(e => {\n      this._handles.add(r(() => [e.uid, e.active, e.className, e.disabled, e.id, e.title, e.image, e.visible], () => this.scheduleRender()), t);\n    });\n  }\n\n  _divideActions() {\n    const {\n      allActions: e\n    } = this.viewModel,\n          i = e.filter(e => e.visible),\n          o = this._getInlineActionCount(),\n          n = null === o,\n          s = 0 === o;\n\n    return {\n      inlineActions: n ? i.slice(0) : s ? new t() : i.slice(0, o),\n      menuActions: n ? new t() : s ? i.slice(0) : i.slice(o)\n    };\n  }\n\n  _featureMenuOpenChanged(e) {\n    e ? this._focusFirstFeature = !0 : this._focusFeatureMenuButton = !0;\n  }\n\n  _actionsMenuOpenChanged(e) {\n    e ? this._focusFirstAction = !0 : this._focusActionsMenuButton = !0;\n  }\n\n  _setTitleFromFeatureWidget() {\n    const {\n      selectedFeatureWidget: e,\n      messagesCommon: t\n    } = this;\n    e && (this.viewModel.title = \"error\" === e.viewModel?.state ? t.errorMessage : e.viewModel?.title || \"\");\n  }\n\n  _setContentFromFeatureWidget() {\n    const {\n      selectedFeatureWidget: e\n    } = this;\n    e && (this.viewModel.content = e);\n  }\n\n  _unobserveFeatureMenuObserver() {\n    this._featureMenuIntersectionObserverNode && this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode);\n  }\n\n  _featureMenuIntersectionObserverCreated(e) {\n    this._unobserveFeatureMenuObserver(), this._featureMenuIntersectionObserver.observe(e), this._featureMenuIntersectionObserverNode = e;\n  }\n\n  _handleFeatureMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusFeatureMenuButton = !0, this.featureMenuOpen = !1, this.scheduleRender());\n  }\n\n  _handleActionMenuKeyup(e) {\n    \"Escape\" === i(e) && (e.stopPropagation(), this._focusActionsMenuButton = !0, this.actionsMenuOpen = !1, this.scheduleRender());\n  }\n\n  _setActiveFeature(e) {\n    const {\n      viewModel: t\n    } = this,\n          i = e.currentTarget[\"data-feature-index\"];\n    t.activeFeature = t.features[i] || null;\n  }\n\n  _removeActiveFeature() {\n    this.viewModel.activeFeature = null;\n  }\n\n  _handleFeatureMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _featureMenuNode: o\n    } = this,\n          n = e.currentTarget[\"data-feature-index\"];\n    if (!o) return;\n    const s = o.querySelectorAll(\"li\"),\n          r = s.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            s[s.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          s[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        s[(n + 1 + r) % r].focus();\n      }\n    } else {\n      e.stopPropagation();\n      s[(n - 1 + r) % r].focus();\n    }\n  }\n\n  _handleActionMenuItemKeyup(e) {\n    const t = i(e),\n          {\n      _actionsMenuNode: o\n    } = this,\n          n = e.currentTarget.dataset.actionUid,\n          {\n      menuActions: s\n    } = this.dividedActions,\n          r = s.findIndex(e => e.uid === n);\n    if (!o) return;\n    const a = o.querySelectorAll(\"li\"),\n          l = a.length;\n    if (\"ArrowUp\" !== t) {\n      if (\"ArrowDown\" !== t) {\n        if (\"Home\" !== t) {\n          if (\"End\" !== t) ;else {\n            e.stopPropagation();\n            a[a.length - 1].focus();\n          }\n        } else {\n          e.stopPropagation();\n          a[0].focus();\n        }\n      } else {\n        e.stopPropagation();\n        a[(r + 1 + l) % l].focus();\n      }\n    } else {\n      e.stopPropagation();\n      a[(r - 1 + l) % l].focus();\n    }\n  }\n\n  _handleMainKeyup(e) {\n    const t = i(e);\n    \"ArrowLeft\" === t && (e.stopPropagation(), this.previous()), \"ArrowRight\" === t && (e.stopPropagation(), this.next());\n  }\n\n  _spinnerEnabledChange(e) {\n    if (this._destroySpinner(), !e) return;\n    const t = this.get(\"viewModel.view\");\n\n    this._createSpinner(t);\n  }\n\n  _hideSpinner() {\n    const {\n      _spinner: e\n    } = this;\n    e && (e.location = null, e.hide());\n  }\n\n  _displaySpinner() {\n    const {\n      _spinner: e\n    } = this;\n    if (!e) return;\n    const {\n      location: t,\n      waitingForResult: i\n    } = this.viewModel;\n    i ? e.show({\n      location: t\n    }) : e.hide();\n  }\n\n  _getIconStyles(e) {\n    return {\n      \"background-image\": e ? `url(${e})` : \"\"\n    };\n  }\n\n  async _shouldFocus(e) {\n    e.shouldFocus && (await c(() => !0 === this.viewModel?.active), this.focus());\n  }\n\n  _addSelectedFeatureIndexHandle() {\n    const e = r(() => this.viewModel?.selectedFeatureIndex, (e, t) => this._selectedFeatureIndexUpdated(e, t));\n\n    this._handles.add(e, E);\n  }\n\n  _selectedFeatureIndexUpdated(e, t) {\n    const {\n      featureCount: i\n    } = this;\n    i && e !== t && -1 !== e && (this._destroyFlowItemWidgets(), this.actionsMenuOpen = !1, this.featureMenuOpen = !1, this._mainContainerNode && (this._mainContainerNode.scrollTop = 0), this._rootFlowItemNode && this._rootFlowItemNode.scrollContentTo({\n      top: 0\n    }));\n  }\n\n  _destroySelectedFeatureWidget() {\n    const {\n      _feature: e\n    } = this;\n    e && (e.viewModel = null, e && !e.destroyed && e.destroy()), this._feature = null;\n  }\n\n  _isScreenLocationWithinView(e, t) {\n    return e.x > -1 && e.y > -1 && e.x <= t.width && e.y <= t.height;\n  }\n\n  _isOutsideView(e) {\n    const {\n      popupHeight: t,\n      popupWidth: i,\n      screenLocation: o,\n      side: n,\n      view: s\n    } = e;\n    if (isNaN(i) || isNaN(t) || !s || !o) return !1;\n    const r = s.padding;\n    return \"right\" === n && o.x + i / 2 > s.width - r.right || \"left\" === n && o.x - i / 2 < r.left || \"top\" === n && o.y - t < r.top || \"bottom\" === n && o.y + t > s.height - r.bottom;\n  }\n\n  _calculateAutoAlignment(e) {\n    if (\"auto\" !== e) return e;\n    const {\n      _pointerOffsetInPx: t,\n      _containerNode: i,\n      _mainContainerNode: o,\n      viewModel: n\n    } = this,\n          {\n      screenLocation: r,\n      view: a\n    } = n;\n    if (s(r) || !a || !i) return \"top-center\";\n    if (!this._isScreenLocationWithinView(r, a)) return this._get(\"currentAlignment\") || \"top-center\";\n\n    function l(e) {\n      return parseInt(e.replace(/[^-\\d\\.]/g, \"\"), 10);\n    }\n\n    const c = o ? window.getComputedStyle(o, null) : null,\n          u = c ? l(c.getPropertyValue(\"max-height\")) : 0,\n          d = c ? l(c.getPropertyValue(\"height\")) : 0,\n          {\n      height: p,\n      width: h\n    } = i.getBoundingClientRect(),\n          g = h + t,\n          _ = Math.max(p, u, d) + t,\n          m = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"right\",\n      view: a\n    }),\n          f = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"left\",\n      view: a\n    }),\n          v = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"top\",\n      view: a\n    }),\n          b = this._isOutsideView({\n      popupHeight: _,\n      popupWidth: g,\n      screenLocation: r,\n      side: \"bottom\",\n      view: a\n    });\n\n    return f ? v ? \"bottom-right\" : \"top-right\" : m ? v ? \"bottom-left\" : \"top-left\" : v ? b ? \"top-center\" : \"bottom-center\" : \"top-center\";\n  }\n\n  _callCurrentAlignment(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getCurrentAlignment() {\n    const {\n      alignment: e,\n      dockEnabled: t\n    } = this;\n    return t || !this.viewModel.active ? null : this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)));\n  }\n\n  _setCurrentAlignment() {\n    this._set(\"currentAlignment\", this._getCurrentAlignment());\n  }\n\n  _setCurrentDockPosition() {\n    this._set(\"currentDockPosition\", this._getCurrentDockPosition());\n  }\n\n  _calculatePositionResult(e) {\n    const t = [\"left\", \"right\"];\n    return F(this.container) && t.reverse(), e.replace(/leading/gi, t[0]).replace(/trailing/gi, t[1]);\n  }\n\n  _callDockPosition(e) {\n    return \"function\" == typeof e ? e.call(this) : e;\n  }\n\n  _getDockPosition() {\n    return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)));\n  }\n\n  _getCurrentDockPosition() {\n    return this.dockEnabled && this.viewModel.active ? this._getDockPosition() : null;\n  }\n\n  _wouldDockTo() {\n    return this.dockEnabled ? null : this._getDockPosition();\n  }\n\n  _calculateAutoDockPosition(e) {\n    if (\"auto\" !== e) return e;\n    const t = this.viewModel?.view,\n          i = F(this.container) ? \"top-left\" : \"top-right\";\n    if (!t) return i;\n    const o = t.padding || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          n = t.width - o.left - o.right,\n          {\n      breakpoints: s\n    } = t;\n    return s && n <= s.xsmall ? \"bottom-center\" : i;\n  }\n\n  _positionContainer(e = this._containerNode) {\n    if (e && (this._containerNode = e), !e) return;\n\n    const {\n      screenLocation: t\n    } = this.viewModel,\n          {\n      width: i\n    } = e.getBoundingClientRect(),\n          o = this._calculatePositionStyle(t, i);\n\n    o && (e.style.top = o.top, e.style.left = o.left, e.style.bottom = o.bottom, e.style.right = o.right);\n  }\n\n  _calculateFullWidth(e) {\n    const {\n      currentAlignment: t,\n      _pointerOffsetInPx: i\n    } = this;\n    return \"top-left\" === t || \"bottom-left\" === t || \"top-right\" === t || \"bottom-right\" === t ? e + i : e;\n  }\n\n  _calculateAlignmentPosition(e, t, i, o) {\n    const {\n      currentAlignment: n,\n      _pointerOffsetInPx: s\n    } = this,\n          r = o / 2,\n          a = i.height - t,\n          l = i.width - e,\n          {\n      padding: c\n    } = this.view;\n    return \"bottom-center\" === n ? {\n      top: t + s - c.top,\n      left: e - r - c.left\n    } : \"top-left\" === n ? {\n      bottom: a + s - c.bottom,\n      right: l + s - c.right\n    } : \"bottom-left\" === n ? {\n      top: t + s - c.top,\n      right: l + s - c.right\n    } : \"top-right\" === n ? {\n      bottom: a + s - c.bottom,\n      left: e + s - c.left\n    } : \"bottom-right\" === n ? {\n      top: t + s - c.top,\n      left: e + s - c.left\n    } : \"top-center\" === n ? {\n      bottom: a + s - c.bottom,\n      left: e - r - c.left\n    } : void 0;\n  }\n\n  _calculatePositionStyle(e, t) {\n    const {\n      dockEnabled: i,\n      view: o\n    } = this;\n    if (!o) return;\n    if (i) return {\n      left: \"\",\n      top: \"\",\n      right: \"\",\n      bottom: \"\"\n    };\n    if (s(e) || !t) return;\n\n    const n = this._calculateFullWidth(t),\n          r = this._calculateAlignmentPosition(e.x, e.y, o, n);\n\n    return r ? {\n      top: void 0 !== r.top ? `${r.top}px` : \"auto\",\n      left: void 0 !== r.left ? `${r.left}px` : \"auto\",\n      bottom: void 0 !== r.bottom ? `${r.bottom}px` : \"auto\",\n      right: void 0 !== r.right ? `${r.right}px` : \"auto\"\n    } : void 0;\n  }\n\n  _viewChange(e, t) {\n    e && t && (this.close(), this.clear());\n  }\n\n  _viewReadyChange(e, t) {\n    if (e) {\n      const e = this.get(\"viewModel.view\");\n\n      this._wireUpView(e);\n    } else t && (this.close(), this.clear());\n  }\n\n  _wireUpView(e) {\n    if (this._destroySpinner(), !e) return;\n    const {\n      spinnerEnabled: t\n    } = this;\n    t && this._createSpinner(e), this._setDockEnabledForViewSize(this.dockOptions);\n  }\n\n  _dockingThresholdCrossed(e, t, i) {\n    const [o, n] = e,\n          [s, r] = t,\n          {\n      width: a,\n      height: l\n    } = i;\n    return o <= a && s > a || o > a && s <= a || n <= l && r > l || n > l && r <= l;\n  }\n\n  _updateDockEnabledForViewSize(e, t) {\n    if (!e || !t) return;\n    const i = this.get(\"viewModel.view.padding\") || {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n          o = i.left + i.right,\n          n = i.top + i.bottom,\n          s = [],\n          r = [];\n    s[0] = e[0] - o, s[1] = e[1] - n, r[0] = t[0] - o, r[1] = t[1] - n;\n    const {\n      dockOptions: a\n    } = this,\n          l = a.breakpoint;\n    this._dockingThresholdCrossed(s, r, l) && this._setDockEnabledForViewSize(a), this._setCurrentDockPosition();\n  }\n\n  _focusDockButtonNode(e) {\n    this._focusDockButton && (this._focusDockButton = !1, e.focus());\n  }\n\n  _closeButtonNodeUpdated(e) {\n    return this._focusClose ? (this._focusClose = !1, void e.focus()) : this._blurClose ? (this._blurClose = !1, void e.blur()) : void 0;\n  }\n\n  _mainContainerNodeUpdated(e) {\n    return this._mainContainerNode = e, this._focusContainer ? (this._focusContainer = !1, void e.focus()) : this._blurContainer ? (this._blurContainer = !1, void e.blur()) : void 0;\n  }\n\n  _featureMenuNodeUpdated(e) {\n    if (this._featureMenuNode = e, !e || !this._focusFirstFeature) return;\n    this._focusFirstFeature = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _actionsMenuNodeUpdated(e) {\n    if (this._actionsMenuNode = e, !e || !this._focusFirstAction) return;\n    this._focusFirstAction = !1;\n    const t = e.querySelectorAll(\"li\");\n\n    if (t.length) {\n      t[0].focus();\n    }\n  }\n\n  _focusFeatureMenuButtonNode(e) {\n    this._focusFeatureMenuButton && (this._focusFeatureMenuButton = !1, e.focus());\n  }\n\n  _focusActionsMenuButtonNode(e) {\n    this._focusActionsMenuButton && (this._focusActionsMenuButton = !1, e.focus());\n  }\n\n  _featureMenuViewportScrollTop() {\n    this._featureMenuViewportNode && (this._featureMenuViewportNode.scrollTop = 0);\n  }\n\n  _toggleScreenLocationEnabled() {\n    const {\n      dockEnabled: e,\n      viewModel: t\n    } = this;\n    if (!t) return;\n    const i = t.active && !e;\n    t.screenLocationEnabled = i;\n  }\n\n  _shouldDockAtCurrentViewSize(e) {\n    const t = e.breakpoint,\n          i = this.viewModel?.view?.ui;\n    if (!i) return !1;\n    const {\n      width: o,\n      height: n\n    } = i;\n    if (isNaN(o) || isNaN(n)) return !1;\n    const s = t.hasOwnProperty(\"width\") && o <= t.width,\n          r = t.hasOwnProperty(\"height\") && n <= t.height;\n    return s || r;\n  }\n\n  _setDockEnabledForViewSize(e) {\n    e.breakpoint && (this.dockEnabled = this._shouldDockAtCurrentViewSize(e));\n  }\n\n  _getPageText(e, t) {\n    return this.featureNavigationVisible ? T(this.messages.pageText, {\n      index: t + 1,\n      total: e\n    }) : null;\n  }\n\n  _destroySpinner() {\n    const {\n      _spinner: e,\n      view: t\n    } = this;\n    e && (t && t.ui && t.ui.remove(this._spinner, D), e.destroy(), this._spinner = null);\n  }\n\n  _createSpinner(e) {\n    e && (this._spinner = new m({\n      view: e\n    }), e.ui.add(this._spinner, {\n      key: D,\n      position: \"manual\"\n    }));\n  }\n\n  _toggleCollapsed() {\n    this.collapsed = !this.collapsed;\n  }\n\n  _close() {\n    this.close(), this.view && this.view.focus();\n  }\n\n  _toggleDockEnabled() {\n    this.dockEnabled = !this.dockEnabled, this._focusDockButton = !0, this.scheduleRender();\n  }\n\n  _toggleFeatureMenu() {\n    const e = !this.featureMenuOpen;\n    this._featureMenuOpenChanged(e), this.actionsMenuOpen = !1, this.featureMenuOpen = e;\n  }\n\n  _toggleActionsMenu() {\n    const e = !this.actionsMenuOpen;\n    this._actionsMenuOpenChanged(e), this.featureMenuOpen = !1, this.actionsMenuOpen = e;\n  }\n\n  _triggerAction(e) {\n    const t = e.currentTarget.dataset.actionUid,\n          {\n      allActions: i\n    } = this.viewModel,\n          o = i.findIndex(e => e.uid === t),\n          n = i.getItemAt(o);\n    n && \"toggle\" === n.type && (n.value = !n.value), this.actionsMenuOpen = !1, this.viewModel.triggerAction(o);\n  }\n\n  _selectFeature(e) {\n    const t = e.currentTarget[\"data-feature-index\"];\n    isNaN(t) || (this.viewModel.selectedFeatureIndex = t), this.featureMenuOpen = !1, this._focusFeatureMenuButton = !0, this.scheduleRender();\n  }\n\n  _next() {\n    this.next();\n  }\n\n  _previous() {\n    this.previous();\n  }\n\n};\ne([p({\n  readOnly: !0\n})], V.prototype, \"actionsMenuId\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"actionsMenuButtonId\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"featureMenuId\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"titleId\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"contentId\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"hasContent\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"featureNavigationVisible\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"collapsible\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"featureMenuVisible\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"contentCollapsed\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"dividedActions\", null), e([p({\n  readOnly: !0,\n  dependsOn: [\"_flowItems.length\"]\n})], V.prototype, \"_activeFlowItemWidget\", null), e([p()], V.prototype, \"actions\", null), e([p()], V.prototype, \"actionsMenuOpen\", null), e([p()], V.prototype, \"alignment\", void 0), e([p()], V.prototype, \"autoCloseEnabled\", null), e([p()], V.prototype, \"autoOpenEnabled\", null), e([p()], V.prototype, \"defaultPopupTemplateEnabled\", null), e([p()], V.prototype, \"content\", null), e([p()], V.prototype, \"collapsed\", void 0), e([p()], V.prototype, \"collapseEnabled\", void 0), e([p({\n  readOnly: !0\n})], V.prototype, \"currentAlignment\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"currentDockPosition\", null), e([p()], V.prototype, \"dockOptions\", null), e([p()], V.prototype, \"dockEnabled\", void 0), e([p({\n  readOnly: !0\n})], V.prototype, \"featureCount\", null), e([p()], V.prototype, \"featureMenuOpen\", void 0), e([p()], V.prototype, \"features\", null), e([p()], V.prototype, \"goToOverride\", null), e([p()], V.prototype, \"headingLevel\", void 0), e([p()], V.prototype, \"highlightEnabled\", null), e([p()], V.prototype, \"location\", null), e([p()], V.prototype, \"label\", null), e([p()], V.prototype, \"maxInlineActions\", void 0), e([p(), k(\"esri/widgets/Popup/t9n/Popup\")], V.prototype, \"messages\", void 0), e([p(), k(\"esri/t9n/common\")], V.prototype, \"messagesCommon\", void 0), e([p()], V.prototype, \"promises\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"selectedFeature\", null), e([p()], V.prototype, \"selectedFeatureIndex\", null), e([p({\n  readOnly: !0\n})], V.prototype, \"selectedFeatureWidget\", null), e([p()], V.prototype, \"spinnerEnabled\", void 0), e([p()], V.prototype, \"title\", null), e([p()], V.prototype, \"updateLocationEnabled\", null), e([p()], V.prototype, \"view\", null), e([p({\n  type: w\n}), C([\"triggerAction\", \"trigger-action\"])], V.prototype, \"viewModel\", void 0), e([p()], V.prototype, \"visible\", null), e([p()], V.prototype, \"visibleElements\", void 0), e([h(\"visibleElements\")], V.prototype, \"castVisibleElements\", null), e([y()], V.prototype, \"_close\", null), e([y()], V.prototype, \"_toggleDockEnabled\", null), e([y()], V.prototype, \"_toggleFeatureMenu\", null), e([y()], V.prototype, \"_toggleActionsMenu\", null), e([y()], V.prototype, \"_triggerAction\", null), e([y()], V.prototype, \"_selectFeature\", null), e([y()], V.prototype, \"_next\", null), e([y()], V.prototype, \"_previous\", null), V = e([g(\"esri.widgets.Popup\")], V);\nconst U = V;\nexport { U as default };","map":{"version":3,"names":["_","e","t","eventKey","i","o","n","isNone","s","watch","r","when","a","on","l","whenOnce","c","initial","u","throttle","d","property","p","cast","h","subclass","g","m","f","CSS","v","FeatureContentMixin","b","w","Heading","M","accessibleHandler","y","messageBundle","k","vmEvent","C","tsx","A","isRTL","F","storeNode","I","cssTransition","x","isDarkTheme","O","substitute","T","E","N","D","B","calciteThemeLight","calciteThemeDark","iconLeftTriangleArrow","iconRightTriangleArrow","iconDockToTop","iconDockToBottom","iconDockToLeft","iconDockToRight","iconClose","iconUndock","iconCheckMark","iconLoading","iconDefaultAction","iconActionsMenu","rotating","base","widget","main","loadingContainer","isCollapsible","isCollapsed","shadow","isDocked","isDockedTopLeft","isDockedTopCenter","isDockedTopRight","isDockedBottomLeft","isDockedBottomCenter","isDockedBottomRight","alignTopCenter","alignBottomCenter","alignTopLeft","alignBottomLeft","alignTopRight","alignBottomRight","isFeatureMenuOpen","isActionsMenuOpen","hasFeatureUpdated","header","headerButtons","headerContainer","headerContainerButton","headerTitle","content","contentHasFlows","contentFlowItem","footer","footerHasPagination","footerHasActions","footerHasActionsMenu","button","buttonDisabled","buttonDock","icon","iconDock","inlineActionsContainer","actionsMenuButton","actions","action","actionImage","actionText","actionToggle","actionToggleOn","actionExit","pointer","pointerDirection","navigation","paginationPrevious","paginationNext","paginationPreviousIconLTR","paginationPreviousIconRTL","paginationNextIconLTR","paginationNextIconRTL","featureMenu","featureMenuList","featureMenuItem","featureMenuViewport","featureMenuHeader","featureMenuNote","featureMenuSelected","featureMenuButton","featureMenuTitle","featureMenuObserver","featureMenuLoader","collapseButton","collapseIcon","P","buttonEnabled","position","breakpoint","width","L","R","S","closeButton","featureNavigation","V","constructor","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_handles","_pointerOffsetInPx","_spinner","_feature","_featureMenuIntersectionObserverCallback","isIntersecting","viewModel","featurePage","_featureMenuIntersectionObserver","IntersectionObserver","root","window","document","_displaySpinnerThrottled","_displaySpinner","_exitRelatedRecordsActions","WeakMap","_flowItems","alignment","collapsed","collapseEnabled","dockEnabled","featureMenuOpen","headingLevel","maxInlineActions","messages","messagesCommon","spinnerEnabled","visibleElements","_addSelectedFeatureIndexHandle","addHandles","screenLocation","_positionContainer","active","_toggleScreenLocationEnabled","reposition","view","padding","size","location","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","ready","_viewReadyChange","waitingForResult","_hideSpinner","selectedFeatureWidget","_destroyFlowItemWidgets","title","state","_setTitleFromFeatureWidget","_setContentFromFeatureWidget","widthBreakpoint","centerAtLocation","allActions","_watchActions","featureViewModels","_featureMenuViewportScrollTop","notifyChange","scheduleRender","_activeFlowItemWidget","loadDependencies","Promise","all","destroy","_destroySelectedFeatureWidget","_destroySpinner","_unobserveFeatureMenuObserver","disconnect","actionsMenuId","id","actionsMenuButtonId","featureMenuId","titleId","contentId","hasContent","waitingForContent","Array","isArray","length","featureNavigationVisible","featureCount","collapsible","featureMenuVisible","contentCollapsed","dividedActions","_divideActions","getItemAt","actionsMenuOpen","_set","_get","autoCloseEnabled","autoOpenEnabled","defaultPopupTemplateEnabled","currentAlignment","_getCurrentAlignment","currentDockPosition","_getCurrentDockPosition","dockOptions","get","xsmall","height","_setCurrentDockPosition","features","goToOverride","highlightEnabled","label","widgetLabel","_overrideIfSome","promises","selectedFeature","selectedFeatureIndex","selectedFeatureViewModel","flowItems","updateLocationEnabled","visible","castVisibleElements","blur","getLogger","declaredClass","warn","clear","close","fetchFeatures","focus","next","open","remove","set","_shouldFocus","previous","renderNow","_setCurrentAlignment","triggerAction","render","menuActions","layer","class","classes","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","renderLoadingIcon","renderNavigationLoading","pendingPromisesCount","key","loading","renderPreviousIcon","container","renderPreviousButton","tabIndex","onclick","_previous","onkeydown","renderNextIcon","renderNextButton","_next","renderFeatureMenuButton","_toggleFeatureMenu","_focusFeatureMenuButtonNode","toString","menu","_getPageText","renderNavigationButtons","renderDockIcon","_wouldDockTo","renderDockButton","undock","dock","_toggleDockEnabled","_focusDockButtonNode","renderTitle","level","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","_toggleCollapsed","type","scale","renderCloseIcon","renderCloseButton","_close","_closeButtonNodeUpdated","renderHeader","renderContentContainer","toArray","onCalciteFlowItemBack","_handleBackClick","back","renderContent","map","renderFlowItem","renderFlowItemTooltip","heading","description","_getFlowItemDescription","uid","exitRelatedRecords","text","slot","_storeExitRelatedRecordsAction","overlayPositioning","referenceElement","placement","renderActionsMenuButton","_toggleActionsMenu","_focusActionsMenuButtonNode","renderMenuActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","renderAction","renderInlineActions","inlineActions","renderInlineActionsContainer","renderNavigation","renderFooter","renderFeatureMenuContainer","isLoadingFeature","selectedFeatures","total","renderFeatureMenu","_featureMenuIntersectionObserverCreated","_handleMainKeyup","_mainContainerNodeUpdated","contentNode","renderNodeContent","renderActionText","renderActionIcon","_getActionClass","_getActionImage","styles","_getIconStyles","_getActionTitle","value","disabled","_handleActionMenuItemKeyup","_triggerAction","renderFeatureMenuItem","untitled","onblur","_removeActiveFeature","onfocus","_setActiveFeature","_handleFeatureMenuItemKeyup","_selectFeature","onmouseover","onmouseleave","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","filter","graphic","featureCountDescription","removeAll","forEach","showAllEnabled","pop","delete","attributes","className","image","_getInlineActionCount","Math","round","max","add","slice","_featureMenuOpenChanged","_actionsMenuOpenChanged","errorMessage","_featureMenuIntersectionObserverNode","unobserve","observe","stopPropagation","currentTarget","activeFeature","querySelectorAll","dataset","actionUid","findIndex","_createSpinner","hide","show","shouldFocus","_selectedFeatureIndexUpdated","scrollTop","_rootFlowItemNode","scrollContentTo","top","destroyed","_isScreenLocationWithinView","_isOutsideView","popupHeight","popupWidth","side","isNaN","right","left","bottom","_calculateAutoAlignment","parseInt","replace","getComputedStyle","getPropertyValue","getBoundingClientRect","_callCurrentAlignment","call","_calculatePositionResult","reverse","_callDockPosition","_getDockPosition","_calculateAutoDockPosition","breakpoints","_calculatePositionStyle","style","_calculateFullWidth","_calculateAlignmentPosition","_wireUpView","_setDockEnabledForViewSize","_dockingThresholdCrossed","_featureMenuViewportNode","screenLocationEnabled","_shouldDockAtCurrentViewSize","ui","hasOwnProperty","pageText","index","readOnly","prototype","dependsOn","U","default"],"sources":["E:////Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Popup.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import t from\"../core/Collection.js\";import{eventKey as i}from\"../core/events.js\";import o from\"../core/Handles.js\";import n from\"../core/Logger.js\";import{isNone as s}from\"../core/maybe.js\";import{watch as r,when as a,on as l,whenOnce as c,initial as u}from\"../core/reactiveUtils.js\";import{throttle as d}from\"../core/throttle.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as h}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import _ from\"./Feature.js\";import m from\"./Spinner.js\";import f from\"./Widget.js\";import{CSS as v}from\"./Feature/resources.js\";import{FeatureContentMixin as b}from\"./Feature/support/FeatureContentMixin.js\";import w from\"./Popup/PopupViewModel.js\";import{Heading as M}from\"./support/Heading.js\";import{accessibleHandler as y}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as k}from\"./support/decorators/messageBundle.js\";import{vmEvent as C}from\"./support/decorators/vmEvent.js\";import{tsx as A}from\"./support/jsxFactory.js\";import{isRTL as F,storeNode as I,cssTransition as x}from\"./support/widgetUtils.js\";import{isDarkTheme as O}from\"../support/themeUtils.js\";import{substitute as T}from\"../intl/substitute.js\";const E=\"selected-index\",N=0,D=\"popup-spinner\",B={calciteThemeLight:\"calcite-theme-light\",calciteThemeDark:\"calcite-theme-dark\",iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\",iconDockToTop:\"esri-icon-maximize\",iconDockToBottom:\"esri-icon-dock-bottom\",iconDockToLeft:\"esri-icon-dock-left\",iconDockToRight:\"esri-icon-dock-right\",iconClose:\"esri-icon-close\",iconUndock:\"esri-icon-minimize\",iconCheckMark:\"esri-icon-check-mark\",iconLoading:\"esri-icon-loading-indicator\",iconDefaultAction:\"esri-icon-default-action\",iconActionsMenu:\"esri-icon-handle-horizontal\",rotating:\"esri-rotating\",base:\"esri-popup\",widget:\"esri-widget\",main:\"esri-popup__main-container\",loadingContainer:\"esri-popup__loading-container\",isCollapsible:\"esri-popup--is-collapsible\",isCollapsed:\"esri-popup--is-collapsed\",shadow:\"esri-popup--shadow\",isDocked:\"esri-popup--is-docked\",isDockedTopLeft:\"esri-popup--is-docked-top-left\",isDockedTopCenter:\"esri-popup--is-docked-top-center\",isDockedTopRight:\"esri-popup--is-docked-top-right\",isDockedBottomLeft:\"esri-popup--is-docked-bottom-left\",isDockedBottomCenter:\"esri-popup--is-docked-bottom-center\",isDockedBottomRight:\"esri-popup--is-docked-bottom-right\",alignTopCenter:\"esri-popup--aligned-top-center\",alignBottomCenter:\"esri-popup--aligned-bottom-center\",alignTopLeft:\"esri-popup--aligned-top-left\",alignBottomLeft:\"esri-popup--aligned-bottom-left\",alignTopRight:\"esri-popup--aligned-top-right\",alignBottomRight:\"esri-popup--aligned-bottom-right\",isFeatureMenuOpen:\"esri-popup--feature-menu-open\",isActionsMenuOpen:\"esri-popup--actions-menu-open\",hasFeatureUpdated:\"esri-popup--feature-updated\",header:\"esri-popup__header\",headerButtons:\"esri-popup__header-buttons\",headerContainer:\"esri-popup__header-container\",headerContainerButton:\"esri-popup__header-container--button\",headerTitle:\"esri-popup__header-title\",content:\"esri-popup__content\",contentHasFlows:\"esri-content--has-flows\",contentFlowItem:\"esri-content__flow-item\",footer:\"esri-popup__footer\",footerHasPagination:\"esri-popup__footer--has-pagination\",footerHasActions:\"esri-popup__footer--has-actions\",footerHasActionsMenu:\"esri-popup__footer--has-actions-menu\",button:\"esri-popup__button\",buttonDisabled:\"esri-popup__button--disabled\",buttonDock:\"esri-popup__button--dock\",icon:\"esri-popup__icon\",iconDock:\"esri-popup__icon--dock-icon\",inlineActionsContainer:\"esri-popup__inline-actions-container\",actionsMenuButton:\"esri-popup__actions-menu-button\",actions:\"esri-popup__actions\",action:\"esri-popup__action\",actionImage:\"esri-popup__action-image\",actionText:\"esri-popup__action-text\",actionToggle:\"esri-popup__action-toggle\",actionToggleOn:\"esri-popup__action-toggle--on\",actionExit:\"esri-popup__action--exit\",pointer:\"esri-popup__pointer\",pointerDirection:\"esri-popup__pointer-direction\",navigation:\"esri-popup__navigation\",paginationPrevious:\"esri-popup__pagination-previous\",paginationNext:\"esri-popup__pagination-next\",paginationPreviousIconLTR:\"esri-popup__pagination-previous-icon\",paginationPreviousIconRTL:\"esri-popup__pagination-previous-icon--rtl\",paginationNextIconLTR:\"esri-popup__pagination-next-icon\",paginationNextIconRTL:\"esri-popup__pagination-next-icon--rtl\",featureMenu:\"esri-popup__feature-menu\",featureMenuList:\"esri-popup__feature-menu-list\",featureMenuItem:\"esri-popup__feature-menu-item\",featureMenuViewport:\"esri-popup__feature-menu-viewport\",featureMenuHeader:\"esri-popup__feature-menu-header\",featureMenuNote:\"esri-popup__feature-menu-note\",featureMenuSelected:\"esri-popup__feature-menu-item--selected\",featureMenuButton:\"esri-popup__feature-menu-button\",featureMenuTitle:\"esri-popup__feature-menu-title\",featureMenuObserver:\"esri-popup__feature-menu-observer\",featureMenuLoader:\"esri-popup__feature-menu-loader\",collapseButton:\"esri-popup__collapse-button\",collapseIcon:\"esri-popup__collapse-icon\"},P={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}},L=\"esri-popup\";function R(e,t){return void 0===t?`${L}__${e}`:`${L}__${e}-${t}`}const S={closeButton:!0,featureNavigation:!0};let V=class extends(b(f)){constructor(e,i){super(e,i),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new o,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([e])=>{e?.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=d((()=>this._displaySpinner()),N),this._exitRelatedRecordsActions=new WeakMap,this._flowItems=new t,this.alignment=\"auto\",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new w,this.visibleElements={...S},this._addSelectedFeatureIndexHandle(),this.addHandles([r((()=>this.viewModel?.screenLocation),(()=>this._positionContainer())),r((()=>[this.viewModel?.active,this.dockEnabled]),(()=>this._toggleScreenLocationEnabled())),r((()=>this.viewModel?.screenLocation),((e,t)=>{!!e!=!!t&&this.reposition()})),r((()=>[this.viewModel?.view?.padding,this.viewModel?.view?.size,this.viewModel?.active,this.viewModel?.location,this.alignment]),(()=>this.reposition())),r((()=>this.spinnerEnabled),(e=>this._spinnerEnabledChange(e))),r((()=>this.viewModel?.view?.size),((e,t)=>this._updateDockEnabledForViewSize(e,t))),r((()=>this.viewModel?.view),((e,t)=>this._viewChange(e,t))),r((()=>this.viewModel?.view?.ready),((e,t)=>this._viewReadyChange(e,t))),r((()=>[this.viewModel?.waitingForResult,this.viewModel?.location]),(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),r((()=>this.selectedFeatureWidget),(()=>this._destroyFlowItemWidgets())),r((()=>[this.selectedFeatureWidget?.viewModel?.title,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setTitleFromFeatureWidget())),r((()=>[this.selectedFeatureWidget?.viewModel?.content,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setContentFromFeatureWidget())),a((()=>!this.collapsed),(()=>{\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),l((()=>this.viewModel?.allActions),\"change\",(()=>this._watchActions())),r((()=>this.viewModel?.allActions),(()=>this._watchActions()),u),r((()=>this.viewModel?.featureViewModels),(()=>this._featureMenuViewportScrollTop())),l((()=>this._flowItems),\"change\",(()=>{this.notifyChange(\"_activeFlowItemWidget\"),this.scheduleRender()})),r((()=>[this._activeFlowItemWidget?.viewModel?.state,this._activeFlowItemWidget?.viewModel?.title]),(()=>this.scheduleRender()))])}loadDependencies(){return Promise.all([import(\"@esri/calcite-components/dist/components/calcite-flow.js\"),import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"),import(\"@esri/calcite-components/dist/components/calcite-action.js\"),import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\"),import(\"@esri/calcite-components/dist/components/calcite-icon.js\")])}destroy(){this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles?.destroy(),this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver?.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:e,viewModel:t}=this;if(!e)return!!t?.content;const i=e.viewModel;if(i?.waitingForContent||\"error\"===i?.state)return!0;const o=i?.content;return Array.isArray(o)?!!o.length:!!o}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:e}=this;return e.getItemAt(e.length-1)||null}get actions(){return this.viewModel.actions}set actions(e){this.viewModel.actions=e}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(e){this.viewModel.autoCloseEnabled=e}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(e){this.viewModel.autoOpenEnabled=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get content(){return this.viewModel.content}set content(e){this.viewModel.content=e}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||P}set dockOptions(e){const t={...P},i=this.get(\"viewModel.view.breakpoints\"),o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;!0===r?n.breakpoint=s:\"object\"==typeof r&&(n.breakpoint={...s,...r}),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(e){this.viewModel.features=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(e){this.viewModel.highlightEnabled=e}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get promises(){return this.viewModel.promises}set promises(e){this.viewModel.promises=e}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(e){this.viewModel.selectedFeatureIndex=e}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i,_flowItems:o}=this,{selectedFeatureViewModel:n}=this.viewModel,s={...t,title:!1};return n?(e?(e.viewModel=n,e.visibleElements=s):this._feature=new _({flowItems:o,headingLevel:i+1,viewModel:n,visibleElements:s}),this._feature):null}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(e){this.viewModel.updateLocationEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}castVisibleElements(e){return{...S,...e}}blur(){const{active:e}=this.viewModel;e||n.getLogger(this.declaredClass).warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||n.getLogger(this.declaredClass).warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){this._handles.remove(E);const t=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,o={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:t};\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&(o.collapsed=!0),this.set(o),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){return this.viewModel.triggerAction(e)}render(){const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:i,dividedActions:o,currentAlignment:n,currentDockPosition:s}=this,{active:r}=this.viewModel,{menuActions:a}=o,l=r&&a.length>1&&e,c=r&&t,u=r&&!t,d=this.selectedFeature?.layer?.title,p=this.selectedFeature?.layer?.id,h={[B.alignTopCenter]:\"top-center\"===n,[B.alignBottomCenter]:\"bottom-center\"===n,[B.alignTopLeft]:\"top-left\"===n,[B.alignBottomLeft]:\"bottom-left\"===n,[B.alignTopRight]:\"top-right\"===n,[B.alignBottomRight]:\"bottom-right\"===n,[B.isDocked]:c,[B.shadow]:u,[B.isDockedTopLeft]:\"top-left\"===s,[B.isDockedTopCenter]:\"top-center\"===s,[B.isDockedTopRight]:\"top-right\"===s,[B.isDockedBottomLeft]:\"bottom-left\"===s,[B.isDockedBottomCenter]:\"bottom-center\"===s,[B.isDockedBottomRight]:\"bottom-right\"===s,[B.isFeatureMenuOpen]:i,[B.isActionsMenuOpen]:l};return A(\"div\",{class:this.classes(B.base,h),role:\"presentation\",\"data-layer-title\":d,\"data-layer-id\":p,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},r?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return A(\"span\",{\"aria-hidden\":\"true\",class:this.classes(B.icon,B.iconLoading,B.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?A(\"div\",{key:R(\"loading-container\"),role:\"presentation\",class:B.loadingContainer,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=F(this.container),t={[B.iconRightTriangleArrow]:e,[B.paginationPreviousIconRTL]:e,[B.iconLeftTriangleArrow]:!e,[B.paginationPreviousIconLTR]:!e};return A(\"span\",{\"aria-hidden\":\"true\",class:this.classes(B.icon,t)})}renderPreviousButton(){const{messages:e}=this;return A(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(B.button,B.paginationPrevious),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=F(this.container),t={[B.iconLeftTriangleArrow]:e,[B.paginationNextIconRTL]:e,[B.iconRightTriangleArrow]:!e,[B.paginationNextIconLTR]:!e};return A(\"span\",{\"aria-hidden\":\"true\",class:this.classes(B.icon,t)})}renderNextButton(){const{messages:e}=this;return A(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(B.button,B.paginationNext),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return A(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(B.button,B.featureMenuButton),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e.toString(),\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[B.iconUndock]:e,[B.iconDock]:!e,[B.iconDockToRight]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[B.iconDockToLeft]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[B.iconDockToTop]:!e&&\"top-center\"===t,[B.iconDockToBottom]:!e&&\"bottom-center\"===t};return A(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,B.icon)})}renderDockButton(){const{dockEnabled:e,messages:t}=this,i=this.viewModel?.view?.widthBreakpoint,o=e?t.undock:t.dock;return\"xsmall\"!==i&&this.dockOptions?.buttonEnabled?A(\"div\",{role:\"button\",\"aria-label\":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(B.button,B.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[B.headerContainerButton]:i},r=A(M,{level:this.headingLevel,class:B.headerTitle,innerHTML:e}),a=i?A(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(B.headerContainer,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed,type:\"button\"},r,A(\"calcite-icon\",{class:B.collapseIcon,key:\"collapse-icon\",icon:o?\"chevron-down\":\"chevron-up\",scale:\"m\"})):A(\"div\",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(B.headerContainer,s)},r);return e?a:null}renderCloseIcon(){return A(\"span\",{\"aria-hidden\":\"true\",class:this.classes(B.icon,B.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?A(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:B.button,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return A(\"header\",{class:B.header},this.renderTitle(),A(\"div\",{class:B.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i,_flowItems:o,messagesCommon:n}=this,{content:s}=this.viewModel,r=o.toArray(),a={[B.contentHasFlows]:!!r.length};return t&&!i?A(\"div\",{key:s,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:this.classes(B.content,a)},A(\"calcite-flow\",{bind:this,onCalciteFlowItemBack:this._handleBackClick},A(\"calcite-flow-item\",{bind:this,\"data-node-ref\":\"_rootFlowItemNode\",\"intl-back\":n.back,afterCreate:I,key:\"root-flow-item\"},this.renderContent()),r.map((e=>this.renderFlowItem(e)))),r.map((e=>this.renderFlowItemTooltip(e)))):null}renderFlowItem(e){const{messages:t,messagesCommon:i}=this,o=O();return A(\"calcite-flow-item\",{class:this.classes({[B.calciteThemeDark]:!o,[B.calciteThemeLight]:o}),heading:e.title,\"intl-back\":i.back,description:this._getFlowItemDescription(e),key:`flow-item-${e.viewModel.uid}`},A(\"calcite-action\",{class:B.actionExit,icon:\"move-up\",label:t?.exitRelatedRecords,text:t?.exitRelatedRecords,slot:\"header-actions-start\",bind:this,afterCreate:t=>this._storeExitRelatedRecordsAction(e,t),onclick:this._destroyFlowItemWidgets}),A(\"div\",{class:this.classes(B.contentFlowItem,{[B.calciteThemeDark]:o,[B.calciteThemeLight]:!o})},e.render()))}renderFlowItemTooltip(e){const{messages:t,_exitRelatedRecordsActions:i}=this,o=O();return A(\"calcite-tooltip\",{class:this.classes({[B.calciteThemeDark]:!o,[B.calciteThemeLight]:o}),key:`exit-related-records-tooltip-${e.viewModel.uid}`,label:t?.exitRelatedRecords,overlayPositioning:\"fixed\",referenceElement:i.get(e),placement:\"top\"},t?.exitRelatedRecords)}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?A(\"div\",{key:R(\"actions-menu-button\"),class:this.classes(B.button,B.actionsMenuButton),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},A(\"span\",{\"aria-hidden\":\"true\",class:B.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n}=o;return n.length&&i?A(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:R(\"actions\"),class:B.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map((e=>this.renderAction({action:e,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map((e=>this.renderAction({action:e,type:\"inline\"})))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?A(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:B.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?A(\"section\",{key:R(\"navigation\"),class:this.classes(B.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[B.footerHasPagination]:e,[B.footerHasActions]:n,[B.footerHasActionsMenu]:s};return e||n?A(\"div\",{key:R(\"feature-buttons\"),class:this.classes(B.footer,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,o=T(e.selectedFeatures,{total:t.length});return A(\"section\",{key:R(\"menu\"),class:B.featureMenu},A(\"strong\",{class:B.featureMenuHeader},o),A(\"nav\",{bind:this,class:B.featureMenuViewport,\"data-node-ref\":\"_featureMenuViewportNode\",afterCreate:I},this.renderFeatureMenu(),A(\"div\",{class:B.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?A(\"div\",{class:B.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:A(\"div\",{key:R(\"pointer\"),class:B.pointer,role:\"presentation\"},A(\"div\",{class:this.classes(B.pointerDirection,B.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:a,visibleElements:l}=this,{title:c}=this.viewModel,u=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,d=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,p={[B.shadow]:e,[B.isCollapsible]:s,[B.isCollapsed]:a};return A(\"div\",{class:this.classes(B.main,B.widget,p),tabIndex:l.closeButton?null:-1,role:\"dialog\",\"aria-labelledby\":c?o:\"\",\"aria-describedby\":r&&!a?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},u?this.renderFooter():null,u?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}renderContent(){const e=this.viewModel?.content;return e?\"string\"==typeof e?A(\"div\",{class:v.contentNode,key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return A(\"span\",{key:\"text\",class:B.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[B.iconLoading]:e.active,[B.rotating]:e.active,[B.icon]:!!t,[B.actionImage]:!e.active&&!!i};return t&&(o[t]=!e.active),A(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(B.icon,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,type:i}=e,o=this._getActionTitle(t),n={[B.action]:\"toggle\"!==t.type,[B.actionToggle]:\"toggle\"===t.type,[B.actionToggleOn]:\"toggle\"===t.type&&t.value,[B.buttonDisabled]:t.disabled},s=[this.renderActionIcon(t),this.renderActionText(o)],r=\"menu-item\"===i?A(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(B.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):A(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(B.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return t.visible?r:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,a={[B.featureMenuSelected]:r},l=r?A(\"span\",{key:R(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:B.iconCheckMark}):null,c=A(\"span\",{innerHTML:e.title||o.untitled});return A(\"li\",{role:\"menuitem\",tabIndex:-1,key:R(`feature-menu-feature-${n}`),class:this.classes(a,B.featureMenuItem),bind:this,\"data-feature-index\":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},A(\"span\",{class:B.featureMenuTitle},c,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?A(\"ol\",{class:B.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.filter((e=>!!e.graphic)).map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_storeExitRelatedRecordsAction(e,t){this._exitRelatedRecordsActions.set(e,t),this.scheduleRender()}_getFlowItemDescription(e){return\"featureCountDescription\"in e?e.featureCountDescription:e.viewModel.description}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach((e=>{\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy()}))}_handleBackClick(){const e=this._flowItems.pop();this._exitRelatedRecordsActions.delete(e),\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e&&(e.viewModel=null,e.destroy())}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=i?.attributes,r=\"zoom-to-feature\"===n?T(e.title,{messages:t}):\"remove-selected-feature\"===n?T(e.title,{messages:o}):\"zoom-to-clustered-features\"===n||\"browse-clustered-features\"===n?T(e.title,{messages:t}):e.title;return r&&s?T(r,s):r}_getActionClass(e){const{selectedFeature:t}=this,i=t?.attributes,{className:o,image:n}=e,s=n||o?o:B.iconDefaultAction;return s&&i?T(s,i):s}_getActionImage(e){const{selectedFeature:t}=this,i=t?.attributes,{image:o}=e;return o&&i?T(o,i):o}_createFeatureUpdatedAnimation(){return x(\"enter\",B.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(r((()=>[e.uid,e.active,e.className,e.disabled,e.id,e.title,e.image,e.visible]),(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,i=e.filter((e=>e.visible)),o=this._getInlineActionCount(),n=null===o,s=0===o;return{inlineActions:n?i.slice(0):s?new t:i.slice(0,o),menuActions:n?new t:s?i.slice(0):i.slice(o)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=\"error\"===e.viewModel?.state?t.errorMessage:e.viewModel?.title||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===i(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,i=e.currentTarget[\"data-feature-index\"];t.activeFeature=t.features[i]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=i(e),{_featureMenuNode:o}=this,n=e.currentTarget[\"data-feature-index\"];if(!o)return;const s=o.querySelectorAll(\"li\"),r=s.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();s[s.length-1].focus()}else{e.stopPropagation();s[0].focus()}else{e.stopPropagation();s[(n+1+r)%r].focus()}else{e.stopPropagation();s[(n-1+r)%r].focus()}}_handleActionMenuItemKeyup(e){const t=i(e),{_actionsMenuNode:o}=this,n=e.currentTarget.dataset.actionUid,{menuActions:s}=this.dividedActions,r=s.findIndex((e=>e.uid===n));if(!o)return;const a=o.querySelectorAll(\"li\"),l=a.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();a[a.length-1].focus()}else{e.stopPropagation();a[0].focus()}else{e.stopPropagation();a[(r+1+l)%l].focus()}else{e.stopPropagation();a[(r-1+l)%l].focus()}}_handleMainKeyup(e){const t=i(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}async _shouldFocus(e){e.shouldFocus&&(await c((()=>!0===this.viewModel?.active)),this.focus())}_addSelectedFeatureIndexHandle(){const e=r((()=>this.viewModel?.selectedFeatureIndex),((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,E)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:r,view:a}=n;if(s(r)||!a||!i)return\"top-center\";if(!this._isScreenLocationWithinView(r,a))return this._get(\"currentAlignment\")||\"top-center\";function l(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const c=o?window.getComputedStyle(o,null):null,u=c?l(c.getPropertyValue(\"max-height\")):0,d=c?l(c.getPropertyValue(\"height\")):0,{height:p,width:h}=i.getBoundingClientRect(),g=h+t,_=Math.max(p,u,d)+t,m=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"right\",view:a}),f=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"left\",view:a}),v=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"top\",view:a}),b=this._isOutsideView({popupHeight:_,popupWidth:g,screenLocation:r,side:\"bottom\",view:a});return f?v?\"bottom-right\":\"top-right\":m?v?\"bottom-left\":\"top-left\":v?b?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return F(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){if(\"auto\"!==e)return e;const t=this.viewModel?.view,i=F(this.container)?\"top-left\":\"top-right\";if(!t)return i;const o=t.padding||{left:0,right:0,top:0,bottom:0},n=t.width-o.left-o.right,{breakpoints:s}=t;return s&&n<=s.xsmall?\"bottom-center\":i}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&(e.style.top=o.top,e.style.left=o.left,e.style.bottom=o.bottom,e.style.right=o.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this,r=o/2,a=i.height-t,l=i.width-e,{padding:c}=this.view;return\"bottom-center\"===n?{top:t+s-c.top,left:e-r-c.left}:\"top-left\"===n?{bottom:a+s-c.bottom,right:l+s-c.right}:\"bottom-left\"===n?{top:t+s-c.top,right:l+s-c.right}:\"top-right\"===n?{bottom:a+s-c.bottom,left:e+s-c.left}:\"bottom-right\"===n?{top:t+s-c.top,left:e+s-c.left}:\"top-center\"===n?{bottom:a+s-c.bottom,left:e-r-c.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(s(e)||!t)return;const n=this._calculateFullWidth(t),r=this._calculateAlignmentPosition(e.x,e.y,o,n);return r?{top:void 0!==r.top?`${r.top}px`:\"auto\",left:void 0!==r.left?`${r.left}px`:\"auto\",bottom:void 0!==r.bottom?`${r.bottom}px`:\"auto\",right:void 0!==r.right?`${r.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:a,height:l}=i;return o<=a&&s>a||o>a&&s<=a||n<=l&&r>l||n>l&&r<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:a}=this,l=a.breakpoint;this._dockingThresholdCrossed(s,r,l)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){const t=e.breakpoint,i=this.viewModel?.view?.ui;if(!i)return!1;const{width:o,height:n}=i;if(isNaN(o)||isNaN(n))return!1;const s=t.hasOwnProperty(\"width\")&&o<=t.width,r=t.hasOwnProperty(\"height\")&&n<=t.height;return s||r}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?T(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,D),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new m({view:e}),e.ui.add(this._spinner,{key:D,position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,o=i.findIndex((e=>e.uid===t)),n=i.getItemAt(o);n&&\"toggle\"===n.type&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(o)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([p({readOnly:!0})],V.prototype,\"actionsMenuId\",null),e([p({readOnly:!0})],V.prototype,\"actionsMenuButtonId\",null),e([p({readOnly:!0})],V.prototype,\"featureMenuId\",null),e([p({readOnly:!0})],V.prototype,\"titleId\",null),e([p({readOnly:!0})],V.prototype,\"contentId\",null),e([p({readOnly:!0})],V.prototype,\"hasContent\",null),e([p({readOnly:!0})],V.prototype,\"featureNavigationVisible\",null),e([p({readOnly:!0})],V.prototype,\"collapsible\",null),e([p({readOnly:!0})],V.prototype,\"featureMenuVisible\",null),e([p({readOnly:!0})],V.prototype,\"contentCollapsed\",null),e([p({readOnly:!0})],V.prototype,\"dividedActions\",null),e([p({readOnly:!0,dependsOn:[\"_flowItems.length\"]})],V.prototype,\"_activeFlowItemWidget\",null),e([p()],V.prototype,\"actions\",null),e([p()],V.prototype,\"actionsMenuOpen\",null),e([p()],V.prototype,\"alignment\",void 0),e([p()],V.prototype,\"autoCloseEnabled\",null),e([p()],V.prototype,\"autoOpenEnabled\",null),e([p()],V.prototype,\"defaultPopupTemplateEnabled\",null),e([p()],V.prototype,\"content\",null),e([p()],V.prototype,\"collapsed\",void 0),e([p()],V.prototype,\"collapseEnabled\",void 0),e([p({readOnly:!0})],V.prototype,\"currentAlignment\",null),e([p({readOnly:!0})],V.prototype,\"currentDockPosition\",null),e([p()],V.prototype,\"dockOptions\",null),e([p()],V.prototype,\"dockEnabled\",void 0),e([p({readOnly:!0})],V.prototype,\"featureCount\",null),e([p()],V.prototype,\"featureMenuOpen\",void 0),e([p()],V.prototype,\"features\",null),e([p()],V.prototype,\"goToOverride\",null),e([p()],V.prototype,\"headingLevel\",void 0),e([p()],V.prototype,\"highlightEnabled\",null),e([p()],V.prototype,\"location\",null),e([p()],V.prototype,\"label\",null),e([p()],V.prototype,\"maxInlineActions\",void 0),e([p(),k(\"esri/widgets/Popup/t9n/Popup\")],V.prototype,\"messages\",void 0),e([p(),k(\"esri/t9n/common\")],V.prototype,\"messagesCommon\",void 0),e([p()],V.prototype,\"promises\",null),e([p({readOnly:!0})],V.prototype,\"selectedFeature\",null),e([p()],V.prototype,\"selectedFeatureIndex\",null),e([p({readOnly:!0})],V.prototype,\"selectedFeatureWidget\",null),e([p()],V.prototype,\"spinnerEnabled\",void 0),e([p()],V.prototype,\"title\",null),e([p()],V.prototype,\"updateLocationEnabled\",null),e([p()],V.prototype,\"view\",null),e([p({type:w}),C([\"triggerAction\",\"trigger-action\"])],V.prototype,\"viewModel\",void 0),e([p()],V.prototype,\"visible\",null),e([p()],V.prototype,\"visibleElements\",void 0),e([h(\"visibleElements\")],V.prototype,\"castVisibleElements\",null),e([y()],V.prototype,\"_close\",null),e([y()],V.prototype,\"_toggleDockEnabled\",null),e([y()],V.prototype,\"_toggleFeatureMenu\",null),e([y()],V.prototype,\"_toggleActionsMenu\",null),e([y()],V.prototype,\"_triggerAction\",null),e([y()],V.prototype,\"_selectFeature\",null),e([y()],V.prototype,\"_next\",null),e([y()],V.prototype,\"_previous\",null),V=e([g(\"esri.widgets.Popup\")],V);const U=V;export{U as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}