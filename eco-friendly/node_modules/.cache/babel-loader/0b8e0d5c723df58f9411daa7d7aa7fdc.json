{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { d as s, m as t } from \"../../../../chunks/mat2d.js\";\nimport { c as r } from \"../../../../chunks/mat2df32.js\";\nimport { s as e, m as a } from \"../../../../chunks/mat3.js\";\nimport { c as i } from \"../../../../chunks/mat3f32.js\";\nimport { TILE_SIZE as o } from \"./definitions.js\";\nimport { TiledDisplayObject as n } from \"./TiledDisplayObject.js\";\n\nclass h {\n  acquire(s) {\n    return {\n      refCount: 1,\n      version: -1,\n      labelMat2d: i(),\n      tileMat3: i(),\n      dvs: i()\n    };\n  }\n\n  release(s) {}\n\n}\n\nclass m extends n {\n  constructor(s, t, r, e) {\n    super(s, t, r, e, o, o);\n  }\n\n  destroy() {\n    super.destroy(), this._transforms && m.TransformCache.release(this.key.hash);\n  }\n\n  setTransform(i) {\n    const o = this.resolution / i.resolution,\n          n = this.transforms.tileMat3,\n          [h, m] = i.toScreenNoRotation([0, 0], [this.x, this.y]),\n          c = this.width / this.rangeX * o,\n          f = this.height / this.rangeY * o;\n    e(n, c, 0, 0, 0, f, 0, h, m, 1), a(this.transforms.dvs, i.displayViewMat3, n);\n    const d = this.transforms.labelMat2d,\n          l = window.devicePixelRatio,\n          u = s(r(), c * l, 0, 0, f * l, h * l, m * l);\n    t(d, i.viewMat2d, u);\n  }\n\n  _createTransforms() {\n    return m.TransformCache.acquire(this.key.hash);\n  }\n\n}\n\nm.TransformCache = new h();\nexport { m as WGLTile };","map":{"version":3,"names":["d","s","m","t","c","r","e","a","i","TILE_SIZE","o","TiledDisplayObject","n","h","acquire","refCount","version","labelMat2d","tileMat3","dvs","release","constructor","destroy","_transforms","TransformCache","key","hash","setTransform","resolution","transforms","toScreenNoRotation","x","y","width","rangeX","f","height","rangeY","displayViewMat3","l","window","devicePixelRatio","u","viewMat2d","_createTransforms","WGLTile"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{d as s,m as t}from\"../../../../chunks/mat2d.js\";import{c as r}from\"../../../../chunks/mat2df32.js\";import{s as e,m as a}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{TILE_SIZE as o}from\"./definitions.js\";import{TiledDisplayObject as n}from\"./TiledDisplayObject.js\";class h{acquire(s){return{refCount:1,version:-1,labelMat2d:i(),tileMat3:i(),dvs:i()}}release(s){}}class m extends n{constructor(s,t,r,e){super(s,t,r,e,o,o)}destroy(){super.destroy(),this._transforms&&m.TransformCache.release(this.key.hash)}setTransform(i){const o=this.resolution/i.resolution,n=this.transforms.tileMat3,[h,m]=i.toScreenNoRotation([0,0],[this.x,this.y]),c=this.width/this.rangeX*o,f=this.height/this.rangeY*o;e(n,c,0,0,0,f,0,h,m,1),a(this.transforms.dvs,i.displayViewMat3,n);const d=this.transforms.labelMat2d,l=window.devicePixelRatio,u=s(r(),c*l,0,0,f*l,h*l,m*l);t(d,i.viewMat2d,u)}_createTransforms(){return m.TransformCache.acquire(this.key.hash)}}m.TransformCache=new h;export{m as WGLTile};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}