{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport e from \"../../../core/Error.js\";\nimport { isNone as t, isSome as n } from \"../../../core/maybe.js\";\nimport { getMetersPerUnitForSR as o } from \"../../../core/unitUtils.js\";\nimport { e as i, f as r, g as s, h as a, j as l } from \"../../../chunks/pe.js\";\nimport { canProjectWithoutEngine as c, isLoaded as f, load as u, getTransformation as m, project as h } from \"../../../geometry/projection.js\";\nimport x from \"../../../geometry/Extent.js\";\nimport p from \"../../../geometry/Point.js\";\nimport g from \"../../../geometry/Polygon.js\";\nimport y from \"../../../geometry/SpatialReference.js\";\nvar d;\n\nfunction M(e, t, n) {\n  return !c(e, t, n);\n}\n\nfunction w(t, n, o) {\n  const i = M(t, n, o);\n  if (i && !f()) throw new e(\"rasterprojectionhelper-project\", \"projection engine is not loaded\");\n  return i;\n}\n\n!function (e) {\n  e[e.None = 0] = \"None\", e[e.North = 1] = \"North\", e[e.South = 2] = \"South\", e[e.Both = 3] = \"Both\";\n}(d || (d = {}));\n\nconst R = (e, t, n, o = 0) => {\n  if (1 === n[0]) return [0, 0];\n  let i = 1,\n      r = -1,\n      s = 1,\n      a = -1;\n\n  for (let g = 0; g < e.length; g += 2) isNaN(e[g]) || (i = i > e[g] ? e[g] : i, r = r > e[g] ? r : e[g], s = s > e[g + 1] ? e[g + 1] : s, a = a > e[g + 1] ? a : e[g + 1]);\n\n  const {\n    cols: l,\n    rows: c\n  } = t,\n        f = (r - i) / l / n[0],\n        u = (a - s) / c / n[1],\n        m = 2 * o;\n  let h = 0,\n      x = !1,\n      p = [0, 0];\n\n  for (let g = 0; g < l - 3; g++) {\n    for (let t = 0; t < c - 3; t++) {\n      const n = g * c * 2 + 2 * t,\n            o = (e[n] + e[n + 4] + e[n + 4 * c] + e[n + 4 * c + 4]) / 4,\n            i = (e[n + 1] + e[n + 5] + e[n + 4 * c + 1] + e[n + 4 * c + 5]) / 4,\n            r = Math.abs((o - e[n + 2 * c + 2]) / f),\n            s = Math.abs((i - e[n + 2 * c + 3]) / u);\n\n      if (r + s > h && (h = r + s, p = [r, s]), m && h > m) {\n        x = !0;\n        break;\n      }\n    }\n\n    if (x) break;\n  }\n\n  return p;\n},\n      P = {\n  3395: 20037508.342789244,\n  3410: 17334193.943686873,\n  3857: 20037508.342788905,\n  3975: 17367530.445161372,\n  4087: 20037508.342789244,\n  4088: 20015108.787169147,\n  6933: 17367530.445161372,\n  32662: 20037508.342789244,\n  53001: 20015086.79602057,\n  53002: 10007543.39801029,\n  53003: 20015086.79602057,\n  53004: 20015086.79602057,\n  53016: 14152803.599503474,\n  53017: 17333573.624304302,\n  53034: 20015086.79602057,\n  53079: 20015114.352186374,\n  53080: 20015114.352186374,\n  54001: 20037508.342789244,\n  54002: 10018754.171394624,\n  54003: 20037508.342789244,\n  54004: 20037508.342789244,\n  54016: 14168658.027268292,\n  54017: 17367530.44516137,\n  54034: 20037508.342789244,\n  54079: 20037508.342789244,\n  54080: 20037508.342789244,\n  54100: 20037508.342789244,\n  54101: 20037508.342789244\n},\n      S = 32,\n      b = 4,\n      G = b,\n      N = new Map(),\n      E = new Map(),\n      k = 500;\n\nasync function T() {\n  f() || (await u());\n}\n\nfunction v(e, t, n) {\n  if (!w(e.spatialReference, t)) return null;\n  return n ? m(t, e.spatialReference, e) : m(e.spatialReference, t, e);\n}\n\nfunction C(e, i, r, s = null) {\n  const a = e.spatialReference;\n  if (a.equals(i)) return e;\n  w(a, i, s);\n  const l = r.center,\n        c = new x({\n    xmin: l.x - e.x / 2,\n    xmax: l.x + e.x / 2,\n    ymin: l.y - e.y / 2,\n    ymax: l.y + e.y / 2,\n    spatialReference: a\n  }),\n        f = h(c, i, s),\n        u = U(i);\n  let m;\n\n  if (t(f) || n(u) && f.width >= u) {\n    const t = o(a) / o(i);\n    m = {\n      x: e.x * t,\n      y: e.y * t\n    };\n  } else m = {\n    x: f.width,\n    y: f.height\n  };\n\n  return m;\n}\n\nfunction _(e, t = .01) {\n  return o(e) ? t / o(e) : 0;\n}\n\nfunction j(e, t, n = null, o = !0) {\n  const i = e.spatialReference;\n  if (i.equals(t)) return e;\n  w(i, t, n);\n  const r = h(e, t, n);\n  return o && r ? (z([e], [r], i, t), r) : r;\n}\n\nfunction z(e, t, o, i) {\n  const r = D(o, !0),\n        s = D(i, !0),\n        a = _(o, k),\n        l = _(i, k);\n\n  if (a && n(r) && n(s)) for (let n = 0; n < e.length; n++) {\n    const o = t[n];\n    if (!o) continue;\n    const {\n      x: i\n    } = e[n],\n          {\n      x: c\n    } = o;\n    c >= s[1] - l && Math.abs(i - r[0]) < a ? o.x -= s[1] - s[0] : c <= s[0] + l && Math.abs(i - r[1]) < a && (o.x += s[1] - s[0]);\n  }\n}\n\nfunction W(e) {\n  const {\n    inSR: t,\n    outSR: o,\n    datumTransformation: i,\n    preferPE: r\n  } = e;\n\n  if (t.equals(o)) {\n    const {\n      points: t\n    } = Y(e, null);\n    return t;\n  }\n\n  if (t.isWebMercator && o.isWGS84 || t.isWGS84 && o.isWebMercator) return A(e);\n\n  if (w(t, o, i) && r) {\n    if (t.isGeographic) return O(e);\n    const o = B(t);\n    if (n(o)) return O(e);\n  }\n\n  return L(e);\n}\n\nfunction L(e) {\n  const {\n    points: t\n  } = Y(e, null),\n        {\n    inSR: n,\n    outSR: o,\n    datumTransformation: i\n  } = e,\n        r = t.map(e => new p(e[0], e[1], n)),\n        s = h(r, o, i);\n  return i && z(r, s, n, o), s.map(e => e ? [e.x, e.y] : [NaN, NaN]);\n}\n\nfunction O(e) {\n  const {\n    inSR: t,\n    outSR: o,\n    datumTransformation: l\n  } = e,\n        c = B(t),\n        {\n    points: f,\n    mask: u\n  } = Y(e, c);\n\n  if (!t.isGeographic) {\n    const e = t.wkid ? i.coordsys(t.wkid) : i.fromString(t.isGeographic ? r.PE_TYPE_GEOGCS : r.PE_TYPE_PROJCS, t.wkt);\n    s.projToGeog(e, f.length, f);\n  }\n\n  if (n(l) && l.steps.length) {\n    let e;\n    const t = 179.9955;\n    if (o.isGeographic && (e = f.map(([e]) => e > t ? 1 : e < -t ? -1 : 0)), l.steps.forEach(e => {\n      const t = e.wkid ? i.geogtran(e.wkid) : i.fromString(r.PE_TYPE_GEOGTRAN, e.wkt);\n      a.geogToGeog(t, f.length, f, null, e.isInverse ? r.PE_TRANSFORM_2_TO_1 : r.PE_TRANSFORM_1_TO_2);\n    }), e) for (let n = 0; n < f.length; n++) {\n      const o = e[n],\n            i = f[n][0],\n            r = i > t ? 1 : i < -t ? -1 : 0;\n      o && r && o !== r && (f[n][0] = o > 0 ? i + 360 : i - 360);\n    }\n  }\n\n  if (!o.isGeographic) {\n    const e = B(o, !0),\n          t = n(e) && e.isEnvelope ? [e.bbox[1], e.bbox[3]] : [-90, 90];\n    F(f, t);\n    const a = o.wkid ? i.coordsys(o.wkid) : i.fromString(o.isGeographic ? r.PE_TYPE_GEOGCS : r.PE_TYPE_PROJCS, o.wkt);\n    s.geogToProj(a, f.length, f);\n  }\n\n  let m = f;\n\n  if (u && f.length !== u.length) {\n    m = [];\n\n    for (let e = 0, t = 0; e < u.length; e++) u[e] ? m.push(f[t++]) : m.push([NaN, NaN]);\n  }\n\n  return m;\n}\n\nfunction A(e) {\n  const {\n    cols: t,\n    rows: n,\n    xres: o,\n    yres: i,\n    usePixelCenter: r,\n    inSR: s,\n    outSR: a\n  } = e;\n  let {\n    xmin: l,\n    ymax: c\n  } = e;\n  r && (l += o / 2, c -= i / 2);\n  const f = [],\n        u = [],\n        m = Math.max(t, n);\n\n  for (let g = 0; g < m; g++) {\n    const e = l + o * Math.min(t, g),\n          r = c - i * Math.min(n, g),\n          m = h(new p({\n      x: e,\n      y: r,\n      spatialReference: s\n    }), a);\n    g <= t && f.push(m.x), g <= n && u.push(m.y);\n  }\n\n  const x = [];\n\n  for (let h = 0; h < t; h++) for (let e = 0; e < n; e++) x.push([f[h], u[e]]);\n\n  return x;\n}\n\nfunction B(e, t = !1) {\n  let n = e.wkid || e.wkt;\n  if (!n || e.isGeographic) return null;\n\n  if (n = String(n), N.has(n)) {\n    const e = N.get(n);\n    return t ? e?.gcs : e?.pcs;\n  }\n\n  const o = e.wkid ? i.coordsys(e.wkid) : i.fromString(e.isGeographic ? r.PE_TYPE_GEOGCS : r.PE_TYPE_PROJCS, e.wkt),\n        s = I(o, _(e, 1e-4)),\n        a = I(o, 0, !0);\n  return N.set(n, {\n    pcs: s,\n    gcs: a\n  }), t ? a : s;\n}\n\nfunction I(e, t = 0, n = !1) {\n  const o = l.generate(e),\n        i = n ? e.horizonGcsGenerate() : e.horizonPcsGenerate();\n  if (!o || !i?.length) return null;\n  let r = !1,\n      s = i.find(e => 1 === e.getInclusive() && 1 === e.getKind());\n\n  if (!s) {\n    if (s = i.find(e => 1 === e.getInclusive() && 0 === e.getKind()), !s) return null;\n    r = !0;\n  }\n\n  const a = n ? 0 : (2 === o.getNorthPoleLocation() ? 1 : 0) | (2 === o.getSouthPoleLocation() ? 2 : 0),\n        c = o.isPannableRectangle(),\n        f = s.getCoord();\n  if (r) return {\n    isEnvelope: r,\n    isPannable: c,\n    vertices: f,\n    coef: null,\n    bbox: [f[0][0] - t, f[0][1] - t, f[1][0] + t, f[1][1] + t],\n    poleLocation: a\n  };\n  let u = 0;\n  const m = [];\n  let [h, x] = f[0],\n      [p, g] = f[0];\n\n  for (let l = 0, y = f.length; l < y; l++) {\n    u++, u === y && (u = 0);\n    const [e, t] = f[l],\n          [n, o] = f[u];\n    if (o === t) m.push([e, n, t, o, 2]);else {\n      const i = (n - e) / (o - t || 1e-4),\n            r = e - i * t;\n      t < o ? m.push([i, r, t, o, 0]) : m.push([i, r, o, t, 1]);\n    }\n    h = h < e ? h : e, x = x < t ? x : t, p = p > e ? p : e, g = g > t ? g : t;\n  }\n\n  return {\n    isEnvelope: !1,\n    isPannable: c,\n    vertices: f,\n    coef: m,\n    bbox: [h, x, p, g],\n    poleLocation: a\n  };\n}\n\nfunction Y(e, n) {\n  const o = [],\n        {\n    cols: i,\n    rows: r,\n    xres: s,\n    yres: a,\n    usePixelCenter: l\n  } = e;\n  let {\n    xmin: c,\n    ymax: f\n  } = e;\n\n  if (l && (c += s / 2, f -= a / 2), t(n)) {\n    for (let e = 0; e < i; e++) for (let t = 0; t < r; t++) o.push([c + s * e, f - a * t]);\n\n    return {\n      points: o\n    };\n  }\n\n  const u = new Uint8Array(i * r);\n\n  if (n.isEnvelope) {\n    const {\n      bbox: [e, t, l, m]\n    } = n;\n\n    for (let h = 0, x = 0; h < i; h++) {\n      const i = c + s * h,\n            p = n.isPannable || i >= e && i <= l;\n\n      for (let e = 0; e < r; e++, x++) {\n        const n = f - a * e;\n        p && n >= t && n <= m && (o.push([i, n]), u[x] = 1);\n      }\n    }\n\n    return {\n      points: o,\n      mask: u\n    };\n  }\n\n  const m = n.coef,\n        h = [];\n\n  for (let t = 0; t < r; t++) {\n    const e = f - a * t,\n          n = [],\n          o = [];\n\n    for (let t = 0; t < m.length; t++) {\n      const [i, r, s, a, l] = m[t];\n      if (e === s && s === a) n.push(i), n.push(r), o.push(2), o.push(2);else if (e >= s && e <= a) {\n        const t = i * e + r;\n        n.push(t), o.push(l);\n      }\n    }\n\n    let i = n;\n\n    if (n.length > 2) {\n      let e = 2 === o[0] ? 0 : o[0],\n          t = n[0];\n      i = [];\n\n      for (let r = 1; r < o.length; r++) 2 === o[r] && r !== o.length - 1 || (o[r] !== e && (i.push(0 === e ? Math.min(t, n[r - 1]) : Math.max(t, n[r - 1])), e = o[r], t = n[r]), r === o.length - 1 && i.push(0 === o[r] ? Math.min(t, n[r]) : Math.max(t, n[r])));\n\n      i.sort((e, t) => e - t);\n    } else n[0] > n[1] && (i = [n[1], n[0]]);\n\n    h.push(i);\n  }\n\n  for (let t = 0, x = 0; t < i; t++) {\n    const e = c + s * t;\n\n    for (let t = 0; t < r; t++, x++) {\n      const n = f - a * t,\n            i = h[t];\n      if (2 === i.length) e >= i[0] && e <= i[1] && (o.push([e, n]), u[x] = 1);else if (i.length > 2) {\n        let t = !1;\n\n        for (let n = 0; n < i.length; n += 2) if (e >= i[n] && e <= i[n + 1]) {\n          t = !0;\n          break;\n        }\n\n        t && (o.push([e, n]), u[x] = 1);\n      }\n    }\n  }\n\n  return {\n    points: o,\n    mask: u\n  };\n}\n\nfunction F(e, t) {\n  const [n, o] = t;\n\n  for (let i = 0; i < e.length; i++) {\n    const t = e[i][1];\n    (t < n || t > o) && (e[i] = [NaN, NaN]);\n  }\n}\n\nfunction q(e) {\n  const n = U(e[0].spatialReference);\n  if (e.length < 2 || t(n)) return e[0];\n  let {\n    xmin: o,\n    xmax: i,\n    ymin: r,\n    ymax: s\n  } = e[0];\n\n  for (let t = 1; t < e.length; t++) {\n    const o = e[t];\n    i = o.xmax + n * t, r = Math.min(r, o.ymin), s = Math.max(s, o.ymax);\n  }\n\n  return new x({\n    xmin: o,\n    xmax: i,\n    ymin: r,\n    ymax: s,\n    spatialReference: e[0].spatialReference\n  });\n}\n\nfunction J(e, o, i = null, r = !0) {\n  const s = e.spatialReference;\n  if (s.equals(o)) return e;\n  const a = Q(e),\n        l = U(s, !0),\n        c = U(o);\n\n  if (0 === a || t(l) || t(c)) {\n    const a = K(e, o, i, r);\n\n    if (t(l) && n(c) && Math.abs(a.width - c) < _(o) && f()) {\n      const t = B(s);\n      if (n(t) && t.poleLocation === d.None && e.width < (t.bbox[2] - t.bbox[0]) / 2) return X(e, o) || a;\n    }\n\n    return a;\n  }\n\n  const u = e.clone().normalize();\n\n  if (1 === u.length && e.xmax < l && e.xmax - l / 2 > _(s)) {\n    const {\n      xmin: t,\n      xmax: n\n    } = e;\n\n    for (let o = 0; o <= a; o++) {\n      const i = 0 === o ? t : -l / 2,\n            r = o === a ? n - l * o : l / 2;\n      u[o] = new x({\n        xmin: i,\n        xmax: r,\n        ymin: e.ymin,\n        ymax: e.ymax,\n        spatialReference: s\n      });\n    }\n  }\n\n  return q(u.map(e => K(e, o, i, r)).filter(n));\n}\n\nfunction X(e, n) {\n  const o = U(n);\n  if (t(o)) return null;\n  let {\n    xmin: i,\n    ymin: r,\n    xmax: s,\n    ymax: a\n  } = e;\n  const l = e.spatialReference,\n        c = new g({\n    spatialReference: l,\n    rings: [[[i, r], [s, r], [s, a], [i, a], [i, r]]]\n  }),\n        f = h(c, n);\n  if (2 !== f.rings.length || !f.rings[0].length || !f.rings[1].length) return null;\n\n  const {\n    rings: u\n  } = f,\n        m = _(l),\n        p = new x({\n    spatialReference: n\n  });\n\n  for (let t = 0; t < 2; t++) {\n    i = s = u[t][0][0], r = a = u[t][0][1];\n\n    for (let e = 0; e < u[t].length; e++) i = i > u[t][e][0] ? u[t][e][0] : i, s = s < u[t][e][0] ? u[t][e][0] : s, r = r > u[t][e][1] ? u[t][e][1] : r, a = a < u[t][e][1] ? u[t][e][1] : a;\n\n    if (0 === t) p.ymin = r, p.ymax = a, p.xmin = i, p.xmax = s;else if (p.ymin = Math.min(p.ymin, r), p.ymax = Math.max(p.ymax, a), Math.abs(s - o / 2) < m) p.xmin = i, p.xmax = p.xmax + o;else {\n      if (!(Math.abs(i + o / 2) < m)) return null;\n      p.xmax = s + o;\n    }\n  }\n\n  return p;\n}\n\nfunction K(e, n, o = null, i = !0, r = !0) {\n  const s = e.spatialReference;\n  if (s.equals(n) || !n) return e;\n  w(s, n, o);\n  const a = h(e, n, o);\n  if (r && n.isWebMercator && a && (a.ymax = Math.min(20037508.342787, a.ymax), a.ymin = Math.max(-20037508.342787, a.ymin), a.ymin >= a.ymax)) return null;\n  if (!i || !a) return a;\n  const l = D(s, !0),\n        c = D(n, !0);\n  if (t(l) || t(c)) return a;\n\n  const f = _(s, .001),\n        u = _(s, k),\n        m = _(n, .001);\n\n  if (Math.abs(a.xmin - c[0]) < m && Math.abs(a.xmax - c[1]) < m) {\n    const t = Math.abs(e.xmin - l[0]),\n          i = Math.abs(l[1] - e.xmax);\n\n    if (t < f && i > u) {\n      a.xmin = c[0];\n      const t = [];\n      t.push(new p(e.xmax, e.ymin, s)), t.push(new p(e.xmax, (e.ymin + e.ymax) / 2, s)), t.push(new p(e.xmax, e.ymax, s));\n      const i = t.map(e => j(e, n, o)).filter(e => !isNaN(e?.x)).map(e => e.x);\n      a.xmax = Math.max.apply(null, i);\n    }\n\n    if (i < f && t > u) {\n      a.xmax = c[1];\n      const t = [];\n      t.push(new p(e.xmin, e.ymin, s)), t.push(new p(e.xmin, (e.ymin + e.ymax) / 2, s)), t.push(new p(e.xmin, e.ymax, s));\n      const i = t.map(e => j(e, n, o)).filter(e => !isNaN(e?.x)).map(e => e.x);\n      a.xmin = Math.min.apply(null, i);\n    }\n  } else {\n    const e = _(n, .001);\n\n    Math.abs(a.xmin - c[0]) < e && (a.xmin = c[0]), Math.abs(a.xmax - c[1]) < e && (a.xmax = c[1]);\n  }\n\n  return a;\n}\n\nfunction U(e, t = !1) {\n  if (!e) return null;\n  const n = t ? 20037508.342787 : 20037508.342788905;\n  return e.isWebMercator ? 2 * n : e.wkid && e.isGeographic ? 360 : 2 * P[e.wkid] || null;\n}\n\nfunction D(e, t = !1) {\n  if (e.isGeographic) return [-180, 180];\n  const o = U(e, t);\n  return n(o) ? [-o / 2, o / 2] : null;\n}\n\nfunction H(e, t, n, o) {\n  let i = (e - t) / n;\n  return i - Math.floor(i) != 0 ? i = Math.floor(i) : o && (i -= 1), i;\n}\n\nfunction Q(e, n = !1) {\n  const o = U(e.spatialReference);\n  if (t(o)) return 0;\n\n  const i = n ? 0 : -(o / 2),\n        r = _(e.spatialReference),\n        s = !n && Math.abs(e.xmax - o / 2) < r ? o / 2 : e.xmax,\n        a = !n && Math.abs(e.xmin + o / 2) < r ? -o / 2 : e.xmin;\n\n  return H(s, i, o, !0) - H(a, i, o, !1);\n}\n\nfunction V(e) {\n  const o = e.storageInfo.origin.x,\n        i = U(e.spatialReference, !0);\n  if (t(i)) return {\n    originX: o,\n    halfWorldWidth: null,\n    pyramidsInfo: null\n  };\n  const r = i / 2,\n        {\n    nativePixelSize: s,\n    storageInfo: a,\n    extent: l\n  } = e,\n        {\n    maximumPyramidLevel: c,\n    blockWidth: f,\n    pyramidScalingFactor: u\n  } = a;\n  let m = s.x;\n  const h = [],\n        x = n(e.transform) && \"gcs-shift\" === e.transform.type,\n        p = o + (x ? 0 : r),\n        g = x ? i - o : r - o;\n\n  for (let t = 0; t <= c; t++) {\n    const e = (l.xmax - o) / m / f,\n          t = e - Math.floor(e) == 0 ? e : Math.ceil(e),\n          n = g / m / f,\n          i = n - Math.floor(n) == 0 ? n : Math.ceil(n),\n          r = Math.floor(p / m / f),\n          s = Math.round(p / m) % f,\n          a = (f - Math.round(g / m) % f) % f;\n    h.push({\n      resolutionX: m,\n      blockWidth: f,\n      datsetColumnCount: t,\n      worldColumnCountFromOrigin: i,\n      leftMargin: s,\n      rightPadding: a,\n      originColumnOffset: r\n    }), m *= u;\n  }\n\n  return {\n    originX: o,\n    halfWorldWidth: r,\n    pyramidsInfo: h,\n    hasGCSSShiftTransform: x\n  };\n}\n\nfunction Z(e) {\n  if (!e || e.isGeographic) return e;\n  const t = String(e.wkid || e.wkt);\n  let n;\n  if (E.has(t)) n = E.get(t);else {\n    n = (e.wkid ? i.coordsys(e.wkid) : i.fromString(r.PE_TYPE_PROJCS, e.wkt)).getGeogcs().getCode(), E.set(t, n);\n  }\n  return new y({\n    wkid: n\n  });\n}\n\nfunction $(e) {\n  const t = e.isAdaptive && null == e.spacing;\n  let o = e.spacing || [S, S],\n      i = ee(e),\n      r = {\n    cols: i.size[0] + 1,\n    rows: i.size[1] + 1\n  };\n  const s = i.outofBoundPointCount > 0 && i.outofBoundPointCount < i.offsets.length / 2;\n  let a = i.outofBoundPointCount === i.offsets.length / 2 || t && s ? [0, 0] : R(i.offsets, r, o, G);\n  const l = (a[0] + a[1]) / 2,\n        c = e.projectedExtent.spatialReference,\n        f = e.srcBufferExtent.spatialReference;\n\n  if (t && (s || l > G)) {\n    M(c, f, e.datumTransformation) && (c.isGeographic || n(B(c))), o = [b, b], i = ee({ ...e,\n      spacing: o\n    }), r = {\n      cols: i.size[0] + 1,\n      rows: i.size[1] + 1\n    }, a = R(i.offsets, r, o, G);\n  }\n\n  if (i.error = a, o[0] > 1 && (i.coefficients = te(i.offsets, r, s)), e.includeGCSGrid && !c.isGeographic && !c.isWebMercator) if (f.isGeographic) i.gcsGrid = {\n    offsets: i.offsets,\n    coefficients: i.coefficients,\n    spacing: o\n  };else {\n    const t = B(c);\n\n    if (n(t) && !t.isEnvelope) {\n      const t = Z(c),\n            n = J(e.projectedExtent, t),\n            {\n        offsets: a\n      } = ee({ ...e,\n        srcBufferExtent: n,\n        spacing: o\n      }),\n            l = te(a, r, s);\n      i.gcsGrid = {\n        offsets: a,\n        coefficients: l,\n        spacing: o\n      };\n    }\n  }\n  return i;\n}\n\nfunction ee(e) {\n  const {\n    projectedExtent: t,\n    srcBufferExtent: o,\n    pixelSize: i,\n    datumTransformation: r,\n    rasterTransform: s\n  } = e,\n        a = t.spatialReference,\n        l = o.spatialReference,\n        c = w(a, l),\n        {\n    xmin: f,\n    ymin: u,\n    xmax: m,\n    ymax: h\n  } = t,\n        x = U(l),\n        g = n(x) && (e.hasWrapAround || \"gcs-shift\" === s?.type),\n        y = e.spacing || [S, S],\n        d = y[0] * i.x,\n        M = y[1] * i.y,\n        R = 1 === y[0],\n        P = Math.ceil((m - f) / d - .1 / y[0]) + (R ? 0 : 1),\n        G = Math.ceil((h - u) / M - .1 / y[1]) + (R ? 0 : 1),\n        N = W({\n    cols: P,\n    rows: G,\n    xmin: f,\n    ymax: h,\n    xres: d,\n    yres: M,\n    inSR: a,\n    outSR: l,\n    datumTransformation: r,\n    preferPE: y[0] <= b,\n    usePixelCenter: R\n  }),\n        E = [];\n  let T,\n      v = 0;\n\n  const C = R ? -1 : NaN,\n        {\n    xmin: j,\n    xmax: z,\n    ymax: L,\n    width: O,\n    height: A\n  } = o,\n        I = _(l, k),\n        Y = n(x) && j > 0 && z > x / 2;\n\n  let F = !1;\n\n  if (c) {\n    const e = B(a);\n    F = n(e) && e.poleLocation > 0;\n  }\n\n  for (let n = 0; n < P; n++) {\n    const e = [];\n\n    for (let t = 0; t < G; t++) {\n      let o = N[n * G + t];\n      if (g && o[0] > z && o[0] > x / 2 - I ? o[0] -= x : g && 0 === n && o[0] < 0 && Y && !s && (o[0] += x), !o || isNaN(o[0]) || isNaN(o[1])) E.push(C), E.push(C), e.push(null), v++;else {\n        if (s) {\n          const e = s.inverseTransform(new p({\n            x: o[0],\n            y: o[1],\n            spatialReference: l\n          }));\n          o = [e.x, e.y];\n        }\n\n        e.push(o), n > 0 && g && T[t] && o[0] < T[t][0] && (o[0] += x, F && o[0] > z && o[0] > x && (o[0] -= x)), E.push((o[0] - j) / O), E.push((L - o[1]) / A);\n      }\n    }\n\n    T = e;\n  }\n\n  return {\n    offsets: E,\n    error: null,\n    coefficients: null,\n    outofBoundPointCount: v,\n    spacing: y,\n    size: R ? [P, G] : [P - 1, G - 1]\n  };\n}\n\nfunction te(e, t, n) {\n  const {\n    cols: o,\n    rows: i\n  } = t,\n        r = new Float32Array((o - 1) * (i - 1) * 2 * 6),\n        s = new Float32Array([-0, -1, 1, -1, 1, -0, 1, -0, -0]),\n        a = new Float32Array([-1, 1, 0, 0, -1, 1, 1, 0, 0]);\n\n  for (let l = 0; l < o - 1; l++) {\n    for (let t = 0; t < i - 1; t++) {\n      let n = l * i * 2 + 2 * t;\n      const c = e[n],\n            f = e[n + 1],\n            u = e[n + 2],\n            m = e[n + 3];\n      n += 2 * i;\n      const h = e[n],\n            x = e[n + 1],\n            p = e[n + 2],\n            g = e[n + 3];\n      let y = 0,\n          d = 12 * (t * (o - 1) + l);\n\n      for (let e = 0; e < 3; e++) r[d++] = s[y++] * c + s[y++] * u + s[y++] * p;\n\n      y = 0;\n\n      for (let e = 0; e < 3; e++) r[d++] = s[y++] * f + s[y++] * m + s[y++] * g;\n\n      y = 0;\n\n      for (let e = 0; e < 3; e++) r[d++] = a[y++] * c + a[y++] * h + a[y++] * p;\n\n      y = 0;\n\n      for (let e = 0; e < 3; e++) r[d++] = a[y++] * f + a[y++] * x + a[y++] * g;\n    }\n\n    if (n) for (let e = 0; e < r.length; e++) isNaN(r[e]) && (r[e] = -1);\n  }\n\n  return r;\n}\n\nfunction ne(e) {\n  const t = e.clone().normalize();\n  return 1 === t.length ? t[0] : q(t);\n}\n\nfunction oe(e, t, i) {\n  const {\n    storageInfo: r,\n    pixelSize: s\n  } = t;\n  let a = 0,\n      l = !1;\n  const {\n    pyramidResolutions: c\n  } = r;\n\n  if (n(c) && c.length) {\n    const n = (e.x + e.y) / 2,\n          r = c[c.length - 1],\n          f = (r.x + r.y) / 2,\n          u = (s.x + s.y) / 2;\n    if (n <= u) a = 0;else if (n >= f) a = c.length, l = n / f > 8;else {\n      let e,\n          t = u;\n\n      for (let o = 1; o <= c.length; o++) {\n        if (e = (c[o - 1].x + c[o - 1].y) / 2, n <= e) {\n          n === e ? a = o : \"down\" === i ? (a = o - 1, l = n / t > 8) : a = \"up\" === i || n - t > e - n || n / t > 2 ? o : o - 1;\n          break;\n        }\n\n        t = e;\n      }\n    }\n    const m = 0 === a ? s : c[a - 1];\n\n    if (l) {\n      Math.min(m.x, m.y) * o(t.spatialReference) > 19567 && (l = !1);\n    }\n\n    return {\n      pyramidLevel: a,\n      pyramidResolution: new p({\n        x: m.x,\n        y: m.y,\n        spatialReference: t.spatialReference\n      }),\n      excessiveReading: l\n    };\n  }\n\n  const f = Math.log(e.x / s.x) / Math.LN2,\n        u = Math.log(e.y / s.y) / Math.LN2,\n        m = t.storageInfo.maximumPyramidLevel || 0;\n  a = \"down\" === i ? Math.floor(Math.min(f, u)) : \"up\" === i ? Math.ceil(Math.max(f, u)) : Math.round((f + u) / 2), a < 0 ? a = 0 : a > m && (l = a > m + 3, a = m);\n  const h = 2 ** a;\n  return {\n    pyramidLevel: a,\n    pyramidResolution: new p({\n      x: h * t.nativePixelSize.x,\n      y: h * t.nativePixelSize.y,\n      spatialReference: t.spatialReference\n    }),\n    excessiveReading: l\n  };\n}\n\nfunction ie(e, t, i = 512, r = !0) {\n  const {\n    extent: s,\n    spatialReference: a,\n    pixelSize: l\n  } = e,\n        c = C(new p({\n    x: l.x,\n    y: l.y,\n    spatialReference: a\n  }), t, s);\n  if (null == c) return {\n    projectedPixelSize: null,\n    scales: null,\n    srcResolutions: null,\n    isCustomTilingScheme: !1\n  };\n  const f = (c.x + c.y) / 2,\n        u = o(t),\n        m = f * u * 96 * 39.37,\n        h = t.isGeographic ? 256 / i * 295828763.7958547 : 256 / i * 591657527.591555;\n  let x = \"vector-magdir\" === e.dataType || \"vector-uv\" === e.dataType;\n  const g = J(s, t),\n        y = Math.min(Math.ceil(Math.log(Math.min(e.width, e.height) / 32) / Math.LN2), Math.ceil(Math.log(h / 2 / m) / Math.LN2));\n\n  if (!x && r && (t.isGeographic || t.isWebMercator) && (x = g.xmin * g.xmax < 0, !x && y < 3)) {\n    const e = U(t);\n\n    if (n(e)) {\n      const t = 2 ** y * f * i,\n            n = Math.ceil(e / t);\n      x = 1 === n || 2 === n && e / 2 - g.xmax < t;\n    }\n  }\n\n  let d,\n      M = m;\n  const w = 1.001;\n\n  if (x) {\n    M = h;\n    const e = t.isGeographic ? 1341104507446289e-21 : .29858214164761665,\n          n = e * (96 * u * 39.37),\n          o = t.isGeographic ? 4326 : 3857;\n    d = C(new p({\n      x: e,\n      y: e,\n      spatialReference: {\n        wkid: o\n      }\n    }), a, g), d.x *= M / n, d.y *= M / n;\n  } else {\n    d = {\n      x: l.x,\n      y: l.y\n    };\n    let e = 0;\n\n    for (; M < h * (w / 2) && e < y;) e++, M *= 2, d.x *= 2, d.y *= 2;\n\n    Math.max(M, h) / Math.min(M, h) <= w && (M = h);\n  }\n\n  const R = [M],\n        P = [{\n    x: d.x,\n    y: d.y\n  }],\n        S = 70.5310735,\n        b = Math.min(S, m) / w;\n\n  for (; M >= b;) M /= 2, d.x /= 2, d.y /= 2, R.push(M), P.push({\n    x: d.x,\n    y: d.y\n  });\n\n  return {\n    projectedPixelSize: c,\n    scales: R,\n    srcResolutions: P,\n    isCustomTilingScheme: !x\n  };\n}\n\nexport { ie as computeProjectedScales, S as defaultGridSpacing, G as defaultProjectionToleranceInPixels, v as getDefaultDatumTransformationForDataset, W as getProjectedGridPoints, $ as getProjectionOffsetGrid, V as getRasterDatasetAlignmentInfo, U as getWorldWidth, Q as getWorldWrapCount, T as load, b as minimumGridSpacing, J as projectExtent, j as projectPoint, C as projectResolution, M as requirePE, ne as snapExtent, oe as snapPyramid };","map":{"version":3,"names":["e","isNone","t","isSome","n","getMetersPerUnitForSR","o","i","f","r","g","s","h","a","j","l","canProjectWithoutEngine","c","isLoaded","load","u","getTransformation","m","project","x","p","y","d","M","w","None","North","South","Both","R","length","isNaN","cols","rows","Math","abs","P","S","b","G","N","Map","E","k","T","v","spatialReference","C","equals","center","xmin","xmax","ymin","ymax","U","width","height","_","z","D","W","inSR","outSR","datumTransformation","preferPE","points","Y","isWebMercator","isWGS84","A","isGeographic","O","B","L","map","NaN","mask","wkid","coordsys","fromString","PE_TYPE_GEOGCS","PE_TYPE_PROJCS","wkt","projToGeog","steps","forEach","geogtran","PE_TYPE_GEOGTRAN","geogToGeog","isInverse","PE_TRANSFORM_2_TO_1","PE_TRANSFORM_1_TO_2","isEnvelope","bbox","F","geogToProj","push","xres","yres","usePixelCenter","max","min","String","has","get","gcs","pcs","I","set","generate","horizonGcsGenerate","horizonPcsGenerate","find","getInclusive","getKind","getNorthPoleLocation","getSouthPoleLocation","isPannableRectangle","getCoord","isPannable","vertices","coef","poleLocation","Uint8Array","sort","q","J","Q","K","X","clone","normalize","filter","rings","apply","H","floor","V","storageInfo","origin","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","extent","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","type","ceil","round","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","Z","getGeogcs","getCode","$","isAdaptive","spacing","ee","size","outofBoundPointCount","offsets","projectedExtent","srcBufferExtent","error","coefficients","te","includeGCSGrid","gcsGrid","pixelSize","rasterTransform","hasWrapAround","inverseTransform","Float32Array","ne","oe","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","ie","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","dataType","computeProjectedScales","defaultGridSpacing","defaultProjectionToleranceInPixels","getDefaultDatumTransformationForDataset","getProjectedGridPoints","getProjectionOffsetGrid","getRasterDatasetAlignmentInfo","getWorldWidth","getWorldWrapCount","minimumGridSpacing","projectExtent","projectPoint","projectResolution","requirePE","snapExtent","snapPyramid"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{e as i,f as r,g as s,h as a,j as l}from\"../../../chunks/pe.js\";import{canProjectWithoutEngine as c,isLoaded as f,load as u,getTransformation as m,project as h}from\"../../../geometry/projection.js\";import x from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Point.js\";import g from\"../../../geometry/Polygon.js\";import y from\"../../../geometry/SpatialReference.js\";var d;function M(e,t,n){return!c(e,t,n)}function w(t,n,o){const i=M(t,n,o);if(i&&!f())throw new e(\"rasterprojectionhelper-project\",\"projection engine is not loaded\");return i}!function(e){e[e.None=0]=\"None\",e[e.North=1]=\"North\",e[e.South=2]=\"South\",e[e.Both=3]=\"Both\"}(d||(d={}));const R=(e,t,n,o=0)=>{if(1===n[0])return[0,0];let i=1,r=-1,s=1,a=-1;for(let g=0;g<e.length;g+=2)isNaN(e[g])||(i=i>e[g]?e[g]:i,r=r>e[g]?r:e[g],s=s>e[g+1]?e[g+1]:s,a=a>e[g+1]?a:e[g+1]);const{cols:l,rows:c}=t,f=(r-i)/l/n[0],u=(a-s)/c/n[1],m=2*o;let h=0,x=!1,p=[0,0];for(let g=0;g<l-3;g++){for(let t=0;t<c-3;t++){const n=g*c*2+2*t,o=(e[n]+e[n+4]+e[n+4*c]+e[n+4*c+4])/4,i=(e[n+1]+e[n+5]+e[n+4*c+1]+e[n+4*c+5])/4,r=Math.abs((o-e[n+2*c+2])/f),s=Math.abs((i-e[n+2*c+3])/u);if(r+s>h&&(h=r+s,p=[r,s]),m&&h>m){x=!0;break}}if(x)break}return p},P={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},S=32,b=4,G=b,N=new Map,E=new Map,k=500;async function T(){f()||await u()}function v(e,t,n){if(!w(e.spatialReference,t))return null;return n?m(t,e.spatialReference,e):m(e.spatialReference,t,e)}function C(e,i,r,s=null){const a=e.spatialReference;if(a.equals(i))return e;w(a,i,s);const l=r.center,c=new x({xmin:l.x-e.x/2,xmax:l.x+e.x/2,ymin:l.y-e.y/2,ymax:l.y+e.y/2,spatialReference:a}),f=h(c,i,s),u=U(i);let m;if(t(f)||n(u)&&f.width>=u){const t=o(a)/o(i);m={x:e.x*t,y:e.y*t}}else m={x:f.width,y:f.height};return m}function _(e,t=.01){return o(e)?t/o(e):0}function j(e,t,n=null,o=!0){const i=e.spatialReference;if(i.equals(t))return e;w(i,t,n);const r=h(e,t,n);return o&&r?(z([e],[r],i,t),r):r}function z(e,t,o,i){const r=D(o,!0),s=D(i,!0),a=_(o,k),l=_(i,k);if(a&&n(r)&&n(s))for(let n=0;n<e.length;n++){const o=t[n];if(!o)continue;const{x:i}=e[n],{x:c}=o;c>=s[1]-l&&Math.abs(i-r[0])<a?o.x-=s[1]-s[0]:c<=s[0]+l&&Math.abs(i-r[1])<a&&(o.x+=s[1]-s[0])}}function W(e){const{inSR:t,outSR:o,datumTransformation:i,preferPE:r}=e;if(t.equals(o)){const{points:t}=Y(e,null);return t}if(t.isWebMercator&&o.isWGS84||t.isWGS84&&o.isWebMercator)return A(e);if(w(t,o,i)&&r){if(t.isGeographic)return O(e);const o=B(t);if(n(o))return O(e)}return L(e)}function L(e){const{points:t}=Y(e,null),{inSR:n,outSR:o,datumTransformation:i}=e,r=t.map((e=>new p(e[0],e[1],n))),s=h(r,o,i);return i&&z(r,s,n,o),s.map((e=>e?[e.x,e.y]:[NaN,NaN]))}function O(e){const{inSR:t,outSR:o,datumTransformation:l}=e,c=B(t),{points:f,mask:u}=Y(e,c);if(!t.isGeographic){const e=t.wkid?i.coordsys(t.wkid):i.fromString(t.isGeographic?r.PE_TYPE_GEOGCS:r.PE_TYPE_PROJCS,t.wkt);s.projToGeog(e,f.length,f)}if(n(l)&&l.steps.length){let e;const t=179.9955;if(o.isGeographic&&(e=f.map((([e])=>e>t?1:e<-t?-1:0))),l.steps.forEach((e=>{const t=e.wkid?i.geogtran(e.wkid):i.fromString(r.PE_TYPE_GEOGTRAN,e.wkt);a.geogToGeog(t,f.length,f,null,e.isInverse?r.PE_TRANSFORM_2_TO_1:r.PE_TRANSFORM_1_TO_2)})),e)for(let n=0;n<f.length;n++){const o=e[n],i=f[n][0],r=i>t?1:i<-t?-1:0;o&&r&&o!==r&&(f[n][0]=o>0?i+360:i-360)}}if(!o.isGeographic){const e=B(o,!0),t=n(e)&&e.isEnvelope?[e.bbox[1],e.bbox[3]]:[-90,90];F(f,t);const a=o.wkid?i.coordsys(o.wkid):i.fromString(o.isGeographic?r.PE_TYPE_GEOGCS:r.PE_TYPE_PROJCS,o.wkt);s.geogToProj(a,f.length,f)}let m=f;if(u&&f.length!==u.length){m=[];for(let e=0,t=0;e<u.length;e++)u[e]?m.push(f[t++]):m.push([NaN,NaN])}return m}function A(e){const{cols:t,rows:n,xres:o,yres:i,usePixelCenter:r,inSR:s,outSR:a}=e;let{xmin:l,ymax:c}=e;r&&(l+=o/2,c-=i/2);const f=[],u=[],m=Math.max(t,n);for(let g=0;g<m;g++){const e=l+o*Math.min(t,g),r=c-i*Math.min(n,g),m=h(new p({x:e,y:r,spatialReference:s}),a);g<=t&&f.push(m.x),g<=n&&u.push(m.y)}const x=[];for(let h=0;h<t;h++)for(let e=0;e<n;e++)x.push([f[h],u[e]]);return x}function B(e,t=!1){let n=e.wkid||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),N.has(n)){const e=N.get(n);return t?e?.gcs:e?.pcs}const o=e.wkid?i.coordsys(e.wkid):i.fromString(e.isGeographic?r.PE_TYPE_GEOGCS:r.PE_TYPE_PROJCS,e.wkt),s=I(o,_(e,1e-4)),a=I(o,0,!0);return N.set(n,{pcs:s,gcs:a}),t?a:s}function I(e,t=0,n=!1){const o=l.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(!o||!i?.length)return null;let r=!1,s=i.find((e=>1===e.getInclusive()&&1===e.getKind()));if(!s){if(s=i.find((e=>1===e.getInclusive()&&0===e.getKind())),!s)return null;r=!0}const a=n?0:(2===o.getNorthPoleLocation()?1:0)|(2===o.getSouthPoleLocation()?2:0),c=o.isPannableRectangle(),f=s.getCoord();if(r)return{isEnvelope:r,isPannable:c,vertices:f,coef:null,bbox:[f[0][0]-t,f[0][1]-t,f[1][0]+t,f[1][1]+t],poleLocation:a};let u=0;const m=[];let[h,x]=f[0],[p,g]=f[0];for(let l=0,y=f.length;l<y;l++){u++,u===y&&(u=0);const[e,t]=f[l],[n,o]=f[u];if(o===t)m.push([e,n,t,o,2]);else{const i=(n-e)/(o-t||1e-4),r=e-i*t;t<o?m.push([i,r,t,o,0]):m.push([i,r,o,t,1])}h=h<e?h:e,x=x<t?x:t,p=p>e?p:e,g=g>t?g:t}return{isEnvelope:!1,isPannable:c,vertices:f,coef:m,bbox:[h,x,p,g],poleLocation:a}}function Y(e,n){const o=[],{cols:i,rows:r,xres:s,yres:a,usePixelCenter:l}=e;let{xmin:c,ymax:f}=e;if(l&&(c+=s/2,f-=a/2),t(n)){for(let e=0;e<i;e++)for(let t=0;t<r;t++)o.push([c+s*e,f-a*t]);return{points:o}}const u=new Uint8Array(i*r);if(n.isEnvelope){const{bbox:[e,t,l,m]}=n;for(let h=0,x=0;h<i;h++){const i=c+s*h,p=n.isPannable||i>=e&&i<=l;for(let e=0;e<r;e++,x++){const n=f-a*e;p&&n>=t&&n<=m&&(o.push([i,n]),u[x]=1)}}return{points:o,mask:u}}const m=n.coef,h=[];for(let t=0;t<r;t++){const e=f-a*t,n=[],o=[];for(let t=0;t<m.length;t++){const[i,r,s,a,l]=m[t];if(e===s&&s===a)n.push(i),n.push(r),o.push(2),o.push(2);else if(e>=s&&e<=a){const t=i*e+r;n.push(t),o.push(l)}}let i=n;if(n.length>2){let e=2===o[0]?0:o[0],t=n[0];i=[];for(let r=1;r<o.length;r++)2===o[r]&&r!==o.length-1||(o[r]!==e&&(i.push(0===e?Math.min(t,n[r-1]):Math.max(t,n[r-1])),e=o[r],t=n[r]),r===o.length-1&&i.push(0===o[r]?Math.min(t,n[r]):Math.max(t,n[r])));i.sort(((e,t)=>e-t))}else n[0]>n[1]&&(i=[n[1],n[0]]);h.push(i)}for(let t=0,x=0;t<i;t++){const e=c+s*t;for(let t=0;t<r;t++,x++){const n=f-a*t,i=h[t];if(2===i.length)e>=i[0]&&e<=i[1]&&(o.push([e,n]),u[x]=1);else if(i.length>2){let t=!1;for(let n=0;n<i.length;n+=2)if(e>=i[n]&&e<=i[n+1]){t=!0;break}t&&(o.push([e,n]),u[x]=1)}}}return{points:o,mask:u}}function F(e,t){const[n,o]=t;for(let i=0;i<e.length;i++){const t=e[i][1];(t<n||t>o)&&(e[i]=[NaN,NaN])}}function q(e){const n=U(e[0].spatialReference);if(e.length<2||t(n))return e[0];let{xmin:o,xmax:i,ymin:r,ymax:s}=e[0];for(let t=1;t<e.length;t++){const o=e[t];i=o.xmax+n*t,r=Math.min(r,o.ymin),s=Math.max(s,o.ymax)}return new x({xmin:o,xmax:i,ymin:r,ymax:s,spatialReference:e[0].spatialReference})}function J(e,o,i=null,r=!0){const s=e.spatialReference;if(s.equals(o))return e;const a=Q(e),l=U(s,!0),c=U(o);if(0===a||t(l)||t(c)){const a=K(e,o,i,r);if(t(l)&&n(c)&&Math.abs(a.width-c)<_(o)&&f()){const t=B(s);if(n(t)&&t.poleLocation===d.None&&e.width<(t.bbox[2]-t.bbox[0])/2)return X(e,o)||a}return a}const u=e.clone().normalize();if(1===u.length&&e.xmax<l&&e.xmax-l/2>_(s)){const{xmin:t,xmax:n}=e;for(let o=0;o<=a;o++){const i=0===o?t:-l/2,r=o===a?n-l*o:l/2;u[o]=new x({xmin:i,xmax:r,ymin:e.ymin,ymax:e.ymax,spatialReference:s})}}return q(u.map((e=>K(e,o,i,r))).filter(n))}function X(e,n){const o=U(n);if(t(o))return null;let{xmin:i,ymin:r,xmax:s,ymax:a}=e;const l=e.spatialReference,c=new g({spatialReference:l,rings:[[[i,r],[s,r],[s,a],[i,a],[i,r]]]}),f=h(c,n);if(2!==f.rings.length||!f.rings[0].length||!f.rings[1].length)return null;const{rings:u}=f,m=_(l),p=new x({spatialReference:n});for(let t=0;t<2;t++){i=s=u[t][0][0],r=a=u[t][0][1];for(let e=0;e<u[t].length;e++)i=i>u[t][e][0]?u[t][e][0]:i,s=s<u[t][e][0]?u[t][e][0]:s,r=r>u[t][e][1]?u[t][e][1]:r,a=a<u[t][e][1]?u[t][e][1]:a;if(0===t)p.ymin=r,p.ymax=a,p.xmin=i,p.xmax=s;else if(p.ymin=Math.min(p.ymin,r),p.ymax=Math.max(p.ymax,a),Math.abs(s-o/2)<m)p.xmin=i,p.xmax=p.xmax+o;else{if(!(Math.abs(i+o/2)<m))return null;p.xmax=s+o}}return p}function K(e,n,o=null,i=!0,r=!0){const s=e.spatialReference;if(s.equals(n)||!n)return e;w(s,n,o);const a=h(e,n,o);if(r&&n.isWebMercator&&a&&(a.ymax=Math.min(20037508.342787,a.ymax),a.ymin=Math.max(-20037508.342787,a.ymin),a.ymin>=a.ymax))return null;if(!i||!a)return a;const l=D(s,!0),c=D(n,!0);if(t(l)||t(c))return a;const f=_(s,.001),u=_(s,k),m=_(n,.001);if(Math.abs(a.xmin-c[0])<m&&Math.abs(a.xmax-c[1])<m){const t=Math.abs(e.xmin-l[0]),i=Math.abs(l[1]-e.xmax);if(t<f&&i>u){a.xmin=c[0];const t=[];t.push(new p(e.xmax,e.ymin,s)),t.push(new p(e.xmax,(e.ymin+e.ymax)/2,s)),t.push(new p(e.xmax,e.ymax,s));const i=t.map((e=>j(e,n,o))).filter((e=>!isNaN(e?.x))).map((e=>e.x));a.xmax=Math.max.apply(null,i)}if(i<f&&t>u){a.xmax=c[1];const t=[];t.push(new p(e.xmin,e.ymin,s)),t.push(new p(e.xmin,(e.ymin+e.ymax)/2,s)),t.push(new p(e.xmin,e.ymax,s));const i=t.map((e=>j(e,n,o))).filter((e=>!isNaN(e?.x))).map((e=>e.x));a.xmin=Math.min.apply(null,i)}}else{const e=_(n,.001);Math.abs(a.xmin-c[0])<e&&(a.xmin=c[0]),Math.abs(a.xmax-c[1])<e&&(a.xmax=c[1])}return a}function U(e,t=!1){if(!e)return null;const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*P[e.wkid]||null}function D(e,t=!1){if(e.isGeographic)return[-180,180];const o=U(e,t);return n(o)?[-o/2,o/2]:null}function H(e,t,n,o){let i=(e-t)/n;return i-Math.floor(i)!=0?i=Math.floor(i):o&&(i-=1),i}function Q(e,n=!1){const o=U(e.spatialReference);if(t(o))return 0;const i=n?0:-(o/2),r=_(e.spatialReference),s=!n&&Math.abs(e.xmax-o/2)<r?o/2:e.xmax,a=!n&&Math.abs(e.xmin+o/2)<r?-o/2:e.xmin;return H(s,i,o,!0)-H(a,i,o,!1)}function V(e){const o=e.storageInfo.origin.x,i=U(e.spatialReference,!0);if(t(i))return{originX:o,halfWorldWidth:null,pyramidsInfo:null};const r=i/2,{nativePixelSize:s,storageInfo:a,extent:l}=e,{maximumPyramidLevel:c,blockWidth:f,pyramidScalingFactor:u}=a;let m=s.x;const h=[],x=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=o+(x?0:r),g=x?i-o:r-o;for(let t=0;t<=c;t++){const e=(l.xmax-o)/m/f,t=e-Math.floor(e)==0?e:Math.ceil(e),n=g/m/f,i=n-Math.floor(n)==0?n:Math.ceil(n),r=Math.floor(p/m/f),s=Math.round(p/m)%f,a=(f-Math.round(g/m)%f)%f;h.push({resolutionX:m,blockWidth:f,datsetColumnCount:t,worldColumnCountFromOrigin:i,leftMargin:s,rightPadding:a,originColumnOffset:r}),m*=u}return{originX:o,halfWorldWidth:r,pyramidsInfo:h,hasGCSSShiftTransform:x}}function Z(e){if(!e||e.isGeographic)return e;const t=String(e.wkid||e.wkt);let n;if(E.has(t))n=E.get(t);else{n=(e.wkid?i.coordsys(e.wkid):i.fromString(r.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),E.set(t,n)}return new y({wkid:n})}function $(e){const t=e.isAdaptive&&null==e.spacing;let o=e.spacing||[S,S],i=ee(e),r={cols:i.size[0]+1,rows:i.size[1]+1};const s=i.outofBoundPointCount>0&&i.outofBoundPointCount<i.offsets.length/2;let a=i.outofBoundPointCount===i.offsets.length/2||t&&s?[0,0]:R(i.offsets,r,o,G);const l=(a[0]+a[1])/2,c=e.projectedExtent.spatialReference,f=e.srcBufferExtent.spatialReference;if(t&&(s||l>G)){M(c,f,e.datumTransformation)&&(c.isGeographic||n(B(c))),o=[b,b],i=ee({...e,spacing:o}),r={cols:i.size[0]+1,rows:i.size[1]+1},a=R(i.offsets,r,o,G)}if(i.error=a,o[0]>1&&(i.coefficients=te(i.offsets,r,s)),e.includeGCSGrid&&!c.isGeographic&&!c.isWebMercator)if(f.isGeographic)i.gcsGrid={offsets:i.offsets,coefficients:i.coefficients,spacing:o};else{const t=B(c);if(n(t)&&!t.isEnvelope){const t=Z(c),n=J(e.projectedExtent,t),{offsets:a}=ee({...e,srcBufferExtent:n,spacing:o}),l=te(a,r,s);i.gcsGrid={offsets:a,coefficients:l,spacing:o}}}return i}function ee(e){const{projectedExtent:t,srcBufferExtent:o,pixelSize:i,datumTransformation:r,rasterTransform:s}=e,a=t.spatialReference,l=o.spatialReference,c=w(a,l),{xmin:f,ymin:u,xmax:m,ymax:h}=t,x=U(l),g=n(x)&&(e.hasWrapAround||\"gcs-shift\"===s?.type),y=e.spacing||[S,S],d=y[0]*i.x,M=y[1]*i.y,R=1===y[0],P=Math.ceil((m-f)/d-.1/y[0])+(R?0:1),G=Math.ceil((h-u)/M-.1/y[1])+(R?0:1),N=W({cols:P,rows:G,xmin:f,ymax:h,xres:d,yres:M,inSR:a,outSR:l,datumTransformation:r,preferPE:y[0]<=b,usePixelCenter:R}),E=[];let T,v=0;const C=R?-1:NaN,{xmin:j,xmax:z,ymax:L,width:O,height:A}=o,I=_(l,k),Y=n(x)&&j>0&&z>x/2;let F=!1;if(c){const e=B(a);F=n(e)&&e.poleLocation>0}for(let n=0;n<P;n++){const e=[];for(let t=0;t<G;t++){let o=N[n*G+t];if(g&&o[0]>z&&o[0]>x/2-I?o[0]-=x:g&&0===n&&o[0]<0&&Y&&!s&&(o[0]+=x),!o||isNaN(o[0])||isNaN(o[1]))E.push(C),E.push(C),e.push(null),v++;else{if(s){const e=s.inverseTransform(new p({x:o[0],y:o[1],spatialReference:l}));o=[e.x,e.y]}e.push(o),n>0&&g&&T[t]&&o[0]<T[t][0]&&(o[0]+=x,F&&o[0]>z&&o[0]>x&&(o[0]-=x)),E.push((o[0]-j)/O),E.push((L-o[1])/A)}}T=e}return{offsets:E,error:null,coefficients:null,outofBoundPointCount:v,spacing:y,size:R?[P,G]:[P-1,G-1]}}function te(e,t,n){const{cols:o,rows:i}=t,r=new Float32Array((o-1)*(i-1)*2*6),s=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),a=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<o-1;l++){for(let t=0;t<i-1;t++){let n=l*i*2+2*t;const c=e[n],f=e[n+1],u=e[n+2],m=e[n+3];n+=2*i;const h=e[n],x=e[n+1],p=e[n+2],g=e[n+3];let y=0,d=12*(t*(o-1)+l);for(let e=0;e<3;e++)r[d++]=s[y++]*c+s[y++]*u+s[y++]*p;y=0;for(let e=0;e<3;e++)r[d++]=s[y++]*f+s[y++]*m+s[y++]*g;y=0;for(let e=0;e<3;e++)r[d++]=a[y++]*c+a[y++]*h+a[y++]*p;y=0;for(let e=0;e<3;e++)r[d++]=a[y++]*f+a[y++]*x+a[y++]*g}if(n)for(let e=0;e<r.length;e++)isNaN(r[e])&&(r[e]=-1)}return r}function ne(e){const t=e.clone().normalize();return 1===t.length?t[0]:q(t)}function oe(e,t,i){const{storageInfo:r,pixelSize:s}=t;let a=0,l=!1;const{pyramidResolutions:c}=r;if(n(c)&&c.length){const n=(e.x+e.y)/2,r=c[c.length-1],f=(r.x+r.y)/2,u=(s.x+s.y)/2;if(n<=u)a=0;else if(n>=f)a=c.length,l=n/f>8;else{let e,t=u;for(let o=1;o<=c.length;o++){if(e=(c[o-1].x+c[o-1].y)/2,n<=e){n===e?a=o:\"down\"===i?(a=o-1,l=n/t>8):a=\"up\"===i||n-t>e-n||n/t>2?o:o-1;break}t=e}}const m=0===a?s:c[a-1];if(l){Math.min(m.x,m.y)*o(t.spatialReference)>19567&&(l=!1)}return{pyramidLevel:a,pyramidResolution:new p({x:m.x,y:m.y,spatialReference:t.spatialReference}),excessiveReading:l}}const f=Math.log(e.x/s.x)/Math.LN2,u=Math.log(e.y/s.y)/Math.LN2,m=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===i?Math.floor(Math.min(f,u)):\"up\"===i?Math.ceil(Math.max(f,u)):Math.round((f+u)/2),a<0?a=0:a>m&&(l=a>m+3,a=m);const h=2**a;return{pyramidLevel:a,pyramidResolution:new p({x:h*t.nativePixelSize.x,y:h*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:l}}function ie(e,t,i=512,r=!0){const{extent:s,spatialReference:a,pixelSize:l}=e,c=C(new p({x:l.x,y:l.y,spatialReference:a}),t,s);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const f=(c.x+c.y)/2,u=o(t),m=f*u*96*39.37,h=t.isGeographic?256/i*295828763.7958547:256/i*591657527.591555;let x=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const g=J(s,t),y=Math.min(Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),Math.ceil(Math.log(h/2/m)/Math.LN2));if(!x&&r&&(t.isGeographic||t.isWebMercator)&&(x=g.xmin*g.xmax<0,!x&&y<3)){const e=U(t);if(n(e)){const t=2**y*f*i,n=Math.ceil(e/t);x=1===n||2===n&&e/2-g.xmax<t}}let d,M=m;const w=1.001;if(x){M=h;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*u*39.37),o=t.isGeographic?4326:3857;d=C(new p({x:e,y:e,spatialReference:{wkid:o}}),a,g),d.x*=M/n,d.y*=M/n}else{d={x:l.x,y:l.y};let e=0;for(;M<h*(w/2)&&e<y;)e++,M*=2,d.x*=2,d.y*=2;Math.max(M,h)/Math.min(M,h)<=w&&(M=h)}const R=[M],P=[{x:d.x,y:d.y}],S=70.5310735,b=Math.min(S,m)/w;for(;M>=b;)M/=2,d.x/=2,d.y/=2,R.push(M),P.push({x:d.x,y:d.y});return{projectedPixelSize:c,scales:R,srcResolutions:P,isCustomTilingScheme:!x}}export{ie as computeProjectedScales,S as defaultGridSpacing,G as defaultProjectionToleranceInPixels,v as getDefaultDatumTransformationForDataset,W as getProjectedGridPoints,$ as getProjectionOffsetGrid,V as getRasterDatasetAlignmentInfo,U as getWorldWidth,Q as getWorldWrapCount,T as load,b as minimumGridSpacing,J as projectExtent,j as projectPoint,C as projectResolution,M as requirePE,ne as snapExtent,oe as snapPyramid};\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,OAAM,sBAAN;AAA6B,OAAOA,CAAP,MAAa,wBAAb;AAAsC,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,MAAM,IAAIC,CAA7B,QAAmC,wBAAnC;AAA4D,SAAOC,qBAAqB,IAAIC,CAAhC,QAAsC,4BAAtC;AAAmE,SAAON,CAAC,IAAIO,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBC,CAAC,IAAIC,CAA1B,EAA4BC,CAAC,IAAIC,CAAjC,EAAmCC,CAAC,IAAIC,CAAxC,QAA8C,uBAA9C;AAAsE,SAAOC,uBAAuB,IAAIC,CAAlC,EAAoCC,QAAQ,IAAIV,CAAhD,EAAkDW,IAAI,IAAIC,CAA1D,EAA4DC,iBAAiB,IAAIC,CAAjF,EAAmFC,OAAO,IAAIX,CAA9F,QAAoG,iCAApG;AAAsI,OAAOY,CAAP,MAAa,6BAAb;AAA2C,OAAOC,CAAP,MAAa,4BAAb;AAA0C,OAAOf,CAAP,MAAa,8BAAb;AAA4C,OAAOgB,CAAP,MAAa,uCAAb;AAAqD,IAAIC,CAAJ;;AAAM,SAASC,CAAT,CAAW5B,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;EAAC,OAAM,CAACa,CAAC,CAACjB,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAR;AAAgB;;AAAA,SAASyB,CAAT,CAAW3B,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;EAAC,MAAMC,CAAC,GAACqB,CAAC,CAAC1B,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAT;EAAiB,IAAGC,CAAC,IAAE,CAACC,CAAC,EAAR,EAAW,MAAM,IAAIR,CAAJ,CAAM,gCAAN,EAAuC,iCAAvC,CAAN;EAAgF,OAAOO,CAAP;AAAS;;AAAA,CAAC,UAASP,CAAT,EAAW;EAACA,CAAC,CAACA,CAAC,CAAC8B,IAAF,GAAO,CAAR,CAAD,GAAY,MAAZ,EAAmB9B,CAAC,CAACA,CAAC,CAAC+B,KAAF,GAAQ,CAAT,CAAD,GAAa,OAAhC,EAAwC/B,CAAC,CAACA,CAAC,CAACgC,KAAF,GAAQ,CAAT,CAAD,GAAa,OAArD,EAA6DhC,CAAC,CAACA,CAAC,CAACiC,IAAF,GAAO,CAAR,CAAD,GAAY,MAAzE;AAAgF,CAA5F,CAA6FN,CAAC,KAAGA,CAAC,GAAC,EAAL,CAA9F,CAAD;;AAAyG,MAAMO,CAAC,GAAC,CAAClC,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAC,GAAC,CAAT,KAAa;EAAC,IAAG,MAAIF,CAAC,CAAC,CAAD,CAAR,EAAY,OAAM,CAAC,CAAD,EAAG,CAAH,CAAN;EAAY,IAAIG,CAAC,GAAC,CAAN;EAAA,IAAQE,CAAC,GAAC,CAAC,CAAX;EAAA,IAAaE,CAAC,GAAC,CAAf;EAAA,IAAiBE,CAAC,GAAC,CAAC,CAApB;;EAAsB,KAAI,IAAIH,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACV,CAAC,CAACmC,MAAhB,EAAuBzB,CAAC,IAAE,CAA1B,EAA4B0B,KAAK,CAACpC,CAAC,CAACU,CAAD,CAAF,CAAL,KAAcH,CAAC,GAACA,CAAC,GAACP,CAAC,CAACU,CAAD,CAAH,GAAOV,CAAC,CAACU,CAAD,CAAR,GAAYH,CAAd,EAAgBE,CAAC,GAACA,CAAC,GAACT,CAAC,CAACU,CAAD,CAAH,GAAOD,CAAP,GAAST,CAAC,CAACU,CAAD,CAA5B,EAAgCC,CAAC,GAACA,CAAC,GAACX,CAAC,CAACU,CAAC,GAAC,CAAH,CAAH,GAASV,CAAC,CAACU,CAAC,GAAC,CAAH,CAAV,GAAgBC,CAAlD,EAAoDE,CAAC,GAACA,CAAC,GAACb,CAAC,CAACU,CAAC,GAAC,CAAH,CAAH,GAASG,CAAT,GAAWb,CAAC,CAACU,CAAC,GAAC,CAAH,CAAhF;;EAAuF,MAAK;IAAC2B,IAAI,EAACtB,CAAN;IAAQuB,IAAI,EAACrB;EAAb,IAAgBf,CAArB;EAAA,MAAuBM,CAAC,GAAC,CAACC,CAAC,GAACF,CAAH,IAAMQ,CAAN,GAAQX,CAAC,CAAC,CAAD,CAAlC;EAAA,MAAsCgB,CAAC,GAAC,CAACP,CAAC,GAACF,CAAH,IAAMM,CAAN,GAAQb,CAAC,CAAC,CAAD,CAAjD;EAAA,MAAqDkB,CAAC,GAAC,IAAEhB,CAAzD;EAA2D,IAAIM,CAAC,GAAC,CAAN;EAAA,IAAQY,CAAC,GAAC,CAAC,CAAX;EAAA,IAAaC,CAAC,GAAC,CAAC,CAAD,EAAG,CAAH,CAAf;;EAAqB,KAAI,IAAIf,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,GAAC,CAAhB,EAAkBL,CAAC,EAAnB,EAAsB;IAAC,KAAI,IAAIR,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACe,CAAC,GAAC,CAAhB,EAAkBf,CAAC,EAAnB,EAAsB;MAAC,MAAME,CAAC,GAACM,CAAC,GAACO,CAAF,GAAI,CAAJ,GAAM,IAAEf,CAAhB;MAAA,MAAkBI,CAAC,GAAC,CAACN,CAAC,CAACI,CAAD,CAAD,GAAKJ,CAAC,CAACI,CAAC,GAAC,CAAH,CAAN,GAAYJ,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAL,CAAb,GAAqBjB,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAJ,GAAM,CAAP,CAAvB,IAAkC,CAAtD;MAAA,MAAwDV,CAAC,GAAC,CAACP,CAAC,CAACI,CAAC,GAAC,CAAH,CAAD,GAAOJ,CAAC,CAACI,CAAC,GAAC,CAAH,CAAR,GAAcJ,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAJ,GAAM,CAAP,CAAf,GAAyBjB,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAJ,GAAM,CAAP,CAA3B,IAAsC,CAAhG;MAAA,MAAkGR,CAAC,GAAC8B,IAAI,CAACC,GAAL,CAAS,CAAClC,CAAC,GAACN,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAJ,GAAM,CAAP,CAAJ,IAAeT,CAAxB,CAApG;MAAA,MAA+HG,CAAC,GAAC4B,IAAI,CAACC,GAAL,CAAS,CAACjC,CAAC,GAACP,CAAC,CAACI,CAAC,GAAC,IAAEa,CAAJ,GAAM,CAAP,CAAJ,IAAeG,CAAxB,CAAjI;;MAA4J,IAAGX,CAAC,GAACE,CAAF,GAAIC,CAAJ,KAAQA,CAAC,GAACH,CAAC,GAACE,CAAJ,EAAMc,CAAC,GAAC,CAAChB,CAAD,EAAGE,CAAH,CAAhB,GAAuBW,CAAC,IAAEV,CAAC,GAACU,CAA/B,EAAiC;QAACE,CAAC,GAAC,CAAC,CAAH;QAAK;MAAM;IAAC;;IAAA,IAAGA,CAAH,EAAK;EAAM;;EAAA,OAAOC,CAAP;AAAS,CAAnhB;AAAA,MAAohBgB,CAAC,GAAC;EAAC,MAAK,kBAAN;EAAyB,MAAK,kBAA9B;EAAiD,MAAK,kBAAtD;EAAyE,MAAK,kBAA9E;EAAiG,MAAK,kBAAtG;EAAyH,MAAK,kBAA9H;EAAiJ,MAAK,kBAAtJ;EAAyK,OAAM,kBAA/K;EAAkM,OAAM,iBAAxM;EAA0N,OAAM,iBAAhO;EAAkP,OAAM,iBAAxP;EAA0Q,OAAM,iBAAhR;EAAkS,OAAM,kBAAxS;EAA2T,OAAM,kBAAjU;EAAoV,OAAM,iBAA1V;EAA4W,OAAM,kBAAlX;EAAqY,OAAM,kBAA3Y;EAA8Z,OAAM,kBAApa;EAAub,OAAM,kBAA7b;EAAgd,OAAM,kBAAtd;EAAye,OAAM,kBAA/e;EAAkgB,OAAM,kBAAxgB;EAA2hB,OAAM,iBAAjiB;EAAmjB,OAAM,kBAAzjB;EAA4kB,OAAM,kBAAllB;EAAqmB,OAAM,kBAA3mB;EAA8nB,OAAM,kBAApoB;EAAupB,OAAM;AAA7pB,CAAthB;AAAA,MAAusCC,CAAC,GAAC,EAAzsC;AAAA,MAA4sCC,CAAC,GAAC,CAA9sC;AAAA,MAAgtCC,CAAC,GAACD,CAAltC;AAAA,MAAotCE,CAAC,GAAC,IAAIC,GAAJ,EAAttC;AAAA,MAA8tCC,CAAC,GAAC,IAAID,GAAJ,EAAhuC;AAAA,MAAwuCE,CAAC,GAAC,GAA1uC;;AAA8uC,eAAeC,CAAf,GAAkB;EAACzC,CAAC,OAAI,MAAMY,CAAC,EAAX,CAAD;AAAe;;AAAA,SAAS8B,CAAT,CAAWlD,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;EAAC,IAAG,CAACyB,CAAC,CAAC7B,CAAC,CAACmD,gBAAH,EAAoBjD,CAApB,CAAL,EAA4B,OAAO,IAAP;EAAY,OAAOE,CAAC,GAACkB,CAAC,CAACpB,CAAD,EAAGF,CAAC,CAACmD,gBAAL,EAAsBnD,CAAtB,CAAF,GAA2BsB,CAAC,CAACtB,CAAC,CAACmD,gBAAH,EAAoBjD,CAApB,EAAsBF,CAAtB,CAApC;AAA6D;;AAAA,SAASoD,CAAT,CAAWpD,CAAX,EAAaO,CAAb,EAAeE,CAAf,EAAiBE,CAAC,GAAC,IAAnB,EAAwB;EAAC,MAAME,CAAC,GAACb,CAAC,CAACmD,gBAAV;EAA2B,IAAGtC,CAAC,CAACwC,MAAF,CAAS9C,CAAT,CAAH,EAAe,OAAOP,CAAP;EAAS6B,CAAC,CAAChB,CAAD,EAAGN,CAAH,EAAKI,CAAL,CAAD;EAAS,MAAMI,CAAC,GAACN,CAAC,CAAC6C,MAAV;EAAA,MAAiBrC,CAAC,GAAC,IAAIO,CAAJ,CAAM;IAAC+B,IAAI,EAACxC,CAAC,CAACS,CAAF,GAAIxB,CAAC,CAACwB,CAAF,GAAI,CAAd;IAAgBgC,IAAI,EAACzC,CAAC,CAACS,CAAF,GAAIxB,CAAC,CAACwB,CAAF,GAAI,CAA7B;IAA+BiC,IAAI,EAAC1C,CAAC,CAACW,CAAF,GAAI1B,CAAC,CAAC0B,CAAF,GAAI,CAA5C;IAA8CgC,IAAI,EAAC3C,CAAC,CAACW,CAAF,GAAI1B,CAAC,CAAC0B,CAAF,GAAI,CAA3D;IAA6DyB,gBAAgB,EAACtC;EAA9E,CAAN,CAAnB;EAAA,MAA2GL,CAAC,GAACI,CAAC,CAACK,CAAD,EAAGV,CAAH,EAAKI,CAAL,CAA9G;EAAA,MAAsHS,CAAC,GAACuC,CAAC,CAACpD,CAAD,CAAzH;EAA6H,IAAIe,CAAJ;;EAAM,IAAGpB,CAAC,CAACM,CAAD,CAAD,IAAMJ,CAAC,CAACgB,CAAD,CAAD,IAAMZ,CAAC,CAACoD,KAAF,IAASxC,CAAxB,EAA0B;IAAC,MAAMlB,CAAC,GAACI,CAAC,CAACO,CAAD,CAAD,GAAKP,CAAC,CAACC,CAAD,CAAd;IAAkBe,CAAC,GAAC;MAACE,CAAC,EAACxB,CAAC,CAACwB,CAAF,GAAItB,CAAP;MAASwB,CAAC,EAAC1B,CAAC,CAAC0B,CAAF,GAAIxB;IAAf,CAAF;EAAoB,CAAjE,MAAsEoB,CAAC,GAAC;IAACE,CAAC,EAAChB,CAAC,CAACoD,KAAL;IAAWlC,CAAC,EAAClB,CAAC,CAACqD;EAAf,CAAF;;EAAyB,OAAOvC,CAAP;AAAS;;AAAA,SAASwC,CAAT,CAAW9D,CAAX,EAAaE,CAAC,GAAC,GAAf,EAAmB;EAAC,OAAOI,CAAC,CAACN,CAAD,CAAD,GAAKE,CAAC,GAACI,CAAC,CAACN,CAAD,CAAR,GAAY,CAAnB;AAAqB;;AAAA,SAASc,CAAT,CAAWd,CAAX,EAAaE,CAAb,EAAeE,CAAC,GAAC,IAAjB,EAAsBE,CAAC,GAAC,CAAC,CAAzB,EAA2B;EAAC,MAAMC,CAAC,GAACP,CAAC,CAACmD,gBAAV;EAA2B,IAAG5C,CAAC,CAAC8C,MAAF,CAASnD,CAAT,CAAH,EAAe,OAAOF,CAAP;EAAS6B,CAAC,CAACtB,CAAD,EAAGL,CAAH,EAAKE,CAAL,CAAD;EAAS,MAAMK,CAAC,GAACG,CAAC,CAACZ,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAT;EAAiB,OAAOE,CAAC,IAAEG,CAAH,IAAMsD,CAAC,CAAC,CAAC/D,CAAD,CAAD,EAAK,CAACS,CAAD,CAAL,EAASF,CAAT,EAAWL,CAAX,CAAD,EAAeO,CAArB,IAAwBA,CAA/B;AAAiC;;AAAA,SAASsD,CAAT,CAAW/D,CAAX,EAAaE,CAAb,EAAeI,CAAf,EAAiBC,CAAjB,EAAmB;EAAC,MAAME,CAAC,GAACuD,CAAC,CAAC1D,CAAD,EAAG,CAAC,CAAJ,CAAT;EAAA,MAAgBK,CAAC,GAACqD,CAAC,CAACzD,CAAD,EAAG,CAAC,CAAJ,CAAnB;EAAA,MAA0BM,CAAC,GAACiD,CAAC,CAACxD,CAAD,EAAG0C,CAAH,CAA7B;EAAA,MAAmCjC,CAAC,GAAC+C,CAAC,CAACvD,CAAD,EAAGyC,CAAH,CAAtC;;EAA4C,IAAGnC,CAAC,IAAET,CAAC,CAACK,CAAD,CAAJ,IAASL,CAAC,CAACO,CAAD,CAAb,EAAiB,KAAI,IAAIP,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAC,CAACmC,MAAhB,EAAuB/B,CAAC,EAAxB,EAA2B;IAAC,MAAME,CAAC,GAACJ,CAAC,CAACE,CAAD,CAAT;IAAa,IAAG,CAACE,CAAJ,EAAM;IAAS,MAAK;MAACkB,CAAC,EAACjB;IAAH,IAAMP,CAAC,CAACI,CAAD,CAAZ;IAAA,MAAgB;MAACoB,CAAC,EAACP;IAAH,IAAMX,CAAtB;IAAwBW,CAAC,IAAEN,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAR,IAAWwB,IAAI,CAACC,GAAL,CAASjC,CAAC,GAACE,CAAC,CAAC,CAAD,CAAZ,IAAiBI,CAA5B,GAA8BP,CAAC,CAACkB,CAAF,IAAKb,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAzC,GAA6CM,CAAC,IAAEN,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAR,IAAWwB,IAAI,CAACC,GAAL,CAASjC,CAAC,GAACE,CAAC,CAAC,CAAD,CAAZ,IAAiBI,CAA5B,KAAgCP,CAAC,CAACkB,CAAF,IAAKb,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAA3C,CAA7C;EAA6F;AAAC;;AAAA,SAASsD,CAAT,CAAWjE,CAAX,EAAa;EAAC,MAAK;IAACkE,IAAI,EAAChE,CAAN;IAAQiE,KAAK,EAAC7D,CAAd;IAAgB8D,mBAAmB,EAAC7D,CAApC;IAAsC8D,QAAQ,EAAC5D;EAA/C,IAAkDT,CAAvD;;EAAyD,IAAGE,CAAC,CAACmD,MAAF,CAAS/C,CAAT,CAAH,EAAe;IAAC,MAAK;MAACgE,MAAM,EAACpE;IAAR,IAAWqE,CAAC,CAACvE,CAAD,EAAG,IAAH,CAAjB;IAA0B,OAAOE,CAAP;EAAS;;EAAA,IAAGA,CAAC,CAACsE,aAAF,IAAiBlE,CAAC,CAACmE,OAAnB,IAA4BvE,CAAC,CAACuE,OAAF,IAAWnE,CAAC,CAACkE,aAA5C,EAA0D,OAAOE,CAAC,CAAC1E,CAAD,CAAR;;EAAY,IAAG6B,CAAC,CAAC3B,CAAD,EAAGI,CAAH,EAAKC,CAAL,CAAD,IAAUE,CAAb,EAAe;IAAC,IAAGP,CAAC,CAACyE,YAAL,EAAkB,OAAOC,CAAC,CAAC5E,CAAD,CAAR;IAAY,MAAMM,CAAC,GAACuE,CAAC,CAAC3E,CAAD,CAAT;IAAa,IAAGE,CAAC,CAACE,CAAD,CAAJ,EAAQ,OAAOsE,CAAC,CAAC5E,CAAD,CAAR;EAAY;;EAAA,OAAO8E,CAAC,CAAC9E,CAAD,CAAR;AAAY;;AAAA,SAAS8E,CAAT,CAAW9E,CAAX,EAAa;EAAC,MAAK;IAACsE,MAAM,EAACpE;EAAR,IAAWqE,CAAC,CAACvE,CAAD,EAAG,IAAH,CAAjB;EAAA,MAA0B;IAACkE,IAAI,EAAC9D,CAAN;IAAQ+D,KAAK,EAAC7D,CAAd;IAAgB8D,mBAAmB,EAAC7D;EAApC,IAAuCP,CAAjE;EAAA,MAAmES,CAAC,GAACP,CAAC,CAAC6E,GAAF,CAAO/E,CAAC,IAAE,IAAIyB,CAAJ,CAAMzB,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,EAAgBI,CAAhB,CAAV,CAArE;EAAA,MAAoGO,CAAC,GAACC,CAAC,CAACH,CAAD,EAAGH,CAAH,EAAKC,CAAL,CAAvG;EAA+G,OAAOA,CAAC,IAAEwD,CAAC,CAACtD,CAAD,EAAGE,CAAH,EAAKP,CAAL,EAAOE,CAAP,CAAJ,EAAcK,CAAC,CAACoE,GAAF,CAAO/E,CAAC,IAAEA,CAAC,GAAC,CAACA,CAAC,CAACwB,CAAH,EAAKxB,CAAC,CAAC0B,CAAP,CAAD,GAAW,CAACsD,GAAD,EAAKA,GAAL,CAAtB,CAArB;AAAuD;;AAAA,SAASJ,CAAT,CAAW5E,CAAX,EAAa;EAAC,MAAK;IAACkE,IAAI,EAAChE,CAAN;IAAQiE,KAAK,EAAC7D,CAAd;IAAgB8D,mBAAmB,EAACrD;EAApC,IAAuCf,CAA5C;EAAA,MAA8CiB,CAAC,GAAC4D,CAAC,CAAC3E,CAAD,CAAjD;EAAA,MAAqD;IAACoE,MAAM,EAAC9D,CAAR;IAAUyE,IAAI,EAAC7D;EAAf,IAAkBmD,CAAC,CAACvE,CAAD,EAAGiB,CAAH,CAAxE;;EAA8E,IAAG,CAACf,CAAC,CAACyE,YAAN,EAAmB;IAAC,MAAM3E,CAAC,GAACE,CAAC,CAACgF,IAAF,GAAO3E,CAAC,CAAC4E,QAAF,CAAWjF,CAAC,CAACgF,IAAb,CAAP,GAA0B3E,CAAC,CAAC6E,UAAF,CAAalF,CAAC,CAACyE,YAAF,GAAelE,CAAC,CAAC4E,cAAjB,GAAgC5E,CAAC,CAAC6E,cAA/C,EAA8DpF,CAAC,CAACqF,GAAhE,CAAlC;IAAuG5E,CAAC,CAAC6E,UAAF,CAAaxF,CAAb,EAAeQ,CAAC,CAAC2B,MAAjB,EAAwB3B,CAAxB;EAA2B;;EAAA,IAAGJ,CAAC,CAACW,CAAD,CAAD,IAAMA,CAAC,CAAC0E,KAAF,CAAQtD,MAAjB,EAAwB;IAAC,IAAInC,CAAJ;IAAM,MAAME,CAAC,GAAC,QAAR;IAAiB,IAAGI,CAAC,CAACqE,YAAF,KAAiB3E,CAAC,GAACQ,CAAC,CAACuE,GAAF,CAAO,CAAC,CAAC/E,CAAD,CAAD,KAAOA,CAAC,GAACE,CAAF,GAAI,CAAJ,GAAMF,CAAC,GAAC,CAACE,CAAH,GAAK,CAAC,CAAN,GAAQ,CAA5B,CAAnB,GAAoDa,CAAC,CAAC0E,KAAF,CAAQC,OAAR,CAAiB1F,CAAC,IAAE;MAAC,MAAME,CAAC,GAACF,CAAC,CAACkF,IAAF,GAAO3E,CAAC,CAACoF,QAAF,CAAW3F,CAAC,CAACkF,IAAb,CAAP,GAA0B3E,CAAC,CAAC6E,UAAF,CAAa3E,CAAC,CAACmF,gBAAf,EAAgC5F,CAAC,CAACuF,GAAlC,CAAlC;MAAyE1E,CAAC,CAACgF,UAAF,CAAa3F,CAAb,EAAeM,CAAC,CAAC2B,MAAjB,EAAwB3B,CAAxB,EAA0B,IAA1B,EAA+BR,CAAC,CAAC8F,SAAF,GAAYrF,CAAC,CAACsF,mBAAd,GAAkCtF,CAAC,CAACuF,mBAAnE;IAAwF,CAAtL,CAApD,EAA6OhG,CAAhP,EAAkP,KAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACI,CAAC,CAAC2B,MAAhB,EAAuB/B,CAAC,EAAxB,EAA2B;MAAC,MAAME,CAAC,GAACN,CAAC,CAACI,CAAD,CAAT;MAAA,MAAaG,CAAC,GAACC,CAAC,CAACJ,CAAD,CAAD,CAAK,CAAL,CAAf;MAAA,MAAuBK,CAAC,GAACF,CAAC,GAACL,CAAF,GAAI,CAAJ,GAAMK,CAAC,GAAC,CAACL,CAAH,GAAK,CAAC,CAAN,GAAQ,CAAvC;MAAyCI,CAAC,IAAEG,CAAH,IAAMH,CAAC,KAAGG,CAAV,KAAcD,CAAC,CAACJ,CAAD,CAAD,CAAK,CAAL,IAAQE,CAAC,GAAC,CAAF,GAAIC,CAAC,GAAC,GAAN,GAAUA,CAAC,GAAC,GAAlC;IAAuC;EAAC;;EAAA,IAAG,CAACD,CAAC,CAACqE,YAAN,EAAmB;IAAC,MAAM3E,CAAC,GAAC6E,CAAC,CAACvE,CAAD,EAAG,CAAC,CAAJ,CAAT;IAAA,MAAgBJ,CAAC,GAACE,CAAC,CAACJ,CAAD,CAAD,IAAMA,CAAC,CAACiG,UAAR,GAAmB,CAACjG,CAAC,CAACkG,IAAF,CAAO,CAAP,CAAD,EAAWlG,CAAC,CAACkG,IAAF,CAAO,CAAP,CAAX,CAAnB,GAAyC,CAAC,CAAC,EAAF,EAAK,EAAL,CAA3D;IAAoEC,CAAC,CAAC3F,CAAD,EAAGN,CAAH,CAAD;IAAO,MAAMW,CAAC,GAACP,CAAC,CAAC4E,IAAF,GAAO3E,CAAC,CAAC4E,QAAF,CAAW7E,CAAC,CAAC4E,IAAb,CAAP,GAA0B3E,CAAC,CAAC6E,UAAF,CAAa9E,CAAC,CAACqE,YAAF,GAAelE,CAAC,CAAC4E,cAAjB,GAAgC5E,CAAC,CAAC6E,cAA/C,EAA8DhF,CAAC,CAACiF,GAAhE,CAAlC;IAAuG5E,CAAC,CAACyF,UAAF,CAAavF,CAAb,EAAeL,CAAC,CAAC2B,MAAjB,EAAwB3B,CAAxB;EAA2B;;EAAA,IAAIc,CAAC,GAACd,CAAN;;EAAQ,IAAGY,CAAC,IAAEZ,CAAC,CAAC2B,MAAF,KAAWf,CAAC,CAACe,MAAnB,EAA0B;IAACb,CAAC,GAAC,EAAF;;IAAK,KAAI,IAAItB,CAAC,GAAC,CAAN,EAAQE,CAAC,GAAC,CAAd,EAAgBF,CAAC,GAACoB,CAAC,CAACe,MAApB,EAA2BnC,CAAC,EAA5B,EAA+BoB,CAAC,CAACpB,CAAD,CAAD,GAAKsB,CAAC,CAAC+E,IAAF,CAAO7F,CAAC,CAACN,CAAC,EAAF,CAAR,CAAL,GAAoBoB,CAAC,CAAC+E,IAAF,CAAO,CAACrB,GAAD,EAAKA,GAAL,CAAP,CAApB;EAAsC;;EAAA,OAAO1D,CAAP;AAAS;;AAAA,SAASoD,CAAT,CAAW1E,CAAX,EAAa;EAAC,MAAK;IAACqC,IAAI,EAACnC,CAAN;IAAQoC,IAAI,EAAClC,CAAb;IAAekG,IAAI,EAAChG,CAApB;IAAsBiG,IAAI,EAAChG,CAA3B;IAA6BiG,cAAc,EAAC/F,CAA5C;IAA8CyD,IAAI,EAACvD,CAAnD;IAAqDwD,KAAK,EAACtD;EAA3D,IAA8Db,CAAnE;EAAqE,IAAG;IAACuD,IAAI,EAACxC,CAAN;IAAQ2C,IAAI,EAACzC;EAAb,IAAgBjB,CAAnB;EAAqBS,CAAC,KAAGM,CAAC,IAAET,CAAC,GAAC,CAAL,EAAOW,CAAC,IAAEV,CAAC,GAAC,CAAf,CAAD;EAAmB,MAAMC,CAAC,GAAC,EAAR;EAAA,MAAWY,CAAC,GAAC,EAAb;EAAA,MAAgBE,CAAC,GAACiB,IAAI,CAACkE,GAAL,CAASvG,CAAT,EAAWE,CAAX,CAAlB;;EAAgC,KAAI,IAAIM,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACY,CAAd,EAAgBZ,CAAC,EAAjB,EAAoB;IAAC,MAAMV,CAAC,GAACe,CAAC,GAACT,CAAC,GAACiC,IAAI,CAACmE,GAAL,CAASxG,CAAT,EAAWQ,CAAX,CAAZ;IAAA,MAA0BD,CAAC,GAACQ,CAAC,GAACV,CAAC,GAACgC,IAAI,CAACmE,GAAL,CAAStG,CAAT,EAAWM,CAAX,CAAhC;IAAA,MAA8CY,CAAC,GAACV,CAAC,CAAC,IAAIa,CAAJ,CAAM;MAACD,CAAC,EAACxB,CAAH;MAAK0B,CAAC,EAACjB,CAAP;MAAS0C,gBAAgB,EAACxC;IAA1B,CAAN,CAAD,EAAqCE,CAArC,CAAjD;IAAyFH,CAAC,IAAER,CAAH,IAAMM,CAAC,CAAC6F,IAAF,CAAO/E,CAAC,CAACE,CAAT,CAAN,EAAkBd,CAAC,IAAEN,CAAH,IAAMgB,CAAC,CAACiF,IAAF,CAAO/E,CAAC,CAACI,CAAT,CAAxB;EAAoC;;EAAA,MAAMF,CAAC,GAAC,EAAR;;EAAW,KAAI,IAAIZ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACV,CAAd,EAAgBU,CAAC,EAAjB,EAAoB,KAAI,IAAIZ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACI,CAAd,EAAgBJ,CAAC,EAAjB,EAAoBwB,CAAC,CAAC6E,IAAF,CAAO,CAAC7F,CAAC,CAACI,CAAD,CAAF,EAAMQ,CAAC,CAACpB,CAAD,CAAP,CAAP;;EAAoB,OAAOwB,CAAP;AAAS;;AAAA,SAASqD,CAAT,CAAW7E,CAAX,EAAaE,CAAC,GAAC,CAAC,CAAhB,EAAkB;EAAC,IAAIE,CAAC,GAACJ,CAAC,CAACkF,IAAF,IAAQlF,CAAC,CAACuF,GAAhB;EAAoB,IAAG,CAACnF,CAAD,IAAIJ,CAAC,CAAC2E,YAAT,EAAsB,OAAO,IAAP;;EAAY,IAAGvE,CAAC,GAACuG,MAAM,CAACvG,CAAD,CAAR,EAAYyC,CAAC,CAAC+D,GAAF,CAAMxG,CAAN,CAAf,EAAwB;IAAC,MAAMJ,CAAC,GAAC6C,CAAC,CAACgE,GAAF,CAAMzG,CAAN,CAAR;IAAiB,OAAOF,CAAC,GAACF,CAAC,EAAE8G,GAAJ,GAAQ9G,CAAC,EAAE+G,GAAnB;EAAuB;;EAAA,MAAMzG,CAAC,GAACN,CAAC,CAACkF,IAAF,GAAO3E,CAAC,CAAC4E,QAAF,CAAWnF,CAAC,CAACkF,IAAb,CAAP,GAA0B3E,CAAC,CAAC6E,UAAF,CAAapF,CAAC,CAAC2E,YAAF,GAAelE,CAAC,CAAC4E,cAAjB,GAAgC5E,CAAC,CAAC6E,cAA/C,EAA8DtF,CAAC,CAACuF,GAAhE,CAAlC;EAAA,MAAuG5E,CAAC,GAACqG,CAAC,CAAC1G,CAAD,EAAGwD,CAAC,CAAC9D,CAAD,EAAG,IAAH,CAAJ,CAA1G;EAAA,MAAwHa,CAAC,GAACmG,CAAC,CAAC1G,CAAD,EAAG,CAAH,EAAK,CAAC,CAAN,CAA3H;EAAoI,OAAOuC,CAAC,CAACoE,GAAF,CAAM7G,CAAN,EAAQ;IAAC2G,GAAG,EAACpG,CAAL;IAAOmG,GAAG,EAACjG;EAAX,CAAR,GAAuBX,CAAC,GAACW,CAAD,GAAGF,CAAlC;AAAoC;;AAAA,SAASqG,CAAT,CAAWhH,CAAX,EAAaE,CAAC,GAAC,CAAf,EAAiBE,CAAC,GAAC,CAAC,CAApB,EAAsB;EAAC,MAAME,CAAC,GAACS,CAAC,CAACmG,QAAF,CAAWlH,CAAX,CAAR;EAAA,MAAsBO,CAAC,GAACH,CAAC,GAACJ,CAAC,CAACmH,kBAAF,EAAD,GAAwBnH,CAAC,CAACoH,kBAAF,EAAjD;EAAwE,IAAG,CAAC9G,CAAD,IAAI,CAACC,CAAC,EAAE4B,MAAX,EAAkB,OAAO,IAAP;EAAY,IAAI1B,CAAC,GAAC,CAAC,CAAP;EAAA,IAASE,CAAC,GAACJ,CAAC,CAAC8G,IAAF,CAAQrH,CAAC,IAAE,MAAIA,CAAC,CAACsH,YAAF,EAAJ,IAAsB,MAAItH,CAAC,CAACuH,OAAF,EAArC,CAAX;;EAA8D,IAAG,CAAC5G,CAAJ,EAAM;IAAC,IAAGA,CAAC,GAACJ,CAAC,CAAC8G,IAAF,CAAQrH,CAAC,IAAE,MAAIA,CAAC,CAACsH,YAAF,EAAJ,IAAsB,MAAItH,CAAC,CAACuH,OAAF,EAArC,CAAF,EAAqD,CAAC5G,CAAzD,EAA2D,OAAO,IAAP;IAAYF,CAAC,GAAC,CAAC,CAAH;EAAK;;EAAA,MAAMI,CAAC,GAACT,CAAC,GAAC,CAAD,GAAG,CAAC,MAAIE,CAAC,CAACkH,oBAAF,EAAJ,GAA6B,CAA7B,GAA+B,CAAhC,KAAoC,MAAIlH,CAAC,CAACmH,oBAAF,EAAJ,GAA6B,CAA7B,GAA+B,CAAnE,CAAZ;EAAA,MAAkFxG,CAAC,GAACX,CAAC,CAACoH,mBAAF,EAApF;EAAA,MAA4GlH,CAAC,GAACG,CAAC,CAACgH,QAAF,EAA9G;EAA2H,IAAGlH,CAAH,EAAK,OAAM;IAACwF,UAAU,EAACxF,CAAZ;IAAcmH,UAAU,EAAC3G,CAAzB;IAA2B4G,QAAQ,EAACrH,CAApC;IAAsCsH,IAAI,EAAC,IAA3C;IAAgD5B,IAAI,EAAC,CAAC1F,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,IAAQN,CAAT,EAAWM,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,IAAQN,CAAnB,EAAqBM,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,IAAQN,CAA7B,EAA+BM,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,IAAQN,CAAvC,CAArD;IAA+F6H,YAAY,EAAClH;EAA5G,CAAN;EAAqH,IAAIO,CAAC,GAAC,CAAN;EAAQ,MAAME,CAAC,GAAC,EAAR;EAAW,IAAG,CAACV,CAAD,EAAGY,CAAH,IAAMhB,CAAC,CAAC,CAAD,CAAV;EAAA,IAAc,CAACiB,CAAD,EAAGf,CAAH,IAAMF,CAAC,CAAC,CAAD,CAArB;;EAAyB,KAAI,IAAIO,CAAC,GAAC,CAAN,EAAQW,CAAC,GAAClB,CAAC,CAAC2B,MAAhB,EAAuBpB,CAAC,GAACW,CAAzB,EAA2BX,CAAC,EAA5B,EAA+B;IAACK,CAAC,IAAGA,CAAC,KAAGM,CAAJ,KAAQN,CAAC,GAAC,CAAV,CAAJ;IAAiB,MAAK,CAACpB,CAAD,EAAGE,CAAH,IAAMM,CAAC,CAACO,CAAD,CAAZ;IAAA,MAAgB,CAACX,CAAD,EAAGE,CAAH,IAAME,CAAC,CAACY,CAAD,CAAvB;IAA2B,IAAGd,CAAC,KAAGJ,CAAP,EAASoB,CAAC,CAAC+E,IAAF,CAAO,CAACrG,CAAD,EAAGI,CAAH,EAAKF,CAAL,EAAOI,CAAP,EAAS,CAAT,CAAP,EAAT,KAAiC;MAAC,MAAMC,CAAC,GAAC,CAACH,CAAC,GAACJ,CAAH,KAAOM,CAAC,GAACJ,CAAF,IAAK,IAAZ,CAAR;MAAA,MAA0BO,CAAC,GAACT,CAAC,GAACO,CAAC,GAACL,CAAhC;MAAkCA,CAAC,GAACI,CAAF,GAAIgB,CAAC,CAAC+E,IAAF,CAAO,CAAC9F,CAAD,EAAGE,CAAH,EAAKP,CAAL,EAAOI,CAAP,EAAS,CAAT,CAAP,CAAJ,GAAwBgB,CAAC,CAAC+E,IAAF,CAAO,CAAC9F,CAAD,EAAGE,CAAH,EAAKH,CAAL,EAAOJ,CAAP,EAAS,CAAT,CAAP,CAAxB;IAA4C;IAAAU,CAAC,GAACA,CAAC,GAACZ,CAAF,GAAIY,CAAJ,GAAMZ,CAAR,EAAUwB,CAAC,GAACA,CAAC,GAACtB,CAAF,GAAIsB,CAAJ,GAAMtB,CAAlB,EAAoBuB,CAAC,GAACA,CAAC,GAACzB,CAAF,GAAIyB,CAAJ,GAAMzB,CAA5B,EAA8BU,CAAC,GAACA,CAAC,GAACR,CAAF,GAAIQ,CAAJ,GAAMR,CAAtC;EAAwC;;EAAA,OAAM;IAAC+F,UAAU,EAAC,CAAC,CAAb;IAAe2B,UAAU,EAAC3G,CAA1B;IAA4B4G,QAAQ,EAACrH,CAArC;IAAuCsH,IAAI,EAACxG,CAA5C;IAA8C4E,IAAI,EAAC,CAACtF,CAAD,EAAGY,CAAH,EAAKC,CAAL,EAAOf,CAAP,CAAnD;IAA6DqH,YAAY,EAAClH;EAA1E,CAAN;AAAmF;;AAAA,SAAS0D,CAAT,CAAWvE,CAAX,EAAaI,CAAb,EAAe;EAAC,MAAME,CAAC,GAAC,EAAR;EAAA,MAAW;IAAC+B,IAAI,EAAC9B,CAAN;IAAQ+B,IAAI,EAAC7B,CAAb;IAAe6F,IAAI,EAAC3F,CAApB;IAAsB4F,IAAI,EAAC1F,CAA3B;IAA6B2F,cAAc,EAACzF;EAA5C,IAA+Cf,CAA1D;EAA4D,IAAG;IAACuD,IAAI,EAACtC,CAAN;IAAQyC,IAAI,EAAClD;EAAb,IAAgBR,CAAnB;;EAAqB,IAAGe,CAAC,KAAGE,CAAC,IAAEN,CAAC,GAAC,CAAL,EAAOH,CAAC,IAAEK,CAAC,GAAC,CAAf,CAAD,EAAmBX,CAAC,CAACE,CAAD,CAAvB,EAA2B;IAAC,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACO,CAAd,EAAgBP,CAAC,EAAjB,EAAoB,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACO,CAAd,EAAgBP,CAAC,EAAjB,EAAoBI,CAAC,CAAC+F,IAAF,CAAO,CAACpF,CAAC,GAACN,CAAC,GAACX,CAAL,EAAOQ,CAAC,GAACK,CAAC,GAACX,CAAX,CAAP;;IAAsB,OAAM;MAACoE,MAAM,EAAChE;IAAR,CAAN;EAAiB;;EAAA,MAAMc,CAAC,GAAC,IAAI4G,UAAJ,CAAezH,CAAC,GAACE,CAAjB,CAAR;;EAA4B,IAAGL,CAAC,CAAC6F,UAAL,EAAgB;IAAC,MAAK;MAACC,IAAI,EAAC,CAAClG,CAAD,EAAGE,CAAH,EAAKa,CAAL,EAAOO,CAAP;IAAN,IAAiBlB,CAAtB;;IAAwB,KAAI,IAAIQ,CAAC,GAAC,CAAN,EAAQY,CAAC,GAAC,CAAd,EAAgBZ,CAAC,GAACL,CAAlB,EAAoBK,CAAC,EAArB,EAAwB;MAAC,MAAML,CAAC,GAACU,CAAC,GAACN,CAAC,GAACC,CAAZ;MAAA,MAAca,CAAC,GAACrB,CAAC,CAACwH,UAAF,IAAcrH,CAAC,IAAEP,CAAH,IAAMO,CAAC,IAAEQ,CAAvC;;MAAyC,KAAI,IAAIf,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACS,CAAd,EAAgBT,CAAC,IAAGwB,CAAC,EAArB,EAAwB;QAAC,MAAMpB,CAAC,GAACI,CAAC,GAACK,CAAC,GAACb,CAAZ;QAAcyB,CAAC,IAAErB,CAAC,IAAEF,CAAN,IAASE,CAAC,IAAEkB,CAAZ,KAAgBhB,CAAC,CAAC+F,IAAF,CAAO,CAAC9F,CAAD,EAAGH,CAAH,CAAP,GAAcgB,CAAC,CAACI,CAAD,CAAD,GAAK,CAAnC;MAAsC;IAAC;;IAAA,OAAM;MAAC8C,MAAM,EAAChE,CAAR;MAAU2E,IAAI,EAAC7D;IAAf,CAAN;EAAwB;;EAAA,MAAME,CAAC,GAAClB,CAAC,CAAC0H,IAAV;EAAA,MAAelH,CAAC,GAAC,EAAjB;;EAAoB,KAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACO,CAAd,EAAgBP,CAAC,EAAjB,EAAoB;IAAC,MAAMF,CAAC,GAACQ,CAAC,GAACK,CAAC,GAACX,CAAZ;IAAA,MAAcE,CAAC,GAAC,EAAhB;IAAA,MAAmBE,CAAC,GAAC,EAArB;;IAAwB,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACoB,CAAC,CAACa,MAAhB,EAAuBjC,CAAC,EAAxB,EAA2B;MAAC,MAAK,CAACK,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAASE,CAAT,IAAYO,CAAC,CAACpB,CAAD,CAAlB;MAAsB,IAAGF,CAAC,KAAGW,CAAJ,IAAOA,CAAC,KAAGE,CAAd,EAAgBT,CAAC,CAACiG,IAAF,CAAO9F,CAAP,GAAUH,CAAC,CAACiG,IAAF,CAAO5F,CAAP,CAAV,EAAoBH,CAAC,CAAC+F,IAAF,CAAO,CAAP,CAApB,EAA8B/F,CAAC,CAAC+F,IAAF,CAAO,CAAP,CAA9B,CAAhB,KAA6D,IAAGrG,CAAC,IAAEW,CAAH,IAAMX,CAAC,IAAEa,CAAZ,EAAc;QAAC,MAAMX,CAAC,GAACK,CAAC,GAACP,CAAF,GAAIS,CAAZ;QAAcL,CAAC,CAACiG,IAAF,CAAOnG,CAAP,GAAUI,CAAC,CAAC+F,IAAF,CAAOtF,CAAP,CAAV;MAAoB;IAAC;;IAAA,IAAIR,CAAC,GAACH,CAAN;;IAAQ,IAAGA,CAAC,CAAC+B,MAAF,GAAS,CAAZ,EAAc;MAAC,IAAInC,CAAC,GAAC,MAAIM,CAAC,CAAC,CAAD,CAAL,GAAS,CAAT,GAAWA,CAAC,CAAC,CAAD,CAAlB;MAAA,IAAsBJ,CAAC,GAACE,CAAC,CAAC,CAAD,CAAzB;MAA6BG,CAAC,GAAC,EAAF;;MAAK,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAAC6B,MAAhB,EAAuB1B,CAAC,EAAxB,EAA2B,MAAIH,CAAC,CAACG,CAAD,CAAL,IAAUA,CAAC,KAAGH,CAAC,CAAC6B,MAAF,GAAS,CAAvB,KAA2B7B,CAAC,CAACG,CAAD,CAAD,KAAOT,CAAP,KAAWO,CAAC,CAAC8F,IAAF,CAAO,MAAIrG,CAAJ,GAAMuC,IAAI,CAACmE,GAAL,CAASxG,CAAT,EAAWE,CAAC,CAACK,CAAC,GAAC,CAAH,CAAZ,CAAN,GAAyB8B,IAAI,CAACkE,GAAL,CAASvG,CAAT,EAAWE,CAAC,CAACK,CAAC,GAAC,CAAH,CAAZ,CAAhC,GAAoDT,CAAC,GAACM,CAAC,CAACG,CAAD,CAAvD,EAA2DP,CAAC,GAACE,CAAC,CAACK,CAAD,CAAzE,GAA8EA,CAAC,KAAGH,CAAC,CAAC6B,MAAF,GAAS,CAAb,IAAgB5B,CAAC,CAAC8F,IAAF,CAAO,MAAI/F,CAAC,CAACG,CAAD,CAAL,GAAS8B,IAAI,CAACmE,GAAL,CAASxG,CAAT,EAAWE,CAAC,CAACK,CAAD,CAAZ,CAAT,GAA0B8B,IAAI,CAACkE,GAAL,CAASvG,CAAT,EAAWE,CAAC,CAACK,CAAD,CAAZ,CAAjC,CAAzH;;MAA6KF,CAAC,CAAC0H,IAAF,CAAQ,CAACjI,CAAD,EAAGE,CAAH,KAAOF,CAAC,GAACE,CAAjB;IAAqB,CAA9Q,MAAmRE,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAN,KAAYG,CAAC,GAAC,CAACH,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAd;;IAA2BQ,CAAC,CAACyF,IAAF,CAAO9F,CAAP;EAAU;;EAAA,KAAI,IAAIL,CAAC,GAAC,CAAN,EAAQsB,CAAC,GAAC,CAAd,EAAgBtB,CAAC,GAACK,CAAlB,EAAoBL,CAAC,EAArB,EAAwB;IAAC,MAAMF,CAAC,GAACiB,CAAC,GAACN,CAAC,GAACT,CAAZ;;IAAc,KAAI,IAAIA,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACO,CAAd,EAAgBP,CAAC,IAAGsB,CAAC,EAArB,EAAwB;MAAC,MAAMpB,CAAC,GAACI,CAAC,GAACK,CAAC,GAACX,CAAZ;MAAA,MAAcK,CAAC,GAACK,CAAC,CAACV,CAAD,CAAjB;MAAqB,IAAG,MAAIK,CAAC,CAAC4B,MAAT,EAAgBnC,CAAC,IAAEO,CAAC,CAAC,CAAD,CAAJ,IAASP,CAAC,IAAEO,CAAC,CAAC,CAAD,CAAb,KAAmBD,CAAC,CAAC+F,IAAF,CAAO,CAACrG,CAAD,EAAGI,CAAH,CAAP,GAAcgB,CAAC,CAACI,CAAD,CAAD,GAAK,CAAtC,EAAhB,KAA8D,IAAGjB,CAAC,CAAC4B,MAAF,GAAS,CAAZ,EAAc;QAAC,IAAIjC,CAAC,GAAC,CAAC,CAAP;;QAAS,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACG,CAAC,CAAC4B,MAAhB,EAAuB/B,CAAC,IAAE,CAA1B,EAA4B,IAAGJ,CAAC,IAAEO,CAAC,CAACH,CAAD,CAAJ,IAASJ,CAAC,IAAEO,CAAC,CAACH,CAAC,GAAC,CAAH,CAAhB,EAAsB;UAACF,CAAC,GAAC,CAAC,CAAH;UAAK;QAAM;;QAAAA,CAAC,KAAGI,CAAC,CAAC+F,IAAF,CAAO,CAACrG,CAAD,EAAGI,CAAH,CAAP,GAAcgB,CAAC,CAACI,CAAD,CAAD,GAAK,CAAtB,CAAD;MAA0B;IAAC;EAAC;;EAAA,OAAM;IAAC8C,MAAM,EAAChE,CAAR;IAAU2E,IAAI,EAAC7D;EAAf,CAAN;AAAwB;;AAAA,SAAS+E,CAAT,CAAWnG,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAK,CAACE,CAAD,EAAGE,CAAH,IAAMJ,CAAX;;EAAa,KAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACP,CAAC,CAACmC,MAAhB,EAAuB5B,CAAC,EAAxB,EAA2B;IAAC,MAAML,CAAC,GAACF,CAAC,CAACO,CAAD,CAAD,CAAK,CAAL,CAAR;IAAgB,CAACL,CAAC,GAACE,CAAF,IAAKF,CAAC,GAACI,CAAR,MAAaN,CAAC,CAACO,CAAD,CAAD,GAAK,CAACyE,GAAD,EAAKA,GAAL,CAAlB;EAA6B;AAAC;;AAAA,SAASkD,CAAT,CAAWlI,CAAX,EAAa;EAAC,MAAMI,CAAC,GAACuD,CAAC,CAAC3D,CAAC,CAAC,CAAD,CAAD,CAAKmD,gBAAN,CAAT;EAAiC,IAAGnD,CAAC,CAACmC,MAAF,GAAS,CAAT,IAAYjC,CAAC,CAACE,CAAD,CAAhB,EAAoB,OAAOJ,CAAC,CAAC,CAAD,CAAR;EAAY,IAAG;IAACuD,IAAI,EAACjD,CAAN;IAAQkD,IAAI,EAACjD,CAAb;IAAekD,IAAI,EAAChD,CAApB;IAAsBiD,IAAI,EAAC/C;EAA3B,IAA8BX,CAAC,CAAC,CAAD,CAAlC;;EAAsC,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,CAAC,CAACmC,MAAhB,EAAuBjC,CAAC,EAAxB,EAA2B;IAAC,MAAMI,CAAC,GAACN,CAAC,CAACE,CAAD,CAAT;IAAaK,CAAC,GAACD,CAAC,CAACkD,IAAF,GAAOpD,CAAC,GAACF,CAAX,EAAaO,CAAC,GAAC8B,IAAI,CAACmE,GAAL,CAASjG,CAAT,EAAWH,CAAC,CAACmD,IAAb,CAAf,EAAkC9C,CAAC,GAAC4B,IAAI,CAACkE,GAAL,CAAS9F,CAAT,EAAWL,CAAC,CAACoD,IAAb,CAApC;EAAuD;;EAAA,OAAO,IAAIlC,CAAJ,CAAM;IAAC+B,IAAI,EAACjD,CAAN;IAAQkD,IAAI,EAACjD,CAAb;IAAekD,IAAI,EAAChD,CAApB;IAAsBiD,IAAI,EAAC/C,CAA3B;IAA6BwC,gBAAgB,EAACnD,CAAC,CAAC,CAAD,CAAD,CAAKmD;EAAnD,CAAN,CAAP;AAAmF;;AAAA,SAASgF,CAAT,CAAWnI,CAAX,EAAaM,CAAb,EAAeC,CAAC,GAAC,IAAjB,EAAsBE,CAAC,GAAC,CAAC,CAAzB,EAA2B;EAAC,MAAME,CAAC,GAACX,CAAC,CAACmD,gBAAV;EAA2B,IAAGxC,CAAC,CAAC0C,MAAF,CAAS/C,CAAT,CAAH,EAAe,OAAON,CAAP;EAAS,MAAMa,CAAC,GAACuH,CAAC,CAACpI,CAAD,CAAT;EAAA,MAAae,CAAC,GAAC4C,CAAC,CAAChD,CAAD,EAAG,CAAC,CAAJ,CAAhB;EAAA,MAAuBM,CAAC,GAAC0C,CAAC,CAACrD,CAAD,CAA1B;;EAA8B,IAAG,MAAIO,CAAJ,IAAOX,CAAC,CAACa,CAAD,CAAR,IAAab,CAAC,CAACe,CAAD,CAAjB,EAAqB;IAAC,MAAMJ,CAAC,GAACwH,CAAC,CAACrI,CAAD,EAAGM,CAAH,EAAKC,CAAL,EAAOE,CAAP,CAAT;;IAAmB,IAAGP,CAAC,CAACa,CAAD,CAAD,IAAMX,CAAC,CAACa,CAAD,CAAP,IAAYsB,IAAI,CAACC,GAAL,CAAS3B,CAAC,CAAC+C,KAAF,GAAQ3C,CAAjB,IAAoB6C,CAAC,CAACxD,CAAD,CAAjC,IAAsCE,CAAC,EAA1C,EAA6C;MAAC,MAAMN,CAAC,GAAC2E,CAAC,CAAClE,CAAD,CAAT;MAAa,IAAGP,CAAC,CAACF,CAAD,CAAD,IAAMA,CAAC,CAAC6H,YAAF,KAAiBpG,CAAC,CAACG,IAAzB,IAA+B9B,CAAC,CAAC4D,KAAF,GAAQ,CAAC1D,CAAC,CAACgG,IAAF,CAAO,CAAP,IAAUhG,CAAC,CAACgG,IAAF,CAAO,CAAP,CAAX,IAAsB,CAAhE,EAAkE,OAAOoC,CAAC,CAACtI,CAAD,EAAGM,CAAH,CAAD,IAAQO,CAAf;IAAiB;;IAAA,OAAOA,CAAP;EAAS;;EAAA,MAAMO,CAAC,GAACpB,CAAC,CAACuI,KAAF,GAAUC,SAAV,EAAR;;EAA8B,IAAG,MAAIpH,CAAC,CAACe,MAAN,IAAcnC,CAAC,CAACwD,IAAF,GAAOzC,CAArB,IAAwBf,CAAC,CAACwD,IAAF,GAAOzC,CAAC,GAAC,CAAT,GAAW+C,CAAC,CAACnD,CAAD,CAAvC,EAA2C;IAAC,MAAK;MAAC4C,IAAI,EAACrD,CAAN;MAAQsD,IAAI,EAACpD;IAAb,IAAgBJ,CAArB;;IAAuB,KAAI,IAAIM,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEO,CAAf,EAAiBP,CAAC,EAAlB,EAAqB;MAAC,MAAMC,CAAC,GAAC,MAAID,CAAJ,GAAMJ,CAAN,GAAQ,CAACa,CAAD,GAAG,CAAnB;MAAA,MAAqBN,CAAC,GAACH,CAAC,KAAGO,CAAJ,GAAMT,CAAC,GAACW,CAAC,GAACT,CAAV,GAAYS,CAAC,GAAC,CAArC;MAAuCK,CAAC,CAACd,CAAD,CAAD,GAAK,IAAIkB,CAAJ,CAAM;QAAC+B,IAAI,EAAChD,CAAN;QAAQiD,IAAI,EAAC/C,CAAb;QAAegD,IAAI,EAACzD,CAAC,CAACyD,IAAtB;QAA2BC,IAAI,EAAC1D,CAAC,CAAC0D,IAAlC;QAAuCP,gBAAgB,EAACxC;MAAxD,CAAN,CAAL;IAAuE;EAAC;;EAAA,OAAOuH,CAAC,CAAC9G,CAAC,CAAC2D,GAAF,CAAO/E,CAAC,IAAEqI,CAAC,CAACrI,CAAD,EAAGM,CAAH,EAAKC,CAAL,EAAOE,CAAP,CAAX,EAAuBgI,MAAvB,CAA8BrI,CAA9B,CAAD,CAAR;AAA2C;;AAAA,SAASkI,CAAT,CAAWtI,CAAX,EAAaI,CAAb,EAAe;EAAC,MAAME,CAAC,GAACqD,CAAC,CAACvD,CAAD,CAAT;EAAa,IAAGF,CAAC,CAACI,CAAD,CAAJ,EAAQ,OAAO,IAAP;EAAY,IAAG;IAACiD,IAAI,EAAChD,CAAN;IAAQkD,IAAI,EAAChD,CAAb;IAAe+C,IAAI,EAAC7C,CAApB;IAAsB+C,IAAI,EAAC7C;EAA3B,IAA8Bb,CAAjC;EAAmC,MAAMe,CAAC,GAACf,CAAC,CAACmD,gBAAV;EAAA,MAA2BlC,CAAC,GAAC,IAAIP,CAAJ,CAAM;IAACyC,gBAAgB,EAACpC,CAAlB;IAAoB2H,KAAK,EAAC,CAAC,CAAC,CAACnI,CAAD,EAAGE,CAAH,CAAD,EAAO,CAACE,CAAD,EAAGF,CAAH,CAAP,EAAa,CAACE,CAAD,EAAGE,CAAH,CAAb,EAAmB,CAACN,CAAD,EAAGM,CAAH,CAAnB,EAAyB,CAACN,CAAD,EAAGE,CAAH,CAAzB,CAAD;EAA1B,CAAN,CAA7B;EAAA,MAAiGD,CAAC,GAACI,CAAC,CAACK,CAAD,EAAGb,CAAH,CAApG;EAA0G,IAAG,MAAII,CAAC,CAACkI,KAAF,CAAQvG,MAAZ,IAAoB,CAAC3B,CAAC,CAACkI,KAAF,CAAQ,CAAR,EAAWvG,MAAhC,IAAwC,CAAC3B,CAAC,CAACkI,KAAF,CAAQ,CAAR,EAAWvG,MAAvD,EAA8D,OAAO,IAAP;;EAAY,MAAK;IAACuG,KAAK,EAACtH;EAAP,IAAUZ,CAAf;EAAA,MAAiBc,CAAC,GAACwC,CAAC,CAAC/C,CAAD,CAApB;EAAA,MAAwBU,CAAC,GAAC,IAAID,CAAJ,CAAM;IAAC2B,gBAAgB,EAAC/C;EAAlB,CAAN,CAA1B;;EAAsD,KAAI,IAAIF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;IAACK,CAAC,GAACI,CAAC,GAACS,CAAC,CAAClB,CAAD,CAAD,CAAK,CAAL,EAAQ,CAAR,CAAJ,EAAeO,CAAC,GAACI,CAAC,GAACO,CAAC,CAAClB,CAAD,CAAD,CAAK,CAAL,EAAQ,CAAR,CAAnB;;IAA8B,KAAI,IAAIF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACoB,CAAC,CAAClB,CAAD,CAAD,CAAKiC,MAAnB,EAA0BnC,CAAC,EAA3B,EAA8BO,CAAC,GAACA,CAAC,GAACa,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAF,GAAaoB,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAb,GAAwBO,CAA1B,EAA4BI,CAAC,GAACA,CAAC,GAACS,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAF,GAAaoB,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAb,GAAwBW,CAAtD,EAAwDF,CAAC,GAACA,CAAC,GAACW,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAF,GAAaoB,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAb,GAAwBS,CAAlF,EAAoFI,CAAC,GAACA,CAAC,GAACO,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAF,GAAaoB,CAAC,CAAClB,CAAD,CAAD,CAAKF,CAAL,EAAQ,CAAR,CAAb,GAAwBa,CAA9G;;IAAgH,IAAG,MAAIX,CAAP,EAASuB,CAAC,CAACgC,IAAF,GAAOhD,CAAP,EAASgB,CAAC,CAACiC,IAAF,GAAO7C,CAAhB,EAAkBY,CAAC,CAAC8B,IAAF,GAAOhD,CAAzB,EAA2BkB,CAAC,CAAC+B,IAAF,GAAO7C,CAAlC,CAAT,KAAkD,IAAGc,CAAC,CAACgC,IAAF,GAAOlB,IAAI,CAACmE,GAAL,CAASjF,CAAC,CAACgC,IAAX,EAAgBhD,CAAhB,CAAP,EAA0BgB,CAAC,CAACiC,IAAF,GAAOnB,IAAI,CAACkE,GAAL,CAAShF,CAAC,CAACiC,IAAX,EAAgB7C,CAAhB,CAAjC,EAAoD0B,IAAI,CAACC,GAAL,CAAS7B,CAAC,GAACL,CAAC,GAAC,CAAb,IAAgBgB,CAAvE,EAAyEG,CAAC,CAAC8B,IAAF,GAAOhD,CAAP,EAASkB,CAAC,CAAC+B,IAAF,GAAO/B,CAAC,CAAC+B,IAAF,GAAOlD,CAAvB,CAAzE,KAAsG;MAAC,IAAG,EAAEiC,IAAI,CAACC,GAAL,CAASjC,CAAC,GAACD,CAAC,GAAC,CAAb,IAAgBgB,CAAlB,CAAH,EAAwB,OAAO,IAAP;MAAYG,CAAC,CAAC+B,IAAF,GAAO7C,CAAC,GAACL,CAAT;IAAW;EAAC;;EAAA,OAAOmB,CAAP;AAAS;;AAAA,SAAS4G,CAAT,CAAWrI,CAAX,EAAaI,CAAb,EAAeE,CAAC,GAAC,IAAjB,EAAsBC,CAAC,GAAC,CAAC,CAAzB,EAA2BE,CAAC,GAAC,CAAC,CAA9B,EAAgC;EAAC,MAAME,CAAC,GAACX,CAAC,CAACmD,gBAAV;EAA2B,IAAGxC,CAAC,CAAC0C,MAAF,CAASjD,CAAT,KAAa,CAACA,CAAjB,EAAmB,OAAOJ,CAAP;EAAS6B,CAAC,CAAClB,CAAD,EAAGP,CAAH,EAAKE,CAAL,CAAD;EAAS,MAAMO,CAAC,GAACD,CAAC,CAACZ,CAAD,EAAGI,CAAH,EAAKE,CAAL,CAAT;EAAiB,IAAGG,CAAC,IAAEL,CAAC,CAACoE,aAAL,IAAoB3D,CAApB,KAAwBA,CAAC,CAAC6C,IAAF,GAAOnB,IAAI,CAACmE,GAAL,CAAS,eAAT,EAAyB7F,CAAC,CAAC6C,IAA3B,CAAP,EAAwC7C,CAAC,CAAC4C,IAAF,GAAOlB,IAAI,CAACkE,GAAL,CAAS,CAAC,eAAV,EAA0B5F,CAAC,CAAC4C,IAA5B,CAA/C,EAAiF5C,CAAC,CAAC4C,IAAF,IAAQ5C,CAAC,CAAC6C,IAAnH,CAAH,EAA4H,OAAO,IAAP;EAAY,IAAG,CAACnD,CAAD,IAAI,CAACM,CAAR,EAAU,OAAOA,CAAP;EAAS,MAAME,CAAC,GAACiD,CAAC,CAACrD,CAAD,EAAG,CAAC,CAAJ,CAAT;EAAA,MAAgBM,CAAC,GAAC+C,CAAC,CAAC5D,CAAD,EAAG,CAAC,CAAJ,CAAnB;EAA0B,IAAGF,CAAC,CAACa,CAAD,CAAD,IAAMb,CAAC,CAACe,CAAD,CAAV,EAAc,OAAOJ,CAAP;;EAAS,MAAML,CAAC,GAACsD,CAAC,CAACnD,CAAD,EAAG,IAAH,CAAT;EAAA,MAAkBS,CAAC,GAAC0C,CAAC,CAACnD,CAAD,EAAGqC,CAAH,CAArB;EAAA,MAA2B1B,CAAC,GAACwC,CAAC,CAAC1D,CAAD,EAAG,IAAH,CAA9B;;EAAuC,IAAGmC,IAAI,CAACC,GAAL,CAAS3B,CAAC,CAAC0C,IAAF,GAAOtC,CAAC,CAAC,CAAD,CAAjB,IAAsBK,CAAtB,IAAyBiB,IAAI,CAACC,GAAL,CAAS3B,CAAC,CAAC2C,IAAF,GAAOvC,CAAC,CAAC,CAAD,CAAjB,IAAsBK,CAAlD,EAAoD;IAAC,MAAMpB,CAAC,GAACqC,IAAI,CAACC,GAAL,CAASxC,CAAC,CAACuD,IAAF,GAAOxC,CAAC,CAAC,CAAD,CAAjB,CAAR;IAAA,MAA8BR,CAAC,GAACgC,IAAI,CAACC,GAAL,CAASzB,CAAC,CAAC,CAAD,CAAD,GAAKf,CAAC,CAACwD,IAAhB,CAAhC;;IAAsD,IAAGtD,CAAC,GAACM,CAAF,IAAKD,CAAC,GAACa,CAAV,EAAY;MAACP,CAAC,CAAC0C,IAAF,GAAOtC,CAAC,CAAC,CAAD,CAAR;MAAY,MAAMf,CAAC,GAAC,EAAR;MAAWA,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACwD,IAAR,EAAaxD,CAAC,CAACyD,IAAf,EAAoB9C,CAApB,CAAP,GAA+BT,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACwD,IAAR,EAAa,CAACxD,CAAC,CAACyD,IAAF,GAAOzD,CAAC,CAAC0D,IAAV,IAAgB,CAA7B,EAA+B/C,CAA/B,CAAP,CAA/B,EAAyET,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACwD,IAAR,EAAaxD,CAAC,CAAC0D,IAAf,EAAoB/C,CAApB,CAAP,CAAzE;MAAwG,MAAMJ,CAAC,GAACL,CAAC,CAAC6E,GAAF,CAAO/E,CAAC,IAAEc,CAAC,CAACd,CAAD,EAAGI,CAAH,EAAKE,CAAL,CAAX,EAAqBmI,MAArB,CAA6BzI,CAAC,IAAE,CAACoC,KAAK,CAACpC,CAAC,EAAEwB,CAAJ,CAAtC,EAA+CuD,GAA/C,CAAoD/E,CAAC,IAAEA,CAAC,CAACwB,CAAzD,CAAR;MAAqEX,CAAC,CAAC2C,IAAF,GAAOjB,IAAI,CAACkE,GAAL,CAASkC,KAAT,CAAe,IAAf,EAAoBpI,CAApB,CAAP;IAA8B;;IAAA,IAAGA,CAAC,GAACC,CAAF,IAAKN,CAAC,GAACkB,CAAV,EAAY;MAACP,CAAC,CAAC2C,IAAF,GAAOvC,CAAC,CAAC,CAAD,CAAR;MAAY,MAAMf,CAAC,GAAC,EAAR;MAAWA,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACuD,IAAR,EAAavD,CAAC,CAACyD,IAAf,EAAoB9C,CAApB,CAAP,GAA+BT,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACuD,IAAR,EAAa,CAACvD,CAAC,CAACyD,IAAF,GAAOzD,CAAC,CAAC0D,IAAV,IAAgB,CAA7B,EAA+B/C,CAA/B,CAAP,CAA/B,EAAyET,CAAC,CAACmG,IAAF,CAAO,IAAI5E,CAAJ,CAAMzB,CAAC,CAACuD,IAAR,EAAavD,CAAC,CAAC0D,IAAf,EAAoB/C,CAApB,CAAP,CAAzE;MAAwG,MAAMJ,CAAC,GAACL,CAAC,CAAC6E,GAAF,CAAO/E,CAAC,IAAEc,CAAC,CAACd,CAAD,EAAGI,CAAH,EAAKE,CAAL,CAAX,EAAqBmI,MAArB,CAA6BzI,CAAC,IAAE,CAACoC,KAAK,CAACpC,CAAC,EAAEwB,CAAJ,CAAtC,EAA+CuD,GAA/C,CAAoD/E,CAAC,IAAEA,CAAC,CAACwB,CAAzD,CAAR;MAAqEX,CAAC,CAAC0C,IAAF,GAAOhB,IAAI,CAACmE,GAAL,CAASiC,KAAT,CAAe,IAAf,EAAoBpI,CAApB,CAAP;IAA8B;EAAC,CAA1kB,MAA8kB;IAAC,MAAMP,CAAC,GAAC8D,CAAC,CAAC1D,CAAD,EAAG,IAAH,CAAT;;IAAkBmC,IAAI,CAACC,GAAL,CAAS3B,CAAC,CAAC0C,IAAF,GAAOtC,CAAC,CAAC,CAAD,CAAjB,IAAsBjB,CAAtB,KAA0Ba,CAAC,CAAC0C,IAAF,GAAOtC,CAAC,CAAC,CAAD,CAAlC,GAAuCsB,IAAI,CAACC,GAAL,CAAS3B,CAAC,CAAC2C,IAAF,GAAOvC,CAAC,CAAC,CAAD,CAAjB,IAAsBjB,CAAtB,KAA0Ba,CAAC,CAAC2C,IAAF,GAAOvC,CAAC,CAAC,CAAD,CAAlC,CAAvC;EAA8E;;EAAA,OAAOJ,CAAP;AAAS;;AAAA,SAAS8C,CAAT,CAAW3D,CAAX,EAAaE,CAAC,GAAC,CAAC,CAAhB,EAAkB;EAAC,IAAG,CAACF,CAAJ,EAAM,OAAO,IAAP;EAAY,MAAMI,CAAC,GAACF,CAAC,GAAC,eAAD,GAAiB,kBAA1B;EAA6C,OAAOF,CAAC,CAACwE,aAAF,GAAgB,IAAEpE,CAAlB,GAAoBJ,CAAC,CAACkF,IAAF,IAAQlF,CAAC,CAAC2E,YAAV,GAAuB,GAAvB,GAA2B,IAAElC,CAAC,CAACzC,CAAC,CAACkF,IAAH,CAAH,IAAa,IAAnE;AAAwE;;AAAA,SAASlB,CAAT,CAAWhE,CAAX,EAAaE,CAAC,GAAC,CAAC,CAAhB,EAAkB;EAAC,IAAGF,CAAC,CAAC2E,YAAL,EAAkB,OAAM,CAAC,CAAC,GAAF,EAAM,GAAN,CAAN;EAAiB,MAAMrE,CAAC,GAACqD,CAAC,CAAC3D,CAAD,EAAGE,CAAH,CAAT;EAAe,OAAOE,CAAC,CAACE,CAAD,CAAD,GAAK,CAAC,CAACA,CAAD,GAAG,CAAJ,EAAMA,CAAC,GAAC,CAAR,CAAL,GAAgB,IAAvB;AAA4B;;AAAA,SAASsI,CAAT,CAAW5I,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmB;EAAC,IAAIC,CAAC,GAAC,CAACP,CAAC,GAACE,CAAH,IAAME,CAAZ;EAAc,OAAOG,CAAC,GAACgC,IAAI,CAACsG,KAAL,CAAWtI,CAAX,CAAF,IAAiB,CAAjB,GAAmBA,CAAC,GAACgC,IAAI,CAACsG,KAAL,CAAWtI,CAAX,CAArB,GAAmCD,CAAC,KAAGC,CAAC,IAAE,CAAN,CAApC,EAA6CA,CAApD;AAAsD;;AAAA,SAAS6H,CAAT,CAAWpI,CAAX,EAAaI,CAAC,GAAC,CAAC,CAAhB,EAAkB;EAAC,MAAME,CAAC,GAACqD,CAAC,CAAC3D,CAAC,CAACmD,gBAAH,CAAT;EAA8B,IAAGjD,CAAC,CAACI,CAAD,CAAJ,EAAQ,OAAO,CAAP;;EAAS,MAAMC,CAAC,GAACH,CAAC,GAAC,CAAD,GAAG,EAAEE,CAAC,GAAC,CAAJ,CAAZ;EAAA,MAAmBG,CAAC,GAACqD,CAAC,CAAC9D,CAAC,CAACmD,gBAAH,CAAtB;EAAA,MAA2CxC,CAAC,GAAC,CAACP,CAAD,IAAImC,IAAI,CAACC,GAAL,CAASxC,CAAC,CAACwD,IAAF,GAAOlD,CAAC,GAAC,CAAlB,IAAqBG,CAAzB,GAA2BH,CAAC,GAAC,CAA7B,GAA+BN,CAAC,CAACwD,IAA9E;EAAA,MAAmF3C,CAAC,GAAC,CAACT,CAAD,IAAImC,IAAI,CAACC,GAAL,CAASxC,CAAC,CAACuD,IAAF,GAAOjD,CAAC,GAAC,CAAlB,IAAqBG,CAAzB,GAA2B,CAACH,CAAD,GAAG,CAA9B,GAAgCN,CAAC,CAACuD,IAAvH;;EAA4H,OAAOqF,CAAC,CAACjI,CAAD,EAAGJ,CAAH,EAAKD,CAAL,EAAO,CAAC,CAAR,CAAD,GAAYsI,CAAC,CAAC/H,CAAD,EAAGN,CAAH,EAAKD,CAAL,EAAO,CAAC,CAAR,CAApB;AAA+B;;AAAA,SAASwI,CAAT,CAAW9I,CAAX,EAAa;EAAC,MAAMM,CAAC,GAACN,CAAC,CAAC+I,WAAF,CAAcC,MAAd,CAAqBxH,CAA7B;EAAA,MAA+BjB,CAAC,GAACoD,CAAC,CAAC3D,CAAC,CAACmD,gBAAH,EAAoB,CAAC,CAArB,CAAlC;EAA0D,IAAGjD,CAAC,CAACK,CAAD,CAAJ,EAAQ,OAAM;IAAC0I,OAAO,EAAC3I,CAAT;IAAW4I,cAAc,EAAC,IAA1B;IAA+BC,YAAY,EAAC;EAA5C,CAAN;EAAwD,MAAM1I,CAAC,GAACF,CAAC,GAAC,CAAV;EAAA,MAAY;IAAC6I,eAAe,EAACzI,CAAjB;IAAmBoI,WAAW,EAAClI,CAA/B;IAAiCwI,MAAM,EAACtI;EAAxC,IAA2Cf,CAAvD;EAAA,MAAyD;IAACsJ,mBAAmB,EAACrI,CAArB;IAAuBsI,UAAU,EAAC/I,CAAlC;IAAoCgJ,oBAAoB,EAACpI;EAAzD,IAA4DP,CAArH;EAAuH,IAAIS,CAAC,GAACX,CAAC,CAACa,CAAR;EAAU,MAAMZ,CAAC,GAAC,EAAR;EAAA,MAAWY,CAAC,GAACpB,CAAC,CAACJ,CAAC,CAACyJ,SAAH,CAAD,IAAgB,gBAAczJ,CAAC,CAACyJ,SAAF,CAAYC,IAAvD;EAAA,MAA4DjI,CAAC,GAACnB,CAAC,IAAEkB,CAAC,GAAC,CAAD,GAAGf,CAAN,CAA/D;EAAA,MAAwEC,CAAC,GAACc,CAAC,GAACjB,CAAC,GAACD,CAAH,GAAKG,CAAC,GAACH,CAAlF;;EAAoF,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEe,CAAf,EAAiBf,CAAC,EAAlB,EAAqB;IAAC,MAAMF,CAAC,GAAC,CAACe,CAAC,CAACyC,IAAF,GAAOlD,CAAR,IAAWgB,CAAX,GAAad,CAArB;IAAA,MAAuBN,CAAC,GAACF,CAAC,GAACuC,IAAI,CAACsG,KAAL,CAAW7I,CAAX,CAAF,IAAiB,CAAjB,GAAmBA,CAAnB,GAAqBuC,IAAI,CAACoH,IAAL,CAAU3J,CAAV,CAA9C;IAAA,MAA2DI,CAAC,GAACM,CAAC,GAACY,CAAF,GAAId,CAAjE;IAAA,MAAmED,CAAC,GAACH,CAAC,GAACmC,IAAI,CAACsG,KAAL,CAAWzI,CAAX,CAAF,IAAiB,CAAjB,GAAmBA,CAAnB,GAAqBmC,IAAI,CAACoH,IAAL,CAAUvJ,CAAV,CAA1F;IAAA,MAAuGK,CAAC,GAAC8B,IAAI,CAACsG,KAAL,CAAWpH,CAAC,GAACH,CAAF,GAAId,CAAf,CAAzG;IAAA,MAA2HG,CAAC,GAAC4B,IAAI,CAACqH,KAAL,CAAWnI,CAAC,GAACH,CAAb,IAAgBd,CAA7I;IAAA,MAA+IK,CAAC,GAAC,CAACL,CAAC,GAAC+B,IAAI,CAACqH,KAAL,CAAWlJ,CAAC,GAACY,CAAb,IAAgBd,CAAnB,IAAsBA,CAAvK;IAAyKI,CAAC,CAACyF,IAAF,CAAO;MAACwD,WAAW,EAACvI,CAAb;MAAeiI,UAAU,EAAC/I,CAA1B;MAA4BsJ,iBAAiB,EAAC5J,CAA9C;MAAgD6J,0BAA0B,EAACxJ,CAA3E;MAA6EyJ,UAAU,EAACrJ,CAAxF;MAA0FsJ,YAAY,EAACpJ,CAAvG;MAAyGqJ,kBAAkB,EAACzJ;IAA5H,CAAP,GAAuIa,CAAC,IAAEF,CAA1I;EAA4I;;EAAA,OAAM;IAAC6H,OAAO,EAAC3I,CAAT;IAAW4I,cAAc,EAACzI,CAA1B;IAA4B0I,YAAY,EAACvI,CAAzC;IAA2CuJ,qBAAqB,EAAC3I;EAAjE,CAAN;AAA0E;;AAAA,SAAS4I,CAAT,CAAWpK,CAAX,EAAa;EAAC,IAAG,CAACA,CAAD,IAAIA,CAAC,CAAC2E,YAAT,EAAsB,OAAO3E,CAAP;EAAS,MAAME,CAAC,GAACyG,MAAM,CAAC3G,CAAC,CAACkF,IAAF,IAAQlF,CAAC,CAACuF,GAAX,CAAd;EAA8B,IAAInF,CAAJ;EAAM,IAAG2C,CAAC,CAAC6D,GAAF,CAAM1G,CAAN,CAAH,EAAYE,CAAC,GAAC2C,CAAC,CAAC8D,GAAF,CAAM3G,CAAN,CAAF,CAAZ,KAA2B;IAACE,CAAC,GAAC,CAACJ,CAAC,CAACkF,IAAF,GAAO3E,CAAC,CAAC4E,QAAF,CAAWnF,CAAC,CAACkF,IAAb,CAAP,GAA0B3E,CAAC,CAAC6E,UAAF,CAAa3E,CAAC,CAAC6E,cAAf,EAA8BtF,CAAC,CAACuF,GAAhC,CAA3B,EAAiE8E,SAAjE,GAA6EC,OAA7E,EAAF,EAAyFvH,CAAC,CAACkE,GAAF,CAAM/G,CAAN,EAAQE,CAAR,CAAzF;EAAoG;EAAA,OAAO,IAAIsB,CAAJ,CAAM;IAACwD,IAAI,EAAC9E;EAAN,CAAN,CAAP;AAAuB;;AAAA,SAASmK,CAAT,CAAWvK,CAAX,EAAa;EAAC,MAAME,CAAC,GAACF,CAAC,CAACwK,UAAF,IAAc,QAAMxK,CAAC,CAACyK,OAA9B;EAAsC,IAAInK,CAAC,GAACN,CAAC,CAACyK,OAAF,IAAW,CAAC/H,CAAD,EAAGA,CAAH,CAAjB;EAAA,IAAuBnC,CAAC,GAACmK,EAAE,CAAC1K,CAAD,CAA3B;EAAA,IAA+BS,CAAC,GAAC;IAAC4B,IAAI,EAAC9B,CAAC,CAACoK,IAAF,CAAO,CAAP,IAAU,CAAhB;IAAkBrI,IAAI,EAAC/B,CAAC,CAACoK,IAAF,CAAO,CAAP,IAAU;EAAjC,CAAjC;EAAqE,MAAMhK,CAAC,GAACJ,CAAC,CAACqK,oBAAF,GAAuB,CAAvB,IAA0BrK,CAAC,CAACqK,oBAAF,GAAuBrK,CAAC,CAACsK,OAAF,CAAU1I,MAAV,GAAiB,CAA1E;EAA4E,IAAItB,CAAC,GAACN,CAAC,CAACqK,oBAAF,KAAyBrK,CAAC,CAACsK,OAAF,CAAU1I,MAAV,GAAiB,CAA1C,IAA6CjC,CAAC,IAAES,CAAhD,GAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,GAAwDuB,CAAC,CAAC3B,CAAC,CAACsK,OAAH,EAAWpK,CAAX,EAAaH,CAAb,EAAesC,CAAf,CAA/D;EAAiF,MAAM7B,CAAC,GAAC,CAACF,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAP,IAAY,CAApB;EAAA,MAAsBI,CAAC,GAACjB,CAAC,CAAC8K,eAAF,CAAkB3H,gBAA1C;EAAA,MAA2D3C,CAAC,GAACR,CAAC,CAAC+K,eAAF,CAAkB5H,gBAA/E;;EAAgG,IAAGjD,CAAC,KAAGS,CAAC,IAAEI,CAAC,GAAC6B,CAAR,CAAJ,EAAe;IAAChB,CAAC,CAACX,CAAD,EAAGT,CAAH,EAAKR,CAAC,CAACoE,mBAAP,CAAD,KAA+BnD,CAAC,CAAC0D,YAAF,IAAgBvE,CAAC,CAACyE,CAAC,CAAC5D,CAAD,CAAF,CAAhD,GAAwDX,CAAC,GAAC,CAACqC,CAAD,EAAGA,CAAH,CAA1D,EAAgEpC,CAAC,GAACmK,EAAE,CAAC,EAAC,GAAG1K,CAAJ;MAAMyK,OAAO,EAACnK;IAAd,CAAD,CAApE,EAAuFG,CAAC,GAAC;MAAC4B,IAAI,EAAC9B,CAAC,CAACoK,IAAF,CAAO,CAAP,IAAU,CAAhB;MAAkBrI,IAAI,EAAC/B,CAAC,CAACoK,IAAF,CAAO,CAAP,IAAU;IAAjC,CAAzF,EAA6H9J,CAAC,GAACqB,CAAC,CAAC3B,CAAC,CAACsK,OAAH,EAAWpK,CAAX,EAAaH,CAAb,EAAesC,CAAf,CAAhI;EAAkJ;;EAAA,IAAGrC,CAAC,CAACyK,KAAF,GAAQnK,CAAR,EAAUP,CAAC,CAAC,CAAD,CAAD,GAAK,CAAL,KAASC,CAAC,CAAC0K,YAAF,GAAeC,EAAE,CAAC3K,CAAC,CAACsK,OAAH,EAAWpK,CAAX,EAAaE,CAAb,CAA1B,CAAV,EAAqDX,CAAC,CAACmL,cAAF,IAAkB,CAAClK,CAAC,CAAC0D,YAArB,IAAmC,CAAC1D,CAAC,CAACuD,aAA9F,EAA4G,IAAGhE,CAAC,CAACmE,YAAL,EAAkBpE,CAAC,CAAC6K,OAAF,GAAU;IAACP,OAAO,EAACtK,CAAC,CAACsK,OAAX;IAAmBI,YAAY,EAAC1K,CAAC,CAAC0K,YAAlC;IAA+CR,OAAO,EAACnK;EAAvD,CAAV,CAAlB,KAA0F;IAAC,MAAMJ,CAAC,GAAC2E,CAAC,CAAC5D,CAAD,CAAT;;IAAa,IAAGb,CAAC,CAACF,CAAD,CAAD,IAAM,CAACA,CAAC,CAAC+F,UAAZ,EAAuB;MAAC,MAAM/F,CAAC,GAACkK,CAAC,CAACnJ,CAAD,CAAT;MAAA,MAAab,CAAC,GAAC+H,CAAC,CAACnI,CAAC,CAAC8K,eAAH,EAAmB5K,CAAnB,CAAhB;MAAA,MAAsC;QAAC2K,OAAO,EAAChK;MAAT,IAAY6J,EAAE,CAAC,EAAC,GAAG1K,CAAJ;QAAM+K,eAAe,EAAC3K,CAAtB;QAAwBqK,OAAO,EAACnK;MAAhC,CAAD,CAApD;MAAA,MAAyFS,CAAC,GAACmK,EAAE,CAACrK,CAAD,EAAGJ,CAAH,EAAKE,CAAL,CAA7F;MAAqGJ,CAAC,CAAC6K,OAAF,GAAU;QAACP,OAAO,EAAChK,CAAT;QAAWoK,YAAY,EAAClK,CAAxB;QAA0B0J,OAAO,EAACnK;MAAlC,CAAV;IAA+C;EAAC;EAAA,OAAOC,CAAP;AAAS;;AAAA,SAASmK,EAAT,CAAY1K,CAAZ,EAAc;EAAC,MAAK;IAAC8K,eAAe,EAAC5K,CAAjB;IAAmB6K,eAAe,EAACzK,CAAnC;IAAqC+K,SAAS,EAAC9K,CAA/C;IAAiD6D,mBAAmB,EAAC3D,CAArE;IAAuE6K,eAAe,EAAC3K;EAAvF,IAA0FX,CAA/F;EAAA,MAAiGa,CAAC,GAACX,CAAC,CAACiD,gBAArG;EAAA,MAAsHpC,CAAC,GAACT,CAAC,CAAC6C,gBAA1H;EAAA,MAA2IlC,CAAC,GAACY,CAAC,CAAChB,CAAD,EAAGE,CAAH,CAA9I;EAAA,MAAoJ;IAACwC,IAAI,EAAC/C,CAAN;IAAQiD,IAAI,EAACrC,CAAb;IAAeoC,IAAI,EAAClC,CAApB;IAAsBoC,IAAI,EAAC9C;EAA3B,IAA8BV,CAAlL;EAAA,MAAoLsB,CAAC,GAACmC,CAAC,CAAC5C,CAAD,CAAvL;EAAA,MAA2LL,CAAC,GAACN,CAAC,CAACoB,CAAD,CAAD,KAAOxB,CAAC,CAACuL,aAAF,IAAiB,gBAAc5K,CAAC,EAAE+I,IAAzC,CAA7L;EAAA,MAA4OhI,CAAC,GAAC1B,CAAC,CAACyK,OAAF,IAAW,CAAC/H,CAAD,EAAGA,CAAH,CAAzP;EAAA,MAA+Pf,CAAC,GAACD,CAAC,CAAC,CAAD,CAAD,GAAKnB,CAAC,CAACiB,CAAxQ;EAAA,MAA0QI,CAAC,GAACF,CAAC,CAAC,CAAD,CAAD,GAAKnB,CAAC,CAACmB,CAAnR;EAAA,MAAqRQ,CAAC,GAAC,MAAIR,CAAC,CAAC,CAAD,CAA5R;EAAA,MAAgSe,CAAC,GAACF,IAAI,CAACoH,IAAL,CAAU,CAACrI,CAAC,GAACd,CAAH,IAAMmB,CAAN,GAAQ,KAAGD,CAAC,CAAC,CAAD,CAAtB,KAA4BQ,CAAC,GAAC,CAAD,GAAG,CAAhC,CAAlS;EAAA,MAAqUU,CAAC,GAACL,IAAI,CAACoH,IAAL,CAAU,CAAC/I,CAAC,GAACQ,CAAH,IAAMQ,CAAN,GAAQ,KAAGF,CAAC,CAAC,CAAD,CAAtB,KAA4BQ,CAAC,GAAC,CAAD,GAAG,CAAhC,CAAvU;EAAA,MAA0WW,CAAC,GAACoB,CAAC,CAAC;IAAC5B,IAAI,EAACI,CAAN;IAAQH,IAAI,EAACM,CAAb;IAAeW,IAAI,EAAC/C,CAApB;IAAsBkD,IAAI,EAAC9C,CAA3B;IAA6B0F,IAAI,EAAC3E,CAAlC;IAAoC4E,IAAI,EAAC3E,CAAzC;IAA2CsC,IAAI,EAACrD,CAAhD;IAAkDsD,KAAK,EAACpD,CAAxD;IAA0DqD,mBAAmB,EAAC3D,CAA9E;IAAgF4D,QAAQ,EAAC3C,CAAC,CAAC,CAAD,CAAD,IAAMiB,CAA/F;IAAiG6D,cAAc,EAACtE;EAAhH,CAAD,CAA7W;EAAA,MAAkea,CAAC,GAAC,EAApe;EAAue,IAAIE,CAAJ;EAAA,IAAMC,CAAC,GAAC,CAAR;;EAAU,MAAME,CAAC,GAAClB,CAAC,GAAC,CAAC,CAAF,GAAI8C,GAAb;EAAA,MAAiB;IAACzB,IAAI,EAACzC,CAAN;IAAQ0C,IAAI,EAACO,CAAb;IAAeL,IAAI,EAACoB,CAApB;IAAsBlB,KAAK,EAACgB,CAA5B;IAA8Bf,MAAM,EAACa;EAArC,IAAwCpE,CAAzD;EAAA,MAA2D0G,CAAC,GAAClD,CAAC,CAAC/C,CAAD,EAAGiC,CAAH,CAA9D;EAAA,MAAoEuB,CAAC,GAACnE,CAAC,CAACoB,CAAD,CAAD,IAAMV,CAAC,GAAC,CAAR,IAAWiD,CAAC,GAACvC,CAAC,GAAC,CAArF;;EAAuF,IAAI2E,CAAC,GAAC,CAAC,CAAP;;EAAS,IAAGlF,CAAH,EAAK;IAAC,MAAMjB,CAAC,GAAC6E,CAAC,CAAChE,CAAD,CAAT;IAAasF,CAAC,GAAC/F,CAAC,CAACJ,CAAD,CAAD,IAAMA,CAAC,CAAC+H,YAAF,GAAe,CAAvB;EAAyB;;EAAA,KAAI,IAAI3H,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACqC,CAAd,EAAgBrC,CAAC,EAAjB,EAAoB;IAAC,MAAMJ,CAAC,GAAC,EAAR;;IAAW,KAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC0C,CAAd,EAAgB1C,CAAC,EAAjB,EAAoB;MAAC,IAAII,CAAC,GAACuC,CAAC,CAACzC,CAAC,GAACwC,CAAF,GAAI1C,CAAL,CAAP;MAAe,IAAGQ,CAAC,IAAEJ,CAAC,CAAC,CAAD,CAAD,GAAKyD,CAAR,IAAWzD,CAAC,CAAC,CAAD,CAAD,GAAKkB,CAAC,GAAC,CAAF,GAAIwF,CAApB,GAAsB1G,CAAC,CAAC,CAAD,CAAD,IAAMkB,CAA5B,GAA8Bd,CAAC,IAAE,MAAIN,CAAP,IAAUE,CAAC,CAAC,CAAD,CAAD,GAAK,CAAf,IAAkBiE,CAAlB,IAAqB,CAAC5D,CAAtB,KAA0BL,CAAC,CAAC,CAAD,CAAD,IAAMkB,CAAhC,CAA9B,EAAiE,CAAClB,CAAD,IAAI8B,KAAK,CAAC9B,CAAC,CAAC,CAAD,CAAF,CAAT,IAAiB8B,KAAK,CAAC9B,CAAC,CAAC,CAAD,CAAF,CAA1F,EAAiGyC,CAAC,CAACsD,IAAF,CAAOjD,CAAP,GAAUL,CAAC,CAACsD,IAAF,CAAOjD,CAAP,CAAV,EAAoBpD,CAAC,CAACqG,IAAF,CAAO,IAAP,CAApB,EAAiCnD,CAAC,EAAlC,CAAjG,KAA0I;QAAC,IAAGvC,CAAH,EAAK;UAAC,MAAMX,CAAC,GAACW,CAAC,CAAC6K,gBAAF,CAAmB,IAAI/J,CAAJ,CAAM;YAACD,CAAC,EAAClB,CAAC,CAAC,CAAD,CAAJ;YAAQoB,CAAC,EAACpB,CAAC,CAAC,CAAD,CAAX;YAAe6C,gBAAgB,EAACpC;UAAhC,CAAN,CAAnB,CAAR;UAAsET,CAAC,GAAC,CAACN,CAAC,CAACwB,CAAH,EAAKxB,CAAC,CAAC0B,CAAP,CAAF;QAAY;;QAAA1B,CAAC,CAACqG,IAAF,CAAO/F,CAAP,GAAUF,CAAC,GAAC,CAAF,IAAKM,CAAL,IAAQuC,CAAC,CAAC/C,CAAD,CAAT,IAAcI,CAAC,CAAC,CAAD,CAAD,GAAK2C,CAAC,CAAC/C,CAAD,CAAD,CAAK,CAAL,CAAnB,KAA6BI,CAAC,CAAC,CAAD,CAAD,IAAMkB,CAAN,EAAQ2E,CAAC,IAAE7F,CAAC,CAAC,CAAD,CAAD,GAAKyD,CAAR,IAAWzD,CAAC,CAAC,CAAD,CAAD,GAAKkB,CAAhB,KAAoBlB,CAAC,CAAC,CAAD,CAAD,IAAMkB,CAA1B,CAArC,CAAV,EAA6EuB,CAAC,CAACsD,IAAF,CAAO,CAAC/F,CAAC,CAAC,CAAD,CAAD,GAAKQ,CAAN,IAAS8D,CAAhB,CAA7E,EAAgG7B,CAAC,CAACsD,IAAF,CAAO,CAACvB,CAAC,GAACxE,CAAC,CAAC,CAAD,CAAJ,IAASoE,CAAhB,CAAhG;MAAmH;IAAC;;IAAAzB,CAAC,GAACjD,CAAF;EAAI;;EAAA,OAAM;IAAC6K,OAAO,EAAC9H,CAAT;IAAWiI,KAAK,EAAC,IAAjB;IAAsBC,YAAY,EAAC,IAAnC;IAAwCL,oBAAoB,EAAC1H,CAA7D;IAA+DuH,OAAO,EAAC/I,CAAvE;IAAyEiJ,IAAI,EAACzI,CAAC,GAAC,CAACO,CAAD,EAAGG,CAAH,CAAD,GAAO,CAACH,CAAC,GAAC,CAAH,EAAKG,CAAC,GAAC,CAAP;EAAtF,CAAN;AAAuG;;AAAA,SAASsI,EAAT,CAAYlL,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkB;EAAC,MAAK;IAACiC,IAAI,EAAC/B,CAAN;IAAQgC,IAAI,EAAC/B;EAAb,IAAgBL,CAArB;EAAA,MAAuBO,CAAC,GAAC,IAAIgL,YAAJ,CAAiB,CAACnL,CAAC,GAAC,CAAH,KAAOC,CAAC,GAAC,CAAT,IAAY,CAAZ,GAAc,CAA/B,CAAzB;EAAA,MAA2DI,CAAC,GAAC,IAAI8K,YAAJ,CAAiB,CAAC,CAAC,CAAF,EAAI,CAAC,CAAL,EAAO,CAAP,EAAS,CAAC,CAAV,EAAY,CAAZ,EAAc,CAAC,CAAf,EAAiB,CAAjB,EAAmB,CAAC,CAApB,EAAsB,CAAC,CAAvB,CAAjB,CAA7D;EAAA,MAAyG5K,CAAC,GAAC,IAAI4K,YAAJ,CAAiB,CAAC,CAAC,CAAF,EAAI,CAAJ,EAAM,CAAN,EAAQ,CAAR,EAAU,CAAC,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,CAAjB,CAA3G;;EAAmJ,KAAI,IAAI1K,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACT,CAAC,GAAC,CAAhB,EAAkBS,CAAC,EAAnB,EAAsB;IAAC,KAAI,IAAIb,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACK,CAAC,GAAC,CAAhB,EAAkBL,CAAC,EAAnB,EAAsB;MAAC,IAAIE,CAAC,GAACW,CAAC,GAACR,CAAF,GAAI,CAAJ,GAAM,IAAEL,CAAd;MAAgB,MAAMe,CAAC,GAACjB,CAAC,CAACI,CAAD,CAAT;MAAA,MAAaI,CAAC,GAACR,CAAC,CAACI,CAAC,GAAC,CAAH,CAAhB;MAAA,MAAsBgB,CAAC,GAACpB,CAAC,CAACI,CAAC,GAAC,CAAH,CAAzB;MAAA,MAA+BkB,CAAC,GAACtB,CAAC,CAACI,CAAC,GAAC,CAAH,CAAlC;MAAwCA,CAAC,IAAE,IAAEG,CAAL;MAAO,MAAMK,CAAC,GAACZ,CAAC,CAACI,CAAD,CAAT;MAAA,MAAaoB,CAAC,GAACxB,CAAC,CAACI,CAAC,GAAC,CAAH,CAAhB;MAAA,MAAsBqB,CAAC,GAACzB,CAAC,CAACI,CAAC,GAAC,CAAH,CAAzB;MAAA,MAA+BM,CAAC,GAACV,CAAC,CAACI,CAAC,GAAC,CAAH,CAAlC;MAAwC,IAAIsB,CAAC,GAAC,CAAN;MAAA,IAAQC,CAAC,GAAC,MAAIzB,CAAC,IAAEI,CAAC,GAAC,CAAJ,CAAD,GAAQS,CAAZ,CAAV;;MAAyB,KAAI,IAAIf,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoBS,CAAC,CAACkB,CAAC,EAAF,CAAD,GAAOhB,CAAC,CAACe,CAAC,EAAF,CAAD,GAAOT,CAAP,GAASN,CAAC,CAACe,CAAC,EAAF,CAAD,GAAON,CAAhB,GAAkBT,CAAC,CAACe,CAAC,EAAF,CAAD,GAAOD,CAAhC;;MAAkCC,CAAC,GAAC,CAAF;;MAAI,KAAI,IAAI1B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoBS,CAAC,CAACkB,CAAC,EAAF,CAAD,GAAOhB,CAAC,CAACe,CAAC,EAAF,CAAD,GAAOlB,CAAP,GAASG,CAAC,CAACe,CAAC,EAAF,CAAD,GAAOJ,CAAhB,GAAkBX,CAAC,CAACe,CAAC,EAAF,CAAD,GAAOhB,CAAhC;;MAAkCgB,CAAC,GAAC,CAAF;;MAAI,KAAI,IAAI1B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoBS,CAAC,CAACkB,CAAC,EAAF,CAAD,GAAOd,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOT,CAAP,GAASJ,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOd,CAAhB,GAAkBC,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOD,CAAhC;;MAAkCC,CAAC,GAAC,CAAF;;MAAI,KAAI,IAAI1B,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoBS,CAAC,CAACkB,CAAC,EAAF,CAAD,GAAOd,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOlB,CAAP,GAASK,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOF,CAAhB,GAAkBX,CAAC,CAACa,CAAC,EAAF,CAAD,GAAOhB,CAAhC;IAAkC;;IAAA,IAAGN,CAAH,EAAK,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACS,CAAC,CAAC0B,MAAhB,EAAuBnC,CAAC,EAAxB,EAA2BoC,KAAK,CAAC3B,CAAC,CAACT,CAAD,CAAF,CAAL,KAAcS,CAAC,CAACT,CAAD,CAAD,GAAK,CAAC,CAApB;EAAuB;;EAAA,OAAOS,CAAP;AAAS;;AAAA,SAASiL,EAAT,CAAY1L,CAAZ,EAAc;EAAC,MAAME,CAAC,GAACF,CAAC,CAACuI,KAAF,GAAUC,SAAV,EAAR;EAA8B,OAAO,MAAItI,CAAC,CAACiC,MAAN,GAAajC,CAAC,CAAC,CAAD,CAAd,GAAkBgI,CAAC,CAAChI,CAAD,CAA1B;AAA8B;;AAAA,SAASyL,EAAT,CAAY3L,CAAZ,EAAcE,CAAd,EAAgBK,CAAhB,EAAkB;EAAC,MAAK;IAACwI,WAAW,EAACtI,CAAb;IAAe4K,SAAS,EAAC1K;EAAzB,IAA4BT,CAAjC;EAAmC,IAAIW,CAAC,GAAC,CAAN;EAAA,IAAQE,CAAC,GAAC,CAAC,CAAX;EAAa,MAAK;IAAC6K,kBAAkB,EAAC3K;EAApB,IAAuBR,CAA5B;;EAA8B,IAAGL,CAAC,CAACa,CAAD,CAAD,IAAMA,CAAC,CAACkB,MAAX,EAAkB;IAAC,MAAM/B,CAAC,GAAC,CAACJ,CAAC,CAACwB,CAAF,GAAIxB,CAAC,CAAC0B,CAAP,IAAU,CAAlB;IAAA,MAAoBjB,CAAC,GAACQ,CAAC,CAACA,CAAC,CAACkB,MAAF,GAAS,CAAV,CAAvB;IAAA,MAAoC3B,CAAC,GAAC,CAACC,CAAC,CAACe,CAAF,GAAIf,CAAC,CAACiB,CAAP,IAAU,CAAhD;IAAA,MAAkDN,CAAC,GAAC,CAACT,CAAC,CAACa,CAAF,GAAIb,CAAC,CAACe,CAAP,IAAU,CAA9D;IAAgE,IAAGtB,CAAC,IAAEgB,CAAN,EAAQP,CAAC,GAAC,CAAF,CAAR,KAAiB,IAAGT,CAAC,IAAEI,CAAN,EAAQK,CAAC,GAACI,CAAC,CAACkB,MAAJ,EAAWpB,CAAC,GAACX,CAAC,GAACI,CAAF,GAAI,CAAjB,CAAR,KAA+B;MAAC,IAAIR,CAAJ;MAAA,IAAME,CAAC,GAACkB,CAAR;;MAAU,KAAI,IAAId,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEW,CAAC,CAACkB,MAAjB,EAAwB7B,CAAC,EAAzB,EAA4B;QAAC,IAAGN,CAAC,GAAC,CAACiB,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,CAAOkB,CAAP,GAASP,CAAC,CAACX,CAAC,GAAC,CAAH,CAAD,CAAOoB,CAAjB,IAAoB,CAAtB,EAAwBtB,CAAC,IAAEJ,CAA9B,EAAgC;UAACI,CAAC,KAAGJ,CAAJ,GAAMa,CAAC,GAACP,CAAR,GAAU,WAASC,CAAT,IAAYM,CAAC,GAACP,CAAC,GAAC,CAAJ,EAAMS,CAAC,GAACX,CAAC,GAACF,CAAF,GAAI,CAAxB,IAA2BW,CAAC,GAAC,SAAON,CAAP,IAAUH,CAAC,GAACF,CAAF,GAAIF,CAAC,GAACI,CAAhB,IAAmBA,CAAC,GAACF,CAAF,GAAI,CAAvB,GAAyBI,CAAzB,GAA2BA,CAAC,GAAC,CAApE;UAAsE;QAAM;;QAAAJ,CAAC,GAACF,CAAF;MAAI;IAAC;IAAA,MAAMsB,CAAC,GAAC,MAAIT,CAAJ,GAAMF,CAAN,GAAQM,CAAC,CAACJ,CAAC,GAAC,CAAH,CAAjB;;IAAuB,IAAGE,CAAH,EAAK;MAACwB,IAAI,CAACmE,GAAL,CAASpF,CAAC,CAACE,CAAX,EAAaF,CAAC,CAACI,CAAf,IAAkBpB,CAAC,CAACJ,CAAC,CAACiD,gBAAH,CAAnB,GAAwC,KAAxC,KAAgDpC,CAAC,GAAC,CAAC,CAAnD;IAAsD;;IAAA,OAAM;MAAC8K,YAAY,EAAChL,CAAd;MAAgBiL,iBAAiB,EAAC,IAAIrK,CAAJ,CAAM;QAACD,CAAC,EAACF,CAAC,CAACE,CAAL;QAAOE,CAAC,EAACJ,CAAC,CAACI,CAAX;QAAayB,gBAAgB,EAACjD,CAAC,CAACiD;MAAhC,CAAN,CAAlC;MAA2F4I,gBAAgB,EAAChL;IAA5G,CAAN;EAAqH;;EAAA,MAAMP,CAAC,GAAC+B,IAAI,CAACyJ,GAAL,CAAShM,CAAC,CAACwB,CAAF,GAAIb,CAAC,CAACa,CAAf,IAAkBe,IAAI,CAAC0J,GAA/B;EAAA,MAAmC7K,CAAC,GAACmB,IAAI,CAACyJ,GAAL,CAAShM,CAAC,CAAC0B,CAAF,GAAIf,CAAC,CAACe,CAAf,IAAkBa,IAAI,CAAC0J,GAA5D;EAAA,MAAgE3K,CAAC,GAACpB,CAAC,CAAC6I,WAAF,CAAcO,mBAAd,IAAmC,CAArG;EAAuGzI,CAAC,GAAC,WAASN,CAAT,GAAWgC,IAAI,CAACsG,KAAL,CAAWtG,IAAI,CAACmE,GAAL,CAASlG,CAAT,EAAWY,CAAX,CAAX,CAAX,GAAqC,SAAOb,CAAP,GAASgC,IAAI,CAACoH,IAAL,CAAUpH,IAAI,CAACkE,GAAL,CAASjG,CAAT,EAAWY,CAAX,CAAV,CAAT,GAAkCmB,IAAI,CAACqH,KAAL,CAAW,CAACpJ,CAAC,GAACY,CAAH,IAAM,CAAjB,CAAzE,EAA6FP,CAAC,GAAC,CAAF,GAAIA,CAAC,GAAC,CAAN,GAAQA,CAAC,GAACS,CAAF,KAAMP,CAAC,GAACF,CAAC,GAACS,CAAC,GAAC,CAAN,EAAQT,CAAC,GAACS,CAAhB,CAArG;EAAwH,MAAMV,CAAC,GAAC,KAAGC,CAAX;EAAa,OAAM;IAACgL,YAAY,EAAChL,CAAd;IAAgBiL,iBAAiB,EAAC,IAAIrK,CAAJ,CAAM;MAACD,CAAC,EAACZ,CAAC,GAACV,CAAC,CAACkJ,eAAF,CAAkB5H,CAAvB;MAAyBE,CAAC,EAACd,CAAC,GAACV,CAAC,CAACkJ,eAAF,CAAkB1H,CAA/C;MAAiDyB,gBAAgB,EAACjD,CAAC,CAACiD;IAApE,CAAN,CAAlC;IAA+H4I,gBAAgB,EAAChL;EAAhJ,CAAN;AAAyJ;;AAAA,SAASmL,EAAT,CAAYlM,CAAZ,EAAcE,CAAd,EAAgBK,CAAC,GAAC,GAAlB,EAAsBE,CAAC,GAAC,CAAC,CAAzB,EAA2B;EAAC,MAAK;IAAC4I,MAAM,EAAC1I,CAAR;IAAUwC,gBAAgB,EAACtC,CAA3B;IAA6BwK,SAAS,EAACtK;EAAvC,IAA0Cf,CAA/C;EAAA,MAAiDiB,CAAC,GAACmC,CAAC,CAAC,IAAI3B,CAAJ,CAAM;IAACD,CAAC,EAACT,CAAC,CAACS,CAAL;IAAOE,CAAC,EAACX,CAAC,CAACW,CAAX;IAAayB,gBAAgB,EAACtC;EAA9B,CAAN,CAAD,EAAyCX,CAAzC,EAA2CS,CAA3C,CAApD;EAAkG,IAAG,QAAMM,CAAT,EAAW,OAAM;IAACkL,kBAAkB,EAAC,IAApB;IAAyBC,MAAM,EAAC,IAAhC;IAAqCC,cAAc,EAAC,IAApD;IAAyDC,oBAAoB,EAAC,CAAC;EAA/E,CAAN;EAAwF,MAAM9L,CAAC,GAAC,CAACS,CAAC,CAACO,CAAF,GAAIP,CAAC,CAACS,CAAP,IAAU,CAAlB;EAAA,MAAoBN,CAAC,GAACd,CAAC,CAACJ,CAAD,CAAvB;EAAA,MAA2BoB,CAAC,GAACd,CAAC,GAACY,CAAF,GAAI,EAAJ,GAAO,KAApC;EAAA,MAA0CR,CAAC,GAACV,CAAC,CAACyE,YAAF,GAAe,MAAIpE,CAAJ,GAAM,iBAArB,GAAuC,MAAIA,CAAJ,GAAM,gBAAzF;EAA0G,IAAIiB,CAAC,GAAC,oBAAkBxB,CAAC,CAACuM,QAApB,IAA8B,gBAAcvM,CAAC,CAACuM,QAApD;EAA6D,MAAM7L,CAAC,GAACyH,CAAC,CAACxH,CAAD,EAAGT,CAAH,CAAT;EAAA,MAAewB,CAAC,GAACa,IAAI,CAACmE,GAAL,CAASnE,IAAI,CAACoH,IAAL,CAAUpH,IAAI,CAACyJ,GAAL,CAASzJ,IAAI,CAACmE,GAAL,CAAS1G,CAAC,CAAC4D,KAAX,EAAiB5D,CAAC,CAAC6D,MAAnB,IAA2B,EAApC,IAAwCtB,IAAI,CAAC0J,GAAvD,CAAT,EAAqE1J,IAAI,CAACoH,IAAL,CAAUpH,IAAI,CAACyJ,GAAL,CAASpL,CAAC,GAAC,CAAF,GAAIU,CAAb,IAAgBiB,IAAI,CAAC0J,GAA/B,CAArE,CAAjB;;EAA2H,IAAG,CAACzK,CAAD,IAAIf,CAAJ,KAAQP,CAAC,CAACyE,YAAF,IAAgBzE,CAAC,CAACsE,aAA1B,MAA2ChD,CAAC,GAACd,CAAC,CAAC6C,IAAF,GAAO7C,CAAC,CAAC8C,IAAT,GAAc,CAAhB,EAAkB,CAAChC,CAAD,IAAIE,CAAC,GAAC,CAAnE,CAAH,EAAyE;IAAC,MAAM1B,CAAC,GAAC2D,CAAC,CAACzD,CAAD,CAAT;;IAAa,IAAGE,CAAC,CAACJ,CAAD,CAAJ,EAAQ;MAAC,MAAME,CAAC,GAAC,KAAGwB,CAAH,GAAKlB,CAAL,GAAOD,CAAf;MAAA,MAAiBH,CAAC,GAACmC,IAAI,CAACoH,IAAL,CAAU3J,CAAC,GAACE,CAAZ,CAAnB;MAAkCsB,CAAC,GAAC,MAAIpB,CAAJ,IAAO,MAAIA,CAAJ,IAAOJ,CAAC,GAAC,CAAF,GAAIU,CAAC,CAAC8C,IAAN,GAAWtD,CAA3B;IAA6B;EAAC;;EAAA,IAAIyB,CAAJ;EAAA,IAAMC,CAAC,GAACN,CAAR;EAAU,MAAMO,CAAC,GAAC,KAAR;;EAAc,IAAGL,CAAH,EAAK;IAACI,CAAC,GAAChB,CAAF;IAAI,MAAMZ,CAAC,GAACE,CAAC,CAACyE,YAAF,GAAe,oBAAf,GAAoC,kBAA5C;IAAA,MAA+DvE,CAAC,GAACJ,CAAC,IAAE,KAAGoB,CAAH,GAAK,KAAP,CAAlE;IAAA,MAAgFd,CAAC,GAACJ,CAAC,CAACyE,YAAF,GAAe,IAAf,GAAoB,IAAtG;IAA2GhD,CAAC,GAACyB,CAAC,CAAC,IAAI3B,CAAJ,CAAM;MAACD,CAAC,EAACxB,CAAH;MAAK0B,CAAC,EAAC1B,CAAP;MAASmD,gBAAgB,EAAC;QAAC+B,IAAI,EAAC5E;MAAN;IAA1B,CAAN,CAAD,EAA4CO,CAA5C,EAA8CH,CAA9C,CAAH,EAAoDiB,CAAC,CAACH,CAAF,IAAKI,CAAC,GAACxB,CAA3D,EAA6DuB,CAAC,CAACD,CAAF,IAAKE,CAAC,GAACxB,CAApE;EAAsE,CAA3L,MAA+L;IAACuB,CAAC,GAAC;MAACH,CAAC,EAACT,CAAC,CAACS,CAAL;MAAOE,CAAC,EAACX,CAAC,CAACW;IAAX,CAAF;IAAgB,IAAI1B,CAAC,GAAC,CAAN;;IAAQ,OAAK4B,CAAC,GAAChB,CAAC,IAAEiB,CAAC,GAAC,CAAJ,CAAH,IAAW7B,CAAC,GAAC0B,CAAlB,GAAqB1B,CAAC,IAAG4B,CAAC,IAAE,CAAN,EAAQD,CAAC,CAACH,CAAF,IAAK,CAAb,EAAeG,CAAC,CAACD,CAAF,IAAK,CAArB;;IAAuBa,IAAI,CAACkE,GAAL,CAAS7E,CAAT,EAAWhB,CAAX,IAAc2B,IAAI,CAACmE,GAAL,CAAS9E,CAAT,EAAWhB,CAAX,CAAd,IAA6BiB,CAA7B,KAAiCD,CAAC,GAAChB,CAAnC;EAAsC;;EAAA,MAAMsB,CAAC,GAAC,CAACN,CAAD,CAAR;EAAA,MAAYa,CAAC,GAAC,CAAC;IAACjB,CAAC,EAACG,CAAC,CAACH,CAAL;IAAOE,CAAC,EAACC,CAAC,CAACD;EAAX,CAAD,CAAd;EAAA,MAA8BgB,CAAC,GAAC,UAAhC;EAAA,MAA2CC,CAAC,GAACJ,IAAI,CAACmE,GAAL,CAAShE,CAAT,EAAWpB,CAAX,IAAcO,CAA3D;;EAA6D,OAAKD,CAAC,IAAEe,CAAR,GAAWf,CAAC,IAAE,CAAH,EAAKD,CAAC,CAACH,CAAF,IAAK,CAAV,EAAYG,CAAC,CAACD,CAAF,IAAK,CAAjB,EAAmBQ,CAAC,CAACmE,IAAF,CAAOzE,CAAP,CAAnB,EAA6Ba,CAAC,CAAC4D,IAAF,CAAO;IAAC7E,CAAC,EAACG,CAAC,CAACH,CAAL;IAAOE,CAAC,EAACC,CAAC,CAACD;EAAX,CAAP,CAA7B;;EAAmD,OAAM;IAACyK,kBAAkB,EAAClL,CAApB;IAAsBmL,MAAM,EAAClK,CAA7B;IAA+BmK,cAAc,EAAC5J,CAA9C;IAAgD6J,oBAAoB,EAAC,CAAC9K;EAAtE,CAAN;AAA+E;;AAAA,SAAO0K,EAAE,IAAIM,sBAAb,EAAoC9J,CAAC,IAAI+J,kBAAzC,EAA4D7J,CAAC,IAAI8J,kCAAjE,EAAoGxJ,CAAC,IAAIyJ,uCAAzG,EAAiJ1I,CAAC,IAAI2I,sBAAtJ,EAA6KrC,CAAC,IAAIsC,uBAAlL,EAA0M/D,CAAC,IAAIgE,6BAA/M,EAA6OnJ,CAAC,IAAIoJ,aAAlP,EAAgQ3E,CAAC,IAAI4E,iBAArQ,EAAuR/J,CAAC,IAAI9B,IAA5R,EAAiSwB,CAAC,IAAIsK,kBAAtS,EAAyT9E,CAAC,IAAI+E,aAA9T,EAA4UpM,CAAC,IAAIqM,YAAjV,EAA8V/J,CAAC,IAAIgK,iBAAnW,EAAqXxL,CAAC,IAAIyL,SAA1X,EAAoY3B,EAAE,IAAI4B,UAA1Y,EAAqZ3B,EAAE,IAAI4B,WAA3Z"},"metadata":{},"sourceType":"module"}