{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport r from \"../../core/Evented.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport { IdentifiableMixin as i } from \"../../core/Identifiable.js\";\nimport o from \"../../core/Logger.js\";\nimport { unwrapOr as n } from \"../../core/maybe.js\";\nimport { EsriPromiseMixin as l } from \"../../core/Promise.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as p } from \"../../core/accessorSupport/decorators/subclass.js\";\nlet d = class extends s(i(l(r.EventedMixin(t)))) {\n  constructor(e) {\n    super(e), this.layer = null, this.parent = null;\n  }\n\n  initialize() {\n    this.when().catch(e => {\n      if (\"layerview:create-error\" !== e.name) {\n        const t = this.layer && this.layer.id || \"no id\",\n              r = this.layer && this.layer.title || \"no title\";\n        o.getLogger(this.declaredClass).error(\"#resolve()\", `Failed to resolve layer view (layer title: '${r}', id: '${t}')`, e);\n      }\n    });\n  }\n\n  get fullOpacity() {\n    return n(this.get(\"layer.opacity\"), 1) * n(this.get(\"parent.fullOpacity\"), 1);\n  }\n\n  get suspended() {\n    return !this.canResume();\n  }\n\n  get suspendInfo() {\n    return this.getSuspendInfo();\n  }\n\n  get legendEnabled() {\n    return !this.suspended && !0 === this.layer?.legendEnabled;\n  }\n\n  get updating() {\n    return !(!this.updatingHandles?.updating && !this.isUpdating());\n  }\n\n  get updatingProgress() {\n    return this.updating ? 0 : 1;\n  }\n\n  get visible() {\n    return !0 === this.layer?.visible;\n  }\n\n  set visible(e) {\n    this._overrideIfSome(\"visible\", e);\n  }\n\n  canResume() {\n    return this.visible && this.layer?.loaded && !this.parent?.suspended && this.view?.ready || !1;\n  }\n\n  getSuspendInfo() {\n    const e = this.parent && this.parent.suspended ? this.parent.suspendInfo : {},\n          t = this;\n    return t.view && t.view.ready || (e.viewNotReady = !0), this.layer && this.layer.loaded || (e.layerNotLoaded = !0), this.visible || (e.layerInvisible = !0), e;\n  }\n\n  isUpdating() {\n    return !1;\n  }\n\n};\ne([a()], d.prototype, \"fullOpacity\", null), e([a()], d.prototype, \"layer\", void 0), e([a()], d.prototype, \"parent\", void 0), e([a({\n  readOnly: !0\n})], d.prototype, \"suspended\", null), e([a({\n  readOnly: !0\n})], d.prototype, \"suspendInfo\", null), e([a({\n  readOnly: !0\n})], d.prototype, \"legendEnabled\", null), e([a({\n  type: Boolean,\n  readOnly: !0\n})], d.prototype, \"updating\", null), e([a({\n  readOnly: !0\n})], d.prototype, \"updatingProgress\", null), e([a()], d.prototype, \"visible\", null), e([a()], d.prototype, \"view\", void 0), d = e([p(\"esri.views.layers.LayerView\")], d);\nconst u = d;\nexport { u as default };","map":{"version":3,"names":["_","e","t","r","HandleOwnerMixin","s","IdentifiableMixin","i","o","unwrapOr","n","EsriPromiseMixin","l","property","a","subclass","p","d","EventedMixin","constructor","layer","parent","initialize","when","catch","name","id","title","getLogger","declaredClass","error","fullOpacity","get","suspended","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingHandles","isUpdating","updatingProgress","visible","_overrideIfSome","loaded","view","ready","viewNotReady","layerNotLoaded","layerInvisible","prototype","readOnly","type","Boolean","u","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}