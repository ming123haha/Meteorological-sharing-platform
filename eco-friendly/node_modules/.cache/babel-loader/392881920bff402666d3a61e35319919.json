{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport has from \"../../core/has.js\";\nimport { unwrap as i } from \"../../core/maybe.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as f } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { EffectView as c } from \"./EffectView.js\";\nlet r = class extends t {\n  constructor(e) {\n    super(e), this._filter = null, this.duration = has(\"mapview-transitions-duration\"), this._excludedEffectView = new c(e), this._includedEffectView = new c(e);\n  }\n\n  get excludedEffects() {\n    return this._excludedEffectView.effects;\n  }\n\n  set featureEffect(e) {\n    this._get(\"featureEffect\") !== e && this._transitionTo(e);\n  }\n\n  get filter() {\n    return this._filter || i(this.featureEffect)?.filter || null;\n  }\n\n  get hasEffects() {\n    return this._excludedEffectView.hasEffects || this._includedEffectView.hasEffects;\n  }\n\n  get includedEffects() {\n    return this._includedEffectView.effects;\n  }\n\n  set scale(e) {\n    this._set(\"scale\", e), this._excludedEffectView.scale = e, this._includedEffectView.scale = e;\n  }\n\n  get transitioning() {\n    return this._excludedEffectView.transitioning || this._includedEffectView.transitioning;\n  }\n\n  transitionStep(e, t) {\n    this._set(\"scale\", t), this.transitioning ? (this._includedEffectView.transitionStep(e, t), this._excludedEffectView.transitionStep(e, t), this.transitioning || (this._filter = null)) : (this._excludedEffectView.scale = t, this._includedEffectView.scale = t);\n  }\n\n  endTransitions() {\n    this._includedEffectView.endTransitions(), this._excludedEffectView.endTransitions(), this._filter = null;\n  }\n\n  _transitionTo(e) {\n    const t = this._get(\"featureEffect\"),\n          s = i(e),\n          f = i(s?.includedEffect),\n          c = i(s?.excludedEffect),\n          r = this._includedEffectView.canTransitionTo(f) && this._excludedEffectView.canTransitionTo(c);\n\n    this._includedEffectView.effect = f, this._excludedEffectView.effect = c, this._set(\"featureEffect\", s), this._filter = s?.filter || t?.filter || null, r || this.endTransitions();\n  }\n\n};\ne([s()], r.prototype, \"_filter\", void 0), e([s()], r.prototype, \"_excludedEffectView\", void 0), e([s()], r.prototype, \"_includedEffectView\", void 0), e([s()], r.prototype, \"duration\", void 0), e([s()], r.prototype, \"excludedEffects\", null), e([s()], r.prototype, \"featureEffect\", null), e([s()], r.prototype, \"filter\", null), e([s()], r.prototype, \"hasEffects\", null), e([s()], r.prototype, \"includedEffects\", null), e([s({\n  value: 0\n})], r.prototype, \"scale\", null), e([s()], r.prototype, \"transitioning\", null), r = e([f(\"esri.layers.effects.FeatureEffectView\")], r);\nconst o = r;\nexport { o as default };","map":{"version":3,"names":["_","e","t","has","unwrap","i","property","s","subclass","f","EffectView","c","r","constructor","_filter","duration","_excludedEffectView","_includedEffectView","excludedEffects","effects","featureEffect","_get","_transitionTo","filter","hasEffects","includedEffects","scale","_set","transitioning","transitionStep","endTransitions","includedEffect","excludedEffect","canTransitionTo","effect","prototype","value","o","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/effects/FeatureEffectView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{unwrap as i}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{EffectView as c}from\"./EffectView.js\";let r=class extends t{constructor(e){super(e),this._filter=null,this.duration=has(\"mapview-transitions-duration\"),this._excludedEffectView=new c(e),this._includedEffectView=new c(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get(\"featureEffect\")!==e&&this._transitionTo(e)}get filter(){return this._filter||i(this.featureEffect)?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set(\"scale\",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set(\"scale\",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransitions(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null}_transitionTo(e){const t=this._get(\"featureEffect\"),s=i(e),f=i(s?.includedEffect),c=i(s?.excludedEffect),r=this._includedEffectView.canTransitionTo(f)&&this._excludedEffectView.canTransitionTo(c);this._includedEffectView.effect=f,this._excludedEffectView.effect=c,this._set(\"featureEffect\",s),this._filter=s?.filter||t?.filter||null,r||this.endTransitions()}};e([s()],r.prototype,\"_filter\",void 0),e([s()],r.prototype,\"_excludedEffectView\",void 0),e([s()],r.prototype,\"_includedEffectView\",void 0),e([s()],r.prototype,\"duration\",void 0),e([s()],r.prototype,\"excludedEffects\",null),e([s()],r.prototype,\"featureEffect\",null),e([s()],r.prototype,\"filter\",null),e([s()],r.prototype,\"hasEffects\",null),e([s()],r.prototype,\"includedEffects\",null),e([s({value:0})],r.prototype,\"scale\",null),e([s()],r.prototype,\"transitioning\",null),r=e([f(\"esri.layers.effects.FeatureEffectView\")],r);const o=r;export{o as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}