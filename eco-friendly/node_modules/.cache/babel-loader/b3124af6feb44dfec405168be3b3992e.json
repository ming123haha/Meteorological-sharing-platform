{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.error.cause.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport i from \"../../../../analysis/SlicePlane.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport a from \"../../../../core/Handles.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { isNone as l, isSome as r } from \"../../../../core/maybe.js\";\nimport { watch as n, whenOnce as o } from \"../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as d } from \"../../../../chunks/boundedPlane.js\";\nimport u from \"../../../../layers/Layer.js\";\nimport y from \"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";\nimport { isIBuildingSceneLayerView3D as p, projectAndElevationAlignShape as w, projectedShapeToPlane as v, planeToShape as m } from \"./sliceToolUtils.js\";\nimport { logFailedGeometryProjectionError as f } from \"../support/projectionUtils.js\";\nimport { isTerrainSurfaceLayer as _ } from \"../../terrain/terrainUtils.js\";\nconst V = s.getLogger(\"esri.views.3d.analysis.Slice.SliceController\");\nlet g = class extends t {\n  constructor(e) {\n    super(e), this._handles = new a(), this._internalChange = !1, this._currentSlicePlane = null, this.state = \"ready\";\n  }\n\n  get ready() {\n    return \"ready\" === this.state;\n  }\n\n  initialize() {\n    this._handles.add(this.analysis.excludedLayers.on(\"before-add\", e => {\n      const i = e.item;\n      null != i && (i instanceof u || i instanceof y) ? i instanceof u && _(i) ? (V.error(\"excludedLayers\", `Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`), e.preventDefault()) : this.analysis.excludedLayers.includes(i) && e.preventDefault() : (V.error(\"excludedLayers\", \"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"), e.preventDefault());\n    })), C(this.view, this), this._handles.add([n(() => this.analysisViewData.plane, () => {\n      this._internalChange || this._updateSlicePlaneFromBoundedPlane(), this._updateLayerViews();\n    }, {\n      sync: !0\n    }), n(() => this.analysis.excludeGroundSurface, () => this._updateLayerViews(), {\n      sync: !0\n    }), this.analysis.excludedLayers.on(\"change\", () => this._updateLayerViews()), n(() => [this.analysisViewData.active, this.analysisViewData.visible], () => {\n      this._updateActiveController(), this._updateViewSlicePlane();\n    }, {\n      sync: !0\n    }), n(() => this._allLayerAndSubLayerViews, () => this._updateLayerViews())]), this._handles.add([n(() => this.analysis.shape, () => {\n      this._internalChange || (this._updateBoundedPlaneFromSlicePlane(), this._updateViewSlicePlane());\n    }, {\n      sync: !0\n    })], \"analysis\"), this._set(\"state\", \"ready\"), this._updateActiveController(), this._updateBoundedPlaneFromSlicePlane(), this._updateViewSlicePlane();\n  }\n\n  destroy() {\n    \"destroyed\" !== this.state && (this.analysisViewData.active && (this.analysisViewData.active = !1, this.view.slicePlane = null), j(this.view, this), this._handles.destroy(), this.set(\"view\", null), this._set(\"state\", \"destroyed\"));\n  }\n\n  async whenReady() {\n    return await o(() => this.ready), this;\n  }\n\n  get _allLayerAndSubLayerViews() {\n    const e = this.view.allLayerViews.items;\n    return e.concat(e.filter(p).flatMap(({\n      sublayerViews: e\n    }) => e.items));\n  }\n\n  _updateBoundedPlaneFromSlicePlane() {\n    const e = this.analysis.shape,\n          i = this._currentSlicePlane;\n    if (l(i) && l(e) || r(i) && r(e) && e.equals(i)) return;\n    let t = null,\n        a = null;\n\n    if (r(e) && r(e.position)) {\n      const i = e.position.spatialReference,\n            s = w(e, this.view);\n      l(s) && f(this.analysis, i, V), t = v(s, this.view, {\n        tiltEnabled: this.analysis.tiltEnabled\n      }, d()), r(t) && (a = {\n        heading: e.heading,\n        tilt: e.tilt,\n        position: e.position,\n        width: e.width,\n        height: e.height\n      });\n    }\n\n    this._currentSlicePlane = a, this._internalChange = !0, this.analysisViewData.plane = t, this._internalChange = !1;\n  }\n\n  _updateSlicePlaneFromBoundedPlane() {\n    const e = this.analysisViewData.plane,\n          t = m(e, this.view, this.view.spatialReference, new i());\n    let a = null;\n    r(t) && (a = {\n      heading: t.heading,\n      tilt: t.tilt,\n      position: t.position,\n      width: t.width,\n      height: t.height\n    }), this._currentSlicePlane = a, this._internalChange = !0, this.analysis.shape = t, this._internalChange = !1, this._updateViewSlicePlane();\n  }\n\n  _updateActiveController() {\n    if (b) return;\n    const e = L(this.view);\n    if (this.analysisViewData.active) r(e.activeController) && e.activeController !== this ? (b = !0, e.activeController.analysisViewData.active = !1, b = !1) : r(e.activeController) && e.activeController, this._updateLayerViews(), e.activeController = this;else {\n      if (r(e.activeController) && e.activeController !== this) return;\n      r(e.activeController) && e.activeController === this && (e.activeController = null, this._updateLayerViews());\n    }\n  }\n\n  _updateViewSlicePlane() {\n    \"ready\" === this.state && P(this.view);\n  }\n\n  _updateLayerViews() {\n    const e = r(this.analysisViewData.plane) && this.analysisViewData.visible && this.analysisViewData.active,\n          i = [],\n          t = e => {\n      \"layers\" in e ? e.layers.forEach(t) : i.push(e);\n    };\n\n    this.analysis.excludedLayers.forEach(t), this.view.allLayerViews.forEach(t => {\n      t.destroyed || (\"slicePlaneEnabled\" in t && (t.slicePlaneEnabled = e && !i.includes(t.layer)), \"sublayerViews\" in t && t.sublayerViews.forEach(t => {\n        t.slicePlaneEnabled = e && !i.includes(t.sublayer);\n      }));\n    }), null != this.view.basemapTerrain && (this.view.basemapTerrain.slicePlaneEnabled = e && !this.analysis.excludeGroundSurface);\n  }\n\n};\ne([c({\n  readOnly: !0\n})], g.prototype, \"state\", void 0), e([c()], g.prototype, \"view\", void 0), e([c()], g.prototype, \"analysis\", void 0), e([c()], g.prototype, \"analysisViewData\", void 0), e([c()], g.prototype, \"ready\", null), e([c()], g.prototype, \"_allLayerAndSubLayerViews\", null), g = e([h(\"esri.views.3d.analysis.Slice.SliceController\")], g);\nconst S = new Map();\nlet b = !1;\n\nfunction P(e) {\n  const i = L(e).activeController;\n  r(i) && r(i.analysisViewData.plane) && i.analysisViewData.visible ? e.slicePlane = i.analysisViewData.plane : e.slicePlane = null;\n}\n\nfunction C(e, i) {\n  S.has(e) || S.set(e, {\n    all: [],\n    activeController: null\n  }), S.get(e).all.push(i);\n}\n\nfunction L(e) {\n  return S.get(e);\n}\n\nfunction j(e, i) {\n  if (!S.has(e)) throw new Error(\"view expected in global slice register\");\n  const t = S.get(e),\n        a = t.all.lastIndexOf(i);\n  if (-1 === a) throw new Error(\"controller expected in global slice register\");\n  t.all.splice(a, 1), 0 === t.all.length && S.delete(e);\n}\n\nexport { g as SliceController };","map":{"version":3,"names":["_","e","i","t","a","s","isNone","l","isSome","r","watch","n","whenOnce","o","property","c","subclass","h","d","u","y","isIBuildingSceneLayerView3D","p","projectAndElevationAlignShape","w","projectedShapeToPlane","v","planeToShape","m","logFailedGeometryProjectionError","f","isTerrainSurfaceLayer","V","getLogger","g","constructor","_handles","_internalChange","_currentSlicePlane","state","ready","initialize","add","analysis","excludedLayers","on","item","error","title","id","type","preventDefault","includes","C","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","visible","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","_set","destroy","slicePlane","j","set","whenReady","allLayerViews","items","concat","filter","flatMap","sublayerViews","equals","position","spatialReference","tiltEnabled","heading","tilt","width","height","b","L","activeController","P","layers","forEach","push","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","readOnly","prototype","S","Map","has","all","get","Error","lastIndexOf","splice","length","delete","SliceController"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import t from\"../../../../core/Accessor.js\";import a from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{isNone as l,isSome as r}from\"../../../../core/maybe.js\";import{watch as n,whenOnce as o}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as d}from\"../../../../chunks/boundedPlane.js\";import u from\"../../../../layers/Layer.js\";import y from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as p,projectAndElevationAlignShape as w,projectedShapeToPlane as v,planeToShape as m}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as f}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as _}from\"../../terrain/terrainUtils.js\";const V=s.getLogger(\"esri.views.3d.analysis.Slice.SliceController\");let g=class extends t{constructor(e){super(e),this._handles=new a,this._internalChange=!1,this._currentSlicePlane=null,this.state=\"ready\"}get ready(){return\"ready\"===this.state}initialize(){this._handles.add(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof u||i instanceof y)?i instanceof u&&_(i)?(V.error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(V.error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),C(this.view,this),this._handles.add([n((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),n((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),n((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),n((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this._handles.add([n((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._set(\"state\",\"ready\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){\"destroyed\"!==this.state&&(this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null),j(this.view,this),this._handles.destroy(),this.set(\"view\",null),this._set(\"state\",\"destroyed\"))}async whenReady(){return await o((()=>this.ready)),this}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(p).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(l(i)&&l(e)||r(i)&&r(e)&&e.equals(i))return;let t=null,a=null;if(r(e)&&r(e.position)){const i=e.position.spatialReference,s=w(e,this.view);l(s)&&f(this.analysis,i,V),t=v(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},d()),r(t)&&(a={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=a,this._internalChange=!0,this.analysisViewData.plane=t,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,t=m(e,this.view,this.view.spatialReference,new i);let a=null;r(t)&&(a={heading:t.heading,tilt:t.tilt,position:t.position,width:t.width,height:t.height}),this._currentSlicePlane=a,this._internalChange=!0,this.analysis.shape=t,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(b)return;const e=L(this.view);if(this.analysisViewData.active)r(e.activeController)&&e.activeController!==this?(b=!0,e.activeController.analysisViewData.active=!1,b=!1):r(e.activeController)&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(r(e.activeController)&&e.activeController!==this)return;r(e.activeController)&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){\"ready\"===this.state&&P(this.view)}_updateLayerViews(){const e=r(this.analysisViewData.plane)&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],t=e=>{\"layers\"in e?e.layers.forEach(t):i.push(e)};this.analysis.excludedLayers.forEach(t),this.view.allLayerViews.forEach((t=>{t.destroyed||(\"slicePlaneEnabled\"in t&&(t.slicePlaneEnabled=e&&!i.includes(t.layer)),\"sublayerViews\"in t&&t.sublayerViews.forEach((t=>{t.slicePlaneEnabled=e&&!i.includes(t.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([c({readOnly:!0})],g.prototype,\"state\",void 0),e([c()],g.prototype,\"view\",void 0),e([c()],g.prototype,\"analysis\",void 0),e([c()],g.prototype,\"analysisViewData\",void 0),e([c()],g.prototype,\"ready\",null),e([c()],g.prototype,\"_allLayerAndSubLayerViews\",null),g=e([h(\"esri.views.3d.analysis.Slice.SliceController\")],g);const S=new Map;let b=!1;function P(e){const i=L(e).activeController;r(i)&&r(i.analysisViewData.plane)&&i.analysisViewData.visible?e.slicePlane=i.analysisViewData.plane:e.slicePlane=null}function C(e,i){S.has(e)||S.set(e,{all:[],activeController:null}),S.get(e).all.push(i)}function L(e){return S.get(e)}function j(e,i){if(!S.has(e))throw new Error(\"view expected in global slice register\");const t=S.get(e),a=t.all.lastIndexOf(i);if(-1===a)throw new Error(\"controller expected in global slice register\");t.all.splice(a,1),0===t.all.length&&S.delete(e)}export{g as SliceController};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}