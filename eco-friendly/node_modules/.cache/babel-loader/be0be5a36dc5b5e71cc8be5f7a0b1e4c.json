{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { makeHandle as e } from \"../../../../core/handleUtils.js\";\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { Object3DState as i } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { Object3DStateID as h } from \"../../webgl-engine/lib/Object3DStateID.js\";\n\nclass s {\n  constructor(e) {\n    this._context = e, this._highlights = new Set();\n  }\n\n  get hasHighlights() {\n    return this._highlights.size > 0;\n  }\n\n  destroy() {\n    this._highlights = null;\n  }\n\n  add(t) {\n    const i = new o(t);\n    return this._highlights.add(i), this._enableSet(i), e(() => this._removeSet(i));\n  }\n\n  _removeSet(e) {\n    this._disableSet(e), this._highlights.delete(e);\n  }\n\n  _enableSet(e) {\n    e.enabled || (e.enabled = !0, this._context.forEachNode(t => this._enableSetForNode(e, t)));\n  }\n\n  _enableSetForNode(e, t) {\n    if (!e.enabled) return;\n    const i = e.ids.get(t.id);\n    i && i.forEach(i => this._context.addHighlight(t, i, e.id));\n  }\n\n  _disableSet(e) {\n    e.enabled && (e.enabled = !1, this._context.forEachNode(t => this._disableSetForNode(e, t)));\n  }\n\n  _disableSetForNode(e, t) {\n    e.enabled || this._context.removeHighlight(t, e.id);\n  }\n\n  nodeAdded(e) {\n    this._highlights.forEach(t => this._enableSetForNode(t, e));\n  }\n\n  nodeRemoved(e) {\n    this._highlights.forEach(t => this._disableSetForNode(t, e));\n  }\n\n  removeAll() {\n    this._highlights.forEach(e => this._disableSet(e));\n  }\n\n}\n\nclass o {\n  constructor(e) {\n    this.id = new h(i.Highlight), this.ids = new Map(), this.enabled = !1;\n\n    for (const i of e) t(i) && this._add(i.nodeId, i.pointId);\n  }\n\n  _add(e, t) {\n    const i = this.ids.get(e);\n    i ? i.add(t) : this.ids.set(e, new Set([t]));\n  }\n\n}\n\nexport { s as PointHighlights };","map":{"version":3,"names":["makeHandle","e","isSome","t","Object3DState","i","Object3DStateID","h","s","constructor","_context","_highlights","Set","hasHighlights","size","destroy","add","o","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","forEach","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Highlight","Map","_add","nodeId","pointId","set","PointHighlights"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DState as i}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as h}from\"../../webgl-engine/lib/Object3DStateID.js\";class s{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new o(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class o{constructor(e){this.id=new h(i.Highlight),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this._add(i.nodeId,i.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{s as PointHighlights};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}