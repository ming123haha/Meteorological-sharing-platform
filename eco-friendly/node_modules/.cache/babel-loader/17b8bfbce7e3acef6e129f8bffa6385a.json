{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/Error.js\";\nimport { isSome as e, assertIsSome as i } from \"../../../core/maybe.js\";\nimport a from \"../PixelBlock.js\";\nimport s from \"./ImageCanvasDecoder.js\";\nimport r from \"./JpgPlus.js\";\nimport { load as n, decode as o } from \"./Lerc.js\";\nimport { decode as h } from \"./Lzw.js\";\nimport { Z as c } from \"../../../chunks/Zlib.js\";\nimport p from \"./Raw.js\";\nimport { decodeTileOrStrip as l, decode as d } from \"./TiffDecoder.js\";\nimport { isPlatformLittleEndian as u } from \"./utils.js\";\n\nvar f = function (t) {\n  var e, i, a, s, r, n;\n\n  function o(t) {\n    var e, i, a, s, r, n, o, h, c, p, l, d, u;\n\n    for (this.data = t, this.pos = 8, this.palette = [], this.imgData = [], this.transparency = {}, this.animation = null, this.text = {}, r = null;;) {\n      switch (e = this.readUInt32(), h = function () {\n        var t, e;\n\n        for (e = [], t = 0; t < 4; ++t) e.push(String.fromCharCode(this.data[this.pos++]));\n\n        return e;\n      }.call(this).join(\"\"), h) {\n        case \"IHDR\":\n          this.width = this.readUInt32(), this.height = this.readUInt32(), this.bits = this.data[this.pos++], this.colorType = this.data[this.pos++], this.compressionMethod = this.data[this.pos++], this.filterMethod = this.data[this.pos++], this.interlaceMethod = this.data[this.pos++];\n          break;\n\n        case \"acTL\":\n          this.animation = {\n            numFrames: this.readUInt32(),\n            numPlays: this.readUInt32() || 1 / 0,\n            frames: []\n          };\n          break;\n\n        case \"PLTE\":\n          this.palette = this.read(e);\n          break;\n\n        case \"fcTL\":\n          r && this.animation.frames.push(r), this.pos += 4, r = {\n            width: this.readUInt32(),\n            height: this.readUInt32(),\n            xOffset: this.readUInt32(),\n            yOffset: this.readUInt32()\n          }, s = this.readUInt16(), a = this.readUInt16() || 100, r.delay = 1e3 * s / a, r.disposeOp = this.data[this.pos++], r.blendOp = this.data[this.pos++], r.data = [];\n          break;\n\n        case \"IDAT\":\n        case \"fdAT\":\n          for (\"fdAT\" === h && (this.pos += 4, e -= 4), t = (null != r ? r.data : void 0) || this.imgData, l = 0; 0 <= e ? l < e : l > e; 0 <= e ? ++l : --l) t.push(this.data[this.pos++]);\n\n          break;\n\n        case \"tRNS\":\n          switch (this.transparency = {}, this.colorType) {\n            case 3:\n              if (this.transparency.indexed = this.read(e), (c = 255 - this.transparency.indexed.length) > 0) for (d = 0; 0 <= c ? d < c : d > c; 0 <= c ? ++d : --d) this.transparency.indexed.push(255);\n              break;\n\n            case 0:\n              this.transparency.grayscale = this.read(e)[0];\n              break;\n\n            case 2:\n              this.transparency.rgb = this.read(e);\n          }\n\n          break;\n\n        case \"tEXt\":\n          n = (p = this.read(e)).indexOf(0), o = String.fromCharCode.apply(String, p.slice(0, n)), this.text[o] = String.fromCharCode.apply(String, p.slice(n + 1));\n          break;\n\n        case \"IEND\":\n          return r && this.animation.frames.push(r), this.colors = function () {\n            switch (this.colorType) {\n              case 0:\n              case 3:\n              case 4:\n                return 1;\n\n              case 2:\n              case 6:\n                return 3;\n            }\n          }.call(this), this.hasAlphaChannel = 4 === (u = this.colorType) || 6 === u, i = this.colors + (this.hasAlphaChannel ? 1 : 0), this.pixelBitlength = this.bits * i, this.colorSpace = function () {\n            switch (this.colors) {\n              case 1:\n                return \"DeviceGray\";\n\n              case 3:\n                return \"DeviceRGB\";\n            }\n          }.call(this), void (this.imgData = new Uint8Array(this.imgData));\n\n        default:\n          this.pos += e;\n      }\n\n      if (this.pos += 4, this.pos > this.data.length) throw new Error(\"Incomplete or corrupt PNG file\");\n    }\n  }\n\n  return o.load = function (t, e, i) {\n    var a;\n    return \"function\" == typeof e && (i = e), (a = new XMLHttpRequest()).open(\"GET\", t, !0), a.responseType = \"arraybuffer\", a.onload = function () {\n      var t;\n      return t = new o(new Uint8Array(a.response || a.mozResponseArrayBuffer)), \"function\" == typeof (null != e ? e.getContext : void 0) && t.render(e), \"function\" == typeof i ? i(t) : void 0;\n    }, a.send(null);\n  }, i = 1, a = 2, e = 0, o.prototype.read = function (t) {\n    var e, i;\n\n    for (i = [], e = 0; 0 <= t ? e < t : e > t; 0 <= t ? ++e : --e) i.push(this.data[this.pos++]);\n\n    return i;\n  }, o.prototype.readUInt32 = function () {\n    return this.data[this.pos++] << 24 | this.data[this.pos++] << 16 | this.data[this.pos++] << 8 | this.data[this.pos++];\n  }, o.prototype.readUInt16 = function () {\n    return this.data[this.pos++] << 8 | this.data[this.pos++];\n  }, o.prototype.decodePixels = function (t) {\n    var e, i, a, s, r, n, o, h, p, l, d, u, f, m, g, w, y, x, b, k, I, T, v;\n    if (null == t && (t = this.imgData), 0 === t.length) return new Uint8Array(0);\n\n    for (t = (t = new c(t)).getBytes(), w = (u = this.pixelBitlength / 8) * this.width, f = new Uint8Array(w * this.height), n = t.length, g = 0, m = 0, i = 0; m < n;) {\n      switch (t[m++]) {\n        case 0:\n          for (s = b = 0; b < w; s = b += 1) f[i++] = t[m++];\n\n          break;\n\n        case 1:\n          for (s = k = 0; k < w; s = k += 1) e = t[m++], r = s < u ? 0 : f[i - u], f[i++] = (e + r) % 256;\n\n          break;\n\n        case 2:\n          for (s = I = 0; I < w; s = I += 1) e = t[m++], a = (s - s % u) / u, y = g && f[(g - 1) * w + a * u + s % u], f[i++] = (y + e) % 256;\n\n          break;\n\n        case 3:\n          for (s = T = 0; T < w; s = T += 1) e = t[m++], a = (s - s % u) / u, r = s < u ? 0 : f[i - u], y = g && f[(g - 1) * w + a * u + s % u], f[i++] = (e + Math.floor((r + y) / 2)) % 256;\n\n          break;\n\n        case 4:\n          for (s = v = 0; v < w; s = v += 1) e = t[m++], a = (s - s % u) / u, r = s < u ? 0 : f[i - u], 0 === g ? y = x = 0 : (y = f[(g - 1) * w + a * u + s % u], x = a && f[(g - 1) * w + (a - 1) * u + s % u]), o = r + y - x, h = Math.abs(o - r), l = Math.abs(o - y), d = Math.abs(o - x), p = h <= l && h <= d ? r : l <= d ? y : x, f[i++] = (e + p) % 256;\n\n          break;\n\n        default:\n          throw new Error(\"Invalid filter algorithm: \" + t[m - 1]);\n      }\n\n      g++;\n    }\n\n    return f;\n  }, o.prototype.decodePalette = function () {\n    var t, e, i, a, s, r, n, o, h;\n\n    for (i = this.palette, r = this.transparency.indexed || [], s = new Uint8Array((r.length || 0) + i.length), a = 0, i.length, t = 0, e = n = 0, o = i.length; n < o; e = n += 3) s[a++] = i[e], s[a++] = i[e + 1], s[a++] = i[e + 2], s[a++] = null != (h = r[t++]) ? h : 255;\n\n    return s;\n  }, o.prototype.copyToImageData = function (t, e) {\n    var i, a, s, r, n, o, h, c, p, l, d;\n    if (a = this.colors, p = null, i = this.hasAlphaChannel, this.palette.length && (p = null != (d = this._decodedPalette) ? d : this._decodedPalette = this.decodePalette(), a = 4, i = !0), c = (s = t.data || t).length, n = p || e, r = o = 0, 1 === a) for (; r < c;) h = p ? 4 * e[r / 4] : o, l = n[h++], s[r++] = l, s[r++] = l, s[r++] = l, s[r++] = i ? n[h++] : this.transparency.grayscale && this.transparency.grayscale === l ? 0 : 255, o = h;else for (; r < c;) h = p ? 4 * e[r / 4] : o, s[r++] = n[h++], s[r++] = n[h++], s[r++] = n[h++], s[r++] = i ? n[h++] : this.transparency.rgb && this.transparency.rgb[1] === n[h - 3] && this.transparency.rgb[3] === n[h - 2] && this.transparency.rgb[5] === n[h - 1] ? 0 : 255, o = h;\n  }, o.prototype.decode = function () {\n    var t;\n    return t = new Uint8Array(this.width * this.height * 4), this.copyToImageData(t, this.decodePixels()), t;\n  }, r = t.document && t.document.createElement(\"canvas\"), n = r && r.getContext(\"2d\"), s = function (t) {\n    var e;\n    return n.width = t.width, n.height = t.height, n.clearRect(0, 0, t.width, t.height), n.putImageData(t, 0, 0), (e = new Image()).src = r.toDataURL(), e;\n  }, o.prototype.decodeFrames = function (t) {\n    var e, i, a, r, n, o, h, c;\n\n    if (this.animation) {\n      for (c = [], i = n = 0, o = (h = this.animation.frames).length; n < o; i = ++n) e = h[i], a = t.createImageData(e.width, e.height), r = this.decodePixels(new Uint8Array(e.data)), this.copyToImageData(a, r), e.imageData = a, c.push(e.image = s(a));\n\n      return c;\n    }\n  }, o.prototype.renderFrame = function (t, s) {\n    var r, n, o;\n    return r = (n = this.animation.frames)[s], o = n[s - 1], 0 === s && t.clearRect(0, 0, this.width, this.height), (null != o ? o.disposeOp : void 0) === i ? t.clearRect(o.xOffset, o.yOffset, o.width, o.height) : (null != o ? o.disposeOp : void 0) === a && t.putImageData(o.imageData, o.xOffset, o.yOffset), r.blendOp === e && t.clearRect(r.xOffset, r.yOffset, r.width, r.height), t.drawImage(r.image, r.xOffset, r.yOffset);\n  }, o.prototype.animate = function (t) {\n    var e,\n        i,\n        a,\n        s,\n        r,\n        n,\n        o = this;\n    return i = 0, n = this.animation, s = n.numFrames, a = n.frames, r = n.numPlays, (e = function () {\n      var n, h;\n      if (n = i++ % s, h = a[n], o.renderFrame(t, n), s > 1 && i / s < r) return o.animation._timeout = setTimeout(e, h.delay);\n    })();\n  }, o.prototype.stopAnimation = function () {\n    var t;\n    return clearTimeout(null != (t = this.animation) ? t._timeout : void 0);\n  }, o.prototype.render = function (t) {\n    var e, i;\n    return t._png && t._png.stopAnimation(), t._png = this, t.width = this.width, t.height = this.height, e = t.getContext(\"2d\"), this.animation ? (this.decodeFrames(e), this.animate(e)) : (i = e.createImageData(this.width, this.height), this.copyToImageData(i, this.decodePixels()), e.putImageData(i, 0, 0));\n  }, o;\n}(self);\n\nconst m = new Set([\"jpg\", \"png\", \"bmp\", \"gif\"]);\n\nasync function g(e, i) {\n  if (!u) throw new t(\"rasterCoded:decode\", \"lerc decoder is not supported on big endian platform\");\n  await n();\n  const {\n    offset: s,\n    noDataValue: r\n  } = i,\n        {\n    width: h,\n    height: c,\n    pixelType: p,\n    statistics: l,\n    pixels: d,\n    mask: f\n  } = o(e, {\n    inputOffset: s,\n    noDataValue: r,\n    returnInterleaved: i.returnInterleaved\n  });\n  return new a({\n    width: h,\n    height: c,\n    pixelType: p.toLowerCase(),\n    pixels: d,\n    mask: f,\n    statistics: l\n  });\n}\n\nasync function w(t, e) {\n  const s = await d(t, e);\n  i(s);\n  const r = new a({\n    width: s.width,\n    height: s.height,\n    pixels: s.pixels,\n    pixelType: s.pixelType.toLowerCase(),\n    mask: s.mask,\n    statistics: null\n  });\n  return r.updateStatistics(), r;\n}\n\nasync function y(t, e) {\n  const i = await l(t, e.customOptions),\n        s = new a({\n    width: i.width,\n    height: i.height,\n    pixels: i.pixels,\n    pixelType: i.pixelType.toLowerCase(),\n    mask: i.mask,\n    statistics: null\n  });\n  return s.updateStatistics(), s;\n}\n\nfunction x(t, e) {\n  const i = e.pixelType || \"u8\",\n        s = a.getPixelArrayConstructor(i),\n        r = \"u8\" === i ? t : new s(t.buffer),\n        n = [],\n        o = e.planes || 1;\n  if (1 === o) n.push(r);else for (let a = 0; a < o; a++) {\n    const i = (e.width || 1) * (e.height || t.length),\n          h = new s(i);\n\n    for (let t = 0; t < i; t++) h[t] = r[t * o + a];\n\n    n.push(h);\n  }\n  const h = new a({\n    width: e.width || 1,\n    height: e.height || t.length,\n    pixels: n,\n    pixelType: i,\n    statistics: null\n  });\n  return h.updateStatistics(), h;\n}\n\nfunction b(t, e) {\n  return x(new c(new Uint8Array(t)).getBytes(), e);\n}\n\nfunction k(t, e) {\n  return x(h(t, e.offset, e.eof, !e.isInputBigEndian), e);\n}\n\nfunction I(t, e, i) {\n  const {\n    pixelTypeCtor: s\n  } = D(e.pixelType),\n        r = (0, p.decode)(t, {\n    width: e.width,\n    height: e.height,\n    pixelType: s,\n    format: i\n  }),\n        n = new a({\n    width: e.width,\n    height: e.height,\n    pixels: r.pixels,\n    pixelType: e.pixelType,\n    mask: r.mask,\n    statistics: null\n  });\n  return n.updateStatistics(), n;\n}\n\nfunction T(t, e) {\n  const i = r.decode(t, e.hasNoZlibMask ?? void 0),\n        s = new a({\n    width: i.width,\n    height: i.height,\n    pixels: i.pixels,\n    pixelType: \"U8\",\n    mask: i.mask,\n    statistics: null\n  });\n  return s.updateStatistics(), s;\n}\n\nfunction v(t, e) {\n  const i = new Uint8Array(t),\n        s = new f(i),\n        {\n    width: r,\n    height: n\n  } = e,\n        o = r * n,\n        h = s.decode();\n  let c,\n      p = 0,\n      l = 0;\n  const d = new Uint8Array(o);\n\n  for (p = 0; p < o; p++) d[p] = h[4 * p + 3];\n\n  const u = new a({\n    width: r,\n    height: n,\n    pixels: [],\n    pixelType: \"U8\",\n    mask: d,\n    statistics: []\n  });\n\n  for (p = 0; p < 3; p++) {\n    for (c = new Uint8Array(o), l = 0; l < o; l++) c[l] = h[4 * l + p];\n\n    u.addData({\n      pixels: c\n    });\n  }\n\n  return u.updateStatistics(), u;\n}\n\nasync function U(t, e, i, r) {\n  const n = new s(),\n        o = {\n    applyJpegMask: !1,\n    format: e,\n    ...i\n  },\n        h = await n.decode(t, o, r),\n        c = new a(h);\n  return c.updateStatistics(), c;\n}\n\nfunction A(e) {\n  if (null == e) throw new t(\"rasterCodec:decode\", \"parameter encodeddata is required.\");\n  const i = new Uint8Array(e, 0, 10);\n  let a = \"\";\n  return 255 === i[0] && 216 === i[1] ? a = \"jpg\" : 137 === i[0] && 80 === i[1] && 78 === i[2] && 71 === i[3] ? a = \"png\" : 67 === i[0] && 110 === i[1] && 116 === i[2] && 90 === i[3] && 73 === i[4] && 109 === i[5] && 97 === i[6] && 103 === i[7] && 101 === i[8] && 32 === i[9] ? a = \"lerc\" : 76 === i[0] && 101 === i[1] && 114 === i[2] && 99 === i[3] && 50 === i[4] && 32 === i[5] ? a = \"lerc2\" : 73 === i[0] && 73 === i[1] && 42 === i[2] && 0 === i[3] || 77 === i[0] && 77 === i[1] && 0 === i[2] && 42 === i[3] || 73 === i[0] && 73 === i[1] && 43 === i[2] && 0 === i[3] || 77 === i[0] && 77 === i[1] && 0 === i[2] && 43 === i[3] ? a = \"tiff\" : 71 === i[0] && 73 === i[1] && 70 === i[2] ? a = \"gif\" : 66 === i[0] && 77 === i[1] ? a = \"bmp\" : String.fromCharCode.apply(null, i).toLowerCase().includes(\"error\") && (a = \"error\"), a;\n}\n\nfunction C(e) {\n  let i = null;\n\n  switch (e) {\n    case \"lerc\":\n    case \"lerc2\":\n      i = g;\n      break;\n\n    case \"jpg\":\n      i = T;\n      break;\n\n    case \"png\":\n      i = v;\n      break;\n\n    case \"bsq\":\n    case \"bip\":\n      i = (t, i) => I(t, i, e);\n\n      break;\n\n    case \"tiff\":\n      i = w;\n      break;\n\n    case \"deflate\":\n      i = b;\n      break;\n\n    case \"lzw\":\n      i = k;\n      break;\n\n    case \"error\":\n      i = () => {\n        throw new t(\"rasterCodec:decode\", \"input data contains error\");\n      };\n\n      break;\n\n    default:\n      i = () => {\n        throw new t(\"rasterCodec:decode\", \"unsupported raster format\");\n      };\n\n  }\n\n  return i;\n}\n\nfunction D(t) {\n  let e = null,\n      i = null;\n\n  switch (t ? t.toLowerCase() : \"f32\") {\n    case \"u1\":\n    case \"u2\":\n    case \"u4\":\n    case \"u8\":\n      i = 255, e = Uint8Array;\n      break;\n\n    case \"u16\":\n      i = i || 65535, e = Uint16Array;\n      break;\n\n    case \"u32\":\n      i = i || 2 ** 32 - 1, e = Uint32Array;\n      break;\n\n    case \"s8\":\n      i = i || -128, e = Int8Array;\n      break;\n\n    case \"s16\":\n      i = i || -32768, e = Int16Array;\n      break;\n\n    case \"s32\":\n      i = i || 0 - 2 ** 31, e = Int32Array;\n      break;\n\n    default:\n      e = Float32Array;\n  }\n\n  return {\n    pixelTypeCtor: e,\n    noDataValue: i\n  };\n}\n\nfunction O(t, i = 1) {\n  if (!t) return;\n  const {\n    pixels: s,\n    width: r,\n    height: n,\n    mask: o\n  } = t;\n  if (!s || 0 === s.length) return;\n  const h = s.length,\n        c = r - 1,\n        p = n - 1,\n        l = [];\n  let d,\n      u,\n      f,\n      m,\n      g,\n      w,\n      y = null;\n  const x = a.getPixelArrayConstructor(t.pixelType);\n\n  if (0 === i) {\n    for (d = 0; d < h; d++) {\n      for (g = s[d], w = new x(c * p), u = 0; u < p; u++) for (m = u * r, f = 0; f < c; f++) w[u * c + f] = g[m + f];\n\n      l.push(w);\n    }\n\n    if (e(o)) for (y = new Uint8Array(c * p), u = 0; u < p; u++) for (m = u * r, f = 0; f < c; f++) y[u * c + f] = o[m + f];\n  } else {\n    for (d = 0; d < h; d++) {\n      for (g = s[d], w = new x(c * p), u = 0; u < p; u++) for (m = u * r, f = 0; f < c; f++) w[u * c + f] = (g[m + f] + g[m + f + 1] + g[m + r + f] + g[m + r + f + 1]) / 4;\n\n      l.push(w);\n    }\n\n    if (o) for (y = new Uint8Array(c * p), u = 0; u < p; u++) for (m = u * r, f = 0; f < c; f++) y[u * c + f] = Math.min.apply(null, [o[m + f], o[m + f + 1], o[m + r + f], o[m + r + f + 1]]);\n  }\n\n  t.width = c, t.height = p, t.mask = y, t.pixels = l;\n}\n\nfunction P(t) {\n  let e = A(t);\n  return \"lerc2\" === e ? e = \"lerc\" : \"error\" === e && (e = \"\"), e;\n}\n\nasync function S(e, i = {}, a) {\n  if (null == e) throw new t(\"rasterCodec:decode\", \"missing encodeddata parameter.\");\n  let s,\n      r,\n      n = i.format && i.format.toLowerCase();\n  if (!(\"bsq\" !== n && \"bip\" !== n || null != i.width && null != i.height)) throw new t(\"rasterCodec:decode\", \"requires width and height in options parameter.\");\n  return \"tiff\" === n && i.customOptions ? y(e, i) : ((!n || \"bsq\" !== n && \"bip\" !== n && \"deflate\" !== n && \"lzw\" !== n) && (n = A(e)), i.useCanvas && m.has(n) ? r = await U(e, n, i, a) : (s = C(n), i.isPoint && (null != (i = { ...i\n  }).width && i.width++, null != i.height && i.height++), r = await s(e, i), i.isPoint && O(r)), r);\n}\n\nexport { S as decode, P as getFormat };","map":{"version":3,"names":["t","isSome","e","assertIsSome","i","a","s","r","load","n","decode","o","h","Z","c","p","decodeTileOrStrip","l","d","isPlatformLittleEndian","u","f","data","pos","palette","imgData","transparency","animation","text","readUInt32","push","String","fromCharCode","call","join","width","height","bits","colorType","compressionMethod","filterMethod","interlaceMethod","numFrames","numPlays","frames","read","xOffset","yOffset","readUInt16","delay","disposeOp","blendOp","indexed","length","grayscale","rgb","indexOf","apply","slice","colors","hasAlphaChannel","pixelBitlength","colorSpace","Uint8Array","Error","XMLHttpRequest","open","responseType","onload","response","mozResponseArrayBuffer","getContext","render","send","prototype","decodePixels","m","g","w","y","x","b","k","I","T","v","getBytes","Math","floor","abs","decodePalette","copyToImageData","_decodedPalette","document","createElement","clearRect","putImageData","Image","src","toDataURL","decodeFrames","createImageData","imageData","image","renderFrame","drawImage","animate","_timeout","setTimeout","stopAnimation","clearTimeout","_png","self","Set","offset","noDataValue","pixelType","statistics","pixels","mask","inputOffset","returnInterleaved","toLowerCase","updateStatistics","customOptions","getPixelArrayConstructor","buffer","planes","eof","isInputBigEndian","pixelTypeCtor","D","format","hasNoZlibMask","addData","U","applyJpegMask","A","includes","C","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","O","min","P","S","useCanvas","has","isPoint","getFormat"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import{isSome as e,assertIsSome as i}from\"../../../core/maybe.js\";import a from\"../PixelBlock.js\";import s from\"./ImageCanvasDecoder.js\";import r from\"./JpgPlus.js\";import{load as n,decode as o}from\"./Lerc.js\";import{decode as h}from\"./Lzw.js\";import{Z as c}from\"../../../chunks/Zlib.js\";import p from\"./Raw.js\";import{decodeTileOrStrip as l,decode as d}from\"./TiffDecoder.js\";import{isPlatformLittleEndian as u}from\"./utils.js\";var f=function(t){var e,i,a,s,r,n;function o(t){var e,i,a,s,r,n,o,h,c,p,l,d,u;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(e=this.readUInt32(),h=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join(\"\"),h){case\"IHDR\":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case\"acTL\":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case\"PLTE\":this.palette=this.read(e);break;case\"fcTL\":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),a=this.readUInt16()||100,r.delay=1e3*s/a,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case\"IDAT\":case\"fdAT\":for(\"fdAT\"===h&&(this.pos+=4,e-=4),t=(null!=r?r.data:void 0)||this.imgData,l=0;0<=e?l<e:l>e;0<=e?++l:--l)t.push(this.data[this.pos++]);break;case\"tRNS\":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(e),(c=255-this.transparency.indexed.length)>0)for(d=0;0<=c?d<c:d>c;0<=c?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case\"tEXt\":n=(p=this.read(e)).indexOf(0),o=String.fromCharCode.apply(String,p.slice(0,n)),this.text[o]=String.fromCharCode.apply(String,p.slice(n+1));break;case\"IEND\":return r&&this.animation.frames.push(r),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(u=this.colorType)||6===u,i=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*i,this.colorSpace=function(){switch(this.colors){case 1:return\"DeviceGray\";case 3:return\"DeviceRGB\"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error(\"Incomplete or corrupt PNG file\")}}return o.load=function(t,e,i){var a;return\"function\"==typeof e&&(i=e),(a=new XMLHttpRequest).open(\"GET\",t,!0),a.responseType=\"arraybuffer\",a.onload=function(){var t;return t=new o(new Uint8Array(a.response||a.mozResponseArrayBuffer)),\"function\"==typeof(null!=e?e.getContext:void 0)&&t.render(e),\"function\"==typeof i?i(t):void 0},a.send(null)},i=1,a=2,e=0,o.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(t){var e,i,a,s,r,n,o,h,p,l,d,u,f,m,g,w,y,x,b,k,I,T,v;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=(t=new c(t)).getBytes(),w=(u=this.pixelBitlength/8)*this.width,f=new Uint8Array(w*this.height),n=t.length,g=0,m=0,i=0;m<n;){switch(t[m++]){case 0:for(s=b=0;b<w;s=b+=1)f[i++]=t[m++];break;case 1:for(s=k=0;k<w;s=k+=1)e=t[m++],r=s<u?0:f[i-u],f[i++]=(e+r)%256;break;case 2:for(s=I=0;I<w;s=I+=1)e=t[m++],a=(s-s%u)/u,y=g&&f[(g-1)*w+a*u+s%u],f[i++]=(y+e)%256;break;case 3:for(s=T=0;T<w;s=T+=1)e=t[m++],a=(s-s%u)/u,r=s<u?0:f[i-u],y=g&&f[(g-1)*w+a*u+s%u],f[i++]=(e+Math.floor((r+y)/2))%256;break;case 4:for(s=v=0;v<w;s=v+=1)e=t[m++],a=(s-s%u)/u,r=s<u?0:f[i-u],0===g?y=x=0:(y=f[(g-1)*w+a*u+s%u],x=a&&f[(g-1)*w+(a-1)*u+s%u]),o=r+y-x,h=Math.abs(o-r),l=Math.abs(o-y),d=Math.abs(o-x),p=h<=l&&h<=d?r:l<=d?y:x,f[i++]=(e+p)%256;break;default:throw new Error(\"Invalid filter algorithm: \"+t[m-1])}g++}return f},o.prototype.decodePalette=function(){var t,e,i,a,s,r,n,o,h;for(i=this.palette,r=this.transparency.indexed||[],s=new Uint8Array((r.length||0)+i.length),a=0,i.length,t=0,e=n=0,o=i.length;n<o;e=n+=3)s[a++]=i[e],s[a++]=i[e+1],s[a++]=i[e+2],s[a++]=null!=(h=r[t++])?h:255;return s},o.prototype.copyToImageData=function(t,e){var i,a,s,r,n,o,h,c,p,l,d;if(a=this.colors,p=null,i=this.hasAlphaChannel,this.palette.length&&(p=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),a=4,i=!0),c=(s=t.data||t).length,n=p||e,r=o=0,1===a)for(;r<c;)h=p?4*e[r/4]:o,l=n[h++],s[r++]=l,s[r++]=l,s[r++]=l,s[r++]=i?n[h++]:this.transparency.grayscale&&this.transparency.grayscale===l?0:255,o=h;else for(;r<c;)h=p?4*e[r/4]:o,s[r++]=n[h++],s[r++]=n[h++],s[r++]=n[h++],s[r++]=i?n[h++]:this.transparency.rgb&&this.transparency.rgb[1]===n[h-3]&&this.transparency.rgb[3]===n[h-2]&&this.transparency.rgb[5]===n[h-1]?0:255,o=h},o.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t},r=t.document&&t.document.createElement(\"canvas\"),n=r&&r.getContext(\"2d\"),s=function(t){var e;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(e=new Image).src=r.toDataURL(),e},o.prototype.decodeFrames=function(t){var e,i,a,r,n,o,h,c;if(this.animation){for(c=[],i=n=0,o=(h=this.animation.frames).length;n<o;i=++n)e=h[i],a=t.createImageData(e.width,e.height),r=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(a,r),e.imageData=a,c.push(e.image=s(a));return c}},o.prototype.renderFrame=function(t,s){var r,n,o;return r=(n=this.animation.frames)[s],o=n[s-1],0===s&&t.clearRect(0,0,this.width,this.height),(null!=o?o.disposeOp:void 0)===i?t.clearRect(o.xOffset,o.yOffset,o.width,o.height):(null!=o?o.disposeOp:void 0)===a&&t.putImageData(o.imageData,o.xOffset,o.yOffset),r.blendOp===e&&t.clearRect(r.xOffset,r.yOffset,r.width,r.height),t.drawImage(r.image,r.xOffset,r.yOffset)},o.prototype.animate=function(t){var e,i,a,s,r,n,o=this;return i=0,n=this.animation,s=n.numFrames,a=n.frames,r=n.numPlays,(e=function(){var n,h;if(n=i++%s,h=a[n],o.renderFrame(t,n),s>1&&i/s<r)return o.animation._timeout=setTimeout(e,h.delay)})()},o.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},o.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext(\"2d\"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},o}(self);const m=new Set([\"jpg\",\"png\",\"bmp\",\"gif\"]);async function g(e,i){if(!u)throw new t(\"rasterCoded:decode\",\"lerc decoder is not supported on big endian platform\");await n();const{offset:s,noDataValue:r}=i,{width:h,height:c,pixelType:p,statistics:l,pixels:d,mask:f}=o(e,{inputOffset:s,noDataValue:r,returnInterleaved:i.returnInterleaved});return new a({width:h,height:c,pixelType:p.toLowerCase(),pixels:d,mask:f,statistics:l})}async function w(t,e){const s=await d(t,e);i(s);const r=new a({width:s.width,height:s.height,pixels:s.pixels,pixelType:s.pixelType.toLowerCase(),mask:s.mask,statistics:null});return r.updateStatistics(),r}async function y(t,e){const i=await l(t,e.customOptions),s=new a({width:i.width,height:i.height,pixels:i.pixels,pixelType:i.pixelType.toLowerCase(),mask:i.mask,statistics:null});return s.updateStatistics(),s}function x(t,e){const i=e.pixelType||\"u8\",s=a.getPixelArrayConstructor(i),r=\"u8\"===i?t:new s(t.buffer),n=[],o=e.planes||1;if(1===o)n.push(r);else for(let a=0;a<o;a++){const i=(e.width||1)*(e.height||t.length),h=new s(i);for(let t=0;t<i;t++)h[t]=r[t*o+a];n.push(h)}const h=new a({width:e.width||1,height:e.height||t.length,pixels:n,pixelType:i,statistics:null});return h.updateStatistics(),h}function b(t,e){return x(new c(new Uint8Array(t)).getBytes(),e)}function k(t,e){return x(h(t,e.offset,e.eof,!e.isInputBigEndian),e)}function I(t,e,i){const{pixelTypeCtor:s}=D(e.pixelType),r=(0,p.decode)(t,{width:e.width,height:e.height,pixelType:s,format:i}),n=new a({width:e.width,height:e.height,pixels:r.pixels,pixelType:e.pixelType,mask:r.mask,statistics:null});return n.updateStatistics(),n}function T(t,e){const i=r.decode(t,e.hasNoZlibMask??void 0),s=new a({width:i.width,height:i.height,pixels:i.pixels,pixelType:\"U8\",mask:i.mask,statistics:null});return s.updateStatistics(),s}function v(t,e){const i=new Uint8Array(t),s=new f(i),{width:r,height:n}=e,o=r*n,h=s.decode();let c,p=0,l=0;const d=new Uint8Array(o);for(p=0;p<o;p++)d[p]=h[4*p+3];const u=new a({width:r,height:n,pixels:[],pixelType:\"U8\",mask:d,statistics:[]});for(p=0;p<3;p++){for(c=new Uint8Array(o),l=0;l<o;l++)c[l]=h[4*l+p];u.addData({pixels:c})}return u.updateStatistics(),u}async function U(t,e,i,r){const n=new s,o={applyJpegMask:!1,format:e,...i},h=await n.decode(t,o,r),c=new a(h);return c.updateStatistics(),c}function A(e){if(null==e)throw new t(\"rasterCodec:decode\",\"parameter encodeddata is required.\");const i=new Uint8Array(e,0,10);let a=\"\";return 255===i[0]&&216===i[1]?a=\"jpg\":137===i[0]&&80===i[1]&&78===i[2]&&71===i[3]?a=\"png\":67===i[0]&&110===i[1]&&116===i[2]&&90===i[3]&&73===i[4]&&109===i[5]&&97===i[6]&&103===i[7]&&101===i[8]&&32===i[9]?a=\"lerc\":76===i[0]&&101===i[1]&&114===i[2]&&99===i[3]&&50===i[4]&&32===i[5]?a=\"lerc2\":73===i[0]&&73===i[1]&&42===i[2]&&0===i[3]||77===i[0]&&77===i[1]&&0===i[2]&&42===i[3]||73===i[0]&&73===i[1]&&43===i[2]&&0===i[3]||77===i[0]&&77===i[1]&&0===i[2]&&43===i[3]?a=\"tiff\":71===i[0]&&73===i[1]&&70===i[2]?a=\"gif\":66===i[0]&&77===i[1]?a=\"bmp\":String.fromCharCode.apply(null,i).toLowerCase().includes(\"error\")&&(a=\"error\"),a}function C(e){let i=null;switch(e){case\"lerc\":case\"lerc2\":i=g;break;case\"jpg\":i=T;break;case\"png\":i=v;break;case\"bsq\":case\"bip\":i=(t,i)=>I(t,i,e);break;case\"tiff\":i=w;break;case\"deflate\":i=b;break;case\"lzw\":i=k;break;case\"error\":i=()=>{throw new t(\"rasterCodec:decode\",\"input data contains error\")};break;default:i=()=>{throw new t(\"rasterCodec:decode\",\"unsupported raster format\")}}return i}function D(t){let e=null,i=null;switch(t?t.toLowerCase():\"f32\"){case\"u1\":case\"u2\":case\"u4\":case\"u8\":i=255,e=Uint8Array;break;case\"u16\":i=i||65535,e=Uint16Array;break;case\"u32\":i=i||2**32-1,e=Uint32Array;break;case\"s8\":i=i||-128,e=Int8Array;break;case\"s16\":i=i||-32768,e=Int16Array;break;case\"s32\":i=i||0-2**31,e=Int32Array;break;default:e=Float32Array}return{pixelTypeCtor:e,noDataValue:i}}function O(t,i=1){if(!t)return;const{pixels:s,width:r,height:n,mask:o}=t;if(!s||0===s.length)return;const h=s.length,c=r-1,p=n-1,l=[];let d,u,f,m,g,w,y=null;const x=a.getPixelArrayConstructor(t.pixelType);if(0===i){for(d=0;d<h;d++){for(g=s[d],w=new x(c*p),u=0;u<p;u++)for(m=u*r,f=0;f<c;f++)w[u*c+f]=g[m+f];l.push(w)}if(e(o))for(y=new Uint8Array(c*p),u=0;u<p;u++)for(m=u*r,f=0;f<c;f++)y[u*c+f]=o[m+f]}else{for(d=0;d<h;d++){for(g=s[d],w=new x(c*p),u=0;u<p;u++)for(m=u*r,f=0;f<c;f++)w[u*c+f]=(g[m+f]+g[m+f+1]+g[m+r+f]+g[m+r+f+1])/4;l.push(w)}if(o)for(y=new Uint8Array(c*p),u=0;u<p;u++)for(m=u*r,f=0;f<c;f++)y[u*c+f]=Math.min.apply(null,[o[m+f],o[m+f+1],o[m+r+f],o[m+r+f+1]])}t.width=c,t.height=p,t.mask=y,t.pixels=l}function P(t){let e=A(t);return\"lerc2\"===e?e=\"lerc\":\"error\"===e&&(e=\"\"),e}async function S(e,i={},a){if(null==e)throw new t(\"rasterCodec:decode\",\"missing encodeddata parameter.\");let s,r,n=i.format&&i.format.toLowerCase();if(!(\"bsq\"!==n&&\"bip\"!==n||null!=i.width&&null!=i.height))throw new t(\"rasterCodec:decode\",\"requires width and height in options parameter.\");return\"tiff\"===n&&i.customOptions?y(e,i):((!n||\"bsq\"!==n&&\"bip\"!==n&&\"deflate\"!==n&&\"lzw\"!==n)&&(n=A(e)),i.useCanvas&&m.has(n)?r=await U(e,n,i,a):(s=C(n),i.isPoint&&(null!=(i={...i}).width&&i.width++,null!=i.height&&i.height++),r=await s(e,i),i.isPoint&&O(r)),r)}export{S as decode,P as getFormat};\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,wBAAb;AAAsC,SAAOC,MAAM,IAAIC,CAAjB,EAAmBC,YAAY,IAAIC,CAAnC,QAAyC,wBAAzC;AAAkE,OAAOC,CAAP,MAAa,kBAAb;AAAgC,OAAOC,CAAP,MAAa,yBAAb;AAAuC,OAAOC,CAAP,MAAa,cAAb;AAA4B,SAAOC,IAAI,IAAIC,CAAf,EAAiBC,MAAM,IAAIC,CAA3B,QAAiC,WAAjC;AAA6C,SAAOD,MAAM,IAAIE,CAAjB,QAAuB,UAAvB;AAAkC,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,yBAAlB;AAA4C,OAAOC,CAAP,MAAa,UAAb;AAAwB,SAAOC,iBAAiB,IAAIC,CAA5B,EAA8BP,MAAM,IAAIQ,CAAxC,QAA8C,kBAA9C;AAAiE,SAAOC,sBAAsB,IAAIC,CAAjC,QAAuC,YAAvC;;AAAoD,IAAIC,CAAC,GAAC,UAASrB,CAAT,EAAW;EAAC,IAAIE,CAAJ,EAAME,CAAN,EAAQC,CAAR,EAAUC,CAAV,EAAYC,CAAZ,EAAcE,CAAd;;EAAgB,SAASE,CAAT,CAAWX,CAAX,EAAa;IAAC,IAAIE,CAAJ,EAAME,CAAN,EAAQC,CAAR,EAAUC,CAAV,EAAYC,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkBC,CAAlB,EAAoBE,CAApB,EAAsBC,CAAtB,EAAwBE,CAAxB,EAA0BC,CAA1B,EAA4BE,CAA5B;;IAA8B,KAAI,KAAKE,IAAL,GAAUtB,CAAV,EAAY,KAAKuB,GAAL,GAAS,CAArB,EAAuB,KAAKC,OAAL,GAAa,EAApC,EAAuC,KAAKC,OAAL,GAAa,EAApD,EAAuD,KAAKC,YAAL,GAAkB,EAAzE,EAA4E,KAAKC,SAAL,GAAe,IAA3F,EAAgG,KAAKC,IAAL,GAAU,EAA1G,EAA6GrB,CAAC,GAAC,IAAnH,IAA0H;MAAC,QAAOL,CAAC,GAAC,KAAK2B,UAAL,EAAF,EAAoBjB,CAAC,GAAC,YAAU;QAAC,IAAIZ,CAAJ,EAAME,CAAN;;QAAQ,KAAIA,CAAC,GAAC,EAAF,EAAKF,CAAC,GAAC,CAAX,EAAaA,CAAC,GAAC,CAAf,EAAiB,EAAEA,CAAnB,EAAqBE,CAAC,CAAC4B,IAAF,CAAOC,MAAM,CAACC,YAAP,CAAoB,KAAKV,IAAL,CAAU,KAAKC,GAAL,EAAV,CAApB,CAAP;;QAAmD,OAAOrB,CAAP;MAAS,CAApG,CAAqG+B,IAArG,CAA0G,IAA1G,EAAgHC,IAAhH,CAAqH,EAArH,CAAtB,EAA+ItB,CAAtJ;QAAyJ,KAAI,MAAJ;UAAW,KAAKuB,KAAL,GAAW,KAAKN,UAAL,EAAX,EAA6B,KAAKO,MAAL,GAAY,KAAKP,UAAL,EAAzC,EAA2D,KAAKQ,IAAL,GAAU,KAAKf,IAAL,CAAU,KAAKC,GAAL,EAAV,CAArE,EAA2F,KAAKe,SAAL,GAAe,KAAKhB,IAAL,CAAU,KAAKC,GAAL,EAAV,CAA1G,EAAgI,KAAKgB,iBAAL,GAAuB,KAAKjB,IAAL,CAAU,KAAKC,GAAL,EAAV,CAAvJ,EAA6K,KAAKiB,YAAL,GAAkB,KAAKlB,IAAL,CAAU,KAAKC,GAAL,EAAV,CAA/L,EAAqN,KAAKkB,eAAL,GAAqB,KAAKnB,IAAL,CAAU,KAAKC,GAAL,EAAV,CAA1O;UAAgQ;;QAAM,KAAI,MAAJ;UAAW,KAAKI,SAAL,GAAe;YAACe,SAAS,EAAC,KAAKb,UAAL,EAAX;YAA6Bc,QAAQ,EAAC,KAAKd,UAAL,MAAmB,IAAE,CAA3D;YAA6De,MAAM,EAAC;UAApE,CAAf;UAAuF;;QAAM,KAAI,MAAJ;UAAW,KAAKpB,OAAL,GAAa,KAAKqB,IAAL,CAAU3C,CAAV,CAAb;UAA0B;;QAAM,KAAI,MAAJ;UAAWK,CAAC,IAAE,KAAKoB,SAAL,CAAeiB,MAAf,CAAsBd,IAAtB,CAA2BvB,CAA3B,CAAH,EAAiC,KAAKgB,GAAL,IAAU,CAA3C,EAA6ChB,CAAC,GAAC;YAAC4B,KAAK,EAAC,KAAKN,UAAL,EAAP;YAAyBO,MAAM,EAAC,KAAKP,UAAL,EAAhC;YAAkDiB,OAAO,EAAC,KAAKjB,UAAL,EAA1D;YAA4EkB,OAAO,EAAC,KAAKlB,UAAL;UAApF,CAA/C,EAAsJvB,CAAC,GAAC,KAAK0C,UAAL,EAAxJ,EAA0K3C,CAAC,GAAC,KAAK2C,UAAL,MAAmB,GAA/L,EAAmMzC,CAAC,CAAC0C,KAAF,GAAQ,MAAI3C,CAAJ,GAAMD,CAAjN,EAAmNE,CAAC,CAAC2C,SAAF,GAAY,KAAK5B,IAAL,CAAU,KAAKC,GAAL,EAAV,CAA/N,EAAqPhB,CAAC,CAAC4C,OAAF,GAAU,KAAK7B,IAAL,CAAU,KAAKC,GAAL,EAAV,CAA/P,EAAqRhB,CAAC,CAACe,IAAF,GAAO,EAA5R;UAA+R;;QAAM,KAAI,MAAJ;QAAW,KAAI,MAAJ;UAAW,KAAI,WAASV,CAAT,KAAa,KAAKW,GAAL,IAAU,CAAV,EAAYrB,CAAC,IAAE,CAA5B,GAA+BF,CAAC,GAAC,CAAC,QAAMO,CAAN,GAAQA,CAAC,CAACe,IAAV,GAAe,KAAK,CAArB,KAAyB,KAAKG,OAA/D,EAAuER,CAAC,GAAC,CAA7E,EAA+E,KAAGf,CAAH,GAAKe,CAAC,GAACf,CAAP,GAASe,CAAC,GAACf,CAA1F,EAA4F,KAAGA,CAAH,GAAK,EAAEe,CAAP,GAAS,EAAEA,CAAvG,EAAyGjB,CAAC,CAAC8B,IAAF,CAAO,KAAKR,IAAL,CAAU,KAAKC,GAAL,EAAV,CAAP;;UAA8B;;QAAM,KAAI,MAAJ;UAAW,QAAO,KAAKG,YAAL,GAAkB,EAAlB,EAAqB,KAAKY,SAAjC;YAA4C,KAAK,CAAL;cAAO,IAAG,KAAKZ,YAAL,CAAkB0B,OAAlB,GAA0B,KAAKP,IAAL,CAAU3C,CAAV,CAA1B,EAAuC,CAACY,CAAC,GAAC,MAAI,KAAKY,YAAL,CAAkB0B,OAAlB,CAA0BC,MAAjC,IAAyC,CAAnF,EAAqF,KAAInC,CAAC,GAAC,CAAN,EAAQ,KAAGJ,CAAH,GAAKI,CAAC,GAACJ,CAAP,GAASI,CAAC,GAACJ,CAAnB,EAAqB,KAAGA,CAAH,GAAK,EAAEI,CAAP,GAAS,EAAEA,CAAhC,EAAkC,KAAKQ,YAAL,CAAkB0B,OAAlB,CAA0BtB,IAA1B,CAA+B,GAA/B;cAAoC;;YAAM,KAAK,CAAL;cAAO,KAAKJ,YAAL,CAAkB4B,SAAlB,GAA4B,KAAKT,IAAL,CAAU3C,CAAV,EAAa,CAAb,CAA5B;cAA4C;;YAAM,KAAK,CAAL;cAAO,KAAKwB,YAAL,CAAkB6B,GAAlB,GAAsB,KAAKV,IAAL,CAAU3C,CAAV,CAAtB;UAApR;;UAAuT;;QAAM,KAAI,MAAJ;UAAWO,CAAC,GAAC,CAACM,CAAC,GAAC,KAAK8B,IAAL,CAAU3C,CAAV,CAAH,EAAiBsD,OAAjB,CAAyB,CAAzB,CAAF,EAA8B7C,CAAC,GAACoB,MAAM,CAACC,YAAP,CAAoByB,KAApB,CAA0B1B,MAA1B,EAAiChB,CAAC,CAAC2C,KAAF,CAAQ,CAAR,EAAUjD,CAAV,CAAjC,CAAhC,EAA+E,KAAKmB,IAAL,CAAUjB,CAAV,IAAaoB,MAAM,CAACC,YAAP,CAAoByB,KAApB,CAA0B1B,MAA1B,EAAiChB,CAAC,CAAC2C,KAAF,CAAQjD,CAAC,GAAC,CAAV,CAAjC,CAA5F;UAA2I;;QAAM,KAAI,MAAJ;UAAW,OAAOF,CAAC,IAAE,KAAKoB,SAAL,CAAeiB,MAAf,CAAsBd,IAAtB,CAA2BvB,CAA3B,CAAH,EAAiC,KAAKoD,MAAL,GAAY,YAAU;YAAC,QAAO,KAAKrB,SAAZ;cAAuB,KAAK,CAAL;cAAO,KAAK,CAAL;cAAO,KAAK,CAAL;gBAAO,OAAO,CAAP;;cAAS,KAAK,CAAL;cAAO,KAAK,CAAL;gBAAO,OAAO,CAAP;YAAnE;UAA6E,CAAxF,CAAyFL,IAAzF,CAA8F,IAA9F,CAA7C,EAAiJ,KAAK2B,eAAL,GAAqB,OAAKxC,CAAC,GAAC,KAAKkB,SAAZ,KAAwB,MAAIlB,CAAlM,EAAoMhB,CAAC,GAAC,KAAKuD,MAAL,IAAa,KAAKC,eAAL,GAAqB,CAArB,GAAuB,CAApC,CAAtM,EAA6O,KAAKC,cAAL,GAAoB,KAAKxB,IAAL,GAAUjC,CAA3Q,EAA6Q,KAAK0D,UAAL,GAAgB,YAAU;YAAC,QAAO,KAAKH,MAAZ;cAAoB,KAAK,CAAL;gBAAO,OAAM,YAAN;;cAAmB,KAAK,CAAL;gBAAO,OAAM,WAAN;YAArD;UAAwE,CAAnF,CAAoF1B,IAApF,CAAyF,IAAzF,CAA7R,EAA4X,MAAK,KAAKR,OAAL,GAAa,IAAIsC,UAAJ,CAAe,KAAKtC,OAApB,CAAlB,CAAnY;;QAAmb;UAAQ,KAAKF,GAAL,IAAUrB,CAAV;MAA17D;;MAAs8D,IAAG,KAAKqB,GAAL,IAAU,CAAV,EAAY,KAAKA,GAAL,GAAS,KAAKD,IAAL,CAAU+B,MAAlC,EAAyC,MAAM,IAAIW,KAAJ,CAAU,gCAAV,CAAN;IAAkD;EAAC;;EAAA,OAAOrD,CAAC,CAACH,IAAF,GAAO,UAASR,CAAT,EAAWE,CAAX,EAAaE,CAAb,EAAe;IAAC,IAAIC,CAAJ;IAAM,OAAM,cAAY,OAAOH,CAAnB,KAAuBE,CAAC,GAACF,CAAzB,GAA4B,CAACG,CAAC,GAAC,IAAI4D,cAAJ,EAAH,EAAuBC,IAAvB,CAA4B,KAA5B,EAAkClE,CAAlC,EAAoC,CAAC,CAArC,CAA5B,EAAoEK,CAAC,CAAC8D,YAAF,GAAe,aAAnF,EAAiG9D,CAAC,CAAC+D,MAAF,GAAS,YAAU;MAAC,IAAIpE,CAAJ;MAAM,OAAOA,CAAC,GAAC,IAAIW,CAAJ,CAAM,IAAIoD,UAAJ,CAAe1D,CAAC,CAACgE,QAAF,IAAYhE,CAAC,CAACiE,sBAA7B,CAAN,CAAF,EAA8D,cAAY,QAAO,QAAMpE,CAAN,GAAQA,CAAC,CAACqE,UAAV,GAAqB,KAAK,CAAjC,CAAZ,IAAiDvE,CAAC,CAACwE,MAAF,CAAStE,CAAT,CAA/G,EAA2H,cAAY,OAAOE,CAAnB,GAAqBA,CAAC,CAACJ,CAAD,CAAtB,GAA0B,KAAK,CAAjK;IAAmK,CAA9R,EAA+RK,CAAC,CAACoE,IAAF,CAAO,IAAP,CAArS;EAAkT,CAA/U,EAAgVrE,CAAC,GAAC,CAAlV,EAAoVC,CAAC,GAAC,CAAtV,EAAwVH,CAAC,GAAC,CAA1V,EAA4VS,CAAC,CAAC+D,SAAF,CAAY7B,IAAZ,GAAiB,UAAS7C,CAAT,EAAW;IAAC,IAAIE,CAAJ,EAAME,CAAN;;IAAQ,KAAIA,CAAC,GAAC,EAAF,EAAKF,CAAC,GAAC,CAAX,EAAa,KAAGF,CAAH,GAAKE,CAAC,GAACF,CAAP,GAASE,CAAC,GAACF,CAAxB,EAA0B,KAAGA,CAAH,GAAK,EAAEE,CAAP,GAAS,EAAEA,CAArC,EAAuCE,CAAC,CAAC0B,IAAF,CAAO,KAAKR,IAAL,CAAU,KAAKC,GAAL,EAAV,CAAP;;IAA8B,OAAOnB,CAAP;EAAS,CAA/c,EAAgdO,CAAC,CAAC+D,SAAF,CAAY7C,UAAZ,GAAuB,YAAU;IAAC,OAAO,KAAKP,IAAL,CAAU,KAAKC,GAAL,EAAV,KAAuB,EAAvB,GAA0B,KAAKD,IAAL,CAAU,KAAKC,GAAL,EAAV,KAAuB,EAAjD,GAAoD,KAAKD,IAAL,CAAU,KAAKC,GAAL,EAAV,KAAuB,CAA3E,GAA6E,KAAKD,IAAL,CAAU,KAAKC,GAAL,EAAV,CAApF;EAA0G,CAA5lB,EAA6lBZ,CAAC,CAAC+D,SAAF,CAAY1B,UAAZ,GAAuB,YAAU;IAAC,OAAO,KAAK1B,IAAL,CAAU,KAAKC,GAAL,EAAV,KAAuB,CAAvB,GAAyB,KAAKD,IAAL,CAAU,KAAKC,GAAL,EAAV,CAAhC;EAAsD,CAArrB,EAAsrBZ,CAAC,CAAC+D,SAAF,CAAYC,YAAZ,GAAyB,UAAS3E,CAAT,EAAW;IAAC,IAAIE,CAAJ,EAAME,CAAN,EAAQC,CAAR,EAAUC,CAAV,EAAYC,CAAZ,EAAcE,CAAd,EAAgBE,CAAhB,EAAkBC,CAAlB,EAAoBG,CAApB,EAAsBE,CAAtB,EAAwBC,CAAxB,EAA0BE,CAA1B,EAA4BC,CAA5B,EAA8BuD,CAA9B,EAAgCC,CAAhC,EAAkCC,CAAlC,EAAoCC,CAApC,EAAsCC,CAAtC,EAAwCC,CAAxC,EAA0CC,CAA1C,EAA4CC,CAA5C,EAA8CC,CAA9C,EAAgDC,CAAhD;IAAkD,IAAG,QAAMrF,CAAN,KAAUA,CAAC,GAAC,KAAKyB,OAAjB,GAA0B,MAAIzB,CAAC,CAACqD,MAAnC,EAA0C,OAAO,IAAIU,UAAJ,CAAe,CAAf,CAAP;;IAAyB,KAAI/D,CAAC,GAAC,CAACA,CAAC,GAAC,IAAIc,CAAJ,CAAMd,CAAN,CAAH,EAAasF,QAAb,EAAF,EAA0BR,CAAC,GAAC,CAAC1D,CAAC,GAAC,KAAKyC,cAAL,GAAoB,CAAvB,IAA0B,KAAK1B,KAA3D,EAAiEd,CAAC,GAAC,IAAI0C,UAAJ,CAAee,CAAC,GAAC,KAAK1C,MAAtB,CAAnE,EAAiG3B,CAAC,GAACT,CAAC,CAACqD,MAArG,EAA4GwB,CAAC,GAAC,CAA9G,EAAgHD,CAAC,GAAC,CAAlH,EAAoHxE,CAAC,GAAC,CAA1H,EAA4HwE,CAAC,GAACnE,CAA9H,GAAiI;MAAC,QAAOT,CAAC,CAAC4E,CAAC,EAAF,CAAR;QAAe,KAAK,CAAL;UAAO,KAAItE,CAAC,GAAC2E,CAAC,GAAC,CAAR,EAAUA,CAAC,GAACH,CAAZ,EAAcxE,CAAC,GAAC2E,CAAC,IAAE,CAAnB,EAAqB5D,CAAC,CAACjB,CAAC,EAAF,CAAD,GAAOJ,CAAC,CAAC4E,CAAC,EAAF,CAAR;;UAAc;;QAAM,KAAK,CAAL;UAAO,KAAItE,CAAC,GAAC4E,CAAC,GAAC,CAAR,EAAUA,CAAC,GAACJ,CAAZ,EAAcxE,CAAC,GAAC4E,CAAC,IAAE,CAAnB,EAAqBhF,CAAC,GAACF,CAAC,CAAC4E,CAAC,EAAF,CAAH,EAASrE,CAAC,GAACD,CAAC,GAACc,CAAF,GAAI,CAAJ,GAAMC,CAAC,CAACjB,CAAC,GAACgB,CAAH,CAAlB,EAAwBC,CAAC,CAACjB,CAAC,EAAF,CAAD,GAAO,CAACF,CAAC,GAACK,CAAH,IAAM,GAArC;;UAAyC;;QAAM,KAAK,CAAL;UAAO,KAAID,CAAC,GAAC6E,CAAC,GAAC,CAAR,EAAUA,CAAC,GAACL,CAAZ,EAAcxE,CAAC,GAAC6E,CAAC,IAAE,CAAnB,EAAqBjF,CAAC,GAACF,CAAC,CAAC4E,CAAC,EAAF,CAAH,EAASvE,CAAC,GAAC,CAACC,CAAC,GAACA,CAAC,GAACc,CAAL,IAAQA,CAAnB,EAAqB2D,CAAC,GAACF,CAAC,IAAExD,CAAC,CAAC,CAACwD,CAAC,GAAC,CAAH,IAAMC,CAAN,GAAQzE,CAAC,GAACe,CAAV,GAAYd,CAAC,GAACc,CAAf,CAA3B,EAA6CC,CAAC,CAACjB,CAAC,EAAF,CAAD,GAAO,CAAC2E,CAAC,GAAC7E,CAAH,IAAM,GAA1D;;UAA8D;;QAAM,KAAK,CAAL;UAAO,KAAII,CAAC,GAAC8E,CAAC,GAAC,CAAR,EAAUA,CAAC,GAACN,CAAZ,EAAcxE,CAAC,GAAC8E,CAAC,IAAE,CAAnB,EAAqBlF,CAAC,GAACF,CAAC,CAAC4E,CAAC,EAAF,CAAH,EAASvE,CAAC,GAAC,CAACC,CAAC,GAACA,CAAC,GAACc,CAAL,IAAQA,CAAnB,EAAqBb,CAAC,GAACD,CAAC,GAACc,CAAF,GAAI,CAAJ,GAAMC,CAAC,CAACjB,CAAC,GAACgB,CAAH,CAA9B,EAAoC2D,CAAC,GAACF,CAAC,IAAExD,CAAC,CAAC,CAACwD,CAAC,GAAC,CAAH,IAAMC,CAAN,GAAQzE,CAAC,GAACe,CAAV,GAAYd,CAAC,GAACc,CAAf,CAA1C,EAA4DC,CAAC,CAACjB,CAAC,EAAF,CAAD,GAAO,CAACF,CAAC,GAACqF,IAAI,CAACC,KAAL,CAAW,CAACjF,CAAC,GAACwE,CAAH,IAAM,CAAjB,CAAH,IAAwB,GAA3F;;UAA+F;;QAAM,KAAK,CAAL;UAAO,KAAIzE,CAAC,GAAC+E,CAAC,GAAC,CAAR,EAAUA,CAAC,GAACP,CAAZ,EAAcxE,CAAC,GAAC+E,CAAC,IAAE,CAAnB,EAAqBnF,CAAC,GAACF,CAAC,CAAC4E,CAAC,EAAF,CAAH,EAASvE,CAAC,GAAC,CAACC,CAAC,GAACA,CAAC,GAACc,CAAL,IAAQA,CAAnB,EAAqBb,CAAC,GAACD,CAAC,GAACc,CAAF,GAAI,CAAJ,GAAMC,CAAC,CAACjB,CAAC,GAACgB,CAAH,CAA9B,EAAoC,MAAIyD,CAAJ,GAAME,CAAC,GAACC,CAAC,GAAC,CAAV,IAAaD,CAAC,GAAC1D,CAAC,CAAC,CAACwD,CAAC,GAAC,CAAH,IAAMC,CAAN,GAAQzE,CAAC,GAACe,CAAV,GAAYd,CAAC,GAACc,CAAf,CAAH,EAAqB4D,CAAC,GAAC3E,CAAC,IAAEgB,CAAC,CAAC,CAACwD,CAAC,GAAC,CAAH,IAAMC,CAAN,GAAQ,CAACzE,CAAC,GAAC,CAAH,IAAMe,CAAd,GAAgBd,CAAC,GAACc,CAAnB,CAAxC,CAApC,EAAmGT,CAAC,GAACJ,CAAC,GAACwE,CAAF,GAAIC,CAAzG,EAA2GpE,CAAC,GAAC2E,IAAI,CAACE,GAAL,CAAS9E,CAAC,GAACJ,CAAX,CAA7G,EAA2HU,CAAC,GAACsE,IAAI,CAACE,GAAL,CAAS9E,CAAC,GAACoE,CAAX,CAA7H,EAA2I7D,CAAC,GAACqE,IAAI,CAACE,GAAL,CAAS9E,CAAC,GAACqE,CAAX,CAA7I,EAA2JjE,CAAC,GAACH,CAAC,IAAEK,CAAH,IAAML,CAAC,IAAEM,CAAT,GAAWX,CAAX,GAAaU,CAAC,IAAEC,CAAH,GAAK6D,CAAL,GAAOC,CAAjL,EAAmL3D,CAAC,CAACjB,CAAC,EAAF,CAAD,GAAO,CAACF,CAAC,GAACa,CAAH,IAAM,GAAhM;;UAAoM;;QAAM;UAAQ,MAAM,IAAIiD,KAAJ,CAAU,+BAA6BhE,CAAC,CAAC4E,CAAC,GAAC,CAAH,CAAxC,CAAN;MAAzlB;;MAA8oBC,CAAC;IAAG;;IAAA,OAAOxD,CAAP;EAAS,CAA7mD,EAA8mDV,CAAC,CAAC+D,SAAF,CAAYgB,aAAZ,GAA0B,YAAU;IAAC,IAAI1F,CAAJ,EAAME,CAAN,EAAQE,CAAR,EAAUC,CAAV,EAAYC,CAAZ,EAAcC,CAAd,EAAgBE,CAAhB,EAAkBE,CAAlB,EAAoBC,CAApB;;IAAsB,KAAIR,CAAC,GAAC,KAAKoB,OAAP,EAAejB,CAAC,GAAC,KAAKmB,YAAL,CAAkB0B,OAAlB,IAA2B,EAA5C,EAA+C9C,CAAC,GAAC,IAAIyD,UAAJ,CAAe,CAACxD,CAAC,CAAC8C,MAAF,IAAU,CAAX,IAAcjD,CAAC,CAACiD,MAA/B,CAAjD,EAAwFhD,CAAC,GAAC,CAA1F,EAA4FD,CAAC,CAACiD,MAA9F,EAAqGrD,CAAC,GAAC,CAAvG,EAAyGE,CAAC,GAACO,CAAC,GAAC,CAA7G,EAA+GE,CAAC,GAACP,CAAC,CAACiD,MAAvH,EAA8H5C,CAAC,GAACE,CAAhI,EAAkIT,CAAC,GAACO,CAAC,IAAE,CAAvI,EAAyIH,CAAC,CAACD,CAAC,EAAF,CAAD,GAAOD,CAAC,CAACF,CAAD,CAAR,EAAYI,CAAC,CAACD,CAAC,EAAF,CAAD,GAAOD,CAAC,CAACF,CAAC,GAAC,CAAH,CAApB,EAA0BI,CAAC,CAACD,CAAC,EAAF,CAAD,GAAOD,CAAC,CAACF,CAAC,GAAC,CAAH,CAAlC,EAAwCI,CAAC,CAACD,CAAC,EAAF,CAAD,GAAO,SAAOO,CAAC,GAACL,CAAC,CAACP,CAAC,EAAF,CAAV,IAAiBY,CAAjB,GAAmB,GAAlE;;IAAsE,OAAON,CAAP;EAAS,CAAj4D,EAAk4DK,CAAC,CAAC+D,SAAF,CAAYiB,eAAZ,GAA4B,UAAS3F,CAAT,EAAWE,CAAX,EAAa;IAAC,IAAIE,CAAJ,EAAMC,CAAN,EAAQC,CAAR,EAAUC,CAAV,EAAYE,CAAZ,EAAcE,CAAd,EAAgBC,CAAhB,EAAkBE,CAAlB,EAAoBC,CAApB,EAAsBE,CAAtB,EAAwBC,CAAxB;IAA0B,IAAGb,CAAC,GAAC,KAAKsD,MAAP,EAAc5C,CAAC,GAAC,IAAhB,EAAqBX,CAAC,GAAC,KAAKwD,eAA5B,EAA4C,KAAKpC,OAAL,CAAa6B,MAAb,KAAsBtC,CAAC,GAAC,SAAOG,CAAC,GAAC,KAAK0E,eAAd,IAA+B1E,CAA/B,GAAiC,KAAK0E,eAAL,GAAqB,KAAKF,aAAL,EAAxD,EAA6ErF,CAAC,GAAC,CAA/E,EAAiFD,CAAC,GAAC,CAAC,CAA1G,CAA5C,EAAyJU,CAAC,GAAC,CAACR,CAAC,GAACN,CAAC,CAACsB,IAAF,IAAQtB,CAAX,EAAcqD,MAAzK,EAAgL5C,CAAC,GAACM,CAAC,IAAEb,CAArL,EAAuLK,CAAC,GAACI,CAAC,GAAC,CAA3L,EAA6L,MAAIN,CAApM,EAAsM,OAAKE,CAAC,GAACO,CAAP,GAAUF,CAAC,GAACG,CAAC,GAAC,IAAEb,CAAC,CAACK,CAAC,GAAC,CAAH,CAAJ,GAAUI,CAAb,EAAeM,CAAC,GAACR,CAAC,CAACG,CAAC,EAAF,CAAlB,EAAwBN,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOU,CAA/B,EAAiCX,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOU,CAAxC,EAA0CX,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOU,CAAjD,EAAmDX,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOH,CAAC,GAACK,CAAC,CAACG,CAAC,EAAF,CAAF,GAAQ,KAAKc,YAAL,CAAkB4B,SAAlB,IAA6B,KAAK5B,YAAL,CAAkB4B,SAAlB,KAA8BrC,CAA3D,GAA6D,CAA7D,GAA+D,GAAlI,EAAsIN,CAAC,GAACC,CAAxI,CAAhN,KAA+V,OAAKL,CAAC,GAACO,CAAP,GAAUF,CAAC,GAACG,CAAC,GAAC,IAAEb,CAAC,CAACK,CAAC,GAAC,CAAH,CAAJ,GAAUI,CAAb,EAAeL,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOE,CAAC,CAACG,CAAC,EAAF,CAAvB,EAA6BN,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOE,CAAC,CAACG,CAAC,EAAF,CAArC,EAA2CN,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOE,CAAC,CAACG,CAAC,EAAF,CAAnD,EAAyDN,CAAC,CAACC,CAAC,EAAF,CAAD,GAAOH,CAAC,GAACK,CAAC,CAACG,CAAC,EAAF,CAAF,GAAQ,KAAKc,YAAL,CAAkB6B,GAAlB,IAAuB,KAAK7B,YAAL,CAAkB6B,GAAlB,CAAsB,CAAtB,MAA2B9C,CAAC,CAACG,CAAC,GAAC,CAAH,CAAnD,IAA0D,KAAKc,YAAL,CAAkB6B,GAAlB,CAAsB,CAAtB,MAA2B9C,CAAC,CAACG,CAAC,GAAC,CAAH,CAAtF,IAA6F,KAAKc,YAAL,CAAkB6B,GAAlB,CAAsB,CAAtB,MAA2B9C,CAAC,CAACG,CAAC,GAAC,CAAH,CAAzH,GAA+H,CAA/H,GAAiI,GAA1M,EAA8MD,CAAC,GAACC,CAAhN;EAAkN,CAAjgF,EAAkgFD,CAAC,CAAC+D,SAAF,CAAYhE,MAAZ,GAAmB,YAAU;IAAC,IAAIV,CAAJ;IAAM,OAAOA,CAAC,GAAC,IAAI+D,UAAJ,CAAe,KAAK5B,KAAL,GAAW,KAAKC,MAAhB,GAAuB,CAAtC,CAAF,EAA2C,KAAKuD,eAAL,CAAqB3F,CAArB,EAAuB,KAAK2E,YAAL,EAAvB,CAA3C,EAAuF3E,CAA9F;EAAgG,CAAtoF,EAAuoFO,CAAC,GAACP,CAAC,CAAC6F,QAAF,IAAY7F,CAAC,CAAC6F,QAAF,CAAWC,aAAX,CAAyB,QAAzB,CAArpF,EAAwrFrF,CAAC,GAACF,CAAC,IAAEA,CAAC,CAACgE,UAAF,CAAa,IAAb,CAA7rF,EAAgtFjE,CAAC,GAAC,UAASN,CAAT,EAAW;IAAC,IAAIE,CAAJ;IAAM,OAAOO,CAAC,CAAC0B,KAAF,GAAQnC,CAAC,CAACmC,KAAV,EAAgB1B,CAAC,CAAC2B,MAAF,GAASpC,CAAC,CAACoC,MAA3B,EAAkC3B,CAAC,CAACsF,SAAF,CAAY,CAAZ,EAAc,CAAd,EAAgB/F,CAAC,CAACmC,KAAlB,EAAwBnC,CAAC,CAACoC,MAA1B,CAAlC,EAAoE3B,CAAC,CAACuF,YAAF,CAAehG,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,CAApE,EAA0F,CAACE,CAAC,GAAC,IAAI+F,KAAJ,EAAH,EAAcC,GAAd,GAAkB3F,CAAC,CAAC4F,SAAF,EAA5G,EAA0HjG,CAAjI;EAAmI,CAAv2F,EAAw2FS,CAAC,CAAC+D,SAAF,CAAY0B,YAAZ,GAAyB,UAASpG,CAAT,EAAW;IAAC,IAAIE,CAAJ,EAAME,CAAN,EAAQC,CAAR,EAAUE,CAAV,EAAYE,CAAZ,EAAcE,CAAd,EAAgBC,CAAhB,EAAkBE,CAAlB;;IAAoB,IAAG,KAAKa,SAAR,EAAkB;MAAC,KAAIb,CAAC,GAAC,EAAF,EAAKV,CAAC,GAACK,CAAC,GAAC,CAAT,EAAWE,CAAC,GAAC,CAACC,CAAC,GAAC,KAAKe,SAAL,CAAeiB,MAAlB,EAA0BS,MAA3C,EAAkD5C,CAAC,GAACE,CAApD,EAAsDP,CAAC,GAAC,EAAEK,CAA1D,EAA4DP,CAAC,GAACU,CAAC,CAACR,CAAD,CAAH,EAAOC,CAAC,GAACL,CAAC,CAACqG,eAAF,CAAkBnG,CAAC,CAACiC,KAApB,EAA0BjC,CAAC,CAACkC,MAA5B,CAAT,EAA6C7B,CAAC,GAAC,KAAKoE,YAAL,CAAkB,IAAIZ,UAAJ,CAAe7D,CAAC,CAACoB,IAAjB,CAAlB,CAA/C,EAAyF,KAAKqE,eAAL,CAAqBtF,CAArB,EAAuBE,CAAvB,CAAzF,EAAmHL,CAAC,CAACoG,SAAF,GAAYjG,CAA/H,EAAiIS,CAAC,CAACgB,IAAF,CAAO5B,CAAC,CAACqG,KAAF,GAAQjG,CAAC,CAACD,CAAD,CAAhB,CAAjI;;MAAsJ,OAAOS,CAAP;IAAS;EAAC,CAAhpG,EAAipGH,CAAC,CAAC+D,SAAF,CAAY8B,WAAZ,GAAwB,UAASxG,CAAT,EAAWM,CAAX,EAAa;IAAC,IAAIC,CAAJ,EAAME,CAAN,EAAQE,CAAR;IAAU,OAAOJ,CAAC,GAAC,CAACE,CAAC,GAAC,KAAKkB,SAAL,CAAeiB,MAAlB,EAA0BtC,CAA1B,CAAF,EAA+BK,CAAC,GAACF,CAAC,CAACH,CAAC,GAAC,CAAH,CAAlC,EAAwC,MAAIA,CAAJ,IAAON,CAAC,CAAC+F,SAAF,CAAY,CAAZ,EAAc,CAAd,EAAgB,KAAK5D,KAArB,EAA2B,KAAKC,MAAhC,CAA/C,EAAuF,CAAC,QAAMzB,CAAN,GAAQA,CAAC,CAACuC,SAAV,GAAoB,KAAK,CAA1B,MAA+B9C,CAA/B,GAAiCJ,CAAC,CAAC+F,SAAF,CAAYpF,CAAC,CAACmC,OAAd,EAAsBnC,CAAC,CAACoC,OAAxB,EAAgCpC,CAAC,CAACwB,KAAlC,EAAwCxB,CAAC,CAACyB,MAA1C,CAAjC,GAAmF,CAAC,QAAMzB,CAAN,GAAQA,CAAC,CAACuC,SAAV,GAAoB,KAAK,CAA1B,MAA+B7C,CAA/B,IAAkCL,CAAC,CAACgG,YAAF,CAAerF,CAAC,CAAC2F,SAAjB,EAA2B3F,CAAC,CAACmC,OAA7B,EAAqCnC,CAAC,CAACoC,OAAvC,CAA5M,EAA4PxC,CAAC,CAAC4C,OAAF,KAAYjD,CAAZ,IAAeF,CAAC,CAAC+F,SAAF,CAAYxF,CAAC,CAACuC,OAAd,EAAsBvC,CAAC,CAACwC,OAAxB,EAAgCxC,CAAC,CAAC4B,KAAlC,EAAwC5B,CAAC,CAAC6B,MAA1C,CAA3Q,EAA6TpC,CAAC,CAACyG,SAAF,CAAYlG,CAAC,CAACgG,KAAd,EAAoBhG,CAAC,CAACuC,OAAtB,EAA8BvC,CAAC,CAACwC,OAAhC,CAApU;EAA6W,CAA9iH,EAA+iHpC,CAAC,CAAC+D,SAAF,CAAYgC,OAAZ,GAAoB,UAAS1G,CAAT,EAAW;IAAC,IAAIE,CAAJ;IAAA,IAAME,CAAN;IAAA,IAAQC,CAAR;IAAA,IAAUC,CAAV;IAAA,IAAYC,CAAZ;IAAA,IAAcE,CAAd;IAAA,IAAgBE,CAAC,GAAC,IAAlB;IAAuB,OAAOP,CAAC,GAAC,CAAF,EAAIK,CAAC,GAAC,KAAKkB,SAAX,EAAqBrB,CAAC,GAACG,CAAC,CAACiC,SAAzB,EAAmCrC,CAAC,GAACI,CAAC,CAACmC,MAAvC,EAA8CrC,CAAC,GAACE,CAAC,CAACkC,QAAlD,EAA2D,CAACzC,CAAC,GAAC,YAAU;MAAC,IAAIO,CAAJ,EAAMG,CAAN;MAAQ,IAAGH,CAAC,GAACL,CAAC,KAAGE,CAAN,EAAQM,CAAC,GAACP,CAAC,CAACI,CAAD,CAAX,EAAeE,CAAC,CAAC6F,WAAF,CAAcxG,CAAd,EAAgBS,CAAhB,CAAf,EAAkCH,CAAC,GAAC,CAAF,IAAKF,CAAC,GAACE,CAAF,GAAIC,CAA9C,EAAgD,OAAOI,CAAC,CAACgB,SAAF,CAAYgF,QAAZ,GAAqBC,UAAU,CAAC1G,CAAD,EAAGU,CAAC,CAACqC,KAAL,CAAtC;IAAkD,CAAxH,GAAlE;EAA8L,CAApyH,EAAqyHtC,CAAC,CAAC+D,SAAF,CAAYmC,aAAZ,GAA0B,YAAU;IAAC,IAAI7G,CAAJ;IAAM,OAAO8G,YAAY,CAAC,SAAO9G,CAAC,GAAC,KAAK2B,SAAd,IAAyB3B,CAAC,CAAC2G,QAA3B,GAAoC,KAAK,CAA1C,CAAnB;EAAgE,CAAh5H,EAAi5HhG,CAAC,CAAC+D,SAAF,CAAYF,MAAZ,GAAmB,UAASxE,CAAT,EAAW;IAAC,IAAIE,CAAJ,EAAME,CAAN;IAAQ,OAAOJ,CAAC,CAAC+G,IAAF,IAAQ/G,CAAC,CAAC+G,IAAF,CAAOF,aAAP,EAAR,EAA+B7G,CAAC,CAAC+G,IAAF,GAAO,IAAtC,EAA2C/G,CAAC,CAACmC,KAAF,GAAQ,KAAKA,KAAxD,EAA8DnC,CAAC,CAACoC,MAAF,GAAS,KAAKA,MAA5E,EAAmFlC,CAAC,GAACF,CAAC,CAACuE,UAAF,CAAa,IAAb,CAArF,EAAwG,KAAK5C,SAAL,IAAgB,KAAKyE,YAAL,CAAkBlG,CAAlB,GAAqB,KAAKwG,OAAL,CAAaxG,CAAb,CAArC,KAAuDE,CAAC,GAACF,CAAC,CAACmG,eAAF,CAAkB,KAAKlE,KAAvB,EAA6B,KAAKC,MAAlC,CAAF,EAA4C,KAAKuD,eAAL,CAAqBvF,CAArB,EAAuB,KAAKuE,YAAL,EAAvB,CAA5C,EAAwFzE,CAAC,CAAC8F,YAAF,CAAe5F,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,CAA/I,CAA/G;EAAqR,CAA7sI,EAA8sIO,CAArtI;AAAutI,CAA57M,CAA67MqG,IAA77M,CAAN;;AAAy8M,MAAMpC,CAAC,GAAC,IAAIqC,GAAJ,CAAQ,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,CAAR,CAAR;;AAA2C,eAAepC,CAAf,CAAiB3E,CAAjB,EAAmBE,CAAnB,EAAqB;EAAC,IAAG,CAACgB,CAAJ,EAAM,MAAM,IAAIpB,CAAJ,CAAM,oBAAN,EAA2B,sDAA3B,CAAN;EAAyF,MAAMS,CAAC,EAAP;EAAU,MAAK;IAACyG,MAAM,EAAC5G,CAAR;IAAU6G,WAAW,EAAC5G;EAAtB,IAAyBH,CAA9B;EAAA,MAAgC;IAAC+B,KAAK,EAACvB,CAAP;IAASwB,MAAM,EAACtB,CAAhB;IAAkBsG,SAAS,EAACrG,CAA5B;IAA8BsG,UAAU,EAACpG,CAAzC;IAA2CqG,MAAM,EAACpG,CAAlD;IAAoDqG,IAAI,EAAClG;EAAzD,IAA4DV,CAAC,CAACT,CAAD,EAAG;IAACsH,WAAW,EAAClH,CAAb;IAAe6G,WAAW,EAAC5G,CAA3B;IAA6BkH,iBAAiB,EAACrH,CAAC,CAACqH;EAAjD,CAAH,CAA7F;EAAqK,OAAO,IAAIpH,CAAJ,CAAM;IAAC8B,KAAK,EAACvB,CAAP;IAASwB,MAAM,EAACtB,CAAhB;IAAkBsG,SAAS,EAACrG,CAAC,CAAC2G,WAAF,EAA5B;IAA4CJ,MAAM,EAACpG,CAAnD;IAAqDqG,IAAI,EAAClG,CAA1D;IAA4DgG,UAAU,EAACpG;EAAvE,CAAN,CAAP;AAAwF;;AAAA,eAAe6D,CAAf,CAAiB9E,CAAjB,EAAmBE,CAAnB,EAAqB;EAAC,MAAMI,CAAC,GAAC,MAAMY,CAAC,CAAClB,CAAD,EAAGE,CAAH,CAAf;EAAqBE,CAAC,CAACE,CAAD,CAAD;EAAK,MAAMC,CAAC,GAAC,IAAIF,CAAJ,CAAM;IAAC8B,KAAK,EAAC7B,CAAC,CAAC6B,KAAT;IAAeC,MAAM,EAAC9B,CAAC,CAAC8B,MAAxB;IAA+BkF,MAAM,EAAChH,CAAC,CAACgH,MAAxC;IAA+CF,SAAS,EAAC9G,CAAC,CAAC8G,SAAF,CAAYM,WAAZ,EAAzD;IAAmFH,IAAI,EAACjH,CAAC,CAACiH,IAA1F;IAA+FF,UAAU,EAAC;EAA1G,CAAN,CAAR;EAA+H,OAAO9G,CAAC,CAACoH,gBAAF,IAAqBpH,CAA5B;AAA8B;;AAAA,eAAewE,CAAf,CAAiB/E,CAAjB,EAAmBE,CAAnB,EAAqB;EAAC,MAAME,CAAC,GAAC,MAAMa,CAAC,CAACjB,CAAD,EAAGE,CAAC,CAAC0H,aAAL,CAAf;EAAA,MAAmCtH,CAAC,GAAC,IAAID,CAAJ,CAAM;IAAC8B,KAAK,EAAC/B,CAAC,CAAC+B,KAAT;IAAeC,MAAM,EAAChC,CAAC,CAACgC,MAAxB;IAA+BkF,MAAM,EAAClH,CAAC,CAACkH,MAAxC;IAA+CF,SAAS,EAAChH,CAAC,CAACgH,SAAF,CAAYM,WAAZ,EAAzD;IAAmFH,IAAI,EAACnH,CAAC,CAACmH,IAA1F;IAA+FF,UAAU,EAAC;EAA1G,CAAN,CAArC;EAA4J,OAAO/G,CAAC,CAACqH,gBAAF,IAAqBrH,CAA5B;AAA8B;;AAAA,SAAS0E,CAAT,CAAWhF,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAACF,CAAC,CAACkH,SAAF,IAAa,IAArB;EAAA,MAA0B9G,CAAC,GAACD,CAAC,CAACwH,wBAAF,CAA2BzH,CAA3B,CAA5B;EAAA,MAA0DG,CAAC,GAAC,SAAOH,CAAP,GAASJ,CAAT,GAAW,IAAIM,CAAJ,CAAMN,CAAC,CAAC8H,MAAR,CAAvE;EAAA,MAAuFrH,CAAC,GAAC,EAAzF;EAAA,MAA4FE,CAAC,GAACT,CAAC,CAAC6H,MAAF,IAAU,CAAxG;EAA0G,IAAG,MAAIpH,CAAP,EAASF,CAAC,CAACqB,IAAF,CAAOvB,CAAP,EAAT,KAAwB,KAAI,IAAIF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACM,CAAd,EAAgBN,CAAC,EAAjB,EAAoB;IAAC,MAAMD,CAAC,GAAC,CAACF,CAAC,CAACiC,KAAF,IAAS,CAAV,KAAcjC,CAAC,CAACkC,MAAF,IAAUpC,CAAC,CAACqD,MAA1B,CAAR;IAAA,MAA0CzC,CAAC,GAAC,IAAIN,CAAJ,CAAMF,CAAN,CAA5C;;IAAqD,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACI,CAAd,EAAgBJ,CAAC,EAAjB,EAAoBY,CAAC,CAACZ,CAAD,CAAD,GAAKO,CAAC,CAACP,CAAC,GAACW,CAAF,GAAIN,CAAL,CAAN;;IAAcI,CAAC,CAACqB,IAAF,CAAOlB,CAAP;EAAU;EAAA,MAAMA,CAAC,GAAC,IAAIP,CAAJ,CAAM;IAAC8B,KAAK,EAACjC,CAAC,CAACiC,KAAF,IAAS,CAAhB;IAAkBC,MAAM,EAAClC,CAAC,CAACkC,MAAF,IAAUpC,CAAC,CAACqD,MAArC;IAA4CiE,MAAM,EAAC7G,CAAnD;IAAqD2G,SAAS,EAAChH,CAA/D;IAAiEiH,UAAU,EAAC;EAA5E,CAAN,CAAR;EAAiG,OAAOzG,CAAC,CAAC+G,gBAAF,IAAqB/G,CAA5B;AAA8B;;AAAA,SAASqE,CAAT,CAAWjF,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAO8E,CAAC,CAAC,IAAIlE,CAAJ,CAAM,IAAIiD,UAAJ,CAAe/D,CAAf,CAAN,EAAyBsF,QAAzB,EAAD,EAAqCpF,CAArC,CAAR;AAAgD;;AAAA,SAASgF,CAAT,CAAWlF,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAO8E,CAAC,CAACpE,CAAC,CAACZ,CAAD,EAAGE,CAAC,CAACgH,MAAL,EAAYhH,CAAC,CAAC8H,GAAd,EAAkB,CAAC9H,CAAC,CAAC+H,gBAArB,CAAF,EAAyC/H,CAAzC,CAAR;AAAoD;;AAAA,SAASiF,CAAT,CAAWnF,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAiB;EAAC,MAAK;IAAC8H,aAAa,EAAC5H;EAAf,IAAkB6H,CAAC,CAACjI,CAAC,CAACkH,SAAH,CAAxB;EAAA,MAAsC7G,CAAC,GAAC,CAAC,GAAEQ,CAAC,CAACL,MAAL,EAAaV,CAAb,EAAe;IAACmC,KAAK,EAACjC,CAAC,CAACiC,KAAT;IAAeC,MAAM,EAAClC,CAAC,CAACkC,MAAxB;IAA+BgF,SAAS,EAAC9G,CAAzC;IAA2C8H,MAAM,EAAChI;EAAlD,CAAf,CAAxC;EAAA,MAA6GK,CAAC,GAAC,IAAIJ,CAAJ,CAAM;IAAC8B,KAAK,EAACjC,CAAC,CAACiC,KAAT;IAAeC,MAAM,EAAClC,CAAC,CAACkC,MAAxB;IAA+BkF,MAAM,EAAC/G,CAAC,CAAC+G,MAAxC;IAA+CF,SAAS,EAAClH,CAAC,CAACkH,SAA3D;IAAqEG,IAAI,EAAChH,CAAC,CAACgH,IAA5E;IAAiFF,UAAU,EAAC;EAA5F,CAAN,CAA/G;EAAwN,OAAO5G,CAAC,CAACkH,gBAAF,IAAqBlH,CAA5B;AAA8B;;AAAA,SAAS2E,CAAT,CAAWpF,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAACG,CAAC,CAACG,MAAF,CAASV,CAAT,EAAWE,CAAC,CAACmI,aAAF,IAAiB,KAAK,CAAjC,CAAR;EAAA,MAA4C/H,CAAC,GAAC,IAAID,CAAJ,CAAM;IAAC8B,KAAK,EAAC/B,CAAC,CAAC+B,KAAT;IAAeC,MAAM,EAAChC,CAAC,CAACgC,MAAxB;IAA+BkF,MAAM,EAAClH,CAAC,CAACkH,MAAxC;IAA+CF,SAAS,EAAC,IAAzD;IAA8DG,IAAI,EAACnH,CAAC,CAACmH,IAArE;IAA0EF,UAAU,EAAC;EAArF,CAAN,CAA9C;EAAgJ,OAAO/G,CAAC,CAACqH,gBAAF,IAAqBrH,CAA5B;AAA8B;;AAAA,SAAS+E,CAAT,CAAWrF,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAAC,IAAI2D,UAAJ,CAAe/D,CAAf,CAAR;EAAA,MAA0BM,CAAC,GAAC,IAAIe,CAAJ,CAAMjB,CAAN,CAA5B;EAAA,MAAqC;IAAC+B,KAAK,EAAC5B,CAAP;IAAS6B,MAAM,EAAC3B;EAAhB,IAAmBP,CAAxD;EAAA,MAA0DS,CAAC,GAACJ,CAAC,GAACE,CAA9D;EAAA,MAAgEG,CAAC,GAACN,CAAC,CAACI,MAAF,EAAlE;EAA6E,IAAII,CAAJ;EAAA,IAAMC,CAAC,GAAC,CAAR;EAAA,IAAUE,CAAC,GAAC,CAAZ;EAAc,MAAMC,CAAC,GAAC,IAAI6C,UAAJ,CAAepD,CAAf,CAAR;;EAA0B,KAAII,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACJ,CAAV,EAAYI,CAAC,EAAb,EAAgBG,CAAC,CAACH,CAAD,CAAD,GAAKH,CAAC,CAAC,IAAEG,CAAF,GAAI,CAAL,CAAN;;EAAc,MAAMK,CAAC,GAAC,IAAIf,CAAJ,CAAM;IAAC8B,KAAK,EAAC5B,CAAP;IAAS6B,MAAM,EAAC3B,CAAhB;IAAkB6G,MAAM,EAAC,EAAzB;IAA4BF,SAAS,EAAC,IAAtC;IAA2CG,IAAI,EAACrG,CAAhD;IAAkDmG,UAAU,EAAC;EAA7D,CAAN,CAAR;;EAAgF,KAAItG,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC,CAAV,EAAYA,CAAC,EAAb,EAAgB;IAAC,KAAID,CAAC,GAAC,IAAIiD,UAAJ,CAAepD,CAAf,CAAF,EAAoBM,CAAC,GAAC,CAA1B,EAA4BA,CAAC,GAACN,CAA9B,EAAgCM,CAAC,EAAjC,EAAoCH,CAAC,CAACG,CAAD,CAAD,GAAKL,CAAC,CAAC,IAAEK,CAAF,GAAIF,CAAL,CAAN;;IAAcK,CAAC,CAACkH,OAAF,CAAU;MAAChB,MAAM,EAACxG;IAAR,CAAV;EAAsB;;EAAA,OAAOM,CAAC,CAACuG,gBAAF,IAAqBvG,CAA5B;AAA8B;;AAAA,eAAemH,CAAf,CAAiBvI,CAAjB,EAAmBE,CAAnB,EAAqBE,CAArB,EAAuBG,CAAvB,EAAyB;EAAC,MAAME,CAAC,GAAC,IAAIH,CAAJ,EAAR;EAAA,MAAcK,CAAC,GAAC;IAAC6H,aAAa,EAAC,CAAC,CAAhB;IAAkBJ,MAAM,EAAClI,CAAzB;IAA2B,GAAGE;EAA9B,CAAhB;EAAA,MAAiDQ,CAAC,GAAC,MAAMH,CAAC,CAACC,MAAF,CAASV,CAAT,EAAWW,CAAX,EAAaJ,CAAb,CAAzD;EAAA,MAAyEO,CAAC,GAAC,IAAIT,CAAJ,CAAMO,CAAN,CAA3E;EAAoF,OAAOE,CAAC,CAAC6G,gBAAF,IAAqB7G,CAA5B;AAA8B;;AAAA,SAAS2H,CAAT,CAAWvI,CAAX,EAAa;EAAC,IAAG,QAAMA,CAAT,EAAW,MAAM,IAAIF,CAAJ,CAAM,oBAAN,EAA2B,oCAA3B,CAAN;EAAuE,MAAMI,CAAC,GAAC,IAAI2D,UAAJ,CAAe7D,CAAf,EAAiB,CAAjB,EAAmB,EAAnB,CAAR;EAA+B,IAAIG,CAAC,GAAC,EAAN;EAAS,OAAO,QAAMD,CAAC,CAAC,CAAD,CAAP,IAAY,QAAMA,CAAC,CAAC,CAAD,CAAnB,GAAuBC,CAAC,GAAC,KAAzB,GAA+B,QAAMD,CAAC,CAAC,CAAD,CAAP,IAAY,OAAKA,CAAC,CAAC,CAAD,CAAlB,IAAuB,OAAKA,CAAC,CAAC,CAAD,CAA7B,IAAkC,OAAKA,CAAC,CAAC,CAAD,CAAxC,GAA4CC,CAAC,GAAC,KAA9C,GAAoD,OAAKD,CAAC,CAAC,CAAD,CAAN,IAAW,QAAMA,CAAC,CAAC,CAAD,CAAlB,IAAuB,QAAMA,CAAC,CAAC,CAAD,CAA9B,IAAmC,OAAKA,CAAC,CAAC,CAAD,CAAzC,IAA8C,OAAKA,CAAC,CAAC,CAAD,CAApD,IAAyD,QAAMA,CAAC,CAAC,CAAD,CAAhE,IAAqE,OAAKA,CAAC,CAAC,CAAD,CAA3E,IAAgF,QAAMA,CAAC,CAAC,CAAD,CAAvF,IAA4F,QAAMA,CAAC,CAAC,CAAD,CAAnG,IAAwG,OAAKA,CAAC,CAAC,CAAD,CAA9G,GAAkHC,CAAC,GAAC,MAApH,GAA2H,OAAKD,CAAC,CAAC,CAAD,CAAN,IAAW,QAAMA,CAAC,CAAC,CAAD,CAAlB,IAAuB,QAAMA,CAAC,CAAC,CAAD,CAA9B,IAAmC,OAAKA,CAAC,CAAC,CAAD,CAAzC,IAA8C,OAAKA,CAAC,CAAC,CAAD,CAApD,IAAyD,OAAKA,CAAC,CAAC,CAAD,CAA/D,GAAmEC,CAAC,GAAC,OAArE,GAA6E,OAAKD,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,IAAsB,OAAKA,CAAC,CAAC,CAAD,CAA5B,IAAiC,MAAIA,CAAC,CAAC,CAAD,CAAtC,IAA2C,OAAKA,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,IAAsB,MAAIA,CAAC,CAAC,CAAD,CAA3B,IAAgC,OAAKA,CAAC,CAAC,CAAD,CAAjF,IAAsF,OAAKA,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,IAAsB,OAAKA,CAAC,CAAC,CAAD,CAA5B,IAAiC,MAAIA,CAAC,CAAC,CAAD,CAA5H,IAAiI,OAAKA,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,IAAsB,MAAIA,CAAC,CAAC,CAAD,CAA3B,IAAgC,OAAKA,CAAC,CAAC,CAAD,CAAvK,GAA2KC,CAAC,GAAC,MAA7K,GAAoL,OAAKD,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,IAAsB,OAAKA,CAAC,CAAC,CAAD,CAA5B,GAAgCC,CAAC,GAAC,KAAlC,GAAwC,OAAKD,CAAC,CAAC,CAAD,CAAN,IAAW,OAAKA,CAAC,CAAC,CAAD,CAAjB,GAAqBC,CAAC,GAAC,KAAvB,GAA6B0B,MAAM,CAACC,YAAP,CAAoByB,KAApB,CAA0B,IAA1B,EAA+BrD,CAA/B,EAAkCsH,WAAlC,GAAgDgB,QAAhD,CAAyD,OAAzD,MAAoErI,CAAC,GAAC,OAAtE,CAAphB,EAAmmBA,CAA1mB;AAA4mB;;AAAA,SAASsI,CAAT,CAAWzI,CAAX,EAAa;EAAC,IAAIE,CAAC,GAAC,IAAN;;EAAW,QAAOF,CAAP;IAAU,KAAI,MAAJ;IAAW,KAAI,OAAJ;MAAYE,CAAC,GAACyE,CAAF;MAAI;;IAAM,KAAI,KAAJ;MAAUzE,CAAC,GAACgF,CAAF;MAAI;;IAAM,KAAI,KAAJ;MAAUhF,CAAC,GAACiF,CAAF;MAAI;;IAAM,KAAI,KAAJ;IAAU,KAAI,KAAJ;MAAUjF,CAAC,GAAC,CAACJ,CAAD,EAAGI,CAAH,KAAO+E,CAAC,CAACnF,CAAD,EAAGI,CAAH,EAAKF,CAAL,CAAV;;MAAkB;;IAAM,KAAI,MAAJ;MAAWE,CAAC,GAAC0E,CAAF;MAAI;;IAAM,KAAI,SAAJ;MAAc1E,CAAC,GAAC6E,CAAF;MAAI;;IAAM,KAAI,KAAJ;MAAU7E,CAAC,GAAC8E,CAAF;MAAI;;IAAM,KAAI,OAAJ;MAAY9E,CAAC,GAAC,MAAI;QAAC,MAAM,IAAIJ,CAAJ,CAAM,oBAAN,EAA2B,2BAA3B,CAAN;MAA8D,CAArE;;MAAsE;;IAAM;MAAQI,CAAC,GAAC,MAAI;QAAC,MAAM,IAAIJ,CAAJ,CAAM,oBAAN,EAA2B,2BAA3B,CAAN;MAA8D,CAArE;;EAAhS;;EAAsW,OAAOI,CAAP;AAAS;;AAAA,SAAS+H,CAAT,CAAWnI,CAAX,EAAa;EAAC,IAAIE,CAAC,GAAC,IAAN;EAAA,IAAWE,CAAC,GAAC,IAAb;;EAAkB,QAAOJ,CAAC,GAACA,CAAC,CAAC0H,WAAF,EAAD,GAAiB,KAAzB;IAAgC,KAAI,IAAJ;IAAS,KAAI,IAAJ;IAAS,KAAI,IAAJ;IAAS,KAAI,IAAJ;MAAStH,CAAC,GAAC,GAAF,EAAMF,CAAC,GAAC6D,UAAR;MAAmB;;IAAM,KAAI,KAAJ;MAAU3D,CAAC,GAACA,CAAC,IAAE,KAAL,EAAWF,CAAC,GAAC0I,WAAb;MAAyB;;IAAM,KAAI,KAAJ;MAAUxI,CAAC,GAACA,CAAC,IAAE,KAAG,EAAH,GAAM,CAAX,EAAaF,CAAC,GAAC2I,WAAf;MAA2B;;IAAM,KAAI,IAAJ;MAASzI,CAAC,GAACA,CAAC,IAAE,CAAC,GAAN,EAAUF,CAAC,GAAC4I,SAAZ;MAAsB;;IAAM,KAAI,KAAJ;MAAU1I,CAAC,GAACA,CAAC,IAAE,CAAC,KAAN,EAAYF,CAAC,GAAC6I,UAAd;MAAyB;;IAAM,KAAI,KAAJ;MAAU3I,CAAC,GAACA,CAAC,IAAE,IAAE,KAAG,EAAV,EAAaF,CAAC,GAAC8I,UAAf;MAA0B;;IAAM;MAAQ9I,CAAC,GAAC+I,YAAF;EAAjT;;EAAgU,OAAM;IAACf,aAAa,EAAChI,CAAf;IAAiBiH,WAAW,EAAC/G;EAA7B,CAAN;AAAsC;;AAAA,SAAS8I,CAAT,CAAWlJ,CAAX,EAAaI,CAAC,GAAC,CAAf,EAAiB;EAAC,IAAG,CAACJ,CAAJ,EAAM;EAAO,MAAK;IAACsH,MAAM,EAAChH,CAAR;IAAU6B,KAAK,EAAC5B,CAAhB;IAAkB6B,MAAM,EAAC3B,CAAzB;IAA2B8G,IAAI,EAAC5G;EAAhC,IAAmCX,CAAxC;EAA0C,IAAG,CAACM,CAAD,IAAI,MAAIA,CAAC,CAAC+C,MAAb,EAAoB;EAAO,MAAMzC,CAAC,GAACN,CAAC,CAAC+C,MAAV;EAAA,MAAiBvC,CAAC,GAACP,CAAC,GAAC,CAArB;EAAA,MAAuBQ,CAAC,GAACN,CAAC,GAAC,CAA3B;EAAA,MAA6BQ,CAAC,GAAC,EAA/B;EAAkC,IAAIC,CAAJ;EAAA,IAAME,CAAN;EAAA,IAAQC,CAAR;EAAA,IAAUuD,CAAV;EAAA,IAAYC,CAAZ;EAAA,IAAcC,CAAd;EAAA,IAAgBC,CAAC,GAAC,IAAlB;EAAuB,MAAMC,CAAC,GAAC3E,CAAC,CAACwH,wBAAF,CAA2B7H,CAAC,CAACoH,SAA7B,CAAR;;EAAgD,IAAG,MAAIhH,CAAP,EAAS;IAAC,KAAIc,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACN,CAAV,EAAYM,CAAC,EAAb,EAAgB;MAAC,KAAI2D,CAAC,GAACvE,CAAC,CAACY,CAAD,CAAH,EAAO4D,CAAC,GAAC,IAAIE,CAAJ,CAAMlE,CAAC,GAACC,CAAR,CAAT,EAAoBK,CAAC,GAAC,CAA1B,EAA4BA,CAAC,GAACL,CAA9B,EAAgCK,CAAC,EAAjC,EAAoC,KAAIwD,CAAC,GAACxD,CAAC,GAACb,CAAJ,EAAMc,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACP,CAAhB,EAAkBO,CAAC,EAAnB,EAAsByD,CAAC,CAAC1D,CAAC,GAACN,CAAF,GAAIO,CAAL,CAAD,GAASwD,CAAC,CAACD,CAAC,GAACvD,CAAH,CAAV;;MAAgBJ,CAAC,CAACa,IAAF,CAAOgD,CAAP;IAAU;;IAAA,IAAG5E,CAAC,CAACS,CAAD,CAAJ,EAAQ,KAAIoE,CAAC,GAAC,IAAIhB,UAAJ,CAAejD,CAAC,GAACC,CAAjB,CAAF,EAAsBK,CAAC,GAAC,CAA5B,EAA8BA,CAAC,GAACL,CAAhC,EAAkCK,CAAC,EAAnC,EAAsC,KAAIwD,CAAC,GAACxD,CAAC,GAACb,CAAJ,EAAMc,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACP,CAAhB,EAAkBO,CAAC,EAAnB,EAAsB0D,CAAC,CAAC3D,CAAC,GAACN,CAAF,GAAIO,CAAL,CAAD,GAASV,CAAC,CAACiE,CAAC,GAACvD,CAAH,CAAV;EAAgB,CAAnM,MAAuM;IAAC,KAAIH,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACN,CAAV,EAAYM,CAAC,EAAb,EAAgB;MAAC,KAAI2D,CAAC,GAACvE,CAAC,CAACY,CAAD,CAAH,EAAO4D,CAAC,GAAC,IAAIE,CAAJ,CAAMlE,CAAC,GAACC,CAAR,CAAT,EAAoBK,CAAC,GAAC,CAA1B,EAA4BA,CAAC,GAACL,CAA9B,EAAgCK,CAAC,EAAjC,EAAoC,KAAIwD,CAAC,GAACxD,CAAC,GAACb,CAAJ,EAAMc,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACP,CAAhB,EAAkBO,CAAC,EAAnB,EAAsByD,CAAC,CAAC1D,CAAC,GAACN,CAAF,GAAIO,CAAL,CAAD,GAAS,CAACwD,CAAC,CAACD,CAAC,GAACvD,CAAH,CAAD,GAAOwD,CAAC,CAACD,CAAC,GAACvD,CAAF,GAAI,CAAL,CAAR,GAAgBwD,CAAC,CAACD,CAAC,GAACrE,CAAF,GAAIc,CAAL,CAAjB,GAAyBwD,CAAC,CAACD,CAAC,GAACrE,CAAF,GAAIc,CAAJ,GAAM,CAAP,CAA3B,IAAsC,CAA/C;;MAAiDJ,CAAC,CAACa,IAAF,CAAOgD,CAAP;IAAU;;IAAA,IAAGnE,CAAH,EAAK,KAAIoE,CAAC,GAAC,IAAIhB,UAAJ,CAAejD,CAAC,GAACC,CAAjB,CAAF,EAAsBK,CAAC,GAAC,CAA5B,EAA8BA,CAAC,GAACL,CAAhC,EAAkCK,CAAC,EAAnC,EAAsC,KAAIwD,CAAC,GAACxD,CAAC,GAACb,CAAJ,EAAMc,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACP,CAAhB,EAAkBO,CAAC,EAAnB,EAAsB0D,CAAC,CAAC3D,CAAC,GAACN,CAAF,GAAIO,CAAL,CAAD,GAASkE,IAAI,CAAC4D,GAAL,CAAS1F,KAAT,CAAe,IAAf,EAAoB,CAAC9C,CAAC,CAACiE,CAAC,GAACvD,CAAH,CAAF,EAAQV,CAAC,CAACiE,CAAC,GAACvD,CAAF,GAAI,CAAL,CAAT,EAAiBV,CAAC,CAACiE,CAAC,GAACrE,CAAF,GAAIc,CAAL,CAAlB,EAA0BV,CAAC,CAACiE,CAAC,GAACrE,CAAF,GAAIc,CAAJ,GAAM,CAAP,CAA3B,CAApB,CAAT;EAAoE;;EAAArB,CAAC,CAACmC,KAAF,GAAQrB,CAAR,EAAUd,CAAC,CAACoC,MAAF,GAASrB,CAAnB,EAAqBf,CAAC,CAACuH,IAAF,GAAOxC,CAA5B,EAA8B/E,CAAC,CAACsH,MAAF,GAASrG,CAAvC;AAAyC;;AAAA,SAASmI,CAAT,CAAWpJ,CAAX,EAAa;EAAC,IAAIE,CAAC,GAACuI,CAAC,CAACzI,CAAD,CAAP;EAAW,OAAM,YAAUE,CAAV,GAAYA,CAAC,GAAC,MAAd,GAAqB,YAAUA,CAAV,KAAcA,CAAC,GAAC,EAAhB,CAArB,EAAyCA,CAA/C;AAAiD;;AAAA,eAAemJ,CAAf,CAAiBnJ,CAAjB,EAAmBE,CAAC,GAAC,EAArB,EAAwBC,CAAxB,EAA0B;EAAC,IAAG,QAAMH,CAAT,EAAW,MAAM,IAAIF,CAAJ,CAAM,oBAAN,EAA2B,gCAA3B,CAAN;EAAmE,IAAIM,CAAJ;EAAA,IAAMC,CAAN;EAAA,IAAQE,CAAC,GAACL,CAAC,CAACgI,MAAF,IAAUhI,CAAC,CAACgI,MAAF,CAASV,WAAT,EAApB;EAA2C,IAAG,EAAE,UAAQjH,CAAR,IAAW,UAAQA,CAAnB,IAAsB,QAAML,CAAC,CAAC+B,KAAR,IAAe,QAAM/B,CAAC,CAACgC,MAA/C,CAAH,EAA0D,MAAM,IAAIpC,CAAJ,CAAM,oBAAN,EAA2B,iDAA3B,CAAN;EAAoF,OAAM,WAASS,CAAT,IAAYL,CAAC,CAACwH,aAAd,GAA4B7C,CAAC,CAAC7E,CAAD,EAAGE,CAAH,CAA7B,IAAoC,CAAC,CAACK,CAAD,IAAI,UAAQA,CAAR,IAAW,UAAQA,CAAnB,IAAsB,cAAYA,CAAlC,IAAqC,UAAQA,CAAlD,MAAuDA,CAAC,GAACgI,CAAC,CAACvI,CAAD,CAA1D,GAA+DE,CAAC,CAACkJ,SAAF,IAAa1E,CAAC,CAAC2E,GAAF,CAAM9I,CAAN,CAAb,GAAsBF,CAAC,GAAC,MAAMgI,CAAC,CAACrI,CAAD,EAAGO,CAAH,EAAKL,CAAL,EAAOC,CAAP,CAA/B,IAA0CC,CAAC,GAACqI,CAAC,CAAClI,CAAD,CAAH,EAAOL,CAAC,CAACoJ,OAAF,KAAY,QAAM,CAACpJ,CAAC,GAAC,EAAC,GAAGA;EAAJ,CAAH,EAAW+B,KAAjB,IAAwB/B,CAAC,CAAC+B,KAAF,EAAxB,EAAkC,QAAM/B,CAAC,CAACgC,MAAR,IAAgBhC,CAAC,CAACgC,MAAF,EAA9D,CAAP,EAAiF7B,CAAC,GAAC,MAAMD,CAAC,CAACJ,CAAD,EAAGE,CAAH,CAA1F,EAAgGA,CAAC,CAACoJ,OAAF,IAAWN,CAAC,CAAC3I,CAAD,CAAtJ,CAA/D,EAA0NA,CAA9P,CAAN;AAAuQ;;AAAA,SAAO8I,CAAC,IAAI3I,MAAZ,EAAmB0I,CAAC,IAAIK,SAAxB"},"metadata":{},"sourceType":"module"}