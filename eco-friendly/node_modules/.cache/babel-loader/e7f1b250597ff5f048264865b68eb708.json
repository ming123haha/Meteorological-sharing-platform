{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: \"TrackingOfPollutants\",\n\n  mounted() {\n    this.initEcharts();\n  },\n\n  methods: {\n    initEcharts() {\n      var ROOT_PATH = 'https://echarts.apache.org/examples';\n      var app = {};\n      var chartDom = document.getElementById('main');\n      var myChart = echarts.init(chartDom);\n      var option;\n      $.get(ROOT_PATH + '/data/asset/data/hangzhou-tracks.json', function (data) {\n        var points = [].concat.apply([], data.map(function (track) {\n          return track.map(function (seg) {\n            return seg.coord.concat([1]);\n          });\n        }));\n        myChart.setOption(option = {\n          animation: false,\n          bmap: {\n            center: [120.13066322374, 30.240018034923],\n            zoom: 14,\n            roam: true\n          },\n          visualMap: {\n            show: false,\n            top: 'top',\n            min: 0,\n            max: 5,\n            seriesIndex: 0,\n            calculable: true,\n            inRange: {\n              color: ['blue', 'blue', 'green', 'yellow', 'red']\n            }\n          },\n          series: [{\n            type: 'heatmap',\n            coordinateSystem: 'bmap',\n            data: points,\n            pointSize: 5,\n            blurSize: 6\n          }]\n        }); // 添加百度地图插件\n\n        var bmap = myChart.getModel().getComponent('bmap').getBMap();\n        bmap.addControl(new BMap.MapTypeControl());\n      });\n      option && myChart.setOption(option);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAKA;AACA;EACAA,4BADA;;EAEAC;IACA;EACA,CAJA;;EAKAC;IACAC;MACA;MACA;MAEA;MACA;MACA;MAEAC;QACA,6BACA,EADA,EAEAC;UACA;YACA;UACA,CAFA;QAGA,CAJA,CAFA;QAQAC,kBACAC;UACAC,gBADA;UAEAC;YACAC,0CADA;YAEAC,QAFA;YAGAC;UAHA,CAFA;UAOAC;YACAC,WADA;YAEAC,UAFA;YAGAC,MAHA;YAIAC,MAJA;YAKAC,cALA;YAMAC,gBANA;YAOAC;cACAC;YADA;UAPA,CAPA;UAkBAC,SACA;YACAC,eADA;YAEAC,wBAFA;YAGAnB,YAHA;YAIAoB,YAJA;YAKAC;UALA,CADA;QAlBA,CADA,EATA,CAuCA;;QACA;QACAjB;MACA,CA1CA;MA4CAF;IACA;;EAtDA;AALA","names":["name","mounted","methods","initEcharts","$","data","myChart","option","animation","bmap","center","zoom","roam","visualMap","show","top","min","max","seriesIndex","calculable","inRange","color","series","type","coordinateSystem","pointSize","blurSize"],"sourceRoot":"src/views","sources":["TrackingOfPollutants.vue"],"sourcesContent":["<template>\r\n  <div id=\"main\" style=\"height: 100vh;width: 100vm\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\nexport default {\r\n  name: \"TrackingOfPollutants\",\r\n  mounted() {\r\n    this.initEcharts();\r\n  },\r\n  methods:{\r\n    initEcharts(){\r\n      var ROOT_PATH = 'https://echarts.apache.org/examples';\r\n      var app = {};\r\n\r\n      var chartDom = document.getElementById('main');\r\n      var myChart = echarts.init(chartDom);\r\n      var option;\r\n      \r\n      $.get(ROOT_PATH + '/data/asset/data/hangzhou-tracks.json', function (data) {\r\n        var points = [].concat.apply(\r\n            [],\r\n            data.map(function (track) {\r\n              return track.map(function (seg) {\r\n                return seg.coord.concat([1]);\r\n              });\r\n            })\r\n        );\r\n        myChart.setOption(\r\n            (option = {\r\n              animation: false,\r\n              bmap: {\r\n                center: [120.13066322374, 30.240018034923],\r\n                zoom: 14,\r\n                roam: true\r\n              },\r\n              visualMap: {\r\n                show: false,\r\n                top: 'top',\r\n                min: 0,\r\n                max: 5,\r\n                seriesIndex: 0,\r\n                calculable: true,\r\n                inRange: {\r\n                  color: ['blue', 'blue', 'green', 'yellow', 'red']\r\n                }\r\n              },\r\n              series: [\r\n                {\r\n                  type: 'heatmap',\r\n                  coordinateSystem: 'bmap',\r\n                  data: points,\r\n                  pointSize: 5,\r\n                  blurSize: 6\r\n                }\r\n              ]\r\n            })\r\n        );\r\n        // 添加百度地图插件\r\n        var bmap = myChart.getModel().getComponent('bmap').getBMap();\r\n        bmap.addControl(new BMap.MapTypeControl());\r\n      });\r\n\r\n      option && myChart.setOption(option);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}