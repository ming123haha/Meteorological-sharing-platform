{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { o as n, s as o, c as r } from \"../../../../chunks/vec3.js\";\nimport { c as e } from \"../../../../chunks/vec3f64.js\";\nimport { elementwiseProduct as s, scalarProduct as i, add as c } from \"../lib/LongVectorMath.js\";\nimport { MainLight as f, FillLight as h, AmbientLight as a, SphericalHarmonicsAmbientLight as g } from \"./Lightsources.js\";\n\nfunction u(t) {\n  return (t + 1) * (t + 1);\n}\n\nfunction l(n) {\n  return t(Math.floor(Math.sqrt(n) - 1), 0, 2);\n}\n\nfunction m(t, n, o) {\n  const r = t[0],\n        e = t[1],\n        s = t[2],\n        i = o || [];\n  return i.length = u(n), n >= 0 && (i[0] = .28209479177), n >= 1 && (i[1] = .4886025119 * r, i[2] = .4886025119 * s, i[3] = .4886025119 * e), n >= 2 && (i[4] = 1.09254843059 * r * e, i[5] = 1.09254843059 * e * s, i[6] = .31539156525 * (3 * s * s - 1), i[7] = 1.09254843059 * r * s, i[8] = .54627421529 * (r * r - e * e)), i;\n}\n\nfunction p(t, n) {\n  const o = u(t),\n        r = n || {\n    r: [],\n    g: [],\n    b: []\n  };\n  r.r.length = r.g.length = r.b.length = o;\n\n  for (let e = 0; e < o; e++) r.r[e] = r.g[e] = r.b[e] = 0;\n\n  return r;\n}\n\nfunction y(t, o) {\n  const r = l(o.r.length);\n\n  for (const e of t) n(P, e.direction), m(P, r, v), s(v, k), i(v, e.intensity[0], I), c(o.r, I), i(v, e.intensity[1], I), c(o.g, I), i(v, e.intensity[2], I), c(o.b, I);\n\n  return o;\n}\n\nfunction b(t, n) {\n  m(P, 0, v);\n\n  for (const o of t) n.r[0] += v[0] * k[0] * o.intensity[0] * 4 * Math.PI, n.g[0] += v[0] * k[0] * o.intensity[1] * 4 * Math.PI, n.b[0] += v[0] * k[0] * o.intensity[2] * 4 * Math.PI;\n\n  return n;\n}\n\nfunction M(t, n, e, s) {\n  p(n, s), o(e.intensity, 0, 0, 0);\n  let i = !1;\n  const u = S,\n        l = d,\n        m = j;\n  u.length = 0, l.length = 0, m.length = 0;\n\n  for (const o of t) o instanceof f && !i ? (r(e.direction, o.direction), r(e.intensity, o.intensity), e.specularStrength = o.specularStrength, e.environmentStrength = o.environmentStrength, e.castShadows = o.castShadows, i = !0) : o instanceof f || o instanceof h ? u.push(o) : o instanceof a ? l.push(o) : o instanceof g && m.push(o);\n\n  y(u, s), b(l, s);\n\n  for (const o of m) c(s.r, o.r), c(s.g, o.g), c(s.b, o.b);\n}\n\nconst S = [],\n      d = [],\n      j = [],\n      v = [0],\n      I = [0],\n      P = e(),\n      k = [3.141593, 2.094395, 2.094395, 2.094395, .785398, .785398, .785398, .785398, .785398];\nexport { M as combineLights, m as computeCoefficients, p as initSHCoefficients, u as numberOfCoefficients, l as orderFromNumberOfCoefficients, b as projectAmbientLights, y as projectFillLights };","map":{"version":3,"names":["clamp","t","o","n","s","c","r","e","elementwiseProduct","scalarProduct","i","add","MainLight","f","FillLight","h","AmbientLight","a","SphericalHarmonicsAmbientLight","g","u","l","Math","floor","sqrt","m","length","p","b","y","P","direction","v","k","intensity","I","PI","M","S","d","j","specularStrength","environmentStrength","castShadows","push","combineLights","computeCoefficients","initSHCoefficients","numberOfCoefficients","orderFromNumberOfCoefficients","projectAmbientLights","projectFillLights"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,c as r}from\"../../../../chunks/vec3.js\";import{c as e}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as s,scalarProduct as i,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=l(o.r.length);for(const e of t)n(P,e.direction),m(P,r,v),s(v,k),i(v,e.intensity[0],I),c(o.r,I),i(v,e.intensity[1],I),c(o.g,I),i(v,e.intensity[2],I),c(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,s){p(n,s),o(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof f&&!i?(r(e.direction,o.direction),r(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof f||o instanceof h?u.push(o):o instanceof a?l.push(o):o instanceof g&&m.push(o);y(u,s),b(l,s);for(const o of m)c(s.r,o.r),c(s.g,o.g),c(s.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,y as projectFillLights};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}