{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { deduplicate as e } from \"../../../../../geometry/support/meshUtils/deduplicate.js\";\nimport { computeNeighbors as t } from \"../../../support/meshProcessing.js\";\nimport { newLayout as n } from \"../../../support/buffer/InterleavedLayout.js\";\nimport { packInterleavedBuffer as r } from \"../../../support/buffer/workerHelper.js\";\nimport { VertexAttribute as i } from \"../VertexAttribute.js\";\nimport { EdgeInputBufferLayout as s } from \"./bufferLayouts.js\";\nimport { RegularEdgeBufferWriter as o, SilhouetteEdgeBufferWriter as a } from \"./edgeBufferWriters.js\";\nimport { extractEdges as c } from \"./edgePreprocessing.js\";\n\nclass u {\n  async extract(e) {\n    const t = l(e),\n          n = f(t),\n          r = [t.data.buffer];\n    return {\n      result: d(n, r),\n      transferList: r\n    };\n  }\n\n  async extractComponentsEdgeLocations(e) {\n    const t = l(e),\n          n = p(t.data, t.skipDeduplicate, t.indices, t.indicesLength),\n          i = c(n, L, D),\n          s = [];\n    return {\n      result: r(i.regular.instancesData, s),\n      transferList: s\n    };\n  }\n\n  async extractEdgeLocations(e) {\n    const t = l(e),\n          n = p(t.data, t.skipDeduplicate, t.indices, t.indicesLength),\n          i = c(n, w, D),\n          s = [];\n    return {\n      result: r(i.regular.instancesData, s),\n      transferList: s\n    };\n  }\n\n}\n\nfunction f(e) {\n  const t = p(e.data, e.skipDeduplicate, e.indices, e.indicesLength);\n  return g.updateSettings(e.writerSettings), h.updateSettings(e.writerSettings), c(t, g, h);\n}\n\nfunction l(e) {\n  return {\n    data: s.createView(e.dataBuffer),\n    indices: \"Uint32Array\" === e.indicesType ? new Uint32Array(e.indicesBuffer) : \"Uint16Array\" === e.indicesType ? new Uint16Array(e.indicesBuffer) : void 0,\n    indicesLength: e.indicesLength,\n    writerSettings: e.writerSettings,\n    skipDeduplicate: e.skipDeduplicate\n  };\n}\n\nfunction d(e, t) {\n  t.push(e.regular.lodInfo.lengths.buffer), t.push(e.silhouette.lodInfo.lengths.buffer);\n  return {\n    regular: {\n      instancesData: r(e.regular.instancesData, t),\n      lodInfo: {\n        lengths: e.regular.lodInfo.lengths.buffer\n      }\n    },\n    silhouette: {\n      instancesData: r(e.silhouette.instancesData, t),\n      lodInfo: {\n        lengths: e.silhouette.lodInfo.lengths.buffer\n      }\n    },\n    averageEdgeLength: e.averageEdgeLength\n  };\n}\n\nfunction p(n, r, i, o) {\n  if (r) {\n    return {\n      faces: i,\n      facesLength: o,\n      neighbors: t(i, o, n.count),\n      vertices: n\n    };\n  }\n\n  const a = e(n.buffer, n.stride / 4, {\n    originalIndices: i,\n    originalIndicesLength: o\n  }),\n        c = t(a.indices, o, a.uniqueCount);\n  return {\n    faces: a.indices,\n    facesLength: a.indices.length,\n    neighbors: c,\n    vertices: s.createView(a.buffer)\n  };\n}\n\nconst g = new o(),\n      h = new a();\n\nclass m {\n  allocate(e) {\n    return b.createBuffer(e);\n  }\n\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1);\n  }\n\n}\n\nclass I {\n  allocate(e) {\n    return y.createBuffer(e);\n  }\n\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1), e.componentIndex.set(t, n.componentIndex);\n  }\n\n}\n\nconst w = new m(),\n      L = new I(),\n      D = {\n  allocate: () => null,\n  write: () => {},\n  trim: () => null\n},\n      b = n().vec3f(i.POSITION0).vec3f(i.POSITION1),\n      y = n().vec3f(i.POSITION0).vec3f(i.POSITION1).u16(i.COMPONENTINDEX).u16(i.U16PADDING, {\n  glPadding: !0\n});\n\nfunction v() {\n  return new u();\n}\n\nexport { u as EdgeProcessingWorker, v as default, f as extract, y as extractComponentsEdgeLocationsLayout, b as extractEdgeLocationsLayout };","map":{"version":3,"names":["deduplicate","e","computeNeighbors","t","newLayout","n","packInterleavedBuffer","r","VertexAttribute","i","EdgeInputBufferLayout","s","RegularEdgeBufferWriter","o","SilhouetteEdgeBufferWriter","a","extractEdges","c","u","extract","l","f","data","buffer","result","d","transferList","extractComponentsEdgeLocations","p","skipDeduplicate","indices","indicesLength","L","D","regular","instancesData","extractEdgeLocations","w","g","updateSettings","writerSettings","h","createView","dataBuffer","indicesType","Uint32Array","indicesBuffer","Uint16Array","push","lodInfo","lengths","silhouette","averageEdgeLength","faces","facesLength","neighbors","count","vertices","stride","originalIndices","originalIndicesLength","uniqueCount","length","m","allocate","b","createBuffer","trim","slice","write","position0","setVec","position1","I","y","componentIndex","set","vec3f","POSITION0","POSITION1","u16","COMPONENTINDEX","U16PADDING","glPadding","v","EdgeProcessingWorker","default","extractComponentsEdgeLocationsLayout","extractEdgeLocationsLayout"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{deduplicate as e}from\"../../../../../geometry/support/meshUtils/deduplicate.js\";import{computeNeighbors as t}from\"../../../support/meshProcessing.js\";import{newLayout as n}from\"../../../support/buffer/InterleavedLayout.js\";import{packInterleavedBuffer as r}from\"../../../support/buffer/workerHelper.js\";import{VertexAttribute as i}from\"../VertexAttribute.js\";import{EdgeInputBufferLayout as s}from\"./bufferLayouts.js\";import{RegularEdgeBufferWriter as o,SilhouetteEdgeBufferWriter as a}from\"./edgeBufferWriters.js\";import{extractEdges as c}from\"./edgePreprocessing.js\";class u{async extract(e){const t=l(e),n=f(t),r=[t.data.buffer];return{result:d(n,r),transferList:r}}async extractComponentsEdgeLocations(e){const t=l(e),n=p(t.data,t.skipDeduplicate,t.indices,t.indicesLength),i=c(n,L,D),s=[];return{result:r(i.regular.instancesData,s),transferList:s}}async extractEdgeLocations(e){const t=l(e),n=p(t.data,t.skipDeduplicate,t.indices,t.indicesLength),i=c(n,w,D),s=[];return{result:r(i.regular.instancesData,s),transferList:s}}}function f(e){const t=p(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),h.updateSettings(e.writerSettings),c(t,g,h)}function l(e){return{data:s.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indicesBuffer):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function d(e,t){t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:r(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:r(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}function p(n,r,i,o){if(r){return{faces:i,facesLength:o,neighbors:t(i,o,n.count),vertices:n}}const a=e(n.buffer,n.stride/4,{originalIndices:i,originalIndicesLength:o}),c=t(a.indices,o,a.uniqueCount);return{faces:a.indices,facesLength:a.indices.length,neighbors:c,vertices:s.createView(a.buffer)}}const g=new o,h=new a;class m{allocate(e){return b.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class I{allocate(e){return y.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const w=new m,L=new I,D={allocate:()=>null,write:()=>{},trim:()=>null},b=n().vec3f(i.POSITION0).vec3f(i.POSITION1),y=n().vec3f(i.POSITION0).vec3f(i.POSITION1).u16(i.COMPONENTINDEX).u16(i.U16PADDING,{glPadding:!0});function v(){return new u}export{u as EdgeProcessingWorker,v as default,f as extract,y as extractComponentsEdgeLocationsLayout,b as extractEdgeLocationsLayout};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}