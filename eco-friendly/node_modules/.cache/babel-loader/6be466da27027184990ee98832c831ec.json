{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { clamp as e } from \"../../../../../core/mathUtils.js\";\nimport { meterIn as t } from \"../../../../../renderers/support/lengthUtils.js\";\nimport { TransformationType as n } from \"../../../../../renderers/visualVariables/support/sizeVariableUtils.js\";\nconst r = Math.PI;\n\nfunction a(e, t) {\n  switch (t.transformationType) {\n    case n.Additive:\n      return s(e, t);\n\n    case n.Constant:\n      return u(t, e);\n\n    case n.ClampedLinear:\n      return o(e, t);\n\n    case n.Proportional:\n      return l(e, t);\n\n    case n.Stops:\n      return c(e, t);\n\n    case n.RealWorldSize:\n      return m(e, t);\n\n    case n.Identity:\n      return e;\n\n    case n.Unknown:\n      return null;\n  }\n}\n\nfunction i(e, t) {\n  return \"number\" == typeof e ? e : a(t, e);\n}\n\nfunction s(e, t) {\n  return e + (i(t.minSize, e) || t.minDataValue);\n}\n\nfunction u(e, t) {\n  const n = e.stops;\n  let r = n && n.length && n[0].size;\n  return null == r && (r = e.minSize), i(r, t);\n}\n\nfunction o(e, t) {\n  const n = (e - t.minDataValue) / (t.maxDataValue - t.minDataValue),\n        r = i(t.minSize, e),\n        a = i(t.maxSize, e);\n  return e <= t.minDataValue ? r : e >= t.maxDataValue ? a : r + n * (a - r);\n}\n\nfunction l(t, n) {\n  const r = t / n.minDataValue,\n        a = i(n.minSize, t),\n        s = i(n.maxSize, t);\n  let u = null;\n  return u = r * a, e(u, a, s);\n}\n\nfunction c(e, t) {\n  const [n, r, a] = p(e, t.cache.ipData);\n  if (n === r) return i(t.stops[n].size, e);\n  {\n    const s = i(t.stops[n].size, e);\n    return s + (i(t.stops[r].size, e) - s) * a;\n  }\n}\n\nfunction m(n, a) {\n  const s = t[a.valueUnit],\n        u = i(a.minSize, n),\n        o = i(a.maxSize, n),\n        {\n    valueRepresentation: l\n  } = a;\n  let c = null;\n  return c = \"area\" === l ? 2 * Math.sqrt(n / r) / s : \"radius\" === l || \"distance\" === l ? 2 * n / s : n / s, e(c, u, o);\n}\n\nfunction p(e, t) {\n  if (!t) return;\n  let n = 0,\n      r = t.length - 1;\n  return t.some((t, a) => e < t ? (r = a, !0) : (n = a, !1)), [n, r, (e - t[n]) / (t[r] - t[n])];\n}\n\nexport { a as getSizeForValueSimple };","map":{"version":3,"names":["clamp","e","meterIn","t","TransformationType","n","r","Math","PI","a","transformationType","Additive","s","Constant","u","ClampedLinear","o","Proportional","l","Stops","c","RealWorldSize","m","Identity","Unknown","i","minSize","minDataValue","stops","length","size","maxDataValue","maxSize","p","cache","ipData","valueUnit","valueRepresentation","sqrt","some","getSizeForValueSimple"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/engine/webgl/collisions/visualVariableSimpleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../../core/mathUtils.js\";import{meterIn as t}from\"../../../../../renderers/support/lengthUtils.js\";import{TransformationType as n}from\"../../../../../renderers/visualVariables/support/sizeVariableUtils.js\";const r=Math.PI;function a(e,t){switch(t.transformationType){case n.Additive:return s(e,t);case n.Constant:return u(t,e);case n.ClampedLinear:return o(e,t);case n.Proportional:return l(e,t);case n.Stops:return c(e,t);case n.RealWorldSize:return m(e,t);case n.Identity:return e;case n.Unknown:return null}}function i(e,t){return\"number\"==typeof e?e:a(t,e)}function s(e,t){return e+(i(t.minSize,e)||t.minDataValue)}function u(e,t){const n=e.stops;let r=n&&n.length&&n[0].size;return null==r&&(r=e.minSize),i(r,t)}function o(e,t){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),r=i(t.minSize,e),a=i(t.maxSize,e);return e<=t.minDataValue?r:e>=t.maxDataValue?a:r+n*(a-r)}function l(t,n){const r=t/n.minDataValue,a=i(n.minSize,t),s=i(n.maxSize,t);let u=null;return u=r*a,e(u,a,s)}function c(e,t){const[n,r,a]=p(e,t.cache.ipData);if(n===r)return i(t.stops[n].size,e);{const s=i(t.stops[n].size,e);return s+(i(t.stops[r].size,e)-s)*a}}function m(n,a){const s=t[a.valueUnit],u=i(a.minSize,n),o=i(a.maxSize,n),{valueRepresentation:l}=a;let c=null;return c=\"area\"===l?2*Math.sqrt(n/r)/s:\"radius\"===l||\"distance\"===l?2*n/s:n/s,e(c,u,o)}function p(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,a)=>e<t?(r=a,!0):(n=a,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}export{a as getSizeForValueSimple};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,KAAK,IAAIC,CAAhB,QAAsB,kCAAtB;AAAyD,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,iDAAxB;AAA0E,SAAOC,kBAAkB,IAAIC,CAA7B,QAAmC,uEAAnC;AAA2G,MAAMC,CAAC,GAACC,IAAI,CAACC,EAAb;;AAAgB,SAASC,CAAT,CAAWR,CAAX,EAAaE,CAAb,EAAe;EAAC,QAAOA,CAAC,CAACO,kBAAT;IAA6B,KAAKL,CAAC,CAACM,QAAP;MAAgB,OAAOC,CAAC,CAACX,CAAD,EAAGE,CAAH,CAAR;;IAAc,KAAKE,CAAC,CAACQ,QAAP;MAAgB,OAAOC,CAAC,CAACX,CAAD,EAAGF,CAAH,CAAR;;IAAc,KAAKI,CAAC,CAACU,aAAP;MAAqB,OAAOC,CAAC,CAACf,CAAD,EAAGE,CAAH,CAAR;;IAAc,KAAKE,CAAC,CAACY,YAAP;MAAoB,OAAOC,CAAC,CAACjB,CAAD,EAAGE,CAAH,CAAR;;IAAc,KAAKE,CAAC,CAACc,KAAP;MAAa,OAAOC,CAAC,CAACnB,CAAD,EAAGE,CAAH,CAAR;;IAAc,KAAKE,CAAC,CAACgB,aAAP;MAAqB,OAAOC,CAAC,CAACrB,CAAD,EAAGE,CAAH,CAAR;;IAAc,KAAKE,CAAC,CAACkB,QAAP;MAAgB,OAAOtB,CAAP;;IAAS,KAAKI,CAAC,CAACmB,OAAP;MAAe,OAAO,IAAP;EAApQ;AAAiR;;AAAA,SAASC,CAAT,CAAWxB,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAM,YAAU,OAAOF,CAAjB,GAAmBA,CAAnB,GAAqBQ,CAAC,CAACN,CAAD,EAAGF,CAAH,CAA5B;AAAkC;;AAAA,SAASW,CAAT,CAAWX,CAAX,EAAaE,CAAb,EAAe;EAAC,OAAOF,CAAC,IAAEwB,CAAC,CAACtB,CAAC,CAACuB,OAAH,EAAWzB,CAAX,CAAD,IAAgBE,CAAC,CAACwB,YAApB,CAAR;AAA0C;;AAAA,SAASb,CAAT,CAAWb,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAACJ,CAAC,CAAC2B,KAAV;EAAgB,IAAItB,CAAC,GAACD,CAAC,IAAEA,CAAC,CAACwB,MAAL,IAAaxB,CAAC,CAAC,CAAD,CAAD,CAAKyB,IAAxB;EAA6B,OAAO,QAAMxB,CAAN,KAAUA,CAAC,GAACL,CAAC,CAACyB,OAAd,GAAuBD,CAAC,CAACnB,CAAD,EAAGH,CAAH,CAA/B;AAAqC;;AAAA,SAASa,CAAT,CAAWf,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAME,CAAC,GAAC,CAACJ,CAAC,GAACE,CAAC,CAACwB,YAAL,KAAoBxB,CAAC,CAAC4B,YAAF,GAAe5B,CAAC,CAACwB,YAArC,CAAR;EAAA,MAA2DrB,CAAC,GAACmB,CAAC,CAACtB,CAAC,CAACuB,OAAH,EAAWzB,CAAX,CAA9D;EAAA,MAA4EQ,CAAC,GAACgB,CAAC,CAACtB,CAAC,CAAC6B,OAAH,EAAW/B,CAAX,CAA/E;EAA6F,OAAOA,CAAC,IAAEE,CAAC,CAACwB,YAAL,GAAkBrB,CAAlB,GAAoBL,CAAC,IAAEE,CAAC,CAAC4B,YAAL,GAAkBtB,CAAlB,GAAoBH,CAAC,GAACD,CAAC,IAAEI,CAAC,GAACH,CAAJ,CAAlD;AAAyD;;AAAA,SAASY,CAAT,CAAWf,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAMC,CAAC,GAACH,CAAC,GAACE,CAAC,CAACsB,YAAZ;EAAA,MAAyBlB,CAAC,GAACgB,CAAC,CAACpB,CAAC,CAACqB,OAAH,EAAWvB,CAAX,CAA5B;EAAA,MAA0CS,CAAC,GAACa,CAAC,CAACpB,CAAC,CAAC2B,OAAH,EAAW7B,CAAX,CAA7C;EAA2D,IAAIW,CAAC,GAAC,IAAN;EAAW,OAAOA,CAAC,GAACR,CAAC,GAACG,CAAJ,EAAMR,CAAC,CAACa,CAAD,EAAGL,CAAH,EAAKG,CAAL,CAAd;AAAsB;;AAAA,SAASQ,CAAT,CAAWnB,CAAX,EAAaE,CAAb,EAAe;EAAC,MAAK,CAACE,CAAD,EAAGC,CAAH,EAAKG,CAAL,IAAQwB,CAAC,CAAChC,CAAD,EAAGE,CAAC,CAAC+B,KAAF,CAAQC,MAAX,CAAd;EAAiC,IAAG9B,CAAC,KAAGC,CAAP,EAAS,OAAOmB,CAAC,CAACtB,CAAC,CAACyB,KAAF,CAAQvB,CAAR,EAAWyB,IAAZ,EAAiB7B,CAAjB,CAAR;EAA4B;IAAC,MAAMW,CAAC,GAACa,CAAC,CAACtB,CAAC,CAACyB,KAAF,CAAQvB,CAAR,EAAWyB,IAAZ,EAAiB7B,CAAjB,CAAT;IAA6B,OAAOW,CAAC,GAAC,CAACa,CAAC,CAACtB,CAAC,CAACyB,KAAF,CAAQtB,CAAR,EAAWwB,IAAZ,EAAiB7B,CAAjB,CAAD,GAAqBW,CAAtB,IAAyBH,CAAlC;EAAoC;AAAC;;AAAA,SAASa,CAAT,CAAWjB,CAAX,EAAaI,CAAb,EAAe;EAAC,MAAMG,CAAC,GAACT,CAAC,CAACM,CAAC,CAAC2B,SAAH,CAAT;EAAA,MAAuBtB,CAAC,GAACW,CAAC,CAAChB,CAAC,CAACiB,OAAH,EAAWrB,CAAX,CAA1B;EAAA,MAAwCW,CAAC,GAACS,CAAC,CAAChB,CAAC,CAACuB,OAAH,EAAW3B,CAAX,CAA3C;EAAA,MAAyD;IAACgC,mBAAmB,EAACnB;EAArB,IAAwBT,CAAjF;EAAmF,IAAIW,CAAC,GAAC,IAAN;EAAW,OAAOA,CAAC,GAAC,WAASF,CAAT,GAAW,IAAEX,IAAI,CAAC+B,IAAL,CAAUjC,CAAC,GAACC,CAAZ,CAAF,GAAiBM,CAA5B,GAA8B,aAAWM,CAAX,IAAc,eAAaA,CAA3B,GAA6B,IAAEb,CAAF,GAAIO,CAAjC,GAAmCP,CAAC,GAACO,CAArE,EAAuEX,CAAC,CAACmB,CAAD,EAAGN,CAAH,EAAKE,CAAL,CAA/E;AAAuF;;AAAA,SAASiB,CAAT,CAAWhC,CAAX,EAAaE,CAAb,EAAe;EAAC,IAAG,CAACA,CAAJ,EAAM;EAAO,IAAIE,CAAC,GAAC,CAAN;EAAA,IAAQC,CAAC,GAACH,CAAC,CAAC0B,MAAF,GAAS,CAAnB;EAAqB,OAAO1B,CAAC,CAACoC,IAAF,CAAQ,CAACpC,CAAD,EAAGM,CAAH,KAAOR,CAAC,GAACE,CAAF,IAAKG,CAAC,GAACG,CAAF,EAAI,CAAC,CAAV,KAAcJ,CAAC,GAACI,CAAF,EAAI,CAAC,CAAnB,CAAf,GAAuC,CAACJ,CAAD,EAAGC,CAAH,EAAK,CAACL,CAAC,GAACE,CAAC,CAACE,CAAD,CAAJ,KAAUF,CAAC,CAACG,CAAD,CAAD,GAAKH,CAAC,CAACE,CAAD,CAAhB,CAAL,CAA9C;AAAyE;;AAAA,SAAOI,CAAC,IAAI+B,qBAAZ"},"metadata":{},"sourceType":"module"}