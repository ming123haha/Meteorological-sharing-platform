{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { v as r } from \"../../../../../../chunks/mat4.js\";\nimport { c as e } from \"../../../../../../chunks/mat4f32.js\";\nimport { s as a } from \"../../../../../../chunks/vec3.js\";\nimport { Z as i, c as o } from \"../../../../../../chunks/vec3f64.js\";\nimport { Float3DrawUniform as s } from \"../../shaderModules/Float3DrawUniform.js\";\nimport { Float3PassUniform as n } from \"../../shaderModules/Float3PassUniform.js\";\nimport { Matrix4DrawUniform as m } from \"../../shaderModules/Matrix4DrawUniform.js\";\nimport { Matrix4PassUniform as t } from \"../../shaderModules/Matrix4PassUniform.js\";\n\nfunction c(r, e) {\n  e.instancedDoublePrecision ? r.constants.add(\"cameraPosition\", \"vec3\", i) : r.uniforms.add(new s(\"cameraPosition\", (r, e) => a(w, e.camera.viewInverseTransposeMatrix[3] - r.origin[0], e.camera.viewInverseTransposeMatrix[7] - r.origin[1], e.camera.viewInverseTransposeMatrix[11] - r.origin[2])));\n}\n\nfunction v(e, i) {\n  if (!i.instancedDoublePrecision) return void e.uniforms.add([new t(\"proj\", (r, e) => e.camera.projectionMatrix), new m(\"view\", (e, a) => r(f, a.camera.viewMatrix, e.origin)), new s(\"localOrigin\", r => r.origin)]);\n\n  const o = r => a(w, r.camera.viewInverseTransposeMatrix[3], r.camera.viewInverseTransposeMatrix[7], r.camera.viewInverseTransposeMatrix[11]);\n\n  e.uniforms.add([new t(\"proj\", (r, e) => e.camera.projectionMatrix), new t(\"view\", (e, a) => r(f, a.camera.viewMatrix, o(a))), new n(\"localOrigin\", (r, e) => o(e))]);\n}\n\nconst f = e(),\n      w = o();\n\nfunction d(r) {\n  r.uniforms.add(new t(\"viewNormal\", (r, e) => e.camera.viewInverseTransposeMatrix));\n}\n\nexport { c as addCameraPosition, v as addProjViewLocalOrigin, d as addViewNormal };","map":{"version":3,"names":["v","r","c","e","s","a","Z","i","o","Float3DrawUniform","Float3PassUniform","n","Matrix4DrawUniform","m","Matrix4PassUniform","t","instancedDoublePrecision","constants","add","uniforms","w","camera","viewInverseTransposeMatrix","origin","projectionMatrix","f","viewMatrix","d","addCameraPosition","addProjViewLocalOrigin","addViewNormal"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{v as r}from\"../../../../../../chunks/mat4.js\";import{c as e}from\"../../../../../../chunks/mat4f32.js\";import{s as a}from\"../../../../../../chunks/vec3.js\";import{Z as i,c as o}from\"../../../../../../chunks/vec3f64.js\";import{Float3DrawUniform as s}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as n}from\"../../shaderModules/Float3PassUniform.js\";import{Matrix4DrawUniform as m}from\"../../shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as t}from\"../../shaderModules/Matrix4PassUniform.js\";function c(r,e){e.instancedDoublePrecision?r.constants.add(\"cameraPosition\",\"vec3\",i):r.uniforms.add(new s(\"cameraPosition\",((r,e)=>a(w,e.camera.viewInverseTransposeMatrix[3]-r.origin[0],e.camera.viewInverseTransposeMatrix[7]-r.origin[1],e.camera.viewInverseTransposeMatrix[11]-r.origin[2]))))}function v(e,i){if(!i.instancedDoublePrecision)return void e.uniforms.add([new t(\"proj\",((r,e)=>e.camera.projectionMatrix)),new m(\"view\",((e,a)=>r(f,a.camera.viewMatrix,e.origin))),new s(\"localOrigin\",(r=>r.origin))]);const o=r=>a(w,r.camera.viewInverseTransposeMatrix[3],r.camera.viewInverseTransposeMatrix[7],r.camera.viewInverseTransposeMatrix[11]);e.uniforms.add([new t(\"proj\",((r,e)=>e.camera.projectionMatrix)),new t(\"view\",((e,a)=>r(f,a.camera.viewMatrix,o(a)))),new n(\"localOrigin\",((r,e)=>o(e)))])}const f=e(),w=o();function d(r){r.uniforms.add(new t(\"viewNormal\",((r,e)=>e.camera.viewInverseTransposeMatrix)))}export{c as addCameraPosition,v as addProjViewLocalOrigin,d as addViewNormal};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}