{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"./chunks/tslib.es6.js\";\nimport e from \"./Basemap.js\";\nimport r from \"./Ground.js\";\nimport t from \"./core/Accessor.js\";\nimport o from \"./core/CollectionFlattener.js\";\nimport a from \"./core/Evented.js\";\nimport { isNone as i } from \"./core/maybe.js\";\nimport { property as p } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/arrayUtils.js\";\nimport { cast as l } from \"./core/accessorSupport/decorators/cast.js\";\nimport { subclass as n } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { isEditableLayer as m } from \"./layers/support/editableLayers.js\";\nimport { createCache as d, destroyCache as c, ensureType as y } from \"./support/basemapUtils.js\";\nimport { createFlattenedTablesCollection as u } from \"./support/collectionUtils.js\";\nimport { ensureType as h } from \"./support/groundUtils.js\";\nimport { LayersMixin as b } from \"./support/LayersMixin.js\";\nimport { TablesMixin as f } from \"./support/TablesMixin.js\";\nlet j = class extends f(b(a.EventedMixin(t))) {\n  constructor(s) {\n    super(s), this.allLayers = new o({\n      getCollections: () => [this.basemap?.baseLayers, this.ground?.layers, this.layers, this.basemap?.referenceLayers],\n      getChildrenFunction: s => \"layers\" in s ? s.layers : null\n    }), this.allTables = u(this), this.basemap = null, this.editableLayers = new o({\n      getCollections: () => [this.allLayers],\n      itemFilterFunction: m\n    }), this.ground = new r(), this._basemapCache = d();\n  }\n\n  destroy() {\n    this.allLayers.destroy(), this.allTables.destroy(), this.editableLayers.destroy(), this.ground?.destroy(), this.basemap?.destroy(), c(this._basemapCache), this._basemapCache = null;\n  }\n\n  castBasemap(s) {\n    return y(s, this._basemapCache);\n  }\n\n  castGround(s) {\n    const e = h(s);\n    return i(e) ? this._get(\"ground\") : e;\n  }\n\n  findLayerById(s) {\n    return this.allLayers.find(e => e.id === s);\n  }\n\n  findTableById(s) {\n    return this.allTables.find(e => e.id === s);\n  }\n\n};\ns([p({\n  readOnly: !0,\n  dependsOn: []\n})], j.prototype, \"allLayers\", void 0), s([p({\n  readOnly: !0\n})], j.prototype, \"allTables\", void 0), s([p({\n  type: e\n})], j.prototype, \"basemap\", void 0), s([l(\"basemap\")], j.prototype, \"castBasemap\", null), s([p({\n  readOnly: !0\n})], j.prototype, \"editableLayers\", void 0), s([p({\n  type: r,\n  nonNullable: !0\n})], j.prototype, \"ground\", void 0), s([l(\"ground\")], j.prototype, \"castGround\", null), j = s([n(\"esri.Map\")], j);\nconst L = j;\nexport { L as default };","map":{"version":3,"names":["_","s","e","r","t","o","a","isNone","i","property","p","cast","l","subclass","n","isEditableLayer","m","createCache","d","destroyCache","c","ensureType","y","createFlattenedTablesCollection","u","h","LayersMixin","b","TablesMixin","f","j","EventedMixin","constructor","allLayers","getCollections","basemap","baseLayers","ground","layers","referenceLayers","getChildrenFunction","allTables","editableLayers","itemFilterFunction","_basemapCache","destroy","castBasemap","castGround","_get","findLayerById","find","id","findTableById","readOnly","dependsOn","prototype","type","nonNullable","L","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/Map.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"./chunks/tslib.es6.js\";import e from\"./Basemap.js\";import r from\"./Ground.js\";import t from\"./core/Accessor.js\";import o from\"./core/CollectionFlattener.js\";import a from\"./core/Evented.js\";import{isNone as i}from\"./core/maybe.js\";import{property as p}from\"./core/accessorSupport/decorators/property.js\";import\"./core/arrayUtils.js\";import{cast as l}from\"./core/accessorSupport/decorators/cast.js\";import{subclass as n}from\"./core/accessorSupport/decorators/subclass.js\";import{isEditableLayer as m}from\"./layers/support/editableLayers.js\";import{createCache as d,destroyCache as c,ensureType as y}from\"./support/basemapUtils.js\";import{createFlattenedTablesCollection as u}from\"./support/collectionUtils.js\";import{ensureType as h}from\"./support/groundUtils.js\";import{LayersMixin as b}from\"./support/LayersMixin.js\";import{TablesMixin as f}from\"./support/TablesMixin.js\";let j=class extends(f(b(a.EventedMixin(t)))){constructor(s){super(s),this.allLayers=new o({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:s=>\"layers\"in s?s.layers:null}),this.allTables=u(this),this.basemap=null,this.editableLayers=new o({getCollections:()=>[this.allLayers],itemFilterFunction:m}),this.ground=new r,this._basemapCache=d()}destroy(){this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.ground?.destroy(),this.basemap?.destroy(),c(this._basemapCache),this._basemapCache=null}castBasemap(s){return y(s,this._basemapCache)}castGround(s){const e=h(s);return i(e)?this._get(\"ground\"):e}findLayerById(s){return this.allLayers.find((e=>e.id===s))}findTableById(s){return this.allTables.find((e=>e.id===s))}};s([p({readOnly:!0,dependsOn:[]})],j.prototype,\"allLayers\",void 0),s([p({readOnly:!0})],j.prototype,\"allTables\",void 0),s([p({type:e})],j.prototype,\"basemap\",void 0),s([l(\"basemap\")],j.prototype,\"castBasemap\",null),s([p({readOnly:!0})],j.prototype,\"editableLayers\",void 0),s([p({type:r,nonNullable:!0})],j.prototype,\"ground\",void 0),s([l(\"ground\")],j.prototype,\"castGround\",null),j=s([n(\"esri.Map\")],j);const L=j;export{L as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}