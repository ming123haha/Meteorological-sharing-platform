{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { AsyncUpdateMixin as r } from \"../../../../core/AsyncUpdate.js\";\nimport { HandleOwner as s } from \"../../../../core/HandleOwner.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { unwrapOr as i } from \"../../../../core/maybe.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fixFields as a, collectLabelingFields as d, collectFilterFields as n } from \"../../../../layers/support/fieldUtils.js\";\nconst p = t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");\nlet c = class extends r(s) {\n  constructor(e) {\n    super(e);\n  }\n\n  get requiredFields() {\n    const {\n      layerView: {\n        layer: {\n          fieldsIndex: e\n        },\n        definitionExpressionFields: r\n      },\n      rendererFields: s,\n      labelingFields: t,\n      viewFilterFields: o\n    } = this;\n    return a(e, [...i(r, []), ...i(s, []), ...i(t, []), ...i(o, [])]);\n  }\n\n  initialize() {\n    const e = this.layerView.layer;\n    this.layer = e, this.handles.add([this.autoUpdateAsync(\"rendererFields\", () => {\n      const {\n        fieldsIndex: e,\n        renderer: r\n      } = this.layer;\n      return r ? y(s => r.collectRequiredFields(s, e)) : null;\n    }), this.autoUpdateAsync(\"labelingFields\", () => {\n      const {\n        layer: e\n      } = this;\n      return e.labelsVisible ? y(r => d(r, e)) : null;\n    }), this.autoUpdateAsync(\"viewFilterFields\", () => {\n      const {\n        layer: e,\n        filter: r\n      } = this.layerView;\n      return y(s => n(s, e, r));\n    })]);\n  }\n\n};\n\nasync function y(e) {\n  const r = new Set();\n\n  try {\n    return await e(r), Array.from(r).sort();\n  } catch (s) {\n    return p.error(s), null;\n  }\n}\n\ne([o()], c.prototype, \"layerView\", void 0), e([o()], c.prototype, \"layer\", void 0), e([o()], c.prototype, \"requiredFields\", null), e([o()], c.prototype, \"rendererFields\", void 0), e([o()], c.prototype, \"labelingFields\", void 0), e([o()], c.prototype, \"viewFilterFields\", void 0), c = e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")], c);\nexport { c as SceneLayerViewRequiredFields };","map":{"version":3,"names":["_","e","AsyncUpdateMixin","r","HandleOwner","s","t","unwrapOr","i","property","o","subclass","l","fixFields","a","collectLabelingFields","d","collectFilterFields","n","p","getLogger","c","constructor","requiredFields","layerView","layer","fieldsIndex","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","initialize","handles","add","autoUpdateAsync","renderer","y","collectRequiredFields","labelsVisible","filter","Set","Array","from","sort","error","prototype","SceneLayerViewRequiredFields"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as a,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return a(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>n(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}