{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"../Color.js\";\nimport { clone as o } from \"../core/lang.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { enumeration as i } from \"../core/accessorSupport/decorators/enumeration.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { collectArcadeFieldNames as n } from \"../layers/support/fieldUtils.js\";\nimport l from \"./Renderer.js\";\nimport { VisualVariablesMixin as p } from \"./mixins/VisualVariablesMixin.js\";\nimport a from \"./support/AttributeColorInfo.js\";\nimport u from \"./support/DotDensityLegendOptions.js\";\nimport d from \"../symbols/SimpleFillSymbol.js\";\nimport c from \"../symbols/SimpleLineSymbol.js\";\nvar h;\nlet m = h = class extends p(l) {\n  constructor(t) {\n    super(t), this.attributes = null, this.backgroundColor = new e([0, 0, 0, 0]), this.dotBlendingEnabled = !0, this.dotShape = \"square\", this.dotSize = 1, this.legendOptions = null, this.outline = new c(), this.dotValue = null, this.referenceScale = null, this.seed = 1, this.type = \"dot-density\";\n  }\n\n  calculateDotValue(t) {\n    if (null == this.referenceScale) return this.dotValue;\n    const e = t / this.referenceScale * this.dotValue;\n    return e < 1 ? 1 : e;\n  }\n\n  getSymbol() {\n    return new d({\n      outline: this.outline\n    });\n  }\n\n  async getSymbolAsync() {\n    return this.getSymbol();\n  }\n\n  getSymbols() {\n    return [this.getSymbol()];\n  }\n\n  getAttributeHash() {\n    return this.attributes?.reduce((t, e) => t + e.getAttributeHash(), \"\") ?? \"\";\n  }\n\n  getMeshHash() {\n    return JSON.stringify(this.outline);\n  }\n\n  clone() {\n    return new h({\n      attributes: o(this.attributes),\n      backgroundColor: o(this.backgroundColor),\n      dotBlendingEnabled: o(this.dotBlendingEnabled),\n      dotShape: o(this.dotShape),\n      dotSize: o(this.dotSize),\n      dotValue: o(this.dotValue),\n      legendOptions: o(this.legendOptions),\n      outline: o(this.outline),\n      referenceScale: o(this.referenceScale),\n      visualVariables: o(this.visualVariables),\n      authoringInfo: this.authoringInfo && this.authoringInfo.clone()\n    });\n  }\n\n  getControllerHash() {\n    const t = this.attributes?.map(t => t.field || t.valueExpression || \"\");\n    return `${t}-${this.outline && JSON.stringify(this.outline.toJSON()) || \"\"}`;\n  }\n\n  async collectRequiredFields(t, e) {\n    await this.collectVVRequiredFields(t, e);\n\n    for (const o of this.attributes ?? []) o.valueExpression && (await n(t, e, o.valueExpression)), o.field && t.add(o.field);\n  }\n\n};\nt([r({\n  type: [a],\n  json: {\n    write: !0\n  }\n})], m.prototype, \"attributes\", void 0), t([r({\n  type: e,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"backgroundColor\", void 0), t([r({\n  type: Boolean,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"dotBlendingEnabled\", void 0), t([r({\n  type: String,\n  json: {\n    write: !1\n  }\n})], m.prototype, \"dotShape\", void 0), t([r({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"dotSize\", void 0), t([r({\n  type: u,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"legendOptions\", void 0), t([r({\n  type: c,\n  json: {\n    default: null,\n    write: !0\n  }\n})], m.prototype, \"outline\", void 0), t([r({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"dotValue\", void 0), t([r({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"referenceScale\", void 0), t([r({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], m.prototype, \"seed\", void 0), t([i({\n  dotDensity: \"dot-density\"\n})], m.prototype, \"type\", void 0), m = h = t([s(\"esri.renderers.DotDensityRenderer\")], m);\nconst y = m;\nexport { y as default };","map":{"version":3,"names":["_","t","e","clone","o","property","r","enumeration","i","subclass","s","collectArcadeFieldNames","n","l","VisualVariablesMixin","p","a","u","d","c","h","m","constructor","attributes","backgroundColor","dotBlendingEnabled","dotShape","dotSize","legendOptions","outline","dotValue","referenceScale","seed","type","calculateDotValue","getSymbol","getSymbolAsync","getSymbols","getAttributeHash","reduce","getMeshHash","JSON","stringify","visualVariables","authoringInfo","getControllerHash","map","field","valueExpression","toJSON","collectRequiredFields","collectVVRequiredFields","add","json","write","prototype","Boolean","String","Number","default","dotDensity","y"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/renderers/DotDensityRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../Color.js\";import{clone as o}from\"../core/lang.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{enumeration as i}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{collectArcadeFieldNames as n}from\"../layers/support/fieldUtils.js\";import l from\"./Renderer.js\";import{VisualVariablesMixin as p}from\"./mixins/VisualVariablesMixin.js\";import a from\"./support/AttributeColorInfo.js\";import u from\"./support/DotDensityLegendOptions.js\";import d from\"../symbols/SimpleFillSymbol.js\";import c from\"../symbols/SimpleLineSymbol.js\";var h;let m=h=class extends(p(l)){constructor(t){super(t),this.attributes=null,this.backgroundColor=new e([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape=\"square\",this.dotSize=1,this.legendOptions=null,this.outline=new c,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type=\"dot-density\"}calculateDotValue(t){if(null==this.referenceScale)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new d({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((t,e)=>t+e.getAttributeHash()),\"\")??\"\"}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new h({attributes:o(this.attributes),backgroundColor:o(this.backgroundColor),dotBlendingEnabled:o(this.dotBlendingEnabled),dotShape:o(this.dotShape),dotSize:o(this.dotSize),dotValue:o(this.dotValue),legendOptions:o(this.legendOptions),outline:o(this.outline),referenceScale:o(this.referenceScale),visualVariables:o(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){const t=this.attributes?.map((t=>t.field||t.valueExpression||\"\"));return`${t}-${this.outline&&JSON.stringify(this.outline.toJSON())||\"\"}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const o of this.attributes??[])o.valueExpression&&await n(t,e,o.valueExpression),o.field&&t.add(o.field)}};t([r({type:[a],json:{write:!0}})],m.prototype,\"attributes\",void 0),t([r({type:e,json:{write:!0}})],m.prototype,\"backgroundColor\",void 0),t([r({type:Boolean,json:{write:!0}})],m.prototype,\"dotBlendingEnabled\",void 0),t([r({type:String,json:{write:!1}})],m.prototype,\"dotShape\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"dotSize\",void 0),t([r({type:u,json:{write:!0}})],m.prototype,\"legendOptions\",void 0),t([r({type:c,json:{default:null,write:!0}})],m.prototype,\"outline\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"dotValue\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"referenceScale\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"seed\",void 0),t([i({dotDensity:\"dot-density\"})],m.prototype,\"type\",void 0),m=h=t([s(\"esri.renderers.DotDensityRenderer\")],m);const y=m;export{y as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}