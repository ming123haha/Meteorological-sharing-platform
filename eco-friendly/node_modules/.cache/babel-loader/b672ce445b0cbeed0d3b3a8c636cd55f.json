{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { ObjectStack as t } from \"../../core/ObjectStack.js\";\nimport { c as n, b as e, f as r, e as o, g as p, a as c, l as s } from \"../../chunks/vec3.js\";\nimport { a as i, c as u } from \"../../chunks/vec3f64.js\";\nimport { create as a, distance2 as f, fromValues as g } from \"./lineSegment.js\";\nimport { sv3d as m } from \"./vectorStacks.js\";\n\nfunction j(t) {\n  return t ? {\n    p0: i(t.p0),\n    p1: i(t.p1),\n    p2: i(t.p2)\n  } : {\n    p0: u(),\n    p1: u(),\n    p2: u()\n  };\n}\n\nfunction h(t, n, e) {\n  const r = x.get();\n  return r.p0 = t, r.p1 = n, r.p2 = e, r;\n}\n\nfunction k(t, n = j()) {\n  return b(t.p0, t.p1, t.p2, n);\n}\n\nfunction b(t, e, r, o = j()) {\n  return n(o.p0, t), n(o.p1, e), n(o.p2, r), o;\n}\n\nfunction l(t, n) {\n  const p = t.p0,\n        c = t.p1,\n        s = t.p2,\n        i = e(m.get(), c, p),\n        u = e(m.get(), s, c),\n        a = e(m.get(), p, s),\n        j = e(m.get(), n, p),\n        h = e(m.get(), n, c),\n        k = e(m.get(), n, s),\n        b = r(i, i, a),\n        l = o(r(m.get(), i, b), j),\n        v = o(r(m.get(), u, b), h),\n        S = o(r(m.get(), a, b), k);\n\n  if (l > 0 && v > 0 && S > 0) {\n    const t = o(b, j);\n    return t * t / o(b, b);\n  }\n\n  const d = f(g(p, i, M.get()), n),\n        w = f(g(c, u, M.get()), n),\n        x = f(g(s, a, M.get()), n);\n  return Math.min(d, w, x);\n}\n\nfunction v(t, n, e) {\n  const r = 1e-5,\n        {\n    direction: o,\n    origin: s\n  } = n,\n        {\n    p0: i,\n    p1: u,\n    p2: a\n  } = t,\n        f = u[0] - i[0],\n        g = u[1] - i[1],\n        m = u[2] - i[2],\n        j = a[0] - i[0],\n        h = a[1] - i[1],\n        k = a[2] - i[2],\n        b = o[1] * k - h * o[2],\n        l = o[2] * j - k * o[0],\n        v = o[0] * h - j * o[1],\n        S = f * b + g * l + m * v;\n  if (S > -r && S < r) return !1;\n  const d = 1 / S,\n        w = s[0] - i[0],\n        M = s[1] - i[1],\n        x = s[2] - i[2],\n        O = d * (w * b + M * l + x * v);\n  if (O < 0 || O > 1) return !1;\n  const V = M * m - g * x,\n        q = x * f - m * w,\n        y = w * g - f * M,\n        z = d * (o[0] * V + o[1] * q + o[2] * y);\n  if (z < 0 || O + z > 1) return !1;\n\n  if (e) {\n    p(e, o, d * (j * V + h * q + k * y)), c(e, s, e);\n  }\n\n  return !0;\n}\n\nfunction S(t, n, e) {\n  const r = n[0] - t[0],\n        o = n[1] - t[1],\n        p = e[0] - t[0],\n        c = e[1] - t[1];\n  return .5 * Math.abs(r * c - o * p);\n}\n\nfunction d(t) {\n  return S(t.p0, t.p1, t.p2);\n}\n\nfunction w(t, n, o) {\n  return e(O, n, t), e(V, o, t), s(r(O, O, V)) / 2;\n}\n\nconst M = new t(a),\n      x = new t(() => j()),\n      O = u(),\n      V = u();\nexport { d as area2d, S as areaPoints2d, w as areaPoints3d, k as copy, j as create, l as distance2, b as fromValues, v as intersectRay, h as wrap };","map":{"version":3,"names":["ObjectStack","t","c","n","b","e","f","r","o","g","p","a","l","s","i","u","create","distance2","fromValues","sv3d","m","j","p0","p1","p2","h","x","get","k","v","S","d","M","w","Math","min","direction","origin","O","V","q","y","z","abs","area2d","areaPoints2d","areaPoints3d","copy","intersectRay","wrap"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/geometry/support/triangle.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{c as n,b as e,f as r,e as o,g as p,a as c,l as s}from\"../../chunks/vec3.js\";import{a as i,c as u}from\"../../chunks/vec3f64.js\";import{create as a,distance2 as f,fromValues as g}from\"./lineSegment.js\";import{sv3d as m}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:u(),p1:u(),p2:u()}}function h(t,n,e){const r=x.get();return r.p0=t,r.p1=n,r.p2=e,r}function k(t,n=j()){return b(t.p0,t.p1,t.p2,n)}function b(t,e,r,o=j()){return n(o.p0,t),n(o.p1,e),n(o.p2,r),o}function l(t,n){const p=t.p0,c=t.p1,s=t.p2,i=e(m.get(),c,p),u=e(m.get(),s,c),a=e(m.get(),p,s),j=e(m.get(),n,p),h=e(m.get(),n,c),k=e(m.get(),n,s),b=r(i,i,a),l=o(r(m.get(),i,b),j),v=o(r(m.get(),u,b),h),S=o(r(m.get(),a,b),k);if(l>0&&v>0&&S>0){const t=o(b,j);return t*t/o(b,b)}const d=f(g(p,i,M.get()),n),w=f(g(c,u,M.get()),n),x=f(g(s,a,M.get()),n);return Math.min(d,w,x)}function v(t,n,e){const r=1e-5,{direction:o,origin:s}=n,{p0:i,p1:u,p2:a}=t,f=u[0]-i[0],g=u[1]-i[1],m=u[2]-i[2],j=a[0]-i[0],h=a[1]-i[1],k=a[2]-i[2],b=o[1]*k-h*o[2],l=o[2]*j-k*o[0],v=o[0]*h-j*o[1],S=f*b+g*l+m*v;if(S>-r&&S<r)return!1;const d=1/S,w=s[0]-i[0],M=s[1]-i[1],x=s[2]-i[2],O=d*(w*b+M*l+x*v);if(O<0||O>1)return!1;const V=M*m-g*x,q=x*f-m*w,y=w*g-f*M,z=d*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(e){p(e,o,d*(j*V+h*q+k*y)),c(e,s,e)}return!0}function S(t,n,e){const r=n[0]-t[0],o=n[1]-t[1],p=e[0]-t[0],c=e[1]-t[1];return.5*Math.abs(r*c-o*p)}function d(t){return S(t.p0,t.p1,t.p2)}function w(t,n,o){return e(O,n,t),e(V,o,t),s(r(O,O,V))/2}const M=new t(a),x=new t((()=>j())),O=u(),V=u();export{d as area2d,S as areaPoints2d,w as areaPoints3d,k as copy,j as create,l as distance2,b as fromValues,v as intersectRay,h as wrap};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}