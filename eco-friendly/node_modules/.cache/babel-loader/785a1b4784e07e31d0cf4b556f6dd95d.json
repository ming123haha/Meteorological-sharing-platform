{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { assertIsSome as e } from \"../../../core/maybe.js\";\nimport { bytesToUTF8 as t } from \"../rasterDatasets/byteStreamUtils.js\";\nimport { J as n } from \"../../../chunks/Jpg.js\";\nimport { load as a, decode as i } from \"./Lerc.js\";\nimport { decode as s } from \"./Lzw.js\";\nimport r from \"./TiffTags.js\";\nimport { isPlatformLittleEndian as l } from \"./utils.js\";\nimport { Z as o } from \"../../../chunks/Zlib.js\";\nconst f = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8, -1, -1, -1, 8, 8, 8],\n      u = 4294967296,\n      c = new Set([1, 5, 6, 7, 8, 34712, 34887]);\n\nfunction h(e, t) {\n  let n = \"unknown\";\n  return 3 === e ? n = 64 === t ? \"f64\" : \"f32\" : 1 === e ? 1 === t ? n = \"u1\" : 2 === t ? n = \"u2\" : 4 === t ? n = \"u4\" : t <= 8 ? n = \"u8\" : t <= 16 ? n = \"u16\" : t <= 32 && (n = \"u32\") : 2 === e && (t <= 8 ? n = \"s8\" : t <= 16 ? n = \"s16\" : t <= 32 && (n = \"s32\")), n;\n}\n\nfunction g(e) {\n  let t = null;\n\n  switch (e ? e.toLowerCase() : \"f32\") {\n    case \"u1\":\n    case \"u2\":\n    case \"u4\":\n    case \"u8\":\n      t = Uint8Array;\n      break;\n\n    case \"u16\":\n      t = Uint16Array;\n      break;\n\n    case \"u32\":\n      t = Uint32Array;\n      break;\n\n    case \"s8\":\n      t = Int8Array;\n      break;\n\n    case \"s16\":\n      t = Int16Array;\n      break;\n\n    case \"s32\":\n      t = Int32Array;\n      break;\n\n    case \"f64\":\n      t = Float64Array;\n      break;\n\n    default:\n      t = Float32Array;\n  }\n\n  return t;\n}\n\nfunction w(e, t) {\n  return {\n    x: t[0] * e.x + t[1] * e.y + t[2],\n    y: t[3] * e.x + t[4] * e.y + t[5]\n  };\n}\n\nfunction p(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction d(e, t) {\n  return e.get(t)?.values;\n}\n\nfunction I(e, t) {\n  return e.get(t)?.values?.[0];\n}\n\nfunction T(e, t) {\n  return e.get(t)?.values?.[0];\n}\n\nfunction E(e, t, n, a = 0, i = r.TIFF_TAGS, s = 4) {\n  const l = 8 === s,\n        o = l ? L(new DataView(e, n, 8), 0, t) : new DataView(e, n, 2).getUint16(0, t),\n        f = 4 + 2 * s,\n        u = l ? 8 : 2,\n        c = u + o * f;\n  if (n + c > e.byteLength) return {\n    success: !1,\n    ifd: null,\n    nextIFD: null,\n    requiredBufferSize: c\n  };\n  const h = n + c + 4 <= e.byteLength ? k(new DataView(e, n + c, 8 === s ? 8 : 4), 0, t, 8 === s) : null,\n        g = n + u,\n        w = new Map();\n  let p,\n      d,\n      I,\n      T,\n      E,\n      y = 0,\n      m = 0;\n\n  for (let A = 0; A < o; A++) {\n    d = new DataView(e, g + f * A, f), I = d.getUint16(0, t), E = d.getUint16(2, t), T = r.getTagName(I, i);\n    const n = [];\n    2 === s ? (y = d.getUint16(4, t), m = d.getUint16(6, t)) : 4 === s ? (y = d.getUint32(4, t), m = d.getUint32(8, t)) : 8 === s && (y = k(d, 4, t, !0), m = k(d, 12, t, !0), n.push(d.getUint32(12, t)), n.push(d.getUint32(16, t))), p = {\n      id: I,\n      type: E,\n      valueCount: y,\n      valueOffset: m,\n      valueOffsets: n,\n      values: null\n    }, b(e, t, p, a, !1, s), w.set(T, p);\n  }\n\n  return {\n    success: !0,\n    ifd: w,\n    nextIFD: h,\n    requiredBufferSize: c\n  };\n}\n\nconst y = (e, t) => i(e, {\n  inputOffset: t\n}).pixels[0];\n\nasync function m(t, i, r, f, u) {\n  const c = l === i,\n        w = T(r, \"BITSPERSAMPLE\"),\n        p = h(T(r, \"SAMPLEFORMAT\") ?? 1, w),\n        d = T(r, \"COMPRESSION\") ?? 1,\n        I = g(p);\n  let E, m, A, S, M, x, b;\n  if (34887 === d) return await a(), y(t, f);\n  if (1 === d) b = t.slice(f, f + u), A = new Uint8Array(b);else if (8 === d || 32946 === d) A = new Uint8Array(t, f, u), M = new o(A), x = M.getBytes(), b = new ArrayBuffer(x.length), A = new Uint8Array(b), A.set(x);else if (6 === d) {\n    A = new Uint8Array(t, f, u);\n    const e = new n();\n    e.parse(A);\n    const a = e.getData(e.width, e.height, !0);\n    b = new ArrayBuffer(a.length), A = new Uint8Array(b), A.set(a);\n  } else if (7 === d) {\n    const e = r.get(\"JPEGTABLES\").values,\n          a = e.length - 2;\n    A = new Uint8Array(a + u - 2);\n\n    for (let t = 0; t < a; t++) A[t] = e[t];\n\n    const i = new Uint8Array(t, f + 2, u - 2);\n\n    for (let t = 0; t < i.length; t++) A[a + t] = i[t];\n\n    const s = new n();\n    s.parse(A);\n    const l = s.getData(s.width, s.height, !0);\n    b = new ArrayBuffer(l.length), A = new Uint8Array(b), A.set(l);\n  } else 5 === d && (A = s(t, f, u, i), b = A.buffer);\n  if (\"u8\" === p || \"s8\" === p || c) m = new I(b);else {\n    switch (e(A), b = new ArrayBuffer(A.length), S = new Uint8Array(b), p) {\n      case \"u16\":\n      case \"s16\":\n        for (E = 0; E < A.length; E += 2) S[E] = A[E + 1], S[E + 1] = A[E];\n\n        break;\n\n      case \"u32\":\n      case \"s32\":\n      case \"f32\":\n        for (E = 0; E < A.length; E += 4) S[E] = A[E + 3], S[E + 1] = A[E + 2], S[E + 2] = A[E + 1], S[E + 3] = A[E];\n\n    }\n\n    m = new I(b);\n  }\n  return m;\n}\n\nasync function A(e, t, n) {\n  const a = d(n, \"TILEOFFSETS\");\n  if (void 0 === a) return null;\n  const i = d(n, \"TILEBYTECOUNTS\"),\n        {\n    width: s,\n    height: r,\n    pixelType: l,\n    tileWidth: o,\n    tileHeight: f\n  } = D([n]),\n        u = O(n, t),\n        c = t.planes,\n        h = s * r,\n        w = T(n, \"BITSPERSAMPLE\"),\n        p = 34887 === (T(n, \"COMPRESSION\") ?? 1),\n        I = g(l),\n        E = [];\n\n  for (let g = 0; g < c; g++) E.push(new I(h));\n\n  let y, A, S, M, x, b, U, L, P, k, N, G, R;\n  const C = Math.ceil(s / o);\n  if (w % 8 == 0) if (p && u && c > 1) {\n    const l = Math.round(a.length / c);\n\n    for (y = 0; y < l; y++) {\n      b = Math.floor(y / C) * f, U = y % C * o, L = b * s + U;\n\n      for (let l = 0; l < c; l++) {\n        const u = y * c + l;\n        if (0 !== i[u]) for (S = await m(e, t.littleEndian, n, a[u], i[u]), k = 0, P = L, G = Math.min(o, s - U), N = Math.min(f, r - b), R = E[l], M = 0; M < N; M++) for (P = L + M * s, k = M * o, x = 0; x < G; x++, P++, k++) R[P] = S[k];\n      }\n    }\n  } else for (y = 0; y < a.length; y++) if (0 !== i[y]) for (b = Math.floor(y / C) * f, U = y % C * o, L = b * s + U, S = await m(e, t.littleEndian, n, a[y], i[y]), k = 0, P = L, G = Math.min(o, s - U), N = Math.min(f, r - b), A = 0; A < c; A++) if (R = E[A], u || p) for (M = 0; M < N; M++) for (P = L + M * s, k = o * f * A + M * o, x = 0; x < G; x++, P++, k++) R[P] = S[k];else for (M = 0; M < N; M++) for (P = L + M * s, k = M * o * c + A, x = 0; x < G; x++, P++, k += c) R[P] = S[k];\n  return {\n    width: s,\n    height: r,\n    pixelType: l,\n    pixels: E\n  };\n}\n\nconst S = (t, a, i) => {\n  const r = l === a.littleEndian,\n        f = d(i, \"STRIPOFFSETS\");\n  if (void 0 === f) return null;\n  const {\n    width: u,\n    height: c,\n    pixelType: h\n  } = D([i]),\n        w = a.planes,\n        p = u * c,\n        I = T(i, \"BITSPERSAMPLE\"),\n        E = g(h),\n        y = new E(p * w),\n        m = d(i, \"STRIPBYTECOUNTS\"),\n        A = T(i, \"ROWSPERSTRIP\"),\n        S = T(i, \"COMPRESSION\") ?? 1;\n  let M,\n      x,\n      b,\n      O,\n      U,\n      L,\n      P,\n      k,\n      N,\n      G,\n      R,\n      C = A;\n  if (I % 8 == 0) for (M = 0; M < f.length; M++) {\n    if (U = M * (A * u) * w, C = (M + 1) * A > c ? c - M * A : A, \"u8\" === h || \"s8\" === h || r) {\n      if (8 === S || 32946 === S) P = new Uint8Array(t, f[M], m[M]), G = new o(P), R = G.getBytes(), L = new ArrayBuffer(R.length), P = new Uint8Array(L), P.set(R), P.length !== C * u * w * I / 8 && console.log(\"strip byte counts is different than expected\");else if (6 === S) {\n        P = new Uint8Array(t, f[M], m[M]);\n        const e = new n();\n        e.parse(P);\n        const a = e.getData(e.width, e.height, !0);\n        L = new ArrayBuffer(a.length), P = new Uint8Array(L), P.set(a);\n      } else 5 === S ? (P = s(t, f[M], m[M], a.littleEndian), L = P.buffer) : (m[M] !== C * u * w * I / 8 && console.log(\"strip byte counts is different than expected\"), L = t.slice(f[M], f[M] + m[M]));\n      O = new E(L);\n    } else {\n      switch (6 === S || 8 === S || 32946 === S ? (P = new Uint8Array(t, f[M], m[M]), G = new o(P), P = G.getBytes(), L = new ArrayBuffer(P.length), k = new Uint8Array(L), P.length !== C * u * w * I / 8 && console.log(\"strip byte counts is different than expected\")) : (m[M] !== C * u * w * I / 8 && console.log(\"strip byte counts is different than expected\"), L = new ArrayBuffer(m[M]), P = new Uint8Array(t, f[M], m[M]), k = new Uint8Array(L)), h) {\n        case \"u16\":\n        case \"s16\":\n          for (b = 0; b < P.length; b += 2) k[b] = P[b + 1], k[b + 1] = P[b];\n\n          break;\n\n        case \"u32\":\n        case \"s32\":\n        case \"f32\":\n          for (b = 0; b < P.length; b += 4) k[b] = P[b + 3], k[b + 1] = P[b + 2], k[b + 2] = P[b + 1], k[b + 3] = P[b];\n\n      }\n\n      e(L), O = new E(L);\n    }\n\n    y.set(O, U);\n  }\n  const F = [];\n  if (1 === w) F.push(y);else for (M = 0; M < w; M++) {\n    for (N = new E(p), x = 0; x < p; x++) N[x] = y[x * w + M];\n\n    F.push(N);\n  }\n  return {\n    width: u,\n    height: c,\n    pixelType: h,\n    pixels: F\n  };\n},\n      M = (e, t, n) => {\n  if (!(e && e.length > 0 && t && n)) return null;\n  let a, i, s;\n  const r = e[0].length,\n        l = e.length,\n        o = new Uint8Array(r);\n\n  for (let f = 0; f < l; f++) if (a = e[f], i = t[f], s = n[f], 0 === f) for (let e = 0; e < r; e++) o[e] = a[e] < i || a[e] > s ? 0 : 1;else for (let e = 0; e < r; e++) o[e] && (o[e] = a[e] < i || a[e] > s ? 0 : 1);\n\n  return o;\n},\n      x = e => {\n  if (!e) return null;\n  const t = e.match(/<Item(.*?)Item>/gi);\n  if (!t || 0 === t.length) return null;\n  const n = new Map();\n  let a, i, s, r, l;\n\n  for (let I = 0; I < t.length; I++) a = t[I], i = a.slice(\"<Item \".length, a.indexOf(\">\")), r = a.indexOf(\"sample=\"), r > -1 && (l = a.slice(r + 'sample=\"'.length, a.indexOf('\"', r + 'sample=\"'.length))), r = a.indexOf(\"name=\"), r > -1 && (i = a.slice(r + 'name=\"'.length, a.indexOf('\"', r + 'name=\"'.length))), i && (s = a.slice(a.indexOf(\">\") + 1, a.indexOf(\"</Item>\")).trim(), null != l ? n.has(i) ? n.get(i)[l] = s : n.set(i, [s]) : n.set(i, s)), l = null;\n\n  const o = n.get(\"STATISTICS_MINIMUM\"),\n        f = n.get(\"STATISTICS_MAXIMUM\"),\n        u = n.get(\"STATISTICS_MEAN\"),\n        c = n.get(\"STATISTICS_STDDEV\");\n  let h = null;\n\n  if (o && f) {\n    h = [];\n\n    for (let e = 0; e < o.length; e++) h.push({\n      min: parseFloat(o[e]),\n      max: parseFloat(f[e]),\n      avg: u && parseFloat(u[e]),\n      stddev: c && parseFloat(c[e])\n    });\n  }\n\n  const g = n.get(\"BandName\"),\n        w = n.get(\"WavelengthMin\"),\n        p = n.get(\"WavelengthMax\");\n  let d = null;\n\n  if (g) {\n    d = [];\n\n    for (let e = 0; e < g.length; e++) d.push({\n      BandName: g[e],\n      WavelengthMin: w && parseFloat(w[e]),\n      WavelengthMax: p && parseFloat(p[e])\n    });\n  }\n\n  return {\n    statistics: h,\n    bandProperties: d,\n    dataType: n.get(\"DataType\"),\n    rawMetadata: n\n  };\n};\n\nfunction b(e, t, n, a = 0, i = !1, s = 4) {\n  if (n.values) return !0;\n  const r = n.type,\n        l = n.valueCount;\n  let o = n.valueOffset,\n      c = [];\n  const h = f[r],\n        g = 8 * h,\n        w = l * h,\n        p = l * f[r] * 8;\n  let d, I;\n  const T = 8 === s ? 64 : 32,\n        E = n.valueOffsets;\n\n  if (p > T) {\n    if (w > (i ? e.byteLength : e ? e.byteLength - o + a : 0)) return n.offlineOffsetSize = [o, w], n.values = null, !1;\n  }\n\n  if (p <= T) {\n    if (!t) if (T <= 32) o >>>= 32 - p;else {\n      const e = E?.length ? E[0] : o >>> 0,\n            t = E?.length ? E[1] : Math.round((o - e) / u);\n      p <= 32 ? (o = e >>> 32 - p, E[0] = o) : (o = e * 2 ** (32 - p) + (t >>> 32 - p), E[0] = e, E[1] = t >>> 32 - p);\n    }\n    if (1 === l && g === T) c = [o];else if (64 === T) {\n      const e = E?.length ? E[0] : o >>> 0,\n            t = E?.length ? E[1] : Math.round((o - e) / u);\n      let n = e,\n          a = 32;\n\n      for (I = 1; I <= l; I++) {\n        const e = 32 - g * I % 32;\n\n        if (a < g) {\n          const i = n << e >>> 32 - a,\n                s = t << 32 - a >>> 32 - a;\n          n = t, c.push(i + s * 2 ** (g - a)), a -= 32 - (g - a);\n        } else c.push(n << e >>> 32 - g), a -= g;\n\n        0 === a && (a = 32, n = t);\n      }\n    } else for (I = 1; I <= l; I++) {\n      const e = 32 - g * I;\n      c.push(o << e >>> 32 - g);\n    }\n  } else {\n    o -= a, i && (o = 0);\n\n    for (let n = o; n < o + w; n += h) {\n      switch (r) {\n        case 1:\n        case 2:\n        case 7:\n          d = new DataView(e, n, 1).getUint8(0);\n          break;\n\n        case 3:\n          d = new DataView(e, n, 2).getUint16(0, t);\n          break;\n\n        case 4:\n        case 13:\n          d = new DataView(e, n, 4).getUint32(0, t);\n          break;\n\n        case 5:\n          d = new DataView(e, n, 4).getUint32(0, t) / new DataView(e, n + 4, 4).getUint32(0, t);\n          break;\n\n        case 6:\n          d = new DataView(e, n, 1).getInt8(0);\n          break;\n\n        case 8:\n          d = new DataView(e, n, 2).getInt16(0, t);\n          break;\n\n        case 9:\n          d = new DataView(e, n, 4).getInt32(0, t);\n          break;\n\n        case 10:\n          d = new DataView(e, n, 4).getInt32(0, t) / new DataView(e, n + 4, 4).getInt32(0, t);\n          break;\n\n        case 11:\n          d = new DataView(e, n, 4).getFloat32(0, t);\n          break;\n\n        case 12:\n          d = new DataView(e, n, 8).getFloat64(0, t);\n          break;\n\n        case 16:\n        case 18:\n          d = L(new DataView(e, n, 8), 0, t);\n          break;\n\n        case 17:\n          d = P(new DataView(e, n, 8), 0, t);\n          break;\n\n        default:\n          d = null;\n      }\n\n      c.push(d);\n    }\n  }\n\n  if (2 === r) {\n    let e = \"\";\n    const t = c;\n\n    for (c = [], I = 0; I < t.length; I++) 0 === t[I] && \"\" !== e ? (c.push(e), e = \"\") : e += String.fromCharCode(t[I]);\n\n    \"\" === e && 0 !== c.length || c.push(e);\n  }\n\n  return n.values = c, !0;\n}\n\nfunction D(e) {\n  const t = e[0],\n        n = T(t, \"TILEWIDTH\"),\n        a = T(t, \"TILELENGTH\"),\n        i = T(t, \"IMAGEWIDTH\"),\n        s = T(t, \"IMAGELENGTH\"),\n        r = T(t, \"BITSPERSAMPLE\"),\n        l = T(t, \"SAMPLESPERPIXEL\"),\n        o = T(t, \"SAMPLEFORMAT\") ?? 1,\n        f = h(o, r),\n        u = O(t),\n        g = p(t, \"GDAL_NODATA\");\n  let E = null;\n  g?.length && (E = g.map(e => parseFloat(e)), E.some(e => isNaN(e)) && (E = null));\n  const y = T(t, \"COMPRESSION\") ?? 1;\n  let m;\n\n  switch (y) {\n    case 1:\n      m = \"NONE\";\n      break;\n\n    case 2:\n    case 3:\n    case 4:\n    case 32771:\n      m = \"CCITT\";\n      break;\n\n    case 5:\n      m = \"LZW\";\n      break;\n\n    case 6:\n    case 7:\n      m = \"JPEG\";\n      break;\n\n    case 32773:\n      m = \"PACKBITS\";\n      break;\n\n    case 8:\n    case 32946:\n      m = \"DEFLATE\";\n      break;\n\n    case 34712:\n      m = \"JPEG2000\";\n      break;\n\n    case 34887:\n      m = \"LERC\";\n      break;\n\n    default:\n      m = String(y);\n  }\n\n  let A = !0,\n      S = \"\";\n  c.has(y) || (A = !1, S += \"unsupported tag compression \" + y), o > 3 && (A = !1, S += \"unsupported tag sampleFormat \" + o), r % 8 != 0 && (A = !1, S += \"unsupported tag bitsPerSample \" + r);\n  const M = I(t, \"GEOASCIIPARAMS\");\n  let b;\n\n  if (M) {\n    const e = M.split(\"|\").find(e => e.includes(\"ESRI PE String = \")),\n          t = e ? e.replace(\"ESRI PE String = \", \"\") : \"\";\n    b = t.startsWith(\"COMPD_CS\") || t.startsWith(\"PROJCS\") || t.startsWith(\"GEOGCS\") ? {\n      wkid: null,\n      wkt: t\n    } : null;\n  }\n\n  const D = d(t, \"GEOTIEPOINTS\"),\n        U = d(t, \"GEOPIXELSCALE\"),\n        L = d(t, \"GEOTRANSMATRIX\"),\n        P = t.has(\"GEOKEYDIRECTORY\") ? t.get(\"GEOKEYDIRECTORY\").data : null;\n  let k,\n      N,\n      G = !1;\n\n  if (P) {\n    G = 2 === T(P, \"GTRasterTypeGeoKey\");\n    const e = T(P, \"GTModelTypeGeoKey\");\n\n    if (2 === e) {\n      const e = T(P, \"GeographicTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (b = {\n        wkid: e\n      });\n    } else if (1 === e) {\n      const e = T(P, \"ProjectedCSTypeGeoKey\");\n      e >= 1024 && e <= 32766 && (b = {\n        wkid: e\n      });\n    }\n  }\n\n  if (U && D && D.length >= 6 ? (k = [U[0], 0, D[3] - D[0] * U[0], 0, -Math.abs(U[1]), D[4] - D[1] * U[1]], G && (k[2] -= .5 * k[0] + .5 * k[1], k[5] -= .5 * k[3] + .5 * k[4])) : L && 16 === L.length && (k = G ? [L[0], L[1], L[3] - .5 * L[0], L[4], L[5], L[7] - .5 * L[5]] : [L[0], L[1], L[3], L[4], L[5], L[7]]), k) {\n    const e = [{\n      x: 0,\n      y: s\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: i,\n      y: s\n    }, {\n      x: i,\n      y: 0\n    }];\n    let t,\n        n = Number.POSITIVE_INFINITY,\n        a = Number.POSITIVE_INFINITY,\n        r = Number.NEGATIVE_INFINITY,\n        l = Number.NEGATIVE_INFINITY;\n\n    for (let i = 0; i < e.length; i++) t = w(e[i], k), n = t.x > n ? n : t.x, r = t.x < r ? r : t.x, a = t.y > a ? a : t.y, l = t.y < l ? l : t.y;\n\n    N = {\n      xmin: n,\n      xmax: r,\n      ymin: a,\n      ymax: l,\n      spatialReference: b\n    };\n  } else N = {\n    xmin: -.5,\n    ymin: .5 - s,\n    xmax: i - .5,\n    ymax: .5,\n    spatialReference: b\n  };\n\n  const C = e.filter(e => 1 === I(e, \"NEWSUBFILETYPE\"));\n  let F, v, B, V, W;\n\n  if (C.length > 0) {\n    B = Math.round(Math.log(i / T(C[0], \"IMAGEWIDTH\")) / Math.LN2);\n    const e = C[C.length - 1];\n    V = Math.round(Math.log(i / T(e, \"IMAGEWIDTH\")) / Math.LN2), F = T(e, \"TILEWIDTH\"), v = T(e, \"TILELENGTH\");\n  }\n\n  F = null != V && V > 0 ? F || n : null, v = null != V && V > 0 ? v || a : null, n && (W = [{\n    maxCol: Math.ceil(i / n) - 1,\n    maxRow: Math.ceil(s / a) - 1,\n    minRow: 0,\n    minCol: 0\n  }], C.forEach(e => {\n    W.push({\n      maxCol: Math.ceil(T(e, \"IMAGEWIDTH\") / T(e, \"TILEWIDTH\")) - 1,\n      maxRow: Math.ceil(T(e, \"IMAGELENGTH\") / T(e, \"TILELENGTH\")) - 1,\n      minRow: 0,\n      minCol: 0\n    });\n  }));\n  const H = I(e[0], \"GDAL_METADATA\"),\n        Y = x(H);\n  return S += \" \" + R({\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    ifds: e\n  }), {\n    width: i,\n    height: s,\n    tileWidth: n,\n    tileHeight: a,\n    planes: l,\n    isBSQ: u,\n    pixelType: f,\n    compression: m,\n    noData: E,\n    isSupported: A,\n    message: S,\n    extent: N,\n    affine: U ? null : k,\n    firstPyramidLevel: B,\n    maximumPyramidLevel: V,\n    pyramidBlockWidth: F,\n    pyramidBlockHeight: v,\n    tileBoundary: W,\n    metadata: Y\n  };\n}\n\nfunction O(e, t) {\n  const n = p(e, \"PLANARCONFIGURATION\");\n  return n ? 2 === n[0] : !!t && t.isBSQ;\n}\n\nfunction U(e) {\n  const {\n    littleEndian: t,\n    isBigTiff: n,\n    firstIFDPos: a\n  } = N(e);\n  let i = a;\n  const s = [];\n\n  do {\n    const a = G(e, t, i, 0, r.TIFF_TAGS, n ? 8 : 4);\n    if (!a.success) break;\n    s.push(a.ifd), i = a.nextIFD;\n  } while (i > 0);\n\n  return { ...D(s),\n    littleEndian: t,\n    isBigTiff: n,\n    ifds: s\n  };\n}\n\nfunction L(e, t, n) {\n  const a = e.getUint32(t, n),\n        i = e.getUint32(t + 4, n);\n  return n ? i * u + a : a * u + i;\n}\n\nfunction P(e, t, n) {\n  let a = n ? e.getInt32(t, n) : e.getUint32(t, n),\n      i = n ? e.getUint32(t + 4, n) : e.getInt32(t + 4, n);\n  const s = (n ? a : i) >= 0 ? 1 : -1;\n  n ? a *= s : i *= s;\n  return s * (n ? i * u + a : a * u + i);\n}\n\nfunction k(e, t, n, a) {\n  return a ? L(e, t, n) : e.getUint32(t, n);\n}\n\nfunction N(e) {\n  const t = new DataView(e, 0, 16),\n        n = t.getUint16(0, !1);\n  let a = null;\n  if (18761 === n) a = !0;else {\n    if (19789 !== n) throw \"unexpected endianess byte\";\n    a = !1;\n  }\n  const i = t.getUint16(2, a);\n  if (42 !== i && 43 !== i) throw \"unexpected tiff identifier\";\n  let s = 4;\n  const r = 43 === i;\n\n  if (r) {\n    const e = t.getUint16(s, a);\n    if (s += 2, 8 !== e) throw \"unsupported bigtiff version\";\n    if (0 !== t.getUint16(s, a)) throw \"unsupported bigtiff version\";\n    s += 2;\n  }\n\n  return {\n    littleEndian: a,\n    isBigTiff: r,\n    firstIFDPos: k(t, s, a, r)\n  };\n}\n\nfunction G(e, n, a, i = 0, s = r.TIFF_TAGS, l = 4) {\n  const o = E(e, n, a, i, s, l);\n  let f;\n  const u = o.ifd;\n\n  if (u) {\n    if (r.ifdTags.forEach((t, a) => {\n      u.has(a) && (f = u.get(a), f.data = E(e, n, f.valueOffset - i, i, t).ifd);\n    }), u.has(\"GEOKEYDIRECTORY\")) {\n      f = u.get(\"GEOKEYDIRECTORY\");\n      const t = f.values;\n\n      if (t && t.length > 4) {\n        const a = t[0] + \".\" + t[1] + \".\" + t[2];\n        f.data = E(e, n, f.valueOffset + 6 - i, i, r.GEO_KEYS, 2).ifd, f.data && f.data.set(\"GEOTIFFVersion\", {\n          id: 0,\n          type: 2,\n          valueCount: 1,\n          valueOffset: null,\n          values: [a]\n        });\n      }\n    }\n\n    if (u.has(\"XMP\")) {\n      f = u.get(\"XMP\");\n      const e = f.values;\n      \"number\" == typeof e[0] && 7 === f.type && (f.values = [t(new Uint8Array(e))]);\n    }\n  }\n\n  return o;\n}\n\nfunction R(e) {\n  const {\n    width: t,\n    height: n,\n    tileHeight: a,\n    tileWidth: i\n  } = e,\n        s = e.planes,\n        r = i ? i * a : t * n,\n        l = T(e.ifds[0], \"BITSPERSAMPLE\");\n  let o = \"\";\n  return r * s > 2 ** 30 / (l > 8 ? l / 8 : 1) && (o = i ? \"tiled tiff exceeding 1 gigabits per tile is not supported\" : \"scanline tiff exceeding 1 gigabits is not supported\"), o;\n}\n\nasync function C(e, t) {\n  const {\n    headerInfo: n,\n    ifd: a,\n    offsets: i,\n    sizes: s\n  } = t,\n        r = [];\n\n  for (let g = 0; g < i.length; g++) {\n    const t = await m(e, n.littleEndian, a, i[g], s[g] || e.byteLength);\n    r.push(t);\n  }\n\n  const l = O(a, n),\n        {\n    pixelType: o,\n    planes: f\n  } = n,\n        u = g(o),\n        c = T(a, \"TILEWIDTH\"),\n        h = T(a, \"TILELENGTH\"),\n        w = T(a, \"COMPRESSION\") ?? 1,\n        p = c * h;\n  let d;\n  const I = [];\n  let E = r[0];\n  const y = 34887 === w;\n\n  for (let g = 0; g < f; g++) {\n    if (d = new u(p), l && y) {\n      if (E = r[g], E.length) for (let e = 0; e < p; e++) d[e] = E[g][e + g];\n    } else if (E.length) if (l || y && !l) d = E.slice(p * g, p * (g + 1));else for (let e = 0; e < p; e++) d[e] = E[e * f + g];\n\n    I.push(d);\n  }\n\n  const A = n.noData ? n.noData[0] : t.noDataValue,\n        S = n.metadata ? n.metadata.statistics : null,\n        x = S ? S.map(e => e.min) : null,\n        b = S ? S.map(e => e.max) : null;\n  let D,\n      U = null;\n  if (null != A) {\n    if (U = new Uint8Array(p), Math.abs(A) > 1e24) for (D = 0; D < p; D++) Math.abs((I[0][D] - A) / A) < 1e-6 ? U[D] = 0 : U[D] = 1;else for (D = 0; D < p; D++) I[0][D] === A ? U[D] = 0 : U[D] = 1;\n  } else x && b && t.applyMinMaxConstraint && (U = M(I, x, b));\n  return {\n    pixelType: o,\n    width: c,\n    height: h,\n    pixels: I,\n    mask: U,\n    noDataValue: A\n  };\n}\n\nasync function F(t, n = {}) {\n  const a = n.pyramidLevel || 0,\n        i = n.headerInfo || U(t),\n        {\n    ifds: s,\n    noData: r\n  } = i;\n  if (0 === s.length) throw \"no valid image file directory\";\n  const l = R(i);\n  if (l) throw l;\n  let o,\n      f = null;\n  const u = -1 === a ? s[s.length - 1] : s[a],\n        c = r ? r[0] : n.noDataValue;\n\n  if (f = i.tileWidth ? await A(t, i, u) : await S(t, i, u), null != c) {\n    if (e(f), f.mask = new Uint8Array(f.width * f.height), Math.abs(c) > 1e24) for (o = 0; o < f.width * f.height; o++) Math.abs((f.pixels[0][o] - c) / c) < 1e-6 ? f.mask[o] = 0 : f.mask[o] = 1;else for (o = 0; o < f.width * f.height; o++) f.pixels[0][o] === c ? f.mask[o] = 0 : f.mask[o] = 1;\n    f.noDataValue = c;\n  }\n\n  return f;\n}\n\nexport { F as decode, C as decodeTileOrStrip, D as getImageInfo, O as isBSQConfig, b as parseFieldValues, U as parseHeader, G as parseIFD, N as parseSignature };","map":{"version":3,"names":["assertIsSome","e","bytesToUTF8","t","J","n","load","a","decode","i","s","r","isPlatformLittleEndian","l","Z","o","f","u","c","Set","h","g","toLowerCase","Uint8Array","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float64Array","Float32Array","w","x","y","p","get","values","d","I","T","E","TIFF_TAGS","L","DataView","getUint16","byteLength","success","ifd","nextIFD","requiredBufferSize","k","Map","m","A","getTagName","getUint32","push","id","type","valueCount","valueOffset","valueOffsets","b","set","inputOffset","pixels","S","M","slice","getBytes","ArrayBuffer","length","parse","getData","width","height","buffer","pixelType","tileWidth","tileHeight","D","O","planes","U","P","N","G","R","C","Math","ceil","round","floor","littleEndian","min","console","log","F","match","indexOf","trim","has","parseFloat","max","avg","stddev","BandName","WavelengthMin","WavelengthMax","statistics","bandProperties","dataType","rawMetadata","offlineOffsetSize","getUint8","getInt8","getInt16","getInt32","getFloat32","getFloat64","String","fromCharCode","map","some","isNaN","split","find","includes","replace","startsWith","wkid","wkt","data","abs","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","xmin","xmax","ymin","ymax","spatialReference","filter","v","B","V","W","LN2","maxCol","maxRow","minRow","minCol","forEach","H","Y","ifds","isBSQ","compression","noData","isSupported","message","extent","affine","firstPyramidLevel","maximumPyramidLevel","pyramidBlockWidth","pyramidBlockHeight","tileBoundary","metadata","isBigTiff","firstIFDPos","ifdTags","GEO_KEYS","headerInfo","offsets","sizes","noDataValue","applyMinMaxConstraint","mask","pyramidLevel","decodeTileOrStrip","getImageInfo","isBSQConfig","parseFieldValues","parseHeader","parseIFD","parseSignature"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{assertIsSome as e}from\"../../../core/maybe.js\";import{bytesToUTF8 as t}from\"../rasterDatasets/byteStreamUtils.js\";import{J as n}from\"../../../chunks/Jpg.js\";import{load as a,decode as i}from\"./Lerc.js\";import{decode as s}from\"./Lzw.js\";import r from\"./TiffTags.js\";import{isPlatformLittleEndian as l}from\"./utils.js\";import{Z as o}from\"../../../chunks/Zlib.js\";const f=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],u=4294967296,c=new Set([1,5,6,7,8,34712,34887]);function h(e,t){let n=\"unknown\";return 3===e?n=64===t?\"f64\":\"f32\":1===e?1===t?n=\"u1\":2===t?n=\"u2\":4===t?n=\"u4\":t<=8?n=\"u8\":t<=16?n=\"u16\":t<=32&&(n=\"u32\"):2===e&&(t<=8?n=\"s8\":t<=16?n=\"s16\":t<=32&&(n=\"s32\")),n}function g(e){let t=null;switch(e?e.toLowerCase():\"f32\"){case\"u1\":case\"u2\":case\"u4\":case\"u8\":t=Uint8Array;break;case\"u16\":t=Uint16Array;break;case\"u32\":t=Uint32Array;break;case\"s8\":t=Int8Array;break;case\"s16\":t=Int16Array;break;case\"s32\":t=Int32Array;break;case\"f64\":t=Float64Array;break;default:t=Float32Array}return t}function w(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function p(e,t){return e.get(t)?.values}function d(e,t){return e.get(t)?.values}function I(e,t){return e.get(t)?.values?.[0]}function T(e,t){return e.get(t)?.values?.[0]}function E(e,t,n,a=0,i=r.TIFF_TAGS,s=4){const l=8===s,o=l?L(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),f=4+2*s,u=l?8:2,c=u+o*f;if(n+c>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:c};const h=n+c+4<=e.byteLength?k(new DataView(e,n+c,8===s?8:4),0,t,8===s):null,g=n+u,w=new Map;let p,d,I,T,E,y=0,m=0;for(let A=0;A<o;A++){d=new DataView(e,g+f*A,f),I=d.getUint16(0,t),E=d.getUint16(2,t),T=r.getTagName(I,i);const n=[];2===s?(y=d.getUint16(4,t),m=d.getUint16(6,t)):4===s?(y=d.getUint32(4,t),m=d.getUint32(8,t)):8===s&&(y=k(d,4,t,!0),m=k(d,12,t,!0),n.push(d.getUint32(12,t)),n.push(d.getUint32(16,t))),p={id:I,type:E,valueCount:y,valueOffset:m,valueOffsets:n,values:null},b(e,t,p,a,!1,s),w.set(T,p)}return{success:!0,ifd:w,nextIFD:h,requiredBufferSize:c}}const y=(e,t)=>i(e,{inputOffset:t}).pixels[0];async function m(t,i,r,f,u){const c=l===i,w=T(r,\"BITSPERSAMPLE\"),p=h(T(r,\"SAMPLEFORMAT\")??1,w),d=T(r,\"COMPRESSION\")??1,I=g(p);let E,m,A,S,M,x,b;if(34887===d)return await a(),y(t,f);if(1===d)b=t.slice(f,f+u),A=new Uint8Array(b);else if(8===d||32946===d)A=new Uint8Array(t,f,u),M=new o(A),x=M.getBytes(),b=new ArrayBuffer(x.length),A=new Uint8Array(b),A.set(x);else if(6===d){A=new Uint8Array(t,f,u);const e=new n;e.parse(A);const a=e.getData(e.width,e.height,!0);b=new ArrayBuffer(a.length),A=new Uint8Array(b),A.set(a)}else if(7===d){const e=r.get(\"JPEGTABLES\").values,a=e.length-2;A=new Uint8Array(a+u-2);for(let t=0;t<a;t++)A[t]=e[t];const i=new Uint8Array(t,f+2,u-2);for(let t=0;t<i.length;t++)A[a+t]=i[t];const s=new n;s.parse(A);const l=s.getData(s.width,s.height,!0);b=new ArrayBuffer(l.length),A=new Uint8Array(b),A.set(l)}else 5===d&&(A=s(t,f,u,i),b=A.buffer);if(\"u8\"===p||\"s8\"===p||c)m=new I(b);else{switch(e(A),b=new ArrayBuffer(A.length),S=new Uint8Array(b),p){case\"u16\":case\"s16\":for(E=0;E<A.length;E+=2)S[E]=A[E+1],S[E+1]=A[E];break;case\"u32\":case\"s32\":case\"f32\":for(E=0;E<A.length;E+=4)S[E]=A[E+3],S[E+1]=A[E+2],S[E+2]=A[E+1],S[E+3]=A[E]}m=new I(b)}return m}async function A(e,t,n){const a=d(n,\"TILEOFFSETS\");if(void 0===a)return null;const i=d(n,\"TILEBYTECOUNTS\"),{width:s,height:r,pixelType:l,tileWidth:o,tileHeight:f}=D([n]),u=O(n,t),c=t.planes,h=s*r,w=T(n,\"BITSPERSAMPLE\"),p=34887===(T(n,\"COMPRESSION\")??1),I=g(l),E=[];for(let g=0;g<c;g++)E.push(new I(h));let y,A,S,M,x,b,U,L,P,k,N,G,R;const C=Math.ceil(s/o);if(w%8==0)if(p&&u&&c>1){const l=Math.round(a.length/c);for(y=0;y<l;y++){b=Math.floor(y/C)*f,U=y%C*o,L=b*s+U;for(let l=0;l<c;l++){const u=y*c+l;if(0!==i[u])for(S=await m(e,t.littleEndian,n,a[u],i[u]),k=0,P=L,G=Math.min(o,s-U),N=Math.min(f,r-b),R=E[l],M=0;M<N;M++)for(P=L+M*s,k=M*o,x=0;x<G;x++,P++,k++)R[P]=S[k]}}}else for(y=0;y<a.length;y++)if(0!==i[y])for(b=Math.floor(y/C)*f,U=y%C*o,L=b*s+U,S=await m(e,t.littleEndian,n,a[y],i[y]),k=0,P=L,G=Math.min(o,s-U),N=Math.min(f,r-b),A=0;A<c;A++)if(R=E[A],u||p)for(M=0;M<N;M++)for(P=L+M*s,k=o*f*A+M*o,x=0;x<G;x++,P++,k++)R[P]=S[k];else for(M=0;M<N;M++)for(P=L+M*s,k=M*o*c+A,x=0;x<G;x++,P++,k+=c)R[P]=S[k];return{width:s,height:r,pixelType:l,pixels:E}}const S=(t,a,i)=>{const r=l===a.littleEndian,f=d(i,\"STRIPOFFSETS\");if(void 0===f)return null;const{width:u,height:c,pixelType:h}=D([i]),w=a.planes,p=u*c,I=T(i,\"BITSPERSAMPLE\"),E=g(h),y=new E(p*w),m=d(i,\"STRIPBYTECOUNTS\"),A=T(i,\"ROWSPERSTRIP\"),S=T(i,\"COMPRESSION\")??1;let M,x,b,O,U,L,P,k,N,G,R,C=A;if(I%8==0)for(M=0;M<f.length;M++){if(U=M*(A*u)*w,C=(M+1)*A>c?c-M*A:A,\"u8\"===h||\"s8\"===h||r){if(8===S||32946===S)P=new Uint8Array(t,f[M],m[M]),G=new o(P),R=G.getBytes(),L=new ArrayBuffer(R.length),P=new Uint8Array(L),P.set(R),P.length!==C*u*w*I/8&&console.log(\"strip byte counts is different than expected\");else if(6===S){P=new Uint8Array(t,f[M],m[M]);const e=new n;e.parse(P);const a=e.getData(e.width,e.height,!0);L=new ArrayBuffer(a.length),P=new Uint8Array(L),P.set(a)}else 5===S?(P=s(t,f[M],m[M],a.littleEndian),L=P.buffer):(m[M]!==C*u*w*I/8&&console.log(\"strip byte counts is different than expected\"),L=t.slice(f[M],f[M]+m[M]));O=new E(L)}else{switch(6===S||8===S||32946===S?(P=new Uint8Array(t,f[M],m[M]),G=new o(P),P=G.getBytes(),L=new ArrayBuffer(P.length),k=new Uint8Array(L),P.length!==C*u*w*I/8&&console.log(\"strip byte counts is different than expected\")):(m[M]!==C*u*w*I/8&&console.log(\"strip byte counts is different than expected\"),L=new ArrayBuffer(m[M]),P=new Uint8Array(t,f[M],m[M]),k=new Uint8Array(L)),h){case\"u16\":case\"s16\":for(b=0;b<P.length;b+=2)k[b]=P[b+1],k[b+1]=P[b];break;case\"u32\":case\"s32\":case\"f32\":for(b=0;b<P.length;b+=4)k[b]=P[b+3],k[b+1]=P[b+2],k[b+2]=P[b+1],k[b+3]=P[b]}e(L),O=new E(L)}y.set(O,U)}const F=[];if(1===w)F.push(y);else for(M=0;M<w;M++){for(N=new E(p),x=0;x<p;x++)N[x]=y[x*w+M];F.push(N)}return{width:u,height:c,pixelType:h,pixels:F}},M=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let a,i,s;const r=e[0].length,l=e.length,o=new Uint8Array(r);for(let f=0;f<l;f++)if(a=e[f],i=t[f],s=n[f],0===f)for(let e=0;e<r;e++)o[e]=a[e]<i||a[e]>s?0:1;else for(let e=0;e<r;e++)o[e]&&(o[e]=a[e]<i||a[e]>s?0:1);return o},x=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let a,i,s,r,l;for(let I=0;I<t.length;I++)a=t[I],i=a.slice(\"<Item \".length,a.indexOf(\">\")),r=a.indexOf(\"sample=\"),r>-1&&(l=a.slice(r+'sample=\"'.length,a.indexOf('\"',r+'sample=\"'.length))),r=a.indexOf(\"name=\"),r>-1&&(i=a.slice(r+'name=\"'.length,a.indexOf('\"',r+'name=\"'.length))),i&&(s=a.slice(a.indexOf(\">\")+1,a.indexOf(\"</Item>\")).trim(),null!=l?n.has(i)?n.get(i)[l]=s:n.set(i,[s]):n.set(i,s)),l=null;const o=n.get(\"STATISTICS_MINIMUM\"),f=n.get(\"STATISTICS_MAXIMUM\"),u=n.get(\"STATISTICS_MEAN\"),c=n.get(\"STATISTICS_STDDEV\");let h=null;if(o&&f){h=[];for(let e=0;e<o.length;e++)h.push({min:parseFloat(o[e]),max:parseFloat(f[e]),avg:u&&parseFloat(u[e]),stddev:c&&parseFloat(c[e])})}const g=n.get(\"BandName\"),w=n.get(\"WavelengthMin\"),p=n.get(\"WavelengthMax\");let d=null;if(g){d=[];for(let e=0;e<g.length;e++)d.push({BandName:g[e],WavelengthMin:w&&parseFloat(w[e]),WavelengthMax:p&&parseFloat(p[e])})}return{statistics:h,bandProperties:d,dataType:n.get(\"DataType\"),rawMetadata:n}};function b(e,t,n,a=0,i=!1,s=4){if(n.values)return!0;const r=n.type,l=n.valueCount;let o=n.valueOffset,c=[];const h=f[r],g=8*h,w=l*h,p=l*f[r]*8;let d,I;const T=8===s?64:32,E=n.valueOffsets;if(p>T){if(w>(i?e.byteLength:e?e.byteLength-o+a:0))return n.offlineOffsetSize=[o,w],n.values=null,!1}if(p<=T){if(!t)if(T<=32)o>>>=32-p;else{const e=E?.length?E[0]:o>>>0,t=E?.length?E[1]:Math.round((o-e)/u);p<=32?(o=e>>>32-p,E[0]=o):(o=e*2**(32-p)+(t>>>32-p),E[0]=e,E[1]=t>>>32-p)}if(1===l&&g===T)c=[o];else if(64===T){const e=E?.length?E[0]:o>>>0,t=E?.length?E[1]:Math.round((o-e)/u);let n=e,a=32;for(I=1;I<=l;I++){const e=32-g*I%32;if(a<g){const i=n<<e>>>32-a,s=t<<32-a>>>32-a;n=t,c.push(i+s*2**(g-a)),a-=32-(g-a)}else c.push(n<<e>>>32-g),a-=g;0===a&&(a=32,n=t)}}else for(I=1;I<=l;I++){const e=32-g*I;c.push(o<<e>>>32-g)}}else{o-=a,i&&(o=0);for(let n=o;n<o+w;n+=h){switch(r){case 1:case 2:case 7:d=new DataView(e,n,1).getUint8(0);break;case 3:d=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:d=new DataView(e,n,4).getUint32(0,t);break;case 5:d=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:d=new DataView(e,n,1).getInt8(0);break;case 8:d=new DataView(e,n,2).getInt16(0,t);break;case 9:d=new DataView(e,n,4).getInt32(0,t);break;case 10:d=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:d=new DataView(e,n,4).getFloat32(0,t);break;case 12:d=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:d=L(new DataView(e,n,8),0,t);break;case 17:d=P(new DataView(e,n,8),0,t);break;default:d=null}c.push(d)}}if(2===r){let e=\"\";const t=c;for(c=[],I=0;I<t.length;I++)0===t[I]&&\"\"!==e?(c.push(e),e=\"\"):e+=String.fromCharCode(t[I]);\"\"===e&&0!==c.length||c.push(e)}return n.values=c,!0}function D(e){const t=e[0],n=T(t,\"TILEWIDTH\"),a=T(t,\"TILELENGTH\"),i=T(t,\"IMAGEWIDTH\"),s=T(t,\"IMAGELENGTH\"),r=T(t,\"BITSPERSAMPLE\"),l=T(t,\"SAMPLESPERPIXEL\"),o=T(t,\"SAMPLEFORMAT\")??1,f=h(o,r),u=O(t),g=p(t,\"GDAL_NODATA\");let E=null;g?.length&&(E=g.map((e=>parseFloat(e))),E.some((e=>isNaN(e)))&&(E=null));const y=T(t,\"COMPRESSION\")??1;let m;switch(y){case 1:m=\"NONE\";break;case 2:case 3:case 4:case 32771:m=\"CCITT\";break;case 5:m=\"LZW\";break;case 6:case 7:m=\"JPEG\";break;case 32773:m=\"PACKBITS\";break;case 8:case 32946:m=\"DEFLATE\";break;case 34712:m=\"JPEG2000\";break;case 34887:m=\"LERC\";break;default:m=String(y)}let A=!0,S=\"\";c.has(y)||(A=!1,S+=\"unsupported tag compression \"+y),o>3&&(A=!1,S+=\"unsupported tag sampleFormat \"+o),r%8!=0&&(A=!1,S+=\"unsupported tag bitsPerSample \"+r);const M=I(t,\"GEOASCIIPARAMS\");let b;if(M){const e=M.split(\"|\").find((e=>e.includes(\"ESRI PE String = \"))),t=e?e.replace(\"ESRI PE String = \",\"\"):\"\";b=t.startsWith(\"COMPD_CS\")||t.startsWith(\"PROJCS\")||t.startsWith(\"GEOGCS\")?{wkid:null,wkt:t}:null}const D=d(t,\"GEOTIEPOINTS\"),U=d(t,\"GEOPIXELSCALE\"),L=d(t,\"GEOTRANSMATRIX\"),P=t.has(\"GEOKEYDIRECTORY\")?t.get(\"GEOKEYDIRECTORY\").data:null;let k,N,G=!1;if(P){G=2===T(P,\"GTRasterTypeGeoKey\");const e=T(P,\"GTModelTypeGeoKey\");if(2===e){const e=T(P,\"GeographicTypeGeoKey\");e>=1024&&e<=32766&&(b={wkid:e})}else if(1===e){const e=T(P,\"ProjectedCSTypeGeoKey\");e>=1024&&e<=32766&&(b={wkid:e})}}if(U&&D&&D.length>=6?(k=[U[0],0,D[3]-D[0]*U[0],0,-Math.abs(U[1]),D[4]-D[1]*U[1]],G&&(k[2]-=.5*k[0]+.5*k[1],k[5]-=.5*k[3]+.5*k[4])):L&&16===L.length&&(k=G?[L[0],L[1],L[3]-.5*L[0],L[4],L[5],L[7]-.5*L[5]]:[L[0],L[1],L[3],L[4],L[5],L[7]]),k){const e=[{x:0,y:s},{x:0,y:0},{x:i,y:s},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=w(e[i],k),n=t.x>n?n:t.x,r=t.x<r?r:t.x,a=t.y>a?a:t.y,l=t.y<l?l:t.y;N={xmin:n,xmax:r,ymin:a,ymax:l,spatialReference:b}}else N={xmin:-.5,ymin:.5-s,xmax:i-.5,ymax:.5,spatialReference:b};const C=e.filter((e=>1===I(e,\"NEWSUBFILETYPE\")));let F,v,B,V,W;if(C.length>0){B=Math.round(Math.log(i/T(C[0],\"IMAGEWIDTH\"))/Math.LN2);const e=C[C.length-1];V=Math.round(Math.log(i/T(e,\"IMAGEWIDTH\"))/Math.LN2),F=T(e,\"TILEWIDTH\"),v=T(e,\"TILELENGTH\")}F=null!=V&&V>0?F||n:null,v=null!=V&&V>0?v||a:null,n&&(W=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(s/a)-1,minRow:0,minCol:0}],C.forEach((e=>{W.push({maxCol:Math.ceil(T(e,\"IMAGEWIDTH\")/T(e,\"TILEWIDTH\"))-1,maxRow:Math.ceil(T(e,\"IMAGELENGTH\")/T(e,\"TILELENGTH\"))-1,minRow:0,minCol:0})})));const H=I(e[0],\"GDAL_METADATA\"),Y=x(H);return S+=\" \"+R({width:i,height:s,tileWidth:n,tileHeight:a,planes:l,ifds:e}),{width:i,height:s,tileWidth:n,tileHeight:a,planes:l,isBSQ:u,pixelType:f,compression:m,noData:E,isSupported:A,message:S,extent:N,affine:U?null:k,firstPyramidLevel:B,maximumPyramidLevel:V,pyramidBlockWidth:F,pyramidBlockHeight:v,tileBoundary:W,metadata:Y}}function O(e,t){const n=p(e,\"PLANARCONFIGURATION\");return n?2===n[0]:!!t&&t.isBSQ}function U(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:a}=N(e);let i=a;const s=[];do{const a=G(e,t,i,0,r.TIFF_TAGS,n?8:4);if(!a.success)break;s.push(a.ifd),i=a.nextIFD}while(i>0);return{...D(s),littleEndian:t,isBigTiff:n,ifds:s}}function L(e,t,n){const a=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*u+a:a*u+i}function P(e,t,n){let a=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const s=(n?a:i)>=0?1:-1;n?a*=s:i*=s;return s*(n?i*u+a:a*u+i)}function k(e,t,n,a){return a?L(e,t,n):e.getUint32(t,n)}function N(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let a=null;if(18761===n)a=!0;else{if(19789!==n)throw\"unexpected endianess byte\";a=!1}const i=t.getUint16(2,a);if(42!==i&&43!==i)throw\"unexpected tiff identifier\";let s=4;const r=43===i;if(r){const e=t.getUint16(s,a);if(s+=2,8!==e)throw\"unsupported bigtiff version\";if(0!==t.getUint16(s,a))throw\"unsupported bigtiff version\";s+=2}return{littleEndian:a,isBigTiff:r,firstIFDPos:k(t,s,a,r)}}function G(e,n,a,i=0,s=r.TIFF_TAGS,l=4){const o=E(e,n,a,i,s,l);let f;const u=o.ifd;if(u){if(r.ifdTags.forEach(((t,a)=>{u.has(a)&&(f=u.get(a),f.data=E(e,n,f.valueOffset-i,i,t).ifd)})),u.has(\"GEOKEYDIRECTORY\")){f=u.get(\"GEOKEYDIRECTORY\");const t=f.values;if(t&&t.length>4){const a=t[0]+\".\"+t[1]+\".\"+t[2];f.data=E(e,n,f.valueOffset+6-i,i,r.GEO_KEYS,2).ifd,f.data&&f.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}if(u.has(\"XMP\")){f=u.get(\"XMP\");const e=f.values;\"number\"==typeof e[0]&&7===f.type&&(f.values=[t(new Uint8Array(e))])}}return o}function R(e){const{width:t,height:n,tileHeight:a,tileWidth:i}=e,s=e.planes,r=i?i*a:t*n,l=T(e.ifds[0],\"BITSPERSAMPLE\");let o=\"\";return r*s>2**30/(l>8?l/8:1)&&(o=i?\"tiled tiff exceeding 1 gigabits per tile is not supported\":\"scanline tiff exceeding 1 gigabits is not supported\"),o}async function C(e,t){const{headerInfo:n,ifd:a,offsets:i,sizes:s}=t,r=[];for(let g=0;g<i.length;g++){const t=await m(e,n.littleEndian,a,i[g],s[g]||e.byteLength);r.push(t)}const l=O(a,n),{pixelType:o,planes:f}=n,u=g(o),c=T(a,\"TILEWIDTH\"),h=T(a,\"TILELENGTH\"),w=T(a,\"COMPRESSION\")??1,p=c*h;let d;const I=[];let E=r[0];const y=34887===w;for(let g=0;g<f;g++){if(d=new u(p),l&&y){if(E=r[g],E.length)for(let e=0;e<p;e++)d[e]=E[g][e+g]}else if(E.length)if(l||y&&!l)d=E.slice(p*g,p*(g+1));else for(let e=0;e<p;e++)d[e]=E[e*f+g];I.push(d)}const A=n.noData?n.noData[0]:t.noDataValue,S=n.metadata?n.metadata.statistics:null,x=S?S.map((e=>e.min)):null,b=S?S.map((e=>e.max)):null;let D,U=null;if(null!=A)if(U=new Uint8Array(p),Math.abs(A)>1e24)for(D=0;D<p;D++)Math.abs((I[0][D]-A)/A)<1e-6?U[D]=0:U[D]=1;else for(D=0;D<p;D++)I[0][D]===A?U[D]=0:U[D]=1;else x&&b&&t.applyMinMaxConstraint&&(U=M(I,x,b));return{pixelType:o,width:c,height:h,pixels:I,mask:U,noDataValue:A}}async function F(t,n={}){const a=n.pyramidLevel||0,i=n.headerInfo||U(t),{ifds:s,noData:r}=i;if(0===s.length)throw\"no valid image file directory\";const l=R(i);if(l)throw l;let o,f=null;const u=-1===a?s[s.length-1]:s[a],c=r?r[0]:n.noDataValue;if(f=i.tileWidth?await A(t,i,u):await S(t,i,u),null!=c){if(e(f),f.mask=new Uint8Array(f.width*f.height),Math.abs(c)>1e24)for(o=0;o<f.width*f.height;o++)Math.abs((f.pixels[0][o]-c)/c)<1e-6?f.mask[o]=0:f.mask[o]=1;else for(o=0;o<f.width*f.height;o++)f.pixels[0][o]===c?f.mask[o]=0:f.mask[o]=1;f.noDataValue=c}return f}export{F as decode,C as decodeTileOrStrip,D as getImageInfo,O as isBSQConfig,b as parseFieldValues,U as parseHeader,G as parseIFD,N as parseSignature};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}