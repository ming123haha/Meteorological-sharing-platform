{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { calculateNDVI as o } from \"./bandIndexUtils.js\";\nimport n from \"./BaseRasterFunction.js\";\nimport i from \"./NDVIFunctionArguments.js\";\nlet c = class extends n {\n  constructor() {\n    super(...arguments), this.functionName = \"NDVI\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"];\n  }\n\n  _bindSourceRasters() {\n    const {\n      scaled: t\n    } = this.functionArguments;\n    this.outputPixelType = this._getOutputPixelType(t ? \"u8\" : \"f32\");\n    const s = this.sourceRasterInfos[0].clone();\n    s.pixelType = this.outputPixelType, s.colormap = null, s.histograms = null;\n    const [r, e, o, n] = t ? [0, 200, 100, 10] : [-1, 1, 0, .1];\n    return s.statistics = [{\n      min: r,\n      max: e,\n      avg: o,\n      stddev: n\n    }], this.rasterInfo = s, {\n      success: !0\n    };\n  }\n\n  _processPixels(t) {\n    const r = t.pixelBlocks?.[0];\n    if (s(r)) return null;\n    const {\n      visibleBandID: e,\n      infraredBandID: n,\n      scaled: i\n    } = this.functionArguments;\n    return o(r, e, n, i);\n  }\n\n};\nt([r({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], c.prototype, \"functionName\", void 0), t([r({\n  type: i,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], c.prototype, \"functionArguments\", void 0), t([r()], c.prototype, \"rasterArgumentNames\", void 0), c = t([e(\"esri.layers.support.rasterFunctions.NDVIFunction\")], c);\nconst u = c;\nexport { u as default };","map":{"version":3,"names":["_","t","isNone","s","property","r","subclass","e","calculateNDVI","o","n","i","c","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","scaled","outputPixelType","_getOutputPixelType","sourceRasterInfos","clone","pixelType","colormap","histograms","statistics","min","max","avg","stddev","rasterInfo","success","_processPixels","pixelBlocks","visibleBandID","infraredBandID","json","write","name","prototype","type","u","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/NDVIFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isNone as s}from\"../../../core/maybe.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{calculateNDVI as o}from\"./bandIndexUtils.js\";import n from\"./BaseRasterFunction.js\";import i from\"./NDVIFunctionArguments.js\";let c=class extends n{constructor(){super(...arguments),this.functionName=\"NDVI\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const{scaled:t}=this.functionArguments;this.outputPixelType=this._getOutputPixelType(t?\"u8\":\"f32\");const s=this.sourceRasterInfos[0].clone();s.pixelType=this.outputPixelType,s.colormap=null,s.histograms=null;const[r,e,o,n]=t?[0,200,100,10]:[-1,1,0,.1];return s.statistics=[{min:r,max:e,avg:o,stddev:n}],this.rasterInfo=s,{success:!0}}_processPixels(t){const r=t.pixelBlocks?.[0];if(s(r))return null;const{visibleBandID:e,infraredBandID:n,scaled:i}=this.functionArguments;return o(r,e,n,i)}};t([r({json:{write:!0,name:\"rasterFunction\"}})],c.prototype,\"functionName\",void 0),t([r({type:i,json:{write:!0,name:\"rasterFunctionArguments\"}})],c.prototype,\"functionArguments\",void 0),t([r()],c.prototype,\"rasterArgumentNames\",void 0),c=t([e(\"esri.layers.support.rasterFunctions.NDVIFunction\")],c);const u=c;export{u as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}