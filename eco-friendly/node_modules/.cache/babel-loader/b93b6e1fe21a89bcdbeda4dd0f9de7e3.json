{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport e from \"../../../core/Error.js\";\nimport { unwrap as t, isSome as n } from \"../../../core/maybe.js\";\nimport { pt2px as r } from \"../../../core/screenUtils.js\";\nimport i from \"../../../geometry/SpatialReference.js\";\nimport { quantizePoint as o } from \"../../../geometry/support/quantizationUtils.js\";\nimport { isWrappable as s, getInfo as l } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { isNumericField as a, numericTypes as u } from \"../../../layers/support/fieldUtils.js\";\nimport { evaluateDensityKernel as f, createValueFunction as c } from \"../../../renderers/support/heatmapUtils.js\";\nimport { processNullValue as m, getNormalizedValue as d } from \"../../../statistics/utils.js\";\nimport { loadArcade as p } from \"../../../support/arcadeOnDemand.js\";\nimport h from \"../../../geometry/Point.js\";\nlet y = null;\n\nfunction $(e, t, n) {\n  return e.x < 0 ? e.x += t : e.x > n && (e.x -= t), e;\n}\n\nfunction I(e, n, r, i) {\n  const a = s(r) ? l(r) : null,\n        u = a ? Math.round((a.valid[1] - a.valid[0]) / n.scale[0]) : null;\n  return e.map(e => {\n    const r = new h(t(e.geometry));\n    return o(n, r, r, r.hasZ, r.hasM), e.geometry = a ? $(r, u, i[0]) : r, e;\n  });\n}\n\nfunction g(e, t = 18, n, i, o, s) {\n  const l = new Float64Array(o * s);\n  t = Math.round(r(t));\n  let a = Number.POSITIVE_INFINITY,\n      u = Number.NEGATIVE_INFINITY,\n      m = 0,\n      d = 0,\n      p = 0,\n      h = 0;\n  const y = c(i, n);\n\n  for (const {\n    geometry: r,\n    attributes: c\n  } of e) {\n    const {\n      x: e,\n      y: n\n    } = r,\n          i = Math.max(0, e - t),\n          $ = Math.max(0, n - t),\n          I = Math.min(s, n + t),\n          g = Math.min(o, e + t),\n          j = +y(c);\n\n    for (let r = $; r < I; r++) for (let s = i; s < g; s++) {\n      const i = r * o + s,\n            c = f(s - e, r - n, t),\n            y = l[i];\n      m = l[i] += c * j;\n      const $ = m - y;\n      d += $, p += $ * $, m < a && (a = m), m > u && (u = m), h++;\n    }\n  }\n\n  if (!h) return {\n    mean: 0,\n    stddev: 0,\n    min: 0,\n    max: 0,\n    mid: 0,\n    count: 0\n  };\n  const $ = (u - a) / 2;\n  return {\n    mean: d / h,\n    stdDev: Math.sqrt((p - d * d / h) / h),\n    min: a,\n    max: u,\n    mid: $,\n    count: h\n  };\n}\n\nasync function j(e, t) {\n  if (!t) return [];\n  const {\n    field: n,\n    field2: r,\n    field3: o,\n    fieldDelimiter: s\n  } = e,\n        l = e.valueExpression,\n        a = e.normalizationType,\n        u = e.normalizationField,\n        f = e.normalizationTotal,\n        c = [],\n        h = e.viewInfoParams;\n  let $ = null,\n      I = null;\n\n  if (l) {\n    if (!y) {\n      const {\n        arcadeUtils: e\n      } = await p();\n      y = e;\n    }\n\n    $ = y.createFunction(l), I = h && y.getViewInfo({\n      viewingMode: h.viewingMode,\n      scale: h.scale,\n      spatialReference: new i(h.spatialReference)\n    });\n  }\n\n  const g = e.fieldInfos,\n        j = !(t[0] && \"declaredClass\" in t[0] && \"esri.Graphic\" === t[0].declaredClass) && g ? {\n    fields: g\n  } : null;\n  return t.forEach(e => {\n    const t = e.attributes;\n    let i;\n\n    if (l) {\n      const t = j ? { ...e,\n        layer: j\n      } : e,\n            n = y.createExecContext(t, I);\n      i = y.executeFunction($, n);\n    } else t && (i = t[n], r && (i = `${m(i)}${s}${m(t[r])}`, o && (i = `${i}${s}${m(t[o])}`)));\n\n    if (a && \"number\" == typeof i && isFinite(i)) {\n      const e = t && parseFloat(t[u]);\n      i = d(i, a, e, f);\n    }\n\n    c.push(i);\n  }), c;\n}\n\nfunction x(e) {\n  const t = e.field,\n        n = e.normalizationType,\n        r = e.normalizationField;\n  let i;\n  return \"field\" === n ? i = \"(NOT \" + r + \" = 0)\" : \"log\" !== n && \"natural-log\" !== n && \"square-root\" !== n || (i = `(${t} > 0)`), i;\n}\n\nfunction F(t, n) {\n  return new e(t, n);\n}\n\nfunction b(e, t, n) {\n  const r = null != t ? e + \" >= \" + t : \"\",\n        i = null != n ? e + \" <= \" + n : \"\";\n  let o = \"\";\n  return o = r && i ? N(r, i) : r || i, o ? \"(\" + o + \")\" : \"\";\n}\n\nfunction v(e, t, n, r) {\n  let i = null;\n  return t ? t.name !== e.objectIdField && r.includes(t.type) || (i = F(n, \"'field' should be one of these types: \" + r.join(\",\"))) : i = F(n, \"'field' is not defined in the layer schema\"), i;\n}\n\nfunction E(e, t, n) {\n  let r;\n  return t ? t.name !== e.objectIdField && a(t) || (r = F(n, \"'field' should be one of these numeric types: \" + u.join(\",\"))) : r = F(n, \"'field' is not defined in the layer schema\"), r;\n}\n\nfunction N(e, t) {\n  let r = n(e) ? e : \"\";\n  return n(t) && t && (r = r ? \"(\" + r + \") AND (\" + t + \")\" : t), r;\n}\n\nfunction w(e, t) {\n  if (e && \"intersects\" !== e.spatialRelationship) return F(t, \"Only 'intersects' spatialRelationship is supported for featureFilter\");\n}\n\nfunction M(e, t, n) {\n  const r = U({\n    layer: e,\n    fields: t\n  });\n  if (r.length) return F(n, \"Unknown fields: \" + r.join(\", \") + \". You can only use fields defined in the layer schema\");\n  const i = T({\n    layer: e,\n    fields: t\n  });\n  return i.length ? F(n, \"Unsupported fields: \" + i.join(\", \") + \". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\") : void 0;\n}\n\nfunction U(e) {\n  const t = e.layer;\n  return e.fields.filter(e => !t.getField(e));\n}\n\nfunction T(e) {\n  const t = e.layer;\n  return e.fields.filter(e => {\n    const n = t.getFieldUsageInfo(e);\n    return !n || !n.supportsStatistics;\n  });\n}\n\nfunction z(e, t, n) {\n  const r = [],\n        i = [],\n        o = [],\n        s = [],\n        l = [];\n  e.forEach((e, t) => {\n    const a = e.field ? \"field\" : \"expression\",\n          u = e.field || e.valueExpression;\n    e.field ? (l.push(u), i.push(`var ${a}${t} = Number($feature[\"${u}\"]);`)) : (r.push(`function getValueForExpr${t}() {\\n  ${u} \\n}`), i.push(`var ${a}${t} = Number(getValueForExpr${t}());`)), n || o.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`), s.push(`${a}${t}`);\n  });\n  let a = \"return sum;\";\n  const u = r.length ? null : l.reduce((e, t) => `${e} + ${t}`);\n  let f = null;\n  t || n ? t ? n || (a = \"return IIf(sum >= 0, sum, null);\", u && (f = `(( ${u} ) >= 0)`)) : (a = \"return IIf(sum != 0, sum, null);\", u && (f = `(( ${u} ) <> 0)`)) : (a = \"return IIf(sum > 0, sum, null);\", u && (f = `(( ${u} ) > 0)`));\n  return {\n    valueExpression: [r.length ? r.join(\"\\n\") : \"\", i.join(\"\\n\"), o.join(\"\\n\"), `var sum = ${s.join(\" + \")};`, a].filter(Boolean).join(\"\\n\\n\"),\n    sqlExpression: u,\n    sqlWhere: f\n  };\n}\n\nexport { g as calculateHeatmapStats, F as createError, j as getDataValues, b as getRangeExpr, x as getSQLFilterForNormalization, z as getSumOfAttributesExpr, N as mergeWhereClauses, I as quantizeFeatures, M as verifyBasicFieldValidity, v as verifyFieldType, w as verifyFilterValidty, E as verifyNumericField };","map":{"version":3,"names":["e","unwrap","t","isSome","n","pt2px","r","i","quantizePoint","o","isWrappable","s","getInfo","l","isNumericField","a","numericTypes","u","evaluateDensityKernel","f","createValueFunction","c","processNullValue","m","getNormalizedValue","d","loadArcade","p","h","y","$","x","I","Math","round","valid","scale","map","geometry","hasZ","hasM","g","Float64Array","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","attributes","max","min","j","mean","stddev","mid","count","stdDev","sqrt","field","field2","field3","fieldDelimiter","valueExpression","normalizationType","normalizationField","normalizationTotal","viewInfoParams","arcadeUtils","createFunction","getViewInfo","viewingMode","spatialReference","fieldInfos","declaredClass","fields","forEach","layer","createExecContext","executeFunction","isFinite","parseFloat","push","F","b","N","v","name","objectIdField","includes","type","join","E","w","spatialRelationship","M","U","length","T","filter","getField","getFieldUsageInfo","supportsStatistics","z","reduce","Boolean","sqlExpression","sqlWhere","calculateHeatmapStats","createError","getDataValues","getRangeExpr","getSQLFilterForNormalization","getSumOfAttributesExpr","mergeWhereClauses","quantizeFeatures","verifyBasicFieldValidity","verifyFieldType","verifyFilterValidty","verifyNumericField"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/smartMapping/statistics/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{unwrap as t,isSome as n}from\"../../../core/maybe.js\";import{pt2px as r}from\"../../../core/screenUtils.js\";import i from\"../../../geometry/SpatialReference.js\";import{quantizePoint as o}from\"../../../geometry/support/quantizationUtils.js\";import{isWrappable as s,getInfo as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isNumericField as a,numericTypes as u}from\"../../../layers/support/fieldUtils.js\";import{evaluateDensityKernel as f,createValueFunction as c}from\"../../../renderers/support/heatmapUtils.js\";import{processNullValue as m,getNormalizedValue as d}from\"../../../statistics/utils.js\";import{loadArcade as p}from\"../../../support/arcadeOnDemand.js\";import h from\"../../../geometry/Point.js\";let y=null;function $(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}function I(e,n,r,i){const a=s(r)?l(r):null,u=a?Math.round((a.valid[1]-a.valid[0])/n.scale[0]):null;return e.map((e=>{const r=new h(t(e.geometry));return o(n,r,r,r.hasZ,r.hasM),e.geometry=a?$(r,u,i[0]):r,e}))}function g(e,t=18,n,i,o,s){const l=new Float64Array(o*s);t=Math.round(r(t));let a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,m=0,d=0,p=0,h=0;const y=c(i,n);for(const{geometry:r,attributes:c}of e){const{x:e,y:n}=r,i=Math.max(0,e-t),$=Math.max(0,n-t),I=Math.min(s,n+t),g=Math.min(o,e+t),j=+y(c);for(let r=$;r<I;r++)for(let s=i;s<g;s++){const i=r*o+s,c=f(s-e,r-n,t),y=l[i];m=l[i]+=c*j;const $=m-y;d+=$,p+=$*$,m<a&&(a=m),m>u&&(u=m),h++}}if(!h)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const $=(u-a)/2;return{mean:d/h,stdDev:Math.sqrt((p-d*d/h)/h),min:a,max:u,mid:$,count:h}}async function j(e,t){if(!t)return[];const{field:n,field2:r,field3:o,fieldDelimiter:s}=e,l=e.valueExpression,a=e.normalizationType,u=e.normalizationField,f=e.normalizationTotal,c=[],h=e.viewInfoParams;let $=null,I=null;if(l){if(!y){const{arcadeUtils:e}=await p();y=e}$=y.createFunction(l),I=h&&y.getViewInfo({viewingMode:h.viewingMode,scale:h.scale,spatialReference:new i(h.spatialReference)})}const g=e.fieldInfos,j=!(t[0]&&\"declaredClass\"in t[0]&&\"esri.Graphic\"===t[0].declaredClass)&&g?{fields:g}:null;return t.forEach((e=>{const t=e.attributes;let i;if(l){const t=j?{...e,layer:j}:e,n=y.createExecContext(t,I);i=y.executeFunction($,n)}else t&&(i=t[n],r&&(i=`${m(i)}${s}${m(t[r])}`,o&&(i=`${i}${s}${m(t[o])}`)));if(a&&\"number\"==typeof i&&isFinite(i)){const e=t&&parseFloat(t[u]);i=d(i,a,e,f)}c.push(i)})),c}function x(e){const t=e.field,n=e.normalizationType,r=e.normalizationField;let i;return\"field\"===n?i=\"(NOT \"+r+\" = 0)\":\"log\"!==n&&\"natural-log\"!==n&&\"square-root\"!==n||(i=`(${t} > 0)`),i}function F(t,n){return new e(t,n)}function b(e,t,n){const r=null!=t?e+\" >= \"+t:\"\",i=null!=n?e+\" <= \"+n:\"\";let o=\"\";return o=r&&i?N(r,i):r||i,o?\"(\"+o+\")\":\"\"}function v(e,t,n,r){let i=null;return t?t.name!==e.objectIdField&&r.includes(t.type)||(i=F(n,\"'field' should be one of these types: \"+r.join(\",\"))):i=F(n,\"'field' is not defined in the layer schema\"),i}function E(e,t,n){let r;return t?t.name!==e.objectIdField&&a(t)||(r=F(n,\"'field' should be one of these numeric types: \"+u.join(\",\"))):r=F(n,\"'field' is not defined in the layer schema\"),r}function N(e,t){let r=n(e)?e:\"\";return n(t)&&t&&(r=r?\"(\"+r+\") AND (\"+t+\")\":t),r}function w(e,t){if(e&&\"intersects\"!==e.spatialRelationship)return F(t,\"Only 'intersects' spatialRelationship is supported for featureFilter\")}function M(e,t,n){const r=U({layer:e,fields:t});if(r.length)return F(n,\"Unknown fields: \"+r.join(\", \")+\". You can only use fields defined in the layer schema\");const i=T({layer:e,fields:t});return i.length?F(n,\"Unsupported fields: \"+i.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function U(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function T(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}function z(e,t,n){const r=[],i=[],o=[],s=[],l=[];e.forEach(((e,t)=>{const a=e.field?\"field\":\"expression\",u=e.field||e.valueExpression;e.field?(l.push(u),i.push(`var ${a}${t} = Number($feature[\"${u}\"]);`)):(r.push(`function getValueForExpr${t}() {\\n  ${u} \\n}`),i.push(`var ${a}${t} = Number(getValueForExpr${t}());`)),n||o.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`),s.push(`${a}${t}`)}));let a=\"return sum;\";const u=r.length?null:l.reduce(((e,t)=>`${e} + ${t}`));let f=null;t||n?t?n||(a=\"return IIf(sum >= 0, sum, null);\",u&&(f=`(( ${u} ) >= 0)`)):(a=\"return IIf(sum != 0, sum, null);\",u&&(f=`(( ${u} ) <> 0)`)):(a=\"return IIf(sum > 0, sum, null);\",u&&(f=`(( ${u} ) > 0)`));return{valueExpression:[r.length?r.join(\"\\n\"):\"\",i.join(\"\\n\"),o.join(\"\\n\"),`var sum = ${s.join(\" + \")};`,a].filter(Boolean).join(\"\\n\\n\"),sqlExpression:u,sqlWhere:f}}export{g as calculateHeatmapStats,F as createError,j as getDataValues,b as getRangeExpr,x as getSQLFilterForNormalization,z as getSumOfAttributesExpr,N as mergeWhereClauses,I as quantizeFeatures,M as verifyBasicFieldValidity,v as verifyFieldType,w as verifyFilterValidty,E as verifyNumericField};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}