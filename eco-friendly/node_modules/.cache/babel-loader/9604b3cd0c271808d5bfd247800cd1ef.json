{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport o from \"../core/Accessor.js\";\nimport e from \"../core/Collection.js\";\nimport { HandleOwner as i } from \"../core/HandleOwner.js\";\nimport { makeHandle as a } from \"../core/handleUtils.js\";\nimport \"../core/has.js\";\nimport r from \"../core/Logger.js\";\nimport { isSome as s, isNone as n, destroyMaybe as l } from \"../core/maybe.js\";\nimport { watch as h } from \"../core/reactiveUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as p } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { TextureCollection as u } from \"./3d/support/TextureCollection.js\";\nimport { ViewEventPriorities as d } from \"./input/InputManager.js\";\nimport { eventTypes as v } from \"./input/ViewEvents.js\";\nimport { getToolCollectionHandles as m, areToolManipulatorsEditable as _ } from \"./interactive/interactiveToolUtils.js\";\nimport { EditableFlag as f } from \"./interactive/interfaces.js\";\nimport { ToolViewManagerManipulatorState as T } from \"./interactive/ToolViewManagerManipulatorState.js\";\nconst g = \"attached\",\n      E = \"tools\";\nlet w = class extends i {\n  constructor(t) {\n    super(t), this._manipulatorState = new T(), this.tools = new e(), this.cursor = null, this._forEachTool = t => {\n      for (const o of this.tools.items) if (t(o)) return;\n    };\n  }\n\n  initialize() {\n    this.handles.add([this.view.on(v, t => {\n      this._handleInputEvent(t);\n    }, d.TOOL), ...m(this.tools), this.tools.on(\"before-add\", ({\n      item: t\n    }) => {\n      this._updateToolEditableFlag(t);\n    }), this.tools.on(\"before-remove\", ({\n      item: t\n    }) => {\n      this._manipulatorState.clearPointers(t, this._manipulatorStateEventArgs), this._updateCursor();\n    }), this.tools.on(\"change\", () => {\n      this._refreshToolWatchers();\n    })]);\n  }\n\n  destroy() {\n    this.detach(), this.handles.removeAll();\n  }\n\n  get _manipulatorStateEventArgs() {\n    return {\n      forEachTool: this._forEachTool,\n      activeTool: this.activeTool,\n      setActiveTool: t => {\n        this.activeTool = t;\n      },\n      view: this.view\n    };\n  }\n\n  set activeTool(t) {\n    if (s(t) && !this.view.ready) return void r.getLogger(this.declaredClass).error(\"Cannot set active tool while view is not ready.\");\n    if (t === this.activeTool) return;\n    const o = this.activeTool;\n    this._set(\"activeTool\", t), s(o) && o.deactivate(), s(t) && t.activate(), this._removeIncompleteTools(t);\n\n    for (const e of this.tools) {\n      this._updateToolEditableFlag(e);\n\n      const t = _(e);\n\n      !n(this.activeTool) && t || this._manipulatorState.clearPointers(e, this._manipulatorStateEventArgs, !t);\n    }\n\n    this._updateCursor();\n  }\n\n  get updating() {\n    return this.updatingHandles.updating || this.tools.some(t => t.updating) || (this.textures?.updating ?? !1);\n  }\n\n  attach() {\n    \"3d\" === this.view.type ? (this._set(\"textures\", new u(this.view._stage, this.view.resourceController.scheduler)), this.handles.add([h(() => {\n      const {\n        state: t\n      } = this.view;\n      return \"camera\" in t && t.camera;\n    }, () => {\n      this._forEachManipulator(t => {\n        null != t.onViewChange && t.onViewChange();\n      });\n    }), this.view.elevationProvider.on(\"elevation-change\", t => {\n      this._forEachManipulator(o => {\n        null != o.onElevationChange && o.onElevationChange(t);\n      });\n    }), a(() => this._set(\"textures\", l(this.textures)))], g)) : this.handles.add(h(() => this.view.extent, () => {\n      this._forEachManipulator(t => {\n        null != t.onViewChange && t.onViewChange();\n      });\n    }));\n  }\n\n  detach() {\n    s(this.activeTool) && (this.activeTool = null), this.tools.removeAll(), this.handles.remove(g);\n  }\n\n  _forEachManipulator(t) {\n    this._forEachTool(o => {\n      o.manipulators && o.manipulators.forEach(({\n        manipulator: e\n      }) => t(e, o));\n    });\n  }\n\n  _handleInputEvent(t) {\n    let o = !1;\n    const e = { ...t,\n      stopPropagation: () => {\n        o = !0, t.stopPropagation();\n      }\n    };\n    s(this.activeTool) ? this.activeTool.handleInputEvent && this.activeTool.handleInputEvent(e) : this._forEachTool(t => {\n      !o && t.visible && t.handleInputEvent(e);\n    }), !o && \"key-down\" === t.type && \"Escape\" === t.key && this.activeTool && (t.stopPropagation(), this.activeTool = null), this._manipulatorState.handleInputEvent(e, this._manipulatorStateEventArgs), !o && s(this.activeTool) && this.activeTool.handleInputEventAfter(e), this._manipulatorState.handleHoverEvent(e, this._forEachTool), this._updateCursor();\n  }\n\n  _refreshToolWatchers() {\n    this.handles.remove(E), this._forEachTool(t => {\n      if (t instanceof o) {\n        const o = h(() => [t.cursor, t.visible, t.editable], () => {\n          _(t) || this._manipulatorState.clearPointers(t, this._manipulatorStateEventArgs), this._updateCursor();\n        });\n        this.handles.add(o, E);\n      }\n\n      t.manipulators && this.handles.add([t.manipulators.on(\"after-remove\", o => {\n        this._manipulatorState.clearPointers(t, this._manipulatorStateEventArgs, !0, o.item.manipulator);\n      }), t.manipulators.on(\"change\", () => {\n        this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool), this._updateCursor();\n      })], E);\n    }), this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool), this._updateCursor();\n  }\n\n  _updateToolEditableFlag(t) {\n    t.setEditableFlag(f.MANAGER, n(this.activeTool) || t === this.activeTool);\n  }\n\n  _updateCursor() {\n    let t = this._manipulatorState.cursor;\n    n(t) && this._forEachTool(o => !(!s(o.cursor) || !o.visible) && (t = o.cursor, !0)), this._get(\"cursor\") !== t && this._set(\"cursor\", t);\n  }\n\n  _removeIncompleteTools(t) {\n    this.tools.filter(o => (n(t) || o !== t) && !o.created && o.removeIncompleteOnCancel).forEach(t => {\n      this.tools.remove(t);\n    });\n  }\n\n};\nt([c({\n  constructOnly: !0,\n  nonNullable: !0\n})], w.prototype, \"view\", void 0), t([c({\n  readOnly: !0,\n  nonNullable: !0\n})], w.prototype, \"textures\", void 0), t([c({\n  value: null\n})], w.prototype, \"activeTool\", null), t([c({\n  readOnly: !0,\n  type: e\n})], w.prototype, \"tools\", void 0), t([c({\n  readOnly: !0\n})], w.prototype, \"cursor\", void 0), t([c({\n  readOnly: !0\n})], w.prototype, \"updating\", null), w = t([p(\"esri.views.ToolViewManager\")], w);\nconst y = w;\nexport { y as default };","map":{"version":3,"names":["_","t","o","e","HandleOwner","i","makeHandle","a","r","isSome","s","isNone","n","destroyMaybe","l","watch","h","property","c","subclass","p","TextureCollection","u","ViewEventPriorities","d","eventTypes","v","getToolCollectionHandles","m","areToolManipulatorsEditable","EditableFlag","f","ToolViewManagerManipulatorState","T","g","E","w","constructor","_manipulatorState","tools","cursor","_forEachTool","items","initialize","handles","add","view","on","_handleInputEvent","TOOL","item","_updateToolEditableFlag","clearPointers","_manipulatorStateEventArgs","_updateCursor","_refreshToolWatchers","destroy","detach","removeAll","forEachTool","activeTool","setActiveTool","ready","getLogger","declaredClass","error","_set","deactivate","activate","_removeIncompleteTools","updating","updatingHandles","some","textures","attach","type","_stage","resourceController","scheduler","state","camera","_forEachManipulator","onViewChange","elevationProvider","onElevationChange","extent","remove","manipulators","forEach","manipulator","stopPropagation","handleInputEvent","visible","key","handleInputEventAfter","handleHoverEvent","editable","updateHoveredStateFromKnownPointers","setEditableFlag","MANAGER","_get","filter","created","removeIncompleteOnCancel","constructOnly","nonNullable","prototype","readOnly","value","y","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/ToolViewManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"../core/Accessor.js\";import e from\"../core/Collection.js\";import{HandleOwner as i}from\"../core/HandleOwner.js\";import{makeHandle as a}from\"../core/handleUtils.js\";import\"../core/has.js\";import r from\"../core/Logger.js\";import{isSome as s,isNone as n,destroyMaybe as l}from\"../core/maybe.js\";import{watch as h}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{TextureCollection as u}from\"./3d/support/TextureCollection.js\";import{ViewEventPriorities as d}from\"./input/InputManager.js\";import{eventTypes as v}from\"./input/ViewEvents.js\";import{getToolCollectionHandles as m,areToolManipulatorsEditable as _}from\"./interactive/interactiveToolUtils.js\";import{EditableFlag as f}from\"./interactive/interfaces.js\";import{ToolViewManagerManipulatorState as T}from\"./interactive/ToolViewManagerManipulatorState.js\";const g=\"attached\",E=\"tools\";let w=class extends i{constructor(t){super(t),this._manipulatorState=new T,this.tools=new e,this.cursor=null,this._forEachTool=t=>{for(const o of this.tools.items)if(t(o))return}}initialize(){this.handles.add([this.view.on(v,(t=>{this._handleInputEvent(t)}),d.TOOL),...m(this.tools),this.tools.on(\"before-add\",(({item:t})=>{this._updateToolEditableFlag(t)})),this.tools.on(\"before-remove\",(({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on(\"change\",(()=>{this._refreshToolWatchers()}))])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(s(t)&&!this.view.ready)return void r.getLogger(this.declaredClass).error(\"Cannot set active tool while view is not ready.\");if(t===this.activeTool)return;const o=this.activeTool;this._set(\"activeTool\",t),s(o)&&o.deactivate(),s(t)&&t.activate(),this._removeIncompleteTools(t);for(const e of this.tools){this._updateToolEditableFlag(e);const t=_(e);!n(this.activeTool)&&t||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!t)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some((t=>t.updating))||(this.textures?.updating??!1)}attach(){\"3d\"===this.view.type?(this._set(\"textures\",new u(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([h((()=>{const{state:t}=this.view;return\"camera\"in t&&t.camera}),(()=>{this._forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})),this.view.elevationProvider.on(\"elevation-change\",(t=>{this._forEachManipulator((o=>{null!=o.onElevationChange&&o.onElevationChange(t)}))})),a((()=>this._set(\"textures\",l(this.textures))))],g)):this.handles.add(h((()=>this.view.extent),(()=>{this._forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})))}detach(){s(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(g)}_forEachManipulator(t){this._forEachTool((o=>{o.manipulators&&o.manipulators.forEach((({manipulator:e})=>t(e,o)))}))}_handleInputEvent(t){let o=!1;const e={...t,stopPropagation:()=>{o=!0,t.stopPropagation()}};s(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(e):this._forEachTool((t=>{!o&&t.visible&&t.handleInputEvent(e)})),!o&&\"key-down\"===t.type&&\"Escape\"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(e,this._manipulatorStateEventArgs),!o&&s(this.activeTool)&&this.activeTool.handleInputEventAfter(e),this._manipulatorState.handleHoverEvent(e,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(E),this._forEachTool((t=>{if(t instanceof o){const o=h((()=>[t.cursor,t.visible,t.editable]),(()=>{_(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}));this.handles.add(o,E)}t.manipulators&&this.handles.add([t.manipulators.on(\"after-remove\",(o=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,o.item.manipulator)})),t.manipulators.on(\"change\",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],E)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){t.setEditableFlag(f.MANAGER,n(this.activeTool)||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;n(t)&&this._forEachTool((o=>!(!s(o.cursor)||!o.visible)&&(t=o.cursor,!0))),this._get(\"cursor\")!==t&&this._set(\"cursor\",t)}_removeIncompleteTools(t){this.tools.filter((o=>(n(t)||o!==t)&&!o.created&&o.removeIncompleteOnCancel)).forEach((t=>{this.tools.remove(t)}))}};t([c({constructOnly:!0,nonNullable:!0})],w.prototype,\"view\",void 0),t([c({readOnly:!0,nonNullable:!0})],w.prototype,\"textures\",void 0),t([c({value:null})],w.prototype,\"activeTool\",null),t([c({readOnly:!0,type:e})],w.prototype,\"tools\",void 0),t([c({readOnly:!0})],w.prototype,\"cursor\",void 0),t([c({readOnly:!0})],w.prototype,\"updating\",null),w=t([p(\"esri.views.ToolViewManager\")],w);const y=w;export{y as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}