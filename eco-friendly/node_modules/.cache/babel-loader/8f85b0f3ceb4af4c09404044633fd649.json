{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { BooleanPassUniform as e } from \"../core/shaderModules/BooleanPassUniform.js\";\nimport { Float4Uniform as r } from \"../core/shaderModules/Float4Uniform.js\";\nimport { NoParameters as o, glsl as t } from \"../core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as a } from \"../core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DUniform as n } from \"../core/shaderModules/Texture2DUniform.js\";\nimport { VertexAttribute as s } from \"../lib/VertexAttribute.js\";\n\nclass d extends o {\n  constructor() {\n    super(...arguments), this.maskEnabled = !1, this.overlayEnabled = !1;\n  }\n\n}\n\nfunction i() {\n  const o = new a();\n  return o.attributes.add(s.POSITION, \"vec2\"), o.vertex.uniforms.add(new r(\"drawPosition\")), o.varyings.add(\"vUV\", \"vec2\"), o.vertex.code.add(t`void main(void) {\nvUV = position;\ngl_Position = vec4(drawPosition.xy + vec2(position - 0.5) * drawPosition.zw, 0.0, 1.0);\n}`), o.fragment.uniforms.add(new n(\"textureInput\")), o.fragment.uniforms.add(new n(\"textureMask\")), o.fragment.uniforms.add(new n(\"textureOverlay\")), o.fragment.uniforms.add(new e(\"maskEnabled\", e => e.maskEnabled)), o.fragment.uniforms.add(new e(\"overlayEnabled\", e => e.overlayEnabled)), o.fragment.code.add(t`const float barrelFactor = 1.1;\nvec2 barrel(vec2 uv) {\nvec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nfloat theta = atan(uvn.y, uvn.x);\nfloat r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main() {\nfloat mask = maskEnabled ? texture2D(textureMask, vUV).a : 1.0;\nvec4 inputColor = texture2D(textureInput, barrel(vUV)) * mask;\nvec4 overlayColor = overlayEnabled ? texture2D(textureOverlay, vUV) : vec4(0);\ngl_FragColor = overlayColor + (1.0 - overlayColor.a) * inputColor;\n}`), o;\n}\n\nexport { d as MagnifierPassParameters, i as build };","map":{"version":3,"names":["BooleanPassUniform","e","Float4Uniform","r","NoParameters","o","glsl","t","ShaderBuilder","a","Texture2DUniform","n","VertexAttribute","s","d","constructor","arguments","maskEnabled","overlayEnabled","i","attributes","add","POSITION","vertex","uniforms","varyings","code","fragment","MagnifierPassParameters","build"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Magnifier.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{BooleanPassUniform as e}from\"../core/shaderModules/BooleanPassUniform.js\";import{Float4Uniform as r}from\"../core/shaderModules/Float4Uniform.js\";import{NoParameters as o,glsl as t}from\"../core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../core/shaderModules/ShaderBuilder.js\";import{Texture2DUniform as n}from\"../core/shaderModules/Texture2DUniform.js\";import{VertexAttribute as s}from\"../lib/VertexAttribute.js\";class d extends o{constructor(){super(...arguments),this.maskEnabled=!1,this.overlayEnabled=!1}}function i(){const o=new a;return o.attributes.add(s.POSITION,\"vec2\"),o.vertex.uniforms.add(new r(\"drawPosition\")),o.varyings.add(\"vUV\",\"vec2\"),o.vertex.code.add(t`void main(void) {\nvUV = position;\ngl_Position = vec4(drawPosition.xy + vec2(position - 0.5) * drawPosition.zw, 0.0, 1.0);\n}`),o.fragment.uniforms.add(new n(\"textureInput\")),o.fragment.uniforms.add(new n(\"textureMask\")),o.fragment.uniforms.add(new n(\"textureOverlay\")),o.fragment.uniforms.add(new e(\"maskEnabled\",(e=>e.maskEnabled))),o.fragment.uniforms.add(new e(\"overlayEnabled\",(e=>e.overlayEnabled))),o.fragment.code.add(t`const float barrelFactor = 1.1;\nvec2 barrel(vec2 uv) {\nvec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nfloat theta = atan(uvn.y, uvn.x);\nfloat r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main() {\nfloat mask = maskEnabled ? texture2D(textureMask, vUV).a : 1.0;\nvec4 inputColor = texture2D(textureInput, barrel(vUV)) * mask;\nvec4 overlayColor = overlayEnabled ? texture2D(textureOverlay, vUV) : vec4(0);\ngl_FragColor = overlayColor + (1.0 - overlayColor.a) * inputColor;\n}`),o}export{d as MagnifierPassParameters,i as build};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,kBAAkB,IAAIC,CAA7B,QAAmC,6CAAnC;AAAiF,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,wCAA9B;AAAuE,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,IAAI,IAAIC,CAAjC,QAAuC,qCAAvC;AAA6E,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,wCAA9B;AAAuE,SAAOC,gBAAgB,IAAIC,CAA3B,QAAiC,2CAAjC;AAA6E,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,2BAAhC;;AAA4D,MAAMC,CAAN,SAAgBT,CAAhB,CAAiB;EAACU,WAAW,GAAE;IAAC,MAAM,GAAGC,SAAT,GAAoB,KAAKC,WAAL,GAAiB,CAAC,CAAtC,EAAwC,KAAKC,cAAL,GAAoB,CAAC,CAA7D;EAA+D;;AAA9E;;AAA+E,SAASC,CAAT,GAAY;EAAC,MAAMd,CAAC,GAAC,IAAII,CAAJ,EAAR;EAAc,OAAOJ,CAAC,CAACe,UAAF,CAAaC,GAAb,CAAiBR,CAAC,CAACS,QAAnB,EAA4B,MAA5B,GAAoCjB,CAAC,CAACkB,MAAF,CAASC,QAAT,CAAkBH,GAAlB,CAAsB,IAAIlB,CAAJ,CAAM,cAAN,CAAtB,CAApC,EAAiFE,CAAC,CAACoB,QAAF,CAAWJ,GAAX,CAAe,KAAf,EAAqB,MAArB,CAAjF,EAA8GhB,CAAC,CAACkB,MAAF,CAASG,IAAT,CAAcL,GAAd,CAAkBd,CAAE;AACzrB;AACA;AACA,EAHqqB,CAA9G,EAGnjBF,CAAC,CAACsB,QAAF,CAAWH,QAAX,CAAoBH,GAApB,CAAwB,IAAIV,CAAJ,CAAM,cAAN,CAAxB,CAHmjB,EAGpgBN,CAAC,CAACsB,QAAF,CAAWH,QAAX,CAAoBH,GAApB,CAAwB,IAAIV,CAAJ,CAAM,aAAN,CAAxB,CAHogB,EAGtdN,CAAC,CAACsB,QAAF,CAAWH,QAAX,CAAoBH,GAApB,CAAwB,IAAIV,CAAJ,CAAM,gBAAN,CAAxB,CAHsd,EAGraN,CAAC,CAACsB,QAAF,CAAWH,QAAX,CAAoBH,GAApB,CAAwB,IAAIpB,CAAJ,CAAM,aAAN,EAAqBA,CAAC,IAAEA,CAAC,CAACgB,WAA1B,CAAxB,CAHqa,EAGpWZ,CAAC,CAACsB,QAAF,CAAWH,QAAX,CAAoBH,GAApB,CAAwB,IAAIpB,CAAJ,CAAM,gBAAN,EAAwBA,CAAC,IAAEA,CAAC,CAACiB,cAA7B,CAAxB,CAHoW,EAG7Rb,CAAC,CAACsB,QAAF,CAAWD,IAAX,CAAgBL,GAAhB,CAAoBd,CAAE;AAChT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAf0R,CAH6R,EAkBnjBF,CAlB4iB;AAkB1iB;;AAAA,SAAOS,CAAC,IAAIc,uBAAZ,EAAoCT,CAAC,IAAIU,KAAzC"},"metadata":{},"sourceType":"module"}