{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"./Analysis.js\";\nimport n from \"./DimensionSimpleStyle.js\";\nimport o from \"./LengthDimension.js\";\nimport s from \"../core/Collection.js\";\nimport { referenceSetter as i, castForReferenceSetter as r } from \"../core/collectionUtils.js\";\nimport { isNone as l, isSome as p, unwrap as m } from \"../core/maybe.js\";\nimport { watch as u, syncAndInitial as a } from \"../core/reactiveUtils.js\";\nimport { property as c } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as d } from \"../core/accessorSupport/decorators/subclass.js\";\nimport y from \"../geometry/Extent.js\";\nimport { projectOrLoadMany as f } from \"../geometry/projection.js\";\nconst h = s.ofType(o);\nlet g = class extends t {\n  constructor(e) {\n    super(e), this.type = \"dimension\", this.style = new n(), this.extent = null;\n  }\n\n  initialize() {\n    this.addHandles(u(() => this._computeExtent(), e => {\n      (l(e) || l(e.pending)) && this._set(\"extent\", p(e) ? e.extent : null);\n    }, a));\n  }\n\n  get dimensions() {\n    return this._get(\"dimensions\") || new h();\n  }\n\n  set dimensions(e) {\n    this._set(\"dimensions\", i(e, this.dimensions, h));\n  }\n\n  get spatialReference() {\n    for (const e of this.dimensions) {\n      if (p(e.startPoint)) return e.startPoint.spatialReference;\n      if (p(e.endPoint)) return e.endPoint.spatialReference;\n    }\n\n    return null;\n  }\n\n  get requiredPropertiesForEditing() {\n    return this.dimensions.reduce((e, t) => (e.push(t.startPoint, t.endPoint), e), []);\n  }\n\n  async waitComputeExtent() {\n    const e = this._computeExtent();\n\n    return p(e) ? m(e.pending) : null;\n  }\n\n  _computeExtent() {\n    const e = this.spatialReference;\n    if (l(e)) return {\n      pending: null,\n      extent: null\n    };\n    const t = [];\n\n    for (const s of this.dimensions) p(s.startPoint) && t.push(s.startPoint), p(s.endPoint) && t.push(s.endPoint);\n\n    const n = f(t, e);\n    if (p(n.pending)) return {\n      pending: n.pending,\n      extent: null\n    };\n    let o = null;\n    return p(n.geometries) && (o = n.geometries.reduce((e, t) => l(e) ? p(t) ? y.fromPoint(t) : null : p(t) ? e.union(y.fromPoint(t)) : e, null)), {\n      pending: null,\n      extent: o\n    };\n  }\n\n  clear() {\n    this.dimensions.removeAll();\n  }\n\n};\ne([c({\n  type: [\"dimension\"]\n})], g.prototype, \"type\", void 0), e([c({\n  cast: r,\n  type: h,\n  nonNullable: !0\n})], g.prototype, \"dimensions\", null), e([c({\n  readOnly: !0\n})], g.prototype, \"spatialReference\", null), e([c({\n  types: {\n    key: \"type\",\n    base: null,\n    typeMap: {\n      simple: n\n    }\n  },\n  nonNullable: !0\n})], g.prototype, \"style\", void 0), e([c({\n  value: null,\n  readOnly: !0\n})], g.prototype, \"extent\", void 0), e([c({\n  readOnly: !0\n})], g.prototype, \"requiredPropertiesForEditing\", null), g = e([d(\"esri.analysis.DimensionAnalysis\")], g);\nconst j = g;\nexport { j as default };","map":{"version":3,"names":["_","e","t","n","o","s","referenceSetter","i","castForReferenceSetter","r","isNone","l","isSome","p","unwrap","m","watch","u","syncAndInitial","a","property","c","subclass","d","y","projectOrLoadMany","f","h","ofType","g","constructor","type","style","extent","initialize","addHandles","_computeExtent","pending","_set","dimensions","_get","spatialReference","startPoint","endPoint","requiredPropertiesForEditing","reduce","push","waitComputeExtent","geometries","fromPoint","union","clear","removeAll","prototype","cast","nonNullable","readOnly","types","key","base","typeMap","simple","value","j","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/analysis/DimensionAnalysis.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import n from\"./DimensionSimpleStyle.js\";import o from\"./LengthDimension.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as r}from\"../core/collectionUtils.js\";import{isNone as l,isSome as p,unwrap as m}from\"../core/maybe.js\";import{watch as u,syncAndInitial as a}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"../geometry/Extent.js\";import{projectOrLoadMany as f}from\"../geometry/projection.js\";const h=s.ofType(o);let g=class extends t{constructor(e){super(e),this.type=\"dimension\",this.style=new n,this.extent=null}initialize(){this.addHandles(u((()=>this._computeExtent()),(e=>{(l(e)||l(e.pending))&&this._set(\"extent\",p(e)?e.extent:null)}),a))}get dimensions(){return this._get(\"dimensions\")||new h}set dimensions(e){this._set(\"dimensions\",i(e,this.dimensions,h))}get spatialReference(){for(const e of this.dimensions){if(p(e.startPoint))return e.startPoint.spatialReference;if(p(e.endPoint))return e.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce(((e,t)=>(e.push(t.startPoint,t.endPoint),e)),[])}async waitComputeExtent(){const e=this._computeExtent();return p(e)?m(e.pending):null}_computeExtent(){const e=this.spatialReference;if(l(e))return{pending:null,extent:null};const t=[];for(const s of this.dimensions)p(s.startPoint)&&t.push(s.startPoint),p(s.endPoint)&&t.push(s.endPoint);const n=f(t,e);if(p(n.pending))return{pending:n.pending,extent:null};let o=null;return p(n.geometries)&&(o=n.geometries.reduce(((e,t)=>l(e)?p(t)?y.fromPoint(t):null:p(t)?e.union(y.fromPoint(t)):e),null)),{pending:null,extent:o}}clear(){this.dimensions.removeAll()}};e([c({type:[\"dimension\"]})],g.prototype,\"type\",void 0),e([c({cast:r,type:h,nonNullable:!0})],g.prototype,\"dimensions\",null),e([c({readOnly:!0})],g.prototype,\"spatialReference\",null),e([c({types:{key:\"type\",base:null,typeMap:{simple:n}},nonNullable:!0})],g.prototype,\"style\",void 0),e([c({value:null,readOnly:!0})],g.prototype,\"extent\",void 0),e([c({readOnly:!0})],g.prototype,\"requiredPropertiesForEditing\",null),g=e([d(\"esri.analysis.DimensionAnalysis\")],g);const j=g;export{j as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}