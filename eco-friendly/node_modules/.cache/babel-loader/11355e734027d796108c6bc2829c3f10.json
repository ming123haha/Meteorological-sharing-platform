{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { neverReached as e } from \"../../../core/compilerUtils.js\";\nimport t from \"../../../core/Evented.js\";\nimport { deg2rad as i } from \"../../../core/mathUtils.js\";\nimport { isSome as s, isNone as o, unwrapOr as n, unwrap as r } from \"../../../core/maybe.js\";\nimport { createScreenPointArray as a, createRenderScreenPointArray3 as c, screenPointObjectToArray as l, castRenderScreenPointArray as h } from \"../../../core/screenUtils.js\";\nimport { once as d } from \"../../../core/accessorSupport/utils.js\";\nimport { f as _ } from \"../../../chunks/mat3.js\";\nimport { c as u } from \"../../../chunks/mat3f64.js\";\nimport { c as g, s as m, m as f, i as p } from \"../../../chunks/mat4.js\";\nimport { c as b } from \"../../../chunks/mat4f64.js\";\nimport { s as v } from \"../../../chunks/vec2.js\";\nimport { a as y, t as j, m as L, g as S, c as R, d as w, s as O, b as T } from \"../../../chunks/vec3.js\";\nimport { c as A, Z as E } from \"../../../chunks/vec3f64.js\";\nimport { canProjectWithoutEngine as D, projectPoint as F, sphericalPCPFtoLonLatElevation as z, computeENUToSphericalPCPFLocalRotation as k } from \"../../../geometry/projection.js\";\nimport { getReferenceEllipsoid as I } from \"../../../geometry/projectionEllipsoid.js\";\nimport { containsPointObject as P } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { create as M, distance2 as C, fromPoints as x, closestRayDistance2 as B } from \"../../../geometry/support/lineSegment.js\";\nimport { create as W, fromPositionAndNormal as U, intersectRay as V } from \"../../../geometry/support/plane.js\";\nimport { create as N } from \"../../../geometry/support/ray.js\";\nimport { sv3d as G } from \"../../../geometry/support/vectorStacks.js\";\nimport { clonePoint as H } from \"../../../layers/graphics/hydratedFeatures.js\";\nimport { getElevationAtPoint as Y } from \"../support/ElevationProvider.js\";\nimport { fromScreen as Z } from \"../support/geometryUtils/ray.js\";\nimport { UpdatePolicy as q } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { Camera as J } from \"../webgl-engine/lib/Camera.js\";\nimport { Object3D as K } from \"../webgl-engine/lib/Object3D.js\";\nimport { WebGLLayer as Q } from \"../webgl-engine/lib/WebGLLayer.js\";\nimport { ManipulatorStateCustomFlags as X, ManipulatorStateFlags as $ } from \"../../interactive/interfaces.js\";\nimport ee from \"../../../geometry/Point.js\";\n\nclass te {\n  constructor(e) {\n    this.camera = new J(), this._elevation = {\n      offset: 0,\n      override: null\n    }, this.collisionType = {\n      type: \"point\"\n    }, this.collisionPriority = 0, this._renderObjects = [], this.autoScaleRenderObjects = !0, this._available = !0, this._noDisplayCount = 0, this._radius = 10, this._worldSized = !1, this.focusMultiplier = 2, this.touchMultiplier = 2.5, this.worldOriented = !1, this._modelTransform = b(), this._worldFrame = null, this._renderLocation = A(), this._renderLocationDirty = !0, this._location = new ee({\n      x: 0,\n      y: 0,\n      z: 0\n    }), this._elevationAlignedLocation = new ee(), this._elevationAlignedLocationDirty = !0, this.interactive = !0, this.selectable = !1, this.grabbable = !0, this.cursor = null, this._grabbing = !1, this.dragging = !1, this._hovering = !1, this._selected = !1, this._state = X.None, this._focused = !1, this.events = new t.EventEmitter(), this._screenLocation = {\n      screenPointArray: a(),\n      renderScreenPointArray: c(),\n      pixelSize: 0\n    }, this._screenLocationDirty = !0, this._applyObjectTransform = null, this._engineResourcesAddedToStage = !1, this._engineResources = null, this._attached = !1, this._engineLayer = null, this._materialIdReferences = null, this._location.spatialReference = e.view.spatialReference;\n\n    for (const t in e) this[t] = e[t];\n\n    this.view.state && this.view.state.camera && this.camera.copyFrom(this.view.state.camera);\n  }\n\n  destroy() {\n    this._removeResourcesFromStage(), this._engineResources = null, this.view = null, this.camera = null;\n  }\n\n  get elevationInfo() {\n    return this._elevationInfo;\n  }\n\n  set elevationInfo(e) {\n    this._elevationInfo = e, this._elevationAlignedLocationDirty = !0, this._renderLocationDirty = !0, this._updateEngineObject();\n  }\n\n  get renderObjects() {\n    return this._renderObjects;\n  }\n\n  set renderObjects(e) {\n    this._removeResourcesFromStage(), this._engineResources = null, this._renderObjects = e.slice(), this._updateEngineObject();\n  }\n\n  set available(e) {\n    e !== this._available && (this._available = e, this._updateEngineObject());\n  }\n\n  get available() {\n    return this._available;\n  }\n\n  disableDisplay() {\n    return this._noDisplayCount++, 1 === this._noDisplayCount && this._updateEngineObject(), {\n      remove: d(() => {\n        this._noDisplayCount--, 0 === this._noDisplayCount && this._updateEngineObject();\n      })\n    };\n  }\n\n  set radius(e) {\n    e !== this._radius && (this._radius = e, this._updateEngineObject());\n  }\n\n  get radius() {\n    return this._radius;\n  }\n\n  set worldSized(e) {\n    e !== this._worldSized && (this._worldSized = e, this._updateEngineObject());\n  }\n\n  get worldSized() {\n    return this._worldSized;\n  }\n\n  get modelTransform() {\n    return this._modelTransform;\n  }\n\n  set modelTransform(e) {\n    ie(e) && (this._screenLocationDirty = !0), g(this._modelTransform, e), this._updateEngineObject();\n  }\n\n  get renderLocation() {\n    return this._renderLocationDirty && (this._renderLocationDirty = !1, this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation, this._renderLocation), this.worldOriented ? (this._worldFrame || (this._worldFrame = b()), se(this.view, this._renderLocation, this._worldFrame)) : this._worldFrame && (this._worldFrame = null)), this._renderLocation;\n  }\n\n  set renderLocation(e) {\n    this.view.renderCoordsHelper.fromRenderCoords(e, this._location), this.elevationAlignedLocation = this._location;\n  }\n\n  get location() {\n    return this._location;\n  }\n\n  set location(e) {\n    H(e, this._location), this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !0, this._updateEngineObject(), this.events.emit(\"location-update\", {\n      location: this._location\n    });\n  }\n\n  get elevationAlignedLocation() {\n    return this._elevationAlignedLocationDirty ? (this._evaluateElevationAlignment(), this._updateElevationAlignedLocation(), this._elevationAlignedLocation) : this._elevationAlignedLocation;\n  }\n\n  set elevationAlignedLocation(e) {\n    H(e, this._location), this._evaluateElevationAlignment(), this._location.z -= this._elevation.offset, this._updateElevationAlignedLocation(), this._updateEngineObject(), this.events.emit(\"location-update\", {\n      location: this._location\n    });\n  }\n\n  _updateElevationAlignedLocation() {\n    this._elevationAlignedLocation.x = this.location.x, this._elevationAlignedLocation.y = this.location.y;\n    const e = s(this._elevation.override) ? this._elevation.override : this.location.z || 0;\n    this._elevationAlignedLocation.z = e + this._elevation.offset, this._elevationAlignedLocation.spatialReference = this.location.spatialReference, this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !1;\n  }\n\n  grabbableForEvent() {\n    return !0;\n  }\n\n  get grabbing() {\n    return this._grabbing;\n  }\n\n  set grabbing(e) {\n    e !== this._grabbing && (this._grabbing = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());\n  }\n\n  get hovering() {\n    return this._hovering;\n  }\n\n  set hovering(e) {\n    e !== this._hovering && (this._hovering = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  set selected(e) {\n    e !== this._selected && (this._selected = e, this._updateEngineObject(), this.events.emit(\"select-changed\", {\n      action: e ? \"select\" : \"deselect\"\n    }));\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  set state(e) {\n    e !== this._state && (this._state = e, this._updateEngineObject());\n  }\n\n  updateStateEnabled(e, t) {\n    t ? this.state |= e : this.state &= ~e;\n  }\n\n  _setFocused(e) {\n    e !== this._focused && (this._focused = e, this.events.emit(\"focus-changed\", {\n      action: !0 === e ? \"focus\" : \"unfocus\"\n    }));\n  }\n\n  get focused() {\n    return this._focused;\n  }\n\n  get screenLocation() {\n    return this._ensureScreenLocation(), this._screenLocation;\n  }\n\n  _ensureScreenLocation() {\n    if (!this._screenLocationDirty) return;\n    this._screenLocation.pixelSize = this.camera.computeScreenPixelSizeAt(this.renderLocation), this._screenLocationDirty = !1;\n    let e;\n\n    if (ie(this._modelTransform)) {\n      const t = this._calculateModelTransformOffset(fe);\n\n      e = y(t, t, this.renderLocation);\n    } else e = this.renderLocation;\n\n    this.camera.projectToRenderScreen(e, this._screenLocation.renderScreenPointArray), this.camera.renderToScreen(this._screenLocation.renderScreenPointArray, this._screenLocation.screenPointArray);\n  }\n\n  get applyObjectTransform() {\n    return this._applyObjectTransform;\n  }\n\n  set applyObjectTransform(e) {\n    this._applyObjectTransform = e, this._screenLocationDirty = !0, this._updateEngineObject();\n  }\n\n  intersectionDistance(t, i) {\n    if (!this.available) return null;\n\n    const s = l(t, oe),\n          n = this._getCollisionRadius(i),\n          r = -1 * this.collisionPriority;\n\n    switch (this.collisionType.type) {\n      case \"point\":\n        if (v(this.screenLocation.screenPointArray, s) < n * n) return this.screenLocation.renderScreenPointArray[2] + r;\n        break;\n\n      case \"line\":\n        {\n          const e = this.collisionType.paths,\n                t = this._getWorldToScreenObjectScale(),\n                i = this._calculateObjectTransform(t, le),\n                a = n * this.screenLocation.pixelSize,\n                c = Z(this.camera, s, re);\n\n          if (o(c)) return null;\n\n          for (const s of e) {\n            if (0 === s.length) continue;\n            const e = L(de, s[0], i);\n\n            for (let t = 1; t < s.length; t++) {\n              const o = L(_e, s[t], i),\n                    n = B(x(e, o, ne), c);\n\n              if (null != n && n < a * a) {\n                const t = y(G.get(), e, o);\n                S(t, t, .5);\n                const i = h(G.get());\n                return this.camera.projectToRenderScreen(t, i), i[2] + r;\n              }\n\n              R(e, o);\n            }\n          }\n\n          break;\n        }\n\n      case \"disc\":\n        {\n          const e = this.collisionType.direction,\n                t = this.collisionType.offset ?? E,\n                i = this._getWorldToScreenObjectScale(),\n                a = this._calculateObjectTransform(i, le),\n                c = n * this.screenLocation.pixelSize,\n                l = Z(this.camera, s, re);\n\n          if (o(l)) return null;\n\n          const h = _(ae, a),\n                d = j(ge, e, h),\n                u = L(me, t, a);\n\n          U(u, d, he);\n          const g = ue;\n          if (V(he, l, g) && w(g, u) < c * c) return this.screenLocation.renderScreenPointArray[2] + r;\n          break;\n        }\n\n      case \"ribbon\":\n        {\n          const {\n            paths: e,\n            direction: t\n          } = this.collisionType,\n                i = this._getWorldToScreenObjectScale(),\n                a = this._calculateObjectTransform(i, le),\n                c = n * this.camera.computeScreenPixelSizeAt(this.renderLocation),\n                l = Z(this.camera, s, re);\n\n          if (o(l)) return null;\n\n          const d = _(ae, a),\n                u = j(ge, t, d),\n                g = this._calculateModelTransformPosition(me);\n\n          U(g, u, he);\n          const m = ue;\n          if (!V(he, l, m)) break;\n\n          for (const s of e) {\n            if (0 === s.length) continue;\n            const e = L(de, s[0], a);\n\n            for (let t = 1; t < s.length; t++) {\n              const i = L(_e, s[t], a),\n                    o = C(x(e, i, ne), m);\n\n              if (null != o && o < c * c) {\n                const t = y(G.get(), e, i);\n                S(t, t, .5);\n                const s = h(G.get());\n                return this.camera.projectToRenderScreen(t, s), s[2] + r;\n              }\n\n              R(e, i);\n            }\n          }\n\n          break;\n        }\n\n      default:\n        e(this.collisionType);\n    }\n\n    return null;\n  }\n\n  attach(e = {\n    manipulator3D: {}\n  }) {\n    if (!this.view._stage) return;\n    const t = e.manipulator3D;\n\n    if (o(t.engineLayerId)) {\n      const e = new Q({\n        isPickable: !1,\n        updatePolicy: q.SYNC\n      });\n      this.view._stage.add(e), t.engineLayerId = e.id, this._engineLayer = e;\n    } else this.view._stage?.getObject && (this._engineLayer = this.view._stage.getObject(t.engineLayerId));\n\n    t.engineLayerReferences = (t.engineLayerReferences || 0) + 1, this._materialIdReferences = t.materialIdReferences, o(this._materialIdReferences) && (this._materialIdReferences = new Map(), t.materialIdReferences = this._materialIdReferences), this.camera.copyFrom(this.view.state.camera), this._attached = !0, this._updateEngineObject(), D(this._location.spatialReference, this.view.spatialReference) || (this.location = new ee({\n      x: 0,\n      y: 0,\n      z: 0,\n      spatialReference: this.view.spatialReference\n    }));\n  }\n\n  detach(e = {\n    manipulator3D: {}\n  }) {\n    const t = e.manipulator3D;\n    t.engineLayerReferences--;\n    const i = 0 === t.engineLayerReferences;\n    i && (t.engineLayerId = null), this._removeResourcesFromStage(i), this._engineResources = null, this._engineLayer = null, this._materialIdReferences = null, this._attached = !1;\n  }\n\n  onViewChange() {\n    this.camera.copyFrom(this.view.state.camera), this._screenLocationDirty = !0, this._updateEngineObject();\n  }\n\n  onElevationChange(e) {\n    F(this.location, pe, e.spatialReference), P(e.extent, pe) && (this.location = this._location);\n  }\n\n  _evaluateElevationAlignment(e = this.location) {\n    if (o(this.elevationInfo)) return !1;\n    let t = null,\n        i = 0;\n    const s = n(this.elevationInfo.offset, 0);\n\n    switch (this.elevationInfo.mode) {\n      case \"on-the-ground\":\n        t = n(Y(this.view.elevationProvider, e, \"ground\"), 0);\n        break;\n\n      case \"relative-to-ground\":\n        i = n(Y(this.view.elevationProvider, e, \"ground\"), 0) + s;\n        break;\n\n      case \"relative-to-scene\":\n        i = n(Y(this.view.elevationProvider, e, \"scene\"), 0) + s;\n        break;\n\n      case \"absolute-height\":\n        i = s;\n    }\n\n    return (i !== this._elevation.offset || t !== this._elevation.override) && (this._elevation.offset = i, this._elevation.override = t, !0);\n  }\n\n  _updateEngineObject() {\n    if (!this._attached) return;\n    if (!this.available) return void this._removeResourcesFromStage();\n\n    const e = this._getWorldToScreenObjectScale(),\n          t = le;\n\n    if (!0 === this.autoScaleRenderObjects) {\n      const i = this._getFocusedSize(this._radius, this.focused) * e;\n\n      this._calculateObjectTransform(i, t);\n    } else this._calculateObjectTransform(e, t);\n\n    const {\n      objectsByState: i\n    } = this._ensureEngineResources(),\n          s = (this.focused ? $.Focused : $.Unfocused) | (this.selected ? $.Selected : $.Unselected),\n          o = this._noDisplayCount > 0;\n\n    for (const {\n      stateMask: n,\n      objects: r\n    } of i) {\n      if (o) {\n        for (const e of r) e.setVisible(!1);\n\n        continue;\n      }\n\n      const e = (n & $.All) !== $.None,\n            i = (n & X.All) !== X.None,\n            a = !e || (s & n) == (n & $.All),\n            c = !i || (this.state & n) == (n & X.All);\n      if (a && c) for (const s of r) s.setVisible(!0), s.transformation = t;else for (const t of r) t.setVisible(!1);\n    }\n  }\n\n  _ensureEngineResources() {\n    if (o(this._engineResources)) {\n      const e = r(this._engineLayer),\n            t = [],\n            i = new Set();\n      this.renderObjects.forEach(({\n        material: e\n      }) => {\n        i.has(e) || (t.push(e), i.add(e));\n      });\n\n      const s = (e, t) => {\n        const {\n          geometry: i,\n          material: s,\n          transform: o\n        } = t;\n        Array.isArray(i) ? i.forEach(t => e.addGeometry(t, s, o)) : e.addGeometry(i, s, o);\n      },\n            o = new Map();\n\n      this._renderObjects.forEach(e => {\n        const t = new K({\n          castShadow: !1\n        });\n        s(t, e);\n        const i = e.stateMask || 0,\n              n = o.get(i) || [];\n        n.push(t), o.set(i, n);\n      });\n\n      const n = [];\n      o.forEach((e, t) => n.push({\n        stateMask: t,\n        objects: e\n      })), this._engineResources = {\n        objectsByState: n,\n        layer: e,\n        materials: t\n      };\n    }\n\n    return this._addResourcesToStage(), this._engineResources;\n  }\n\n  _addResourcesToStage() {\n    if (this._engineResourcesAddedToStage || o(this._engineResources)) return;\n    const {\n      objectsByState: e,\n      layer: t,\n      materials: i\n    } = this._engineResources;\n    i.forEach(e => {\n      const t = r(this._materialIdReferences),\n            i = t.get(e.id) || 0;\n      0 === i && this.view._stage.add(e), t.set(e.id, i + 1);\n    }), e.forEach(({\n      objects: e\n    }) => {\n      t.addMany(e), this.view._stage.addMany(e);\n    }), this._engineResourcesAddedToStage = !0;\n  }\n\n  _removeResourcesFromStage(e = !1) {\n    if (!this._engineResourcesAddedToStage || o(this._engineResources) || !this.view._stage) return;\n    const {\n      objectsByState: t,\n      layer: i,\n      materials: s\n    } = this._engineResources;\n    t.forEach(({\n      objects: e\n    }) => {\n      i.removeMany(e), this.view._stage.removeMany(e);\n    }), s.forEach(e => {\n      const t = r(this._materialIdReferences),\n            i = t.get(e.id);\n      1 === i ? (this.view._stage.remove(e), t.delete(e.id)) : t.set(e.id, i - 1);\n    }), e && this.view._stage.remove(i), this._engineResourcesAddedToStage = !1;\n  }\n\n  _getCollisionRadius(e) {\n    return this._getFocusedSize(this.radius, !0) * (\"touch\" === e ? this.touchMultiplier : 1);\n  }\n\n  _getFocusedSize(e, t) {\n    return e * (t ? this.focusMultiplier : 1);\n  }\n\n  _getWorldToScreenObjectScale() {\n    return this._worldSized ? 1 : this.screenLocation.pixelSize;\n  }\n\n  _calculateModelTransformPosition(e) {\n    const t = this._getWorldToScreenObjectScale(),\n          i = this._calculateObjectTransform(t, ce);\n\n    return O(e, i[12], i[13], i[14]);\n  }\n\n  _calculateModelTransformOffset(e) {\n    const t = this._calculateModelTransformPosition(e);\n\n    return T(e, t, this.renderLocation);\n  }\n\n  _calculateObjectTransform(e, t) {\n    return m(t, e, 0, 0, 0, 0, e, 0, 0, 0, 0, e, 0, 0, 0, 0, 1), this._worldFrame && f(t, t, this._worldFrame), f(t, t, this._modelTransform), t[12] += this.renderLocation[0], t[13] += this.renderLocation[1], t[14] += this.renderLocation[2], t[15] = 1, s(this._applyObjectTransform) && this._applyObjectTransform(t), t;\n  }\n\n  get test() {\n    let e = !1;\n    if (s(this._engineResources)) for (const t in this._engineResources.objectsByState) {\n      const i = this._engineResources.objectsByState[t];\n\n      for (const t of i.objects) if (t.isVisible) {\n        e = !0;\n        break;\n      }\n\n      if (e) break;\n    }\n    return {\n      areAnyResourcesVisible: e\n    };\n  }\n\n}\n\nfunction ie(e) {\n  return 0 !== e[12] || 0 !== e[13] || 0 !== e[14];\n}\n\nfunction se(e, t, s) {\n  switch (e.viewingMode) {\n    case \"local\":\n      return p(s), !0;\n\n    case \"global\":\n      {\n        const o = I(e.renderCoordsHelper.spatialReference);\n        return z(t, 0, de, 0, o.radius), k(i(de[0]), i(de[1]), s), !0;\n      }\n  }\n}\n\nconst oe = a(),\n      ne = M(),\n      re = N(),\n      ae = u(),\n      ce = b(),\n      le = b(),\n      he = W(),\n      de = A(),\n      _e = A(),\n      ue = A(),\n      ge = A(),\n      me = A(),\n      fe = A(),\n      pe = new ee({\n  x: 0,\n  y: 0,\n  z: 0,\n  spatialReference: null\n});\n\nexport { te as Manipulator3D };","map":{"version":3,"names":["neverReached","e","t","deg2rad","i","isSome","s","isNone","o","unwrapOr","n","unwrap","r","createScreenPointArray","a","createRenderScreenPointArray3","c","screenPointObjectToArray","l","castRenderScreenPointArray","h","once","d","f","_","u","g","m","p","b","v","y","j","L","S","R","w","O","T","A","Z","E","canProjectWithoutEngine","D","projectPoint","F","sphericalPCPFtoLonLatElevation","z","computeENUToSphericalPCPFLocalRotation","k","getReferenceEllipsoid","I","containsPointObject","P","create","M","distance2","C","fromPoints","x","closestRayDistance2","B","W","fromPositionAndNormal","U","intersectRay","V","N","sv3d","G","clonePoint","H","getElevationAtPoint","Y","fromScreen","UpdatePolicy","q","Camera","J","Object3D","K","WebGLLayer","Q","ManipulatorStateCustomFlags","X","ManipulatorStateFlags","$","ee","te","constructor","camera","_elevation","offset","override","collisionType","type","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","None","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","spatialReference","view","state","copyFrom","destroy","_removeResourcesFromStage","elevationInfo","_elevationInfo","_updateEngineObject","renderObjects","slice","available","disableDisplay","remove","radius","worldSized","modelTransform","ie","renderLocation","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","se","fromRenderCoords","location","emit","_evaluateElevationAlignment","_updateElevationAlignedLocation","grabbableForEvent","grabbing","_setFocused","hovering","selected","action","updateStateEnabled","focused","screenLocation","_ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","fe","projectToRenderScreen","renderToScreen","applyObjectTransform","intersectionDistance","oe","_getCollisionRadius","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","le","re","length","de","_e","ne","get","direction","ae","ge","me","he","ue","_calculateModelTransformPosition","attach","manipulator3D","_stage","engineLayerId","isPickable","updatePolicy","SYNC","add","id","getObject","engineLayerReferences","materialIdReferences","Map","detach","onViewChange","onElevationChange","pe","extent","mode","elevationProvider","_getFocusedSize","objectsByState","_ensureEngineResources","Focused","Unfocused","Selected","Unselected","stateMask","objects","setVisible","All","transformation","Set","forEach","material","has","push","geometry","transform","Array","isArray","addGeometry","castShadow","set","layer","materials","_addResourcesToStage","addMany","removeMany","delete","ce","test","isVisible","areAnyResourcesVisible","viewingMode","Manipulator3D"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as n,unwrap as r}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as _}from\"../../../chunks/mat3.js\";import{c as u}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as b}from\"../../../chunks/mat4f64.js\";import{s as v}from\"../../../chunks/vec2.js\";import{a as y,t as j,m as L,g as S,c as R,d as w,s as O,b as T}from\"../../../chunks/vec3.js\";import{c as A,Z as E}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeENUToSphericalPCPFLocalRotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as I}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as P}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as U,intersectRay as V}from\"../../../geometry/support/plane.js\";import{create as N}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as H}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as Y}from\"../support/ElevationProvider.js\";import{fromScreen as Z}from\"../support/geometryUtils/ray.js\";import{UpdatePolicy as q}from\"../webgl-engine/lib/basicInterfaces.js\";import{Camera as J}from\"../webgl-engine/lib/Camera.js\";import{Object3D as K}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as X,ManipulatorStateFlags as $}from\"../../interactive/interfaces.js\";import ee from\"../../../geometry/Point.js\";class te{constructor(e){this.camera=new J,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=b(),this._worldFrame=null,this._renderLocation=A(),this._renderLocationDirty=!0,this._location=new ee({x:0,y:0,z:0}),this._elevationAlignedLocation=new ee,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=X.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){ie(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=b()),se(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){H(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){H(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(ie(this._modelTransform)){const t=this._calculateModelTransformOffset(fe);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,oe),n=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(v(this.screenLocation.screenPointArray,s)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,le),a=n*this.screenLocation.pixelSize,c=Z(this.camera,s,re);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(de,s[0],i);for(let t=1;t<s.length;t++){const o=L(_e,s[t],i),n=B(x(e,o,ne),c);if(null!=n&&n<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}R(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??E,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,le),c=n*this.screenLocation.pixelSize,l=Z(this.camera,s,re);if(o(l))return null;const h=_(ae,a),d=j(ge,e,h),u=L(me,t,a);U(u,d,he);const g=ue;if(V(he,l,g)&&w(g,u)<c*c)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,le),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=Z(this.camera,s,re);if(o(l))return null;const d=_(ae,a),u=j(ge,t,d),g=this._calculateModelTransformPosition(me);U(g,u,he);const m=ue;if(!V(he,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(de,s[0],a);for(let t=1;t<s.length;t++){const i=L(_e,s[t],a),o=C(x(e,i,ne),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this.camera.projectToRenderScreen(t,s),s[2]+r}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(o(t.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:q.SYNC});this.view._stage.add(e),t.engineLayerId=e.id,this._engineLayer=e}else this.view._stage?.getObject&&(this._engineLayer=this.view._stage.getObject(t.engineLayerId));t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new ee({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,pe,e.spatialReference),P(e.extent,pe)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=n(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=n(Y(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=n(Y(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=n(Y(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=le;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?$.Focused:$.Unfocused)|(this.selected?$.Selected:$.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.setVisible(!1);continue}const e=(n&$.All)!==$.None,i=(n&X.All)!==X.None,a=!e||(s&n)==(n&$.All),c=!i||(this.state&n)==(n&X.All);if(a&&c)for(const s of r)s.setVisible(!0),s.transformation=t;else for(const t of r)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=r(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new K({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n)}));const n=[];o.forEach(((e,t)=>n.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:n,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=r(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources)||!this.view._stage)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=r(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ce);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function ie(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function se(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=I(e.renderCoordsHelper.spatialReference);return z(t,0,de,0,o.radius),k(i(de[0]),i(de[1]),s),!0}}}const oe=a(),ne=M(),re=N(),ae=u(),ce=b(),le=b(),he=W(),de=A(),_e=A(),ue=A(),ge=A(),me=A(),fe=A(),pe=new ee({x:0,y:0,z:0,spatialReference:null});export{te as Manipulator3D};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}