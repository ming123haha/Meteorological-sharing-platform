{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { watch as t, initial as s } from \"../../core/reactiveUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"../Widget.js\";\nimport n from \"./FeatureContent.js\";\nimport d from \"./FeatureFields.js\";\nimport a from \"./FeatureMedia.js\";\nimport l from \"./FeatureExpression/FeatureExpressionViewModel.js\";\nimport \"../support/widgetUtils.js\";\nimport { tsx as p } from \"../support/jsxFactory.js\";\nconst c = {\n  iconLoading: \"esri-icon-loading-indicator esri-rotating\",\n  base: \"esri-feature-expression\",\n  loadingSpinnerContainer: \"esri-feature__loading-container\",\n  spinner: \"esri-feature__loading-spinner\"\n};\nlet u = class extends r {\n  constructor(e, t) {\n    super(e, t), this.viewModel = new l();\n  }\n\n  initialize() {\n    this.addHandles(t(() => this.viewModel?.contentElementViewModel, () => this._setupExpressionWidget(), s));\n  }\n\n  destroy() {\n    this._destroyContentWidget();\n  }\n\n  renderLoading() {\n    return p(\"div\", {\n      key: \"loading-container\",\n      class: c.loadingSpinnerContainer\n    }, p(\"span\", {\n      class: this.classes(c.iconLoading, c.spinner)\n    }));\n  }\n\n  render() {\n    const {\n      state: e\n    } = this.viewModel;\n    return p(\"div\", {\n      class: c.base\n    }, \"loading\" === e ? this.renderLoading() : \"disabled\" === e ? null : this._contentWidget?.render());\n  }\n\n  _destroyContentWidget() {\n    const {\n      _contentWidget: e\n    } = this;\n    e && (e.viewModel = null, e.destroy()), this._contentWidget = null;\n  }\n\n  _setupExpressionWidget() {\n    const {\n      contentElementViewModel: e,\n      contentElement: t\n    } = this.viewModel,\n          s = t?.type;\n\n    this._destroyContentWidget();\n\n    const o = e ? \"fields\" === s ? new d({\n      viewModel: e\n    }) : \"media\" === s ? new a({\n      viewModel: e\n    }) : \"text\" === s ? new n({\n      viewModel: e\n    }) : null : null;\n    this._contentWidget = o, this.scheduleRender();\n  }\n\n};\ne([o({\n  type: l\n})], u.prototype, \"viewModel\", void 0), u = e([i(\"esri.widgets.Feature.FeatureExpression\")], u);\nconst m = u;\nexport { m as default };","map":{"version":3,"names":["_","e","watch","t","initial","s","property","o","subclass","i","r","n","d","a","l","tsx","p","c","iconLoading","base","loadingSpinnerContainer","spinner","u","constructor","viewModel","initialize","addHandles","contentElementViewModel","_setupExpressionWidget","destroy","_destroyContentWidget","renderLoading","key","class","classes","render","state","_contentWidget","contentElement","type","scheduleRender","prototype","m","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/widgets/Feature/FeatureExpression.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{watch as t,initial as s}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../Widget.js\";import n from\"./FeatureContent.js\";import d from\"./FeatureFields.js\";import a from\"./FeatureMedia.js\";import l from\"./FeatureExpression/FeatureExpressionViewModel.js\";import\"../support/widgetUtils.js\";import{tsx as p}from\"../support/jsxFactory.js\";const c={iconLoading:\"esri-icon-loading-indicator esri-rotating\",base:\"esri-feature-expression\",loadingSpinnerContainer:\"esri-feature__loading-container\",spinner:\"esri-feature__loading-spinner\"};let u=class extends r{constructor(e,t){super(e,t),this.viewModel=new l}initialize(){this.addHandles(t((()=>this.viewModel?.contentElementViewModel),(()=>this._setupExpressionWidget()),s))}destroy(){this._destroyContentWidget()}renderLoading(){return p(\"div\",{key:\"loading-container\",class:c.loadingSpinnerContainer},p(\"span\",{class:this.classes(c.iconLoading,c.spinner)}))}render(){const{state:e}=this.viewModel;return p(\"div\",{class:c.base},\"loading\"===e?this.renderLoading():\"disabled\"===e?null:this._contentWidget?.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,s=t?.type;this._destroyContentWidget();const o=e?\"fields\"===s?new d({viewModel:e}):\"media\"===s?new a({viewModel:e}):\"text\"===s?new n({viewModel:e}):null:null;this._contentWidget=o,this.scheduleRender()}};e([o({type:l})],u.prototype,\"viewModel\",void 0),u=e([i(\"esri.widgets.Feature.FeatureExpression\")],u);const m=u;export{m as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}