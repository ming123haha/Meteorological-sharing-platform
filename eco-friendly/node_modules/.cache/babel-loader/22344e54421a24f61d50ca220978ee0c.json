{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport \"../../core/Error.js\";\nimport { HandleOwnerMixin as s } from \"../../core/HandleOwner.js\";\nimport has from \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { throttle as i } from \"../../core/throttle.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { CollisionEngine as a } from \"./engine/webgl/collisions/CollisionEngine.js\";\nconst p = 32;\nlet l = class extends s(t) {\n  constructor(e) {\n    super(e), this._applyVisibilityPassThrottled = i(this._applyVisibilityPass, p, this), this.lastUpdateId = -1, this.updateRequested = !1, this.view = null;\n  }\n\n  initialize() {\n    this.collisionEngine = new a();\n  }\n\n  destroy() {\n    this.collisionEngine = null, this._applyVisibilityPassThrottled.remove(), this._applyVisibilityPassThrottled = null;\n  }\n\n  get updating() {\n    return has(\"esri-2d-log-updating\") && console.log(`Updating LabelManager ${this.updateRequested}:\\n-> updateRequested: ${this.updateRequested}`), this.updateRequested;\n  }\n\n  update(e) {\n    this._applyVisibilityPassThrottled(e);\n  }\n\n  viewChange() {\n    this.requestUpdate();\n  }\n\n  requestUpdate() {\n    this.updateRequested || (this.updateRequested = !0, this.view.requestUpdate());\n  }\n\n  processUpdate(e) {\n    this._set(\"updateParameters\", e), this.updateRequested && (this.updateRequested = !1, this.update(e));\n  }\n\n  _applyVisibilityPass(e) {\n    try {\n      const t = this.view.featuresTilingScheme.getClosestInfoForScale(e.state.scale).level;\n      this.collisionEngine.run(this.view.allLayerViews.items, e, t);\n    } catch (t) {}\n  }\n\n};\ne([r()], l.prototype, \"updateRequested\", void 0), e([r({\n  readOnly: !0\n})], l.prototype, \"updateParameters\", void 0), e([r()], l.prototype, \"updating\", null), e([r()], l.prototype, \"view\", void 0), l = e([o(\"esri.views.2d.layers.labels.LabelManager\")], l);\nconst d = l;\nexport { d as default };","map":{"version":3,"names":["_","e","t","HandleOwnerMixin","s","has","throttle","i","property","r","subclass","o","CollisionEngine","a","p","l","constructor","_applyVisibilityPassThrottled","_applyVisibilityPass","lastUpdateId","updateRequested","view","initialize","collisionEngine","destroy","remove","updating","console","log","update","viewChange","requestUpdate","processUpdate","_set","featuresTilingScheme","getClosestInfoForScale","state","scale","level","run","allLayerViews","items","prototype","readOnly","d","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/2d/LabelManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import\"../../core/Error.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import has from\"../../core/has.js\";import\"../../core/Logger.js\";import{throttle as i}from\"../../core/throttle.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{CollisionEngine as a}from\"./engine/webgl/collisions/CollisionEngine.js\";const p=32;let l=class extends(s(t)){constructor(e){super(e),this._applyVisibilityPassThrottled=i(this._applyVisibilityPass,p,this),this.lastUpdateId=-1,this.updateRequested=!1,this.view=null}initialize(){this.collisionEngine=new a}destroy(){this.collisionEngine=null,this._applyVisibilityPassThrottled.remove(),this._applyVisibilityPassThrottled=null}get updating(){return has(\"esri-2d-log-updating\")&&console.log(`Updating LabelManager ${this.updateRequested}:\\n-> updateRequested: ${this.updateRequested}`),this.updateRequested}update(e){this._applyVisibilityPassThrottled(e)}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}processUpdate(e){this._set(\"updateParameters\",e),this.updateRequested&&(this.updateRequested=!1,this.update(e))}_applyVisibilityPass(e){try{const t=this.view.featuresTilingScheme.getClosestInfoForScale(e.state.scale).level;this.collisionEngine.run(this.view.allLayerViews.items,e,t)}catch(t){}}};e([r()],l.prototype,\"updateRequested\",void 0),e([r({readOnly:!0})],l.prototype,\"updateParameters\",void 0),e([r()],l.prototype,\"updating\",null),e([r()],l.prototype,\"view\",void 0),l=e([o(\"esri.views.2d.layers.labels.LabelManager\")],l);const d=l;export{d as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}