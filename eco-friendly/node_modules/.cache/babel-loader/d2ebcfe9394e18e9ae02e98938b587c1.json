{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/arrayUtils.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport s from \"./BaseRasterFunction.js\";\nimport e from \"./ColormapFunctionArguments.js\";\nimport { convertColorRampToColors as n } from \"../../../renderers/support/colorRampUtils.js\";\nlet i = class extends s {\n  constructor() {\n    super(...arguments), this.functionName = \"Colormap\", this.functionArguments = null, this.rasterArgumentNames = [\"raster\"];\n  }\n\n  _bindSourceRasters() {\n    const r = this.sourceRasterInfos[0];\n    if (r.bandCount > 1) return {\n      success: !1,\n      error: \"colormap-function: source data must be single band\"\n    };\n    let {\n      colormap: o,\n      colorRamp: t\n    } = this.functionArguments;\n    if (o?.length || t && (o = n(t, 256, !0)), !o?.length) return {\n      success: !1,\n      error: \"colormap-function: missing colormap argument\"\n    };\n    this.outputPixelType = this._getOutputPixelType(\"u8\");\n    const s = r.clone();\n    return s.pixelType = this.outputPixelType, s.colormap = o, this.rasterInfo = s, {\n      success: !0\n    };\n  }\n\n  _processPixels(r) {\n    return r.pixelBlocks?.[0];\n  }\n\n};\nr([o({\n  json: {\n    write: !0,\n    name: \"rasterFunction\"\n  }\n})], i.prototype, \"functionName\", void 0), r([o({\n  type: e,\n  json: {\n    write: !0,\n    name: \"rasterFunctionArguments\"\n  }\n})], i.prototype, \"functionArguments\", void 0), r([o()], i.prototype, \"rasterArgumentNames\", void 0), r([o({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"indexedColormap\", void 0), i = r([t(\"esri.layers.support.rasterFunctions.ColormapFunction\")], i);\nconst p = i;\nexport { p as default };","map":{"version":3,"names":["_","r","property","o","subclass","t","s","e","convertColorRampToColors","n","i","constructor","arguments","functionName","functionArguments","rasterArgumentNames","_bindSourceRasters","sourceRasterInfos","bandCount","success","error","colormap","colorRamp","length","outputPixelType","_getOutputPixelType","clone","pixelType","rasterInfo","_processPixels","pixelBlocks","json","write","name","prototype","type","p","default"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapFunction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./BaseRasterFunction.js\";import e from\"./ColormapFunctionArguments.js\";import{convertColorRampToColors as n}from\"../../../renderers/support/colorRampUtils.js\";let i=class extends s{constructor(){super(...arguments),this.functionName=\"Colormap\",this.functionArguments=null,this.rasterArgumentNames=[\"raster\"]}_bindSourceRasters(){const r=this.sourceRasterInfos[0];if(r.bandCount>1)return{success:!1,error:\"colormap-function: source data must be single band\"};let{colormap:o,colorRamp:t}=this.functionArguments;if(o?.length||t&&(o=n(t,256,!0)),!o?.length)return{success:!1,error:\"colormap-function: missing colormap argument\"};this.outputPixelType=this._getOutputPixelType(\"u8\");const s=r.clone();return s.pixelType=this.outputPixelType,s.colormap=o,this.rasterInfo=s,{success:!0}}_processPixels(r){return r.pixelBlocks?.[0]}};r([o({json:{write:!0,name:\"rasterFunction\"}})],i.prototype,\"functionName\",void 0),r([o({type:e,json:{write:!0,name:\"rasterFunctionArguments\"}})],i.prototype,\"functionArguments\",void 0),r([o()],i.prototype,\"rasterArgumentNames\",void 0),r([o({json:{write:!0}})],i.prototype,\"indexedColormap\",void 0),i=r([t(\"esri.layers.support.rasterFunctions.ColormapFunction\")],i);const p=i;export{p as default};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}