{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../../chunks/tslib.es6.js\";\nimport { releaseMaybe as t, isSome as r, isNone as s } from \"../../../../../../core/maybe.js\";\nimport { e as o, t as a } from \"../../../../../../chunks/mat3.js\";\nimport { a as i } from \"../../../../../../chunks/mat3f32.js\";\nimport { F as n } from \"../../../../../../chunks/vec3.js\";\nimport { f as l } from \"../../../../../../chunks/vec3f32.js\";\nimport { v as h } from \"../../../../../../chunks/vec4.js\";\nimport { f as u } from \"../../../../../../chunks/vec4f32.js\";\nimport { ColorMixModeEnum as p } from \"../../../../layers/support/symbolColorUtils.js\";\nimport { OverlayIndex as c, RenderTargetType as d } from \"../../../../terrain/interfaces.js\";\nimport { ComponentTechnique as m } from \"./ComponentTechnique.js\";\nimport { ComponentTechniqueConfiguration as g, IntegratedMeshMode as T } from \"./ComponentTechniqueConfiguration.js\";\nimport { ComponentDataType as y } from \"./shader/ComponentData.glsl.js\";\nimport { g as x, a as v } from \"../../../../../../chunks/ComponentShader.glsl.js\";\nimport { VertexDiscardMode as f } from \"./shader/VertexDiscardByOpacity.glsl.js\";\nimport { parameter as M, parameterBlock as b, MaterialBase as O, MaterialParameterBlock as C } from \"../../../core/material/MaterialBase.js\";\nimport { RenderPassIdentifier as w, MaterialSubPass as S } from \"../../../core/renderPasses/AllRenderPasses.js\";\nimport { ShaderOutput as P } from \"../../../core/shaderLibrary/ShaderOutputOptions.js\";\nimport { NormalAttributeType as N } from \"../../../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";\nimport { NormalsDoubleSidedMode as A } from \"../../../core/shaderLibrary/shading/Normals.glsl.js\";\nimport { PBRMode as D } from \"../../../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";\nimport { defaultMaskAlphaCutoff as q } from \"../../../core/shaderLibrary/util/AlphaCutoff.js\";\nimport { EllipsoidMode as R } from \"../../../core/shaderLibrary/util/EllipsoidMode.js\";\nimport { TwoVectorPosition as j } from \"../../../core/util/TwoVectorPosition.js\";\nimport { AlphaDiscardMode as E, TransparencyPassType as I, CullFaceOptions as F } from \"../../../lib/basicInterfaces.js\";\n\nclass _ extends O {\n  constructor(e, t) {\n    super(), this.toMapSpace = t, this.baseColor = u(1, 1, 1, 1), this.usePBR = !1, this.hasParametersFromSource = !1, this.mrrFactors = l(1, 1, .5), this.emissiveFactor = l(0, 0, 0), this.baseColorTexture = null, this.metallicRoughnessTexture = null, this.emissionTexture = null, this.occlusionTexture = null, this.normalTexture = null, this.objectOpacity = 1, this.commonMaterialParameters = new B(), this.componentParameters = new L(), this.textureAlphaCutoff = q, this.alphaDiscardMode = E.Opaque, this.isIntegratedMesh = !1, this.polygonOffsetEnabled = !1, this.ellipsoidMode = R.Earth, this.hasOccludees = !1, this._techniqueConfiguration = new g();\n    const r = new j(e.position),\n          s = i(e.rotationScale);\n    o(s, s), this.transformNormalGlobalFromModel = a(s, s), this.transformWorldFromModelTL = r.low, this.transformWorldFromModelTH = r.high, this.transformWorldFromModelRS = e.rotationScale;\n  }\n\n  dispose() {\n    this._technique = t(this._technique), this.baseColorTexture = null, this.metallicRoughnessTexture = null, this.emissionTexture = null, this.occlusionTexture = null, this.normalTexture = null;\n  }\n\n  get texture() {\n    return r(this.baseColorTexture) ? this.baseColorTexture.glTexture : null;\n  }\n\n  get textureMetallicRoughness() {\n    return r(this.metallicRoughnessTexture) ? this.metallicRoughnessTexture.glTexture : null;\n  }\n\n  get textureEmissive() {\n    return r(this.emissionTexture) ? this.emissionTexture.glTexture : null;\n  }\n\n  get textureOcclusion() {\n    return r(this.occlusionTexture) ? this.occlusionTexture.glTexture : null;\n  }\n\n  get textureNormal() {\n    return r(this.normalTexture) ? this.normalTexture.glTexture : null;\n  }\n\n  prepareTechnique(e, t, o, a) {\n    const i = this._techniqueConfiguration;\n    i.hasVertexColors = a.colors, i.hasNormals = a.normals, i.textureCoordinateType = a.textureCoordinates, i.hasMetalnessAndRoughnessTexture = r(this.metallicRoughnessTexture), i.hasEmissionTexture = r(this.emissionTexture), i.hasOcclusionTexture = r(this.occlusionTexture), i.hasNormalTexture = r(this.normalTexture), i.transparencyPassType = t.identifier === w.Material && null != o.transparencyPassType ? o.transparencyPassType : I.NONE, i.hasMultipassTerrain = t.identifier === w.Material && null != o.multipassTerrain && o.multipassTerrain.enabled, i.cullAboveGround = t.identifier === w.Material && null != o.multipassTerrain && o.multipassTerrain.cullAboveGround, i.ellipsoidMode = this.ellipsoidMode, i.componentData = this.componentParameters.type, i.cullFace = this.commonMaterialParameters.cullFace, i.doubleSidedMode = this.commonMaterialParameters.doubleSided ? A.View : A.None, i.hasBaseColorTexture = r(this.baseColorTexture);\n\n    const n = this._computeWhichMaterialPass();\n\n    i.blendingEnabled = n === V.Transparent || n === V.OpaqueAndTransparent, i.alphaDiscardMode = this.alphaDiscardMode, i.integratedMeshMode = this.isIntegratedMesh ? X(o) ? x(o) ? T.ColorOverlayWithWater : T.ColorOverlay : T.NoOverlay : T.None, i.isGround = this.isIntegratedMesh, i.hasPolygonOffset = this.polygonOffsetEnabled;\n    const l = this.hasParametersFromSource && s(this.baseColorTexture);\n    return i.pbrMode = i.integratedMeshMode === T.ColorOverlayWithWater ? D.WaterOnIntegratedMesh : this.usePBR ? l ? D.Schematic : D.Normal : D.Disabled, i.normalType = i.integratedMeshMode === T.None ? i.hasNormals ? N.CompressedAttribute : N.ScreenDerivative : N.Ground, i.hasSlicePlane = r(o.slicePlane) && this.commonMaterialParameters.hasSlicePlane, t.identifier === w.ShadowMap ? (i.output = P.Shadow, i.vertexDiscardMode = f.None) : t.identifier === w.Highlight ? (i.output = P.Highlight, i.vertexDiscardMode = f.None) : (this._computeWhichMaterialPass() === V.OpaqueAndTransparent ? i.vertexDiscardMode = t.transparent ? f.Opaque : f.Transparent : i.vertexDiscardMode = f.None, i.output = H(t.subPass), t.subPass === S.Alpha && (i.hasOccludees = o.hasOccludees), t.subPass === S.Color ? (i.receiveAmbientOcclusion = o.ssaoHelper.ready, i.hasOccludees = o.hasOccludees, i.receiveShadows = o.shadowMap.ready, i.hasScreenSpaceReflections = o.ssr.enabled, i.hasCloudsReflections = r(o.clouds.data)) : (i.receiveAmbientOcclusion = !1, i.receiveShadows = !1), i.snowCover = this.hasSnowCover(o)), this._technique = e.releaseAndAcquire(m, i, this._technique), this._setClean(), this._technique;\n  }\n\n  hasSnowCover(e) {\n    return r(e.weather) && e.weatherVisible && \"snowy\" === e.weather.type && \"enabled\" === e.weather.snowCover;\n  }\n\n  submit(e, t, s) {\n    if (0 === this.objectOpacity) return;\n    const o = s.renderable.geometry,\n          a = s.components,\n          i = s.renderable.meta.cameraDepthSquared,\n          n = a.geometryRanges,\n          l = a.highlightRanges,\n          h = a.defaultShadowMapRanges;\n\n    switch (this._computeWhichMaterialPass()) {\n      case V.Opaque:\n        e.materialOpaque.submitDraw(this, o, n, i);\n        break;\n\n      case V.Transparent:\n        e.materialTransparent.submitDraw(this, o, n, i);\n        break;\n\n      case V.OpaqueAndTransparent:\n        e.materialOpaque.submitDraw(this, o, n, i), e.materialTransparent.submitDraw(this, o, n, i);\n        break;\n\n      case V.IntegratedMesh:\n        e.materialIntegratedMesh.submitDraw(this, o, n, i), U(t) && e.highlightIntegratedMesh.submitDraw(this, o, n, i);\n    }\n\n    const u = this.componentParameters.castShadows !== W.None;\n    u && e.shadowMap.submitDraw(this, o, n, i), r(l) && (e.highlight.submitDraw(this, o, l, i), u && e.highlightShadowMap.submitDraw(this, o, l, i)), u && r(h) && e.defaultShadowMap.submitDraw(this, o, h, i);\n  }\n\n  get attributeLocations() {\n    return v;\n  }\n\n  _computeWhichMaterialPass() {\n    return this.isIntegratedMesh ? V.IntegratedMesh : this.objectOpacity < 1 ? V.Transparent : this.componentParameters.opaqueOverride === W.All ? V.Opaque : this.baseColor[3] < 1 || this.alphaDiscardMode === E.Blend || this.alphaDiscardMode === E.MaskBlend ? V.Transparent : this.componentParameters.transparent === W.None ? V.Opaque : this.componentParameters.transparent === W.All ? V.Transparent : V.OpaqueAndTransparent;\n  }\n\n}\n\nvar k, V, W;\ne([M({\n  vectorOps: h\n})], _.prototype, \"baseColor\", void 0), e([M()], _.prototype, \"usePBR\", void 0), e([M()], _.prototype, \"hasParametersFromSource\", void 0), e([M({\n  vectorOps: n\n})], _.prototype, \"mrrFactors\", void 0), e([M({\n  vectorOps: n\n})], _.prototype, \"emissiveFactor\", void 0), e([M({\n  dispose: !0\n})], _.prototype, \"baseColorTexture\", void 0), e([M({\n  dispose: !0\n})], _.prototype, \"metallicRoughnessTexture\", void 0), e([M({\n  dispose: !0\n})], _.prototype, \"emissionTexture\", void 0), e([M({\n  dispose: !0\n})], _.prototype, \"occlusionTexture\", void 0), e([M({\n  dispose: !0\n})], _.prototype, \"normalTexture\", void 0), e([M()], _.prototype, \"objectOpacity\", void 0), e([b()], _.prototype, \"commonMaterialParameters\", void 0), e([b()], _.prototype, \"componentParameters\", void 0), e([M()], _.prototype, \"textureAlphaCutoff\", void 0), e([M()], _.prototype, \"alphaDiscardMode\", void 0), e([M()], _.prototype, \"isIntegratedMesh\", void 0), e([M()], _.prototype, \"polygonOffsetEnabled\", void 0), e([M()], _.prototype, \"ellipsoidMode\", void 0), e([M()], _.prototype, \"hasOccludees\", void 0), function (e) {\n  e[e.VERTEX = 0] = \"VERTEX\", e[e.GROUND = 1] = \"GROUND\", e[e.SCREEN_DERIVATIVE = 2] = \"SCREEN_DERIVATIVE\";\n}(k || (k = {})), function (e) {\n  e[e.Opaque = 0] = \"Opaque\", e[e.Transparent = 1] = \"Transparent\", e[e.OpaqueAndTransparent = 2] = \"OpaqueAndTransparent\", e[e.IntegratedMesh = 3] = \"IntegratedMesh\";\n}(V || (V = {}));\n\nclass B extends C {\n  constructor() {\n    super(...arguments), this.doubleSided = !1, this.cullFace = F.Back, this.hasSlicePlane = !0;\n  }\n\n}\n\ne([M()], B.prototype, \"doubleSided\", void 0), e([M()], B.prototype, \"cullFace\", void 0), e([M()], B.prototype, \"hasSlicePlane\", void 0);\n\nclass L extends C {\n  constructor() {\n    super(...arguments), this.externalColor = u(1, 1, 1, 1), this.externalColorMixMode = p.Multiply, this.castShadows = W.All;\n  }\n\n  get transparent() {\n    return this.externalColor[3] < 1 ? W.All : W.None;\n  }\n\n  get opaqueOverride() {\n    return this.externalColorMixMode === p.Replace && 1 === this.externalColor[3] ? W.All : W.None;\n  }\n\n  get visible() {\n    return this.externalColor[3] > 0 ? W.All : W.None;\n  }\n\n  get type() {\n    return y.Uniform;\n  }\n\n}\n\ne([M({\n  vectorOps: h\n})], L.prototype, \"externalColor\", void 0), e([M()], L.prototype, \"externalColorMixMode\", void 0), e([M()], L.prototype, \"castShadows\", void 0), function (e) {\n  e[e.All = 0] = \"All\", e[e.Some = 1] = \"Some\", e[e.None = 2] = \"None\";\n}(W || (W = {}));\n\nclass G extends C {\n  constructor() {\n    super(...arguments), this.texture = null, this.transparent = W.None, this.opaqueOverride = W.None, this.castShadows = W.None;\n  }\n\n  get type() {\n    return y.Varying;\n  }\n\n}\n\nfunction H(e) {\n  switch (e) {\n    case S.Color:\n      return P.Color;\n\n    case S.Alpha:\n      return P.Alpha;\n\n    case S.Depth:\n      return P.Depth;\n\n    case S.Normal:\n      return P.Normal;\n  }\n}\n\nfunction U(e) {\n  return 0 !== e.overlays.length && r(e.overlays[c.INNER].getValidTexture(d.Highlight));\n}\n\nfunction X(e) {\n  return 0 !== e.overlays.length && r(e.overlays[c.INNER].getColorTextureNoRasterImage());\n}\n\ne([M()], G.prototype, \"texture\", void 0), e([M()], G.prototype, \"transparent\", void 0), e([M()], G.prototype, \"opaqueOverride\", void 0), e([M()], G.prototype, \"castShadows\", void 0);\nexport { B as CommonMaterialParameters, _ as ComponentMaterial, W as ComponentParameterSummary, L as ComponentParametersUniform, G as ComponentParametersVarying, k as ShadingNormalSource };","map":{"version":3,"names":["_","e","releaseMaybe","t","isSome","r","isNone","s","o","a","i","F","n","f","l","v","h","u","ColorMixModeEnum","p","OverlayIndex","c","RenderTargetType","d","ComponentTechnique","m","ComponentTechniqueConfiguration","g","IntegratedMeshMode","T","ComponentDataType","y","x","VertexDiscardMode","parameter","M","parameterBlock","b","MaterialBase","O","MaterialParameterBlock","C","RenderPassIdentifier","w","MaterialSubPass","S","ShaderOutput","P","NormalAttributeType","N","NormalsDoubleSidedMode","A","PBRMode","D","defaultMaskAlphaCutoff","q","EllipsoidMode","R","TwoVectorPosition","j","AlphaDiscardMode","E","TransparencyPassType","I","CullFaceOptions","constructor","toMapSpace","baseColor","usePBR","hasParametersFromSource","mrrFactors","emissiveFactor","baseColorTexture","metallicRoughnessTexture","emissionTexture","occlusionTexture","normalTexture","objectOpacity","commonMaterialParameters","B","componentParameters","L","textureAlphaCutoff","alphaDiscardMode","Opaque","isIntegratedMesh","polygonOffsetEnabled","ellipsoidMode","Earth","hasOccludees","_techniqueConfiguration","position","rotationScale","transformNormalGlobalFromModel","transformWorldFromModelTL","low","transformWorldFromModelTH","high","transformWorldFromModelRS","dispose","_technique","texture","glTexture","textureMetallicRoughness","textureEmissive","textureOcclusion","textureNormal","prepareTechnique","hasVertexColors","colors","hasNormals","normals","textureCoordinateType","textureCoordinates","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","hasNormalTexture","transparencyPassType","identifier","Material","NONE","hasMultipassTerrain","multipassTerrain","enabled","cullAboveGround","componentData","type","cullFace","doubleSidedMode","doubleSided","View","None","hasBaseColorTexture","_computeWhichMaterialPass","blendingEnabled","V","Transparent","OpaqueAndTransparent","integratedMeshMode","X","ColorOverlayWithWater","ColorOverlay","NoOverlay","isGround","hasPolygonOffset","pbrMode","WaterOnIntegratedMesh","Schematic","Normal","Disabled","normalType","CompressedAttribute","ScreenDerivative","Ground","hasSlicePlane","slicePlane","ShadowMap","output","Shadow","vertexDiscardMode","Highlight","transparent","H","subPass","Alpha","Color","receiveAmbientOcclusion","ssaoHelper","ready","receiveShadows","shadowMap","hasScreenSpaceReflections","ssr","hasCloudsReflections","clouds","data","snowCover","hasSnowCover","releaseAndAcquire","_setClean","weather","weatherVisible","submit","renderable","geometry","components","meta","cameraDepthSquared","geometryRanges","highlightRanges","defaultShadowMapRanges","materialOpaque","submitDraw","materialTransparent","IntegratedMesh","materialIntegratedMesh","U","highlightIntegratedMesh","castShadows","W","highlight","highlightShadowMap","defaultShadowMap","attributeLocations","opaqueOverride","All","Blend","MaskBlend","k","vectorOps","prototype","VERTEX","GROUND","SCREEN_DERIVATIVE","arguments","Back","externalColor","externalColorMixMode","Multiply","Replace","visible","Uniform","Some","G","Varying","Depth","overlays","length","INNER","getValidTexture","getColorTextureNoRasterImage","CommonMaterialParameters","ComponentMaterial","ComponentParameterSummary","ComponentParametersUniform","ComponentParametersVarying","ShadingNormalSource"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/ComponentMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{releaseMaybe as t,isSome as r,isNone as s}from\"../../../../../../core/maybe.js\";import{e as o,t as a}from\"../../../../../../chunks/mat3.js\";import{a as i}from\"../../../../../../chunks/mat3f32.js\";import{F as n}from\"../../../../../../chunks/vec3.js\";import{f as l}from\"../../../../../../chunks/vec3f32.js\";import{v as h}from\"../../../../../../chunks/vec4.js\";import{f as u}from\"../../../../../../chunks/vec4f32.js\";import{ColorMixModeEnum as p}from\"../../../../layers/support/symbolColorUtils.js\";import{OverlayIndex as c,RenderTargetType as d}from\"../../../../terrain/interfaces.js\";import{ComponentTechnique as m}from\"./ComponentTechnique.js\";import{ComponentTechniqueConfiguration as g,IntegratedMeshMode as T}from\"./ComponentTechniqueConfiguration.js\";import{ComponentDataType as y}from\"./shader/ComponentData.glsl.js\";import{g as x,a as v}from\"../../../../../../chunks/ComponentShader.glsl.js\";import{VertexDiscardMode as f}from\"./shader/VertexDiscardByOpacity.glsl.js\";import{parameter as M,parameterBlock as b,MaterialBase as O,MaterialParameterBlock as C}from\"../../../core/material/MaterialBase.js\";import{RenderPassIdentifier as w,MaterialSubPass as S}from\"../../../core/renderPasses/AllRenderPasses.js\";import{ShaderOutput as P}from\"../../../core/shaderLibrary/ShaderOutputOptions.js\";import{NormalAttributeType as N}from\"../../../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{NormalsDoubleSidedMode as A}from\"../../../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as D}from\"../../../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as q}from\"../../../core/shaderLibrary/util/AlphaCutoff.js\";import{EllipsoidMode as R}from\"../../../core/shaderLibrary/util/EllipsoidMode.js\";import{TwoVectorPosition as j}from\"../../../core/util/TwoVectorPosition.js\";import{AlphaDiscardMode as E,TransparencyPassType as I,CullFaceOptions as F}from\"../../../lib/basicInterfaces.js\";class _ extends O{constructor(e,t){super(),this.toMapSpace=t,this.baseColor=u(1,1,1,1),this.usePBR=!1,this.hasParametersFromSource=!1,this.mrrFactors=l(1,1,.5),this.emissiveFactor=l(0,0,0),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null,this.objectOpacity=1,this.commonMaterialParameters=new B,this.componentParameters=new L,this.textureAlphaCutoff=q,this.alphaDiscardMode=E.Opaque,this.isIntegratedMesh=!1,this.polygonOffsetEnabled=!1,this.ellipsoidMode=R.Earth,this.hasOccludees=!1,this._techniqueConfiguration=new g;const r=new j(e.position),s=i(e.rotationScale);o(s,s),this.transformNormalGlobalFromModel=a(s,s),this.transformWorldFromModelTL=r.low,this.transformWorldFromModelTH=r.high,this.transformWorldFromModelRS=e.rotationScale}dispose(){this._technique=t(this._technique),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null}get texture(){return r(this.baseColorTexture)?this.baseColorTexture.glTexture:null}get textureMetallicRoughness(){return r(this.metallicRoughnessTexture)?this.metallicRoughnessTexture.glTexture:null}get textureEmissive(){return r(this.emissionTexture)?this.emissionTexture.glTexture:null}get textureOcclusion(){return r(this.occlusionTexture)?this.occlusionTexture.glTexture:null}get textureNormal(){return r(this.normalTexture)?this.normalTexture.glTexture:null}prepareTechnique(e,t,o,a){const i=this._techniqueConfiguration;i.hasVertexColors=a.colors,i.hasNormals=a.normals,i.textureCoordinateType=a.textureCoordinates,i.hasMetalnessAndRoughnessTexture=r(this.metallicRoughnessTexture),i.hasEmissionTexture=r(this.emissionTexture),i.hasOcclusionTexture=r(this.occlusionTexture),i.hasNormalTexture=r(this.normalTexture),i.transparencyPassType=t.identifier===w.Material&&null!=o.transparencyPassType?o.transparencyPassType:I.NONE,i.hasMultipassTerrain=t.identifier===w.Material&&null!=o.multipassTerrain&&o.multipassTerrain.enabled,i.cullAboveGround=t.identifier===w.Material&&null!=o.multipassTerrain&&o.multipassTerrain.cullAboveGround,i.ellipsoidMode=this.ellipsoidMode,i.componentData=this.componentParameters.type,i.cullFace=this.commonMaterialParameters.cullFace,i.doubleSidedMode=this.commonMaterialParameters.doubleSided?A.View:A.None,i.hasBaseColorTexture=r(this.baseColorTexture);const n=this._computeWhichMaterialPass();i.blendingEnabled=n===V.Transparent||n===V.OpaqueAndTransparent,i.alphaDiscardMode=this.alphaDiscardMode,i.integratedMeshMode=this.isIntegratedMesh?X(o)?x(o)?T.ColorOverlayWithWater:T.ColorOverlay:T.NoOverlay:T.None,i.isGround=this.isIntegratedMesh,i.hasPolygonOffset=this.polygonOffsetEnabled;const l=this.hasParametersFromSource&&s(this.baseColorTexture);return i.pbrMode=i.integratedMeshMode===T.ColorOverlayWithWater?D.WaterOnIntegratedMesh:this.usePBR?l?D.Schematic:D.Normal:D.Disabled,i.normalType=i.integratedMeshMode===T.None?i.hasNormals?N.CompressedAttribute:N.ScreenDerivative:N.Ground,i.hasSlicePlane=r(o.slicePlane)&&this.commonMaterialParameters.hasSlicePlane,t.identifier===w.ShadowMap?(i.output=P.Shadow,i.vertexDiscardMode=f.None):t.identifier===w.Highlight?(i.output=P.Highlight,i.vertexDiscardMode=f.None):(this._computeWhichMaterialPass()===V.OpaqueAndTransparent?i.vertexDiscardMode=t.transparent?f.Opaque:f.Transparent:i.vertexDiscardMode=f.None,i.output=H(t.subPass),t.subPass===S.Alpha&&(i.hasOccludees=o.hasOccludees),t.subPass===S.Color?(i.receiveAmbientOcclusion=o.ssaoHelper.ready,i.hasOccludees=o.hasOccludees,i.receiveShadows=o.shadowMap.ready,i.hasScreenSpaceReflections=o.ssr.enabled,i.hasCloudsReflections=r(o.clouds.data)):(i.receiveAmbientOcclusion=!1,i.receiveShadows=!1),i.snowCover=this.hasSnowCover(o)),this._technique=e.releaseAndAcquire(m,i,this._technique),this._setClean(),this._technique}hasSnowCover(e){return r(e.weather)&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}submit(e,t,s){if(0===this.objectOpacity)return;const o=s.renderable.geometry,a=s.components,i=s.renderable.meta.cameraDepthSquared,n=a.geometryRanges,l=a.highlightRanges,h=a.defaultShadowMapRanges;switch(this._computeWhichMaterialPass()){case V.Opaque:e.materialOpaque.submitDraw(this,o,n,i);break;case V.Transparent:e.materialTransparent.submitDraw(this,o,n,i);break;case V.OpaqueAndTransparent:e.materialOpaque.submitDraw(this,o,n,i),e.materialTransparent.submitDraw(this,o,n,i);break;case V.IntegratedMesh:e.materialIntegratedMesh.submitDraw(this,o,n,i),U(t)&&e.highlightIntegratedMesh.submitDraw(this,o,n,i)}const u=this.componentParameters.castShadows!==W.None;u&&e.shadowMap.submitDraw(this,o,n,i),r(l)&&(e.highlight.submitDraw(this,o,l,i),u&&e.highlightShadowMap.submitDraw(this,o,l,i)),u&&r(h)&&e.defaultShadowMap.submitDraw(this,o,h,i)}get attributeLocations(){return v}_computeWhichMaterialPass(){return this.isIntegratedMesh?V.IntegratedMesh:this.objectOpacity<1?V.Transparent:this.componentParameters.opaqueOverride===W.All?V.Opaque:this.baseColor[3]<1||this.alphaDiscardMode===E.Blend||this.alphaDiscardMode===E.MaskBlend?V.Transparent:this.componentParameters.transparent===W.None?V.Opaque:this.componentParameters.transparent===W.All?V.Transparent:V.OpaqueAndTransparent}}var k,V,W;e([M({vectorOps:h})],_.prototype,\"baseColor\",void 0),e([M()],_.prototype,\"usePBR\",void 0),e([M()],_.prototype,\"hasParametersFromSource\",void 0),e([M({vectorOps:n})],_.prototype,\"mrrFactors\",void 0),e([M({vectorOps:n})],_.prototype,\"emissiveFactor\",void 0),e([M({dispose:!0})],_.prototype,\"baseColorTexture\",void 0),e([M({dispose:!0})],_.prototype,\"metallicRoughnessTexture\",void 0),e([M({dispose:!0})],_.prototype,\"emissionTexture\",void 0),e([M({dispose:!0})],_.prototype,\"occlusionTexture\",void 0),e([M({dispose:!0})],_.prototype,\"normalTexture\",void 0),e([M()],_.prototype,\"objectOpacity\",void 0),e([b()],_.prototype,\"commonMaterialParameters\",void 0),e([b()],_.prototype,\"componentParameters\",void 0),e([M()],_.prototype,\"textureAlphaCutoff\",void 0),e([M()],_.prototype,\"alphaDiscardMode\",void 0),e([M()],_.prototype,\"isIntegratedMesh\",void 0),e([M()],_.prototype,\"polygonOffsetEnabled\",void 0),e([M()],_.prototype,\"ellipsoidMode\",void 0),e([M()],_.prototype,\"hasOccludees\",void 0),function(e){e[e.VERTEX=0]=\"VERTEX\",e[e.GROUND=1]=\"GROUND\",e[e.SCREEN_DERIVATIVE=2]=\"SCREEN_DERIVATIVE\"}(k||(k={})),function(e){e[e.Opaque=0]=\"Opaque\",e[e.Transparent=1]=\"Transparent\",e[e.OpaqueAndTransparent=2]=\"OpaqueAndTransparent\",e[e.IntegratedMesh=3]=\"IntegratedMesh\"}(V||(V={}));class B extends C{constructor(){super(...arguments),this.doubleSided=!1,this.cullFace=F.Back,this.hasSlicePlane=!0}}e([M()],B.prototype,\"doubleSided\",void 0),e([M()],B.prototype,\"cullFace\",void 0),e([M()],B.prototype,\"hasSlicePlane\",void 0);class L extends C{constructor(){super(...arguments),this.externalColor=u(1,1,1,1),this.externalColorMixMode=p.Multiply,this.castShadows=W.All}get transparent(){return this.externalColor[3]<1?W.All:W.None}get opaqueOverride(){return this.externalColorMixMode===p.Replace&&1===this.externalColor[3]?W.All:W.None}get visible(){return this.externalColor[3]>0?W.All:W.None}get type(){return y.Uniform}}e([M({vectorOps:h})],L.prototype,\"externalColor\",void 0),e([M()],L.prototype,\"externalColorMixMode\",void 0),e([M()],L.prototype,\"castShadows\",void 0),function(e){e[e.All=0]=\"All\",e[e.Some=1]=\"Some\",e[e.None=2]=\"None\"}(W||(W={}));class G extends C{constructor(){super(...arguments),this.texture=null,this.transparent=W.None,this.opaqueOverride=W.None,this.castShadows=W.None}get type(){return y.Varying}}function H(e){switch(e){case S.Color:return P.Color;case S.Alpha:return P.Alpha;case S.Depth:return P.Depth;case S.Normal:return P.Normal}}function U(e){return 0!==e.overlays.length&&r(e.overlays[c.INNER].getValidTexture(d.Highlight))}function X(e){return 0!==e.overlays.length&&r(e.overlays[c.INNER].getColorTextureNoRasterImage())}e([M()],G.prototype,\"texture\",void 0),e([M()],G.prototype,\"transparent\",void 0),e([M()],G.prototype,\"opaqueOverride\",void 0),e([M()],G.prototype,\"castShadows\",void 0);export{B as CommonMaterialParameters,_ as ComponentMaterial,W as ComponentParameterSummary,L as ComponentParametersUniform,G as ComponentParametersVarying,k as ShadingNormalSource};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}