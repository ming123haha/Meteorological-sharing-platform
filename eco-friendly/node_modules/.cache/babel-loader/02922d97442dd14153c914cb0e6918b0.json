{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { estimateAttributesObjectSize as r, estimateFixedArraySize as t, estimateNumberByteSize as i } from \"../../../../core/byteSizeEstimations.js\";\nimport a from \"../../../../core/Error.js\";\nimport { HandleOwner as o } from \"../../../../core/HandleOwner.js\";\nimport { makeHandle as s } from \"../../../../core/handleUtils.js\";\nimport n from \"../../../../core/Logger.js\";\nimport { isSome as l, disposeMaybe as d, unwrap as p, isNone as m, applySome as u, mapSome as h } from \"../../../../core/maybe.js\";\nimport { initial as c, sync as y, watch as _ } from \"../../../../core/reactiveUtils.js\";\nimport { pt2px as f } from \"../../../../core/screenUtils.js\";\nimport { property as g } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as R } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as F } from \"../../../../chunks/vec3.js\";\nimport { c as b } from \"../../../../chunks/vec3f64.js\";\nimport { projectPointToVector as w } from \"../../../../geometry/projection.js\";\nimport { getResolutionForScale as v } from \"../../../../geometry/support/scaleUtils.js\";\nimport { getObjectId as S } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { convertFromPoint as P } from \"../../../../layers/graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as j } from \"../../../../layers/graphics/OptimizedFeature.js\";\nimport T from \"../../../../layers/graphics/OptimizedGeometry.js\";\nimport x from \"../../../../layers/graphics/data/FeatureStore.js\";\nimport { isNumericField as G } from \"../../../../layers/support/fieldUtils.js\";\nimport { generateGradient as M } from \"../../../../renderers/support/heatmapUtils.js\";\nimport { DrapeSourceType as N } from \"../interfaces.js\";\nimport { DRAPED_Z as O } from \"../../terrain/OverlayRenderer.js\";\nimport { UpdatePolicy as E, PrimitiveType as H } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { DrapedHeatmapRenderer as I } from \"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";\nimport { Geometry as C } from \"../../webgl-engine/lib/Geometry.js\";\nimport { ModelDirty as U } from \"../../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { RenderGeometry as W } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { VertexAttribute as L } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { HeatmapDensityMaterial as V } from \"../../webgl-engine/materials/HeatmapDensityMaterial.js\";\nconst D = n.getLogger(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\"),\n      A = 112;\nlet B = class extends o {\n  constructor(e) {\n    super(e), this.type = \"heatmap\", this.filterVisibility = {\n      filterChanged() {},\n\n      dirty: !1\n    }, this.preferredUpdatePolicy = E.ASYNC, this.dataExtent = null, this.drapeSourceType = N.Features, this._renderGeometries = new Map(), this._material = new V({}), this._materialWithField = new V({\n      isAttributeDriven: !0\n    }), this._fieldTotal = 0, this._drapeSourceRenderer = null;\n  }\n\n  initialize() {\n    this._featureStore = new x({\n      geometryType: \"esriGeometryPoint\",\n      hasZ: this.hasZ,\n      hasM: this.hasM\n    });\n    const {\n      colorBufferFloat: e,\n      textureFloat: r\n    } = this._renderView.capabilities,\n          {\n      floatBufferBlendWorking: t\n    } = this._renderView.renderingContext.driverTest;\n    if (!r?.textureFloat) throw new a(\"heatmap:missing-texture-float\", \"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float.\");\n    if (!e?.textureFloat) throw new a(\"heatmap:missing-color-buffer-float\", \"HeatmapRenderer requires the WebGL2 extension EXT_color_buffer_float or the WebGL1 extension WEBGL_color_buffer_float.\");\n    if (!e?.floatBlend) throw new a(\"heatmap:missing-float-blend\", \"HeatmapRenderer requires the WebGL extension EXT_float_blend.\");\n    if (!t) throw new a(\"heatmap:missing-float-blend\", \"HeatmapRenderer requires the WebGL extension EXT_float_blend. This device claims support for it, but does not actually support it.\");\n    this._drapeSourceRenderer = this.view.basemapTerrain.overlayManager.registerDrapeSource(this, I, this._rendererParameters), this.updatingHandles.addOnCollectionChange(() => this._loadedPointGraphics, e => this._onLoadedFeaturesChange(e), c), this.updatingHandles.addWhen(() => this._materialParameters, e => this._forEachMaterial(r => r.setParameters(e)), c), this.updatingHandles.add(() => this._rendererParameters, e => this._drapeSourceRenderer.set(e)), this.updatingHandles.add(() => this._heatmapRendererField, () => {\n      this._recreate();\n    }, y), this.updatingHandles.add(() => ({\n      fieldName: this._heatmapRendererFieldName,\n      numeric: this._heatmapRendererFieldIsNumeric\n    }), ({\n      fieldName: e,\n      numeric: r\n    }) => {\n      if (l(e) && r) {\n        let r = 0;\n        this._featureStore.forEach(t => r += t.attributes[e] ?? 0), this._fieldTotal = r;\n      } else this._fieldTotal = this._featureStore.numFeatures;\n    }, c), this.handles.add([_(() => ({\n      fieldName: this._heatmapRendererFieldName,\n      field: this._heatmapRendererField\n    }), ({\n      fieldName: e,\n      field: r\n    }) => {\n      e && !r && D.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title ?? this.layer.id}' not found`);\n    }), _(() => ({\n      field: this._heatmapRendererField,\n      numeric: this._heatmapRendererFieldIsNumeric\n    }), ({\n      field: e,\n      numeric: r\n    }) => {\n      l(e) && !r && D.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title ?? this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`);\n    }), s(() => this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))]);\n  }\n\n  destroy() {\n    this._renderGeometries.clear(), this._material = d(this._material), this._materialWithField = d(this._materialWithField), this._featureStore.clear(), this._featureStore = null;\n  }\n\n  get layer() {\n    return this.owner.layer;\n  }\n\n  get featureStore() {\n    return this._featureStore;\n  }\n\n  get updating() {\n    return this.updatingHandles.updating;\n  }\n\n  get updatingRemaining() {\n    return 0;\n  }\n\n  get suspendInfo() {\n    return {};\n  }\n\n  get legendEnabled() {\n    return !0;\n  }\n\n  get displayFeatureLimit() {\n    const e = this.owner?.view?.resourceController?.memoryController?.memoryFactor ?? 1,\n          r = this.owner?.view?.qualitySettings,\n          t = r ? Math.ceil(r.heatmap.maxTotalNumberOfFeatures * e) : 0;\n    return {\n      minimumTotalNumberOfFeatures: 0,\n      maximumTotalNumberOfFeatures: t,\n      maximumTotalNumberOfPrimitives: t * 2,\n      maximumNumberOfFeatures: t\n    };\n  }\n\n  get hasZ() {\n    return \"hasZ\" in this.layer && this.layer.hasZ;\n  }\n\n  get hasM() {\n    return \"hasM\" in this.layer && this.layer.hasM;\n  }\n\n  get view() {\n    return this.owner.view;\n  }\n\n  get fullOpacity() {\n    return this.owner.fullOpacity;\n  }\n\n  get updatePolicy() {\n    return this.owner.updatePolicy;\n  }\n\n  get scaleVisibilitySuspended() {\n    return !1;\n  }\n\n  get usedMemory() {\n    const e = this.usedMemoryPerFeature * this._featureStore.numFeatures,\n          {\n      R32F: r\n    } = this._renderView?.capabilities?.colorBufferFloat,\n          t = null != r ? 1 : 4,\n          i = 4,\n          a = Math.ceil(this._overlayRenderer?.overlays[0]?.resolution * this._densityMapPixelRatio) ?? 0;\n    return a * a * t * i + e + (l(this._heatmapRenderer) ? f(Math.min(this._heatmapRenderer.radius, A)) : 0) * t * i;\n  }\n\n  get usedMemoryPerFeature() {\n    if (0 === this._featureStore.numFeatures) return 0;\n    let e = 0;\n    this._featureStore.forEach(t => e += r(t.attributes)), e /= this._featureStore.numFeatures;\n    const a = i(),\n          o = 6;\n    return o * t([0, 0, 0], a) + o * t([0, 0], a) + (this._heatmapRendererFieldIsNumeric ? o * a : 0) + e;\n  }\n\n  get unprocessedMemoryEstimate() {\n    return 0;\n  }\n\n  get performanceInfo() {\n    return {\n      core: {\n        visible: this._featureStore.numFeatures,\n        missing: 0,\n        pending: 0\n      },\n      elevationUpdating: !1,\n      visibilityFrustum: !0,\n      visibilityScale: !0\n    };\n  }\n\n  get _overlayRenderer() {\n    return this.view.basemapTerrain.overlayManager.renderer;\n  }\n\n  get _overlaySpatialReference() {\n    return p(this._overlayRenderer.spatialReference);\n  }\n\n  get _rendererParameters() {\n    return { ...this._radiusParameter,\n      ...this._densityParameters,\n      ...this._colorRampParameter,\n      ...this._pixelRatioParameter\n    };\n  }\n\n  get _materialParameters() {\n    return { ...this._radiusParameter,\n      ...this._resolutionForScaleParameter\n    };\n  }\n\n  get _densityParameters() {\n    const e = this._heatmapRenderer;\n    if (m(e)) return null;\n    const {\n      minDensity: r,\n      maxDensity: t\n    } = e;\n    return {\n      minDensity: r,\n      maxDensity: t,\n      fieldTotal: this._fieldTotal\n    };\n  }\n\n  get _radiusParameter() {\n    return u(this._heatmapRenderer, ({\n      radius: e\n    }) => ({\n      searchRadius: f(this._clampSearchRadius(e))\n    }));\n  }\n\n  get _resolutionForScaleParameter() {\n    return u(this._heatmapRenderer, ({\n      referenceScale: e\n    }) => ({\n      resolutionForScale: 0 === e ? 0 : v(e, this.view.spatialReference)\n    }));\n  }\n\n  get _colorRampParameter() {\n    return u(this._heatmapRenderer, e => ({\n      colorRampData: M(e.colorStops)\n    }));\n  }\n\n  get _pixelRatioParameter() {\n    return {\n      pixelRatio: this._densityMapPixelRatio\n    };\n  }\n\n  get _densityMapPixelRatio() {\n    const e = this.owner?.view?.resourceController?.memoryController?.memoryFactor ?? 1;\n    return (this.owner?.view?.qualitySettings.heatmap.pixelRatio ?? 1) * Math.sqrt(e);\n  }\n\n  get _renderView() {\n    return this.view._stage.renderView;\n  }\n\n  get _featuresArePoints() {\n    return \"point\" === this.layer.geometryType;\n  }\n\n  get _loadedPointGraphics() {\n    return this.owner.loadedGraphics;\n  }\n\n  get _heatmapRenderer() {\n    const e = this.layer.renderer;\n    return \"heatmap\" === e?.type ? e : null;\n  }\n\n  get _heatmapRendererFieldName() {\n    return u(this._heatmapRenderer, e => e.field);\n  }\n\n  get _heatmapRendererField() {\n    return u(this._heatmapRendererFieldName, e => this.layer.fieldsIndex.get(e));\n  }\n\n  get _heatmapRendererFieldIsNumeric() {\n    const e = this._heatmapRendererField;\n    return !m(e) && G(e);\n  }\n\n  async whenGraphicBounds() {\n    return null;\n  }\n\n  computeAttachmentOrigin() {\n    return null;\n  }\n\n  highlight() {\n    return q;\n  }\n\n  maskOccludee() {\n    return q;\n  }\n\n  setObjectIdVisibility() {}\n\n  async setup() {}\n\n  _onLoadedFeaturesChange(e) {\n    if (!this._featuresArePoints) return;\n    const {\n      objectIdField: r\n    } = this.layer;\n    this._featureStore.removeManyById(e.removed.map(e => S(e, r))), this._featureStore.addMany(e.added.map(e => new j(P(new T(), e.geometry), e.attributes, u(e.centroid, e => P(new T(), e)), S(e, r))));\n    const t = e.added,\n          i = e.removed;\n    this._fieldTotal += this._computeFieldTotalChange(t, i);\n    const a = h(i, ({\n      uid: e\n    }) => {\n      const r = this._renderGeometries.get(e);\n\n      return this._renderGeometries.delete(e), r;\n    }),\n          o = t.map(e => {\n      const r = this._pointGraphicToRenderGeometry(e);\n\n      return this._renderGeometries.set(e.uid, r), r;\n    });\n    a.length > 0 && this._drapeSourceRenderer.removeGeometries(a, U.Geometry.REMOVE), o.length > 0 && this._drapeSourceRenderer.addGeometries(o, U.Geometry.ADD), (o.length > 0 || a.length > 0) && this._renderView.requestRender();\n  }\n\n  _recreate() {\n    if (!this._loadedPointGraphics) return;\n\n    const e = this._loadedPointGraphics.toArray();\n\n    this._onLoadedFeaturesChange({\n      added: e,\n      removed: e\n    });\n  }\n\n  _pointGraphicToRenderGeometry(e) {\n    const r = this._heatmapRendererFieldName,\n          t = l(r) ? this._materialWithField : this._material,\n          i = b();\n    w(e.geometry, i, this._overlaySpatialReference), i[2] = O;\n    const a = [[L.POSITION, {\n      data: i,\n      size: i.length\n    }]],\n          o = this._heatmapRendererFieldIsNumeric;\n    l(r) && a.push([L.FEATUREATTRIBUTE, {\n      data: [o ? e.attributes[r] ?? 0 : 0],\n      size: 1\n    }]);\n    const s = new W(new C(a, null, H.Point), t, {\n      layerUid: this.layer.uid,\n      graphicUid: e.uid\n    });\n    return F(s.boundingSphere, i), s;\n  }\n\n  _forEachMaterial(e) {\n    e(this._material), e(this._materialWithField);\n  }\n\n  _computeFieldTotalChange(e, r) {\n    if (m(this._heatmapRendererFieldName) || !this._heatmapRendererFieldIsNumeric) return e.length - r.length;\n\n    const t = this._heatmapRendererFieldName,\n          i = (e, r) => e + (r.attributes[t] ?? 0);\n\n    return e.reduce(i, 0) - r.reduce(i, 0);\n  }\n\n  _clampSearchRadius(e) {\n    return e > A && D.warnOnce(`SceneView supports a maximum radius of ${A} pt for HeatmapRenderer.`), Math.min(e, A);\n  }\n\n};\ne([g()], B.prototype, \"type\", void 0), e([g({\n  constructOnly: !0\n})], B.prototype, \"owner\", void 0), e([g()], B.prototype, \"layer\", null), e([g()], B.prototype, \"featureStore\", null), e([g()], B.prototype, \"updating\", null), e([g()], B.prototype, \"updatingRemaining\", null), e([g()], B.prototype, \"suspendInfo\", null), e([g()], B.prototype, \"legendEnabled\", null), e([g()], B.prototype, \"filterVisibility\", void 0), e([g()], B.prototype, \"displayFeatureLimit\", null), e([g()], B.prototype, \"preferredUpdatePolicy\", void 0), e([g()], B.prototype, \"hasZ\", null), e([g()], B.prototype, \"hasM\", null), e([g()], B.prototype, \"dataExtent\", void 0), e([g()], B.prototype, \"view\", null), e([g()], B.prototype, \"fullOpacity\", null), e([g()], B.prototype, \"updatePolicy\", null), e([g()], B.prototype, \"drapeSourceType\", void 0), e([g()], B.prototype, \"_featureStore\", void 0), e([g()], B.prototype, \"_overlayRenderer\", null), e([g()], B.prototype, \"_overlaySpatialReference\", null), e([g()], B.prototype, \"_rendererParameters\", null), e([g()], B.prototype, \"_materialParameters\", null), e([g()], B.prototype, \"_densityParameters\", null), e([g()], B.prototype, \"_radiusParameter\", null), e([g()], B.prototype, \"_resolutionForScaleParameter\", null), e([g()], B.prototype, \"_colorRampParameter\", null), e([g()], B.prototype, \"_pixelRatioParameter\", null), e([g()], B.prototype, \"_densityMapPixelRatio\", null), e([g()], B.prototype, \"_renderGeometries\", void 0), e([g()], B.prototype, \"_material\", void 0), e([g()], B.prototype, \"_materialWithField\", void 0), e([g()], B.prototype, \"_renderView\", null), e([g()], B.prototype, \"_featuresArePoints\", null), e([g()], B.prototype, \"_loadedPointGraphics\", null), e([g()], B.prototype, \"_heatmapRenderer\", null), e([g()], B.prototype, \"_heatmapRendererFieldName\", null), e([g()], B.prototype, \"_heatmapRendererField\", null), e([g()], B.prototype, \"_heatmapRendererFieldIsNumeric\", null), e([g()], B.prototype, \"_fieldTotal\", void 0), e([g()], B.prototype, \"_drapeSourceRenderer\", void 0), B = e([R(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")], B);\nconst q = s();\nexport { B as HeatmapFeatureProcessor, A as MAX_RADIUS_PT };","map":{"version":3,"names":["_","e","estimateAttributesObjectSize","r","estimateFixedArraySize","t","estimateNumberByteSize","i","a","HandleOwner","o","makeHandle","s","n","isSome","l","disposeMaybe","d","unwrap","p","isNone","m","applySome","u","mapSome","h","initial","c","sync","y","watch","pt2px","f","property","g","subclass","R","F","b","projectPointToVector","w","getResolutionForScale","v","getObjectId","S","convertFromPoint","P","OptimizedFeature","j","T","x","isNumericField","G","generateGradient","M","DrapeSourceType","N","DRAPED_Z","O","UpdatePolicy","E","PrimitiveType","H","DrapedHeatmapRenderer","I","Geometry","C","ModelDirty","U","RenderGeometry","W","VertexAttribute","L","HeatmapDensityMaterial","V","D","getLogger","A","B","constructor","type","filterVisibility","filterChanged","dirty","preferredUpdatePolicy","ASYNC","dataExtent","drapeSourceType","Features","_renderGeometries","Map","_material","_materialWithField","isAttributeDriven","_fieldTotal","_drapeSourceRenderer","initialize","_featureStore","geometryType","hasZ","hasM","colorBufferFloat","textureFloat","_renderView","capabilities","floatBufferBlendWorking","renderingContext","driverTest","floatBlend","view","basemapTerrain","overlayManager","registerDrapeSource","_rendererParameters","updatingHandles","addOnCollectionChange","_loadedPointGraphics","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","add","set","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","forEach","attributes","numFeatures","handles","field","warn","layer","title","id","name","unregisterDrapeSource","destroy","clear","owner","featureStore","updating","updatingRemaining","suspendInfo","legendEnabled","displayFeatureLimit","resourceController","memoryController","memoryFactor","qualitySettings","Math","ceil","heatmap","maxTotalNumberOfFeatures","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","maximumTotalNumberOfPrimitives","maximumNumberOfFeatures","fullOpacity","updatePolicy","scaleVisibilitySuspended","usedMemory","usedMemoryPerFeature","R32F","_overlayRenderer","overlays","resolution","_densityMapPixelRatio","_heatmapRenderer","min","radius","unprocessedMemoryEstimate","performanceInfo","core","visible","missing","pending","elevationUpdating","visibilityFrustum","visibilityScale","renderer","_overlaySpatialReference","spatialReference","_radiusParameter","_densityParameters","_colorRampParameter","_pixelRatioParameter","_resolutionForScaleParameter","minDensity","maxDensity","fieldTotal","searchRadius","_clampSearchRadius","referenceScale","resolutionForScale","colorRampData","colorStops","pixelRatio","sqrt","_stage","renderView","_featuresArePoints","loadedGraphics","fieldsIndex","get","whenGraphicBounds","computeAttachmentOrigin","highlight","q","maskOccludee","setObjectIdVisibility","setup","objectIdField","removeManyById","removed","map","addMany","added","geometry","centroid","_computeFieldTotalChange","uid","delete","_pointGraphicToRenderGeometry","length","removeGeometries","REMOVE","addGeometries","ADD","requestRender","toArray","POSITION","data","size","push","FEATUREATTRIBUTE","Point","layerUid","graphicUid","boundingSphere","reduce","warnOnce","prototype","constructOnly","HeatmapFeatureProcessor","MAX_RADIUS_PT"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as r,estimateFixedArraySize as t,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import a from\"../../../../core/Error.js\";import{HandleOwner as o}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,disposeMaybe as d,unwrap as p,isNone as m,applySome as u,mapSome as h}from\"../../../../core/maybe.js\";import{initial as c,sync as y,watch as _}from\"../../../../core/reactiveUtils.js\";import{pt2px as f}from\"../../../../core/screenUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as R}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as F}from\"../../../../chunks/vec3.js\";import{c as b}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as w}from\"../../../../geometry/projection.js\";import{getResolutionForScale as v}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as S}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as P}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as j}from\"../../../../layers/graphics/OptimizedFeature.js\";import T from\"../../../../layers/graphics/OptimizedGeometry.js\";import x from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as G}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as M}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as N}from\"../interfaces.js\";import{DRAPED_Z as O}from\"../../terrain/OverlayRenderer.js\";import{UpdatePolicy as E,PrimitiveType as H}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DrapedHeatmapRenderer as I}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as C}from\"../../webgl-engine/lib/Geometry.js\";import{ModelDirty as U}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as W}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as V}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";const D=n.getLogger(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\"),A=112;let B=class extends o{constructor(e){super(e),this.type=\"heatmap\",this.filterVisibility={filterChanged(){},dirty:!1},this.preferredUpdatePolicy=E.ASYNC,this.dataExtent=null,this.drapeSourceType=N.Features,this._renderGeometries=new Map,this._material=new V({}),this._materialWithField=new V({isAttributeDriven:!0}),this._fieldTotal=0,this._drapeSourceRenderer=null}initialize(){this._featureStore=new x({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{colorBufferFloat:e,textureFloat:r}=this._renderView.capabilities,{floatBufferBlendWorking:t}=this._renderView.renderingContext.driverTest;if(!r?.textureFloat)throw new a(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float.\");if(!e?.textureFloat)throw new a(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL2 extension EXT_color_buffer_float or the WebGL1 extension WEBGL_color_buffer_float.\");if(!e?.floatBlend)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend.\");if(!t)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend. This device claims support for it, but does not actually support it.\");this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,I,this._rendererParameters),this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),c),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((r=>r.setParameters(e)))),c),this.updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),y),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:r})=>{if(l(e)&&r){let r=0;this._featureStore.forEach((t=>r+=t.attributes[e]??0)),this._fieldTotal=r}else this._fieldTotal=this._featureStore.numFeatures}),c),this.handles.add([_((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:r})=>{e&&!r&&D.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),_((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:r})=>{l(e)&&!r&&D.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),s((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=d(this._material),this._materialWithField=d(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get displayFeatureLimit(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1,r=this.owner?.view?.qualitySettings,t=r?Math.ceil(r.heatmap.maxTotalNumberOfFeatures*e):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:t*2,maximumNumberOfFeatures:t}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){return!1}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,{R32F:r}=this._renderView?.capabilities?.colorBufferFloat,t=null!=r?1:4,i=4,a=Math.ceil(this._overlayRenderer?.overlays[0]?.resolution*this._densityMapPixelRatio)??0;return a*a*t*i+e+(l(this._heatmapRenderer)?f(Math.min(this._heatmapRenderer.radius,A)):0)*t*i}get usedMemoryPerFeature(){if(0===this._featureStore.numFeatures)return 0;let e=0;this._featureStore.forEach((t=>e+=r(t.attributes))),e/=this._featureStore.numFeatures;const a=i(),o=6;return o*t([0,0,0],a)+o*t([0,0],a)+(this._heatmapRendererFieldIsNumeric?o*a:0)+e}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._featureStore.numFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return p(this._overlayRenderer.spatialReference)}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(m(e))return null;const{minDensity:r,maxDensity:t}=e;return{minDensity:r,maxDensity:t,fieldTotal:this._fieldTotal}}get _radiusParameter(){return u(this._heatmapRenderer,(({radius:e})=>({searchRadius:f(this._clampSearchRadius(e))})))}get _resolutionForScaleParameter(){return u(this._heatmapRenderer,(({referenceScale:e})=>({resolutionForScale:0===e?0:v(e,this.view.spatialReference)})))}get _colorRampParameter(){return u(this._heatmapRenderer,(e=>({colorRampData:M(e.colorStops)})))}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1;return(this.owner?.view?.qualitySettings.heatmap.pixelRatio??1)*Math.sqrt(e)}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return u(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return u(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!m(e)&&G(e)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return q}maskOccludee(){return q}setObjectIdVisibility(){}async setup(){}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:r}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>S(e,r)))),this._featureStore.addMany(e.added.map((e=>new j(P(new T,e.geometry),e.attributes,u(e.centroid,(e=>P(new T,e))),S(e,r)))));const t=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(t,i);const a=h(i,(({uid:e})=>{const r=this._renderGeometries.get(e);return this._renderGeometries.delete(e),r})),o=t.map((e=>{const r=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,r),r}));a.length>0&&this._drapeSourceRenderer.removeGeometries(a,U.Geometry.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,U.Geometry.ADD),(o.length>0||a.length>0)&&this._renderView.requestRender()}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const r=this._heatmapRendererFieldName,t=l(r)?this._materialWithField:this._material,i=b();w(e.geometry,i,this._overlaySpatialReference),i[2]=O;const a=[[L.POSITION,{data:i,size:i.length}]],o=this._heatmapRendererFieldIsNumeric;l(r)&&a.push([L.FEATUREATTRIBUTE,{data:[o?e.attributes[r]??0:0],size:1}]);const s=new W(new C(a,null,H.Point),t,{layerUid:this.layer.uid,graphicUid:e.uid});return F(s.boundingSphere,i),s}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,r){if(m(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-r.length;const t=this._heatmapRendererFieldName,i=(e,r)=>e+(r.attributes[t]??0);return e.reduce(i,0)-r.reduce(i,0)}_clampSearchRadius(e){return e>A&&D.warnOnce(`SceneView supports a maximum radius of ${A} pt for HeatmapRenderer.`),Math.min(e,A)}};e([g()],B.prototype,\"type\",void 0),e([g({constructOnly:!0})],B.prototype,\"owner\",void 0),e([g()],B.prototype,\"layer\",null),e([g()],B.prototype,\"featureStore\",null),e([g()],B.prototype,\"updating\",null),e([g()],B.prototype,\"updatingRemaining\",null),e([g()],B.prototype,\"suspendInfo\",null),e([g()],B.prototype,\"legendEnabled\",null),e([g()],B.prototype,\"filterVisibility\",void 0),e([g()],B.prototype,\"displayFeatureLimit\",null),e([g()],B.prototype,\"preferredUpdatePolicy\",void 0),e([g()],B.prototype,\"hasZ\",null),e([g()],B.prototype,\"hasM\",null),e([g()],B.prototype,\"dataExtent\",void 0),e([g()],B.prototype,\"view\",null),e([g()],B.prototype,\"fullOpacity\",null),e([g()],B.prototype,\"updatePolicy\",null),e([g()],B.prototype,\"drapeSourceType\",void 0),e([g()],B.prototype,\"_featureStore\",void 0),e([g()],B.prototype,\"_overlayRenderer\",null),e([g()],B.prototype,\"_overlaySpatialReference\",null),e([g()],B.prototype,\"_rendererParameters\",null),e([g()],B.prototype,\"_materialParameters\",null),e([g()],B.prototype,\"_densityParameters\",null),e([g()],B.prototype,\"_radiusParameter\",null),e([g()],B.prototype,\"_resolutionForScaleParameter\",null),e([g()],B.prototype,\"_colorRampParameter\",null),e([g()],B.prototype,\"_pixelRatioParameter\",null),e([g()],B.prototype,\"_densityMapPixelRatio\",null),e([g()],B.prototype,\"_renderGeometries\",void 0),e([g()],B.prototype,\"_material\",void 0),e([g()],B.prototype,\"_materialWithField\",void 0),e([g()],B.prototype,\"_renderView\",null),e([g()],B.prototype,\"_featuresArePoints\",null),e([g()],B.prototype,\"_loadedPointGraphics\",null),e([g()],B.prototype,\"_heatmapRenderer\",null),e([g()],B.prototype,\"_heatmapRendererFieldName\",null),e([g()],B.prototype,\"_heatmapRendererField\",null),e([g()],B.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([g()],B.prototype,\"_fieldTotal\",void 0),e([g()],B.prototype,\"_drapeSourceRenderer\",void 0),B=e([R(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],B);const q=s();export{B as HeatmapFeatureProcessor,A as MAX_RADIUS_PT};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}