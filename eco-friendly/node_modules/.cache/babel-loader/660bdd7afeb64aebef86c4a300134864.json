{"ast":null,"code":"import \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/esnext.typed-array.find-last.js\";\nimport \"core-js/modules/esnext.typed-array.find-last-index.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { isSome as t, get as i, isNone as r, unwrap as n } from \"../../../../core/maybe.js\";\nimport { pt2px as o } from \"../../../../core/screenUtils.js\";\nimport { e as a } from \"../../../../chunks/earcut.js\";\nimport { I as s } from \"../../../../chunks/mat4f64.js\";\nimport { s as l } from \"../../../../chunks/vec4.js\";\nimport { create as u, empty as h, expandWithBuffer as c, intersectsClippingArea as p, expandWithAABB as d } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewMat3f64 as m, BufferViewVec3f64 as _, BufferViewVec4f as y } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { SymbolUpdateType as g, elevationModeChangeUpdateType as f, needsElevationUpdates2D as x } from \"./elevationAlignmentUtils.js\";\nimport { ElevationContext as b } from \"./ElevationContext.js\";\nimport v from \"./Graphics3DDrapedGraphicLayer.js\";\nimport { Graphics3DObject3DGraphicLayer as M } from \"./Graphics3DObject3DGraphicLayer.js\";\nimport { Graphics3DSymbolLayer as E } from \"./Graphics3DSymbolLayer.js\";\nimport { mixinColorAndOpacity as O } from \"./graphicUtils.js\";\nimport { parseCapType as D, createGeometry as S, RemoveDuplicateStartEnd as A } from \"./lineUtils.js\";\nimport { geometryAsPolygon as U, geometryToRenderInfo as P, createColorGeometry as C, geometryToRenderInfoDraped as w } from \"./polygonUtils.js\";\nimport { createMaterial as G, uvElevationAligner as T } from \"../support/patternUtils.js\";\nimport { createMapSpaceUVCoords as j, createMapSpaceUVCoordsDraped as R } from \"../support/uvUtils.js\";\nimport { Object3D as B } from \"../../webgl-engine/lib/Object3D.js\";\nimport { RenderGeometry as L } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { VertexAttribute as N } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { getStipplePatternForLinePattern as V } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { PatternMaterial as F } from \"../../webgl-engine/materials/PatternMaterial.js\";\nimport { RibbonLineMaterial as I } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nconst H = [\"polyline\", \"polygon\", \"extent\"];\n\nclass W extends E {\n  constructor(e, t, i, r) {\n    super(e, t, i, r), this._needsUV = !1, this._hasOutline = !1;\n  }\n\n  async doLoad() {}\n\n  _ensureMaterials() {\n    this._ensureFillMaterial(), this._ensureOutlineMaterial();\n  }\n\n  _ensureFillMaterial() {\n    if (t(this._material)) return;\n\n    const e = i(this.symbolLayer, \"material\", \"color\"),\n          r = this._getCombinedOpacityAndColor(e);\n\n    this._material = G(this.symbolLayer, {\n      color: r,\n      transparent: r[3] < 1 || this.needsDrivenTransparentPass,\n      polygonOffset: !1,\n      hasVertexColors: !0,\n      writeLinearDepth: !0,\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }, {\n      isDraped: this.draped\n    }), this._needsUV = this._material instanceof F, this._context.stage.add(this._material);\n  }\n\n  _ensureOutlineMaterial() {\n    const e = this.symbolLayer.outline;\n    if (t(this._outlineMaterial) || !this._isValidOutline(e)) return;\n    this._hasOutline = !0;\n\n    const i = t => {\n      const i = V(e.pattern);\n      return new I({\n        width: t,\n        color: this._getOutlineColor(),\n        hasPolygonOffset: !0,\n        hasSlicePlane: this._context.slicePlaneEnabled,\n        isClosed: !0,\n        stipplePattern: i,\n        stippleScaleWithLineWidth: !0,\n        cap: D(e.patternCap || \"butt\")\n      });\n    };\n\n    this._outlineMaterial = i(o(e.size)), this._context.stage.add(this._outlineMaterial);\n  }\n\n  _isValidOutline(e) {\n    return t(e) && e.size && e.size > 0 && t(e.color) && (r(e.pattern) || \"style\" !== e.pattern.type || \"none\" !== e.pattern.style);\n  }\n\n  destroy() {\n    super.destroy(), this._context.stage.remove(this._material), this._material = null, this._context.stage.remove(this._outlineMaterial), this._outlineMaterial = null;\n  }\n\n  createGraphics3DGraphic(e) {\n    const t = e.graphic;\n    if (!this._validateGeometry(t.geometry, H, this.symbolLayer.type)) return null;\n\n    const i = this._getVertexOpacityAndColor(e.renderingInfo, 255),\n          r = this.setGraphicElevationContext(t, new b());\n\n    return this.ensureDrapedStatus(\"on-the-ground\" === r.mode), this._ensureMaterials(), this.draped ? this._createAsOverlay(t, i) : this._createAs3DShape(t, i, r);\n  }\n\n  layerOpacityChanged() {\n    if (t(this._material)) {\n      const e = this._material.parameters.color,\n            t = i(this.symbolLayer, \"material\", \"color\"),\n            r = this._getCombinedOpacity(t);\n\n      this._material.setParameters({\n        color: [e[0], e[1], e[2], r],\n        transparent: r < 1 || this.needsDrivenTransparentPass\n      });\n    }\n\n    if (t(this._outlineMaterial)) {\n      const e = this._outlineMaterial.parameters.color;\n\n      this._outlineMaterial.setParameters({\n        color: [e[0], e[1], e[2], this._getOutlineOpacity()]\n      });\n    }\n\n    return !0;\n  }\n\n  layerElevationInfoChanged(e, t, i) {\n    const r = this._elevationContext.mode,\n          n = f(W.elevationModeChangeTypes, i, r);\n    if (n !== g.UPDATE) return n;\n    const o = x(r);\n    return this.updateGraphics3DGraphicElevationInfo(e, t, () => o);\n  }\n\n  slicePlaneEnabledChanged() {\n    if (t(this._material) && this._material.setParameters({\n      hasSlicePlane: this._context.slicePlaneEnabled\n    }), t(this._outlineMaterial)) {\n      const e = {\n        hasSlicePlane: this._context.slicePlaneEnabled\n      };\n\n      this._outlineMaterial.setParameters(e);\n    }\n\n    return !0;\n  }\n\n  physicalBasedRenderingChanged() {\n    return !0;\n  }\n\n  pixelRatioChanged() {\n    return !0;\n  }\n\n  _createAs3DShape(e, t, i) {\n    const n = U(e.geometry);\n    if (r(n)) return null;\n    z.renderData = P(n, this._context.elevationProvider, this._context.renderCoordsHelper, i), z.color = t;\n    const o = z.renderData.position.length / 3;\n    if (this._needsUV && (z.uvMapSpace = new Float32Array(4 * o), z.boundingRect = new Float64Array(9 * o)), z.outNum = 0, z.outGeometries = [], z.outTransforms = [], z.outMaterials = [], this._createAs3DShapeFill(z), this._hasOutline && this._createAs3DShapeOutline(z), this._logGeometryCreationWarnings(z.renderData, n.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === z.outNum) return null;\n    this._needsUV && j(y.fromTypedArray(z.uvMapSpace), _.fromTypedArray(z.renderData.position), this._context.renderCoordsHelper, m.fromTypedArray(z.boundingRect));\n    const a = new B({\n      geometries: z.outGeometries,\n      materials: z.outMaterials,\n      transformations: z.outTransforms,\n      castShadow: !1,\n      metadata: {\n        layerUid: this._context.layer.uid,\n        graphicUid: e.uid\n      }\n    }),\n          s = new M(this, a, z.outGeometries, null, null, T, i);\n    return s.alignedSampledElevation = z.renderData.sampledElevation, s.needsElevationUpdates = x(i.mode), s;\n  }\n\n  _createAs3DShapeFill(e) {\n    const i = e.renderData.polygons;\n\n    for (const {\n      position: r,\n      mapPosition: o,\n      holeIndices: l,\n      index: u,\n      count: d\n    } of i) {\n      if (t(this._context.clippingExtent) && (h(k), c(k, o), !p(k, this._context.clippingExtent))) continue;\n      const i = a(o, l, 3);\n      if (0 === i.length) continue;\n\n      const m = new Uint32Array(i),\n            _ = C({\n        indices: m,\n        attributeData: {\n          position: r,\n          color: e.color,\n          mapPosition: o,\n          uvMapSpace: this._needsUV ? new Float32Array(e.uvMapSpace.buffer, 4 * u * e.uvMapSpace.BYTES_PER_ELEMENT, 4 * d) : null,\n          boundingRect: this._needsUV ? new Float64Array(e.boundingRect.buffer, 9 * u * e.boundingRect.BYTES_PER_ELEMENT, 9 * d) : null\n        }\n      });\n\n      e.outGeometries.push(_), e.outMaterials.push(n(this._material)), e.outTransforms.push(s), e.outNum++;\n    }\n  }\n\n  _createAs3DShapeOutline(e) {\n    if (!this._hasOutline) return;\n    const i = e.renderData.outlines;\n\n    for (let r = 0; r < i.length; ++r) {\n      const {\n        mapPosition: o,\n        position: a\n      } = i[r];\n      if (t(this._context.clippingExtent) && (h(k), c(k, o), !p(k, this._context.clippingExtent))) continue;\n      const l = S({\n        overlayInfo: null,\n        removeDuplicateStartEnd: A.REMOVE,\n        attributeData: {\n          position: a,\n          mapPosition: o\n        }\n      }),\n            u = l.vertexAttributes.get(N.POSITION);\n      u.data === a && (u.data = new Float64Array(a)), e.outGeometries.push(l), e.outMaterials.push(n(this._outlineMaterial)), e.outTransforms.push(s), e.outNum++;\n    }\n  }\n\n  _createAsOverlay(e, i) {\n    const o = U(e.geometry);\n    if (r(o)) return null;\n    n(this._material).renderPriority = this._renderPriority + this._renderPriorityStep / 2, t(this._outlineMaterial) && (this._outlineMaterial.renderPriority = this._renderPriority), Y.renderData = w(o, this._context.overlaySR), Y.color = i;\n    const a = Y.renderData.position.length / 3;\n    return this._needsUV && (Y.uvMapSpace = new Float32Array(4 * a)), Y.outNum = 0, Y.outGeometries = [], Y.outBoundingBox = h(), Y.layerUid = this._context.layer.uid, Y.graphicsUid = e.uid, this._createAsOverlayFill(Y), this._hasOutline && this._createAsOverlayOutline(Y), this._logGeometryCreationWarnings(Y.renderData, o.rings, \"rings\", \"FillSymbol3DLayer\"), 0 === Y.outNum ? null : (this._needsUV && R(y.fromTypedArray(Y.uvMapSpace), _.fromTypedArray(Y.renderData.position), this._context.overlaySR, this._context.graphicsCoreOwner.view.state.viewingMode), Y.outNum > 0 ? new v(this, Y.outGeometries, Y.outBoundingBox, this._context.drapeSourceRenderer) : null);\n  }\n\n  _createAsOverlayFill(e) {\n    const t = e.renderData.polygons;\n\n    for (const {\n      position: i,\n      holeIndices: r,\n      index: o,\n      count: s\n    } of t) {\n      if (h(k), c(k, i), !p(k, this._context.clippingExtent)) continue;\n      const t = a(i, r, 3);\n      if (0 === t.length) continue;\n      d(e.outBoundingBox, k);\n\n      const u = new Uint32Array(t),\n            m = C({\n        indices: u,\n        attributeData: {\n          position: i,\n          color: e.color,\n          uvMapSpace: this._needsUV ? new Float32Array(e.uvMapSpace.buffer, 4 * o * e.uvMapSpace.BYTES_PER_ELEMENT, 4 * s) : null\n        }\n      }),\n            _ = new L(m, n(this._material), {\n        layerUid: e.layerUid,\n        graphicUid: e.graphicsUid\n      }),\n            y = k;\n\n      l(_.boundingSphere, .5 * (y[0] + y[3]), .5 * (y[1] + y[4]), 0, .5 * Math.sqrt((y[3] - y[0]) * (y[3] - y[0]) + (y[4] - y[1]) * (y[4] - y[1]))), e.outGeometries.push(_), e.outNum++;\n    }\n  }\n\n  _createAsOverlayOutline(e) {\n    if (!this._hasOutline) return;\n    const t = e.renderData.outlines;\n\n    for (let i = 0; i < t.length; ++i) {\n      const {\n        position: r\n      } = t[i];\n      if (h(k), c(k, r), !p(k, this._context.clippingExtent)) continue;\n      d(e.outBoundingBox, k);\n      const o = S({\n        overlayInfo: {\n          spatialReference: this._context.overlaySR,\n          renderCoordsHelper: this._context.renderCoordsHelper\n        },\n        removeDuplicateStartEnd: A.REMOVE,\n        attributeData: {\n          position: r\n        }\n      }),\n            a = new L(o, n(this._outlineMaterial), {\n        layerUid: e.layerUid,\n        graphicUid: e.graphicsUid\n      }),\n            s = k;\n      l(a.boundingSphere, .5 * (s[0] + s[3]), .5 * (s[1] + s[4]), 0, .5 * Math.sqrt((s[3] - s[0]) * (s[3] - s[0]) + (s[4] - s[1]) * (s[4] - s[1]))), e.outGeometries.push(a), e.outNum++;\n    }\n  }\n\n  _getOutlineOpacity() {\n    const e = i(this.symbolLayer, \"outline\", \"color\");\n    return (this.draped ? 1 : this._getLayerOpacity()) * (t(e) ? e.a : 0);\n  }\n\n  _getOutlineColor() {\n    const r = i(this.symbolLayer, \"outline\", \"color\"),\n          n = this._getOutlineOpacity();\n\n    return O(t(r) ? e.toUnitRGB(r) : null, n);\n  }\n\n  test() {\n    return { ...super.test(),\n      createAsOverlay: (e, t) => this._createAsOverlay(e, t),\n      createAs3DShape: (e, t, i) => this._createAs3DShape(e, t, i)\n    };\n  }\n\n}\n\nW.elevationModeChangeTypes = {\n  definedChanged: g.RECREATE,\n  staysOnTheGround: g.NONE,\n  onTheGroundChanged: g.RECREATE\n};\nconst k = u(),\n      z = {\n  renderData: null,\n  color: null,\n  uvMapSpace: null,\n  boundingRect: null,\n  outNum: 0,\n  outBoundingBox: null,\n  outGeometries: null,\n  outMaterials: null,\n  outTransforms: null\n},\n      Y = {\n  renderData: null,\n  color: null,\n  uvMapSpace: null,\n  outNum: 0,\n  outBoundingBox: null,\n  outGeometries: null,\n  outMaterials: null,\n  outTransforms: null\n};\nexport { W as Graphics3DPolygonFillSymbolLayer };","map":{"version":3,"names":["e","isSome","t","get","i","isNone","r","unwrap","n","pt2px","o","a","I","s","l","create","u","empty","h","expandWithBuffer","c","intersectsClippingArea","p","expandWithAABB","d","BufferViewMat3f64","m","BufferViewVec3f64","_","BufferViewVec4f","y","SymbolUpdateType","g","elevationModeChangeUpdateType","f","needsElevationUpdates2D","x","ElevationContext","b","v","Graphics3DObject3DGraphicLayer","M","Graphics3DSymbolLayer","E","mixinColorAndOpacity","O","parseCapType","D","createGeometry","S","RemoveDuplicateStartEnd","A","geometryAsPolygon","U","geometryToRenderInfo","P","createColorGeometry","C","geometryToRenderInfoDraped","w","createMaterial","G","uvElevationAligner","T","createMapSpaceUVCoords","j","createMapSpaceUVCoordsDraped","R","Object3D","B","RenderGeometry","L","VertexAttribute","N","getStipplePatternForLinePattern","V","PatternMaterial","F","RibbonLineMaterial","H","W","constructor","_needsUV","_hasOutline","doLoad","_ensureMaterials","_ensureFillMaterial","_ensureOutlineMaterial","_material","symbolLayer","_getCombinedOpacityAndColor","color","transparent","needsDrivenTransparentPass","polygonOffset","hasVertexColors","writeLinearDepth","hasSlicePlane","_context","slicePlaneEnabled","isDraped","draped","stage","add","outline","_outlineMaterial","_isValidOutline","pattern","width","_getOutlineColor","hasPolygonOffset","isClosed","stipplePattern","stippleScaleWithLineWidth","cap","patternCap","size","type","style","destroy","remove","createGraphics3DGraphic","graphic","_validateGeometry","geometry","_getVertexOpacityAndColor","renderingInfo","setGraphicElevationContext","ensureDrapedStatus","mode","_createAsOverlay","_createAs3DShape","layerOpacityChanged","parameters","_getCombinedOpacity","setParameters","_getOutlineOpacity","layerElevationInfoChanged","_elevationContext","elevationModeChangeTypes","UPDATE","updateGraphics3DGraphicElevationInfo","slicePlaneEnabledChanged","physicalBasedRenderingChanged","pixelRatioChanged","z","renderData","elevationProvider","renderCoordsHelper","position","length","uvMapSpace","Float32Array","boundingRect","Float64Array","outNum","outGeometries","outTransforms","outMaterials","_createAs3DShapeFill","_createAs3DShapeOutline","_logGeometryCreationWarnings","rings","fromTypedArray","geometries","materials","transformations","castShadow","metadata","layerUid","layer","uid","graphicUid","alignedSampledElevation","sampledElevation","needsElevationUpdates","polygons","mapPosition","holeIndices","index","count","clippingExtent","k","Uint32Array","indices","attributeData","buffer","BYTES_PER_ELEMENT","push","outlines","overlayInfo","removeDuplicateStartEnd","REMOVE","vertexAttributes","POSITION","data","renderPriority","_renderPriority","_renderPriorityStep","Y","overlaySR","outBoundingBox","graphicsUid","_createAsOverlayFill","_createAsOverlayOutline","graphicsCoreOwner","view","state","viewingMode","drapeSourceRenderer","boundingSphere","Math","sqrt","spatialReference","_getLayerOpacity","toUnitRGB","test","createAsOverlay","createAs3DShape","definedChanged","RECREATE","staysOnTheGround","NONE","onTheGroundChanged","Graphics3DPolygonFillSymbolLayer"],"sources":["C:/Users/hp/Desktop/eco-friendly atmosphere/Atmosphere/eco-friendly/node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{isSome as t,get as i,isNone as r,unwrap as n}from\"../../../../core/maybe.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{e as a}from\"../../../../chunks/earcut.js\";import{I as s}from\"../../../../chunks/mat4f64.js\";import{s as l}from\"../../../../chunks/vec4.js\";import{create as u,empty as h,expandWithBuffer as c,intersectsClippingArea as p,expandWithAABB as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewMat3f64 as m,BufferViewVec3f64 as _,BufferViewVec4f as y}from\"../../../../geometry/support/buffer/BufferView.js\";import{SymbolUpdateType as g,elevationModeChangeUpdateType as f,needsElevationUpdates2D as x}from\"./elevationAlignmentUtils.js\";import{ElevationContext as b}from\"./ElevationContext.js\";import v from\"./Graphics3DDrapedGraphicLayer.js\";import{Graphics3DObject3DGraphicLayer as M}from\"./Graphics3DObject3DGraphicLayer.js\";import{Graphics3DSymbolLayer as E}from\"./Graphics3DSymbolLayer.js\";import{mixinColorAndOpacity as O}from\"./graphicUtils.js\";import{parseCapType as D,createGeometry as S,RemoveDuplicateStartEnd as A}from\"./lineUtils.js\";import{geometryAsPolygon as U,geometryToRenderInfo as P,createColorGeometry as C,geometryToRenderInfoDraped as w}from\"./polygonUtils.js\";import{createMaterial as G,uvElevationAligner as T}from\"../support/patternUtils.js\";import{createMapSpaceUVCoords as j,createMapSpaceUVCoordsDraped as R}from\"../support/uvUtils.js\";import{Object3D as B}from\"../../webgl-engine/lib/Object3D.js\";import{RenderGeometry as L}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as N}from\"../../webgl-engine/lib/VertexAttribute.js\";import{getStipplePatternForLinePattern as V}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{PatternMaterial as F}from\"../../webgl-engine/materials/PatternMaterial.js\";import{RibbonLineMaterial as I}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";const H=[\"polyline\",\"polygon\",\"extent\"];class W extends E{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1,this._hasOutline=!1}async doLoad(){}_ensureMaterials(){this._ensureFillMaterial(),this._ensureOutlineMaterial()}_ensureFillMaterial(){if(t(this._material))return;const e=i(this.symbolLayer,\"material\",\"color\"),r=this._getCombinedOpacityAndColor(e);this._material=G(this.symbolLayer,{color:r,transparent:r[3]<1||this.needsDrivenTransparentPass,polygonOffset:!1,hasVertexColors:!0,writeLinearDepth:!0,hasSlicePlane:this._context.slicePlaneEnabled},{isDraped:this.draped}),this._needsUV=this._material instanceof F,this._context.stage.add(this._material)}_ensureOutlineMaterial(){const e=this.symbolLayer.outline;if(t(this._outlineMaterial)||!this._isValidOutline(e))return;this._hasOutline=!0;const i=t=>{const i=V(e.pattern);return new I({width:t,color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:i,stippleScaleWithLineWidth:!0,cap:D(e.patternCap||\"butt\")})};this._outlineMaterial=i(o(e.size)),this._context.stage.add(this._outlineMaterial)}_isValidOutline(e){return t(e)&&e.size&&e.size>0&&t(e.color)&&(r(e.pattern)||\"style\"!==e.pattern.type||\"none\"!==e.pattern.style)}destroy(){super.destroy(),this._context.stage.remove(this._material),this._material=null,this._context.stage.remove(this._outlineMaterial),this._outlineMaterial=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,H,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t,new b);return this.ensureDrapedStatus(\"on-the-ground\"===r.mode),this._ensureMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}layerOpacityChanged(){if(t(this._material)){const e=this._material.parameters.color,t=i(this.symbolLayer,\"material\",\"color\"),r=this._getCombinedOpacity(t);this._material.setParameters({color:[e[0],e[1],e[2],r],transparent:r<1||this.needsDrivenTransparentPass})}if(t(this._outlineMaterial)){const e=this._outlineMaterial.parameters.color;this._outlineMaterial.setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}return!0}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,n=f(W.elevationModeChangeTypes,i,r);if(n!==g.UPDATE)return n;const o=x(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){if(t(this._material)&&this._material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t(this._outlineMaterial)){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._outlineMaterial.setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}pixelRatioChanged(){return!0}_createAs3DShape(e,t,i){const n=U(e.geometry);if(r(n))return null;z.renderData=P(n,this._context.elevationProvider,this._context.renderCoordsHelper,i),z.color=t;const o=z.renderData.position.length/3;if(this._needsUV&&(z.uvMapSpace=new Float32Array(4*o),z.boundingRect=new Float64Array(9*o)),z.outNum=0,z.outGeometries=[],z.outTransforms=[],z.outMaterials=[],this._createAs3DShapeFill(z),this._hasOutline&&this._createAs3DShapeOutline(z),this._logGeometryCreationWarnings(z.renderData,n.rings,\"rings\",\"FillSymbol3DLayer\"),0===z.outNum)return null;this._needsUV&&j(y.fromTypedArray(z.uvMapSpace),_.fromTypedArray(z.renderData.position),this._context.renderCoordsHelper,m.fromTypedArray(z.boundingRect));const a=new B({geometries:z.outGeometries,materials:z.outMaterials,transformations:z.outTransforms,castShadow:!1,metadata:{layerUid:this._context.layer.uid,graphicUid:e.uid}}),s=new M(this,a,z.outGeometries,null,null,T,i);return s.alignedSampledElevation=z.renderData.sampledElevation,s.needsElevationUpdates=x(i.mode),s}_createAs3DShapeFill(e){const i=e.renderData.polygons;for(const{position:r,mapPosition:o,holeIndices:l,index:u,count:d}of i){if(t(this._context.clippingExtent)&&(h(k),c(k,o),!p(k,this._context.clippingExtent)))continue;const i=a(o,l,3);if(0===i.length)continue;const m=new Uint32Array(i),_=C({indices:m,attributeData:{position:r,color:e.color,mapPosition:o,uvMapSpace:this._needsUV?new Float32Array(e.uvMapSpace.buffer,4*u*e.uvMapSpace.BYTES_PER_ELEMENT,4*d):null,boundingRect:this._needsUV?new Float64Array(e.boundingRect.buffer,9*u*e.boundingRect.BYTES_PER_ELEMENT,9*d):null}});e.outGeometries.push(_),e.outMaterials.push(n(this._material)),e.outTransforms.push(s),e.outNum++}}_createAs3DShapeOutline(e){if(!this._hasOutline)return;const i=e.renderData.outlines;for(let r=0;r<i.length;++r){const{mapPosition:o,position:a}=i[r];if(t(this._context.clippingExtent)&&(h(k),c(k,o),!p(k,this._context.clippingExtent)))continue;const l=S({overlayInfo:null,removeDuplicateStartEnd:A.REMOVE,attributeData:{position:a,mapPosition:o}}),u=l.vertexAttributes.get(N.POSITION);u.data===a&&(u.data=new Float64Array(a)),e.outGeometries.push(l),e.outMaterials.push(n(this._outlineMaterial)),e.outTransforms.push(s),e.outNum++}}_createAsOverlay(e,i){const o=U(e.geometry);if(r(o))return null;n(this._material).renderPriority=this._renderPriority+this._renderPriorityStep/2,t(this._outlineMaterial)&&(this._outlineMaterial.renderPriority=this._renderPriority),Y.renderData=w(o,this._context.overlaySR),Y.color=i;const a=Y.renderData.position.length/3;return this._needsUV&&(Y.uvMapSpace=new Float32Array(4*a)),Y.outNum=0,Y.outGeometries=[],Y.outBoundingBox=h(),Y.layerUid=this._context.layer.uid,Y.graphicsUid=e.uid,this._createAsOverlayFill(Y),this._hasOutline&&this._createAsOverlayOutline(Y),this._logGeometryCreationWarnings(Y.renderData,o.rings,\"rings\",\"FillSymbol3DLayer\"),0===Y.outNum?null:(this._needsUV&&R(y.fromTypedArray(Y.uvMapSpace),_.fromTypedArray(Y.renderData.position),this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode),Y.outNum>0?new v(this,Y.outGeometries,Y.outBoundingBox,this._context.drapeSourceRenderer):null)}_createAsOverlayFill(e){const t=e.renderData.polygons;for(const{position:i,holeIndices:r,index:o,count:s}of t){if(h(k),c(k,i),!p(k,this._context.clippingExtent))continue;const t=a(i,r,3);if(0===t.length)continue;d(e.outBoundingBox,k);const u=new Uint32Array(t),m=C({indices:u,attributeData:{position:i,color:e.color,uvMapSpace:this._needsUV?new Float32Array(e.uvMapSpace.buffer,4*o*e.uvMapSpace.BYTES_PER_ELEMENT,4*s):null}}),_=new L(m,n(this._material),{layerUid:e.layerUid,graphicUid:e.graphicsUid}),y=k;l(_.boundingSphere,.5*(y[0]+y[3]),.5*(y[1]+y[4]),0,.5*Math.sqrt((y[3]-y[0])*(y[3]-y[0])+(y[4]-y[1])*(y[4]-y[1]))),e.outGeometries.push(_),e.outNum++}}_createAsOverlayOutline(e){if(!this._hasOutline)return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if(h(k),c(k,r),!p(k,this._context.clippingExtent))continue;d(e.outBoundingBox,k);const o=S({overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:A.REMOVE,attributeData:{position:r}}),a=new L(o,n(this._outlineMaterial),{layerUid:e.layerUid,graphicUid:e.graphicsUid}),s=k;l(a.boundingSphere,.5*(s[0]+s[3]),.5*(s[1]+s[4]),0,.5*Math.sqrt((s[3]-s[0])*(s[3]-s[0])+(s[4]-s[1])*(s[4]-s[1]))),e.outGeometries.push(a),e.outNum++}}_getOutlineOpacity(){const e=i(this.symbolLayer,\"outline\",\"color\");return(this.draped?1:this._getLayerOpacity())*(t(e)?e.a:0)}_getOutlineColor(){const r=i(this.symbolLayer,\"outline\",\"color\"),n=this._getOutlineOpacity();return O(t(r)?e.toUnitRGB(r):null,n)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}W.elevationModeChangeTypes={definedChanged:g.RECREATE,staysOnTheGround:g.NONE,onTheGroundChanged:g.RECREATE};const k=u(),z={renderData:null,color:null,uvMapSpace:null,boundingRect:null,outNum:0,outBoundingBox:null,outGeometries:null,outMaterials:null,outTransforms:null},Y={renderData:null,color:null,uvMapSpace:null,outNum:0,outBoundingBox:null,outGeometries:null,outMaterials:null,outTransforms:null};export{W as Graphics3DPolygonFillSymbolLayer};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}