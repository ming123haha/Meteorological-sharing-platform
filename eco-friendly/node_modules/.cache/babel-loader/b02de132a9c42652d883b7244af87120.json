{"ast":null,"code":"import \"core-js/modules/es.regexp.flags.js\";\nimport \"core-js/modules/es.array.includes.js\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport \"../has.js\";\nimport t from \"../Logger.js\";\nimport { pathToArray as n, getProperties as e } from \"./utils.js\";\nimport { Flags as r } from \"./tracking/Flags.js\";\nconst o = {\n  onObservableAccessed: () => {},\n  onTrackingEnd: () => {}\n},\n      c = [];\nlet i = o;\n\nfunction s(t) {\n  i.onObservableAccessed(t);\n}\n\nlet l = !1,\n    a = !1;\n\nfunction f(t, n, e) {\n  if (l) return u(t, n, e);\n  p(t);\n  const r = n.call(e);\n  return d(), r;\n}\n\nfunction g(t, n) {\n  return f(o, t, n);\n}\n\nfunction u(n, e, r) {\n  const o = l;\n  l = !0, p(n);\n  let c = null;\n\n  try {\n    c = e.call(r);\n  } catch (i) {\n    a && t.getLogger(\"esri.core.accessorSupport.tracking\").error(i);\n  }\n\n  return d(), l = o, c;\n}\n\nfunction p(t) {\n  i = t, c.push(t);\n}\n\nfunction d() {\n  const t = c.length;\n\n  if (t > 1) {\n    const n = c.pop();\n    i = c[t - 2], n.onTrackingEnd();\n  } else if (1 === t) {\n    const t = c.pop();\n    i = o, t.onTrackingEnd();\n  } else i = o;\n}\n\nfunction m(t, n) {\n  if (n.flags & r.DepTrackingInitialized) return;\n  const e = a;\n  a = !1, n.flags & r.AutoTracked ? u(n, n.metadata.get, t) : y(t, n), a = e;\n}\n\nconst k = [];\n\nfunction y(t, e) {\n  e.flags & r.ExplicitlyTracking || (e.flags |= r.ExplicitlyTracking, u(e, () => {\n    const r = e.metadata.dependsOn || k;\n\n    for (const e of r) if (\"string\" != typeof e || e.includes(\".\")) {\n      const r = n(e);\n\n      for (let n = 0, e = t; n < r.length && null != e && \"object\" == typeof e; ++n) e = A(e, r[n], n !== r.length - 1);\n    } else A(t, e, !1);\n  }), e.flags &= ~r.ExplicitlyTracking);\n}\n\nfunction A(t, n, r) {\n  const o = \"?\" === n[n.length - 1] ? n.slice(0, -1) : n;\n\n  if (null != t.getItemAt || Array.isArray(t)) {\n    const n = parseInt(o, 10);\n    if (!isNaN(n)) return Array.isArray(t) ? t[n] : t.getItemAt(n);\n  }\n\n  const c = e(t)?.properties.get(o);\n  return c && (s(c), m(t, c)), r ? t[o] : void 0;\n}\n\nexport { m as initializeDependencyTracking, f as runTracked, u as runTrackedNoThrow, g as runUntracked, s as trackAccess, y as trackExplicitDependencies };","map":{"version":3,"names":["t","pathToArray","n","getProperties","e","Flags","r","o","onObservableAccessed","onTrackingEnd","c","i","s","l","a","f","u","p","call","d","g","getLogger","error","push","length","pop","m","flags","DepTrackingInitialized","AutoTracked","metadata","get","y","k","ExplicitlyTracking","dependsOn","includes","A","slice","getItemAt","Array","isArray","parseInt","isNaN","properties","initializeDependencyTracking","runTracked","runTrackedNoThrow","runUntracked","trackAccess","trackExplicitDependencies"],"sources":["E:/各个学科/论文/毕业论文/Atmosphere/eco-friendly/node_modules/@arcgis/core/core/accessorSupport/tracking.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../has.js\";import t from\"../Logger.js\";import{pathToArray as n,getProperties as e}from\"./utils.js\";import{Flags as r}from\"./tracking/Flags.js\";const o={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},c=[];let i=o;function s(t){i.onObservableAccessed(t)}let l=!1,a=!1;function f(t,n,e){if(l)return u(t,n,e);p(t);const r=n.call(e);return d(),r}function g(t,n){return f(o,t,n)}function u(n,e,r){const o=l;l=!0,p(n);let c=null;try{c=e.call(r)}catch(i){a&&t.getLogger(\"esri.core.accessorSupport.tracking\").error(i)}return d(),l=o,c}function p(t){i=t,c.push(t)}function d(){const t=c.length;if(t>1){const n=c.pop();i=c[t-2],n.onTrackingEnd()}else if(1===t){const t=c.pop();i=o,t.onTrackingEnd()}else i=o}function m(t,n){if(n.flags&r.DepTrackingInitialized)return;const e=a;a=!1,n.flags&r.AutoTracked?u(n,n.metadata.get,t):y(t,n),a=e}const k=[];function y(t,e){e.flags&r.ExplicitlyTracking||(e.flags|=r.ExplicitlyTracking,u(e,(()=>{const r=e.metadata.dependsOn||k;for(const e of r)if(\"string\"!=typeof e||e.includes(\".\")){const r=n(e);for(let n=0,e=t;n<r.length&&null!=e&&\"object\"==typeof e;++n)e=A(e,r[n],n!==r.length-1)}else A(t,e,!1)})),e.flags&=~r.ExplicitlyTracking)}function A(t,n,r){const o=\"?\"===n[n.length-1]?n.slice(0,-1):n;if(null!=t.getItemAt||Array.isArray(t)){const n=parseInt(o,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.getItemAt(n)}const c=e(t)?.properties.get(o);return c&&(s(c),m(t,c)),r?t[o]:void 0}export{m as initializeDependencyTracking,f as runTracked,u as runTrackedNoThrow,g as runUntracked,s as trackAccess,y as trackExplicitDependencies};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}