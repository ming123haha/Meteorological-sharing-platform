{"version":3,"file":"static/js/4301.73a07f3e.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/FeatureLayerView.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{isSome as r}from\"../../../core/maybe.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import s from\"../../../layers/support/Field.js\";class i{constructor(e){this._schedule=e,this._handle=new n(e)}destroy(){this._handle.destroy()}invoke(o,i){return o.buffer&&0!==o.buffer.byteLength?(o.options.sourceSpatialReference&&o.options.sourceSpatialReference instanceof t&&(o.options={...o.options,sourceSpatialReference:o.options.sourceSpatialReference.toJSON()}),this._handle.invoke(o,i).then((o=>this._schedule((()=>{if(o.spatialReference=t.fromJSON(o.spatialReference),o.fields)for(let e=0;e<o.fields.length;e++)o.fields[e]=s.fromJSON(o.fields[e]);const i=o.spatialReference;for(const t of o.features)t.uid=e.generateUID(),r(t.geometry)&&(t.geometry.spatialReference=i);return o}))))):Promise.resolve(null)}}class n extends o{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{i as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t,isSome as s,destroyMaybe as o}from\"../../../../core/maybe.js\";import{throwIfAborted as u,createAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as c,executeQuery as n}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as l}from\"../../support/PBFDecoder.js\";let d=class extends r{constructor(e){super(e)}get queryFeaturesDehydrated(){const e=this.layer.capabilities,r=e&&e.query;if(r&&r.supportsFormatPBF){t(this._decoder)&&(this._decoder=new l(this.schedule));const e={sourceSpatialReference:this.layer.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeLength:1024};return(r,t)=>c(this.layer.parsedUrl,r,\"pbf\",this._createRequestOptions(t)).then((r=>(u(t),s(this._decoder)?this._decoder.invoke({buffer:r.data,options:e},t.signal):Promise.reject(a()))))}return(e,r)=>n(this.layer.parsedUrl,e,this.layer.spatialReference,this._createRequestOptions(r)).then((e=>p(e.data)))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=o(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([y({constructOnly:!0})],d.prototype,\"layer\",void 0),e([y({constructOnly:!0})],d.prototype,\"schedule\",void 0),e([y({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],d);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([y({constructOnly:!0})],h.prototype,\"layer\",void 0),e([y({readOnly:!0})],h.prototype,\"queryFeaturesDehydrated\",null),h=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],h);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([y({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let f=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(p,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function q(e,r){return\"feature\"===e.type&&\"feature-layer\"===e.source.type?s(e.infoFor3D)?new h({layer:e}):new d({layer:e,schedule:r}):\"feature\"===e.type&&\"memory\"===e.source.type||\"csv\"===e.type||\"geojson\"===e.type||\"wfs\"===e.type?new f({layer:e,source:e.source}):\"ogc-feature\"===e.type?new m({layer:e}):null}e([y({constructOnly:!0})],f.prototype,\"layer\",void 0),e([y({constructOnly:!0})],f.prototype,\"source\",void 0),f=e([i(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],f);export{q as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,isSome as r}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as t}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as i}from\"./featureTileQuery3D.js\";class l{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this.layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this.returnZ=e.returnZ,this.returnM=e.returnM;const t=this.layerView.view.resourceController;this.query=i(r,(e=>t.schedule(e))),t&&this.memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get memoryCacheEnabled(){switch(this.layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this.layerView.layer.createQuery();return e.outFields=this.layerView.availableFields,e.returnZ=this.returnZ,e.returnM=this.returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this.layerView.view.state.viewingMode}get tilingScheme(){return this.layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this.layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this.layerView.layer.geometryType}get fullExtent(){return this.layerView.layer.fullExtent}get tileMaxRecordCount(){return this.layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this.layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return r(this._capabilities)||(this._capabilities=t(this.layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this.layerView.layer,r&&r.message?r.message:r)}}export{l as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{isSome as r,destroyMaybe as s,isNone as o}from\"../../../core/maybe.js\";import{watch as i,initial as a,when as l,syncAndInitial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as c}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as m}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLikeLayerView3D as h}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as d}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as F}from\"../webgl-engine/lib/basicInterfaces.js\";import b from\"../../layers/FeatureLayerView.js\";import x from\"../../layers/LayerView.js\";import M from\"../../layers/RefreshableLayerView.js\";let j=class extends(M(h(b(d(x))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this.suspendResumeExtentMode=\"data\"}initialize(){this.updatingHandles.add((()=>this.view.floors),(()=>r(this.processor.filterVisibility)&&this.processor.filterVisibility.filterChanged())),this.handles.add(i((()=>this._updatingRequiredFieldsPromise),(e=>this.updatingHandles.addPromise(e)),n))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this.fetcherContext=s(this.fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const t=this.controller.updatingRemaining,r=Math.max(this.controller.updatingTotal,this._controllerTotal);r>0&&(e=(r-t)/r,this._controllerTotal=r)}let t=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,r=Math.max(e,this._processorTotal);r>0&&(t=(r-e)/r,this._processorTotal=r)}return.5*(e+t)}get updatePolicy(){if(!this.controller)return F.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=v[this.layer.geometryType];return null==e||this.controller.serviceDataCount>e?F.ASYNC:F.SYNC}case\"tiles\":return F.ASYNC}}get hasZ(){const e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:t.supportsZ)}get hasM(){const e=this.layer,t=e.capabilities&&e.capabilities.data;return!(!t||!t.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,t){this.processor?.setObjectIdVisibility(e,t)}createQuery(){return super.createQuery()}queryFeatures(e,t){const r=()=>super.queryFeatures(e,t);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),r):r()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this.fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new m({layerView:this,context:this.fetcherContext,graphics:new f,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),a),this.handles.add(i((()=>this.suspended),(t=>{t?e.suspend():e.resume()}),n)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(t=>e.displayFeatureLimit=t),a),this.handles.add(l((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){e&&!this.suspended&&this.controller&&this.controller.refetch(),r(this.processor.filterVisibility)&&(this.processor.filterVisibility.dirty=!0)}getUsedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}getUnloadedMemory(){return(this.processor?.unprocessedMemoryEstimate??0)+(this.controller?.expectedFeatureDiff*this.processor?.usedMemoryPerFeature??0)}ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,t){await this._validateQueryFeaturesMesh(e);const r=await t();if(e&&e.outStatistics||o(this.graphics3DProcessor))return r;const s=this.layer.objectIdField,i=this.graphics3DProcessor.graphics3DGraphicsByObjectID,a=[];for(const o of r.features)if(o.geometry){const e=i.get(o.attributes[s]);e&&(o.geometry=c(e.graphic.geometry),a.push(o))}else a.push(o);return r.features=a,r}async _validateQueryFeaturesMesh(e){if(!e)return;const s=e=>{throw new t(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},o=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const t of o)null!=e[t]&&s(t);\"returnM\"in e&&e.returnM&&s(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&s(\"returnCentroid\"),r(e.outSpatialReference)&&!e.outSpatialReference.equals(this.view.spatialReference)&&s(\"outSpatialReference\")}get performanceInfo(){const e=this.controller?.displayFeatureLimit,t=r(e)&&e.averageSymbolComplexity,s=r(t)?`f:${t.primitivesPerFeature},v:${t.primitivesPerCoordinate}`:\"n/a\",o={...this._getResourceInfo(),storedFeatures:0,totalVertices:0,partial:this.maximumNumberOfFeaturesExceeded,mode:this.controller?.mode??\"n/a\",symbolComplexity:s,nodes:this.controller?.tileDescriptors.length??0};if(this.controller&&o.displayedNumberOfFeatures){const e=this.controller.debug;o.storedFeatures=e.storedFeatures,o.totalVertices=e.totalVertices}return o}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller,loadedGraphics:this.controller?.graphics}}};e([u()],j.prototype,\"layer\",void 0),e([u()],j.prototype,\"controller\",void 0),e([u()],j.prototype,\"_controllerTotal\",void 0),e([u()],j.prototype,\"_processorTotal\",void 0),e([u()],j.prototype,\"maximumNumberOfFeatures\",null),e([u()],j.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([u(g)],j.prototype,\"updatingProgress\",void 0),e([u({readOnly:!0})],j.prototype,\"updatingProgressValue\",null),e([u({readOnly:!0})],j.prototype,\"updatePolicy\",null),e([u({readOnly:!0})],j.prototype,\"hasZ\",null),e([u({readOnly:!0})],j.prototype,\"hasM\",null),e([u()],j.prototype,\"suspendResumeExtentMode\",void 0),j=e([p(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],j);const v={point:5e3,polygon:500,polyline:1e3},w=j;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import r from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../core/maybe.js\";import{eachAlways as n}from\"../../core/promiseUtils.js\";import{watch as a,syncAndInitial as l,on as u}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as d}from\"../../layers/support/commonProperties.js\";import c from\"../../layers/support/FeatureEffect.js\";import m from\"../../layers/support/FeatureFilter.js\";import{fixFields as h,unpackFieldNames as y,collectLabelingFields as F,collectElevationFields as g,collectFilterFields as w,collectFeatureReductionFields as E,collectOrderByInfos as b,collectFields as x,collectField as v,featureHasFields as j}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as R}from\"../../layers/support/floorFilterUtils.js\";import I from\"../../rest/support/Query.js\";import{loadArcade as q}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as _,getRequiredFields as P}from\"./support/popupUtils.js\";const O=i.getLogger(\"esri.views.layers.FeatureLayerView\"),A=i=>{let A=class extends i{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.handles.add([a((()=>{const e=this.layer;return[e?.elevationInfo?.featureExpressionInfo,e?.displayField,e?.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),l),u((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),u((()=>{const e=this.layer;return e&&\"sublayers\"in e&&e.sublayers}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?h(t,[...y(t,e.outFields),...r]):h(t,r)}set effect(e){t(O,\"effect\",{replacement:\"featureEffect\",version:\"4.22\"}),this.featureEffect=e}get effect(){return t(O,\"effect\",{replacement:\"featureEffect\",version:\"4.22\"}),this.featureEffect}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){void 0!==e?this._override(\"featureEffect\",e):this._clearOverride(\"featureEffect\")}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){O.error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=s(this.filter)?this.filter.createQuery(e):new I(e);if(\"feature\"===this.layer.type){const e=R(this);s(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return s(this.timeExtent)&&(t.timeExtent=s(t.timeExtent)?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){if(e.get(\"expressionInfos.length\")||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type)))return q()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:i}}=this,o=\"renderer\"in t&&t.renderer,a=\"orderBy\"in t&&t.orderBy,l=t.featureReduction,u=new Set,p=await n([o?o.collectRequiredFields(u,r):null,F(u,t),e?g(u,t):null,s(this.filter)?w(u,t,this.filter):null,s(this.featureEffect)?w(u,t,this.featureEffect.filter):null,l?E(u,t,l):null,a?b(u,t,a):null]);if(t.timeInfo&&this.timeExtent&&x(u,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"feature\"===t.type&&t.floorInfo&&x(u,t.fieldsIndex,[t.floorInfo.floorField]),\"subtype-group\"===t.type){v(u,r,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(u,r),F(u,e)])));await n(e)}for(const s of p)s.error&&O.error(s.error);v(u,r,i),e&&\"displayField\"in t&&t.displayField&&v(u,r,t.displayField);const f=Array.from(u).sort();this._set(\"requiredFields\",f)}validateFetchPopupFeatures(e){if(o(e))return null;for(const t of e.clientGraphics){const i=t.layer;if(\"popupEnabled\"in i&&!i.popupEnabled)return new r(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i});if(t.isAggregate){if(!(i.featureReduction&&\"popupTemplate\"in i.featureReduction&&i.featureReduction.popupEnabled&&i.featureReduction.popupTemplate))return new r(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i})}else if(\"popupTemplate\"in i){if(!_(i,e))return new r(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:i})}}}async fetchClientPopupFeatures(e){const t=s(e)?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,n=await this.createPopupQuery(e);for(let s=0;s<t.length;s++){const a=t[s];if(a.isAggregate){r[s]=a;continue}const{layer:l}=a;if(!(\"popupEnabled\"in l))continue;const u=y(this.layer.fieldsIndex,n.outFields),p=_(l,e);if(o(p))continue;const f=await this._loadArcadeModules(p);f&&f.arcadeUtils.hasGeometryOperations(p)||!j(u,a)?i.set(a.getObjectId(),s):r[s]=a}if(\"stream\"===this.layer.type||0===i.size)return r.filter(Boolean);n.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(n);for(const t of e.features){r[i.get(t.getObjectId())]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const n=s(e)&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const s of n){if(!(\"popupEnabled\"in s))continue;const t=_(s,e);if(o(t))continue;const n=await this._loadArcadeModules(t),a=n&&n.arcadeUtils.hasGeometryOperations(t);i=!(\"point\"!==this.layer.geometryType&&!a);const l=await P(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,\"feature\"===this.layer.type){const e=R(this);s(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(!s(this.timeExtent)||!this.timeExtent.isEmpty)}};return e([p()],A.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([p({readOnly:!0})],A.prototype,\"availableFields\",null),e([p()],A.prototype,\"effect\",null),e([p({type:c})],A.prototype,\"featureEffect\",null),e([p({type:m})],A.prototype,\"filter\",void 0),e([p(d)],A.prototype,\"timeExtent\",void 0),e([p()],A.prototype,\"layer\",void 0),e([p({type:Number})],A.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0,type:Boolean})],A.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p({readOnly:!0})],A.prototype,\"requiredFields\",void 0),e([p()],A.prototype,\"suspended\",void 0),e([p()],A.prototype,\"view\",void 0),A=e([f(\"esri.views.layers.FeatureLayerView\")],A),A};export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n"],"names":["i","constructor","e","this","_schedule","_handle","n","destroy","invoke","o","buffer","byteLength","options","sourceSpatialReference","t","toJSON","then","spatialReference","fields","length","s","features","uid","r","geometry","Promise","resolve","super","_parseFeatureQuery","d","queryFeaturesDehydrated","layer","capabilities","query","supportsFormatPBF","_decoder","l","schedule","applyTransform","maxStringAttributeLength","c","parsedUrl","_createRequestOptions","u","data","signal","reject","a","p","queryFeatureCount","customParameters","token","apiKey","y","constructOnly","prototype","readOnly","h","queryFeatures","m","f","source","queryFeaturesJSON","name","q","type","infoFor3D","_memoryCache","_capabilities","layerView","objectIdField","globalIdField","returnZ","returnM","view","resourceController","memoryCacheEnabled","memoryController","newCache","createQuery","outFields","availableFields","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","logFetchError","error","message","j","M","b","x","_controllerTotal","_processorTotal","suspendResumeExtentMode","initialize","updatingHandles","add","floors","processor","filterVisibility","filterChanged","handles","_updatingRequiredFieldsPromise","addPromise","removeAll","fetcherContext","maximumNumberOfFeatures","controller","_get","_set","maximumNumberOfFeaturesExceeded","suspended","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","updatePolicy","F","mode","v","serviceDataCount","hasZ","supportsZ","hasM","supportsM","setVisibility","setObjectIdVisibility","_queryFeaturesMesh","_ensureQuery","beforeSetController","createController","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","displayFeatureLimit","refetch","dirty","getUsedMemory","usedMemory","memoryForUnusedFeatures","getUnloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","_validateQueryFeaturesMesh","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","get","attributes","graphic","push","returnCentroid","equals","performanceInfo","averageSymbolComplexity","primitivesPerFeature","primitivesPerCoordinate","_getResourceInfo","storedFeatures","totalVertices","partial","symbolComplexity","nodes","tileDescriptors","displayedNumberOfFeatures","debug","test","loadedGraphics","g","point","polygon","polyline","w","O","A","filter","timeExtent","requiredFields","elevationInfo","featureExpressionInfo","displayField","timeInfo","renderer","labelingInfo","floorInfo","featureEffect","_handleRequiredFieldsChange","sublayers","fieldsIndex","effect","replacement","version","_override","_clearOverride","highlight","Error","returnGeometry","I","R","where","intersection","clone","queryObjectIds","queryExtent","validateFetchPopupFeatures","fetchClientPopupFeatures","_loadArcadeModules","Array","isArray","content","some","_updateRequiredFields","orderBy","featureReduction","Set","collectRequiredFields","E","startField","endField","floorField","subtypeField","map","all","from","sort","clientGraphics","popupEnabled","isAggregate","popupTemplate","_","Map","createPopupQuery","arcadeUtils","hasGeometryOperations","set","getObjectId","size","Boolean","objectIds","keys","P","canResume","isEmpty","Number","doRefresh","dataChanged","catch","declaredClass","async","getRequiredFields","lastEditInfoEnabled","typeIdField","relationships","includes","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}