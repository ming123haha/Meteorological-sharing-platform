{"version":3,"file":"static/js/9257.11679859.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/layers/MapNotesLayerView2D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"./WGLContainer.js\";import{TextureSamplingMode as t}from\"../../../webgl/enums.js\";class r extends e{constructor(){super(...arguments),this.requiresDedicatedFBO=!1}dispose(){}doRender(e){const r=this.createRenderParams(e),{context:s,painter:o,profiler:n}=r;this._prevFBO=s.getBoundFramebufferObject(),n.recordContainerStart(this.name);const i=this._getFbo(r),a=o.getRenderTarget();s.bindFramebuffer(i),o.setRenderTarget(i),s.setDepthWriteEnabled(!0),s.setColorMask(!0,!0,!0,!0),s.setClearColor(0,0,0,0),s.setClearDepth(1),s.clear(s.gl.COLOR_BUFFER_BIT|s.gl.DEPTH_BUFFER_BIT),s.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(r);for(const t of this.children)t.afterRender(e);o.setRenderTarget(a),o.releaseFbo(i),s.bindFramebuffer(this._prevFBO),o.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),s.setStencilTestEnabled(!1),s.setStencilWriteMask(0),o.blitTexture(s,i.colorTexture,t.NEAREST),o.compositeLayer(r,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:s,height:o}=t.getViewport();return r.acquireFbo(s,o)}}export{r as GroupContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import{isSome as t,isNone as r}from\"../../../core/maybe.js\";import{watch as h,on as a,initial as o}from\"../../../core/reactiveUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as p}from\"../engine/Container.js\";import{GroupContainer as c}from\"../engine/webgl/GroupContainer.js\";import{LayerView2DMixin as l}from\"./LayerView2D.js\";import g from\"./graphics/GraphicContainer.js\";import d from\"./graphics/GraphicsView2D.js\";import u from\"../../layers/LayerView.js\";const f=\"sublayers\",m=\"layerView\",w=Object.freeze({remove(){},pause(){},resume(){}});let y=class extends(l(u)){constructor(){super(...arguments),this._highlightIds=new Map,this.container=new c}async fetchPopupFeatures(e){return Array.from(this.graphicsViews(),(i=>i.hitTest(e).filter((e=>!!e.popupTemplate)))).flat()}*graphicsViews(){t(this._graphicsViewsFeatureCollectionMap)?yield*this._graphicsViewsFeatureCollectionMap.keys():t(this._graphicsViews)?yield*this._graphicsViews:yield*[]}async hitTest(e,i){return Array.from(this.graphicsViews(),(i=>{const s=i.hitTest(e);if(t(this._graphicsViewsFeatureCollectionMap)){const e=this._graphicsViewsFeatureCollectionMap.get(i);for(const i of s)!i.popupTemplate&&e.popupTemplate&&(i.popupTemplate=e.popupTemplate)}return s})).flat().map((i=>({type:\"graphic\",graphic:i,layer:this.layer,mapPoint:e})))}highlight(e){let t;return\"number\"==typeof e?t=[e]:e instanceof i?t=[e.uid]:Array.isArray(e)&&e.length>0?t=\"number\"==typeof e[0]?e:e.map((e=>e&&e.uid)):s.isCollection(e)&&(t=e.map((e=>e&&e.uid)).toArray()),t=t.filter((e=>null!=e)),t.length?(this._addHighlight(t),{remove:()=>{this._removeHighlight(t)}}):w}update(e){for(const i of this.graphicsViews())i.processUpdate(e)}attach(){const e=this.view,i=()=>this.requestUpdate(),s=this.layer.featureCollections;if(t(s)&&s.length){this._graphicsViewsFeatureCollectionMap=new Map;for(const t of s){const s=new g(this.view.featuresTilingScheme);s.fadeTransitionEnabled=!0;const r=new d({view:e,graphics:t.source,renderer:t.renderer,requestUpdateCallback:i,container:s});this._graphicsViewsFeatureCollectionMap.set(r,t),this.container.addChild(r.container),this.handles.add([h((()=>t.visible),(e=>r.container.visible=e),o),h((()=>r.updating),(()=>this.notifyChange(\"updating\")),o)],m)}this._updateHighlight()}else t(this.layer.sublayers)&&this.handles.add(a((()=>this.layer.sublayers),\"change\",(()=>this._createGraphicsViews()),{onListenerAdd:()=>this._createGraphicsViews(),onListenerRemove:()=>this._destroyGraphicsViews()}),f)}detach(){this._destroyGraphicsViews(),this.handles.remove(f)}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews())e.viewChange()}isUpdating(){for(const e of this.graphicsViews())if(e.updating)return!0;return!1}_destroyGraphicsViews(){this.container.removeAllChildren(),this.handles.remove(m);for(const e of this.graphicsViews())e.destroy();this._graphicsViews=null,this._graphicsViewsFeatureCollectionMap=null}_createGraphicsViews(){if(this._destroyGraphicsViews(),r(this.layer.sublayers))return;const e=[],i=this.view,s=()=>this.requestUpdate();for(const t of this.layer.sublayers){const r=new p,a=new g(this.view.featuresTilingScheme);a.fadeTransitionEnabled=!0;const n=new d({view:i,graphics:t.graphics,requestUpdateCallback:s,container:a});this.handles.add([t.on(\"graphic-update\",n.graphicUpdateHandler),h((()=>t.visible),(e=>n.container.visible=e),o),h((()=>n.updating),(()=>this.notifyChange(\"updating\")),o)],m),r.addChild(n.container),this.container.addChild(r),e.push(n)}this._graphicsViews=e,this._updateHighlight()}_addHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i);this._highlightIds.set(i,e+1)}else this._highlightIds.set(i,1);this._updateHighlight()}_removeHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i)-1;0===e?this._highlightIds.delete(i):this._highlightIds.set(i,e)}this._updateHighlight()}_updateHighlight(){const e=Array.from(this._highlightIds.keys());for(const i of this.graphicsViews())i.setHighlight(e)}};y=e([n(\"esri.views.2d.layers.MapNotesLayerView2D\")],y);const _=y;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.bindTextures(r.context,!1),this.children.some((e=>e.hasData))&&(super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n"],"names":["r","e","constructor","super","arguments","this","requiresDedicatedFBO","dispose","doRender","createRenderParams","context","s","painter","o","profiler","n","_prevFBO","getBoundFramebufferObject","recordContainerStart","name","i","_getFbo","a","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","t","children","beforeRender","processRender","afterRender","releaseFbo","beforeRenderLayer","_clippingInfos","computedOpacity","setStencilTestEnabled","setStencilWriteMask","blitTexture","colorTexture","compositeLayer","recordContainerEnd","blendMode","effects","computedEffects","globalOpacity","width","height","getViewport","acquireFbo","f","m","w","Object","freeze","remove","pause","resume","y","l","u","_highlightIds","Map","container","c","Array","from","graphicsViews","hitTest","filter","popupTemplate","flat","_graphicsViewsFeatureCollectionMap","keys","_graphicsViews","get","map","type","graphic","layer","mapPoint","highlight","uid","isArray","length","toArray","_addHighlight","_removeHighlight","update","processUpdate","attach","view","requestUpdate","featureCollections","g","featuresTilingScheme","fadeTransitionEnabled","d","graphics","source","renderer","requestUpdateCallback","set","addChild","handles","add","h","visible","updating","notifyChange","_updateHighlight","sublayers","_createGraphicsViews","onListenerAdd","onListenerRemove","_destroyGraphicsViews","detach","moveStart","moveEnd","viewChange","isUpdating","removeAllChildren","destroy","p","on","graphicUpdateHandler","push","has","delete","setHighlight","_","renderChildren","attributeView","bindTextures","some","hasData","drawPhase","_renderChildren","hasHighlight","_renderHighlight","_boundsRenderer","bind","defines","draw","unbind"],"sourceRoot":""}