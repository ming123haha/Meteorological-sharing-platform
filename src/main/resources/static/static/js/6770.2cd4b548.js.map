{"version":3,"file":"static/js/6770.2cd4b548.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","webpack://eco-friendly/./node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","webpack://eco-friendly/./node_modules/@arcgis/core/layers/support/featureQueryAll.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/i3s/enums.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/support/I3SLayerView.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/support/GraphicsMap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this._sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}_sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this._sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this._sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{l as r}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{LodMetric as a,NodeBase as d,Node as l,ElevationRange as h,NodeFilterImpact as u,NodeIMModificationImpact as c,NodeTraversalState as g}from\"./I3SNode.js\";import{addWraparound as m,invalidateMbs as _,invalidateObb as f}from\"./I3SUtil.js\";import{clone as v}from\"../../support/orientedBoundingBox.js\";class b{constructor(e,t,i,s,n){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=n,this.useAsHole=0,this.filterImpact=u.NotChecked}}class p{constructor(e,t,i,n,r,o,d,l,h,u,c,g,m,_){this.streamDataController=i,this.viewportQueries=n,this.logger=r,this.holeFilling=o,this._isLoaded=d,this._isReloading=l,this._isSelected=h,this._enable=u,this._needsUpdate=c,this._canRequest=g,this._computeVisibilityObb=m,this._computeNodeFiltering=_,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=a.None,this._lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=I(0),this._visibilityCacheVersion=I(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new N(this._missing),this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this._pageQueue=[],this.needNodeElevationRange=!1,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this._init(t)}_init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=a.MaxScreenThreshold;break;case\"maxScreenThresholdSQ\":this.lodMetric=a.MaxScreenThreshold,this._lodConversion=V}this._addPage(S(this.rootIndex,this.nodesPerPage),e.rootPage),this._updateParentsAndLevel()}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this._makeRefNode(new d(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this._addNode(t,0)}}_loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._pageQueue.push({pageIndex:e,page:t})})).catch((t=>{this._loading.delete(e),n(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}_addQueuedPages(e){for(;this._pageQueue.length>0&&!e.done;){const{pageIndex:t,page:i}=this._pageQueue.shift();this._addPage(t,i),this._loading.delete(t),e.madeProgress()}this._updateParentsAndLevel()}_addPage(e,t){for(let r=this._nodePages.length;r<e;r++)this._nodePages[r]=null;const i=[],s=[],n=t.nodes.map(((t,n)=>{const a=i.length,d=t.children?t.children.length:0;s.push(-1);for(let e=0;e<d;e++)i.push(t.children[e]);const h=`${t.index}`,u=v(t.obb),c=o([u.center[0],u.center[1],u.center[2],r(u.halfSize)]),g=t.mesh&&t.mesh.attribute,m=t.mesh&&t.mesh.geometry,_=t.mesh&&t.mesh.material,f={hasSharedResource:!1,hasFeatureData:!!m,attributes:g&&null!=g.resource?`${g.resource}`:null,geometry:m&&null!=m.resource?`${m.resource}`:null,texture:_&&null!=_.resource?`${_.resource}`:null,geometryDefinition:m?m.definition:-1,materialDefinition:_?_.definition:-1},p=new l(h,e*this.nodesPerPage+n,c,d,0,f,this.lastUpdate,this.lodMetric,this._lodConversion(t.lodThreshold),m?m.featureCount:null);return p.serviceObb=u,p.visibilityObb=this._computeVisibilityObb(p),p.vertexCount=m?m.vertexCount:0,new b(a,d,x(this._visibilityCacheVersion),null,p)}));this._nodePages[e]={nodes:n,children:i,parents:s},this.nodeCount+=n.length}_updateParentsAndLevel(){const t=new Array,i=(i,s,n)=>{const r=this._getPage(i);if(e(r)){const o=L(i,this.nodesPerPage);r.parents[o]=s;const a=r.nodes[o].node;e(a)&&(a.level=n,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),n=this.getNode(s);if(e(n))for(let e=0;e<n.childCount;e++){i(this.getChildIndex(n.index,e),s,n.level+1),this._maxLevel=Math.max(this._maxLevel,n.level+1)}}}_getPage(e){return this._nodePages[S(e,this.nodesPerPage)]}_getNodeInternal(e){const i=this._getPage(e);return t(i)?null:i.nodes[L(e,this.nodesPerPage)]}_addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const n=this.getParent(s),r=e(n)?n.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?r+1:r);const{lodMetric:a,maxError:d}=E(t.lodSelection),h=i(this._getNodeInternal(s));return h.node=new l(t.id,s,o(t.mbs),h.childCount,r,t.resources,t.version,a,d,t.numFeatures),t.obb&&(h.node.serviceObb=v(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}_makeRefNode(e,t){const i=this._nodePages[0],s=i.nodes.length;return i.nodes.push(new b(0,0,x(this._visibilityCacheVersion),e,null)),this.nodeCount++,i.parents.push(t),_(e.renderMbs),f(e.serviceObbInRenderSR),s}populateChildren(e,t){const s=i(this._getNodeInternal(e)),n=i(this._getPage(e));s.childOffset=n.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this._makeRefNode(t[i],e);n.children.push(s)}}getNode(t){const i=this._getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this._forAllNodes(((s,n)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=n)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this._getPage(e);if(t(s))return-1;const n=s.nodes[L(e,this.nodesPerPage)];return s.children[n.childOffset+i]}getParentIndex(t){const i=this._getPage(t);return e(i)?i.parents[L(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this._getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}removeAllGeometryObbs(){this._forAllNodes((t=>{e(t.node)&&(t.node.geometryObb=null)}))}invalidateVisibilityCache(){this._visibilityCacheVersion=I(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this._getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=x(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this._getNodeInternal(t);e(i)&&(P(i),this.invalidateNodeVisibilityCacheInternal(i))}updateElevationChanged(i){const s=this._getNodeInternal(i);if(t(s))return;if(!this.needNodeElevationRange)return void this.invalidateBoundingVolumeCache(i);const n=e(s.node)?s.node:s.ref;if(t(n))return;const r=n.elevationRange;t(r)||(r.valid=!1)}invalidateGeometryVisibility(t){const i=this._getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,_(i.node.renderMbs),f(i.node.serviceObbInRenderSR))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}_updateElevationRange(i){const s=this._getNodeInternal(i);if(t(s))return null;const n=e(s.node)?s.node:s.ref;if(t(n))return null;const r=n.elevationRange;if(e(r)&&r.valid)return r;const o=new h;let a=!1;for(let e=0;e<s.childCount;e++){const s=this._updateElevationRange(this.getChildIndex(i,e));t(s)?a=!0:(o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max))}if(0===s.childCount||a&&e(s.node)&&s.node.resources.geometry){const t=this.viewportQueries.getElevationRange(n);e(t)&&(o.min=Math.min(o.min,t.min),o.max=Math.max(o.max,t.max))}return e(r)&&r.min===o.min&&r.max===o.max?(r.valid=!0,r):(o.valid=!0,n.elevationRange=o,this.invalidateBoundingVolumeCache(i),o)}isNodeVisible(i){const s=this._getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(this.needNodeElevationRange&&this._updateElevationRange(i),!w(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,n=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&s.filterImpact===u.NotChecked){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):u.Unmodified}const r=e(i)&&s.filterImpact===u.Culled,o=!(e(i)&&i.imModificationImpact===c.Culled)&&(!n||this.viewportQueries.isNodeVisible(n))&&!r;return s.visibilityCache=C(o,this._visibilityCacheVersion),o}return M(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this._getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||i.node.imModificationImpact!==c.NotChecked))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,n,r,o,a){const d=this._getPage(s);if(t(d)||0===n.childCount)return;const l=n.childOffset+n.childCount,h=new Array;for(let t=n.childOffset;t<l;++t){const i=d.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,r),a.coverage+=o):this._traverseCoverage(t,e,r+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this._getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(w(i.useAsHole,this._version))return M(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const n=s.delta*s.coverage<=.5;return i.useAsHole=C(n,this._version),n}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=I(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this._forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=c.NotChecked,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this._forAllNodes((t=>{if(e(t)){t.filterImpact=u.NotChecked;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,n,r){if(!this._dirty)return;this._pageQueue.length>0&&this._addQueuedPages(n),this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s),y.clear();let o=!0;const a=new O,d=new O,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,g,m)=>{if(t(g)){let e=this._entryPriority(u);e===1/0&&(e=this._entryPriority(m));const t=S(u,this.nodesPerPage);return y.set(t,Math.max(e,y.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=g.node;if(this._updateNodeFeatureEstimate(_,d),t(_)){const e=this._entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),y.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=i(this._getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<g.childCount;t++){const i=f.children[g.childOffset+t],s=this._getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(y.set(i,this._entryPriority(i)),this._prefetch.push(i))}if(_.failed||!_.resources.hasFeatureData)return void(o&&g.childCount>0&&this._isSelected(_)&&(o=!1));if(h.add(_.id),this._isLoaded(u)){if(a.known+=_.memory,++a.knownNodes,this._isSelected(_)?g.childCount>0&&(o=!1):(a.unremoved+=_.memory,o=!1),this._needsUpdate(_)){const e=this._entryPriority(u);y.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(_.memory&&(a.known+=_.memory,++a.knownNodes),!this._isSelected(_))return void(this._isReloading(u)&&this._updates.remove.push(u));if(g.childCount>0&&(o=!1),_.memory?(a.missing+=_.memory,a.known+=_.memory,++a.knownNodes):++a.missingNodes,s.includes(_.index))return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this._entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==_.index)));if(!n.done&&this._enable(_))return void n.madeProgress();const v=this._entryPriority(u);y.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&r&&e(_)&&_.imModificationImpact===c.NotChecked&&l.push(u)};this.traverseVisible(u);const g=this._updates.add;g.length>0&&this.layerHasModifications&&(l.length>0&&r(l),g.filterInPlace((e=>{const i=this._getNodeInternal(e),s=t(i)||t(i.node)||i.node.imModificationImpact!==c.Culled;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>y.get(e)-y.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=y.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>y.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>y.get(e)-y.get(t))),this._updates.update.sort(((e,t)=>y.get(e)-y.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,y.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,n=t,r=i,o=10;for(;o--;){const i=new O;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;r=s,s=.5*(s+n)}else n=s,s=.5*(s+r)}return this._version=I(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=I(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>y.get(e)-y.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this._loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&w(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),n=this.viewportQueries.hasLOD(e);let r=!0;if(n){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);r=e&&s>e.lodLevel}else r=s>0}else r=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=r,i.version=C(!0,this._version),i):(i=new g(n,r,s,C(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this._getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const r=s.id,o=this.urlPrefix+r,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(r,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this._addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),n(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,n=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,n=new d(`${t.id}`,t.mbs);return n.serviceObb=s,n.visibilityObb=this._computeVisibilityObb(n),n},r=Array.isArray(t.children)?t.children.map(n).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:r,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this._forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}_entryPriority(i){const s=this._getNodeInternal(i),n=this.getParentIndex(i);if(t(s)||n<0&&null==s.node)return n<0?1/0:this._entryPriority(n);let r=0;if(s.node&&n>=0){const e=this._nodeTraversalState.get(n);null!=e&&(r=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-r*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this._getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,n,r){if(n.node&&0===n.childCount)return void(this.isGeometryVisible(t)&&r(t,n,s));if(!this.isNodeVisible(t))return;if(r(t,n,s),null==n.node)return;const o=this.nodeTraversalState(n.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this._getPage(t));for(let i=0;i<n.childCount;i++){const s=a.children[n.childOffset+i],o=this._getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,r):r(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,n=this._getNodeInternal(s);e(n)&&this._traverseChildren(s,n,i)}_traverseChildren(i,s,n){const r=this._getPage(i);if(t(r))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=r.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&n(s.node)&&this._traverseChildren(i,s,n)}}updateChildrenLoaded(t,i){let s=this.getNode(t);for(;e(s);)s.childrenLoaded+=i,s=this.getParent(s.index)}checkChildrenLoadedInvariant(){if(t(this.rootNode))return!0;const e=[],i=t=>{let s=this._isLoaded(t.index)||this._isReloading(t.index)?1:0;return this.traverseChildren(t,(e=>(s+=i(e),!1))),t.childrenLoaded!==s&&e.push(t.index),s};return i(this.rootNode),e.length&&this.logger.error(\"childrenLoaded invariant broken at following nodes: \"+e.join(\",\")),e.length>0}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(t,i){this.needNodeElevationRange=i&&t&&(\"relative-to-ground\"===t.mode||\"on-the-ground\"===t.mode),this._forAllNodes((t=>{P(t),e(t.node)&&(t.node.elevationRange=null),e(t.ref)&&(t.ref.elevationRange=null)})),this.viewportQueries.updateElevationInfo(t)}_forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this._addNode(e,t)}}}const y=new Map;class N{constructor(e){this.missing=e,this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e){this.add.clear(),this.update.clear(),this.cancel=e}}function P(t){e(t.node)&&(_(t.node.renderMbs),f(t.node.serviceObbInRenderSR)),e(t.ref)&&(_(t.ref.renderMbs),f(t.ref.serviceObbInRenderSR))}function x(e){return m(e,-2)}function I(e){return m(e,2)}function C(e,t){return t+(e?1:0)}function w(e,t){return(-2&e)===t}function M(e){return 1==(1&e)}function S(e,t){return 0===t?0:e/t|0}function L(e,t){return 0===t?e:e%t}const R=[[\"maxScreenThreshold\",a.MaxScreenThreshold],[\"screenSpaceRelative\",a.ScreenSpaceRelative],[\"removedFeatureDiameter\",a.RemovedFeatureDiameter],[\"distanceRangeFromDefaultCamera\",a.DistanceRangeFromDefaultCamera]];function E(e){if(e)for(let t=0;t<e.length;t++)for(const i of R)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:a.None,maxError:0}}class O{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function V(e){return Math.sqrt(e*(4/Math.PI))}export{p as I3SIndex,E as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{NodeState as s}from\"./I3SNode.js\";import{FadeDirection as d}from\"../support/I3SLayerView.js\";class t{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this._isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));r.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1,this.layerView.nodeCrossfadingEnabled);const s=r.length;this._removeNodes(r,e);const d=r.length<s;return 0!==r.length&&(this._lodGlobalDirty=!0),r.clear(),d}_lodGlobalHandling(o,t,l,n){if(e(o))return!1;const a=o.index,h=this._index,u=this.layerView,c=h.nodeTraversalState(o),_=this._isChosenMaxLOD(c),x=!o.resources.hasFeatureData;if(_&&x)return o.childrenLoaded>0&&this._removeChildrenRecursive(o),!0;const L=u.isNodeLoaded(a);if(n&&L&&_){const e=!l&&this.hasNoVisibleChildren(o);u.fadeNode(a,d.FadeIn,!e)}const N=L&&(!u.isNodeFullyFadedIn||u.isNodeFullyFadedIn(a));if(L&&(u.updateNodeState(a,_?s.Leaf:s.Hole),_))return N&&this._removeChildrenRecursive(o),N;const m=o.childCount>0;let y=m;if(m)for(let e=0;e<o.childCount;e++){const o=h.getChildIndex(a,e),s=h.getNode(o);if(i(s)){!(!h.isGeometryVisible(o)||this._lodGlobalHandling(s,t,l||N,n))&&this._isNodeInScaleBounds(s)&&(y=!1)}else h.isNodeVisible(o)&&(y=!1)}const b=L&&!_&&(y||r.length<t);b&&r.push(a),!n||b||!L||l||y||u.fadeNode(a,d.FadeIn,!1);const f=!o.resources.hasFeatureData;return y||N&&!b||f}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&r.push(e.index),e.childrenLoaded>0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(this.layerView.isNodeLoaded(e.index)?(i=!1,!1):e.childrenLoaded>0))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this._isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),this.layerView.isNodeLoaded(e.index)?(o=!1,!1):e.childrenLoaded>0})),o&&i}_isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const r=new o({deallocator:null});export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{TextureEncoding as l}from\"./enums.js\";import{readBinaryAttribute as f,createGeometryDescriptor as d}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as c,getMaterialAndTexturesFromShared as m,selectEncoding as h}from\"./I3SMaterialUtil.js\";class g{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>c(t,e)))}}_load(e,t,r){return this.streamDataController.request(e,t,r)}_loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this._load(i,\"binary\",r).then((e=>f(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this._loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=x(this.geometryDefinitions,r),l=!!r.resources.geometry,f=l?e(this._loadGeometry(r.resources.geometry,u,i)):null,c=r.resources.hasSharedResource?await this._loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=c?m(c):null,g=h&&h.material,A=h&&h.textures,_=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this._loadFeatureData(_,i):null,$=w?b(T):y(g),j=o($)&&D(T),I=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let U=null,S=null;if(f){U=t(await f);const e=p(this.defaultGeometrySchema,c);S=d(a,e)}const q=I?t(await I):null,v=s?t(await s):{},B=v?{attributeData:v,loadedAttributes:this.requiredAttributes}:null;if(n($))return{geometryData:$,attributeDataInfo:B,geometryBuffer:U,geometryDescriptor:S,requiredTextures:A,textureData:q};if(n(j))return{pointData:j,attributeDataInfo:B,geometryBuffer:U,geometryDescriptor:S,requiredTextures:A,textureData:q};throw new Error}static _addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static _fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}_loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this._load(r,\"json\",t).then((e=>(g._fixTextureEncodings(e),g._addAbsoluteHrefTexture(e,r),e)))}_loadTexture(e,t,r,i,o,n){let s=!1;return o===l.DDS_S3TC||o===l.KTX2||o===l.Basis?this._load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this._load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=h(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this._loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}_loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this._load(r,\"json\",t)}_loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this._load(i,\"binary\",r)}}function y(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function b(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function D(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function p(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function x(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{onAbortOrThrow as e,always as t}from\"../../../../core/promiseUtils.js\";class r{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(r,s,o){const l=new AbortController,a=e(o,(()=>l.abort())),n={signal:l.signal,query:{token:this.apiKey}},i=this.requester.request(r,s,n),u={response:i,abortController:l,abortHandle:a};return this.activeRequests.add(u),t(i,(()=>{u.abortController=null,u.abortHandle?.remove(),u.abortHandle=null,this.activeRequests.delete(u)})),i}cancelAll(){this.activeRequests.forEach((e=>{e.abortController?.abort(),e.abortController=null,e.abortHandle?.remove()})),this.activeRequests.clear()}}export{r as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{d as i,i as s,l as r,g as n,e as o,p as a,b as h,a as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as p}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as l}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as _,getSphericalPCPF as u}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as g,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{isPlateCarree as v}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as M}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as R}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as D,extractExpressionInfo as S}from\"../graphics/featureExpressionInfoUtils.js\";import{LodMetric as C}from\"./I3SNode.js\";import{isValidMbs as E,isValidObb as P,transformObb as O,computeOffsetObb as L,intersectBoundingRectWithMbs as j,MbsIntersectResult as F}from\"./I3SUtil.js\";import{create as B,isVisible as y}from\"../../support/orientedBoundingBox.js\";const I=1e5;class A{constructor(e,t,i,s,r,n,o,a,h={}){this._indexSR=e,this._renderCoordsHelper=t,this.clippingArea=r,this._elevationProvider=n,this._viewingMode=o,this._options=h,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmpObb=B(),this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this._screenspaceErrorBias=h.screenspaceErrorBias||1,this._progressiveLoadFactor=h.progressiveLoadFactor||1,this.updateCamera(i,s),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this._tmpPoint=f(0,0,0,e),this._isECEFOBBInLocalMode=this._indexSR.isWGS84&&(this.engineSR.isWebMercator||v(this.engineSR)),this._indexSREllipsoidRadius=_(this._indexSR).radius}updateElevationInfo(e){null!=e?(this._elevationContext=R.fromElevationInfo(e),this._elevationContext.updateFeatureExpressionInfoContext(D(S(e,!1)))):this._elevationContext=null}updateCamera(e,t){this._useFrustumCulling=t,t&&g(e.viewMatrix,e.projectionMatrix,this._frustum),this._screenSizeFactor=1/(e.perScreenPixelRatio/2),this._camPos=e.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(e){this._poi=e}updateScreenSpaceErrorBias(e){const t=this._screenspaceErrorBias;return this._screenspaceErrorBias=e,t}updateClippingArea(e){this.clippingArea=e}getElevationRange(i){if(e(this._elevationContext))return null;const s=i.mbs[0],r=i.mbs[1],n=i.mbs[2],o=i.mbs[3],a=\"relative-to-scene\"===this._elevationContext.mode?\"scene\":\"ground\";if(this._elevationProvider.getSphereElevationBounds)return this._elevationProvider.getSphereElevationBounds(s,r,n,o,this._indexSR,a);const h=this._elevationProvider.getElevation(s,r,n,this._indexSR,a);return t(h)?{min:h,max:h}:null}getRenderMbs(e){const t=e.renderMbs;return E(t)||(p(t,e.mbs),this._elevationContext&&t[3]<I&&(this._tmpPoint.x=t[0],this._tmpPoint.y=t[1],this._tmpPoint.z=t[2],t[2]=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)),l(t,this._indexSR,t,this.engineSR)),t}getVisibilityObb(i){if(t(i.visibilityObb))return i.visibilityObb;const s=i.serviceObb,r=.01*this._indexSREllipsoidRadius;return e(s)||!P(s)||this._isECEFOBBInLocalMode&&s.halfSize.some((e=>e>r))?null:(i.serviceObbInRenderSR=this._computeRenderObb(s,i.serviceObbInRenderSR,i.mbs[3],i.elevationRange),i.serviceObbInRenderSR)}_computeRenderObb(i,s,r,n){if(e(s))s=B();else if(P(s))return s;let o=0,a=0;if(this._elevationContext&&t(n)&&Number.isFinite(n.min))switch(this._elevationContext.mode){case\"relative-to-ground\":o=this._elevationContext.geometryZWithOffset(i.center[2],this._renderCoordsHelper)+n.min-i.center[2],a=n.max-n.min;break;case\"on-the-ground\":o=n.min-i.center[2],a=n.max-n.min}else this._elevationContext&&r<I&&(this._tmpPoint.x=i.center[0],this._tmpPoint.y=i.center[1],this._tmpPoint.z=i.center[2],o=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)-i.center[2]);return a>0?(O(i,this._indexSR,this._tmpObb,this.engineSR,o),L(this._tmpObb,0,a,this._viewingMode,s)):O(i,this._indexSR,s,this.engineSR,o),s}isNodeVisible(e){const i=this.getRenderMbs(e);if(!this._isMBSinClippingArea(i))return!1;if(!this._useFrustumCulling)return!0;const s=this.getVisibilityObb(e);return t(s)?y(s,this._frustum):b(this._frustum,x(i))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const i=e.geometryObb;return t(i)?y(i,this._frustum):this.isNodeVisible(e)}_isMBSinClippingArea(t){return!!e(this.clippingArea)||j(this.clippingArea,t)!==F.OUTSIDE}_screenSpaceDiameterMbs(e,t){const s=this.getRenderMbs(e),r=Math.sqrt(i(s,this._camPos)),n=r-s[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:t/n*this._screenSizeFactor}calcCameraDistance(e){return this.calcCameraDistanceToCenter(e)-this.getRenderMbs(e)[3]}calcCameraDistanceToCenter(e){const t=this.getRenderMbs(e),i=s(t,this._camPos);return this._updateMinMaxDistance(i),i}calcAngleDependentLoD(e){const t=this.getRenderMbs(e),i=t[3],n=(Math.abs(t[0]*(t[0]-this._camPos[0])+t[1]*(t[1]-this._camPos[1])+t[2]*(t[2]-this._camPos[2]))/r(t)+i)/s(t,this._camPos);return Math.min(1,n)}hasLOD(e){return e.lodMetric!==C.None}_getDistancePlanarMode(e,t){const i=e[0]-t[0],s=e[1]-t[1],r=e[2]-t[2],n=i*i+s*s,o=t[3];if(n<=o*o)return Math.abs(r);const a=Math.sqrt(n)-o;return Math.sqrt(r*r+a*a)}_getDistanceGlobeMode(e,t){const m=r(t),p=r(e)-m;n(this._tmp0,e,o(e,t)/a(e));const l=i(t,this._tmp0),_=t[3];if(l<=_*_)return Math.abs(p);{const i=n(this._tmp0,t,1/m),a=m,l=_*_/2/a,u=n(this._tmp1,i,a-l),d=e,g=h(this._tmp2,d,u),b=h(this._tmp2,g,n(this._tmp3,i,o(i,g))),v=c(this._tmp2,u,n(this._tmp2,b,_/r(b)));let x=s(d,v);if(p>=2e5){const e=h(this._tmp1,d,v);let t=o(e,i)/r(e);t<.08&&(t=1e-4),x/=t}return x}}_getDistance(e,t){return this.engineSR===u(this.engineSR)?this._getDistanceGlobeMode(e,t):this._getDistancePlanarMode(e,t)}_updateMinMaxDistance(e){e>0?(this.minDistance=Math.min(this.minDistance,e),this.maxDistance=Math.max(this.maxDistance,e)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-e))}getLodLevel(e){if(e.lodMetric===C.None)return 0;if(0===e.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this._progressiveLoadFactor<1){const t=this._progressiveLoadFactor*this._screenspaceErrorBias,i=this._screenspaceErrorBias;return this.evaluateLODmetric(e,t)?this.evaluateLODmetric(e,i)?2:1:0}return this.evaluateLODmetric(e,this._screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(e,t){switch(e.lodMetric){case C.ScreenSpaceRelative:{const i=this.getRenderMbs(e),s=this._getDistance(this._camPos,i),r=2*s/this._screenSizeFactor,n=s+i[3];return this._updateMinMaxDistance(n),e.maxError*t<=r}case C.MaxScreenThreshold:{let i=this._screenSpaceDiameterMbs(e,e.mbs[3]*t);return this._options.angleDependentLoD&&(i*=this.calcAngleDependentLoD(e)),i<e.maxError}case C.RemovedFeatureDiameter:return this._screenSpaceDiameterMbs(e,e.maxError)*t<10;case C.DistanceRangeFromDefaultCamera:return this.calcCameraDistance(e)>e.maxError*t}return!1}distToPOI(e){const t=this.getRenderMbs(e);return s(t,this._poi)-t[3]}distCameraToPOI(){return s(this._camPos,this._poi)}}export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{isNone as a,isSome as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{isAbortError as h}from\"../../../core/promiseUtils.js\";import{watch as l,initial as u,sync as _}from\"../../../core/reactiveUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as g}from\"../../../geometry/projection.js\";import{create as m,intersectsSphere as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import{PromiseQueue as f}from\"../../support/PromiseQueue.js\";import{viewingModeFromString as b}from\"../../../views/ViewingMode.js\";import{addTask as N}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as v}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import w from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import{NodeState as C,CacheState as D}from\"../../../views/3d/layers/i3s/I3SNode.js\";import L from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as S}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as I,getIndexCrs as V,findIntersectingNodes as A}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import F from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{FadeDirection as O}from\"../../../views/3d/layers/support/I3SLayerView.js\";import{toBoundingRect as P}from\"../../../views/3d/support/extentUtils.js\";import{ClientType as U,maxDownloadSlots as M}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as q,scaleBoundsPredicate as G}from\"../../../views/support/layerViewUtils.js\";import{noBudget as j}from\"../../../views/support/Scheduler.js\";const Q=r.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),T=100,E=2,H=1e4,B=1e-4,k=1.2,R=500,z=1.5;let K=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get useMaximumNumberOfFeatures(){return!this.isMeshPyramid&&(a(this.layer.priority)||\"High\"===this.layer.priority)}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(U.I3S_INDEX);return new S(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(U.I3S_DATA);return new S(e,this.layer.apiKey)}get crsVertex(){return I(this.layer)}get crsIndex(){return V(this.layer)}get layer(){return this.layerView.i3slayer}get rootNodeVisible(){if(d(this._index)){const e=this._index.rootNode;if(d(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){const{layerView:e,layer:t}=this;this._disableMemCache=!e.loadCachedGPUData||!e.addCachedGPUData,this._lodHandling=new w(e),this._defaultGeometrySchema=t.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in t&&(this._fields=t.fields,this._attributeStorageInfo=t.attributeStorageInfo),this.addResolvingPromise(Promise.all([t.indexInfo,t.when(),e.when()]).then((([i])=>{if(this.destroyed||!e||e.destroyed)return;const{view:s}=e,{resourceController:r}=s;this._setClippingArea(s.clippingArea),this.own([l((()=>s?.pointsOfInterest?.focus?.renderLocation),(e=>this._pointOfInterestChanged(e)),u),l((()=>r.memoryController.memoryFactor),(()=>this._setCameraDirty()),_),l((()=>e.suspended),(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=r.scheduler.registerIdleStateCallbacks(t,i)}),u),N(e.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),l((()=>e.uncompressedTextureDownsamplingEnabled),(()=>this.restartNodeLoading())),l((()=>[this.featureTarget,this.fixedFeatureTarget]),(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),l((()=>s.state?.contentCamera),(()=>this._setCameraDirty())),l((()=>t.elevationInfo),(e=>this._elevationInfoChanged(e))),l((()=>t.effectiveScaleRange),(()=>this._scaleBoundsChanged())),l((()=>e.lodFactor),(()=>this._setCameraDirty())),l((()=>e.availableFields),(()=>this._requiredFieldsChange())),l((()=>e.holeFilling),(e=>d(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new F(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,this.isMeshPyramid?s.basemapTerrain:s.elevationProvider,b(s.viewingMode),this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new v(t,i,this.indexStreamController,this._viewportQueries,Q,e.holeFilling,(t=>e.isNodeLoaded(t)),(t=>e.isNodeReloading(t)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,C.Leaf)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(t=>e.computeVisibilityObb?e.computeVisibilityObb(t):null),e?.computeNodeFiltering?t=>e.computeNodeFiltering(t):void 0),this._index.updateElevationInfo(this.layer.elevationInfo,this.isMeshPyramid),this._index.imModificationsChanged(!!e.hasModifications),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;d(t)&&i?.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);d(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,X.prune(),d($)&&($.hide(),$=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=W(e,i),r=W(t,i);return s>=0&&r>=0?{index:s,name:t[r].name,field:t[r],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();J(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=m();P(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){d(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),d(this._index)&&(this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),d(this._viewportQueries)&&d(this._index)&&(this._viewportQueries.updateClippingArea(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(a(i)||a(i.rootNode))return null;const s=this._elevationUpdateNodes;return s.clear(),A(e,t,i.rootNode,this.crsIndex,i,(e=>s.push(e.index))),s.length&&(s.forAll((e=>i.updateElevationChanged(e))),this._setCameraDirty()),s}getParentIndex(e){return d(this._index)&&this._index.getParentIndex(e)}removeAllGeometryObbs(){d(this._index)&&this._index.removeAllGeometryObbs()}_elevationInfoChanged(e){a(this._index)||(this._index.updateElevationInfo(e,this.isMeshPyramid),this._setCameraDirty())}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t){const i=this._index;if(a(i))return;const s=i.rootNode;!a(s)&&g(e,t,Z,this.crsIndex)&&this._loadedNodeScales.forEach(((e,t)=>{const s=i.getNode(t);d(s)&&y(Z,s.mbs)&&this._loadedNodeScales.set(t,this._computeScale(s))}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=q(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return a(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return d(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||a(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?Q.error(\"Error during processing: \"+i):50===this._errorCount&&Q.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){this._restartNodeLoading&&this._startNodeLoading(),null==this._nodeLoader||a(this._index)||(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t))),this._idleQueue.runTask(e),e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating())}_processIndex(e){if(a(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update(Array.from(this._loadingNodes.keys()),e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(a(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.useMaximumNumberOfFeatures||a(this._index)||a(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>R){if(this._featureLOD<=B)return;this._featureLOD/=z,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=H||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,r=this._index.checkFeatureTarget(t,s);r!==s&&(this._featureLOD=r/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*k||e&&i.estimate>t))return;if(this._featureLOD<=B)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(H,Math.max(B,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(a(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);d(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,C.Hole)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(a(this._index))return!1;let i=(this._isIdle?T:E)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());d(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const r=this._index.getNode(s.add.back());if(a(r)||r.cacheState!==D.Cached&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(r),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=E)&&(this._downloadingCount<M&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(d(this._index)?this._index.getIndexMissing():0)+3*(d(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.running||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||a(this._index)||a(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return d(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){d(this._index)&&this._index.invalidateNodeVisibilityCache(e)}invalidateGeometryVisibility(e){d(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){d(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){d(this._index)&&this._index.imModificationsChanged(!!this.layerView.hasModifications),this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e))&&(!(a(this._index)||!this._index.isGeometryVisible(e.index))&&this._isNodeInScaleBounds(e))}_shouldDropNode(e){if(a(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||a(e)||a(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:this.useMaximumNumberOfFeatures};this._nodeLoader=new L(this.layer,this.dataStreamController,Q,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,ee.fadeout)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(a(t)||a(this._viewportQueries))return!1;X.clear(),this.layerView.getLoadedNodeIndices(X);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return X.filterInPlace((e=>{const i=t.getNode(e);return a(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),X.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(X,e,ee.pop),!(i&&this.lodDropFactor<1)&&(0===X.length||(X.clear(),!1))}markNodeToRemove(e){X.push(e)}removeMarkedNodes(){this._removeNodes(X,j,ee.pop)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(d(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),r=this._index;i===ee.fadeout&&this.layerView.nodeFadeoutEnabled&&d(r)&&r.isGeometryVisible(s)?this.layerView.fadeNode(s,O.FadeOut,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=new AbortController;this._updatingNodes.set(e.index,t);(J(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!h(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void Q.error(\"already loading node \"+e.index);const t=new AbortController;this._loadingNodes.set(e.index,t),this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then((i=>{i&&d(this._index)&&this._loadingNodes.get(e.index)===t&&(this._loadingNodes.delete(e.index),this._index.requestUpdate())})).catch((e=>{if(!h(e))throw e})).finally((()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()}))}_loadAndAddNode(e,t){return e.cacheState===D.Uncached?this._loadUncached(e,t).then((()=>!1)):this._loadCached(e,t).then((t=>!t&&(e.cacheState=D.Uncached,!0))).catch((t=>!h(t)&&(e.cacheState=D.Uncached,!0)))}_enableFromGPUCache(e,t){if(this._disableMemCache||a(this._index))return!1;if(t===C.Hole&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return d(t)&&d(t.attributeInfo)&&J(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){d(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateLoadStatus(e,t){const i=this._index;d(i)&&i.updateChildrenLoaded(e,t?1:-1)}_loadCached(e,t){if(this._enableFromGPUCache(e,C.Leaf))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(a(s))return!1;const r=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,r,t)),t).then((a=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:r,attributeData:a},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=D.Cached})).catch((t=>{if(!h(t))throw Q.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,d(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&d(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);const t=this._computeScale(e);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_computeScale(e){this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=e.mbs[3];return this.layerView.view.basemapTerrain.getSphereScale(this._tmpPoint,t)}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=q(this.layer);return G(t,i,s)}updateStats(e){e.index=d(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),d(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){d(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),d(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;d(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([c({readOnly:!0})],K.prototype,\"isMeshPyramid\",null),e([c({readOnly:!0})],K.prototype,\"isGraphics3D\",null),e([c({readOnly:!0})],K.prototype,\"useMaximumNumberOfFeatures\",null),e([c({readOnly:!0})],K.prototype,\"indexStreamController\",null),e([c({readOnly:!0})],K.prototype,\"dataStreamController\",null),e([c({readOnly:!0})],K.prototype,\"crsVertex\",null),e([c({readOnly:!0})],K.prototype,\"crsIndex\",null),e([c()],K.prototype,\"screenSizeFactor\",void 0),e([c()],K.prototype,\"featureTarget\",void 0),e([c()],K.prototype,\"fixedFeatureTarget\",void 0),e([c()],K.prototype,\"layerView\",void 0),e([c()],K.prototype,\"layer\",null),e([c({})],K.prototype,\"updating\",void 0),e([c({})],K.prototype,\"updatingProgress\",void 0),e([c({readOnly:!0})],K.prototype,\"leavesReached\",void 0),e([c({constructOnly:!0})],K.prototype,\"scaleVisibilityEnabled\",void 0),e([c({readOnly:!0,dependsOn:[]})],K.prototype,\"rootNodeVisible\",null),K=e([p(\"esri.layers.graphics.controllers.I3SOnDemandController\")],K);const X=new o({deallocator:null});let $;function J(e,t){return d(e)&&e.length===t.length&&e.every((e=>W(t,e.name)>=0))}function W(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const Y={factorIM:.2,factor3dObject:.05,distancePenalty:10},Z=m();var ee;!function(e){e[e.pop=0]=\"pop\",e[e.fadeout=1]=\"fadeout\"}(ee||(ee={}));const te=K;export{te as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{remove as t,splitIntoChunks as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{whenOrAbort as m}from\"../../../../core/promiseUtils.js\";import{formatNumber as u}from\"../../../../intl/number.js\";import{getMaximumQuerySize as g,queryAllJSON as b}from\"../../../../layers/support/featureQueryAll.js\";const p=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class f{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=new AbortController,this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=j,this.memCache=t.newCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this._fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const s=this.interactiveEditingSessions,i=new y(e,{rollback:()=>{t(s,i),0===s.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return s.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await m(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this._getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this._queryOverridesFromAssociatedLayer(o,d,s);c(h)||this._processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this._cacheValue(e,t,s)}_cacheValue(e,t,s){this.memCache.put(this._getCacheKey(e,t),s,this._memCacheValueSize(s))}_getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this._fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}_fromCache(e,t){const s=this._fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this._getCacheKey(e,t);return this.memCache.get(i)}_fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}_getCacheKey(e,t){return`${e}-${t}`}async _queryOverridesFromAssociatedLayer(e,t,r){if(0===e.length||0===t.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this._logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...t],n.cacheHint=!0,n.objectIds=e;const o=g(a),c=e.length>o?s(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(b(a,t,{signal:r}))})):[i(b(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}_logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${u(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,p.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}_processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this._cacheValue(e,i,a)}}}_memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async _fetchChangedObjectIds(t){const s=this.layer;if(await s.load({signal:t}),this.changedObjectIds.clear(),c(s.associatedLayer)||!s.associatedLayer.capabilities?.operations?.supportsChangeTracking)return;const i=this._getFetchChangedObjectIdsServerGen();if(c(i))return null;const a=s.associatedLayer.layerId,n=await r(e(`${s.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${a}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:a,serverGen:i}])},timeout:C,signal:t})),o=n.ok&&n.value.data?.edits?h(n.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(o)){const e=Math.min(this._maximumNumberOfEditOVerrides,o.length);e<o.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=o.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}_getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class y{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=O.ACTIVE}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=O.ROLLED_BACK,this.options.rollback())}commit(){this.isActive&&(this.state=O.COMMITTED,this.options.commit(this.updates),this.updates.clear())}get isActive(){return this.state===O.ACTIVE}}var O;!function(e){e[e.ACTIVE=0]=\"ACTIVE\",e[e.COMMITTED=1]=\"COMMITTED\",e[e.ROLLED_BACK=2]=\"ROLLED_BACK\"}(O||(O={}));const C=1e4,j=5e4;export{f as I3SAttributeOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,isSome as t}from\"../../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../../core/promiseUtils.js\";class r{constructor(t,r){this._textureRep=t,this._disposed=!1;const i=this._textureRep.acquire(r);s(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return t(this._textureRef)?this._textureRef.glTexture:null}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as o}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{TextureEncoding as t,TextureUsage as n}from\"./enums.js\";import{RenderTexture as l}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as i}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as u}from\"../../webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{getEllipsoidMode as c}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{CullFaceOptions as m,AlphaDiscardMode as d}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Texture as g}from\"../../webgl-engine/lib/Texture.js\";import{TextureWrapMode as p}from\"../../../webgl/enums.js\";function h(e,a){const o=new Map,t=(e,a)=>{if(s(e))return-1;if(o.has(e.id)){const r=o.get(e.id);return r.usage|=a,r.id}const r=o.size;return o.set(e.id,{id:r,usage:a}),r},l=a.pbrMetallicRoughness,u=l&&l.baseColorFactor,c=a.emissiveFactor,d=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=d?i[0]:l?l.metallicFactor:1,p=d?i[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?n.Color|n.AlphaMask:n.Color,x={baseColorFactor:u?[u[0],u[1],u[2],u[3]]:[1,1,1,1],baseColorTextureId:t(l&&l.baseColorTexture,h),metallicRoughnessTextureId:t(l&&l.metallicRoughnessTexture,n.MetallicRoughness),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?m.None:\"back\"===a.cullFace?m.Back:\"front\"===a.cullFace?m.Front:void 0,normalTextureId:t(a.normalTexture,n.Normal),emissiveTextureId:t(a.emissiveTexture,n.Emissive),occlusionTextureId:t(a.occlusionTexture,n.Occlusion),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:x,wrapTextures:!1,hasParametersFromSource:d},F=[];return o.forEach((({usage:a},o)=>{const s=r(e)&&e[o]&&e[o].formats,t=s?f(s.map((({name:e,format:a})=>({name:e,encoding:T[a]})))):[];F.push({id:o,usage:a,encodings:t})})),{material:b,textures:F}}function f(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const T={ktx2:t.KTX2,basis:t.Basis,dds:t.DDS_S3TC,png:t.PNG,jpg:t.JPG,\"ktx-etc2\":t.KTX_ETC2},x={[g.KTX2_ENCODING]:t.Basis,[g.BASIS_ENCODING]:t.Basis,[g.DDS_ENCODING]:t.DDS_S3TC,\"image/png\":t.PNG,\"image/jpg\":t.JPG,\"image/jpeg\":t.JPG,\"image/ktx\":t.KTX_ETC2};function b(e){const o=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,r=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,s=o&&e.materialDefinitions[o],t=r&&e.textureDefinitions[r],l=F();if(null!=s){const e=s.params;e.diffuse&&(l.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(l.doubleSided=e.doubleSided,l.cullFace=e.doubleSided?m.None:m.Back),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(l.cullFace=\"none\"===e.cullFace?m.None:\"back\"===e.cullFace?m.Back:m.Front),e.transparency&&(l.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||l.metallicRoughness.baseColorFactor[3]<1)&&(l.alphaMode=\"blend\")}const i=[];if(null!=t){const e=0;!t.wrap||\"repeat\"!==t.wrap[0]&&\"repeat\"!==t.wrap[1]||(l.wrapTextures=!0);let a=n.Color;\"rgba\"===t.channels&&(l.alphaMode=\"blend\",a|=n.AlphaMask);const o=t.images.length-1,r=t.images[o],s=e=>e&&e.split(\"/\").pop(),u=Array.isArray(t.encoding)?f(t.encoding.map(((e,a)=>({name:s(r.href[a]),encoding:x[e]||0})))):[{name:s(r.href),encoding:x[t.encoding]||0}];i.push({id:e,usage:a,encodings:u}),l.metallicRoughness.baseColorTextureId=e}return{material:l,textures:i}}const F=()=>({alphaMode:\"opaque\",alphaCutoff:u,doubleSided:!0,cullFace:m.None,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function C(e,a,r,t){if(s(e)||null==e.data)return null;const l=e.data,i=!(l instanceof HTMLImageElement)||o(l.width)&&o(l.height),u=t.renderingContext.parameters.maxMaxAnisotropy,c=r&&!t.capabilities.shaderTextureLOD?1:u,m=i&&!e.downsampled&&c>1,d=r||!a.wrapTextures?P:M,p=E(e.encoding),h=e.usage&n.Color?\"opaque\"===a.alphaMode?3:4:3;return new g(l,{mipmap:m,maxAnisotropy:c,encoding:p,wrap:d,components:h,noUnpackFlip:!0})}const P={s:p.CLAMP_TO_EDGE,t:p.CLAMP_TO_EDGE},M={s:p.REPEAT,t:p.REPEAT};function S(e,o,s,t,i,m){const g=m.rendererTextureUsage,p=e=>R(t,s,e&g),h=o.metallicRoughness.baseColorFactor,f=a(o.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[h[0],h[1],h[2],f],e.hasParametersFromSource=!!o.hasParametersFromSource,e.usePBR=m.usePBR,e.mrrFactors=[o.metallicRoughness.metallicFactor,o.metallicRoughness.roughnessFactor,o.hasParametersFromSource?.2:.5],e.emissiveFactor=o.emissiveFactor,e.isIntegratedMesh=m.isIntegratedMesh,e.textureAlphaCutoff=\"mask\"===o.alphaMode?o.alphaCutoff:u,e.alphaDiscardMode=\"opaque\"===o.alphaMode?d.Opaque:\"mask\"===o.alphaMode?d.Mask:d.MaskBlend;const T=[],x=p(n.Color|n.AlphaMask);r(x)&&(e.baseColorTexture=new l(i,x),T.push(e.baseColorTexture.loadPromise));const b=p(n.MetallicRoughness);r(b)&&(e.metallicRoughnessTexture=new l(i,b),T.push(e.metallicRoughnessTexture.loadPromise));const F=p(n.Emissive);r(F)&&(e.emissionTexture=new l(i,F),T.push(e.emissionTexture.loadPromise));const C=p(n.Occlusion);r(C)&&(e.occlusionTexture=new l(i,C),T.push(e.occlusionTexture.loadPromise));const P=p(n.Normal);return r(P)&&(e.normalTexture=new l(i,P),T.push(e.normalTexture.loadPromise)),e.commonMaterialParameters.hasSlicePlane=m.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=o.doubleSided,e.commonMaterialParameters.cullFace=o.cullFace,e.ellipsoidMode=c(m.viewSpatialReference),Promise.all(T)}function D(a){const o=!!a.compressedTextureS3TC,r=!!a.compressedTextureETC,s=e(\"disable-feature:i3s-basis\")?0:t.Basis|t.KTX2,n=t.JPG|t.PNG,l=s|t.DDS_S3TC;return n|(o?l:0)|(r?s:0)}function w(e,a){return e.find((e=>0!=(e.encoding&a)))}function R(e,a,o){if(s(e)||o===n.None)return null;for(let s=0;s<e.length;s++){const t=e[s];if(r(t)&&0!=(t.usage&o)){const e=a[s];return r(e)?e.id:null}}return null}function E(e){switch(e){case t.KTX2:return g.KTX2_ENCODING;case t.Basis:return g.BASIS_ENCODING;case t.DDS_S3TC:return g.DDS_ENCODING;case t.PNG:return\"image/png\";case t.JPG:return\"image/jpeg\";case t.KTX_ETC2:return\"image/ktx\";default:return\"\"}}export{S as configureMaterial,C as createTexture,F as defaultMaterial,h as getMaterialAndTextures,b as getMaterialAndTexturesFromShared,D as getSupportedEncodings,w as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/sphere.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=e(0,0,0,-1),this.elevationRange=null}}class i{constructor(){this.min=1/0,this.max=-1/0,this.valid=!1}}var n,o,s,a,c;!function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.Culled=1]=\"Culled\",e[e.NotChecked=2]=\"NotChecked\"}(n||(n={})),function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.PotentiallyModified=1]=\"PotentiallyModified\",e[e.Culled=2]=\"Culled\",e[e.Unknown=3]=\"Unknown\",e[e.NotChecked=4]=\"NotChecked\"}(o||(o={}));class h extends t{constructor(e,t,i,n,a,c,h,d,r,l){super(e,i),this.index=t,this.childCount=n,this.level=a,this.resources=c,this.version=h,this.lodMetric=d,this.maxError=r,this.numFeatures=l,this.failed=!1,this.cacheState=s.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=o.NotChecked}}!function(e){e[e.Unknown=0]=\"Unknown\",e[e.Uncached=1]=\"Uncached\",e[e.Cached=2]=\"Cached\"}(s||(s={})),function(e){e[e.None=0]=\"None\",e[e.MaxScreenThreshold=1]=\"MaxScreenThreshold\",e[e.ScreenSpaceRelative=2]=\"ScreenSpaceRelative\",e[e.RemovedFeatureDiameter=3]=\"RemovedFeatureDiameter\",e[e.DistanceRangeFromDefaultCamera=4]=\"DistanceRangeFromDefaultCamera\"}(a||(a={})),function(e){e[e.Hole=0]=\"Hole\",e[e.Leaf=1]=\"Leaf\"}(c||(c={}));class d{constructor(e,t,i,n){this.nodeHasLOD=e,this.isChosen=t,this.lodLevel=i,this.version=n}}export{s as CacheState,i as ElevationRange,a as LodMetric,h as Node,t as NodeBase,n as NodeFilterImpact,o as NodeIMModificationImpact,c as NodeState,d as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar e,s;!function(e){e[e.KTX2=1]=\"KTX2\",e[e.Basis=2]=\"Basis\",e[e.DDS_S3TC=4]=\"DDS_S3TC\",e[e.PNG=8]=\"PNG\",e[e.JPG=16]=\"JPG\",e[e.KTX_ETC2=32]=\"KTX_ETC2\"}(e||(e={})),function(e){e[e.None=0]=\"None\",e[e.Color=1]=\"Color\",e[e.MetallicRoughness=2]=\"MetallicRoughness\",e[e.Normal=4]=\"Normal\",e[e.Occlusion=8]=\"Occlusion\",e[e.Emissive=16]=\"Emissive\",e[e.AlphaMask=32]=\"AlphaMask\",e[e.ColorTextures=19]=\"ColorTextures\",e[e.GeometryTextures=36]=\"GeometryTextures\",e[e.GeometryTexturesPBR=44]=\"GeometryTexturesPBR\",e[e.AllTextures=37]=\"AllTextures\",e[e.AllTexturesPBR=63]=\"AllTexturesPBR\"}(s||(s={}));export{e as TextureEncoding,s as TextureUsage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.FadeIn=0]=\"FadeIn\",a[a.FadeOut=1]=\"FadeOut\"}(a||(a={}));export{a as FadeDirection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n"],"names":["r","constructor","t","this","referenceCount","callbacks","runIndex","handle","registerTask","e","destroy","remove","running","needsUpdate","runTask","_sort","numIndexLoading","numNodesLoading","s","length","done","priority","update","n","add","unshift","Map","get","set","delete","b","i","childOffset","childCount","visibilityCache","ref","node","useAsHole","filterImpact","u","p","o","d","l","h","c","g","m","_","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodMetric","a","_lodConversion","urlPrefix","_loading","Set","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","I","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","N","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","_pageQueue","needNodeElevationRange","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","_init","type","pageSize","V","_addPage","S","rootPage","_updateParentsAndLevel","push","nodes","children","parents","_makeRefNode","rootNode","id","_validateNode","_addNode","_loadPage","request","then","pageIndex","page","catch","error","_addQueuedPages","shift","madeProgress","map","index","v","obb","center","halfSize","mesh","attribute","geometry","material","f","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","vertexCount","x","Array","_getPage","L","level","pop","getNode","getChildIndex","Math","max","_getNodeInternal","populateChildren","getParent","maxError","E","lodSelection","mbs","resources","version","numFeatures","renderMbs","serviceObbInRenderSR","getIndexById","_forAllNodes","getNodeById","getParentIndex","isLeaf","size","removeAllGeometryObbs","geometryObb","invalidateVisibilityCache","invalidateNodeVisibilityCache","invalidateNodeVisibilityCacheInternal","invalidateBoundingVolumeCache","P","updateElevationChanged","elevationRange","valid","invalidateGeometryVisibility","invalidateVisibilityObbs","traverse","_updateElevationRange","min","getElevationRange","isNodeVisible","w","imModificationImpact","C","M","isGeometryVisible","_traverseCoverage","delta","coverage","useNodeAsHole","maxLevel","dirty","prune","requestUpdate","imModificationsChanged","hasModifications","layerFilterChanged","clear","reset","y","O","_entryPriority","has","_updateNodeFeatureEstimate","failed","known","memory","knownNodes","unremoved","missing","missingNodes","includes","cancel","filter","traverseVisible","filterInPlace","_computeFeatureEstimate","sort","data","back","checkFeatureTarget","updateScreenSpaceErrorBias","_updateFeatureEstimate","load","_load","prefetch","_loadNode","isLoading","getIndexLoading","getIndexMissing","getUnloadedMemoryEstimate","updates","featureEstimate","nodeTraversalState","getLodLevel","hasLOD","lodLevel","isChosen","isArray","sharedResource","href","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","textureData","resetFailedNodes","distToPOI","_traverseVisible","nodeHasLOD","traverseChildren","_traverseChildren","updateChildrenLoaded","childrenLoaded","checkChildrenLoadedInvariant","join","updateStats","prio","features","getPriority","updateElevationInfo","mode","test","addNode","R","metricType","sqrt","PI","layerView","_lodGlobalDirty","startNodeLoading","_index","_isNodeInScaleBounds","_removeNodes","shouldLoadNode","_isChosenMaxLOD","_childrenRequireLoading","setLodGlobalDirty","requiresLODGlobalHandling","lodGlobalHandling","view","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","nodeCrossfadingEnabled","_removeChildrenRecursive","isNodeLoaded","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","isNodeReloading","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","path","geometryDefinitions","materialDefinitions","textureSetDefinitions","materialAndTextures","_loadAttribute","key","loadAttributes","attributeStorageInfo","value","name","bufferDefinition","bufferIndex","_loadGeometry","_loadShared","A","textures","loadFeatureData","T","_loadFeatureData","$","j","D","loadTextures","U","q","B","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Error","textureDefinitions","Object","keys","images","hrefConcat","encoding","substring","_fixTextureEncodings","_addAbsoluteHrefTexture","_loadTexture","usage","downsampled","width","height","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","Promise","all","encodings","textureEncodings","reject","featureIds","geometries","params","featureDataPosition","position","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","requester","apiKey","activeRequests","busy","AbortController","abort","signal","query","token","response","abortController","abortHandle","cancelAll","forEach","_indexSR","_renderCoordsHelper","clippingArea","_elevationProvider","_viewingMode","_options","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmpObb","_tmp1","_tmp2","_tmp3","_tmp0","_screenspaceErrorBias","screenspaceErrorBias","_progressiveLoadFactor","progressiveLoadFactor","updateCamera","engineSR","spatialReference","_tmpPoint","_isECEFOBBInLocalMode","isWGS84","isWebMercator","_indexSREllipsoidRadius","radius","_elevationContext","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","setPointOfInterest","updateClippingArea","getSphereElevationBounds","getElevation","getRenderMbs","z","getVisibilityObb","_computeRenderObb","isFinite","geometryZWithOffset","_isMBSinClippingArea","F","_screenSpaceDiameterMbs","_updateMinMaxDistance","MAX_VALUE","calcCameraDistance","calcCameraDistanceToCenter","calcAngleDependentLoD","abs","_getDistancePlanarMode","_getDistanceGlobeMode","_getDistance","evaluateLODmetric","angleDependentLoD","distCameraToPOI","Q","H","k","K","super","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","isMeshPyramid","layer","profile","store","lodType","isGraphics3D","useMaximumNumberOfFeatures","indexStreamController","createStreamDataRequester","dataStreamController","crsVertex","crsIndex","i3slayer","rootNodeVisible","_updateViewData","initialize","loadCachedGPUData","addCachedGPUData","_lodHandling","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","own","pointsOfInterest","focus","renderLocation","_pointOfInterestChanged","memoryFactor","_setCameraDirty","suspended","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","state","contentCamera","elevationInfo","_elevationInfoChanged","effectiveScaleRange","_scaleBoundsChanged","lodFactor","availableFields","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","renderCoordsHelper","fixedContentCamera","_clippingArea","basemapTerrain","elevationProvider","viewingMode","_getProgressiveLoadFactor","lod","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","_startNodeLoading","updateNodeModificationStatus","forAll","_nodeLoader","X","hide","_getRequiredAttributes","objectIdField","W","field","J","renderSpatialReference","Y","distancePenalty","_evaluateUpdating","areScaleBoundsActive","on","_scaleUpdateHandler","_updateScaleInBoundingRect","extent","Z","_computeScale","schedule","reschedule","isIntegratedMesh","minScale","maxScale","unloadedMemoryEstimate","lodDropFactor","indexDepth","disableMemCache","visible","_processLogError","_process","_removeInvisibleNodes","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","from","pushArray","_get","_set","baseLOD","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","cacheState","_hasNodeLoadToken","_cancelAllNodes","notifyChange","minQuality","updateVisibility","modificationsChanged","_shouldDropNode","supportedTextureEncodings","rendererTextureUsage","ee","fadeout","isNodeLoading","getLoadedNodeIndices","markNodeToRemove","removeMarkedNodes","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","updateAttributes","_loadAndAddNode","finally","_loadUncached","_loadCached","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","updateLoadStatus","loadCachedNodeData","addCachedNodeData","loadNodeData","_getScale","getSphereScale","G","detail","target","disableUpdates","notifyLODUpdate","geometryFilterChanged","readOnly","prototype","constructOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","te","async","clone","capabilities","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","newCache","uid","pendingFetchChangedObjectIds","_fetchChangedObjectIds","createInteractiveEditSession","rollback","commit","updateValue","_getOverridesFromCache","objectIds","fieldNames","_queryOverridesFromAssociatedLayer","_processOverridesFromAssociatedLayer","_cacheValue","put","_getCacheKey","_memCacheValueSize","_fromCache","_fromInteractiveEditingSession","objectId","_logMaximumObjectsExceededWarning","associatedLayer","createQuery","where","returnGeometry","outFields","cacheHint","reduce","ok","portalItem","loaded","portal","url","title","operations","supportsChangeTracking","_getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","maximumNumberOfEditOVerrides","ACTIVE","isActive","ROLLED_BACK","COMMITTED","_textureRep","_disposed","acquire","_textureRef","loadPromise","dispose","glTexture","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","ktx2","basis","dds","png","jpg","diffuse","transparency","useVertexColorAlpha","wrap","channels","split","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","shaderTextureLOD","mipmap","maxAnisotropy","components","noUnpackFlip","baseColor","usePBR","mrrFactors","textureAlphaCutoff","alphaDiscardMode","emissionTexture","commonMaterialParameters","hasSlicePlane","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","compressedTextureS3TC","compressedTextureETC","find","Unmodified","Culled","NotChecked","PotentiallyModified","Unknown","Uncached","Cached","None","MaxScreenThreshold","ScreenSpaceRelative","RemovedFeatureDiameter","DistanceRangeFromDefaultCamera","Hole","Leaf","KTX2","Basis","DDS_S3TC","PNG","JPG","KTX_ETC2","Color","MetallicRoughness","Normal","Occlusion","Emissive","AlphaMask","ColorTextures","GeometryTextures","GeometryTexturesPBR","AllTextures","AllTexturesPBR","FadeIn","FadeOut","arguments","_map","toArray","emit","added","removed","addMany","refCount","removeMany","removeManyByObjectId","values"],"sourceRoot":""}