{"version":3,"file":"static/js/3047.7cc03273.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/LayerView.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as p}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/basicInterfaces.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new p;l(w,f),w.include(a),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\");const{vertex:h,fragment:b}=w;return h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(c`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(c`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${c.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Geometry as r}from\"../../webgl-engine/lib/Geometry.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as o}from\"../../webgl-engine/lib/VertexAttribute.js\";function a(n,r,i){const o=t(n)/e(n),a={width:i,height:i};return o>1.0001?a.height=i/o:o<.9999&&(a.width=i*o),a.width=Math.round(a.width/(t(n)/t(r))),a.height=Math.round(a.height/(e(n)/e(r))),a}function h(t){return i.createSquareGeometry([[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}function l(t,e){if(!n(t,e))return h(e);const i=[t[1]-e[1],Math.min(t[3],e[3])-Math.max(t[1],e[1]),e[3]-t[3],123456],a=[t[0]-e[0],Math.min(t[2],e[2])-Math.max(t[0],e[0]),e[2]-t[2],123456],l=e[2]-e[0],u=e[3]-e[1],m=a[0]>0&&a[2]>0?3:2,c=i[0]>0&&i[2]>0?3:2,g=(c+1)*(m+1),w=new Float64Array(3*g),f=new Float32Array(2*g),d=new Uint32Array(6*(c*m-1));let y=0,M=0,b=0,p=0,x=0;for(let n=0;n<4;n++){const t=i[n];if(t<=0)continue;let r=0;for(let i=0;i<4;i++){const t=a[i];t<=0||(w[M++]=e[0]+r,w[M++]=e[1]+y,w[M++]=-1,f[b++]=r/l,f[b++]=y/u,i<3&&n<3&&(1!==i||1!==n)&&(d[x++]=p,d[x++]=p+1,d[x++]=p+m+1,d[x++]=p+1,d[x++]=p+m+2,d[x++]=p+m+1),p++,r+=t)}y+=t}const A=new Uint32Array(d.length);return new r([[o.POSITION,{size:3,data:w,exclusive:!0}],[o.NORMAL,{size:3,data:s,exclusive:!0}],[o.UV0,{size:2,data:f,exclusive:!0}]],[[o.POSITION,d],[o.NORMAL,A],[o.UV0,d]])}const s=[0,0,1];export{a as computeImageExportSize,h as createGeometryForExtent,l as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,isSome as n}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as l,eachAlways as h,onAbort as m,isAborted as d,createAbortError as c,throwIfAborted as g}from\"../../../core/promiseUtils.js\";import{whenOnce as u}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import y from\"../../../geometry/Extent.js\";import{equals as _,create as w,width as x,height as R,copy as v,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as S}from\"./interfaces.js\";import{LayerView3D as E}from\"./LayerView3D.js\";import{computeImageExportSize as j,createGeometryForExtent as I,createOuterImageGeometry as A}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as C}from\"./support/projectExtentUtils.js\";import D from\"../support/debugFlags.js\";import{OverlayIndex as G}from\"../terrain/interfaces.js\";import{UpdatePolicy as L}from\"../webgl-engine/lib/basicInterfaces.js\";import{ModelDirty as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as T}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{ImageMaterial as O}from\"../webgl-engine/materials/ImageMaterial.js\";import U from\"../../layers/LayerView.js\";import V from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as H}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as N}from\"../../webgl/enums.js\";const z=a.getLogger(\"esri.views.3d.layers.DynamicLayerView3D\");let F=class extends(V(E(U))){constructor(){super(...arguments),this.drapeSourceType=S.RasterImage,this.updatePolicy=L.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{l(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(C(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const r=j(e.extent,t,e.resolution);let i=e.pixelRatio*this.view.state.pixelRatio;if(\"imageMaxWidth\"in this.layer||\"imageMaxHeight\"in this.layer){const e=this.layer.imageMaxWidth,t=this.layer.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,i*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,i*=e}}const a=this._extents[e.index];a&&_(a.extent,t)&&this._imageSizeEquals(t,a.imageSize,r)||(this._extents[e.index]={extent:w(t),imageSize:r,pixelRatio:i},this.suspended||this._fetch(e.index).catch((e=>{l(e)||z.error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await h(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new y(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=x(e)/this.maximumDataResolution.x,a=R(e)/this.maximumDataResolution.y,s=i/t.width,n=a/t.height,o=i/r.width,l=a/r.height,h=Math.abs(s-o),m=Math.abs(n-l),d=D.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:w(i)});const a=this._images[e];a.loadingAbortController&&(a.loadingAbortController.abort(),a.loadingAbortController=null);const s=new y(i[0],i[1],i[2],i[3],this._spatialReference);if(0===s.width||0===s.height)return void this._clearImage(e);const n=new AbortController;a.loadingAbortController=n,m(t,(()=>n.abort()));const o=n.signal,h=this._waitFetchReady(o).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:o},{height:i,width:a}=r.imageSize;return this.layer.fetchImage(s,a,i,t)})).then((e=>{if(d(o))throw z.warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),c();return this.processResult(a,e)})).then((()=>{v(a.renderExtent,i)})).finally((()=>{h===a.loadingPromise&&(a.loadingPromise=null,a.loadingAbortController=null)}));a.loadingPromise=h,this.notifyChange(\"updating\"),await h.then((async()=>{if(o.aborted)throw c();await this._createStageObjects(e,a.image,o),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!l(e)&&z.error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){n(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.Geometry.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController&&(t.loadingAbortController.abort(),t.loadingAbortController=null),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view._stage,o=this._images[e],l=()=>{a.remove(o.texture),o.texture=null,n(o.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([o.renderGeometry],M.Geometry.UPDATE),o.renderGeometry=null)};if(t){const n=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:N.CLAMP_TO_EDGE,t:N.CLAMP_TO_EDGE}});let h;if(await r(this._images[e===G.INNER?G.OUTER:G.INNER].loadingPromise),g(i),e===G.INNER)h=I(o.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=A(e,o.renderExtent)}l(),a.add(n),await a.loadImmediate(n),o.texture=n,s(o.material)?(o.material=new O({transparent:!0,textureId:n.id}),a.add(o.material)):o.material.setParameters({textureId:n.id}),o.renderGeometry=new T(h,o.material),o.renderGeometry.origin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([o.renderGeometry],M.Geometry.UPDATE)}else l(),a.remove(o.material),o.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return H(t,r)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return v(t,e);const r=this.view.basemapTerrain;return r.ready?b(e,r.extent,t):v(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await u((()=>this.view.stationary),e),g(e)}};e([p()],F.prototype,\"layer\",void 0),e([p()],F.prototype,\"suspended\",void 0),e([p({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([p()],F.prototype,\"updating\",void 0),F=e([f(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=w();export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n,TransparencyPassType as a}from\"../lib/basicInterfaces.js\";import{Default3D as l}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as p,oitDepthTest as c,oitDepthWrite as u,getOITPolygonOffset as h}from\"../lib/OrderIndependentTransparency.js\";import{Program as d}from\"../lib/Program.js\";import{stencilWriteMaskOn as m,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as y}from\"../lib/StencilUtils.js\";import{DefaultTechniqueConfiguration as g}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as b}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as O}from\"../../../webgl/enums.js\";import{simpleBlendingParams as T,makePipelineState as P,cullingParams as S,defaultDepthWriteParams as j,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){const t=_.shader.get().build(this.configuration);return new d(e.rctx,t,l)}_setPipelineState(e,r){const i=this.configuration,s=e===a.NONE,o=e===a.FrontFace;return P({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:p(e),culling:S(i.cullFace),depthTest:{func:c(e)},depthWrite:s?i.writeDepth&&j:u(e),colorWrite:v,stencilWrite:i.hasOccludees?m:null,stencilTest:i.hasOccludees?r?f:y:null,polygonOffset:s||o?null:h(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(b,(()=>import(\"./ImageMaterial.glsl.js\")));const C=T(O.ONE,O.ONE_MINUS_SRC_ALPHA);class w extends g{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=a.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:n.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:a.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{outputFromPass as r}from\"../lib/GLMaterials.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{Material as s,MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as h,PositionUVLayout as l}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as o}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as c,ImageMaterialTechnique as p}from\"../shaders/ImageMaterialTechnique.js\";class m extends s{constructor(e){super(e,new f),this.supportsEdges=!0,this.techniqueConfig=new c}getConfiguration(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.hasOccludees=this.parameters.hasOccludees,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<n,this.techniqueConfig.hasMultipassTerrain=t.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=t.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(e,t,r,i,s,a,n){o(e,t,i,s,a,void 0,n)}requiresSlot(t,i){if(t===u.DRAPED_MATERIAL)return!0;if(r(i)===e.Highlight)return t===u.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?u.TRANSPARENT_MATERIAL:u.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:u.OPAQUE_MATERIAL)}createGLMaterial(t){return t.output===e.Color||t.output===e.Alpha||t.output===e.Highlight?new d(t):void 0}createBufferWriter(){return new h(l)}}class d extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(p,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class f extends a{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{m as ImageMaterial,f as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(n(t.EventedMixin(r))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",t=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${t}', id: '${r}')`,e)}}))}get fullOpacity(){return l(this.get(\"layer.opacity\"),1)*l(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},r=this;return r.view&&r.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n"],"names":["f","w","p","l","include","a","attributes","add","v","varyings","hasMultipassTerrain","vertex","h","fragment","b","uniforms","n","o","e","texture","descriptor","textureCoordinateScaleFactor","r","code","c","i","t","u","g","opacity","output","s","d","transparencyPassType","m","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","width","height","Math","round","min","max","Float64Array","Float32Array","Uint32Array","y","M","x","A","length","size","data","exclusive","z","F","V","E","U","constructor","super","arguments","this","drapeSourceType","S","updatePolicy","L","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","Array","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","async","destroyed","_doRefresh","catch","declaredClass","error","initialize","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","unregisterDrapeSource","addResolvingPromise","C","then","_set","updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","destroy","clear","setDrapingExtent","_spatialReference","forEach","index","_updateImageExtent","_clippedExtent","extent","W","j","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_","_imageSizeEquals","imageSize","_fetch","_clearImage","push","canResume","minScale","maxScale","scale","isUpdating","some","loadingPromise","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","_createStageObjects","R","abs","D","material","renderGeometry","loadingAbortController","pixelData","renderExtent","abort","AbortController","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","processResult","finally","aborted","removeGeometries","_stage","remove","P","preMultiplyAlpha","wrap","N","G","I","loadImmediate","O","transparent","textureId","id","setParameters","T","origin","renderLocalOrigin","addGeometries","H","viewingMode","ready","stationary","prototype","readOnly","q","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","getSuspendInfo","outsideScaleRange","spatialReference","fullExtent","Promise","resolve","equals","clone","isLocal","portalItem","initializeProgram","shader","get","configuration","rctx","_setPipelineState","blending","culling","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipelineState","hasSlicePlane","cullAboveGround","count","supportsEdges","techniqueConfig","getConfiguration","parameters","camera","relativeElevation","multipassTerrain","enabled","intersect","requiresSlot","createGLMaterial","createBufferWriter","_updateParameters","updateTexture","_material","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","initTextureTransparent","parent","when","name","title","fullOpacity","suspendInfo","legendEnabled","updating","updatingProgress","visible","_override","_clearOverride","loaded","viewNotReady","layerNotLoaded","layerInvisible","type","Boolean","doRefresh","dataChanged"],"sourceRoot":""}