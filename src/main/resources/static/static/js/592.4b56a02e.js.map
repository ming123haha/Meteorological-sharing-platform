{"version":3,"file":"static/js/592.4b56a02e.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Error.js\";import{isSome as e,destroyMaybe as a,abortMaybe as t,isNone as r}from\"../../../core/maybe.js\";import{createTask as n,isAborted as o}from\"../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as c}from\"./LayerView3D.js\";import p from\"../../layers/LayerView.js\";const d=\"analysis-view-handles\";let V=class extends(c(p)){constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisModules={\"line-of-sight\":null}}initialize(){this.handles.add(l((()=>this.layer.analysis),(s=>{this._destroyAnalysisView(),e(s)&&this._createAnalysisView(s)}),y),d)}destroy(){this.handles.remove(d),this._destroyAnalysisView()}async whenAnalysisView(){if(e(this.analysisView))return this.analysisView;if(e(this._createAnalysisViewTask))return this._createAnalysisViewTask.promise;throw new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the LineOfSightLayer of this layer view\")}isUpdating(){return e(this._createAnalysisViewTask)||e(this.analysisView)&&this.analysisView.updating}_createAnalysisView(s){const i=n((async e=>(this.analysisView=await this._createAnalysisViewPromise(s,e),this._createAnalysisViewTask===i&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=i}_destroyAnalysisView(){this.analysisView=a(this.analysisView),this._createAnalysisViewTask=t(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,e){const a=s.type;let t=this._analysisModules[a];if(r(t)){const s=await this._loadAnalysisModule(a);this._analysisModules[a]=s,t=s}const n=new t.default({analysis:s,view:this.view,parent:this});if(await n.when(),o(e))throw n.destroy(),new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the LineOfSightLayer of this layer view\",{analysis:s});return n}_loadAnalysisModule(s){return\"line-of-sight\"===s?import(\"../analysis/LineOfSightAnalysisView3D.js\"):null}};s([h()],V.prototype,\"type\",void 0),s([h()],V.prototype,\"layer\",void 0),s([h()],V.prototype,\"analysisView\",void 0),s([h()],V.prototype,\"_createAnalysisViewTask\",void 0),V=s([w(\"esri.views.3d.layers.LineOfSightLayerView3D\")],V);const f=V;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(n(t.EventedMixin(r))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",t=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${t}', id: '${r}')`,e)}}))}get fullOpacity(){return l(this.get(\"layer.opacity\"),1)*l(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},r=this;return r.view&&r.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["n","c","constructor","super","arguments","this","slicePlaneEnabled","supportsHeightUnitConversion","postscript","e","a","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","o","signal","handles","add","s","abort","r","view","defaultsFromMap","heightModelInfoReady","t","i","l","heightModelInfo","canResume","effectiveScaleRange","minScale","maxScale","getSuspendInfo","outsideScaleRange","prototype","d","V","p","type","_analysisModules","initialize","analysis","_destroyAnalysisView","_createAnalysisView","y","destroy","remove","analysisView","_createAnalysisViewTask","promise","isUpdating","updating","async","_createAnalysisViewPromise","_loadAnalysisModule","default","parent","when","h","w","f","catch","name","id","title","declaredClass","error","fullOpacity","get","suspended","suspendInfo","legendEnabled","updatingHandles","updatingProgress","visible","_override","_clearOverride","loaded","ready","viewNotReady","layerNotLoaded","layerInvisible","readOnly","Boolean","u"],"sourceRoot":""}