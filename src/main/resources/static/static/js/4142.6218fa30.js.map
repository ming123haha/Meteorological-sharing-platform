{"version":3,"file":"static/js/4142.6218fa30.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/analysis/dimensionUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/analysis/LengthDimension.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/settings.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingEngine.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingManagerPool.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionSubTool.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/DimensioningTool.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionVisualization.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/DimensioningVisualization.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/LengthDimensionResult.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/support/euclideanLengthMeasurementUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionComputation.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/analysis/DimensioningAnalysisView3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/Settings.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/SnappingConstraint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t=[\"horizontal\",\"vertical\",\"direct\"];export{t as lengthDimensionAxes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{lengthDimensionAxes as o}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as e}from\"../core/Cyclical.js\";import{isNone as s,isSome as i}from\"../core/maybe.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import l from\"../geometry/Extent.js\";import c from\"../geometry/Point.js\";let y=class extends r{constructor(t){super(t),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.axis=\"horizontal\",this.offset=0,this.heading=0}get extent(){if(s(this.startPoint))return null;const t=l.fromPoint(this.startPoint);return i(this.endPoint)&&t.union(l.fromPoint(this.endPoint)),t}};t([n({type:[\"length\"]})],y.prototype,\"type\",void 0),t([n({type:c})],y.prototype,\"startPoint\",void 0),t([n({type:c})],y.prototype,\"endPoint\",void 0),t([n({type:o,nonNullable:!0})],y.prototype,\"axis\",void 0),t([n({type:Number,nonNullable:!0})],y.prototype,\"offset\",void 0),t([n({type:Number,nonNullable:!0}),p((t=>e.normalize(a(t),0,!0)))],y.prototype,\"heading\",void 0),t([n({readOnly:!0})],y.prototype,\"extent\",null),y=t([m(\"esri.analysis.LengthDimension\")],y);const u=y;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";const o={main:new t([255,127,0])};class i{constructor(){this.color=o.main,this.opacity=.5,this.radius=5}}class r{constructor(){this.fontSize=14}get height(){return 1.5*s(this.fontSize)}get offset(){return this.height+20}}class e{constructor(){this.pointManipulators=new i,this.labels=new r}}const n=new e;export{n as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{watch as n}from\"../../../../core/reactiveUtils.js\";import{c as a,b as l,k as o,o as h}from\"../../../../chunks/vec3.js\";import{c as _,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as u}from\"../../../../chunks/vec4.js\";import{f as c,a as f}from\"../../../../chunks/vec4f32.js\";import{create as m,fromRay as y,getStart as g,getEnd as x}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as b}from\"../../../../geometry/support/frustum.js\";import{create as w,fromPoints as E,pointAt as R}from\"../../../../geometry/support/lineSegment.js\";import{create as O,fromPoints as D}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as A}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as C}from\"./Object3DVisualElement.js\";import P from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as j}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as v}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends C{constructor(t){super(t),this._ray=O(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=_(),this._end=d(1,0,0),this._width=1,this._color=c(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=c(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=j.OccludeAndTransparent,this._fadedExtensions=F,this.applyProps(t)}createExternalResources(){const e=new M(this.materialParameters);this._handles.add(n((()=>this.view.state.camera),(()=>{this._updateGeometry()})));const t=new A({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[_(),_()],i=this.extensionType===V.FADED;i&&t.push(_(),_());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=P.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this._updateVertices(e)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,a(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),l(this._end,e,this._end),D(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,o(this._start,e)||(a(this._start,e),D(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,o(this._end,e)||(a(this._end,e),D(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(u(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(u(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?f(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,F),this.recreateGeometry()}_updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){t(this.object)&&this._updateVertices(this.object)}_updateVertices(e){const s=this._extensionType===V.FADED?this._updateLineSegmentFinite(T):this._updateLineSegmentInfinite(this._extensionType,T);this._updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}_updateLineSegmentFinite(e){return E(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(y(this._ray,W),e){case V.LINE:W.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&h(W.ray.direction,W.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(W.c1=Math.abs(s-t));break}}if(!b(s.frustum,W))return E(this._start,this._end,t);const i=g(W,L),n=x(W,S);return E(i,n,t)}_updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(v.POSITION).data;if(this.extensionType===V.FADED){const e=R(t,-this.fadedExtensions.start,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,0,L);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=R(t,1,L);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=R(t,1+this.fadedExtensions.end,L);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=R(t,0,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,1,L);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const W=m(),L=_(),S=_(),T=w();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const N=1/3,F={start:N,end:N};export{G as ExtendedLineVisualElement,V as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{i as a,g as c,f as n,a as h,b as l}from\"../../../../chunks/vec2.js\";import{k as d,c as m,n as u,b as _,a as p}from\"../../../../chunks/vec3.js\";import{c as f,f as g}from\"../../../../chunks/vec3f64.js\";import{g as b,c as j}from\"../../../../chunks/vec4.js\";import{f as y}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as w}from\"./Object3DVisualElement.js\";import x from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as G}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as O}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as R}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends w{constructor(t){super(t),this._handles=new e,this._location=f(),this._direction=g(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=y(1,0,1,1),this._renderOccluded=G.OccludeAndTransparent,this.applyProps(t)}get location(){return this._location}set location(e){d(this._location,e)||(m(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(m(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){u(this._direction,_(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){b(e,this._color)||(j(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}createExternalResources(){const e=new R(this.materialParameters);this._handles.add(i((()=>this.view.state.camera),(()=>{this._updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=x.createPolylineGeometry([f(),f()]),s=x.createPolylineGeometry([f(),f()]),i=t(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this._updateVertices(e)}forEachExternalMaterial(e){r(this._externalResources)&&e(this._externalResources.material)}_updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;s(e)||this._updateVertices(e)}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),p(P,this.location,this.direction),t.projectToScreen(P,A),a(A,c(A,A,V)),this._updateVertexAttributes(t,e,0,V,A,1),this._updateVertexAttributes(t,e,1,V,A,-1)}_updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],c=a.geometry.getMutableAttribute(O.POSITION).data,d=n(M,h(M,i[1]*o,i[0]*-o),this.offset+this.width/2),m=l(k,l(k,l(k,s,n(k,i,this.length/2)),d),d),u=l(E,m,n(E,i,-this.length));e.unprojectFromScreen(m,P),c[0]=P[0],c[1]=P[1],c[2]=P[2],e.unprojectFromScreen(u,P),c[3]=P[0],c[4]=P[1],c[5]=P[2],t.geometryVertexAttrsUpdated(a)}}const P=f(),V=o(),A=o(),M=o(),k=o(),E=o();export{v as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class i extends n{constructor(t,n){super(n),this.intersectionPoint=t}equals(n){return n instanceof i&&t(this.intersectionPoint,n.intersectionPoint)}}export{i as IntersectionSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";i.getLogger(\"esri.views.interactive.snapping.hints.ParallelSnappingHint\");class e extends n{constructor(i,t,n){super(n),this.lineStart=i,this.lineEnd=t}equals(i){return i instanceof e&&(t(this.lineStart,i.lineStart)&&t(this.lineEnd,i.lineEnd))}}export{e as ParallelSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as r}from\"./SnappingHint.js\";e.getLogger(\"esri.views.interactive.snapping.hints.RightAngleSnappingHint\");class i extends r{constructor(e,t,r,i){super(i),this.previousVertex=e,this.centerVertex=t,this.nextVertex=r}equals(e){return e instanceof i&&(t(this.previousVertex,e.previousVertex)&&t(this.centerVertex,e.centerVertex)&&t(this.nextVertex,e.nextVertex))}}export{i as RightAngleSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,a){const p=this._getUniqueHints(r),h=[];for(const i of p)i instanceof n&&h.push(this.visualizeIntersectionPoint(i,a)),i instanceof t&&h.push(this.visualizeLine(i,a)),i instanceof s&&h.push(this.visualizeParallelSign(i,a)),i instanceof e&&h.push(this.visualizeRightAngleQuad(i,a)),i instanceof o&&h.push(this.visualizePoint(i,a));return i(h)}_getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{unwrapOr as t}from\"../../../core/maybe.js\";import{h as i}from\"../../../chunks/vec3.js\";import{c as o}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as r,ExtensionType as a}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as l}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as s}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as c}from\"./visualElements/RightAngleQuadVisualElement.js\";import{RenderOccludedFlag as d}from\"../webgl-engine/lib/Material.js\";import{defaults as p}from\"../../interactive/snapping/Settings.js\";import{LineSegmentHintType as m}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as v}from\"../../interactive/snapping/SnappingVisualizer.js\";import{anyMapPointToRender as u,anyMapPointsToRenderWithEqualRelativeZ as f}from\"../../interactive/support/viewUtils.js\";class g extends v{visualizeIntersectionPoint(i,o){const{coordinateHelper:r,view:a}=o;return n(new s({view:a,primitive:\"circle\",geometry:r.vectorToPoint(i.intersectionPoint),elevationInfo:t(i.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(p.orange),pixelSnappingEnabled:!1}))}visualizePoint(i,o){const{coordinateHelper:r,view:a}=o;return n(new s({view:a,primitive:\"circle\",geometry:r.vectorToPoint(i.point),elevationInfo:t(i.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(p.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,i){const{coordinateHelper:o,view:r}=i;return n(this._createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,o,t(e.elevationInfo,i.elevationInfo),r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(o,r){const{coordinateHelper:a,view:s}=r,c=t(o.elevationInfo,r.elevationInfo),m=u(o.lineStart,a,c,r.view),v=u(o.lineEnd,a,c,r.view),f=i(v,m,v,.5),g=new l({view:s,attached:!1,offset:p.parallelLineHintOffset,length:p.parallelLineHintLength,width:p.parallelLineHintWidth,color:e.toUnitRGBA(p.orange),location:f,renderOccluded:d.Opaque});return g.setDirectionFromPoints(m,f),g.attached=!0,n(g)}visualizeRightAngleQuad(i,o){const{coordinateHelper:r,view:a}=o,l=t(i.elevationInfo,o.elevationInfo);return n(new c({view:a,attached:!0,color:e.toUnitRGBA(p.orange),renderOccluded:d.Transparent,outlineRenderOccluded:d.Opaque,outlineColor:e.toUnitRGBA(p.orange),outlineSize:p.rightAngleHintOutlineSize,size:p.rightAngleHintSize,geometry:{previous:u(i.previousVertex,r,l,a),center:u(i.centerVertex,r,l,a),next:u(i.nextVertex,r,l,a)}}))}_createLineSegmentHintFromMap(e,n,t,i,r,a,l=!0,s=!0){const c=o(),d=o();return f(n,t,i,r,a,c,d),this._createLineSegmentHint(e,a,c,d,l,s)}_createLineSegmentHint(n,t,i,o,l=!0,s=!0){const c=new r({view:t,extensionType:a.FADED,start:i,end:o,color:e.toUnitRGBA(p.orange),renderOccluded:d.Opaque});switch(n){case m.TARGET:c.width=p.lineHintWidthTarget,c.fadedExtensions={start:0,end:p.lineHintFadedExtensions};break;case m.REFERENCE_EXTENSION:c.width=p.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case m.REFERENCE:c.width=p.lineHintWidthReference,c.fadedExtensions={start:l?p.lineHintFadedExtensions:0,end:s?p.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{g as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(r){super(r),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};r([s({constructOnly:!0})],e.prototype,\"layer\",void 0),r([s()],e.prototype,\"enabled\",void 0),r([s()],e.prototype,\"updating\",void 0),r([s()],e.prototype,\"availability\",void 0),e=r([t(\"esri.views.interactive.snapping.SnappingLayerSource\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../../chunks/vec3f64.js\";import{WorkerHandle as i}from\"../../../../../core/workers/WorkerHandle.js\";import{f as n}from\"../../../../../chunks/sphere.js\";import{absoluteHeightElevationInfo as a}from\"../../../../../support/elevationInfoUtils.js\";import{EdgeSnappingCandidate as d}from\"../../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as c}from\"../../candidates/VertexSnappingCandidate.js\";let p=class extends t{constructor(e){super(e),this.availability=0,this._ids=new Set,this.tmpP=s()}destroy(){this.workerHandle.destroy(),this.workerHandle=null}initialize(){this.workerHandle=new l(this.schedule,{fetchAllEdgeLocations:(e,t)=>this._fetchAllEdgeLocations(e,t)})}async fetchCandidates(e,t){const r=e.coordinateHelper.toXYZ(e.point);this.view.renderCoordsHelper.toRenderCoords(r,e.coordinateHelper.spatialReference,r);const o=\"number\"==typeof e.distance?e.distance:e.distance.pixelSize,s=await this.workerHandle.invoke({bounds:n(r[0],r[1],r[2],o),types:e.types},t),i=e.coordinateHelper;return s.candidates.sort(((e,t)=>e.distance-t.distance)),s.candidates.map((e=>this._convertCandidate(i,e)))}async add(e,t){this._ids.add(e.id),await this.workerHandle.invokeMethod(\"add\",e,t)}async remove(e,t){this._ids.delete(e.id),await this.workerHandle.invokeMethod(\"remove\",e,t)}_convertCandidate(e,t){switch(t.type){case\"edge\":return new d({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),edgeStart:this._convertRenderCoordinate(e,t.start),edgeEnd:this._convertRenderCoordinate(e,t.end),elevationInfo:a});case\"vertex\":return new c({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),elevationInfo:a})}}_convertRenderCoordinate(e,t){return this.view.renderCoordsHelper.fromRenderCoords(t,this.tmpP,e.spatialReference),e.fromXYZ(this.tmpP)}async _fetchAllEdgeLocations(e,t){const r=[],o=[];for(const{id:s,uid:i}of e.components)this._ids.has(s)&&r.push((async()=>{const e=await this.fetchEdgeLocations(s,t.signal);return o.push(e.locations.buffer),{id:s,uid:i,objectIds:e.objectIds,locations:e.locations.buffer,origin:e.origin,type:e.type}})());return{result:{components:(await Promise.all(r)).filter((({id:e})=>this._ids.has(e)))},transferList:o}}};e([r({constructOnly:!0})],p.prototype,\"view\",void 0),e([r({constructOnly:!0})],p.prototype,\"fetchEdgeLocations\",void 0),e([r({constructOnly:!0})],p.prototype,\"schedule\",void 0),e([r({readOnly:!0})],p.prototype,\"availability\",void 0),p=e([o(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],p);class l extends i{constructor(e,t){super(\"SceneLayerSnappingSourceWorker\",\"fetchCandidates\",{},e,{strategy:\"dedicated\",client:t})}}export{p as SceneLayerSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{abortMaybe as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js\";import{SceneLayerSnappingSourceWorkerHandle as d}from\"./sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js\";let c=class extends r{constructor(e){super(e),this.availability=1,this.abortController=new AbortController}get updating(){return this.updatingHandles.updating}get layer(){return this.layerSource.layer}destroy(){this.abortController=o(this.abortController)}initialize(){const e=this.view.resourceController;this.edgeWorker=new n((r=>e.schedule(r))),this.workerHandle=new d({view:this.view,schedule:r=>e.schedule(r),fetchEdgeLocations:async(e,r)=>{if(s(this.tracker))throw new Error(\"tracker-not-initialized\");return this.tracker.fetchEdgeLocations(e,this.edgeWorker,r)}}),this.updatingHandles.addPromise(this._setupLayerView()),this.handles.add([t(this.workerHandle),t(this.edgeWorker)])}async fetchCandidates(e,r){return this.workerHandle.fetchCandidates(e,r)}refresh(){}async _setupLayerView(){const e=await this.view.whenLayerView(this.layer);if(\"scene-layer-graphics-3d\"===e.type)return;const r={add:(e,r)=>this.updatingHandles.addPromise(this.workerHandle.add({id:e,bounds:r},this.abortController.signal)),remove:e=>this.updatingHandles.addPromise(this.workerHandle.remove({id:e},this.abortController.signal))};this.tracker=e.trackSnappingSources(r),this.handles.add(this.tracker)}};e([i({constructOnly:!0})],c.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],c.prototype,\"view\",void 0),e([i({readOnly:!0})],c.prototype,\"updating\",null),e([i({readOnly:!0})],c.prototype,\"availability\",void 0),c=e([a(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")],c);export{c as SceneLayerSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{isSome as o}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as p}from\"../../../geometry/support/vectorStacks.js\";import{SnappingTypes as n}from\"../../../layers/graphics/data/QueryEngineResult.js\";import a from\"./FeatureSnappingLayerSource.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";import{SceneLayerSnappingSource as u}from\"./featureSources/SceneLayerSnappingSource.js\";import{anyMapPointToRender as l}from\"../support/viewUtils.js\";let m=class extends r{constructor(e){super(e),this.options=null,this._snappingSources=new t}initialize(){this.own([this.view.on(\"layerview-create\",(({layerView:e})=>this._createSource(e))),this.view.on(\"layerview-destroy\",(({layerView:e})=>this._removeSource(e)))]);for(const e of this.view.allLayerViews.items)this._createSource(e)}destroy(){this.options=null,this._snappingSources.drain((e=>e.destroy()))}get updating(){return this._snappingSources.some((e=>e.updating))}get _types(){return n.EDGE|n.VERTEX}async fetchCandidates(e,r,t){const{view:s,options:i}=this,{coordinateHelper:n,elevationInfo:a}=r,u=o(i)?i.distance:1,m=l(e,n,a,s,p.get()),y=u*s.state.camera.computeScreenPixelSizeAt(m),S=this._types,d=this._snappingSources.items.map((r=>r.fetchCandidates({point:e,coordinateHelper:n,distance:y,types:S},t))),h=(await Promise.all(d)).flat();return c(e,h),h}_createSource(e){if(\"scene-layer-3d\"!==e.type)return;const r=new u({layerSource:new a({layer:e.layer}),view:this.view});this._snappingSources.push(r)}_removeSource(e){const r=this._snappingSources.findIndex((r=>r.layerSource.layer===e.layer));-1!==r&&this._snappingSources.removeAt(r).destroy()}};e([s({constructOnly:!0})],m.prototype,\"view\",void 0),e([s()],m.prototype,\"updating\",null),e([s()],m.prototype,\"options\",void 0),e([s()],m.prototype,\"_snappingSources\",void 0),m=e([i(\"esri.views.interactive.snapping.SceneSnappingEngine\")],m);export{m as SceneSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{LineSegmentHintType as t}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as i}from\"../hints/RightAngleSnappingHint.js\";class o extends e{constructor({coordinateHelper:t,targetPoint:e,constraint:r,previousVertex:i,otherVertex:o,otherVertexType:n,objectId:s,elevationInfo:h}){super(t,e,r,h),this.previousVertex=i,this.otherVertex=o,this.otherVertexType=n,this.objectId=s}get hints(){const e=this.previousVertex,o=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,s=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex,h=this.elevationInfo;return[new r(t.TARGET,o,s,h),new r(t.REFERENCE,e,o,h),new i(this.previousVertex,o,s,h)]}}var n;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(n||(n={}));export{n as OtherVertexType,o as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../core/HandleOwner.js\";import r from\"../../../core/Handles.js\";import{someMap as i}from\"../../../core/MapUtils.js\";import{isSome as o,isNone as s,unwrap as n}from\"../../../core/maybe.js\";import{eachAlwaysValues as a,throwIfAborted as c}from\"../../../core/promiseUtils.js\";import{sync as u,watch as p,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as g}from\"../../../chunks/vec3f64.js\";import{SnappingTypes as f}from\"../../../layers/graphics/data/QueryEngineResult.js\";import{RayConstraint as y}from\"./SnappingConstraint.js\";import{sortCandidatesInPlace as S}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as m}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as v}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as w,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToRender as j,anyMapPointToScreenPoint as x}from\"../support/viewUtils.js\";let C=class extends t{constructor(e){super(e),this.options=null,this.sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null}}}get updating(){return i(this.snappingSources,(({snappingSource:e})=>e.updating))||this.updatingHandles.updating}get snappingSources(){const e=this._get(\"snappingSources\")||new Map,t=new Map;if(o(this.options)&&o(this.options.featureSources))for(const r of this.options.featureSources.items){const i=r.layer.uid,s=e.get(i);if(s){e.delete(i),t.set(i,s);continue}if(!r.layer.loaded){this.updatingHandles.addPromise(r.layer.load());continue}const n=this._createSourceInfo(r);o(n)&&t.set(i,n)}for(const[,r]of e)r.destroy();return t}initialize(){this.updatingHandles.add((()=>this.snappingSources),(()=>this.notifyChange(\"updating\")),u),o(this.view)&&this.handles.add([this.view.on(\"layerview-create\",(e=>this._updateLayerView(e.layer,e.layerView))),this.view.on(\"layerview-destroy\",(e=>this._updateLayerView(e.layer,null)))])}_updateLayerView(e,t){for(const[,r]of this.snappingSources)r.snappingSource.layerSource.layer===e&&(r.layerView=t)}destroy(){this._set(\"options\",null);for(const[,e]of this.snappingSources)e.destroy()}async fetchCandidates(e,t,r){if(s(this.options)||!this.options.effectiveFeatureEnabled)return[];const i=[],n=this._computeScreeenSizeDistanceParameters(e,t),u={distance:n,point:e,coordinateHelper:t.coordinateHelper,types:this.types,filter:null};for(const[,{snappingSource:s,layerView:a}]of this.snappingSources)!s.layerSource.enabled||o(a)&&a.suspended||i.push(s.fetchCandidates(u,r).then((e=>e.filter((e=>!this._candidateIsExcluded(s,e,t.excludeFeature))))));const p=(await a(i)).flat();return this._addRightAngleCandidates(p,e,n,t),c(r),S(e,p),p}_addRightAngleCandidates(e,t,r,i){const s=o(i.vertexHandle)?i.vertexHandle.rightEdge?.rightVertex?.pos:o(i.editGeometryOperations)&&\"polygon\"===i.editGeometryOperations.data.type?n(i.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos:null,a=o(i.vertexHandle)?i.vertexHandle.leftEdge?.leftVertex?.pos:o(i.editGeometryOperations)?n(i.editGeometryOperations.data.components[0]?.getLastVertex())?.pos:null,c=e.length;for(let o=0;o<c;o++)this._addRightAngleCandidate(e[o],a,t,r,i,e),this._addRightAngleCandidate(e[o],s,t,r,i,e)}_addRightAngleCandidate(e,t,r,i,o,n){if(s(t)||!(e instanceof m))return;const a=e.constraint.closestTo(t),c=(a[0]-r[0])/i.x,u=(a[1]-r[1])/i.y;if(c*c+u*u<=1){const r=o.coordinateHelper;n.push(new w({coordinateHelper:r,targetPoint:a,otherVertex:t,otherVertexType:_.NEXT,previousVertex:e.constraint.start,constraint:new y(r,t,a),objectId:e.objectId,elevationInfo:e.elevationInfo}))}}_computeScreeenSizeDistanceParameters(e,t){const r=o(this.options)?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;if(s(this.view))return{x:r,y:r,pixelSize:r};if(\"2d\"===this.view.type){const e=r*this.view.resolution;return{x:e,y:e,pixelSize:e}}return this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,i){const{coordinateHelper:o,elevationInfo:s}=i,n=r.state.camera.computeScreenPixelSizeAt(j(e,o,s,r,M)),a=n*r.renderCoordsHelper.unitInMeters/r.mapCoordsHelper.unitInMeters,c=t*a;return{x:c/this._computeScreenMagnitudeOfMapOffset(e,a,0,r,i),y:c/this._computeScreenMagnitudeOfMapOffset(e,0,a,r,i),pixelSize:n}}_computeScreenMagnitudeOfMapOffset(e,t,r,i,{coordinateHelper:o,elevationInfo:s}){const n=o.clone(e);n[0]+=t,n[1]+=r;const a=x(e,o,s,i),c=x(n,o,s,i),u=c.x-a.x,p=c.y-a.y;return Math.sqrt(u*u+p*p)}get types(){return f.EDGE|f.VERTEX}_candidateIsExcluded(e,t,r){if(s(r))return!1;const i=this._getCandidateObjectId(t);if(s(i))return!1;const o=e.layerSource.layer;return\"graphics\"===o.type?r.uid===i:r.sourceLayer===o&&(!(!r.attributes||!(\"objectIdField\"in o))&&r.attributes[o.objectIdField]===i)}_getCandidateObjectId(e){return e instanceof v?e.objectId:null}_createSourceInfo(e){const t=this._createFeatureSnappingSourceType(e);if(s(t))return null;if(\"loading\"in t)return this.updatingHandles.addPromise(t.loading.then((()=>{this.destroyed||this.notifyChange(\"snappingSources\")}))),null;const r=o(this.view)?this.view.allLayerViews.find((t=>t.layer===e.layer)):null;return new H(t.source,r)}_createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e)}return null}_createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source.type){case\"feature-layer\":{const t=this._getSourceModule(\"featureService\");return o(t.module)?{source:new t.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":{if(\"mesh\"===e.layer.geometryType)return null;const t=this._getSourceModule(\"featureCollection\");return o(t.module)?{source:new t.module.FeatureCollectionSnappingSource({layerSource:e})}:{loading:t.loader}}}return null}_createFeatureSnappingSourceGraphicsLayer(e){const t=this._getSourceModule(\"graphics\");return o(t.module)?{source:new t.module.GraphicsSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}_getSourceModule(e){const t=this.sourceModules[e];if(s(t.loader)){const r=this._loadSourceModule(e).then((e=>{t.module=e}));return t.loader=r,{module:t.module,loader:r}}return{module:t.module,loader:t.loader}}_loadSourceModule(e){switch(e){case\"featureService\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":return this.updatingHandles.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"))}return null}};e([d({constructOnly:!0})],C.prototype,\"spatialReference\",void 0),e([d({constructOnly:!0})],C.prototype,\"view\",void 0),e([d()],C.prototype,\"options\",void 0),e([d({readOnly:!0})],C.prototype,\"updating\",null),e([d({readOnly:!0})],C.prototype,\"snappingSources\",null),C=e([h(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],C);class H{constructor(e,t){this.snappingSource=e,this.layerView=t,this.handles=new r;const i=this.snappingSource.layerSource.layer;if(\"refresh\"in i){const t=i;this.handles.add(t.on(\"refresh\",(()=>e.refresh())))}this.handles.add([p((()=>e.updating),(t=>e.layerSource.updating=t),l),p((()=>e.availability),(t=>e.layerSource.availability=t),l)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}const M=g();export{C as FeatureSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{defaults as t}from\"./Settings.js\";import{squareDistance as r}from\"./snappingUtils.js\";import{anyMapPointToScreenPoint as s}from\"../support/viewUtils.js\";class i{constructor(e,r){this.view=e,this.options=r,this.squaredShortLineThreshold=t.shortLineThreshold*t.shortLineThreshold}snap(t,r){return e(r.vertexHandle)?\"vertex\"!==r.vertexHandle.type?[]:this.snapExistingVertex(t,r):this.snapNewVertex(t,r)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(e.leftVertex.pos,e.rightVertex.pos,t)}exceedsShortLineThreshold(e,t,{elevationInfo:i,editGeometryOperations:o}){const h=o.data.coordinateHelper;return 0===this.squaredShortLineThreshold||r(s(t,h,i,this.view),s(e,h,i,this.view))>this.squaredShortLineThreshold}squaredProximityTreshold(e){return\"touch\"===e?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{i as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{h as t,g as n}from\"../../../../chunks/vec2.js\";import{a as e}from\"../../../../chunks/vec2f64.js\";import{LineConstraint as i}from\"../SnappingConstraint.js\";import{LineSegmentHintType as s}from\"../snappingUtils.js\";import{SnappingCandidate as r}from\"./SnappingCandidate.js\";import{LineSnappingHint as o}from\"../hints/LineSnappingHint.js\";class a extends r{constructor({coordinateHelper:t,lineStart:n,lineEnd:e,targetPoint:r,elevationInfo:a}){super(t,r,new i(t,n,e),a),this.referenceLineHint=new o(s.REFERENCE_EXTENSION,n,e,a)}get hints(){return[this.referenceLineHint,new o(s.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.elevationInfo)]}_lineEndClosestToTarget(){const e=this.constraint.start,i=this.constraint.end;return Math.sign(t(n(c,i,e),n(p,this.targetPoint,e)))>0?i:e}}const p=e(),c=e();export{a as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{a as t}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as o}from\"./SnappingAlgorithm.js\";import{squareDistance as r}from\"./snappingUtils.js\";import{LineSnappingCandidate as s}from\"./candidates/LineSnappingCandidate.js\";import{anyMapPointToScreenPoint as i}from\"../support/viewUtils.js\";import{projectPointToLine as n}from\"../../support/geometry2dUtils.js\";class d extends o{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=o.edges.length,s=[];if(r<1)return s;const n=t.coordinateHelper,d=i(e,n,t.elevationInfo,this.view),p=o.edges[r-1];let a=p;do{this.edgeExceedsShortLineThreshold(a,t)&&this._processCandidateProposal(a.leftVertex.pos,a.rightVertex.pos,e,d,t,s),a=a.leftVertex.leftEdge}while(a&&a!==p);return s}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),n=s.component;if(n.edges.length<2)return r;const d=o.coordinateHelper,p=i(t,d,o.elevationInfo,this.view),a=s.leftEdge,h=s.rightEdge;a&&h&&this.edgeExceedsShortLineThreshold(a,o)&&this.edgeExceedsShortLineThreshold(h,o)&&this._processCandidateProposal(a.leftVertex.pos,h.rightVertex.pos,t,p,o,r);const l=n.edges[0];let g=l;do{g!==s.leftEdge&&g!==s.rightEdge&&this.edgeExceedsShortLineThreshold(g,o)&&this._processCandidateProposal(g.leftVertex.pos,g.rightVertex.pos,t,p,o,r),g=g.rightVertex.rightEdge}while(g&&g!==l);return r}_processCandidateProposal(e,o,d,p,a,h){const l=n(t(),d,e,o),{coordinateHelper:g,elevationInfo:c,pointer:f}=a,m=g.fromXYZ(l,g.getZ(d,0));r(p,i(m,g,c,this.view))<this.squaredProximityTreshold(f)&&h.push(new s({coordinateHelper:g,lineStart:e,lineEnd:o,targetPoint:m,elevationInfo:c}))}}export{d as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{g as e,b as t}from\"../../../../chunks/vec2.js\";import{LineConstraint as n}from\"../SnappingConstraint.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as r}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as a}from\"../hints/ParallelSnappingHint.js\";class o extends r{constructor({coordinateHelper:i,referenceLine:r,lineStart:s,targetPoint:a,elevationInfo:o}){const f=i.clone(s);e(f,t(f,f,r.rightVertex.pos),r.leftVertex.pos),super(i,a,new n(i,s,f),o),this._referenceLines=[{edge:r,fadeLeft:!0,fadeRight:!0}]}get hints(){const e=this.elevationInfo;return[new s(i.TARGET,this.constraint.start,this.targetPoint,e),new a(this.constraint.start,this.targetPoint,e),...this._referenceLines.map((t=>new s(i.REFERENCE,t.edge.leftVertex.pos,t.edge.rightVertex.pos,e,t.fadeLeft,t.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((n=>{e.rightVertex.rightEdge===n.edge&&(n.fadeLeft=!1,t.fadeRight=!1),e.leftVertex.leftEdge===n.edge&&(n.fadeRight=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{o as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{s as t}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{defaults as o}from\"./Settings.js\";import{SnappingAlgorithm as i}from\"./SnappingAlgorithm.js\";import{squareDistance as s}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as n}from\"./candidates/ParallelLineSnappingCandidate.js\";import{anyMapPointToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToLine as a}from\"../../support/geometry2dUtils.js\";class c extends i{constructor(){super(...arguments),this._tmpProjection=r()}snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],o=r.edges.length,i=r.vertices.length,s=[];if(o<2)return s;const n=l(e,t.coordinateHelper,t.elevationInfo,this.view),a=r.vertices[i-1],c=r.vertices[0],h=r.edges[o-1];let p=h;do{this.edgeExceedsShortLineThreshold(p,t)&&(this._checkEdgeForParalleLines(p,a.pos,e,n,t,s),this._checkEdgeForParalleLines(p,c.pos,e,n,t,s)),p=p.leftVertex.leftEdge}while(p&&p!==h);return s}snapExistingVertex(t,r){const o=[],i=e(r.vertexHandle),s=i.component;if(s.edges.length<3)return o;const n=l(t,r.coordinateHelper,r.elevationInfo,this.view),a=i.leftEdge,c=i.rightEdge,h=s.vertices[0],p=s.vertices.length,d=s.vertices[p-1],g=s.edges[0];let m=g;do{m!==a&&m!==c&&this.edgeExceedsShortLineThreshold(m,r)&&(a&&this._checkEdgeForParalleLines(m,a.leftVertex.pos,t,n,r,o),c&&this._checkEdgeForParalleLines(m,c.rightVertex.pos,t,n,r,o),i===h?this._checkEdgeForParalleLines(m,d.pos,t,n,r,o):i===d&&this._checkEdgeForParalleLines(m,h.pos,t,n,r,o)),m=m.rightVertex.rightEdge}while(m&&m!==g);return o}_checkEdgeForParalleLines(e,r,i,c,h,p){const d=e.leftVertex.pos,g=e.rightVertex.pos;if(a(this._tmpProjection,r,d,g),t(this._tmpProjection,r)<o.parallelLineThreshold)return;a(this._tmpProjection,i,d,g,r);const{coordinateHelper:m,elevationInfo:f,pointer:v}=h,P=m.fromXYZ(this._tmpProjection,m.getZ(i,0));if(s(c,l(P,m,f,this.view))<this.squaredProximityTreshold(v)){if(this._parallelToPreviousCandidate(e,p))return;p.push(new n({coordinateHelper:m,referenceLine:e,lineStart:r,targetPoint:P,elevationInfo:f}))}}_parallelToPreviousCandidate(e,r){const i=e.leftVertex.pos,s=e.rightVertex.pos;for(const n of r)if(a(this._tmpProjection,s,n.constraint.start,n.constraint.end,i),t(this._tmpProjection,s)<o.parallelLineThreshold)return n.addReferenceLine(e),!0;return!1}}export{c as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{g as t,h as r,u as i,v as o}from\"../../../chunks/vec2.js\";import{a as s,f as n}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{RayConstraint as g}from\"./SnappingConstraint.js\";import{squareDistance as h}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as a,OtherVertexType as d}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToScreenPoint as c}from\"../support/viewUtils.js\";class f extends p{constructor(){super(...arguments),this._tmp=s()}snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=r.vertices.length,o=[];if(i<2)return o;const s=c(e,t.coordinateHelper,t.elevationInfo,this.view),n=r.vertices[i-1];this._checkForSnappingCandidate(o,n.leftEdge,n.pos,e,n.leftEdge.leftVertex.pos,n.pos,t,e,s);const p=r.vertices[0];return this._checkForSnappingCandidate(o,p.rightEdge,p.pos,e,p.rightEdge.rightVertex.pos,p.pos,t,e,s),o}snapExistingVertex(t,r){const i=[],o=e(r.vertexHandle),s=o.component,n=s.vertices.length;if(n<3)return i;const p=c(t,r.coordinateHelper,r.elevationInfo,this.view),g=o.leftEdge,h=o.rightEdge,a=s.vertices[0],d=s.vertices[n-1];if(!g)return this._checkForSnappingCandidate(i,a.rightEdge.rightVertex.rightEdge,a.rightEdge.rightVertex.pos,t,a.rightEdge.rightVertex.rightEdge.rightVertex.pos,a.rightEdge.rightVertex.pos,r,t,p),i;if(!h)return this._checkForSnappingCandidate(i,d.leftEdge.leftVertex.leftEdge,d.leftEdge.leftVertex.pos,t,d.leftEdge.leftVertex.leftEdge.leftVertex.pos,d.leftEdge.leftVertex.pos,r,t,p),i;if(g&&g.leftVertex.leftEdge){const e=g.leftVertex.leftEdge;this._checkForSnappingCandidate(i,e,g.leftVertex.pos,t,e.leftVertex.pos,g.leftVertex.pos,r,t,p)}if(h&&h.rightVertex.rightEdge){const e=h.rightVertex.rightEdge;this._checkForSnappingCandidate(i,e,h.rightVertex.pos,t,e.rightVertex.pos,h.rightVertex.pos,r,t,p)}return i}_checkForSnappingCandidate(e,p,f,l,x,V,m,E,v){if(!this.edgeExceedsShortLineThreshold(p,m))return;t(this._tmp,p.rightVertex.pos,p.leftVertex.pos);const u=n(this._tmp[1],-this._tmp[0]),_=r(u,t(this._tmp,l,f))/i(u),{coordinateHelper:S,elevationInfo:C,pointer:k}=m,j=S.fromXYZ(o(s(),V,u,_),S.getZ(E,0));h(v,c(j,S,C,this.view))<this.squaredProximityTreshold(k)&&e.push(new a({coordinateHelper:S,targetPoint:j,constraint:new g(S,V,o(S.createVector(),V,u,Math.sign(_))),previousVertex:x,otherVertex:V,otherVertexType:d.CENTER,elevationInfo:C}))}}export{f as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{l as t,j as n}from\"../../../../chunks/vec2.js\";import{a as i}from\"../../../../chunks/vec2f64.js\";import{PlanarCircleConstraint as s}from\"../SnappingConstraint.js\";import{LineSegmentHintType as o}from\"../snappingUtils.js\";import{SnappingCandidate as p}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as e}from\"../hints/RightAngleSnappingHint.js\";class a extends p{constructor({coordinateHelper:i,targetPoint:o,point1:p,point2:r,elevationInfo:e}){super(i,o,new s(i,t(h,p,r,.5),.5*n(p,r)),e),this.p1=p,this.p2=r}get hints(){const t=this.elevationInfo;return[new r(o.REFERENCE,this.targetPoint,this.p1,t),new r(o.REFERENCE,this.targetPoint,this.p2,t),new e(this.p1,this.targetPoint,this.p2,t)]}}const h=i();export{a as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{l as t,j as o}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as s}from\"./SnappingAlgorithm.js\";import{squareDistance as i}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as n}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{anyMapPointToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToCircle as a}from\"../../support/geometry2dUtils.js\";class d extends s{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=[],s=o.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const i=o.vertices[0],n=o.vertices[s-1];return this._processCandidateProposal(i.pos,n.pos,e,t,r),r}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),i=s.component;return i.edges.length<2?r:\"polyline\"!==o.editGeometryOperations.data.type||0!==s.index&&s.index!==i.vertices.length-1?(this._processCandidateProposal(s.leftEdge.leftVertex.pos,s.rightEdge.rightVertex.pos,t,o,r),r):r}_processCandidateProposal(e,s,d,l,m){if(!this.exceedsShortLineThreshold(e,s,l))return;const c=t(r(),e,s,.5),g=.5*o(e,s),h=a(r(),d,c,g),{coordinateHelper:f,elevationInfo:v,pointer:x}=l,u=f.fromXYZ(h,f.getZ(d,0)),y=p(d,f,v,this.view);i(y,p(u,f,v,this.view))<this.squaredProximityTreshold(x)&&m.push(new n({coordinateHelper:f,targetPoint:u,point1:e,point2:s,elevationInfo:v}))}}export{d as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as i}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";let m=class extends o{constructor(s){super(s),this.updating=!1,this._snappers=new t}initialize(){this._snappers.push(new p(this.view,this.options),new i(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(s){this._set(\"options\",s);for(const o of this._snappers)o.options=s}async fetchCandidates(s,o){if(!this.options.effectiveSelfEnabled)return[];const t=[];for(const r of this._snappers.items)t.push(...r.snap(s,o));return c(s,t),t}};s([r({readOnly:!0})],m.prototype,\"updating\",void 0),s([r({constructOnly:!0})],m.prototype,\"view\",void 0),s([r()],m.prototype,\"options\",null),m=s([e(\"esri.views.interactive.snapping.SelfSnappingEngine\")],m);export{m as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./FeatureSnappingLayerSource.js\";import{defaults as a}from\"./Settings.js\";let p=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=a.distance,this.touchSensitivityMultiplier=a.touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};e([r()],p.prototype,\"enabled\",void 0),e([r()],p.prototype,\"enabledToggled\",void 0),e([r()],p.prototype,\"selfEnabled\",void 0),e([r()],p.prototype,\"featureEnabled\",void 0),e([r({type:o.ofType(s)})],p.prototype,\"featureSources\",void 0),e([r()],p.prototype,\"distance\",void 0),e([r()],p.prototype,\"touchSensitivityMultiplier\",void 0),e([r({readOnly:!0})],p.prototype,\"effectiveEnabled\",null),e([r({readOnly:!0})],p.prototype,\"effectiveSelfEnabled\",null),e([r({readOnly:!0})],p.prototype,\"effectiveFeatureEnabled\",null),p=e([i(\"esri.views.interactive.snapping.SnappingOptions\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{IntersectionConstraint as t}from\"../SnappingConstraint.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class s extends i{constructor(i,n,s,r,o){super(i,n,new t(i,n,s.constraint,r.constraint),o),this.first=s,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.elevationInfo)]}}export{s as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Evented.js\";import{HandleOwner as i}from\"../../../core/HandleOwner.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isAborted as s}from\"../../../core/promiseUtils.js\";import{watch as r,sync as o,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as h}from\"../../../chunks/vec2.js\";import{defaultSnappingEnginesFactory as p}from\"./snappingFactory.js\";import l from\"./SnappingOptions.js\";import{squareDistance as u,sortCandidatesInPlace as f}from\"./snappingUtils.js\";import{IntersectionSnappingCandidate as v}from\"./candidates/IntersectionSnappingCandidate.js\";import{anyMapPointToScreenPoint as g}from\"../support/viewUtils.js\";let _=class extends(e.EventedMixin(i)){constructor(t){super(t),this.options=new l,this.snappingEnginesFactory=p,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}initialize(){this.handles.add([r((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),o),r((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),o),r((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:i,options:n}=this;this._engines=e(i,n)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,i=t*e;return i*i}async snap(t,e,i){const r=e.coordinateHelper.pointToVector(t),o=await this._fetchCandidates(r,e,i);return{get valid(){return!s(i)},apply:()=>{const{snappedPoint:t,hints:i}=this._processCandidates(r,o,e);return this._removeVisualization(),n(e.visualizer)&&this.handles.add(e.visualizer.draw(i,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),t}}}update(t,e){this._removeVisualization();let i=t;const s=[];if(n(this._currentMainCandidate)){const n=e.coordinateHelper,r=n.pointToVector(t),o=this._currentMainCandidate.constraint.closestTo(r);if(u(g(r,n,e.elevationInfo,this.view),g(o,n,e.elevationInfo,this.view))<this._squaredPointProximityThreshold(e.pointer)){i=n.vectorToDehydratedPoint(o),this._currentMainCandidate.targetPoint=o,s.push(...this._currentMainCandidate.hints);for(const t of this._currentOtherActiveCandidates)t.targetPoint=o,s.push(...t.hints)}else this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}return n(e.visualizer)&&this.handles.add(e.visualizer.draw(s,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),i}doneSnapping(){this._removeVisualization(),this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}_removeVisualization(){this.handles.remove(m)}async _fetchCandidates(t,e,i){return(await Promise.all(this._engines.map((n=>n.fetchCandidates(t,e,i))))).flat()}_processCandidates(t,e,i){if(e.length<1)return this.doneSnapping(),{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(t),hints:[]};f(t,e);const s=this._currentMainCandidate;if(n(s)){const n=this._findOldConstraintInNewCandidates(s,e);if(n>=0){if(!(e[n]instanceof v))return this._intersectWithOtherCandidates(n,e,t,i);if(h(t,s.targetPoint)<this._squaredPointProximityThreshold(i.pointer))return this._updateSnappingCandidate(s,e,i)}}return this._intersectWithOtherCandidates(0,e,t,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof v?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,i,n){const s=e[t],r=[],o=n.coordinateHelper;for(let a=0;a<e.length;++a){if(a===t)continue;const d=e[a];for(const t of s.constraint.intersect(d.constraint)){const e=o.fromXYZ(t.intersection,s.targetPoint[2]);r.push([new v(o,e,s,d,d.elevationInfo),u(g(i,n.coordinateHelper,n.elevationInfo,this.view),g(e,n.coordinateHelper,n.elevationInfo,this.view))])}}return r.length>0&&(r.sort(((t,e)=>t[1]-e[1])),r[0][1]<this._squaredPointProximityThreshold(n.pointer))?this._updateSnappingCandidate(r[0][0],e,n):this._updateSnappingCandidate(s,e,n)}_updateSnappingCandidate(t,e,i){this.doneSnapping(),this._currentMainCandidate=t;const n=this._currentMainCandidate.targetPoint,s=[];s.push(...t.hints);for(const r of e){if(t instanceof v){if(r.constraint.objectEqual(t.first.constraint)||r.constraint.objectEqual(t.second.constraint))continue}else if(r.constraint.objectEqual(t.constraint))continue;r.constraint.check(n)&&(r.targetPoint=n,this._currentOtherActiveCandidates.push(r),s.push(...r.hints))}return{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(n),hints:s}}_squaredPointProximityThreshold(t){return\"touch\"===t?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}_findOldCandidateIndex(t,e){let i=-1;for(let n=0;n<t.length;++n)if(e.constraint.objectEqual(t[n].constraint)){i=n;break}return i}get test(){return{visualizationsActive:this.handles.has(m),engines:this._engines}}};t([d({constructOnly:!0})],_.prototype,\"view\",void 0),t([d()],_.prototype,\"options\",void 0),t([d({readOnly:!0})],_.prototype,\"updating\",null),t([d()],_.prototype,\"snappingEnginesFactory\",void 0),t([d()],_.prototype,\"_engines\",void 0),t([d()],_.prototype,\"squaredMouseProximityTreshold\",null),t([d()],_.prototype,\"squaredTouchProximityThreshold\",null),_=t([c(\"esri.views.interactive.snapping.SnappingManager\")],_);const m=\"visualization-handle\";export{_ as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{makeHandle as n}from\"../../../core/handleUtils.js\";import{nextTick as e}from\"../../../core/nextTick.js\";import{SceneSnappingEngine as r}from\"./SceneSnappingEngine.js\";import{SnappingManager as o}from\"./SnappingManager.js\";const t=new Map;function a(e){t.has(e)||t.set(e,{referenceCount:0,snappingManager:p(e)});const r=t.get(e);r.referenceCount++;const o=n((()=>i(e,r)));return{snappingManager:r.snappingManager,...o}}function i(n,r){r.referenceCount--,r.referenceCount>0||e((()=>{0===r.referenceCount&&(r.snappingManager.destroy(),t.delete(n))}))}function p(n){return new o({view:n,snappingEnginesFactory:(e,o)=>[new r({view:n,options:o})]})}export{a as acquire};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.visualizer=e.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,abortMaybe as n}from\"../../../core/maybe.js\";import{ignoreAbortErrors as r,debounce as a}from\"../../../core/promiseUtils.js\";import{pointEquals as o}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as i}from\"../dragEventPipeline.js\";import{SnappingContext as s}from\"./SnappingContext.js\";import{TaskPriority as p,ImmediateTask as l}from\"../../support/Scheduler.js\";class d{constructor(){this.next=new i}createSnapDragEventPipelineStep({predicate:d=(()=>!0),cancel:c,snappingManager:m,snappingContext:x,updatingHandles:u}){if(e(m))return e=>e;let y=null,f=null;const g=()=>{y=n(y),m.doneSnapping(),t(f)&&f.frameTask.remove(),f=null};c.next((e=>(g(),e))),this.next=new i;const v=a((async({frameTask:e,point:t,context:n,event:r,dx:a,dy:i},s)=>{const p=await e.schedule((()=>m.snap(t,n,s)),s);if(p.valid){let l=await e.schedule((()=>p.apply()),s);t!==P&&(l=m.update(P,n)),o(l,h)||(r.mapEnd.x=l.x+a,r.mapEnd.y=l.y+i,this.next.execute(r))}}));let P,h;return e=>{if(!d(e))return e;if(\"start\"===e.action){const n=\"3d\"===m.view.type?m.view.resourceController.scheduler.registerTask(p.SNAPPING):l;f={context:new s({editGeometryOperations:x.editGeometryOperations,elevationInfo:x.elevationInfo,pointer:x.pointer,vertexHandle:t(e.info)?e.info.handle:null,excludeFeature:x.excludeFeature,visualizer:x.visualizer}),originalPos:t(e.snapOrigin)?x.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:n}}if(t(f)){const n=f.context.coordinateHelper.vectorToDehydratedPoint(f.context.coordinateHelper.arrayToVector([f.originalPos.x,f.originalPos.y,f.originalPos.z]));n.x+=e.mapEnd.x-e.mapStart.x,n.y+=e.mapEnd.y-e.mapStart.y;const a=e.mapStart.x-f.originalPos.x,o=e.mapStart.y-f.originalPos.y,i={...e,action:\"update\"},s=f.context,p=m.update(n,f.context);if(h=p,e.mapEnd.x=p.x+a,e.mapEnd.y=p.y+o,P=n,\"end\"!==e.action){const e=f.frameTask;t(y)||(y=new AbortController),u.addPromise(r(v({frameTask:e,event:i,context:s,point:n,dx:a,dy:o},y.signal)))}}return\"end\"===e.action&&g(),e}}}export{d as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{isSome as s,abortMaybe as o,removeMaybe as e,isNone as i}from\"../../../core/maybe.js\";import{debounce as a}from\"../../../core/promiseUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as l,ImmediateTask as c}from\"../../support/Scheduler.js\";let h=class extends r{constructor(t){super(t),this.stagedPoint=null,this._abortController=null,this._snap=a((async(t,r,s,o)=>{const e=await this._frameTask.schedule((()=>r.snap(t,s,o)),o);e.valid&&await this._frameTask.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapMapPoint&&(this.stagedPoint=r.update(this._snapMapPoint,s))}),o)}))}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=s(t)?t.registerTask(l.SNAPPING):c}destroy(){this._abortController=o(this._abortController),this._frameTask=e(this._frameTask)}async snap(t,r,s){return this.stagedPoint=r.update(t,s),this._snapMapPoint=t,i(this._abortController)&&(this._abortController=new AbortController),this._snap(t,r,s,this._abortController.signal)}abort(){this._abortController=o(this._abortController)}};t([n({constructOnly:!0})],h.prototype,\"view\",void 0),t([n()],h.prototype,\"stagedPoint\",void 0),h=t([p(\"esri.views.interactive.snapping.SnappingOperation\")],h);export{h as SnappingOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as n}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../geometry.js\";import t from\"../../../../analysis/LengthDimension.js\";import{HandleOwner as e}from\"../../../../core/HandleOwner.js\";import s from\"../../../../core/Handles.js\";import{isSome as a,applySome as o,destroyMaybe as r,isNone as p}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as m}from\"../../../../core/promiseUtils.js\";import{watch as d,sync as g,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{clonePoint as h}from\"../../../../layers/graphics/hydratedFeatures.js\";import{settings as _}from\"./settings.js\";import{createSphereManipulator as v}from\"../../interactive/manipulatorUtils.js\";import{SnappingVisualizer3D as M}from\"../../interactive/SnappingVisualizer3D.js\";import{screenToMap3D as f,hideManipulatorWhileDragging as P}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{createCoordinateHelper as j}from\"../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as y,resetProperties as w}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometry as D}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as S}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as x}from\"../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as H}from\"../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as b}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as O}from\"../../../interactive/snapping/SnappingOperation.js\";import C from\"../../../../geometry/Point.js\";let T=class extends e{constructor(n){super(n),this.stagedDimension=null,this._dimensionManipulators=new Map,this._dimensionHandles=new s,this._snappingPipeline=new b,this._snappingManagerResult=x(n.view),this.own(this._snappingManagerResult)}initialize(){this._snappingOperation=new O({view:this.view}),this.own([this._dimensionHandles,d((()=>this._snappingOperation.stagedPoint),(n=>{a(this.stagedDimension)&&(this.stagedDimension.endPoint=o(n,(n=>h(n,new C))))}),g)])}destroy(){this._snappingOperation=r(this._snappingOperation)}get updating(){return this.updatingHandles.updating||this._snappingManager.updating}get _snappingManager(){return this._snappingManagerResult.snappingManager}addDimension(n,i){if(this._dimensionManipulators.has(n))return;const t=this._createPointManipulator(n,{isStart:!0}),e=this._createPointManipulator(n,{isStart:!1}),s={startManipulator:t,endManipulator:e};this._setupDimensionToManipulatorsSync(n,s),this._dimensionManipulators.set(n,s),i.add(t),i.add(e)}removeDimension(n,i){const t=this._dimensionManipulators.get(n);if(p(t))return;this._dimensionHandles.remove(n);const{startManipulator:e,endManipulator:s}=t;this._dimensionManipulators.delete(n),i.remove(e),i.remove(s)}getManipulatorsForDimension(n){return this._dimensionManipulators.get(n)}onDeactivate(){this._snappingManager.doneSnapping()}onUnstagedClick({mapPoint:n,pointerType:i}){const e=this._snappingContext(i),s=h(this._snappingManager.update(n,e),new C),a=new t({startPoint:s,endPoint:null});return this.stagedDimension=a,this._snappingManager.doneSnapping(),a}onStagedClick({mapPoint:n,pointerType:i}){if(p(this.stagedDimension))return;const t=this._snappingContext(i),e=h(this._snappingManager.update(n,t),new C);this.stagedDimension.endPoint=e,this.stagedDimension=null,this._snappingManager.doneSnapping()}onPointerMove({mapPoint:n,pointerType:i}){const t=this._snappingContext(i);this.updatingHandles.addPromise(m(this._snappingOperation.snap(n,this._snappingManager,t)))}_setupDimensionToManipulatorsSync(n,i){const{startManipulator:t,endManipulator:e}=i;this._dimensionHandles.add([d((()=>({startPoint:n.startPoint,endPoint:n.endPoint,stagedDimension:this.stagedDimension})),(({startPoint:i,endPoint:s,stagedDimension:o})=>{a(i)?(t.available=p(o)||o===n,t.location=i):t.available=!1,a(s)?(e.available=p(o),e.location=s):e.available=!1}),l)],n)}_createPointManipulator(n,t){const{isStart:e}=t,s=e?\"startPoint\":\"endPoint\",a=v(this.view,i.toUnitRGB(_.pointManipulators.color),_.pointManipulators.opacity);a.available=!1,a.radius=_.pointManipulators.radius;const o=y(a,((i,t,e,a)=>{const o=P(i);t.next(o).next(f(this.view)).next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:this._snappingContext(a),snappingManager:this._snappingManager,cancel:e,updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((i=>{const t=h(i.mapEnd,new C);n[s]=t})),e.next(o).next(w(n,[s]))}));return this._dimensionHandles.add(o,n),a}_snappingContext(n){return new H({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:n,editGeometryOperations:new S(new D(\"point\",j(!0,!1,this.view.spatialReference))),visualizer:new M})}};n([c({constructOnly:!0,nonNullable:!0})],T.prototype,\"view\",void 0),n([c({readOnly:!0})],T.prototype,\"updating\",null),n([c()],T.prototype,\"stagedDimension\",void 0),T=n([u(\"esri.views.3d.analysis.Dimensioning.LengthDimensionSubTool\")],T);export{T as LengthDimensionSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{isSome as i,isNone as o}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{LengthDimensionSubTool as c}from\"./LengthDimensionSubTool.js\";import{newIntersector as p}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as m}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as u}from\"../../../interactive/AnalysisToolBase.js\";import{createScreenPointArrayFromEvent as h}from\"../../../support/screenUtils.js\";var d;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(d||(d={}));let v=class extends u{constructor(e){super(e),this.preferManipulatorCursor=!0,this.analysisViewData=null}initialize(){this._intersector=p(this.view.state.viewingMode),this._intersector.options.store=m.MIN,this._lengthDimensionSubTool=new c({view:this.view}),this.own(t(this._lengthDimensionSubTool));for(const e of this.analysis.dimensions.items)this._addDimension(e);this.own(this.analysis.dimensions.on(\"change\",(e=>{for(const t of e.added)this._addDimension(t);for(const t of e.removed)this._removeDimension(t)}))),this.own(s((()=>this.state),(e=>{e===d.Created&&this.finishToolCreation()}),n))}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?i(this._activeSubTool)?d.Creating:d.Created:d.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}getManipulatorsForDimension(e){return this._lengthDimensionSubTool.getManipulatorsForDimension(e)}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){i(this._activeSubTool)&&(this._activeSubTool.onDeactivate(),i(this._activeSubTool.stagedDimension)&&(this.analysis.dimensions.remove(this._activeSubTool.stagedDimension),this._activeSubTool.stagedDimension=null),this._activeSubTool=null)}_clickHandler(e){if(o(this._activeSubTool))return;const t=this._intersectScreen(e);if(!o(t)){if(o(this._activeSubTool.stagedDimension)){const i=this._activeSubTool.onUnstagedClick({mapPoint:t,pointerType:e.pointerType});this.analysis.dimensions.add(i)}else this._activeSubTool.onStagedClick({mapPoint:t,pointerType:e.pointerType});e.stopPropagation()}}_doubleClickHandler(e){this.view.activeTool=null,e.stopPropagation()}_pointerMoveHandler(e){if(o(this._activeSubTool))return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);o(t)||this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_intersectScreen(e){const t=h(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=l.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,this.view.spatialReference):null}_addDimension(e){this._lengthDimensionSubTool.addDimension(e,this.manipulators)}_removeDimension(e){this._lengthDimensionSubTool.removeDimension(e,this.manipulators)}};e([r({constructOnly:!0})],v.prototype,\"view\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysis\",void 0),e([r({readOnly:!0})],v.prototype,\"state\",null),e([r({readOnly:!0})],v.prototype,\"updating\",null),e([r({readOnly:!0})],v.prototype,\"cursor\",null),e([r({readOnly:!0})],v.prototype,\"preferManipulatorCursor\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysisViewData\",void 0),e([r()],v.prototype,\"_activeSubTool\",void 0),e([r()],v.prototype,\"_lengthDimensionSubTool\",void 0),v=e([a(\"esri.views.3d.analysis.Dimensioning.DimensioningTool\")],v);export{v as DimensioningTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{destroyHandle as s}from\"../../../../core/handleUtils.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{toUnit as n}from\"../../../../core/quantityUtils.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{C as l,e as d,v as c,f as h,z as p,c as f,n as u}from\"../../../../chunks/vec3.js\";import{c as _,Z as S}from\"../../../../chunks/vec3f64.js\";import{f as g}from\"../../../../chunks/vec4f64.js\";import{Axis as b}from\"../../../../geometry/support/Axis.js\";import{sv3d as v}from\"../../../../geometry/support/vectorStacks.js\";import{formatNumber as y}from\"../../../../intl/number.js\";import{settings as V}from\"./settings.js\";import{LabelVisualElement as w}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{EuclideanSegment as E}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as O}from\"../../webgl-engine/materials/lineStippleUtils.js\";let G=class extends t{constructor(e){super(e),this._directSegment=new E,this._dimensionSegment=new E,this._offsetAxis=_(),this._startOffsetSegment=new E(this._directSegment.startRenderSpace,this._dimensionSegment.startRenderSpace),this._endOffsetSegment=new E(this._directSegment.endRenderSpace,this._dimensionSegment.endRenderSpace),this._labelSegment=new E,this._hasValidGeometry=!1;const t={view:e.view,attached:!0,width:1,color:g(1,.5,0,1),renderOccluded:R.OccludeAndTransparent},s={...t,stipplePattern:O(5)};this._dimensionVisualElement=new j(t),this._startOffsetVisualElement=new j(s),this._endOffsetVisualElement=new j(s),this._label=new w({view:e.view,attached:!0,distance:0,fontSize:V.labels.fontSize})}initialize(){this.own([s(this._dimensionVisualElement),s(this._startOffsetVisualElement),s(this._endOffsetVisualElement),s(this._label)]);const{computation:e,view:t}=this,{dimension:i}=e;this.own([r((()=>({startPoint:i.startPoint,endPoint:i.endPoint,offset:i.offset,axis:i.axis,heading:i.heading})),(e=>{this._updateGeometry(e),this._updateLines(),this._updateLabelGeometry(t.state.camera)}),o),r((()=>e.length),(e=>this._updateLabelContent(e)),o),r((()=>t.state.camera),(e=>this._updateLabelGeometry(e)),o)])}get testInfo(){return{dimensionVisualElement:this._dimensionVisualElement,label:this._label}}_updateGeometry({startPoint:e,endPoint:t,offset:s,axis:n}){const{renderCoordsHelper:r}=this.view,o=this._directSegment;if(i(e)||i(t)||!r.toRenderCoords(e,o.startRenderSpace)||!r.toRenderCoords(t,o.endRenderSpace))return void(this._hasValidGeometry=!1);const{startRenderSpace:a,endRenderSpace:m}=o,d=o.eval(.5,v.get()),c=r.worldUpAtPosition(d,v.get()),h=r.worldBasisAtPosition(d,b.X,v.get()),p=this._offsetAxis;x(p,a,m,c,n,h);const f=s/r.unitInMeters,[u,_]=L(a,m,p,f),S=this._dimensionSegment;l(S.startRenderSpace,o.startRenderSpace,p,u),l(S.endRenderSpace,o.endRenderSpace,p,_),this._hasValidGeometry=!0}_updateLines(){if(!this._hasValidGeometry)return this._dimensionVisualElement.visible=!1,this._startOffsetVisualElement.visible=!1,void(this._endOffsetVisualElement.visible=!1);this._dimensionVisualElement.setGeometryFromSegment(this._dimensionSegment),this._startOffsetVisualElement.setGeometryFromSegment(this._startOffsetSegment),this._endOffsetVisualElement.setGeometryFromSegment(this._endOffsetSegment),this._dimensionVisualElement.visible=!0,this._startOffsetVisualElement.visible=!0,this._endOffsetVisualElement.visible=!0}_updateLabelContent(e){if(i(e)||!this._hasValidGeometry)return this._label.text=\"\",void(this._label.visible=!1);const{value:t}=n(e,\"meters\");this._label.text=`${y(t,{minimumFractionDigits:2,maximumFractionDigits:2})} m`,this._label.visible=!0}_updateLabelGeometry(e){if(!this._hasValidGeometry)return void(this._label.visible=!1);const{offset:t}=this.computation.dimension,s=e.computeRenderPixelSizeAt(this._dimensionSegment.eval(.5,v.get())),i=(Math.sign(t)>=0?1:-1)*V.labels.offset*s;P(this._labelSegment,this._dimensionSegment,this._offsetAxis,i),this._label.geometry={type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1}}};function x(e,t,s,i,n,r){switch(n){case\"horizontal\":return f(e,i);case\"vertical\":return d(t,i)<d(s,i)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(h(e,e,i),u(e,e),e);case\"direct\":return d(t,r)>d(s,r)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(u(e,e),e)}}function L(e,t,s,i=0){const n=d(t,s),r=d(e,s),o=Math.abs(n-r)+i;return n>r?[o,i]:[i,o]}function P(e,t,s,i){l(e.startRenderSpace,t.startRenderSpace,s,i),l(e.endRenderSpace,t.endRenderSpace,s,i)}e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"computation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"view\",void 0),G=e([m(\"esri.views.3d.analysis.Dimensioning.LengthDimensionVisualization\")],G);export{G as LengthDimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{LengthDimensionVisualization as e}from\"./LengthDimensionVisualization.js\";let r=class extends i{constructor(o){super(o),this._dimensionVisualizations=new Map}initialize(){for(const o of this.computations)this._addComputation(o);this.own(this.computations.on(\"change\",(({added:o,removed:i})=>{for(const s of i)this._removeComputation(s);for(const s of o)this._addComputation(s)})))}destroy(){this._dimensionVisualizations.forEach((o=>{o.destroy()})),this._dimensionVisualizations.clear()}get testInfo(){return{visualizations:Array.from(this._dimensionVisualizations.values())}}_addComputation(o){this._dimensionVisualizations.has(o)||this._dimensionVisualizations.set(o,new e({computation:o,view:this.view}))}_removeComputation(o){const i=this._dimensionVisualizations.get(o);s(i)||(i.destroy(),this._dimensionVisualizations.delete(o))}};o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"computations\",void 0),r=o([n(\"esri.views.3d.analysis.Dimensioning.DimensioningVisualization\")],r);export{r as DimensioningVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(s){super(s),this.dimension=null}};s([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),t=s([e(\"esri.views.3d.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as n}from\"../../core/maybe.js\";import{createLength as r}from\"../../core/quantityUtils.js\";import{lengthUnitFromSpatialReference as e,verticalLengthUnitFromSpatialReference as i}from\"../../core/unitUtils.js\";import{i as o,s as c}from\"../../chunks/vec3.js\";import{c as u}from\"../../chunks/vec3f64.js\";import{projectVectorToVector as l}from\"../../geometry/projection.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{computeEuclideanMeasurementSR as a}from\"./measurementUtils.js\";function f(t){return p(t,\"direct\")}function h(t){return p(t,\"horizontal\")}function p(t,i){const{hasZ:o,spatialReference:c}=t,u=a(c);let l=0;const s=e(u);if(n(s))return null;const f=\"direct\"===i?x:Z;for(const r of t.paths){if(r.length<2)continue;const t=r.length-1;for(let e=0;e<t;++e){const t=r[e];S[0]=t[0],S[1]=t[1],S[2]=o?t[2]:0;const i=r[e+1];k[0]=i[0],k[1]=i[1],k[2]=o?i[2]:0;const u=f(S,k,c);if(n(u))return null;l+=u.value}}return r(l,s)}function m(t,n){const{spatialReference:r}=t;return s(r,n.spatialReference)?(S[0]=t.x,S[1]=t.y,S[2]=t.hasZ?t.z:0,k[0]=n.x,k[1]=n.y,k[2]=n.hasZ?n.z:0,R(S,k,r)):null}function z(t,n){const{spatialReference:r}=t;return s(r,n.spatialReference)?(S[0]=t.x,S[1]=t.y,S[2]=t.hasZ?t.z:0,k[0]=n.x,k[1]=n.y,k[2]=n.hasZ?n.z:0,x(S,k,r)):null}function y(t,n){const{spatialReference:r}=t;return s(r,n.spatialReference)?(S[0]=t.x,S[1]=t.y,S[2]=t.hasZ?t.z:0,k[0]=n.x,k[1]=n.y,k[2]=n.hasZ?n.z:0,Z(S,k,r)):null}function d(t,n){const{spatialReference:r}=t;return s(r,n.spatialReference)?(S[0]=t.x,S[1]=t.y,S[2]=t.hasZ?t.z:0,k[0]=n.x,k[1]=n.y,k[2]=n.hasZ?n.z:0,g(S,k,r)):null}function v(t){return S[0]=t.x,S[1]=t.y,S[2]=t.hasZ?t.z:0,U(S,t.spatialReference)}function R(n,e,i){const o=b(n,e,i);return t(o)?{direct:r(o.direct,o.unit),horizontal:r(o.horizontal,o.unit),vertical:r(o.vertical,o.unit)}:null}function x(n,e,i){const o=b(n,e,i,\"direct\");return t(o)?r(o.direct,o.unit):null}function Z(n,e,i){const o=b(n,e,i,\"horizontal\");return t(o)?r(o.horizontal,o.unit):null}function j(n,e,i){const o=b(n,e,i,\"vertical\");return t(o)?r(Math.abs(o.verticalSigned),o.unit):null}function g(n,e,i){const o=b(n,e,i,\"vertical\");return t(o)?r(o.verticalSigned,o.unit):null}function U(n,e){const o=i(e);return t(o)?r(n[2],o):null}function b(t,r,i,u){const s=a(i),f=e(s);if(n(f))return null;const h=r[2]-t[2];if(\"vertical\"===u)return{verticalSigned:h,unit:f};if(!l(t,i,M,s)||!l(r,i,q,s))return null;if(\"direct\"===u){return{direct:o(q,M),unit:f}}if(c(w,t[0],t[1],r[2]),!l(w,i,w,s))return null;const p=o(w,q);if(\"horizontal\"===u)return{horizontal:p,unit:f};return{direct:o(q,M),horizontal:p,vertical:Math.abs(h),unit:f}}const S=u(),k=u(),M=u(),q=u(),w=u();export{U as elevation,v as elevationOfPoint,x as euclideanDirectDistance,z as euclideanDirectDistanceBetweenPoints,R as euclideanDistance,m as euclideanDistanceBetweenPoints,Z as euclideanHorizontalDistance,y as euclideanHorizontalDistanceBetweenPoints,h as euclideanHorizontalLength,f as euclideanLength,j as verticalDistance,g as verticalSignedDistance,d as verticalSignedDistanceBetweenPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../LengthDimensionResult.js\";import{euclideanDistanceBetweenPoints as i}from\"../../../support/euclideanLengthMeasurementUtils.js\";let p=class extends r{constructor(o){super(o)}initialize(){this._set(\"result\",new n({dimension:this.dimension}))}get length(){const{startPoint:o,endPoint:r,axis:t}=this.dimension;if(s(o)||s(r))return null;const e=i(o,r);if(s(e))return null;return e[t]}};o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"dimension\",void 0),o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"result\",void 0),o([t()],p.prototype,\"length\",null),p=o([e(\"esri.views.3d.analysis.LengthDimensionComputation\")],p);export{p as LengthDimensionComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{abortMaybe as t,destroyMaybe as e}from\"../../../core/maybe.js\";import{on as n}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensioningTool as l}from\"./Dimensioning/DimensioningTool.js\";import{DimensioningVisualization as p}from\"./Dimensioning/DimensioningVisualization.js\";import{LengthDimensionComputation as c}from\"./Dimensioning/LengthDimensionComputation.js\";import{connectAnalysisViewToTool as d,removeAnalysisViewTool as u,activateTemporaryAnalysisViewTool as h}from\"../../analysis/analysisViewUtils.js\";let y=class extends(m(i)){constructor(s){super(s),this.type=\"dimensioning-view-3d\",this.tool=null,this._computations=new o,this._dimensionsToResults=new Map,this._placementTask=null}initialize(){this.own([d(this,l),n((()=>this.analysis.dimensions),\"change\",(({added:s,removed:i})=>{for(const o of i)this._removeDimension(o);for(const o of s)this._addDimension(o)}),{onListenerAdd:s=>{for(const i of s)this._addDimension(i)},onListenerRemove:s=>{for(const i of s)this._removeDimension(i)}})]),this._analysisVisualization=new p({view:this.view,computations:this._computations})}destroy(){this._placementTask=t(this._placementTask),this._analysisVisualization=e(this._analysisVisualization),this._computations.drain((s=>s.destroy())),u(this)}get results(){return this.analysis.dimensions.map((s=>this._dimensionsToResults.get(s)))}get testInfo(){return{visualization:this._analysisVisualization}}async createLengthDimensions(s){return this._placementTask=t(this._placementTask),this._placementTask=h(this,l,s),this._placementTask.promise}_addDimension(s){const i=this._dimensionsToResults;if(i.has(s))return;const o=this._computations,t=new c({dimension:s});o.add(t),i.set(s,t.result)}_removeDimension(s){const i=this._computations,o=this._dimensionsToResults,t=i.findIndex((i=>i.dimension===s)),n=i.removeAt(t);o.delete(s),e(n)}};s([r({readOnly:!0})],y.prototype,\"type\",void 0),s([r({constructOnly:!0,nonNullable:!0})],y.prototype,\"analysis\",void 0),s([r()],y.prototype,\"tool\",void 0),s([r({readOnly:!0})],y.prototype,\"results\",null),s([r()],y.prototype,\"_analysisVisualization\",void 0),s([r()],y.prototype,\"_computations\",void 0),s([r()],y.prototype,\"_dimensionsToResults\",void 0),s([r()],y.prototype,\"_placementTask\",void 0),y=s([a(\"esri.views.3d.analysis.DimensioningAnalysisView3D\")],y);const _=y;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{c,l,b as i,e as a,g as u,a as p,f as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,fromPositionAndNormal as y,create as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=E();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=m(o,t,i(n,r,e.state.camera.eye));return m(s,s,t),y(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=l(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),m=o=>{if(i(o,o,r),j(t,o,o),\"global\"===e.viewingMode){l(o)*Math.sign(a(t,o))<.001-n&&i(o,u(o,t,.001),r)}return p(o,o,r),o};return e=>(e.renderStart=m(c(o,e.renderStart)),e.renderEnd=m(c(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{f as r,h as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,b as n,c as u,a as h}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{c as d}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as g}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as O}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as y}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as z}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class j extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=c(),this._up=c(),this._right=c(),this._renderOccluded=g.OccludeAndTransparent,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=g.Opaque,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){d(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){d(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new y(this.quadMaterialParameters),this._outlineMaterial=new z(this.outlineMaterialParameters),this._handles.add(i((()=>this.view.state.camera),(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const i=this.view.state.camera,a=this._size*i.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,a);r(b,this._position),s(b,b,[o,o,o]),t(e)&&(e.transformation=b)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[O.POSITION,{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[O.POSITION,new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)}}const b=a();export{j as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import n from\"../../../Color.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.enabled=!0}};e([i({type:Boolean})],r.prototype,\"enabled\",void 0),r=e([o(\"esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm\")],r);let l=class extends t{constructor(e){super(e),this.lineSnapper=new r,this.parallelLineSnapper=new r,this.rightAngleSnapper=new r,this.rightAngleTriangleSnapper=new r,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new n([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"lineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"parallelLineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleTriangleSnapper\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"shortLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"distance\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"intersectionParallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"parallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"touchSensitivityMultiplier\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointOnLineThreshold\",void 0),e([i({type:n,nonNullable:!0})],l.prototype,\"orange\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthReference\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthTarget\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,\"lineHintFadedExtensions\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"parallelLineHintWidth\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],l.prototype,\"parallelLineHintLength\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,\"parallelLineHintOffset\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],l.prototype,\"rightAngleHintSize\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],l.prototype,\"rightAngleHintOutlineSize\",void 0),l=e([o(\"esri.views.interactive.snapping.Settings.Defaults\")],l);const p=new l;export{p as defaults};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as t,g as s,h as e,c as n}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{defaults as i}from\"./Settings.js\";import{objectEqual as o}from\"./snappingUtils.js\";import{intersectLineAndPoint as c,LineType as h,intersectCircleAndPoint as a,intersectLineAndRay as u,intersectLineLikeAndCircle as p,pointToLineDistance as d,projectPointToRay as l,projectPointToLine as f,projectPointToCircle as E}from\"../../support/geometry2dUtils.js\";class j{constructor(t){this.coordinateHelper=t}}class m extends j{constructor(t,s){super(t),this.point=s}objectEqual(t){return t instanceof m&&o(this.point,t.point)}check(s){return t(s,this.point)<i.pointThreshold}closestTo(){return this.coordinateHelper.clone(this.point)}intersect(t){const s=[];return t instanceof b?s.push(...c({start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY},this.point)):t instanceof T&&s.push(...a(t.center,t.radius,this.point)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}class b extends j{constructor(t,s,e){super(t),this.start=s,this.end=e}objectEqual(t){return t instanceof b&&(o(this.start,t.start)&&o(this.end,t.end))}intersect(t){const s=[];return t instanceof m?s.push(...c({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},t.point)):t instanceof b?s.push(...u({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},{start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY})):t instanceof T&&s.push(...p({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},t.center,t.radius)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}class q extends b{constructor(t,s,e){super(t,s,e),this.dir=r(),this.p=r()}objectEqual(t){return t instanceof q&&super.objectEqual(t)}check(t){return s(this.dir,this.end,this.start),s(this.p,t,this.start),e(this.dir,this.p)>=0&&d(t,this.start,this.end)<i.pointOnLineThreshold}closestTo(t){const s=this.coordinateHelper.clone(t);return l(s,t,this.start,this.end),s}}class H extends b{constructor(t,s,e){super(t,s,e)}objectEqual(t){return t instanceof H&&super.objectEqual(t)}check(t){return d(t,this.start,this.end)<i.pointOnLineThreshold}closestTo(t){const s=this.coordinateHelper.clone(t);return f(s,t,this.start,this.end),s}}class L extends j{constructor(t,s,e,n){super(t),this.intersection=s,this.first=e,this.second=n}objectEqual(t){return t instanceof L&&(this.first.objectEqual(t.first)&&this.second.objectEqual(t.second))}check(){return!1}closestTo(t){const s=this.coordinateHelper.clone(t);return n(s,this.intersection),s}intersect(){return[]}}class T extends j{constructor(t,s,e){super(t),this.center=s,this.radius=e}objectEqual(t){return t instanceof T&&(this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius)}check(){return!1}closestTo(t){const s=this.coordinateHelper.clone(t);return E(s,t,this.center,this.radius),s}intersect(t){const s=[];return t instanceof b?s.push(...p({start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY},this.center,this.radius)):t instanceof m&&s.push(...a(this.center,this.radius,t.point)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}export{L as IntersectionConstraint,H as LineConstraint,b as LineLikeConstraint,T as PlanarCircleConstraint,m as PointConstraint,q as RayConstraint,j as SnappingConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../SnappingConstraint.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as i}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";class e extends i{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.edgeStart,n.edgeEnd)})}get hints(){return[new r(n.REFERENCE,this.constraint.start,this.constraint.end,this.elevationInfo)]}}export{e as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{SnappingCandidate as t}from\"./SnappingCandidate.js\";class e extends t{constructor({coordinateHelper:t,targetPoint:e,objectId:o,constraint:n,elevationInfo:r}){super(t,e,n,r),this.objectId=o}}export{e as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t,o,i,s){this.coordinateHelper=t,this.targetPoint=o,this.constraint=i,this.elevationInfo=s}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.elevationInfo)]}}export{r as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{objectEqual as i}from\"../snappingUtils.js\";import{SnappingHint as e}from\"./SnappingHint.js\";t.getLogger(\"esri.views.interactive.snapping.hints.LineSnappingHint\");class s extends e{constructor(t,i,e,s,n=!0,r=!0){super(s),this.type=t,this.lineStart=i,this.lineEnd=e,this.fadeLeft=n,this.fadeRight=r}equals(t){return t instanceof s&&(this.type===t.type&&i(this.lineStart,t.lineStart)&&i(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight)}}export{s as LineSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t,n){super(n),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass o{constructor(o){this.elevationInfo=o}}export{o as SnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as t}from\"../../../chunks/vec2.js\";function E(t,E){const n=t.x-E.x,r=t.y-E.y;return n*n+r*r}function n(t,E){const n=t.length===E.length&&t[0]===E[0]&&t[1]===E[1];switch(t.length){case 2:return n;case 3:return n&&t[2]===E[2];case 4:return n&&t[3]===E[3]}return!1}function r(E,n){n.sort(((n,r)=>t(n.targetPoint,E)-t(r.targetPoint,E)))}var e;!function(t){t[t.TARGET=0]=\"TARGET\",t[t.REFERENCE=1]=\"REFERENCE\",t[t.REFERENCE_EXTENSION=2]=\"REFERENCE_EXTENSION\"}(e||(e={}));export{e as LineSegmentHintType,n as objectEqual,r as sortCandidatesInPlace,E as squareDistance};\n"],"names":["t","y","r","constructor","super","this","type","startPoint","endPoint","axis","offset","heading","extent","s","l","i","union","n","prototype","c","o","nonNullable","Number","p","e","a","readOnly","m","u","main","color","opacity","radius","fontSize","height","pointManipulators","labels","G","C","_ray","O","_externalResources","_handles","_isWorldDown","_start","_","_end","d","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","V","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","j","_fadedExtensions","F","applyProps","createExternalResources","M","materialParameters","add","view","state","camera","_updateGeometry","A","attached","material","laserline","destroyExternalResources","destroy","removeAll","forEachExternalMaterial","createGeometries","extensionType","FADED","push","Float32Array","P","addGeometry","_updateVertices","updateVisibility","visible","setStartEndFromWorldDownAtLocation","renderCoordsHelper","worldUpAtPosition","D","start","end","width","_updateMaterial","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","f","stipplePreferContinuous","falloff","_laserlineAttached","laserlineStyle","style","laserlineEnabled","renderOccluded","fadedExtensions","recreateGeometry","setParameters","hasPolygonOffset","writeDepth","object","_updateLineSegmentFinite","T","_updateLineSegmentInfinite","_updateVertexAttributes","intersectsLine","E","W","c0","MAX_VALUE","RAY","GROUND_RAY","origin","elevationProvider","getElevation","spatialReference","getAltitude","h","ray","direction","c1","Math","abs","b","frustum","g","L","x","S","geometries","getMutableAttribute","v","data","R","geometryVertexAttrsUpdated","geometryRecords","w","N","_location","_direction","_offset","_length","location","setDirectionFromPoints","length","projectToScreen","geometry","k","unprojectFromScreen","intersectionPoint","equals","lineStart","lineEnd","previousVertex","centerVertex","nextVertex","draw","_getUniqueHints","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","visualizePoint","coordinateHelper","primitive","vectorToPoint","elevationInfo","size","outlineSize","outlineColor","pixelSnappingEnabled","point","_createLineSegmentHintFromMap","fadeLeft","fadeRight","outlineRenderOccluded","previous","center","next","_createLineSegmentHint","layer","enabled","updating","availability","constructOnly","_ids","Set","tmpP","workerHandle","initialize","schedule","fetchAllEdgeLocations","_fetchAllEdgeLocations","toXYZ","toRenderCoords","distance","pixelSize","invoke","bounds","types","candidates","sort","map","_convertCandidate","id","invokeMethod","delete","objectId","targetPoint","_convertRenderCoordinate","target","edgeStart","edgeEnd","fromRenderCoords","fromXYZ","uid","components","has","fetchEdgeLocations","signal","locations","buffer","objectIds","result","Promise","all","filter","transferList","strategy","client","abortController","AbortController","updatingHandles","layerSource","resourceController","edgeWorker","async","tracker","Error","addPromise","_setupLayerView","handles","fetchCandidates","refresh","whenLayerView","remove","trackSnappingSources","options","_snappingSources","own","on","layerView","_createSource","_removeSource","allLayerViews","items","drain","some","_types","computeScreenPixelSizeAt","flat","findIndex","removeAt","constraint","otherVertex","otherVertexType","hints","CENTER","NEXT","sourceModules","featureService","module","loader","featureCollection","graphics","snappingSources","snappingSource","_get","Map","featureSources","get","set","loaded","load","_createSourceInfo","notifyChange","_updateLayerView","_set","effectiveFeatureEnabled","_computeScreeenSizeDistanceParameters","suspended","then","_candidateIsExcluded","excludeFeature","_addRightAngleCandidates","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","getFirstVertex","leftEdge","leftVertex","getLastVertex","_addRightAngleCandidate","closestTo","pointer","touchSensitivityMultiplier","resolution","_computeScreenSizeDistanceParameters3D","unitInMeters","mapCoordsHelper","_computeScreenMagnitudeOfMapOffset","clone","sqrt","_getCandidateObjectId","sourceLayer","attributes","objectIdField","_createFeatureSnappingSourceType","loading","destroyed","find","H","source","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_getSourceModule","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","_loadSourceModule","squaredShortLineThreshold","snap","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","squaredProximityTreshold","squaredTouchProximityThreshold","squaredMouseProximityTreshold","referenceLineHint","_lineEndClosestToTarget","sign","edges","_processCandidateProposal","component","getZ","referenceLine","_referenceLines","edge","addReferenceLine","forEach","arguments","_tmpProjection","vertices","_checkEdgeForParalleLines","_parallelToPreviousCandidate","_tmp","_checkForSnappingCandidate","createVector","point1","point2","p1","p2","index","_snappers","effectiveSelfEnabled","enabledToggled","selfEnabled","featureEnabled","effectiveEnabled","first","second","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","doneSnapping","emit","viewReady","ready","viewSpatialReference","_recreateEngines","_destroyEngines","pointToVector","_fetchCandidates","valid","apply","snappedPoint","_processCandidates","_removeVisualization","visualizer","update","_squaredPointProximityThreshold","vectorToDehydratedPoint","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","intersect","intersection","objectEqual","check","test","visualizationsActive","engines","referenceCount","snappingManager","createSnapDragEventPipelineStep","predicate","cancel","snappingContext","frameTask","context","event","dx","dy","mapEnd","execute","action","scheduler","registerTask","info","handle","originalPos","snapOrigin","mapStart","arrayToVector","z","stagedPoint","_abortController","_snap","_frameTask","_snapMapPoint","abort","stagedDimension","_dimensionManipulators","_dimensionHandles","_snappingPipeline","_snappingManagerResult","_snappingOperation","_snappingManager","addDimension","_createPointManipulator","isStart","startManipulator","endManipulator","_setupDimensionToManipulatorsSync","removeDimension","getManipulatorsForDimension","onDeactivate","onUnstagedClick","mapPoint","pointerType","_snappingContext","onStagedClick","onPointerMove","available","mode","Ready","Creating","Created","preferManipulatorCursor","analysisViewData","_intersector","viewingMode","store","_lengthDimensionSubTool","analysis","dimensions","_addDimension","added","removed","_removeDimension","finishToolCreation","_activeSubTool","cursor","active","onInputEvent","_clickHandler","_doubleClickHandler","_pointerMoveHandler","onActivate","_intersectScreen","stopPropagation","activeTool","hasFocusedManipulators","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","manipulators","_directSegment","_dimensionSegment","_offsetAxis","_startOffsetSegment","startRenderSpace","_endOffsetSegment","endRenderSpace","_labelSegment","_hasValidGeometry","_dimensionVisualElement","_startOffsetVisualElement","_endOffsetVisualElement","_label","computation","dimension","_updateLines","_updateLabelGeometry","_updateLabelContent","testInfo","dimensionVisualElement","label","eval","worldBasisAtPosition","setGeometryFromSegment","text","value","minimumFractionDigits","maximumFractionDigits","computeRenderPixelSizeAt","sampleLocation","segment","callout","_dimensionVisualizations","computations","_addComputation","_removeComputation","clear","visualizations","Array","from","values","hasZ","direct","unit","horizontal","vertical","verticalSigned","q","tool","_computations","_dimensionsToResults","_placementTask","onListenerAdd","onListenerRemove","_analysisVisualization","visualization","promise","screenStart","screenEnd","renderStart","renderEnd","plane","disableDisplay","B","I","selectionMode","hud","requiresGroundFeedback","enableDraped","exclude","ground","U","intersectIntersectorScreen","intersector","GROUND","OTHER","surfaceType","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","transformation","exclusive","Uint16Array","transparent","Boolean","lineSnapper","parallelLineSnapper","rightAngleSnapper","rightAngleTriangleSnapper","shortLineThreshold","pointThreshold","intersectionParallelLineThreshold","parallelLineThreshold","pointOnLineThreshold","orange","lineHintWidthReference","lineHintWidthTarget","lineHintFadedExtensions","parallelLineHintWidth","parallelLineHintLength","parallelLineHintOffset","rightAngleHintSize","rightAngleHintOutlineSize","json","write","range","max","step","dir","TARGET","REFERENCE","REFERENCE_EXTENSION"],"sourceRoot":""}