"use strict";(self["webpackChunkeco_friendly"]=self["webpackChunkeco_friendly"]||[]).push([[2993],{42993:function(n,a,e){e.r(a),e.d(a,{default:function(){return d}});var o=function(){var n=this,a=n._self._c;return a("div",{staticClass:"home_div"},[a("div",{attrs:{id:"container"}}),a("div",{staticClass:"map_title"},[a("el-switch",{attrs:{"active-text":"显示热力图","inactive-text":""},on:{change:function(a){return n.changValue()}},model:{value:n.value1,callback:function(a){n.value1=a},expression:"value1"}})],1)])},t=[],i=e(77634),l=e.n(i),p={data(){return{marker:null,value1:!0,map:null,heatMap:null,markers:[],lnglats:[[118.3093,32.3153],[118.3244,32.2786],[118.3118,32.3038]],data:[{lng:118.3093,lat:32.3153,count:41},{lng:118.3244,lat:32.2786,count:79},{lng:118.3118,lat:32.3038,count:89},{lng:110.35,lat:20.02,count:100},{lng:110.33,lat:19.98,count:99},{lng:110.72,lat:19.61,count:98},{lng:110.31,lat:19.68,count:90},{lng:110.324088,lat:20.033974,count:20},{lng:110.006008,lat:19.740726,count:40},{lng:110.354133,lat:19.682566,count:30},{lng:110.46949,lat:19.260965,count:60},{lng:110.793586,lat:19.543863,count:50},{lng:109.687812,lat:19.913553,count:30},{lng:109.577949,lat:19.521891,count:20},{lng:109.047859,lat:19.302164,count:60},{lng:108.650978,lat:19.098368,count:20},{lng:109.167161,lat:109.167161,count:10},{lng:109.167161,lat:18.775798,count:30},{lng:109.694505,lat:18.643962,count:50},{lng:110.032335,lat:18.506633,count:40},{lng:109.829088,lat:19.033977,count:60},{lng:109.517076,lat:18.240215,count:70}]}},mounted(){this.initMap()},methods:{changValue(){if(this.value1)this.heatMap.setDataSet({data:this.data,max:100});else{let n=[];this.heatMap.setDataSet({data:n,max:100})}},initMap(){l().load({key:"0e5904b2829e2e25ffcdecc5685b2209",version:"2.0",plugins:["AMap.MoveAnimation","AMap.ToolBar","AMap.Scale","AMap.MapType","AMap.Geolocation","AMap.HawkEye","AMap.HeatMap"]}).then((n=>{var a=this;function e(){a.map.clearMap();var e=new n.Marker({map:a.map,position:[118.3093,32.3153]});e.on("click",(function(){i.open(a.map,e.getPosition())}))}this.map=new n.Map("container",{resizeEnable:!0,viewMode:"3D",zoom:10,center:[118.3093,32.3153],doubleClickZoom:!0,dragEnable:!0,keyboardEnable:!1}),e();var o='站点1<span style="font-size:11px;color:#F00;">价格:318</span>',t=[];t.push("<img style='position: relative;left: 10px' src='http://tpc.googlesyndication.com/simgad/5843493769827749134'>"),t.push(""),t.push("天气质量:"),t.push("CO指数:"),t.push("SO2指数:"),t.push("NO2指数:"),t.push("CO2指数:"),t.push("PM2.5指数:"),t.push("PM10指数:"),t.push("<a href='https://ditu.amap.com/detail/B000A8URXB?citycode=110105'>该站点详细信息</a>");var i=new n.InfoWindow({isCustom:!0,content:l(o,t.join("<br/>")),offset:new n.Pixel(16,-45)});function l(n,a){var e=document.createElement("div");e.className="custom-info input-card content-window-card",e.style.width="200px";var o=document.createElement("div"),t=document.createElement("div"),i=document.createElement("img");o.className="info-top",t.innerHTML=n,i.src="https://webapi.amap.com/images/close2.gif",i.onclick=p,o.appendChild(t),o.appendChild(i),e.appendChild(o);var l=document.createElement("div");l.className="info-middle",l.style.backgroundColor="white",l.innerHTML=a,e.appendChild(l);var s=document.createElement("div");s.className="info-bottom",s.style.position="relative",s.style.top="0px",s.style.margin="0 auto";var c=document.createElement("img");return c.src="https://webapi.amap.com/images/sharp.png",s.appendChild(c),e.appendChild(s),e}function p(){a.map.clearInfoWindow()}this.map.setFitView(),this.heatMap=new n.HeatMap(this.map,{radius:50,opacity:[0,1],gradient:{1:"#FF4C2F",.8:"#FAA53F",.6:"#FFF100",.5:"#7DF675",.4:"#5CE182",.2:"#29CF6F"}}),this.heatMap.setDataSet({data:this.data,max:100}),this.map.addControl(new n.ToolBar),this.map.addControl(new n.Scale),this.map.addControl(new n.HawkEye({isOpen:!0})),this.map.addControl(new n.Geolocation)})).catch((n=>{console.log(n)}))}}},s=p,c=e(1001),r=(0,c.Z)(s,o,t,!1,null,null,null),d=r.exports},77634:function(n,a,e){e(21703),function(a,e){n.exports=e()}(0,(function(){function n(n){var o=[];return n.AMapUI&&o.push(a(n.AMapUI)),n.Loca&&o.push(e(n.Loca)),Promise.all(o)}function a(n){return new Promise((function(a,e){var p=[];if(n.plugins)for(var s=0;s<n.plugins.length;s+=1)-1==t.AMapUI.plugins.indexOf(n.plugins[s])&&p.push(n.plugins[s]);if(i.AMapUI===o.failed)e("前次请求 AMapUI 失败");else if(i.AMapUI===o.notload){i.AMapUI=o.loading,t.AMapUI.version=n.version||t.AMapUI.version,s=t.AMapUI.version;var c=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+s+"/main.js",r.onerror=function(n){i.AMapUI=o.failed,e("请求 AMapUI 失败")},r.onload=function(){if(i.AMapUI=o.loaded,p.length)window.AMapUI.loadUI(p,(function(){for(var n=0,e=p.length;n<e;n++){var o=p[n].split("/").slice(-1)[0];window.AMapUI[o]=arguments[n]}for(a();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()}));else for(a();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},c.appendChild(r)}else i.AMapUI===o.loaded?n.version&&n.version!==t.AMapUI.version?e("不允许多个版本 AMapUI 混用"):p.length?window.AMapUI.loadUI(p,(function(){for(var n=0,e=p.length;n<e;n++){var o=p[n].split("/").slice(-1)[0];window.AMapUI[o]=arguments[n]}a()})):a():n.version&&n.version!==t.AMapUI.version?e("不允许多个版本 AMapUI 混用"):l.AMapUI.push((function(n){n?e(n):p.length?window.AMapUI.loadUI(p,(function(){for(var n=0,e=p.length;n<e;n++){var o=p[n].split("/").slice(-1)[0];window.AMapUI[o]=arguments[n]}a()})):a()}))}))}function e(n){return new Promise((function(a,e){if(i.Loca===o.failed)e("前次请求 Loca 失败");else if(i.Loca===o.notload){i.Loca=o.loading,t.Loca.version=n.version||t.Loca.version;var p=t.Loca.version,s=t.AMap.version.startsWith("2"),c=p.startsWith("2");if(s&&!c||!s&&c)e("JSAPI 与 Loca 版本不对应！！");else{s=t.key,c=document.body||document.head;var r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+p+"&key="+s,r.onerror=function(n){i.Loca=o.failed,e("请求 AMapUI 失败")},r.onload=function(){for(i.Loca=o.loaded,a();l.Loca.length;)l.Loca.splice(0,1)[0]()},c.appendChild(r)}}else i.Loca===o.loaded?n.version&&n.version!==t.Loca.version?e("不允许多个版本 Loca 混用"):a():n.version&&n.version!==t.Loca.version?e("不允许多个版本 Loca 混用"):l.Loca.push((function(n){n?e(n):e()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(n){n.notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed"})(o||(o={}));var t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},l={AMap:[],AMapUI:[],Loca:[]},p=[],s=function(n){"function"==typeof n&&(i.AMap===o.loaded?n(window.AMap):p.push(n))};return{load:function(a){return new Promise((function(e,l){if(i.AMap==o.failed)l("");else if(i.AMap==o.notload){var c=a.key,r=a.version,d=a.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),t.key=c,t.AMap.version=r||t.AMap.version,t.AMap.plugins=d||t.AMap.plugins,i.AMap=o.loading,r=document.body||document.head,window.___onAPILoaded=function(t){if(delete window.___onAPILoaded,t)i.AMap=o.failed,l(t);else for(i.AMap=o.loaded,n(a).then((function(){e(window.AMap)}))["catch"](l);p.length;)p.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+t.AMap.version+"&key="+c+"&plugin="+t.AMap.plugins.join(","),d.onerror=function(n){i.AMap=o.failed,l(n)},r.appendChild(d)):l("请填写key")}else if(i.AMap==o.loaded)if(a.key&&a.key!==t.key)l("多个不一致的 key");else if(a.version&&a.version!==t.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(c=[],a.plugins)for(r=0;r<a.plugins.length;r+=1)-1==t.AMap.plugins.indexOf(a.plugins[r])&&c.push(a.plugins[r]);c.length?window.AMap.plugin(c,(function(){n(a).then((function(){e(window.AMap)}))["catch"](l)})):n(a).then((function(){e(window.AMap)}))["catch"](l)}else if(a.key&&a.key!==t.key)l("多个不一致的 key");else if(a.version&&a.version!==t.AMap.version)l("不允许多个版本 JSAPI 混用");else{var u=[];if(a.plugins)for(r=0;r<a.plugins.length;r+=1)-1==t.AMap.plugins.indexOf(a.plugins[r])&&u.push(a.plugins[r]);s((function(){u.length?window.AMap.plugin(u,(function(){n(a).then((function(){e(window.AMap)}))["catch"](l)})):n(a).then((function(){e(window.AMap)}))["catch"](l)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,t={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},l={AMap:[],AMapUI:[],Loca:[]}}}}))}}]);
//# sourceMappingURL=2993.33c5ff75.js.map