{"version":3,"file":"static/js/1652.146250c0.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/support/colorUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as i,shapes as c,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",v=\"text\",w=\"Aa\",g=i.size,b=i.maxSize,M=i.maxOutlineSize,k=i.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,o=null!=n?a(n):null,i=null!=t?.maxSize?a(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,M));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const t=e.style,n=Math.min(null!=o?o:a(e.size),i||b);switch(C=n,U=n,t){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*n},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},r&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),r&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=o?o:z,i||M),l=null!=e?e:k;u.width=n,C=l,U=n;const s=x?.stroke?.cap||\"butt\",c=\"round\"===s;j=!0,x.stroke.cap=\"butt\"===s?\"square\":s,x.shape={type:\"path\",path:[{command:\"M\",values:[c?n/2:0,U/2]},{command:\"L\",values:[c?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=e&&null!=a?a:null!=o?o:g,U=e&&null!=n?n:C,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case p:{let t=a(e.width),n=a(e.height);const l=null!=o?o:Math.max(t,n),s=t/n;t=s<=1?Math.ceil(l*s):l,n=s<=1?l:Math.ceil(l/s),C=Math.min(t,i||b),U=Math.min(n,i||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},r&&(E=!0);break}case v:{const t=e,n=t.text||w,l=t.font,s=Math.min(null!=o?o:a(l.size),i||b),c=L(n,{weight:l.weight,size:s,family:l.family}),r=/[\\uE600-\\uE6FF]/.test(n);C=r?s:c,U=s;let m=.25*S((l?s:0).toString());r&&(m+=5),x.shape={type:\"text\",text:n,x:t.xoffset||0,y:t.yoffset||m,align:\"middle\",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},x.font=l&&{size:s,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:r,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const o=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];o.unshift([{...n,offset:[-e,0],fill:r(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:r(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(o,l,s)}function D(t,a=x){const n=l(t),o=s(t),i=!n||\"type\"in n?null:new e(n),c=o?.color?new e(o?.color):null,r=i?E(u(i),a):null,m=c?E(u(c),a):null;return m?r?r===m?r:a>=x?\"light\":\"dark\":m:r}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n"],"names":["e","r","n","g","a","b","o","Math","round","t","u","h","p","d","f","y","v","w","i","M","k","x","z","document","createElement","L","getContext","weight","push","size","family","font","join","measureText","width","j","C","S","length","parseFloat","slice","F","height","async","U","fill","color","type","src","toCss","E","Z","maxSize","rotation","angle","m","l","s","D","ignoreWhiteSymbols","shape","stroke","offset","min","scale","style","cx","cy","path","command","values","cap","c","symbolConfig","isSquareFill","max","ceil","url","text","test","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","q","applyColorModulation","unshift"],"sourceRoot":""}