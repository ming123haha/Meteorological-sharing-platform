{"version":3,"file":"static/js/8972.69b66cb9.js","mappings":"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","sources":["webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/Bitmap.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/webgl/Mesh2D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/webgl/ClippingInfo.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/layers/BaseDynamicLayerView2D.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/viewStateUtils.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","webpack://eco-friendly/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{b as e,c as i,r as s,j as r,m as h}from\"../../../chunks/mat3.js\";import{c as n}from\"../../../chunks/mat3f32.js\";import{f as o}from\"../../../chunks/vec2f32.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";import{TextureType as d,PixelFormat as c,PixelType as l,TextureWrapMode as _}from\"../../webgl/enums.js\";import{Texture as x}from\"../../webgl/Texture.js\";function m(t){return t&&\"render\"in t}function g(t){return t&&!(\"render\"in t)}function p(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function f(t,e,i){const s={target:d.TEXTURE_2D,pixelFormat:c.RGBA,internalFormat:c.RGBA,dataType:l.UNSIGNED_BYTE,wrapMode:_.CLAMP_TO_EDGE};return e&&i&&(s.width=e,s.height=i),new x(t,s)}class v extends u{constructor(t=null,e,i=!0){super(),this.requestRenderOnSourceChangedEnabled=i,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.blendFunction=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t.context)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}_createTransforms(){return{dvs:n()}}setTransform(t){const n=e(this.transforms.dvs),[u,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),d=this.resolution/this.pixelRatio/t.resolution,c=d*this.width,l=d*this.height,_=Math.PI*this.rotation/180;i(n,n,o(u,a)),i(n,n,o(c/2,l/2)),s(n,n,-_),i(n,n,o(-c/2,-l/2)),r(n,n,o(c,l)),h(this.transforms.dvs,t.displayViewMat3,n)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}updateTexture(e){if(!this.stage)return this._texture?.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=f(e,this.sourceWidth,this.sourceHeight):this._texture=f(e));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),m(i))if(i instanceof a){const e=i.getRenderedRasterPixels();this._texture.setData(t(e)?e.renderedRasterPixels:null)}else this._texture.setData(p(i));else g(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{v as Bitmap,m as isImageSource,p as rasterize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import s from\"./webgl/WGLContainer.js\";class t extends s{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.blendFunction))}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";class i{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return e(this.pixelBlock)?this.pixelBlock.width:0}get height(){return e(this.pixelBlock)?this.pixelBlock.height:0}render(e){const i=this.pixelBlock;if(t(i))return;const l=this.filter({pixelBlock:i});if(t(l.pixelBlock))return;const r=l.pixelBlock.getAsRGBA(),o=e.createImageData(l.pixelBlock.width,l.pixelBlock.height);o.data.set(r),e.putImageData(o,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return t(e.pixelBlock)?null:{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{e as o}from\"../../../../chunks/earcut.js\";import{a as s}from\"../../../../chunks/vec2.js\";import{a as n}from\"../../../../chunks/vec2f64.js\";import{convertFromNestedArray as i,convertFromPolygon as c}from\"../../../../layers/graphics/featureConversionUtils.js\";import a from\"../../../../layers/graphics/OptimizedGeometry.js\";import{i1616to32 as f}from\"./number.js\";import{BufferObject as h}from\"../../../webgl/BufferObject.js\";import{PrimitiveType as m,Usage as u,DataType as y}from\"../../../webgl/enums.js\";const x=t.getLogger(\"esri.views.2d.engine.webgl.Mesh2D\"),g=t=>{switch(t.BYTES_PER_ELEMENT){case 1:return y.UNSIGNED_BYTE;case 2:return y.UNSIGNED_SHORT;case 4:return y.UNSIGNED_INT;default:throw new e(\"Cannot get DataType of array\")}},p=(e,t,r,o)=>{let s=0;for(let n=1;n<r;n++){const r=e[2*(t+n-1)],o=e[2*(t+n-1)+1];s+=(e[2*(t+n)]-r)*(e[2*(t+n)+1]+o)}return o?s>0:s<0},l=({coords:e,lengths:t},r)=>{const s=[];for(let n=0,i=0;n<t.length;i+=t[n],n+=1){const c=i,a=[];for(;n<t.length-1&&p(e,i+t[n],t[n+1],r);n+=1,i+=t[n])a.push(i+t[n]-c);const f=e.slice(2*c,2*(i+t[n])),h=o(f,a,2);for(const e of h)s.push(e+c)}return s};class w{constructor(e,t,r,o=!1){this._cache={},this.vertices=e,this.indices=t,this.primitiveType=r,this.isMapSpace=o}static fromRect({x:e,y:t,width:r,height:o}){const s=e,n=t,i=s+r,c=n+o;return w.fromScreenExtent({xmin:s,ymin:n,xmax:i,ymax:c})}static fromPath(e){const t=i(new a,e.path,!1,!1),r=t.coords,o=new Uint32Array(l(t,!0)),s=new Uint32Array(r.length/2);for(let n=0;n<s.length;n++)s[n]=f(Math.floor(r[2*n]),Math.floor(r[2*n+1]));return new w({geometry:s},o,m.TRIANGLES)}static fromGeometry(t,r){const o=r.geometry.type;switch(o){case\"polygon\":return w.fromPolygon(t,r.geometry);case\"extent\":return w.fromMapExtent(t,r.geometry);default:return x.error(new e(\"mapview-bad-type\",`Unable to create a mesh from type ${o}`,r)),w.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(e,t){const r=c(new a,t,!1,!1),o=r.coords,i=new Uint32Array(l(r,!1)),h=new Uint32Array(o.length/2),u=n(),y=n();for(let n=0;n<h.length;n++)s(u,o[2*n],o[2*n+1]),e.toScreen(y,u),h[n]=f(Math.floor(y[0]),Math.floor(y[1]));return new w({geometry:h},i,m.TRIANGLES,!0)}static fromScreenExtent({xmin:e,xmax:t,ymin:r,ymax:o}){const s={geometry:new Uint32Array([f(e,r),f(t,r),f(e,o),f(e,o),f(t,r),f(t,o)])},n=new Uint32Array([0,1,2,3,4,5]);return new w(s,n,m.TRIANGLES)}static fromMapExtent(e,t){const[r,o]=e.toScreen([0,0],[t.xmin,t.ymin]),[s,n]=e.toScreen([0,0],[t.xmax,t.ymax]),i={geometry:new Uint32Array([f(r,o),f(s,o),f(r,n),f(r,n),f(s,o),f(s,n)])},c=new Uint32Array([0,1,2,3,4,5]);return new w(i,c,m.TRIANGLES)}destroy(){r(this._cache.indexBuffer)&&this._cache.indexBuffer.dispose();for(const e in this._cache.vertexBuffers)r(this._cache.vertexBuffers[e])&&this._cache.vertexBuffers[e].dispose()}get elementType(){return g(this.indices)}getIndexBuffer(e,t=u.STATIC_DRAW){return this._cache.indexBuffer||(this._cache.indexBuffer=h.createIndex(e,t,this.indices)),this._cache.indexBuffer}getVertexBuffers(e,t=u.STATIC_DRAW){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce(((r,o)=>({...r,[o]:h.createVertex(e,t,this.vertices[o])})),{})),this._cache.vertexBuffers}}export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import e from\"../../../../core/Logger.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{c as o}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import a from\"./Mesh2D.js\";import{VertexArrayObject as c}from\"../../../webgl/VertexArrayObject.js\";const n=e.getLogger(\"esri.views.2d.engine.webgl.ClippingInfo\"),m=t=>parseFloat(t)/100;class p extends h{constructor(t,e){super(),this._clip=e,this._cache={},this.stage=t,this._handle=i((()=>e.version),(()=>this._invalidate())),this.ready()}static fromClipArea(t,e){return new p(t,e)}_destroyGL(){r(this._cache.mesh)&&(this._cache.mesh.destroy(),this._cache.mesh=null),r(this._cache.vao)&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(t,e,r,i){const[o,h]=e.size;if(\"geometry\"!==this._clip.type&&this._lastWidth===o&&this._lastHeight===h||(this._lastWidth=o,this._lastHeight=h,this._destroyGL()),s(this._cache.vao)){const s=this._createMesh(e,this._clip),o=s.getIndexBuffer(t),h=s.getVertexBuffers(t);this._cache.mesh=s,this._cache.vao=new c(t,r,i,h,o)}return this._cache.vao}_createTransforms(){return{dvs:o()}}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(t,e){const[r,s]=t.size,i=\"string\"==typeof e.left?m(e.left)*r:e.left,o=\"string\"==typeof e.right?m(e.right)*r:e.right,h=\"string\"==typeof e.top?m(e.top)*s:e.top,a=\"string\"==typeof e.bottom?m(e.bottom)*s:e.bottom,c=i,n=h;return{x:c,y:n,width:Math.max(r-o-c,0),height:Math.max(s-a-n,0)}}_createMesh(e,r){switch(r.type){case\"rect\":return a.fromRect(this._createScreenRect(e,r));case\"path\":return a.fromPath(r);case\"geometry\":return a.fromGeometry(e,r);default:return n.error(new t(\"mapview-bad-type\",\"Unable to create ClippingInfo mesh from clip of type: ${clip.type}\")),a.fromRect({x:0,y:0,width:1,height:1})}}}export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/mat3f32.js\";import{brushes as t}from\"../brushes.js\";import{Container as i}from\"../Container.js\";import n from\"./ClippingInfo.js\";import{WGLDrawPhase as o}from\"./enums.js\";class a extends i{constructor(){super(...arguments),this.name=this.constructor.name}set clips(e){this._clips=e,this.children.forEach((r=>r.clips=e)),this._updateClippingInfo()}_createTransforms(){return{dvs:s()}}doRender(e){const r=this.createRenderParams(e),{painter:s,globalOpacity:t,profiler:i,drawPhase:n}=r,a=n===o.LABEL||n===o.HIGHLIGHT?1:t*this.computedOpacity;i.recordContainerStart(this.name),s.beforeRenderLayer(r,this._clippingInfos?255:0,a),this.updateTransforms(e.state),this.renderChildren(r),s.compositeLayer(r,a),i.recordContainerEnd()}renderChildren(r){e(this._renderPasses)&&(this._renderPasses=this.prepareRenderPasses(r.painter));for(const e of this.children)e.beforeRender(r);for(const e of this._renderPasses)try{e.render(r)}catch(s){}for(const e of this.children)e.afterRender(r)}createRenderParams(e){return e.requireFBO=this.requiresDedicatedFBO,e}prepareRenderPasses(e){return[e.registerRenderPass({name:\"clip\",brushes:[t.clip],target:()=>this._clippingInfos,drawPhase:o.MAP|o.LABEL|o.LABEL_ALPHA|o.DEBUG|o.HIGHLIGHT})]}updateTransforms(e){for(const r of this.children)r.setTransform(e)}onAttach(){super.onAttach(),this._updateClippingInfo()}onDetach(){super.onDetach(),this._updateClippingInfo()}_updateClippingInfo(){if(r(this._clippingInfos)&&(this._clippingInfos.forEach((e=>e.destroy())),this._clippingInfos=null),!this.stage)return;const e=this._clips;r(e)&&e.length&&(this._clippingInfos=e.items.map((e=>n.fromClipArea(this.stage,e)))),this.requestRender()}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Logger.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapContainer as a}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as o}from\"./LayerView2D.js\";import p from\"./support/ExportStrategy.js\";import n from\"../../layers/LayerView.js\";import m from\"../../layers/RefreshableLayerView.js\";const h=e.getLogger(\"esri.views.2d.layers.BaseDynamicLayerView2D\");let c=class extends(m(o(n))){update(t){this.strategy.update(t).catch((t=>{r(t)||h.error(t)})),this.notifyChange(\"updating\")}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this.strategy=new p({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,r){return this.layer.fetchImage(t,e,r)}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}};t([s()],c.prototype,\"strategy\",void 0),t([s()],c.prototype,\"updating\",void 0),c=t([i(\"esri.views.2d.layers.BaseDynamicLayerView2D\")],c);const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,n,o){const{resolution:r,size:u}=o;return t[0]=r*(Math.round(n[0]/r)+u[0]%2*.5),t[1]=r*(Math.round(n[1]/r)+u[1]%2*.5),t}function r(t,o){const r=n(o.rotation),u=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),[s,c]=o.size;return t[0]=Math.round(c*a+s*u),t[1]=Math.round(c*u+s*a),t}function u(t,n,o,r){const[u,a]=n,[s,c]=r,i=.5*o;return t[0]=u-i*s,t[1]=a-i*c,t[2]=u+i*s,t[3]=a+i*c,t}function a(t,n){const[o,r,u,a]=t,[s,c,i,e]=n;return!(o>i||u<s||r>e||a<c)}export{a as bboxIntersects,u as getBBox,r as getOuterSize,o as snapToPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{debounce as i}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Extent.js\";import{create as a}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import n from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as m,getBBox as l}from\"../../viewStateUtils.js\";import{Bitmap as d}from\"../../engine/Bitmap.js\";import h from\"../../tiling/TileInfoView.js\";import c from\"../../tiling/TileKey.js\";const u=a(),g=[0,0],f=new c(0,0,0,0),x={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let y=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=x.hidpi,this.imageMaxWidth=x.imageMaxWidth,this.imageMaxHeight=x.imageMaxHeight,this.imageRotationSupported=x.imageRotationSupported,this.imageNormalizationSupported=x.imageNormalizationSupported,this.update=i((async(t,e)=>{if(!t.stationary||this.destroyed)return null;const i=t.state,o=p(i.spatialReference),r=this.hidpi?t.pixelRatio:1,s=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];s?(g[0]=i.worldScreenWidth,g[1]=i.size[1]):this.imageRotationSupported?(g[0]=i.size[0],g[1]=i.size[1]):m(g,i);const a=Math.floor(g[0]*r)>this.imageMaxWidth||Math.floor(g[1]*r)>this.imageMaxHeight,n=o&&(i.extent.xmin<o.valid[0]||i.extent.xmax>o.valid[1]),l=!this.imageNormalizationSupported&&n,d=!a&&!l,h=this.imageRotationSupported?i.rotation:0;if(d){const t=s?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,g,t,i.resolution,h,r,e)}else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);l&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,r,e)}return this._imagePromise.then((async t=>{if(this._imagePromise=null,!this.destroyed){this.bitmaps=t??[];for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{e.remove()}));for(const e of t)this.container.addChild(e),e.fadeIn()}})).catch((t=>{throw this._imagePromise=null,t}))}),5e3)}destroy(){this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e),e.invalidateTexture(),e.requestRender()}}async _export(t,e,i,o,r,s){const a=await this.fetchSource(t,Math.floor(e*r),Math.floor(i*r),{rotation:o,pixelRatio:r,signal:s}),p=new d(a,\"additive\");return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=o,p.pixelRatio=r,p}async _singleExport(t,e,i,o,r,a,p){l(u,i,o,e);const n=new s(u[0],u[1],u[2],u[3],t.spatialReference);return[await this._export(n,e[0],e[1],r,a,p)]}_tiledExport(t,e,i,o){const r=n.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),a=new h(r),p=a.getTileCoverage(t);if(!p)return null;const m=[];return p.forEach(((r,p,n,l)=>{f.set(r,p,n,l),a.getTileBounds(u,f);const d=new s(u[0],u[1],u[2],u[3],t.spatialReference);m.push(this._export(d,e,e,0,i,o))})),Promise.all(m)}};t([o()],y.prototype,\"_imagePromise\",void 0),t([o()],y.prototype,\"bitmaps\",void 0),t([o()],y.prototype,\"container\",void 0),t([o()],y.prototype,\"fetchSource\",void 0),t([o()],y.prototype,\"hidpi\",void 0),t([o()],y.prototype,\"imageMaxWidth\",void 0),t([o()],y.prototype,\"imageMaxHeight\",void 0),t([o()],y.prototype,\"imageRotationSupported\",void 0),t([o()],y.prototype,\"imageNormalizationSupported\",void 0),t([o()],y.prototype,\"requestUpdate\",void 0),t([o()],y.prototype,\"updating\",null),y=t([r(\"esri.views.2d.layers.support.ExportStrategy\")],y);const S=y;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n"],"names":["m","t","g","p","e","document","createElement","width","height","render","getContext","f","i","s","target","d","pixelFormat","c","internalFormat","dataType","l","wrapMode","_","x","v","u","constructor","super","this","requestRenderOnSourceChangedEnabled","_textureInvalidated","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_width","y","blendFunction","source","requestRender","bind","destroy","_texture","dispose","isSourceScaled","sourceWidth","sourceHeight","invalidateTexture","HTMLImageElement","naturalHeight","naturalWidth","beforeRender","updateTexture","context","_createTransforms","dvs","n","setTransform","transforms","a","toScreenNoRotation","Math","PI","o","r","h","displayViewMat3","setSamplingProfile","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","stage","resize","getRenderedRasterPixels","setData","renderedRasterPixels","ready","onAttach","onDetach","requiresDedicatedFBO","children","some","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","pixelBlock","extent","originalPixelBlock","filter","getAsRGBA","createImageData","data","set","putImageData","Uint8Array","buffer","BYTES_PER_ELEMENT","coords","lengths","length","push","slice","w","_cache","vertices","indices","primitiveType","isMapSpace","fromScreenExtent","xmin","ymin","xmax","ymax","path","Uint32Array","floor","geometry","type","fromPolygon","fromMapExtent","error","fromRect","toScreen","indexBuffer","vertexBuffers","elementType","getIndexBuffer","getVertexBuffers","Object","keys","reduce","parseFloat","_clip","_handle","version","_invalidate","_destroyGL","mesh","vao","remove","getVAO","size","_lastWidth","_lastHeight","_createMesh","_createScreenRect","left","right","top","bottom","max","arguments","clips","_clips","forEach","_updateClippingInfo","doRender","createRenderParams","painter","globalOpacity","profiler","computedOpacity","recordContainerStart","beforeRenderLayer","_clippingInfos","updateTransforms","state","renderChildren","compositeLayer","recordContainerEnd","_renderPasses","afterRender","requireFBO","items","map","update","strategy","catch","notifyChange","attach","_bitmapContainer","container","addChild","fetchSource","fetchBitmapData","requestUpdate","detach","removeChild","removeAllChildren","moveStart","viewChange","moveEnd","layer","fetchImage","isUpdating","updating","updateRequested","prototype","abs","cos","sin","round","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","hidpi","_imagePromise","bitmaps","async","stationary","destroyed","spatialReference","worldScreenWidth","valid","paddedViewState","center","_singleExport","min","_tiledExport","then","includes","fadeOut","fadeIn","updateExports","visible","signal","_export","scales","scale","getTileCoverage","getTileBounds","Promise","all","S","initialize","handles","add","doRefresh","dataChanged","declaredClass"],"sourceRoot":""}