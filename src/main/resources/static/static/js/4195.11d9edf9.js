"use strict";(self["webpackChunkeco_friendly"]=self["webpackChunkeco_friendly"]||[]).push([[4195],{94195:function(a,e,n){n.r(e),n.d(e,{classBreaks:function(){return y},heatmapStatistics:function(){return w},histogram:function(){return T},summaryStatistics:function(){return x},uniqueValues:function(){return z}});n(48675),n(3462),n(37380),n(1118),n(26699),n(80388),n(22130);var i=n(8693),t=n(30524),o=n(87429),l=n(857),r=n(54597),s=(n(10523),n(71290)),u=n(73124),f=n(21361),m=n(49304);let c=null;function d(a,e,n){return a.x<0?a.x+=e:a.x>n&&(a.x-=e),a}function p(a,e,n,t){const o=(0,r.MP)(n)?(0,r.C5)(n):null,s=o?Math.round((o.valid[1]-o.valid[0])/e.scale[0]):null;return a.map((a=>{const n=new m.Z((0,i.Wg)(a.geometry));return(0,l.RF)(e,n,n,n.hasZ,n.hasM),a.geometry=o?d(n,s,t[0]):n,a}))}function v(a,e=18,n,i,o,l){const r=new Float64Array(o*l);e=Math.round((0,t.F2)(e));let u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=0,c=0,d=0,p=0;const v=(0,s.wx)(i,n);for(const{geometry:t,attributes:x}of a){const{x:a,y:n}=t,i=Math.max(0,a-e),I=Math.max(0,n-e),z=Math.min(l,n+e),y=Math.min(o,a+e),T=+v(x);for(let t=I;t<z;t++)for(let l=i;l<y;l++){const i=t*o+l,v=(0,s.If)(l-a,t-n,e),I=r[i];m=r[i]+=v*T;const x=m-I;c+=x,d+=x*x,m<u&&(u=m),m>f&&(f=m),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const I=(f-u)/2;return{mean:c/p,stdDev:Math.sqrt((d-c*c/p)/p),min:u,max:f,mid:I,count:p}}async function I(a,e){if(!e)return[];const n=a.field,i=a.valueExpression,t=a.normalizationType,l=a.normalizationField,r=a.normalizationTotal,s=[],m=a.viewInfoParams;let d=null,p=null;if(i){if(!c){const{arcadeUtils:a}=await(0,f.LC)();c=a}d=c.createFunction(i),p=m&&c.getViewInfo({viewingMode:m.viewingMode,scale:m.scale,spatialReference:new o.Z(m.spatialReference)})}const v=a.fieldInfos,I=e[0]&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass||!v?null:{fields:v};return e.forEach((a=>{const e=a.attributes;let o;if(i){const e=I?{...a,layer:I}:a,n=c.createExecContext(e,p);o=c.executeFunction(d,n)}else e&&(o=e[n]);if(t&&isFinite(o)){const a=e&&parseFloat(e[l]);o=(0,u.fk)(o,t,a,r)}s.push(o)})),s}async function x(a){const{attribute:e,features:n}=a,{normalizationType:i,normalizationField:t,minValue:o,maxValue:l,fieldType:r}=e,s=await I({field:e.field,valueExpression:e.valueExpression,normalizationType:i,normalizationField:t,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),f=(0,u.S5)({normalizationType:i,normalizationField:t,minValue:o,maxValue:l}),m={value:.5,fieldType:r},c="esriFieldTypeString"===r?(0,u.H0)({values:s,supportsNullCount:f,percentileParams:m}):(0,u.i5)({values:s,minValue:o,maxValue:l,useSampleStdDev:!i,supportsNullCount:f,percentileParams:m});return(0,u.F_)(c,"esriFieldTypeDate"===r)}async function z(a){const{attribute:e,features:n}=a,i=await I({field:e.field,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),t=(0,u.eT)(i);return(0,u.Qm)(t,e.domain,e.returnAllCodedValues)}async function y(a){const{attribute:e,features:n}=a,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r}=e,s=await I({field:i,valueExpression:e.valueExpression,normalizationType:t,normalizationField:o,normalizationTotal:l,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),f=(0,u.G2)(s,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return(0,u.DL)(f,r)}async function T(a){const{attribute:e,features:n}=a,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r}=e,s=await I({field:i,valueExpression:e.valueExpression,normalizationType:t,normalizationField:o,normalizationTotal:l,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n);return(0,u.oF)(s,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function w(a){const{attribute:e,features:n}=a,{field:i,radius:t,fieldOffset:o,transform:l,spatialReference:r,size:s}=e,u=p(n,l,r,s),{count:f,min:m,max:c,mean:d,stdDev:I}=v(u,t,o,i,s[0],s[1]);return{count:f,min:m,max:c,avg:d,stddev:I}}}}]);
//# sourceMappingURL=4195.11d9edf9.js.map