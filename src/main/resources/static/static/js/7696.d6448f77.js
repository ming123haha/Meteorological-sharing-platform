"use strict";(self["webpackChunkeco_friendly"]=self["webpackChunkeco_friendly"]||[]).push([[7696],{72558:function(e,t,r){r.d(t,{Or:function(){return l},k3:function(){return u},s5:function(){return c},vX:function(){return h}});Number.POSITIVE_INFINITY;const s=Math.PI,i=128/s,n=256/360,a=1/Math.LN2;function o(e,t){return(e%=t)>=0?e:e+t}function l(e){return o(e*i,256)}function c(e){return o(e*n,256)}function u(e){return Math.log(e)*a}function h(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}},17962:function(e,t,r){var s,i;function n(e){switch(e){case"left":return s.Left;case"right":return s.Right;case"center":return s.Center}}function a(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[s.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[s.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[s.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[s.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[s.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[s.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[s.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[s.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[s.Left,i.Top];default:return console.debug(`Found invalid placement type ${e}`),[s.Center,i.Center]}}function l(e){switch(e){case s.Right:return-1;case s.Center:return 0;case s.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function c(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function u(e){switch(e){case"left":return s.Left;case"right":return s.Right;case"center":return s.Center}}function h(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}r.d(t,{Hd:function(){return u},M7:function(){return s},NS:function(){return h},TR:function(){return i},b7:function(){return a},g:function(){return l},kH:function(){return n},qv:function(){return o},tf:function(){return c}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(s||(s={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},62055:function(e,t,r){r.d(t,{CA:function(){return E},Gq:function(){return U},Xp:function(){return M},a:function(){return k},dk:function(){return P},hF:function(){return z},jj:function(){return C},jy:function(){return I},m2:function(){return x},mE:function(){return B},qr:function(){return D}});r(21703);var s=r(22130),i=r(17962),n=r(34150);function a(e,t,r){const s=n.X.SIZE_FIELD_STOPS|n.X.SIZE_MINMAX_VALUE|n.X.SIZE_SCALE_STOPS|n.X.SIZE_UNIT_VALUE,i=(t&(n.mf.FIELD_TARGETS_OUTLINE|n.mf.MINMAX_TARGETS_OUTLINE|n.mf.SCALE_TARGETS_OUTLINE|n.mf.UNIT_TARGETS_OUTLINE))>>>4;return e===n.LW.LINE&&r.isOutline||e===n.LW.FILL&&I(r.symbologyType)?s&i:s&~i}const o=0,l=8,c=7,u=8,h=11,d=11,v=12,f=13,y=14,m=15,p=16,g=17,S=18,b=19,_=20,L=21,T=26,V=Object.keys(n.mD).filter((e=>"number"==typeof n.mD[e])).reduce(((e,t)=>({...e,[t]:n.mD[t]})),{});function w(e){return e===n.mD.SIMPLE||e===n.mD.OUTLINE_FILL_SIMPLE}function I(e){return e===n.mD.OUTLINE_FILL||e===n.mD.OUTLINE_FILL_SIMPLE}function M(e){return w(e.symbologyType)}function E(e){return I(e.symbologyType)}function C(e,t){switch(e){case n.LW.FILL:return P.from(t);case n.LW.LINE:return k.from(t);case n.LW.MARKER:return B.from(t);case n.LW.TEXT:return D.from(t);case n.LW.LABEL:return U.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}function z(e){switch(x.load(e).geometryType){case n.LW.MARKER:return new B(e);case n.LW.FILL:return new P(e);case n.LW.LINE:return new k(e);case n.LW.TEXT:return new D(e);case n.LW.LABEL:return new U(e)}}class x{constructor(e){this._data=0,this._data=e}static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(u,h)}set geometryType(e){this.setBits(e,u,h)}get mapAligned(){return!!this.bit(_)}set mapAligned(e){this.setBit(_,e)}get sdf(){return!!this.bit(d)}set sdf(e){this.setBit(d,e)}get pattern(){return!!this.bit(v)}set pattern(e){this.setBit(v,e)}get textureBinding(){return this.bits(o,l)}set textureBinding(e){this.setBits(e,o,l)}get symbologyType(){return this.bits(L,T)}set symbologyType(e){this.setBits(e,L,T)}get geometryTypeString(){switch(this.geometryType){case n.LW.FILL:return"fill";case n.LW.MARKER:return"marker";case n.LW.LINE:return"line";case n.LW.TEXT:return"text";case n.LW.LABEL:return"label";default:throw new s.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const r=1<<e;t?this._data|=r:this._data&=~r}bit(e){return(this._data&1<<e)>>e}setBits(e,t,r){for(let s=t,i=0;s<r;s++,i++)this.setBit(s,0!=(e&1<<i))}bits(e,t){let r=0;for(let s=e,i=0;s<t;s++,i++)r|=this.bit(s)<<i;return r}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:n.mD[this.symbologyType],options:V,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(c&this.textureBinding)}}x.shared=new x(0);const R=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(p)}set vvSizeMinMaxValue(e){this.setBit(p,e)}get vvSizeScaleStops(){return 0!==this.bit(g)}set vvSizeScaleStops(e){this.setBit(g,e)}get vvSizeFieldStops(){return 0!==this.bit(S)}set vvSizeFieldStops(e){this.setBit(S,e)}get vvSizeUnitValue(){return 0!==this.bit(b)}set vvSizeUnitValue(e){this.setBit(b,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const r=a(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(r&n.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(r&n.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(r&n.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(r&n.X.SIZE_SCALE_STOPS)}},O=e=>class extends e{get vvRotation(){return 0!==this.bit(m)}set vvRotation(e){this.setBit(m,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&n.X.ROTATION)}},F=e=>class extends e{get vvColor(){return 0!==this.bit(f)}set vvColor(e){this.setBit(f,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&n.X.COLOR)}},A=e=>class extends e{get vvOpacity(){return 0!==this.bit(y)}set vvOpacity(e){this.setBit(y,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&n.X.OPACITY)}};class P extends(F(A(R(x)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:r}=e,s=this.load(0);return s.geometryType=n.LW.FILL,s.symbologyType=t,t!==n.mD.DOT_DENSITY&&s.setVV(r,e),s.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}P.shared=new P(0);class B extends(F(A(O(R(x))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:r}=e,s=this.load(0);return s.geometryType=n.LW.MARKER,s.symbologyType=t,t!==n.mD.HEATMAP&&s.setVV(r,e),s.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0);class k extends(F(A(R(x)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.LW.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}k.shared=new k(0);class D extends(F(A(O(R(x))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.LW.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}D.shared=new D(0);class U extends(R(x)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=n.LW.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,i.NS)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0)},80587:function(e,t,r){r.d(t,{Z:function(){return l}});var s=r(61445),i=r(30374),n=r(58006),a=(r(15055),r(81653),r(94315),r(77623));let o=class extends i.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null}};(0,s._)([(0,n.Cb)({readOnly:!0})],o.prototype,"supportsTileUpdates",null),(0,s._)([(0,n.Cb)({constructOnly:!0})],o.prototype,"remoteClient",void 0),(0,s._)([(0,n.Cb)({constructOnly:!0})],o.prototype,"service",void 0),(0,s._)([(0,n.Cb)()],o.prototype,"spatialReference",null),(0,s._)([(0,n.Cb)({constructOnly:!0})],o.prototype,"tileInfo",void 0),(0,s._)([(0,n.Cb)({constructOnly:!0})],o.prototype,"tileStore",void 0),o=(0,s._)([(0,a.j)("esri.views.2d.layers.features.processors.BaseProcessor")],o);const l=o},3857:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var s=r(61445),i=r(34658),n=(r(22130),r(81653),r(93622)),a=r(8693),o=r(92454),l=(r(94315),r(15055),r(10771),r(77623)),c=r(67154),u=r(87429),h=r(605),d=r(6898),v=r(63865),f=r(48273),y=r(83210),m=r(1626),p=r(80587);class g{constructor(e){this._remoteClient=e,this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null}destroy(){}async fetchResource(e,t){const r=this._resourceMap,s=r.get(e);if(s)return s;let i=this._inFlightResourceMap.get(e);if(i)return i;try{i=this._remoteClient.invoke("tileRenderer.fetchResource",{url:e},{...t}),this._inFlightResourceMap.set(e,i),i.then((t=>(this._inFlightResourceMap.delete(e),r.set(e,t),t)))}catch(n){return(0,o.D_)(n)?null:{width:0,height:0}}return i}getResource(e){return this._resourceMap.get(e)??null}}function S(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}function b(e){const t=e.message,r={message:{data:{},tileKey:t.tileKey,tileKeyOrigin:t.tileKeyOrigin,version:t.version},transferList:new Array};for(const s in t.data){const e=t.data[s];if(r.message.data[s]=null,(0,a.pC)(e)){const t=e.stride,i=e.indices.slice(0),n=e.vertices.slice(0),o=e.records.slice(0),l={stride:t,indices:i,vertices:n,records:o,metrics:(0,a.yw)(e.metrics,(e=>e.slice(0)))};r.transferList.push(i,n,o),r.message.data[s]=l}}return r}n.Z.getLogger("esri.views.2d.layers.features.processors.SymbolProcessor");let _=class extends p.Z{constructor(){super(...arguments),this.type="symbol",this._matchers={feature:null,aggregate:null},this._bufferData=new Map,this._bufferIds=new Map}initialize(){this.handles.add([this.tileStore.on("update",this.onTileUpdate.bind(this))]),this._resourceManagerProxy=new g(this.remoteClient)}destroy(){this._resourceManagerProxy.destroy()}get supportsTileUpdates(){return!0}forEachBufferId(e){this._bufferIds.forEach((t=>{t.forEach(e)}))}async update(e,t){const r=t.schema.processors[0];if("symbol"!==r.type)return;const s=(0,c.Hg)(this._schema,r);(0,c.uD)(s,"mesh")&&(e.mesh=!0,e.why.mesh.push("Symbology changed"),this._schema=r,this._factory=this._createFactory(r),this._factory.update(r,this.tileStore.tileScheme.tileInfo))}onTileMessage(e,t,r,s){return(0,o.k_)(s),this._onTileData(e,t,r,s)}onTileClear(e){const t={clear:!0};return this._bufferData.delete(e.key.id),this._bufferIds.delete(e.key.id),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t})}onTileError(e,t,r){const s=r.signal,i={tileKey:e.id,error:t};return this.remoteClient.invoke("tileRenderer.onTileError",i,{signal:s})}onTileUpdate(e){for(const t of e.removed)this._bufferData.has(t.key.id)&&this._bufferData.delete(t.key.id),this._bufferIds.has(t.key.id)&&this._bufferIds.delete(t.key.id);for(const t of e.added)this._bufferData.forEach((e=>{for(const r of e)r.message.tileKey===t.id&&this._updateTileMesh("append",t,b(r),[],!1,!1,null)}))}_addBufferData(e,t){this._bufferData.has(e)||this._bufferData.set(e,[]),this._bufferData.get(e).push(b(t))}_createFactory(e){const{geometryType:t,objectIdField:r,fields:s}=this.service,i=(e,t)=>this.remoteClient.invoke("tileRenderer.getMaterialItems",e,t),n={geometryType:t,fields:s,spatialReference:u.Z.fromJSON(this.spatialReference)},o=new f.Wr(i,this.tileStore.tileScheme.tileInfo),{matcher:l,aggregateMatcher:c}=e.mesh;return this._store=o,this._matchers.feature=(0,y.fL)(l,o,n,this._resourceManagerProxy),this._matchers.aggregate=(0,a.yw)(c,(e=>(0,y.fL)(e,o,n,this._resourceManagerProxy))),new v.j(t,r,o)}async _onTileData(e,t,r,s){(0,o.k_)(s);const{type:i,addOrUpdate:n,remove:l,clear:c,end:u}=t,h=!!this._schema.mesh.sortKey;if(!n){const t={type:i,addOrUpdate:null,remove:l,clear:c,end:u,sort:h};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},s)}const d=this._processFeatures(e,n,r,s,t.status.version);try{const r=await d;if((0,a.Wi)(r)){const t={type:i,addOrUpdate:null,remove:l,clear:c,end:u,sort:h};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},s)}const n=[];for(const t of r){let r=!1;const s=t.message.bufferIds,i=e.key.id,o=t.message.tileKey;if(i!==o&&(0,a.pC)(s)){if(!this.tileStore.get(o)){this._addBufferData(i,t),n.push(t);continue}let e=this._bufferIds.get(o);e||(e=new Set,this._bufferIds.set(o,e));const a=Array.from(s);for(const t of a){if(e.has(t)){r=!0;break}e.add(t)}}r||(this._addBufferData(i,t),n.push(t))}await Promise.all(n.map((r=>{const n=e.key.id===r.message.tileKey,a=n?t.remove:[],o=n&&t.end;return this._updateTileMesh(i,e,r,a,o,t.clear,s.signal)})))}catch(v){this._handleError(e,v,s)}}async _updateTileMesh(e,t,r,s,i,n,l){const c=e,u=r.message.tileKey,h=!!this._schema.mesh.sortKey;u!==t.key.id&&(i=!1);const d=(0,a.yw)(r,(e=>e.message)),v=(0,a.yw)(r,(e=>e.transferList))||[],f={type:c,addOrUpdate:d,remove:s,clear:n,end:i,sort:h},y={transferList:(0,a.Wg)(v)||[],signal:l};return(0,o.k_)(y),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:u,data:f},y)}async _processFeatures(e,t,r,s,i){if((0,a.Wi)(t)||!t.hasFeatures)return null;const n={transform:e.transform,hasZ:!1,hasM:!1},l=this._factory,c={viewingMode:"",scale:e.scale},u=await this._matchers.feature,h=await this._matchers.aggregate;(0,o.k_)(s);const d=this._getLabelInfos(e,t);return await l.analyze(t.getCursor(),this._resourceManagerProxy,u,h,n,c),(0,o.k_)(s),this._writeFeatureSet(e,t,n,d,l,r,i)}_writeFeatureSet(e,t,r,s,i,n,o){const l=t.getSize(),c=new d._(e.key.id,{features:l,records:l,metrics:0},this._schema.mesh.matcher.symbologyType,n,!0,o),u={viewingMode:"",scale:e.scale},h=t.getCursor();for(;h.next();)try{const t=h.getDisplayId(),n=(0,a.pC)(s)?s.get(t):null;i.writeCursor(c,h,r,u,e.level,n,this._resourceManagerProxy)}catch(f){}const v=e.tileInfoView.tileInfo.isWrappable;return c.serialize(v)}_handleError(e,t,r){if(!(0,o.D_)(t)){const s={tileKey:e.id,error:t.message};return this.remoteClient.invoke("tileRenderer.onTileError",s,{signal:r.signal})}}_getLabelingSchemaForScale(e){const t=this._schema.mesh.labels;if((0,a.Wi)(t))return null;if("subtype"===t.type){const r={type:"subtype",classes:{}};let s=!1;for(const i in t.classes){const n=t.classes[i].filter((t=>S(t,e.scale)));s=s||!!n.length,r.classes[i]=n}return s?r:null}const r=t.classes.filter((t=>S(t,e.scale)));return r.length?{type:"simple",classes:r}:null}_getLabels(e,t){if("subtype"===t.type){const r=this.service.subtypeField,s=(0,a.s3)(r,"Expected to find subtype Field"),i=e.readAttribute(s);return null==i?[]:t.classes[i]??[]}return t.classes}_getLabelInfos(e,t){const r=this._getLabelingSchemaForScale(e);if((0,a.Wi)(r))return null;const s=new Map,n=t.getCursor();for(;n.next();){const e=n.getDisplayId(),t=[],a=(0,h.nE)(e),o=a&&1!==n.readAttribute("cluster_count")?"aggregate":"feature",l=this._getLabels(n,r);for(const r of l){if(r.target!==o)continue;const s=n.getStorage(),l=a&&"feature"===o?s.getComputedStringAtIndex(n.readAttribute("referenceId"),r.fieldIndex):s.getComputedStringAtIndex(e,r.fieldIndex);if(!l)continue;const c=(0,i.E)(l.toString()),u=c[0],h=c[1];this._store.getMosaicItem(r.symbol,(0,m._)(u)).then((e=>{t[r.index]={glyphs:e.glyphMosaicItems,rtl:h,index:r.index}}))}s.set(e,t)}return s}};_=(0,s._)([(0,l.j)("esri.views.2d.layers.features.processors.SymbolProcessor")],_);const L=_},76329:function(e,t,r){r.d(t,{xS:function(){return L},B3:function(){return _}});var s=r(32427),i=r(34150),n=r(62055);const a={marker:i.LW.MARKER,fill:i.LW.FILL,line:i.LW.LINE,text:i.LW.TEXT};class o{constructor(e,t,r,s){const o={minScale:t?.minScale,maxScale:t?.maxScale},c=l(o);this.layers=e,this.data=t,this.hash=this._createHash()+c,this.rendererKey=r;const u={isOutline:!1,placement:null,symbologyType:i.mD.DEFAULT,vvFlags:r};for(const i of e){const e=a[i.type];u.isOutline="line"===i.type&&i.isOutline,i.materialKey=(0,n.jj)(e,u),i.maxVVSize=s,i.scaleInfo=o,i.templateHash+=c}}get type(){return"expanded-cim"}_createHash(){let e="";for(const t of this.layers)e+=t.templateHash;return e}}function l(e){return e.minScale||e.maxScale?e.minScale+"-"+e.maxScale:""}var c=r(98203),u=r(22130),h=r(8693),d=r(92454),v=r(99659),f=r(53262),y=r(36067),m=r(28995);async function p(e,t,r){if(!e.name)throw new u.Z("style-symbol-reference-name-missing","Missing name in style symbol reference");if(e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName)return g(e,r);try{return S(await(0,m.n2)(e,t,r),e.name,t,r)}catch(a){return(0,d.k_)(a),null}}async function g(e,t){const r=m.wm.replace(/\{SymbolName\}/gi,e.name);try{const e=await(0,m.EJ)(r,t);return(0,m.KV)(e.data)}catch(s){return(0,d.k_)(s),null}}async function S(e,t,r,s){const i=e.data,n={portal:r&&(0,h.pC)(r.portal)?r.portal:f.Z.getDefault(),url:(0,v.mN)(e.baseUrl),origin:"portal-item"},a=i.items.find((e=>e.name===t));if(!a)throw new u.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let o=(0,y.f)((0,m.v9)(a,"cimRef"),n);(0,c.XO)()&&(o=(0,c.pJ)(o));try{const e=await(0,m.EJ)(o,s);return(0,m.KV)(e.data)}catch(l){return(0,d.k_)(l),null}}const b=async(e,t,r)=>new o(await(0,s.c)(e.data,t,r),e.data,e.rendererKey,e.maxVVSize),_=async(e,t,r,s)=>{if(!e)return null;if("cim"===e.type)return b(e,t,r);if("web-style"===e.type){const i={type:"cim",data:await p(e,null,s),rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return b(i,t,r)}return e};function L(e){if(!e)return null;const{type:t,cim:r,url:s,materialHash:i}=e,n={cim:r,type:t,mosaicHash:i,url:s,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null};switch(t){case"marker":n.size=e.size,n.path=e.path,n.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":n.dashTemplate=e.dashTemplate;break;case"text":n.text=e.text,n.fontName=e.fontName}return n}}}]);
//# sourceMappingURL=7696.d6448f77.js.map