"use strict";(self["webpackChunkeco_friendly"]=self["webpackChunkeco_friendly"]||[]).push([[468],{17962:function(e,t,r){var n,a;function i(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":return n.Center}}function s(e){switch(e){case"top":return a.Top;case"middle":return a.Center;case"baseline":return a.Baseline;case"bottom":return a.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[n.Right,a.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[n.Center,a.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[n.Left,a.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[n.Right,a.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[n.Center,a.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[n.Left,a.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[n.Right,a.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[n.Center,a.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[n.Left,a.Top];default:return console.debug(`Found invalid placement type ${e}`),[n.Center,a.Center]}}function c(e){switch(e){case n.Right:return-1;case n.Center:return 0;case n.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function l(e){switch(e){case a.Top:return 1;case a.Center:return 0;case a.Bottom:case a.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function u(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":return n.Center}}function v(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}r.d(t,{Hd:function(){return u},M7:function(){return n},NS:function(){return v},TR:function(){return a},b7:function(){return s},g:function(){return c},kH:function(){return i},qv:function(){return o},tf:function(){return l}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(n||(n={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(a||(a={}))},62055:function(e,t,r){r.d(t,{CA:function(){return A},Gq:function(){return D},Xp:function(){return C},a:function(){return N},dk:function(){return x},hF:function(){return R},jj:function(){return O},jy:function(){return z},m2:function(){return I},mE:function(){return U},qr:function(){return P}});r(21703);var n=r(22130),a=r(17962),i=r(34150);function s(e,t,r){const n=i.X.SIZE_FIELD_STOPS|i.X.SIZE_MINMAX_VALUE|i.X.SIZE_SCALE_STOPS|i.X.SIZE_UNIT_VALUE,a=(t&(i.mf.FIELD_TARGETS_OUTLINE|i.mf.MINMAX_TARGETS_OUTLINE|i.mf.SCALE_TARGETS_OUTLINE|i.mf.UNIT_TARGETS_OUTLINE))>>>4;return e===i.LW.LINE&&r.isOutline||e===i.LW.FILL&&z(r.symbologyType)?n&a:n&~a}const o=0,c=8,l=7,u=8,v=11,d=11,h=12,S=13,p=14,g=15,y=16,m=17,f=18,V=19,L=20,T=21,b=26,E=Object.keys(i.mD).filter((e=>"number"==typeof i.mD[e])).reduce(((e,t)=>({...e,[t]:i.mD[t]})),{});function _(e){return e===i.mD.SIMPLE||e===i.mD.OUTLINE_FILL_SIMPLE}function z(e){return e===i.mD.OUTLINE_FILL||e===i.mD.OUTLINE_FILL_SIMPLE}function C(e){return _(e.symbologyType)}function A(e){return z(e.symbologyType)}function O(e,t){switch(e){case i.LW.FILL:return x.from(t);case i.LW.LINE:return N.from(t);case i.LW.MARKER:return U.from(t);case i.LW.TEXT:return P.from(t);case i.LW.LABEL:return D.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}function R(e){switch(I.load(e).geometryType){case i.LW.MARKER:return new U(e);case i.LW.FILL:return new x(e);case i.LW.LINE:return new N(e);case i.LW.TEXT:return new P(e);case i.LW.LABEL:return new D(e)}}class I{constructor(e){this._data=0,this._data=e}static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(u,v)}set geometryType(e){this.setBits(e,u,v)}get mapAligned(){return!!this.bit(L)}set mapAligned(e){this.setBit(L,e)}get sdf(){return!!this.bit(d)}set sdf(e){this.setBit(d,e)}get pattern(){return!!this.bit(h)}set pattern(e){this.setBit(h,e)}get textureBinding(){return this.bits(o,c)}set textureBinding(e){this.setBits(e,o,c)}get symbologyType(){return this.bits(T,b)}set symbologyType(e){this.setBits(e,T,b)}get geometryTypeString(){switch(this.geometryType){case i.LW.FILL:return"fill";case i.LW.MARKER:return"marker";case i.LW.LINE:return"line";case i.LW.TEXT:return"text";case i.LW.LABEL:return"label";default:throw new n.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const r=1<<e;t?this._data|=r:this._data&=~r}bit(e){return(this._data&1<<e)>>e}setBits(e,t,r){for(let n=t,a=0;n<r;n++,a++)this.setBit(n,0!=(e&1<<a))}bits(e,t){let r=0;for(let n=e,a=0;n<t;n++,a++)r|=this.bit(n)<<a;return r}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:i.mD[this.symbologyType],options:E,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(l&this.textureBinding)}}I.shared=new I(0);const w=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(y)}set vvSizeMinMaxValue(e){this.setBit(y,e)}get vvSizeScaleStops(){return 0!==this.bit(m)}set vvSizeScaleStops(e){this.setBit(m,e)}get vvSizeFieldStops(){return 0!==this.bit(f)}set vvSizeFieldStops(e){this.setBit(f,e)}get vvSizeUnitValue(){return 0!==this.bit(V)}set vvSizeUnitValue(e){this.setBit(V,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const r=s(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(r&i.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(r&i.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(r&i.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(r&i.X.SIZE_SCALE_STOPS)}},B=e=>class extends e{get vvRotation(){return 0!==this.bit(g)}set vvRotation(e){this.setBit(g,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&i.X.ROTATION)}},F=e=>class extends e{get vvColor(){return 0!==this.bit(S)}set vvColor(e){this.setBit(S,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&i.X.COLOR)}},M=e=>class extends e{get vvOpacity(){return 0!==this.bit(p)}set vvOpacity(e){this.setBit(p,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&i.X.OPACITY)}};class x extends(F(M(w(I)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:r}=e,n=this.load(0);return n.geometryType=i.LW.FILL,n.symbologyType=t,t!==i.mD.DOT_DENSITY&&n.setVV(r,e),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}x.shared=new x(0);class U extends(F(M(B(w(I))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:r}=e,n=this.load(0);return n.geometryType=i.LW.MARKER,n.symbologyType=t,t!==i.mD.HEATMAP&&n.setVV(r,e),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}U.shared=new U(0);class N extends(F(M(w(I)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=i.LW.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}N.shared=new N(0);class P extends(F(M(B(w(I))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=i.LW.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}P.shared=new P(0);class D extends(w(I)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=i.LW.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,a.NS)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}D.shared=new D(0)},17528:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(8693);class a{static getStorageSpec(e){return null}static createOrUpdateRendererSchema(e,t){return(0,n.pC)(e)&&"default"===e.type?e:{type:"default"}}static getVariation(e){return{}}static getVariationHash(e){return 0}}a.type="default",a.programSpec=null},70468:function(e,t,r){r.d(t,{t4:function(){return y},a1:function(){return f},EJ:function(){return m}});var n=r(22130),a=r(34150),i=r(62055),s=r(17528),o=(r(48675),r(3462),r(37380),r(1118),r(8693)),c=r(32340),l=r(19440),u=r(17923);class v extends s.v{static getStorageSpec({attributes:e}){return{visualVariables:!1,attributes:e??null}}static _createRendererSchema(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}static createOrUpdateRendererSchema(e,t){const{attributes:r,dotValue:n,referenceScale:a,dotSize:i,dotBlendingEnabled:s,seed:u,backgroundColor:v}=t,d=(0,o.pC)(e)&&"dot-density"===e.type?e:this._createRendererSchema();d.dotValue=n,d.dotSize=i,d.dotScale=a,d.dotBlending=s,d.seed=u;const{colors:h,activeDots:S,backgroundColor:p}=d;for(let o=0;o<l.$0;o++){const e=o>=r.length?null:r[o].color;(0,c.Vs)(h,e,4*o)}for(let o=0;o<8;o++)S[o]=o<t.attributes.length?1:0;return(0,c.Vs)(p,v),d}static getVariation(e){return{ddDotBlending:e.dotBlending}}static getVariationHash(e){return e.dotBlending?1:0}}v.type="dot-density",v.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:u.g.SHORT},{location:1,name:"a_id",count:3,type:u.g.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:u.g.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:u.g.FLOAT}]}};var d=r(30524),h=r(71290);class S extends s.v{static getStorageSpec({field:e,valueExpression:t}){return{visualVariables:!1,attributes:e||t?[{field:e,valueExpression:t}]:null}}static _createRendererSchema(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}static createOrUpdateRendererSchema(e,t){const{radius:r,minDensity:n,maxDensity:a,referenceScale:i,field:s,valueExpression:c,colorStops:l}=t,u=a-n,v=s||c?1:0,S=l.map((({color:e,ratio:t})=>`${t}:${e.toString()}`)).join();let p,g=!0;return(0,o.pC)(e)&&"heatmap"===e.type?(p=e,g=S!==e.gradientHash):p=this._createRendererSchema(),p.radius=(0,d.F2)(r),p.minDensity=n,p.densityRange=u,p.referenceScale=i,p.isFieldActive=v,g&&(p.gradient=(0,h.uI)(l),p.gradientHash=S),p}}S.type="heatmap",S.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:u.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:u.g.SHORT},{location:4,name:"a_id",count:4,type:u.g.UNSIGNED_BYTE}]}};var p=r(36945);class g extends s.v{static getStorageSpec({attributes:e}){return{visualVariables:!0,attributes:e??null}}static _createRendererSchema(){return{type:"pie-chart",colors:new Float32Array(4*l.eV),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}static createOrUpdateRendererSchema(e,t){const{attributes:r,defaultColor:n,holePercentage:a,othersCategory:i,outline:s}=t,u=(0,o.pC)(e)&&"pie-chart"===e.type?e:this._createRendererSchema();for(let o=0;o<l.eV;o++){const e=o>=r.length?new p.Z([0,0,0,0]):r[o].color;(0,c.Vs)(u.colors,e,4*o)}return(0,c.Vs)(u.defaultColor,n),(0,c.Vs)(u.othersColor,i?.color),(0,c.Vs)(u.outlineColor,s?.color),u.outlineWidth=(0,d.F2)(s?.width||0),u.holePercentage=a,u.sectorThreshold=i?.threshold||0,u.numberOfFields=r.length,u}static getVariation(e){return{numberOfFields:e.numberOfFields}}static getVariationHash(e){return e.numberOfFields}}function y(e,t){if(e.type!==t)throw new n.Z("material-view-model:unexpected-renderer-schema",`expected to find renderer schema of type "${t}" but found type "${e.type}"`)}function m(e){switch(e.type){case"dot-density":return v;case"heatmap":return S;case"pie-chart":return g;default:return s.v}}function f(e){const{geometryType:t,symbologyType:r}=i.m2.load(e);switch(t){case a.LW.FILL:if(r===a.mD.DOT_DENSITY)return v;break;case a.LW.MARKER:switch(r){case a.mD.HEATMAP:return S;case a.mD.PIE_CHART:return g}}return s.v}g.type="pie-chart",g.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:u.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:u.g.SHORT},{location:2,name:"a_texCoords",count:2,type:u.g.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:u.g.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:u.g.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:u.g.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:u.g.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:u.g.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:u.g.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}}}]);
//# sourceMappingURL=468.722a35ab.js.map